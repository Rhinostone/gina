/*
 RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license  @source https://gist.github.com/1129031  Engine.IO v6.1.1
 (c) 2014-2021 Guillermo Rauch
 Released under the MIT License.
*/
var requirejs,require,define;
(function(F,P){function da(Ia,Na){return Na||''}function Ba(Ia){return'[object Function]'===X.call(Ia)}function M(Ia){return'[object Array]'===X.call(Ia)}function V(Ia,Na){if(Ia){var bb;for(bb=0;bb<Ia.length&&(!Ia[bb]||!Na(Ia[bb],bb,Ia));bb+=1);}}function ra(Ia,Na){if(Ia){var bb;for(bb=Ia.length-1;-1<bb&&(!Ia[bb]||!Na(Ia[bb],bb,Ia));--bb);}}function U(Ia,Na){return xa.call(Ia,Na)}function K(Ia,Na){return U(Ia,Na)&&Ia[Na]}function n(Ia,Na){for(var bb in Ia)if(U(Ia,bb)&&Na(Ia[bb],bb))break}function aa(Ia,
Na,bb,Ab){Na&&n(Na,function(db,cb){if(bb||!U(Ia,cb))!Ab||'object'!==typeof db||!db||M(db)||Ba(db)||db instanceof RegExp?Ia[cb]=db:(Ia[cb]||(Ia[cb]={}),aa(Ia[cb],db,bb,Ab))});return Ia}function v(Ia,Na){return function(){return Na.apply(Ia,arguments)}}function qa(Ia){throw Ia;}function Ja(Ia){if(!Ia)return Ia;var Na=F;V(Ia.split('.'),function(bb){Na=Na[bb]});return Na}function R(Ia,Na,bb,Ab){Na=Error(Na+'\nhttps://requirejs.org/docs/errors.html#'+Ia);Na.requireType=Ia;Na.requireModules=Ab;bb&&(Na.originalError=
bb);return Na}function J(){if(H&&'interactive'===H.readyState)return H;ra(document.getElementsByTagName('script'),function(Ia){if('interactive'===Ia.readyState)return H=Ia});return H}var r,q,p,H,I,x,w,C=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,E=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,N=/\.js$/,z=/^\.\//;var T=Object.prototype;var X=T.toString,xa=T.hasOwnProperty,na=!('undefined'===typeof window||'undefined'===typeof navigator||!window.document),Ea=!na&&'undefined'!==typeof importScripts,
Ha=na&&'PLAYSTATION 3'===navigator.platform?/^complete$/:/^(complete|loaded)$/,Fa='undefined'!==typeof opera&&'[object Opera]'===opera.toString(),va={},Da={},Ta=[],Va=!1;if('undefined'===typeof define){if('undefined'!==typeof requirejs){if(Ba(requirejs))return;Da=requirejs;requirejs=void 0}'undefined'===typeof require||Ba(require)||(Da=require,require=void 0);var Ua=requirejs=function(Ia,Na,bb,Ab){var db='_';if(!M(Ia)&&'string'!==typeof Ia){var cb=Ia;M(Na)?(Ia=Na,Na=bb,bb=Ab):Ia=[]}cb&&cb.context&&
(db=cb.context);(Ab=K(va,db))||(Ab=va[db]=Ua.s.newContext(db));cb&&Ab.configure(cb);return Ab.require(Ia,Na,bb)};Ua.config=function(Ia){return Ua(Ia)};Ua.nextTick='undefined'!==typeof P?function(Ia){P(Ia,4)}:function(Ia){Ia()};require||=Ua;Ua.version='2.3.6';Ua.jsExtRegExp=/^\/|:|\?|\.js$/;Ua.isBrowser=na;T=Ua.s={contexts:va,newContext:function(Ia){function Na(u,fa,ta){var ka;fa=fa&&fa.split('/');var ia=za.map,Ca=ia&&ia['*'];if(u){u=u.split('/');var ya=u.length-1;za.nodeIdCompat&&N.test(u[ya])&&(u[ya]=
u[ya].replace(N,''));'.'===u[0].charAt(0)&&fa&&(ya=fa.slice(0,fa.length-1),u=ya.concat(u));ya=u;for(ka=0;ka<ya.length;ka++){var $a=ya[ka];'.'===$a?(ya.splice(ka,1),--ka):'..'===$a&&0!==ka&&(1!==ka||'..'!==ya[2])&&'..'!==ya[ka-1]&&0<ka&&(ya.splice(ka-1,2),ka-=2)}u=u.join('/')}if(ta&&ia&&(fa||Ca)){ya=u.split('/');ka=ya.length;a:for(;0<ka;--ka){var Wa=ya.slice(0,ka).join('/');if(fa)for($a=fa.length;0<$a;--$a)if(ta=K(ia,fa.slice(0,$a).join('/')))if(ta=K(ta,Wa)){var rb=ta;var Bb=ka;break a}if(!Mb&&Ca&&
K(Ca,Wa)){var Mb=K(Ca,Wa);var ib=ka}}!rb&&Mb&&(rb=Mb,Bb=ib);rb&&(ya.splice(0,Bb,rb),u=ya.join('/'))}return(rb=K(za.pkgs,u))?rb:u}function bb(u){na&&V(document.getElementsByTagName('script'),function(fa){if(fa.getAttribute('data-requiremodule')===u&&fa.getAttribute('data-requirecontext')===Q.contextName)return fa.parentNode.removeChild(fa),!0})}function Ab(u){var fa=K(za.paths,u);if(fa&&M(fa)&&1<fa.length)return fa.shift(),Q.require.undef(u),Q.makeRequire(null,{skipMap:!0})([u]),!0}function db(u){var fa=
u?u.indexOf('!'):-1;if(-1<fa){var ta=u.substring(0,fa);u=u.substring(fa+1,u.length)}return[ta,u]}function cb(u,fa,ta,ka){var ia=null,Ca=fa?fa.name:null,ya=u,$a=!0,Wa='';u||($a=!1,u='_@r'+(B+=1));u=db(u);ia=u[0];u=u[1];if(ia){ia=Na(ia,Ca,ka);var rb=K(m,ia)}if(u)if(ia)Wa=ta?u:rb&&rb.normalize?rb.normalize(u,function(Mb){return Na(Mb,Ca,ka)}):-1===u.indexOf('!')?Na(u,Ca,ka):u;else{Wa=Na(u,Ca,ka);u=db(Wa);ia=u[0];Wa=u[1];ta=!0;var Bb=Q.nameToUrl(Wa)}ta=!ia||rb||ta?'':'_unnormalized'+(S+=1);return{prefix:ia,
name:Wa,parentMap:fa,unnormalized:!!ta,url:Bb,originalName:ya,isDefine:$a,id:(ia?ia+'!'+Wa:Wa)+ta}}function sb(u){var fa=u.id,ta=K(Oa,fa);ta||=Oa[fa]=new Q.Module(u);return ta}function Cb(u,fa,ta){var ka=u.id,ia=K(Oa,ka);if(!U(m,ka)||ia&&!ia.defineEmitComplete)if(ia=sb(u),ia.error&&'error'===fa)ta(ia.error);else ia.on(fa,ta);else'defined'===fa&&ta(m[ka])}function Jb(u,fa){var ta=u.requireModules,ka=!1;if(fa)fa(u);else if(V(ta,function(ia){if(ia=K(Oa,ia))ia.error=u,ia.events.error&&(ka=!0,ia.emit('error',
u))}),!ka)Ua.onError(u)}function yb(){Ta.length&&(V(Ta,function(u){var fa=u[0];'string'===typeof fa&&(Q.defQueueMap[fa]=!0);g.push(u)}),Ta=[])}function Gb(u){delete Oa[u];delete k[u]}function Kb(u,fa,ta){var ka=u.map.id;u.error?u.emit('error',u.error):(fa[ka]=!0,V(u.depMaps,function(ia,Ca){ia=ia.id;var ya=K(Oa,ia);!ya||u.depMatched[Ca]||ta[ia]||(K(fa,ia)?(u.defineDep(Ca,m[ia]),u.check()):Kb(ya,fa,ta))}),ta[ka]=!0)}function Ra(){var u,fa,ta=(u=1E3*za.waitSeconds)&&Q.startTime+u<(new Date).getTime(),
ka=[],ia=[],Ca=!1,ya=!0;if(!W){W=!0;n(k,function($a){var Wa=$a.map,rb=Wa.id;if($a.enabled&&(Wa.isDefine||ia.push($a),!$a.error))if(!$a.inited&&ta)Ab(rb)?Ca=fa=!0:(ka.push(rb),bb(rb));else if(!$a.inited&&$a.fetched&&Wa.isDefine&&(Ca=!0,!Wa.prefix))return ya=!1});if(ta&&ka.length)return u=R('timeout','Load timeout for modules: '+ka,null,ka),u.contextName=Q.contextName,Jb(u);ya&&V(ia,function($a){Kb($a,{},{})});ta&&!fa||!Ca||!na&&!Ea||oa||(oa=P(function(){oa=0;Ra()},50));W=!1}}function la(u){U(m,u[0])||
sb(cb(u[0],null,!0)).init(u[1],u[2])}function wa(u){u=u.currentTarget||u.srcElement;var fa=Q.onScriptLoad;u.detachEvent&&!Fa?u.detachEvent('onreadystatechange',fa):u.removeEventListener('load',fa,!1);fa=Q.onScriptError;u.detachEvent&&!Fa||u.removeEventListener('error',fa,!1);return{node:u,id:u&&u.getAttribute('data-requiremodule')}}function La(){for(yb();g.length;){var u=g.shift();if(null===u[0])return Jb(R('mismatch','Mismatched anonymous define() module: '+u[u.length-1]));la(u)}Q.defQueueMap={}}
var W,oa,za={waitSeconds:7,baseUrl:'./',paths:{},bundles:{},pkgs:{},shim:{},config:{}},Oa={},k={},b={},g=[],m={},A={},y={},B=1,S=1;var O={require:function(u){return u.require?u.require:u.require=Q.makeRequire(u.map)},exports:function(u){u.usingExports=!0;if(u.map.isDefine)return u.exports?m[u.map.id]=u.exports:u.exports=m[u.map.id]={}},module:function(u){return u.module?u.module:u.module={id:u.map.id,uri:u.map.url,config:function(){return K(za.config,u.map.id)||{}},exports:u.exports||(u.exports={})}}};
var ba=function(u){this.events=K(b,u.id)||{};this.map=u;this.shim=K(za.shim,u.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};ba.prototype={init:function(u,fa,ta,ka){ka=ka||{};if(!this.inited){this.factory=fa;if(ta)this.on('error',ta);else this.events.error&&(ta=v(this,function(ia){this.emit('error',ia)}));this.depMaps=u&&u.slice(0);this.errback=ta;this.inited=!0;this.ignore=ka.ignore;ka.enabled||this.enabled?this.enable():this.check()}},defineDep:function(u,
fa){this.depMatched[u]||(this.depMatched[u]=!0,--this.depCount,this.depExports[u]=fa)},fetch:function(){if(!this.fetched){this.fetched=!0;Q.startTime=(new Date).getTime();var u=this.map;if(this.shim)Q.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],v(this,function(){return u.prefix?this.callPlugin():this.load()}));else return u.prefix?this.callPlugin():this.load()}},load:function(){var u=this.map.url;A[u]||(A[u]=!0,Q.load(this.map.id,u))},check:function(){if(this.enabled&&!this.enabling){var u=
this.map.id;var fa=this.depExports;var ta=this.exports,ka=this.factory;if(!this.inited)U(Q.defQueueMap,u)||this.fetch();else if(this.error)this.emit('error',this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(Ba(ka)){if(this.events.error&&this.map.isDefine||Ua.onError!==qa)try{ta=Q.execCb(u,ka,fa,ta)}catch(ya){var ia=ya}else ta=Q.execCb(u,ka,fa,ta);this.map.isDefine&&void 0===ta&&((fa=this.module)?ta=fa.exports:this.usingExports&&(ta=this.exports));if(ia)return ia.requireMap=
this.map,ia.requireModules=this.map.isDefine?[this.map.id]:null,ia.requireType=this.map.isDefine?'define':'require',Jb(this.error=ia)}else ta=ka;this.exports=ta;if(this.map.isDefine&&!this.ignore&&(m[u]=ta,Ua.onResourceLoad)){var Ca=[];V(this.depMaps,function(ya){Ca.push(ya.normalizedMap||ya)});Ua.onResourceLoad(Q,this.map,Ca)}Gb(u);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit('defined',this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var u=
this.map,fa=u.id,ta=cb(u.prefix);this.depMaps.push(ta);Cb(ta,'defined',v(this,function(ka){var ia=K(y,this.map.id),Ca=this.map.name,ya=this.map.parentMap?this.map.parentMap.name:null,$a=Q.makeRequire(u.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){ka.normalize&&(Ca=ka.normalize(Ca,function(Bb){return Na(Bb,ya,!0)})||'');var Wa=cb(u.prefix+'!'+Ca,this.map.parentMap,!0);Cb(Wa,'defined',v(this,function(Bb){this.map.normalizedMap=Wa;this.init([],function(){return Bb},null,{enabled:!0,
ignore:!0})}));if(ka=K(Oa,Wa.id)){this.depMaps.push(Wa);if(this.events.error)ka.on('error',v(this,function(Bb){this.emit('error',Bb)}));ka.enable()}}else if(ia)this.map.url=Q.nameToUrl(ia),this.load();else{var rb=v(this,function(Bb){this.init([],function(){return Bb},null,{enabled:!0})});rb.error=v(this,function(Bb){this.inited=!0;this.error=Bb;Bb.requireModules=[fa];n(Oa,function(Mb){0===Mb.map.id.indexOf(fa+'_unnormalized')&&Gb(Mb.map.id)});Jb(Bb)});rb.fromText=v(this,function(Bb,Mb){var ib=u.name,
Db=cb(ib),Wb=Va;Mb&&(Bb=Mb);Wb&&(Va=!1);sb(Db);U(za.config,fa)&&(za.config[ib]=za.config[fa]);try{Ua.exec(Bb)}catch(Za){return Jb(R('fromtexteval','fromText eval for '+fa+' failed: '+Za,Za,[fa]))}Wb&&(Va=!0);this.depMaps.push(Db);Q.completeLoad(ib);$a([ib],rb)});ka.load(u.name,$a,rb,za)}}));Q.enable(ta,this);this.pluginMaps[ta.id]=ta},enable:function(){k[this.map.id]=this;this.enabling=this.enabled=!0;V(this.depMaps,v(this,function(u,fa){var ta;if('string'===typeof u){u=cb(u,this.map.isDefine?this.map:
this.map.parentMap,!1,!this.skipMap);this.depMaps[fa]=u;if(ta=K(O,u.id)){this.depExports[fa]=ta(this);return}this.depCount+=1;Cb(u,'defined',v(this,function(ia){this.undefed||(this.defineDep(fa,ia),this.check())}));this.errback?Cb(u,'error',v(this,this.errback)):this.events.error&&Cb(u,'error',v(this,function(ia){this.emit('error',ia)}))}ta=u.id;var ka=Oa[ta];U(O,ta)||!ka||ka.enabled||Q.enable(u,this)}));n(this.pluginMaps,v(this,function(u){var fa=K(Oa,u.id);fa&&!fa.enabled&&Q.enable(u,this)}));this.enabling=
!1;this.check()},on:function(u,fa){var ta=this.events[u];ta||=this.events[u]=[];ta.push(fa)},emit:function(u,fa){V(this.events[u],function(ta){ta(fa)});'error'===u&&delete this.events[u]}};var Q={config:za,contextName:Ia,registry:Oa,defined:m,urlFetched:A,defQueue:g,defQueueMap:{},Module:ba,makeModuleMap:cb,nextTick:Ua.nextTick,onError:Jb,configure:function(u){u.baseUrl&&'/'!==u.baseUrl.charAt(u.baseUrl.length-1)&&(u.baseUrl+='/');if('string'===typeof u.urlArgs){var fa=u.urlArgs;u.urlArgs=function(ia,
Ca){return(-1===Ca.indexOf('?')?'?':'&')+fa}}var ta=za.shim,ka={paths:!0,bundles:!0,config:!0,map:!0};n(u,function(ia,Ca){ka[Ca]?(za[Ca]||(za[Ca]={}),aa(za[Ca],ia,!0,!0)):za[Ca]=ia});u.bundles&&n(u.bundles,function(ia,Ca){V(ia,function(ya){ya!==Ca&&(y[ya]=Ca)})});u.shim&&(n(u.shim,function(ia,Ca){M(ia)&&(ia={deps:ia});!ia.exports&&!ia.init||ia.exportsFn||(ia.exportsFn=Q.makeShimExports(ia));ta[Ca]=ia}),za.shim=ta);u.packages&&V(u.packages,function(ia){ia='string'===typeof ia?{name:ia}:ia;var Ca=ia.name;
ia.location&&(za.paths[Ca]=ia.location);za.pkgs[Ca]=ia.name+'/'+(ia.main||'main').replace(z,'').replace(N,'')});n(Oa,function(ia,Ca){ia.inited||ia.map.unnormalized||(ia.map=cb(Ca,null,!0))});(u.deps||u.callback)&&Q.require(u.deps||[],u.callback)},makeShimExports:function(u){return function(){var fa;u.init&&(fa=u.init.apply(F,arguments));return fa||u.exports&&Ja(u.exports)}},makeRequire:function(u,fa){function ta(ka,ia,Ca){var ya;fa.enableBuildCallback&&ia&&Ba(ia)&&(ia.__requireJsBuild=!0);if('string'===
typeof ka){if(Ba(ia))return Jb(R('requireargs','Invalid require call'),Ca);if(u&&U(O,ka))return O[ka](Oa[u.id]);if(Ua.get)return Ua.get(Q,ka,u,ta);var $a=cb(ka,u,!1,!0);$a=$a.id;return U(m,$a)?m[$a]:Jb(R('notloaded','Module name "'+$a+'" has not been loaded yet for context: '+Ia+(u?'':'. Use require([])')))}La();Q.nextTick(function(){La();ya=sb(cb(null,u));ya.skipMap=fa.skipMap;ya.init(ka,ia,Ca,{enabled:!0});Ra()});return ta}fa=fa||{};aa(ta,{isBrowser:na,toUrl:function(ka){var ia=ka.lastIndexOf('.'),
Ca=ka.split('/')[0];if(-1!==ia&&('.'!==Ca&&'..'!==Ca||1<ia)){var ya=ka.substring(ia,ka.length);ka=ka.substring(0,ia)}return Q.nameToUrl(Na(ka,u&&u.id,!0),ya,!0)},defined:function(ka){return U(m,cb(ka,u,!1,!0).id)},specified:function(ka){ka=cb(ka,u,!1,!0).id;return U(m,ka)||U(Oa,ka)}});u||(ta.undef=function(ka){yb();var ia=cb(ka,u,!0),Ca=K(Oa,ka);Ca.undefed=!0;bb(ka);delete m[ka];delete A[ia.url];delete b[ka];ra(g,function(ya,$a){ya[0]===ka&&g.splice($a,1)});delete Q.defQueueMap[ka];Ca&&(Ca.events.defined&&
(b[ka]=Ca.events),Gb(ka))});return ta},enable:function(u){K(Oa,u.id)&&sb(u).enable()},completeLoad:function(u){var fa=K(za.shim,u)||{},ta=fa.exports;for(yb();g.length;){var ka=g.shift();if(null===ka[0]){ka[0]=u;if(ia)break;var ia=!0}else ka[0]===u&&(ia=!0);la(ka)}Q.defQueueMap={};ka=K(Oa,u);if(!ia&&!U(m,u)&&ka&&!ka.inited)if(!za.enforceDefine||ta&&Ja(ta))la([u,fa.deps||[],fa.exportsFn]);else return Ab(u)?void 0:Jb(R('nodefine','No define call for '+u,null,[u]));Ra()},nameToUrl:function(u,fa,ta){var ka,
ia;(ka=K(za.pkgs,u))&&(u=ka);if(ka=K(y,u))return Q.nameToUrl(ka,fa,ta);if(Ua.jsExtRegExp.test(u))ka=u+(fa||'');else{ka=za.paths;var Ca=u.split('/');for(ia=Ca.length;0<ia;--ia){var ya=Ca.slice(0,ia).join('/');if(ya=K(ka,ya)){M(ya)&&(ya=ya[0]);Ca.splice(0,ia,ya);break}}ka=Ca.join('/');ka+=fa||(/^data:|^blob:|\?/.test(ka)||ta?'':'.js');ka=('/'===ka.charAt(0)||ka.match(/^[\w\+\.\-]+:/)?'':za.baseUrl)+ka}return za.urlArgs&&!/^blob:/.test(ka)?ka+za.urlArgs(u,ka):ka},load:function(u,fa){Ua.load(Q,u,fa)},
execCb:function(u,fa,ta,ka){return fa.apply(ka,ta)},onScriptLoad:function(u){if('load'===u.type||Ha.test((u.currentTarget||u.srcElement).readyState))H=null,u=wa(u),Q.completeLoad(u.id)},onScriptError:function(u){var fa=wa(u);if(!Ab(fa.id)){var ta=[];n(Oa,function(ka,ia){0!==ia.indexOf('_@r')&&V(ka.depMaps,function(Ca){if(Ca.id===fa.id)return ta.push(ia),!0})});return Jb(R('scripterror','Script error for "'+fa.id+(ta.length?'", needed by: '+ta.join(', '):'"'),u,[fa.id]))}}};Q.require=Q.makeRequire();
return Q}};Ua({});V(['toUrl','undef','defined','specified'],function(Ia){Ua[Ia]=function(){var Na=va._;return Na.require[Ia].apply(Na,arguments)}});if(na){var zb=T.head=document.getElementsByTagName('head')[0];if(r=document.getElementsByTagName('base')[0])zb=T.head=r.parentNode}Ua.onError=qa;Ua.createNode=function(Ia,Na,bb){Na=Ia.xhtml?document.createElementNS('http://www.w3.org/1999/xhtml','html:script'):document.createElement('script');Na.type=Ia.scriptType||'text/javascript';Na.charset='utf-8';
Na.async=!0;return Na};Ua.load=function(Ia,Na,bb){var Ab=Ia&&Ia.config||{};if(na){var db=Ua.createNode(Ab,Na,bb);db.setAttribute('data-requirecontext',Ia.contextName);db.setAttribute('data-requiremodule',Na);!db.attachEvent||db.attachEvent.toString&&0>db.attachEvent.toString().indexOf('[native code')||Fa?(db.addEventListener('load',Ia.onScriptLoad,!1),db.addEventListener('error',Ia.onScriptError,!1)):(Va=!0,db.attachEvent('onreadystatechange',Ia.onScriptLoad));db.src=bb;if(Ab.onNodeCreated)Ab.onNodeCreated(db,
Ab,Na,bb);I=db;r?zb.insertBefore(db,r):zb.appendChild(db);I=null;return db}if(Ea)try{P(function(){},0),importScripts(bb),Ia.completeLoad(Na)}catch(cb){Ia.onError(R('importscripts','importScripts failed for '+Na+' at '+bb,cb,[Na]))}};na&&!Da.skipDataMain&&ra(document.getElementsByTagName('script'),function(Ia){zb||(zb=Ia.parentNode);if(q=Ia.getAttribute('data-main'))return x=q,Da.baseUrl||-1!==x.indexOf('!')||(p=x.split('/'),x=p.pop(),w=p.length?p.join('/')+'/':'./',Da.baseUrl=w),x=x.replace(N,''),
Ua.jsExtRegExp.test(x)&&(x=q),Da.deps=Da.deps?Da.deps.concat(x):[x],!0});define=function(Ia,Na,bb){var Ab;'string'!==typeof Ia&&(bb=Na,Na=Ia,Ia=null);M(Na)||(bb=Na,Na=null);!Na&&Ba(bb)&&(Na=[],bb.length&&(bb.toString().replace(C,da).replace(E,function(cb,sb){Na.push(sb)}),Na=(1===bb.length?['require']:['require','exports','module']).concat(Na)));if(Va&&(Ab=I||J())){Ia||=Ab.getAttribute('data-requiremodule');var db=va[Ab.getAttribute('data-requirecontext')]}db?(db.defQueue.push([Ia,Na,bb]),db.defQueueMap[Ia]=
!0):Ta.push([Ia,Na,bb])};define.amd={jQuery:!0};Ua.exec=function(Ia){return eval(Ia)};Ua(Da)}})(this,'undefined'===typeof setTimeout?void 0:setTimeout);define('requireLib',function(){});
!function(F,P){'object'==typeof exports&&'undefined'!=typeof module?P(exports):'function'==typeof define&&define.amd?define('vendor/uuid',['exports'],P):P((F=F||self).uuid={})}(this,function(F){function P(){if(!n)throw Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');return n(aa)}function da(p,H){H=H||0;var I=Ja;return[I[p[H++]],I[p[H++]],I[p[H++]],I[p[H++]],'-',I[p[H++]],I[p[H++]],'-',I[p[H++]],I[p[H++]],'-',I[p[H++]],I[p[H++]],'-',
I[p[H++]],I[p[H++]],I[p[H++]],I[p[H++]],I[p[H++]],I[p[H++]]].join('')}function Ba(p,H,I){var x=function(w,C,E,N){N=E&&N||0;if('string'==typeof w&&(w=function(z){z=unescape(encodeURIComponent(z));for(var T=Array(z.length),X=0;X<z.length;X++)T[X]=z.charCodeAt(X);return T}(w)),'string'==typeof C&&(C=function(z){var T=[];return z.replace(/[a-fA-F0-9]{2}/g,function(X){T.push(parseInt(X,16))}),T}(C)),!Array.isArray(w))throw TypeError('value must be an array of bytes');if(!Array.isArray(C)||16!==C.length)throw TypeError('namespace must be uuid string or an Array of 16 byte values');
w=I(C.concat(w));if(w[6]=15&w[6]|H,w[8]=63&w[8]|128,E)for(C=0;16>C;++C)E[N+C]=w[C];return E||da(w)};try{x.name=p}catch(w){}return x.DNS='6ba7b810-9dad-11d1-80b4-00c04fd430c8',x.URL='6ba7b811-9dad-11d1-80b4-00c04fd430c8',x}function M(p,H){var I=(65535&p)+(65535&H);return(p>>16)+(H>>16)+(I>>16)<<16|65535&I}function V(p,H,I,x,w,C){return M((E=M(M(H,p),M(x,C)))<<(N=w)|E>>>32-N,I);var E,N}function ra(p,H,I,x,w,C,E){return V(H&I|~H&x,p,H,w,C,E)}function U(p,H,I,x,w,C,E){return V(H&x|I&~x,p,H,w,C,E)}function K(p,
H,I,x,w,C,E){return V(I^(H|~x),p,H,w,C,E)}for(var n='undefined'!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||'undefined'!=typeof msCrypto&&'function'==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),aa=new Uint8Array(16),v,qa,Ja=[],R=0;256>R;++R)Ja[R]=(R+256).toString(16).substr(1);var J=0,r=0;R=Ba('v3',48,function(p){if('string'==typeof p){var H=unescape(encodeURIComponent(p));p=Array(H.length);for(var I=0;I<H.length;I++)p[I]=H.charCodeAt(I)}return function(x){var w,
C=[],E=32*x.length;for(w=0;w<E;w+=8){var N=x[w>>5]>>>w%32&255;N=parseInt('0123456789abcdef'.charAt(N>>>4&15)+'0123456789abcdef'.charAt(15&N),16);C.push(N)}return C}(function(x,w){x[w>>5]|=128<<w%32;x[14+(w+64>>>9<<4)]=w;var C=1732584193,E=-271733879,N=-1732584194,z=271733878;for(w=0;w<x.length;w+=16){var T=C;var X=E;var xa=N;var na=z;C=ra(C,E,N,z,x[w],7,-680876936);z=ra(z,C,E,N,x[w+1],12,-389564586);N=ra(N,z,C,E,x[w+2],17,606105819);E=ra(E,N,z,C,x[w+3],22,-1044525330);C=ra(C,E,N,z,x[w+4],7,-176418897);
z=ra(z,C,E,N,x[w+5],12,1200080426);N=ra(N,z,C,E,x[w+6],17,-1473231341);E=ra(E,N,z,C,x[w+7],22,-45705983);C=ra(C,E,N,z,x[w+8],7,1770035416);z=ra(z,C,E,N,x[w+9],12,-1958414417);N=ra(N,z,C,E,x[w+10],17,-42063);E=ra(E,N,z,C,x[w+11],22,-1990404162);C=ra(C,E,N,z,x[w+12],7,1804603682);z=ra(z,C,E,N,x[w+13],12,-40341101);N=ra(N,z,C,E,x[w+14],17,-1502002290);E=ra(E,N,z,C,x[w+15],22,1236535329);C=U(C,E,N,z,x[w+1],5,-165796510);z=U(z,C,E,N,x[w+6],9,-1069501632);N=U(N,z,C,E,x[w+11],14,643717713);E=U(E,N,z,C,x[w],
20,-373897302);C=U(C,E,N,z,x[w+5],5,-701558691);z=U(z,C,E,N,x[w+10],9,38016083);N=U(N,z,C,E,x[w+15],14,-660478335);E=U(E,N,z,C,x[w+4],20,-405537848);C=U(C,E,N,z,x[w+9],5,568446438);z=U(z,C,E,N,x[w+14],9,-1019803690);N=U(N,z,C,E,x[w+3],14,-187363961);E=U(E,N,z,C,x[w+8],20,1163531501);C=U(C,E,N,z,x[w+13],5,-1444681467);z=U(z,C,E,N,x[w+2],9,-51403784);N=U(N,z,C,E,x[w+7],14,1735328473);E=U(E,N,z,C,x[w+12],20,-1926607734);C=V(E^N^z,C,E,x[w+5],4,-378558);z=V(C^E^N,z,C,x[w+8],11,-2022574463);N=V(z^C^E,N,
z,x[w+11],16,1839030562);E=V(N^z^C,E,N,x[w+14],23,-35309556);C=V(E^N^z,C,E,x[w+1],4,-1530992060);z=V(C^E^N,z,C,x[w+4],11,1272893353);N=V(z^C^E,N,z,x[w+7],16,-155497632);E=V(N^z^C,E,N,x[w+10],23,-1094730640);C=V(E^N^z,C,E,x[w+13],4,681279174);z=V(C^E^N,z,C,x[w],11,-358537222);N=V(z^C^E,N,z,x[w+3],16,-722521979);E=V(N^z^C,E,N,x[w+6],23,76029189);C=V(E^N^z,C,E,x[w+9],4,-640364487);z=V(C^E^N,z,C,x[w+12],11,-421815835);N=V(z^C^E,N,z,x[w+15],16,530742520);E=V(N^z^C,E,N,x[w+2],23,-995338651);C=K(C,E,N,z,
x[w],6,-198630844);z=K(z,C,E,N,x[w+7],10,1126891415);N=K(N,z,C,E,x[w+14],15,-1416354905);E=K(E,N,z,C,x[w+5],21,-57434055);C=K(C,E,N,z,x[w+12],6,1700485571);z=K(z,C,E,N,x[w+3],10,-1894986606);N=K(N,z,C,E,x[w+10],15,-1051523);E=K(E,N,z,C,x[w+1],21,-2054922799);C=K(C,E,N,z,x[w+8],6,1873313359);z=K(z,C,E,N,x[w+15],10,-30611744);N=K(N,z,C,E,x[w+6],15,-1560198380);E=K(E,N,z,C,x[w+13],21,1309151649);C=K(C,E,N,z,x[w+4],6,-145523070);z=K(z,C,E,N,x[w+11],10,-1120210379);N=K(N,z,C,E,x[w+2],15,718787259);E=K(E,
N,z,C,x[w+9],21,-343485551);C=M(C,T);E=M(E,X);N=M(N,xa);z=M(z,na)}return[C,E,N,z]}(function(x){var w,C=[];C[(x.length>>2)-1]=void 0;for(w=0;w<C.length;w+=1)C[w]=0;var E=8*x.length;for(w=0;w<E;w+=8)C[w>>5]|=(255&x[w/8])<<w%32;return C}(p),8*p.length))});var q=Ba('v5',80,function(p){var H=[1518500249,1859775393,2400959708,3395469782],I=[1732584193,4023233417,2562383102,271733878,3285377520];if('string'==typeof p){var x=unescape(encodeURIComponent(p));p=Array(x.length);for(var w=0;w<x.length;w++)p[w]=
x.charCodeAt(w)}p.push(128);x=Math.ceil((p.length/4+2)/16);var C=Array(x);for(w=0;w<x;w++){C[w]=Array(16);for(var E=0;16>E;E++)C[w][E]=p[64*w+4*E]<<24|p[64*w+4*E+1]<<16|p[64*w+4*E+2]<<8|p[64*w+4*E+3]}C[x-1][14]=8*(p.length-1)/Math.pow(2,32);C[x-1][14]=Math.floor(C[x-1][14]);C[x-1][15]=8*(p.length-1)&4294967295;for(w=0;w<x;w++){p=Array(80);for(E=0;16>E;E++)p[E]=C[w][E];for(E=16;80>E;E++){var N=p[E-3]^p[E-8]^p[E-14]^p[E-16];p[E]=N<<1|N>>>31}N=I[0];var z=I[1],T=I[2],X=I[3],xa=I[4];for(E=0;80>E;E++){var na=
Math.floor(E/20),Ea=N<<5|N>>>27;a:{switch(na){case 0:var Ha=z&T^~z&X;break a;case 1:Ha=z^T^X;break a;case 2:Ha=z&T^z&X^T&X;break a;case 3:Ha=z^T^X;break a}Ha=void 0}na=Ea+Ha+xa+H[na]+p[E]>>>0;xa=X;X=T;T=(z<<30|z>>>2)>>>0;z=N;N=na}I[0]=I[0]+N>>>0;I[1]=I[1]+z>>>0;I[2]=I[2]+T>>>0;I[3]=I[3]+X>>>0;I[4]=I[4]+xa>>>0}return[I[0]>>24&255,I[0]>>16&255,I[0]>>8&255,255&I[0],I[1]>>24&255,I[1]>>16&255,I[1]>>8&255,255&I[1],I[2]>>24&255,I[2]>>16&255,I[2]>>8&255,255&I[2],I[3]>>24&255,I[3]>>16&255,I[3]>>8&255,255&
I[3],I[4]>>24&255,I[4]>>16&255,I[4]>>8&255,255&I[4]]});F.v1=function(p,H,I){I=H&&I||0;var x=H||[],w=(p=p||{}).node||v,C=void 0!==p.clockseq?p.clockseq:qa;if(null==w||null==C){var E=p.random||(p.rng||P)();null==w&&(w=v=[1|E[0],E[1],E[2],E[3],E[4],E[5]]);null==C&&(C=qa=16383&(E[6]<<8|E[7]))}E=void 0!==p.msecs?p.msecs:(new Date).getTime();var N=void 0!==p.nsecs?p.nsecs:r+1,z=E-J+(N-r)/1E4;if(0>z&&void 0===p.clockseq&&(C=C+1&16383),(0>z||E>J)&&void 0===p.nsecs&&(N=0),1E4<=N)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");
J=E;r=N;qa=C;p=(1E4*(268435455&(E+=122192928E5))+N)%4294967296;x[I++]=p>>>24&255;x[I++]=p>>>16&255;x[I++]=p>>>8&255;x[I++]=255&p;p=E/4294967296*1E4&268435455;x[I++]=p>>>8&255;x[I++]=255&p;x[I++]=p>>>24&15|16;x[I++]=p>>>16&255;x[I++]=C>>>8|128;x[I++]=255&C;for(C=0;6>C;++C)x[I+C]=w[C];return H||da(x)};F.v3=R;F.v4=function(p,H,I){I=H&&I||0;'string'==typeof p&&(H='binary'===p?Array(16):null,p=null);var x=(p=p||{}).random||(p.rng||P)();if(x[6]=15&x[6]|64,x[8]=63&x[8]|128,H)for(p=0;16>p;++p)H[I+p]=x[p];
return H||da(x)};F.v5=q;Object.defineProperty(F,'__esModule',{value:!0})});
function Merge(){var F=[],P=function(M,V){'undefined'==typeof M&&(M='undefined'!=typeof V&&Array.isArray(V)?[]:{});var ra=!1;'boolean'==typeof arguments[arguments.length-1]&&(ra=arguments[arguments.length-1]);var U=1,K=arguments.length,n,aa;if('object'!==typeof M&&'function'!==typeof M)M=ra?'undefined'==typeof arguments[2]?arguments[1]:arguments[2]:'undefined'==typeof arguments[0]?arguments[1]:arguments[0];else for(;U<K;++U)if('boolean'!=typeof arguments[U]&&null!=(n=arguments[U])){if('object'!=typeof n){M=
n;break}if(Array.isArray(n)&&Array.isArray(M))M=da(n,M,ra);else for(var v in n){M||={name:null};var qa=M[v];var Ja=n[v];if(M!==Ja)if(Ja&&(Ba(Ja)||(aa=Array.isArray(Ja)))){var R=!1;if(aa){aa=!1;if(qa&&Array.isArray(qa))var J=qa||[];else if(Ba(qa)){J=qa||{};M[v]=J;continue}else J=[];F=J;J=da(Ja,J,ra);M[v]=J}else{J=qa&&Ba(qa)?qa:null;if(!J){R=!0;J={};for(var r in Ja)J[r]=Ja[r]}if(ra){for(r in Ja)'undefined'!=typeof Ja[r]?Array.isArray(Ja[r])&&Array.isArray(J[r])?J[r]=da(Ja[r],J[r],ra):J[r]=Ja[r]:Array.isArray(Ja[r])&&
Array.isArray(J[r])&&(J[r]=da(Ja[r],J[r],ra));M[v]=J}else{for(r in Ja)'undefined'==typeof J[r]?Array.isArray(Ja[r])&&Array.isArray(J[r])?J[r]=da(Ja[r],J[r],ra):J[r]=Ja[r]:Array.isArray(Ja[r])&&Array.isArray(J[r])&&(J[r]=da(Ja[r],J[r],ra));'boolean'==typeof qa||R?R&&(M[v]=J):M[v]=P(J,Ja,ra)}}}else void 0!==Ja&&(M[v]='undefined'==typeof qa||null==qa||qa===Ja||ra?Ja:qa)}}F=[];return M},da=function(M,V,ra){F=[];var U=[],K=P.getKeyComparison();if(/^true$/i.test(ra)){if('object'==typeof M[0]&&'undefined'!=
typeof M[0][K]&&'object'==typeof V[0]&&'undefined'!=typeof V[0][K]){F=Array.isArray(V)?Array.from(V):JSON.clone(V);var n=0;for(ra=F.length;n<ra;++n)U.push(F[n][K]);ra=JSON.clone(M);var aa=0;n=0;M=ra.length;for(var v=Ja||0,qa=V.length;v<qa;++v)a:for(n=n||0;n<M;++n)if(ra[n][K]===V[v][K]){-1<U.indexOf(ra[n][K])?(F[aa]=ra[n],++aa):-1==U.indexOf(ra[n][K])&&(U.push(ra[n][K]),F[aa]=ra[n],++aa);break a}else-1==U.indexOf(ra[n][K])&&(U.push(ra[n][K]),F.push(ra[n]));return F}return Array.isArray(M)&&0==M.length||
'undefined'==typeof M?V:M}if(0==M.length&&0<V.length)return F=V;if(0==V.length&&0<M.length)for(n=0;n<M.length;++n)V.push(M[n]);if(0==F.length&&0<V.length)for(n=0;n<V.length;++n)'object'!=typeof V[n]&&-1==F.indexOf(V[n])&&F.push(V[n]);if(0<V.length){if('undefined'!=typeof M[0]&&'object'==typeof M[0]&&null!=M[0]&&'undefined'!=typeof M[0][K]&&'object'==typeof V[0]&&'undefined'!=typeof V[0][K]){F=Array.isArray(V)?Array.from(V):JSON.clone(V);ra=JSON.clone(M);var Ja=null;n=0;for(M=F.length;n<M;++n)U.push(F[n][K]);
for(n=0;n<M;++n)a:for(v=Ja||0,qa=ra.length;v<qa;++v)if(null!=ra[v]&&'undefined'!=typeof ra[v][K]&&ra[v][K]!==F[n][K]){if(-1==U.indexOf(ra[v][K])){F.push(ra[v]);U.push(ra[v][K]);Ja=v+1;M<qa&&++M;break a}}else if(null!=ra[v]&&'undefined'!=typeof ra[v][K]&&ra[v][K]===F[n][K])Ja=v+1;else break a;return F}for(n=0;n<M.length;++n)if(-1<V.indexOf(M[n])&&ra)V.splice(V.indexOf(M[n]),1,M[n]);else if('undefined'==typeof F[n]&&'object'==typeof M[n])for(aa in F=V,'undefined'==typeof F[n]&&(F[n]={}),M[n])F[n].hasOwnProperty(aa)||
(F[n][aa]=M[n][aa]);else!ra&&-1<F.indexOf(M[n])&&'number'==typeof M[n]&&M[n]!==F[n]?F.push(M[n]):'undefined'==typeof V[n]||/null/i.test(V[n])||'undefined'==typeof V[n][K]||'undefined'==typeof M[n]||'undefined'==typeof M[n][K]||V[n][K]!=M[n][K]?-1==F.indexOf(M[n])&&F.push(M[n]):F[n]=ra?M[n]:V[n]}if(0<F.length&&0<V.length||0==F.length&&0==V.length)return F};da.prototype.setKeyComparison=function(M){this.keyComparison=M};var Ba=function(M){if(!M||'[object Object]'!=={}.toString.call(M)||M.nodeType||
M.setInterval)return!1;var V={}.hasOwnProperty,ra=V.call(M,'constructor');V='undefined'!=typeof M.constructor?V.call(M.constructor.prototype,'isPrototypeOf'):!1;return!M.constructor||ra||V?!0:!1};P.setKeyComparison=function(M){da.keyComparison=M;return P};P.getKeyComparison=function(){var M=da.keyComparison||'id';da.keyComparison='id';return M};return P}
'undefined'!==typeof module&&module.exports?('undefined'==typeof JSON.clone&&require('../../../helpers'),module.exports=Merge()):'function'===typeof define&&define.amd&&define('utils/merge',[],function(){return Merge()});function registerEvents(F,P){gina.registeredEvents[F]=P}function mergeEventProps(F,P){for(let da in P)'undefined'==typeof F[da]&&(F[da]=P[da]);return F}
function addListener(F,P,da,Ba){var M=function(U,K,n,aa){'undefined'!=typeof U.event&&U.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(n)&&-1==U.event[n].indexOf(K)&&(U.event[n][U.event[n].length]=K);'undefined'!=typeof K&&null!=K?K.addEventListener?K.addEventListener(n,aa,!1):K.attachEvent&&K.attachEvent('on'+n,aa):U.customEvent.addListener(n,aa);gina.events[n]='undefined'!=typeof K.id&&'object'!=typeof K.id?K.id:K.getAttribute('id')},V=0,ra=null;if(Array.isArray(da))for(ra=da.length;V<
ra;V++)M(F,P,da[V],Ba);else if(Array.isArray(P))for(V=0,ra=P.length;V<ra;V++){let U=/\.$/.test(da)?da+P[V].id:da;M(F,P[V],U,Ba)}else da=/\.$/.test(da)?da+P.id:da,M(F,P,da,Ba)}
function triggerEvent(F,P,da,Ba,M){if('undefined'!=typeof P&&null!=P){F=!1;if(jQuery){var V=jQuery.fn.jquery.split(/\./);V=2<V.length?V.splice(0,2).join('.'):V.join('.');V='1.7'>=V?jQuery(P).data('events'):jQuery._data(jQuery(P)[0],'events');if(V='undefined'!=typeof V&&'undefined'!=typeof V[da]?!0:!1)V=jQuery.Event(da),jQuery(P).trigger(V,Ba),F=V.isDefaultPrevented()}window.CustomEvent||document.createEvent?(window.CustomEvent?V=new CustomEvent(da,{detail:Ba,bubbles:!0,cancelable:!0,target:P}):(V=
document.createEvent('HTMLEvents'),V.detail=Ba,V.target=P,V.initEvent(da,!0,!0),V.eventName=da),M&&(V=mergeEventProps(V,M)),'undefined'!=typeof V.defaultPrevented&&V.defaultPrevented&&(F=V.defaultPrevented),F||P.dispatchEvent(V)):document.createEventObject&&(V=document.createEventObject(),V.srcElement.id=P.id,V.detail=Ba,V.target=P,M&&(V=mergeEventProps(V,M)),P.fireEvent('on'+da,V))}else F.customEvent.fire(da,Ba)}
function cancelEvent(F){'undefined'!=typeof F&&null!=F&&(F.cancelBubble=!0,F.preventDefault&&F.preventDefault(),F.stopPropagation&&F.stopPropagation(),F.returnValue=!1)}
function setupXhr(F){var P=null;if(window.XMLHttpRequest)P=new XMLHttpRequest;else if(window.ActiveXObject)try{P=new ActiveXObject('Msxml2.XMLHTTP')}catch(Ba){try{P=new ActiveXObject('Microsoft.XMLHTTP')}catch(M){}}if('undefined'!=typeof F){if(!F.url||'undefined'==typeof F.url)throw Error('Missing `options.url`');'undefined'==typeof F.method&&(F.method='GET');F.method=F.method.toUpperCase();if(F.withCredentials){if('withCredentials'in P)F.isSynchrone?P.open(F.method,F.url,F.isSynchrone):P.open(F.method,
F.url);else if('undefined'!=typeof XDomainRequest)P=new XDomainRequest,P.open(F.method,F.url);else{result='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,$target,'error.'+id,result);return}P.responseType='undefined'!=typeof F.responseType?F.responseType:'';P.withCredentials=!0}else F.isSynchrone?P.open(F.method,F.url,F.isSynchrone):P.open(F.method,F.url);for(var da in F.headers)'Content-Type'==da&&'undefined'!=typeof enctype&&null!=
enctype&&''!=enctype||P.setRequestHeader(da,F.headers[da])}return P}
function handleXhr(F,P,da,Ba){if(!F)throw Error('No `xhr` object initiated');var M=null,V=null,ra=null,U=null,K=null,n=da.$link||null,aa=da.$form||null,v=null;delete da.$link;delete da.$form;aa||n?n?(n.target=document.getElementById(n.id),v=gina.link.target,K=gina.link.id):(v=aa.target,K=v.getAttribute('id')):(v=P,K=v.getAttribute('id'));var qa=n&&P.getAttribute('data-gina-link-event-on-success')||n&&P.getAttribute('data-gina-link-event-on-error')?!0:!1,Ja=aa&&v.getAttribute('data-gina-form-event-on-submit-success')||
aa&&v.getAttribute('data-gina-form-event-on-submit-error')?!0:!1;Ja&&aa&&listenToXhrEvents(aa,'form');P=P.getAttribute('enctype')||da.headers['Content-Type'];for(var R in da.headers)'Content-Type'==R&&'undefined'!=typeof P&&null!=P&&''!=P||F.setRequestHeader(R,da.headers[R]);F.withCredentials='undefined'!=typeof da.withCredentials?da.withCredentials:!1;F.onerror=function(J,r){J={status:F.status||500,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};
aa&&(aa.eventData.error=J);n&&(n.eventData.error=J);window.ginaToolbar.update('data-xhr',J,!0);triggerEvent(gina,v,'error.'+K,J);Ja&&triggerEvent(gina,v,'error.'+K+'.hform',J);qa&&triggerEvent(gina,v,'error.'+K+'.hlink',J)};F.onreadystatechange=function(J){J=/Google Inc/i.test(navigator.vendor)?50:0;2==F.readyState&&(V=/^attachment;/.test(F.getResponseHeader('Content-Disposition'))?!0:!1,!F.responseType&&V&&(F.responseType='blob'));if(4==F.readyState)if(M=null,ra=F.getResponseHeader('Content-Type'),
/^2/.test(F.status)){try{if(/blob/.test(F.responseType)||V){if('undefined'==typeof ra||null==ra)ra='application/octet-stream';M=new Blob([this.response],{type:ra});var r=document.createElement('a');r.style='display: none';document.body.appendChild(r);var q=window.URL.createObjectURL(M);r.href=q;var p=F.getResponseHeader('Content-Disposition');r.download=p.match('=(.*)')[0].substr(1);r.click();window.URL.revokeObjectURL(q);U={status:F.status,statusText:F.statusText,responseType:M.type,type:M.type,
size:M.size}}!U&&/\/json/.test(ra)&&(U=JSON.parse(F.responseText),'undefined'==typeof U.status&&(U.status=F.status||200));if(!U&&/\/html/.test(ra)&&(U={contentType:ra,content:F.responseText},'undefined'==typeof U.status&&(U.status=F.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler)){var H=gina.popin.getActivePopin();if(H){XHRData={};try{XHRData=(new DOMParser).parseFromString(U.content,'text/html').getElementById('gina-without-layout-xhr-data'),XHRData=JSON.parse(decodeURIComponent(XHRData.value)),
XHRView=(new DOMParser).parseFromString(U.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRData&&window.ginaToolbar.update('data-xhr',XHRData),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(C){throw C;}H.loadContent(U.content);U=XHRData;triggerEvent(gina,v,'success.'+K,U);return}}U||(U=F.responseText);aa&&
(aa.eventData.success=U);XHRData=U;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&/\/html/.test(ra)&&window.ginaToolbar.update('data-xhr',XHRData)}catch(C){throw C;}triggerEvent(gina,v,'success.'+K,U);Ja&&triggerEvent(gina,v,'success.'+K+'.hform',U);qa&&triggerEvent(gina,v,'success.'+K+'.hlink',U)}catch(C){U={status:422,error:C.message,stack:C.stack};aa&&(aa.eventData.error=U);XHRData=U;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=
typeof XHRData&&window.ginaToolbar.update('data-xhr',XHRData)}catch(E){throw E;}triggerEvent(gina,v,'error.'+K,U);Ja&&triggerEvent(gina,v,'error.'+K+'.hform',U);qa&&triggerEvent(gina,v,'error.'+K+'.hlink',U)}if('undefined'!=typeof U&&'undefined'!=typeof U.location)return window.location.hash='',U.location=/^http/.test(U.location)||/^\//.test(U.location)?U.location:location.protocol+'//'+U.location,setTimeout(()=>{window.location.href=U.location},J)}else if(0!=F.status)if(U={status:F.status,message:''},
/blob/.test(F.responseType)){M=new Blob([this.response],{type:'text/plain'});var I=new FileReader,x='';I.addEventListener('loadend',C=>{/string/i.test(typeof C.srcElement.result)?x+=C.srcElement.result:'object'==typeof C.srcElement.result?U=merge(U,C.srcElement.result):U.message+=C.srcElement.result;if(/^2/.test(I.readyState)){if(/^(\{|\[)/.test(x))try{U=merge(U,JSON.parse(x))}catch(z){U=merge(U,z)}U.message||delete U.message;aa&&(aa.eventData.error=U);if('undefined'!=typeof U&&'undefined'!=typeof U.error&&
U.error.fields&&'object'==typeof U.error.fields){C={};var E=0,N;for(N in U.error.fields)++E,C[N]={isApplicationValidationError:U.error.fields[N]};0<E&&handleErrorsDisplay(aa.target,C)}XHRData=U;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(z){throw z;}triggerEvent(gina,v,'error.'+K,U);Ja&&triggerEvent(gina,v,'error.'+K+'.hform',U);qa&&triggerEvent(gina,v,'error.'+K+'.hlink',U)}});I.readAsText(M)}else{try{U=merge(U,JSON.parse(F.responseText))}catch(C){U=
merge(U,C)}aa&&(aa.eventData.error=U);if('undefined'!=typeof U&&'undefined'!=typeof U.error&&U.error.fields&&'object'==typeof U.error.fields){r={};q=0;for(var w in U.error.fields)++q,r[w]={isApplicationValidationError:U.error.fields[w]};0<q&&handleErrorsDisplay(aa.target,r)}XHRData=U;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(C){throw C;}triggerEvent(gina,v,'error.'+K,U);Ja&&triggerEvent(gina,v,'error.'+K+'.hform',U);qa&&triggerEvent(gina,
v,'error.'+K+'.hlink',U)}};F.onprogress=function(J){var r='0';J.lengthComputable&&(r=J.loaded/J.total,r=parseInt(100*r));J={status:100,progress:r};aa&&(aa.eventData.onprogress=J);triggerEvent(gina,v,'progress.'+K,J)};F.ontimeout=function(J){U={status:408,error:'Request Timeout'};aa&&(aa.eventData.ontimeout=U);triggerEvent(gina,v,'error.'+K,U);Ja&&triggerEvent(gina,v,'error.'+K+'.hform',U);qa&&triggerEvent(gina,v,'error.'+K+'.hlink',U)}}
function removeListener(F,P,da,Ba){'undefined'!=typeof F.event&&F.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(da)&&-1!=F.event[da].indexOf(P)&&F.event[da].splice(F.event[da].indexOf(P),1);if('undefined'!=typeof P&&null!=P)if(P.removeEventListener)if(Array.isArray(P))for(i=0,len=P.length;i<len;i++)F=/\.$/.test(da)?da+P[i].id:da,P.removeEventListener(F,Ba,!1),'undefined'!=typeof gina.events[F]&&delete gina.events[F];else da=/\.$/.test(da)?da+P.id:da,P.removeEventListener(da,Ba,!1);else{if(P.attachEvent)if(Array.isArray(P))for(i=
0,len=P.length;i<len;i++)F=/\.$/.test(da)?da+P[i].id:da,P.detachEvent('on'+F,Ba),'undefined'!=typeof gina.events[F]&&delete gina.events[F];else da=/\.$/.test(da)?da+P.id:da,P.detachEvent('on'+da,Ba)}else if(Array.isArray(P))for(i=0,len=P.length;i<len;i++){let M=/\.$/.test(da)?da+P[i].id:da;F.customEvent.removeListener(M,Ba);'undefined'!=typeof gina.events[M]&&delete gina.events[M]}else da=/\.$/.test(da)?da+P.id:da,F.customEvent.removeListener(da,Ba);'undefined'!=typeof gina.events[da]&&delete gina.events[da];
'undefined'!=typeof Ba&&Ba()}
function on(F,P){if(!this.plugin)throw Error('No `plugin` reference found for this event: `'+F);if(0>gina.registeredEvents[this.plugin].indexOf(F)&&!/^init$/.test(F)&&!/\.hform$/.test(F)&&!/\.hlink$/.test(F))P(Error('Event `'+F+'` not handled by ginaEventHandler'));else{var da=null,Ba=null;'undefined'!=typeof this.id&&'object'!=typeof this.id?(da=this.target||this,Ba=this.id):'undefined'!=typeof this.target?((da=this.target)||(da=this),Ba='undefined'!=typeof da.getAttribute?da.getAttribute('id'):
this.id):(da=this.target,Ba=instance.id);this.eventData&&!da.eventData&&(da.eventData=this.eventData);F=/\.(hform|hlink)$/.test(F)?/\.hform$/.test(F)?F.replace(/\.hform$/,'.'+Ba+'.hform'):F.replace(/\.hlink$/,'.'+Ba+'.hlink'):F+('.'+Ba);gina.events[F]||(addListener(gina,da,F,function(M){cancelEvent(M);var V=null;M.detail?V=M.detail:'undefined'!=typeof this.eventData.submit?V=this.eventData.submit:'undefined'!=typeof this.eventData.error?V=this.eventData.error:'undefined'!=typeof this.eventData.success&&
(V=this.eventData.success);P&&P(M,V)}),this.initialized&&!this.isReady&&triggerEvent(gina,da,'init.'+Ba));return this}}define('utils/events',function(){});
function PrototypesHelper(F){var P='undefined'!==typeof module&&module.exports?!1:!0,da=F||null;'undefined'==typeof GINA_DIR&&!P&&'undefined'!=typeof process&&3<process.argv.length&&/^\{/.test(process.argv[2])&&(envVars=JSON.parse(process.argv[2]).envVars);if(da&&'undefined'!=typeof da&&'undefined'!=typeof da.dateFormat)for(let Ba in da.dateFormat)'undefined'==typeof Date[Ba]&&Object.defineProperty(Date.prototype,Ba,{writable:!1,enumerable:!1,configurable:!0,value:function(){var M={0:this},V=1,ra;
for(ra in arguments)M[V]=arguments[ra],++V;M.length=V;return da.dateFormat[Ba].apply(this,M)}});'undefined'==typeof Array.clone&&Object.defineProperty(Array.prototype,'clone',{writable:!1,enumerable:!1,configurable:!0,value:function(){return this.slice(0)}});'undefined'!=typeof JSON.clone||P||(JSON.clone=require(envVars.GINA_DIR+'/utils/prototypes.json_clone'));'undefined'==typeof JSON.escape&&(JSON.escape=function(Ba){try{return Ba.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(M){throw M;
}});'undefined'==typeof Array.toString&&(Array.prototype.toString=function(){return this.join()});'undefined'==typeof Array.inArray&&Object.defineProperty(Array.prototype,'inArray',{writable:!1,enumerable:!1,configurable:!0,value:function(Ba){return-1!=this.indexOf(Ba)}});'undefined'==typeof Array.from&&Object.defineProperty(Array.prototype,'from',{writable:!1,enumerable:!1,configurable:!0,value:function(Ba){for(var M={},V=[],ra=Ba.length,U=0,K=0;K<ra;K++){var n=Ba[K];1!==M[n]&&(M[n]=1,V[U++]=n)}return V}});
'undefined'==typeof Object.count&&Object.defineProperty(Object.prototype,'count',{writable:!0,enumerable:!1,configurable:!0,value:function(){var Ba=0;try{this instanceof String&&JSON.parse(this);for(var M in this)this.hasOwnProperty(M)&&++Ba;return Ba}catch(V){return Ba}}});'undefined'!=typeof global&&'undefined'==typeof global.__stack&&Object.defineProperty(global,'__stack',{configurable:!0,get:function(){var Ba=Error.prepareStackTrace;Error.prepareStackTrace=function(V,ra){return ra};var M=Error();
Error.captureStackTrace(M,arguments.callee);M=M.stack;Error.prepareStackTrace=Ba;return M}})}'undefined'!==typeof module&&module.exports?module.exports=PrototypesHelper:'function'===typeof define&&define.amd&&define('helpers/prototypes',[],function(){return PrototypesHelper});
function DateFormatHelper(){var F='undefined'!==typeof module&&module.exports?require('./../lib/merge'):require('utils/merge');var P='en-US';var da='en';var Ba={'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy',cookieDate:'GMT:ddd, dd mmm yyyy HH:MM:ss',logger:'[yyyy mmm dd HH:MM:ss]',shortTime:'h:MM TT',shortTime2:'h:MM',mediumTime:'h:MM:ss TT',mediumTime2:'h:MM:ss',longTime:'h:MM:ss TT Z',
longTime2:'h:MM:ss TT',concatenatedDate:'yyyymmdd',isoDate:'yyyy-mm-dd',isoTime:'HH:MM:ss',shortIsoTime:'HH:MM',longIsoTime:'HH:MM:ss TT',isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};var M={en:{dayNames:'Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday'.split(' '),monthNames:'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December'.split(' '),masks:{'default':'ddd mmm dd yyyy HH:MM:ss',
shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy'}},fr:{dayNames:'dim lun mar mer jeu ven sam dimanche lundi mardi mercredi jeudi vendredi samedi'.split(' '),monthNames:'Jan F\u00e9v Mar Avr Mai Jui Juil Ao\u00fb Sep Oct Nov D\u00e9c Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre'.split(' '),masks:{'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'d/m/yy',shortDate2:'dd/mm/yyyy',
mediumDate:'d mmm, yyyy',longDate:'d mmmm, yyyy',fullDate:'dddd, d mmmm, yyyy'}}};var V=function(K,n){if(n instanceof Date)return K=K.getTime(),n=n.getTime(),Math.round(Math.abs(K-n)/864E5);throw Error('dateTo is not instance of Date() !');},ra=['us','eu','corporate'],U=function(K){d=new Date(K.getFullYear(),K.getMonth(),K.getDate());K=d.getDay()||7;d.setDate(d.getDate()+4-K);K=new Date(Date.parse(d.getFullYear(),0,1));return Math.ceil(((d-K)/864E5+1)/7)};return{setCulture:function(K,n){/\-/.test(n)?
(P=n,da=n.split(/\-/)[0]):da=n;return this},format:function(K,n,aa){var v=M[da]||M.en,qa=F(v.masks,Ba);'undefined'!=typeof M[P]&&(v=M[P],'undefined'!=typeof M[P].mask&&(qa=F(v.masks,Ba)));var Ja=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,R=/[^-+\dA-Z]/g,J=function(N,z){N=String(N);for(z=z||2;N.length<z;)N='0'+N;return N};1!=arguments.length||'[object String]'!=Object.prototype.toString.call(K)||/\d/.test(K)||
(n=K,K=void 0);K=K?new Date(K):new Date;if(isNaN(K))throw SyntaxError('invalid date');n=String(qa[n]||n||qa['default']);'UTC:'==n.slice(0,4)&&(n=n.slice(4),aa=!0);var r=aa?'getUTC':'get';qa=K[r+'Date']();var q=K[r+'Day'](),p=K[r+'Month'](),H=K[r+'FullYear'](),I=K[r+'Hours'](),x=K[r+'Minutes'](),w=K[r+'Seconds']();r=K[r+'Milliseconds']();var C=aa?0:K.getTimezoneOffset(),E={d:qa,dd:J(qa),ddd:v.dayNames[q],dddd:v.dayNames[q+7],m:p+1,mm:J(p+1),mmm:v.monthNames[p],mmmm:v.monthNames[p+12],yy:String(H).slice(2),
yyyy:H,h:I%12||12,hh:J(I%12||12),H:I,HH:J(I),M:x,MM:J(x),s:w,ss:J(w),l:J(r,3),L:J(99<r?Math.round(r/10):r),t:12>I?'a':'p',tt:12>I?'am':'pm',T:12>I?'A':'P',TT:12>I?'AM':'PM',Z:aa?'UTC':(String(K).match(Ja)||['']).pop().replace(R,''),o:(0<C?'-':'+')+J(100*Math.floor(Math.abs(C)/60)+Math.abs(C)%60,4),S:['th','st','nd','rd'][3<qa%10?0:(10!=qa%100-qa%10)*qa%10]};return n.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,function(N){return N in E?E[N]:N.slice(1,N.length-1)})},countDaysTo:V,
getDaysTo:function(K,n,aa){if(n instanceof Date){n=V(K,n);var v=K.getMonth(),qa=K.getFullYear();K=K.getDate()+1;K=new Date(qa,v,K);v=[];for(qa=0;qa<n;++qa)'undefined'!=typeof aa?v.push((new Date(K)).format(aa)):v.push(new Date(K)),K.setDate(K.getDate()+1);return v||[]}throw Error('dateTo is not instance of Date() !');},getDaysInMonth:function(K){var n=K.getMonth();K=K.getFullYear();K=new Date(K,n,1);for(var aa=[];K.getMonth()===n;)aa.push(new Date(K)),K.setDate(K.getDate()+1);return aa},getQuarter:function(K,
n){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>ra.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');K=new Date;n=arguments[0]}'undefined'==typeof K&&(K=new Date);'undefined'==typeof n&&(n='corporate');n=n.toLowerCase();switch(n){case 'us':var aa=[4,1,2,3];break;case 'corportate':case 'eu':aa=[1,2,3,4];break;default:aa=[1,2,3,4]}return aa[Math.floor(K.getMonth()/3)]},getHalfYear:function(K,n){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>
ra.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');K=new Date;n=arguments[0]}'undefined'==typeof K&&(K=new Date);'undefined'==typeof n&&(n='corporate');n=n.toLowerCase();return 2>=K.getQuarter(n)?1:2},getWeek:function(K,n){'undefined'==typeof K&&(K=new Date);'undefined'==typeof n&&(n='ISO 8601');n=n.replace(/\s+/g,'').toLowerCase();switch(n){case 'corporate':case 'eu':case 'iso8601':return U(K);default:return U(K)}},addHours:function(K,n){K=new Date(K.getTime());
K.setHours(K.getHours()+n);return K},addDays:function(K,n){K=new Date(K.getTime());K.setHours(K.getHours()+24*n);return K},addYears:function(K,n){K=new Date(K.getTime());K.setFullYear(K.getFullYear()+n);return K}}}'undefined'!==typeof module&&module.exports?module.exports=DateFormatHelper:'function'===typeof define&&define.amd&&define('helpers/dateFormat',[],function(){return DateFormatHelper});
!function(F,P){'object'==typeof module&&'object'==typeof module.exports?module.exports=F.document?P(F,!0):function(da){if(!da.document)throw Error('jQuery requires a window with a document');return P(da)}:P(F)}('undefined'!=typeof window?window:this,function(F,P){function da(a){var c=!!a&&'length'in a&&a.length,e=b.type(a);return'function'===e||b.isWindow(a)?!1:'array'===e||0===c||'number'==typeof c&&0<c&&c-1 in a}function Ba(a,c,e){if(b.isFunction(c))return b.grep(a,function(h,l){return!!c.call(h,
l,h)!==e});if(c.nodeType)return b.grep(a,function(h){return h===c!==e});if('string'==typeof c){if(u.test(c))return b.filter(c,a,e);c=b.filter(c,a)}return b.grep(a,function(h){return-1<b.inArray(h,c)!==e})}function M(a,c){do a=a[c];while(a&&1!==a.nodeType);return a}function V(a){var c={};return b.each(a.match(Ca)||[],function(e,h){c[h]=!0}),c}function ra(){Ra.addEventListener?(Ra.removeEventListener('DOMContentLoaded',U),F.removeEventListener('load',U)):(Ra.detachEvent('onreadystatechange',U),F.detachEvent('onload',
U))}function U(){(Ra.addEventListener||'load'===F.event.type||'complete'===Ra.readyState)&&(ra(),b.ready())}function K(a,c,e){if(void 0===e&&1===a.nodeType){var h='data-'+c.replace(Bb,'-$1').toLowerCase();if(e=a.getAttribute(h),'string'==typeof e){try{e='true'===e?!0:'false'===e?!1:'null'===e?null:+e+''===e?+e:rb.test(e)?b.parseJSON(e):e}catch(l){}b.data(a,c,e)}else e=void 0}return e}function n(a){for(var c in a)if(('data'!==c||!b.isEmptyObject(a[c]))&&'toJSON'!==c)return!1;return!0}function aa(a,
c,e,h){if(Wa(a)){var l,D,G=b.expando,Z=a.nodeType,ma=Z?b.cache:a,Aa=Z?a[G]:a[G]&&G;if(Aa&&ma[Aa]&&(h||ma[Aa].data)||void 0!==e||'string'!=typeof c)return Aa||=Z?a[G]=Kb.pop()||b.guid++:G,ma[Aa]||(ma[Aa]=Z?{}:{toJSON:b.noop}),'object'!=typeof c&&'function'!=typeof c||(h?ma[Aa]=b.extend(ma[Aa],c):ma[Aa].data=b.extend(ma[Aa].data,c)),D=ma[Aa],h||(D.data||(D.data={}),D=D.data),void 0!==e&&(D[b.camelCase(c)]=e),'string'==typeof c?(l=D[c],null==l&&(l=D[b.camelCase(c)])):l=D,l}}function v(a,c,e){if(Wa(a)){var h,
l,D=a.nodeType,G=D?b.cache:a,Z=D?a[b.expando]:b.expando;if(G[Z]){if(c&&(h=e?G[Z]:G[Z].data)){b.isArray(c)?c=c.concat(b.map(c,b.camelCase)):c in h?c=[c]:(c=b.camelCase(c),c=c in h?[c]:c.split(' '));for(l=c.length;l--;)delete h[c[l]];if(e?!n(h):!b.isEmptyObject(h))return}(e||(delete G[Z].data,n(G[Z])))&&(D?b.cleanData([a],!0):k.deleteExpando||G!=G.window?delete G[Z]:G[Z]=void 0)}}}function qa(a,c,e,h){var l,D=1,G=20,Z=h?function(){return h.cur()}:function(){return b.css(a,c,'')},ma=Z(),Aa=e&&e[3]||
(b.cssNumber[c]?'':'px'),sa=(b.cssNumber[c]||'px'!==Aa&&+ma)&&ib.exec(b.css(a,c));if(sa&&sa[3]!==Aa){Aa=Aa||sa[3];e=e||[];sa=+ma||1;do D=D||'.5',sa/=D,b.style(a,c,sa+Aa);while(D!==(D=Z()/ma)&&1!==D&&--G)}return e&&(sa=+sa||+ma||0,l=e[1]?sa+(e[1]+1)*e[2]:+e[2],h&&(h.unit=Aa,h.start=sa,h.end=l)),l}function Ja(a){var c='abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video'.split(' ');
a=a.createDocumentFragment();if(a.createElement)for(;c.length;)a.createElement(c.pop());return a}function R(a,c){var e,h,l=0,D='undefined'!=typeof a.getElementsByTagName?a.getElementsByTagName(c||'*'):'undefined'!=typeof a.querySelectorAll?a.querySelectorAll(c||'*'):void 0;if(!D)for(D=[],e=a.childNodes||a;null!=(h=e[l]);l++)!c||b.nodeName(h,c)?D.push(h):b.merge(D,R(h,c));return void 0===c||c&&b.nodeName(a,c)?b.merge([a],D):D}function J(a,c){for(var e,h=0;null!=(e=a[h]);h++)b._data(e,'globalEval',
!c||b._data(c[h],'globalEval'))}function r(a){jb.test(a.type)&&(a.defaultChecked=a.checked)}function q(a,c,e,h,l){for(var D,G,Z,ma,Aa,sa,Qa,Xa=a.length,xb=Ja(c),gb=[],Nb=0;Xa>Nb;Nb++)if(G=a[Nb],G||0===G)if('object'===b.type(G))b.merge(gb,G.nodeType?[G]:G);else if(Pa.test(G)){ma=ma||xb.appendChild(c.createElement('div'));Aa=(ea.exec(G)||['',''])[1].toLowerCase();Qa=pa[Aa]||pa._default;ma.innerHTML=Qa[1]+b.htmlPrefilter(G)+Qa[2];for(D=Qa[0];D--;)ma=ma.lastChild;if(!k.leadingWhitespace&&ha.test(G)&&
gb.push(c.createTextNode(ha.exec(G)[0])),!k.tbody)for(D=(G='table'!==Aa||eb.test(G)?'<table>'!==Qa[1]||eb.test(G)?0:ma:ma.firstChild)&&G.childNodes.length;D--;)b.nodeName(sa=G.childNodes[D],'tbody')&&!sa.childNodes.length&&G.removeChild(sa);b.merge(gb,ma.childNodes);for(ma.textContent='';ma.firstChild;)ma.removeChild(ma.firstChild);ma=xb.lastChild}else gb.push(c.createTextNode(G));ma&&xb.removeChild(ma);k.appendChecked||b.grep(R(gb,'input'),r);for(Nb=0;G=gb[Nb++];)if(h&&-1<b.inArray(G,h))l&&l.push(G);
else if(Z=b.contains(G.ownerDocument,G),ma=R(xb.appendChild(G),'script'),Z&&J(ma),e)for(D=0;G=ma[D++];)Y.test(G.type||'')&&e.push(G);return xb}function p(){return!0}function H(){return!1}function I(){try{return Ra.activeElement}catch(a){}}function x(a,c,e,h,l,D){var G,Z;if('object'==typeof c){'string'!=typeof e&&(h=h||e,e=void 0);for(Z in c)x(a,Z,e,h,c[Z],D);return a}if(null==h&&null==l?(l=e,h=e=void 0):null==l&&('string'==typeof e?(l=h,h=void 0):(l=h,h=e,e=void 0)),!1===l)l=H;else if(!l)return a;
return 1===D&&(G=l,l=function(ma){return b().off(ma),G.apply(this,arguments)},l.guid=G.guid||(G.guid=b.guid++)),a.each(function(){b.event.add(this,c,l,h,e)})}function w(a,c){return b.nodeName(a,'table')&&b.nodeName(11!==c.nodeType?c:c.firstChild,'tr')?a.getElementsByTagName('tbody')[0]||a.appendChild(a.ownerDocument.createElement('tbody')):a}function C(a){return a.type=(null!==b.find.attr(a,'type'))+'/'+a.type,a}function E(a){var c=Lb.exec(a.type);return c?a.type=c[1]:a.removeAttribute('type'),a}
function N(a,c){if(1===c.nodeType&&b.hasData(a)){var e,h;var l=b._data(a);a=b._data(c,l);var D=l.events;if(D)for(e in delete a.handle,a.events={},D)for(l=0,h=D[e].length;h>l;l++)b.event.add(c,e,D[e][l]);a.data&&(a.data=b.extend({},a.data))}}function z(a,c,e,h){c=wa.apply([],c);var l,D,G,Z=0,ma=a.length,Aa=ma-1,sa=c[0],Qa=b.isFunction(sa);if(Qa||1<ma&&'string'==typeof sa&&!k.checkClone&&Hb.test(sa))return a.each(function(xb){var gb=a.eq(xb);Qa&&(c[0]=sa.call(this,xb,gb.html()));z(gb,c,e,h)});if(ma&&
(G=q(c,a[0].ownerDocument,!1,a,h),l=G.firstChild,1===G.childNodes.length&&(G=l),l||h)){var Xa=b.map(R(G,'script'),C);for(D=Xa.length;ma>Z;Z++)l=G,Z!==Aa&&(l=b.clone(l,!0,!0),D&&b.merge(Xa,R(l,'script'))),e.call(a[Z],l,Z);if(D)for(G=Xa[Xa.length-1].ownerDocument,b.map(Xa,E),Z=0;D>Z;Z++)l=Xa[Z],Y.test(l.type||'')&&!b._data(l,'globalEval')&&b.contains(G,l)&&(l.src?b._evalUrl&&b._evalUrl(l.src):b.globalEval((l.text||l.textContent||l.innerHTML||'').replace(Bc,'')));G=l=null}return a}function T(a,c,e){for(var h=
c?b.filter(c,a):a,l=0;null!=(c=h[l]);l++)e||1!==c.nodeType||b.cleanData(R(c)),c.parentNode&&(e&&b.contains(c.ownerDocument,c)&&J(R(c,'script')),c.parentNode.removeChild(c));return a}function X(a,c){a=b(c.createElement(a)).appendTo(c.body);c=b.css(a[0],'display');return a.detach(),c}function xa(a){var c=Ra,e=Gc[a];return e||(e=X(a,c),'none'!==e&&e||(Xb=(Xb||b("<iframe frameborder='0' width='0' height='0'/>")).appendTo(c.documentElement),c=(Xb[0].contentWindow||Xb[0].contentDocument).document,c.write(),
c.close(),e=X(a,c),Xb.detach()),Gc[a]=e),e}function na(a,c){return{get:function(){return a()?void delete this.get:(this.get=c).apply(this,arguments)}}}function Ea(a){if(a in jd)return a;for(var c=a.charAt(0).toUpperCase()+a.slice(1),e=kd.length;e--;)if(a=kd[e]+c,a in jd)return a}function Ha(a,c){for(var e,h,l,D=[],G=0,Z=a.length;Z>G;G++)h=a[G],h.style&&(D[G]=b._data(h,'olddisplay'),e=h.style.display,c?(D[G]||'none'!==e||(h.style.display=''),''===h.style.display&&Wb(h)&&(D[G]=b._data(h,'olddisplay',
xa(h.nodeName)))):(l=Wb(h),(e&&'none'!==e||!l)&&b._data(h,'olddisplay',l?e:b.css(h,'display'))));for(G=0;Z>G;G++)h=a[G],h.style&&(c&&'none'!==h.style.display&&''!==h.style.display||(h.style.display=c?D[G]||'':'none'));return a}function Fa(a,c,e){return(a=wd.exec(c))?Math.max(0,a[1]-(e||0))+(a[2]||'px'):c}function va(a,c,e,h,l){c=e===(h?'border':'content')?4:'width'===c?1:0;for(var D=0;4>c;c+=2)'margin'===e&&(D+=b.css(a,e+Db[c],!0,l)),h?('content'===e&&(D-=b.css(a,'padding'+Db[c],!0,l)),'margin'!==
e&&(D-=b.css(a,'border'+Db[c]+'Width',!0,l))):(D+=b.css(a,'padding'+Db[c],!0,l),'padding'!==e&&(D+=b.css(a,'border'+Db[c]+'Width',!0,l)));return D}function Da(a,c,e){var h=!0,l='width'===c?a.offsetWidth:a.offsetHeight,D=wc(a),G=k.boxSizing&&'border-box'===b.css(a,'boxSizing',!1,D);if(0>=l||null==l){if(l=rc(a,c,D),(0>l||null==l)&&(l=a.style[c]),Pb.test(l))return l;h=G&&(k.boxSizingReliable()||l===a.style[c]);l=parseFloat(l)||0}return l+va(a,c,e||(G?'border':'content'),h,D)+'px'}function Ta(a,c,e,h,
l){return new Ta.prototype.init(a,c,e,h,l)}function Va(){return F.setTimeout(function(){Hc=void 0}),Hc=b.now()}function Ua(a,c){var e={height:a},h=0;for(c=c?1:0;4>h;h+=2-c){var l=Db[h];e['margin'+l]=e['padding'+l]=a}return c&&(e.opacity=e.width=a),e}function zb(a,c,e){for(var h,l=(Na.tweeners[c]||[]).concat(Na.tweeners['*']),D=0,G=l.length;G>D;D++)if(h=l[D].call(e,c,a))return h}function Ia(a,c){var e,h,l,D,G;for(e in a)if(h=b.camelCase(e),l=c[h],D=a[e],b.isArray(D)&&(l=D[1],D=a[e]=D[0]),e!==h&&(a[h]=
D,delete a[e]),G=b.cssHooks[h],G&&'expand'in G)for(e in D=G.expand(D),delete a[h],D)e in a||(a[e]=D[e],c[e]=l);else c[h]=l}function Na(a,c,e){var h,l=0,D=Na.prefilters.length,G=b.Deferred().always(function(){delete Z.elem}),Z=function(){if(h)return!1;var Aa=Hc||Va();Aa=Math.max(0,ma.startTime+ma.duration-Aa);for(var sa=1-(Aa/ma.duration||0),Qa=0,Xa=ma.tweens.length;Xa>Qa;Qa++)ma.tweens[Qa].run(sa);return G.notifyWith(a,[ma,sa,Aa]),1>sa&&Xa?Aa:(G.resolveWith(a,[ma]),!1)},ma=G.promise({elem:a,props:b.extend({},
c),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},e),originalProperties:c,originalOptions:e,startTime:Hc||Va(),duration:e.duration,tweens:[],createTween:function(Aa,sa){Aa=b.Tween(a,ma.opts,Aa,sa,ma.opts.specialEasing[Aa]||ma.opts.easing);return ma.tweens.push(Aa),Aa},stop:function(Aa){var sa=0,Qa=Aa?ma.tweens.length:0;if(h)return this;for(h=!0;Qa>sa;sa++)ma.tweens[sa].run(1);return Aa?(G.notifyWith(a,[ma,1,0]),G.resolveWith(a,[ma,Aa])):G.rejectWith(a,[ma,Aa]),this}});e=ma.props;for(Ia(e,
ma.opts.specialEasing);D>l;l++)if(c=Na.prefilters[l].call(ma,a,e,ma.opts))return b.isFunction(c.stop)&&(b._queueHooks(ma.elem,ma.opts.queue).stop=b.proxy(c.stop,c)),c;return b.map(e,zb,ma),b.isFunction(ma.opts.start)&&ma.opts.start.call(a,ma),b.fx.timer(b.extend(Z,{elem:a,anim:ma,queue:ma.opts.queue})),ma.progress(ma.opts.progress).done(ma.opts.done,ma.opts.complete).fail(ma.opts.fail).always(ma.opts.always)}function bb(a){return b.attr(a,'class')||''}function Ab(a){return function(c,e){'string'!=
typeof c&&(e=c,c='*');var h=0,l=c.toLowerCase().match(Ca)||[];if(b.isFunction(e))for(;c=l[h++];)'+'===c.charAt(0)?(c=c.slice(1)||'*',(a[c]=a[c]||[]).unshift(e)):(a[c]=a[c]||[]).push(e)}}function db(a,c,e,h){function l(Z){var ma;return D[Z]=!0,b.each(a[Z]||[],function(Aa,sa){Aa=sa(c,e,h);return'string'!=typeof Aa||G||D[Aa]?G?!(ma=Aa):void 0:(c.dataTypes.unshift(Aa),l(Aa),!1)}),ma}var D={},G=a===Wc;return l(c.dataTypes[0])||!D['*']&&l('*')}function cb(a,c){var e,h,l=b.ajaxSettings.flatOptions||{};for(h in c)void 0!==
c[h]&&((l[h]?a:e||={})[h]=c[h]);return e&&b.extend(!0,a,e),a}function sb(a){if(!b.contains(a.ownerDocument||Ra,a))return!0;for(;a&&1===a.nodeType;){if('none'===(a.style&&a.style.display||b.css(a,'display'))||'hidden'===a.type)return!0;a=a.parentNode}return!1}function Cb(a,c,e,h){var l;if(b.isArray(c))b.each(c,function(D,G){e||xd.test(a)?h(a,G):Cb(a+'['+('object'==typeof G&&null!=G?D:'')+']',G,e,h)});else if(e||'object'!==b.type(c))h(a,c);else for(l in c)Cb(a+'['+l+']',c[l],e,h)}function Jb(){try{return new F.XMLHttpRequest}catch(a){}}
function yb(){try{return new F.ActiveXObject('Microsoft.XMLHTTP')}catch(a){}}function Gb(a){return b.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var Kb=[],Ra=F.document,la=Kb.slice,wa=Kb.concat,La=Kb.push,W=Kb.indexOf,oa={},za=oa.toString,Oa=oa.hasOwnProperty,k={},b=function(a,c){return new b.fn.init(a,c)},g=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,m=/^-ms-/,A=/-([\da-z])/gi,y=function(a,c){return c.toUpperCase()};b.fn=b.prototype={jquery:'1.12.4',constructor:b,selector:'',length:0,
toArray:function(){return la.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:la.call(this)},pushStack:function(a){a=b.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a){return b.each(this,a)},map:function(a){return this.pushStack(b.map(this,function(c,e){return a.call(c,e,c)}))},slice:function(){return this.pushStack(la.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var c=
this.length;a=+a+(0>a?c:0);return this.pushStack(0<=a&&c>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:La,sort:Kb.sort,splice:Kb.splice};b.extend=b.fn.extend=function(){var a,c,e,h,l=arguments[0]||{},D=1,G=arguments.length,Z=!1;'boolean'==typeof l&&(Z=l,l=arguments[D]||{},D++);'object'==typeof l||b.isFunction(l)||(l={});for(D===G&&(l=this,D--);G>D;D++)if(null!=(e=arguments[D]))for(c in e){var ma=l[c];var Aa=e[c];l!==Aa&&(Z&&Aa&&(b.isPlainObject(Aa)||(a=b.isArray(Aa)))?
(a?(a=!1,h=ma&&b.isArray(ma)?ma:[]):h=ma&&b.isPlainObject(ma)?ma:{},l[c]=b.extend(Z,h,Aa)):void 0!==Aa&&(l[c]=Aa))}return l};b.extend({expando:'jQuery'+('1.12.4'+Math.random()).replace(/\D/g,''),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return'function'===b.type(a)},isArray:Array.isArray||function(a){return'array'===b.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var c=a&&a.toString();return!b.isArray(a)&&0<=c-parseFloat(c)+
1},isEmptyObject:function(a){for(var c in a)return!1;return!0},isPlainObject:function(a){var c;if(!a||'object'!==b.type(a)||a.nodeType||b.isWindow(a))return!1;try{if(a.constructor&&!Oa.call(a,'constructor')&&!Oa.call(a.constructor.prototype,'isPrototypeOf'))return!1}catch(e){return!1}if(!k.ownFirst)for(c in a)return Oa.call(a,c);for(c in a);return void 0===c||Oa.call(a,c)},type:function(a){return null==a?a+'':'object'==typeof a||'function'==typeof a?oa[za.call(a)]||'object':typeof a},globalEval:function(a){a&&
b.trim(a)&&(F.execScript||function(c){F.eval.call(F,c)})(a)},camelCase:function(a){return a.replace(m,'ms-').replace(A,y)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()},each:function(a,c){var e,h=0;if(da(a))for(e=a.length;e>h&&!1!==c.call(a[h],h,a[h]);h++);else for(h in a)if(!1===c.call(a[h],h,a[h]))break;return a},trim:function(a){return null==a?'':(a+'').replace(g,'')},makeArray:function(a,c){c=c||[];return null!=a&&(da(Object(a))?b.merge(c,'string'==typeof a?
[a]:a):La.call(c,a)),c},inArray:function(a,c,e){if(c){if(W)return W.call(c,a,e);var h=c.length;for(e=e?0>e?Math.max(0,h+e):e:0;h>e;e++)if(e in c&&c[e]===a)return e}return-1},merge:function(a,c){for(var e=+c.length,h=0,l=a.length;e>h;)a[l++]=c[h++];if(e!==e)for(;void 0!==c[h];)a[l++]=c[h++];return a.length=l,a},grep:function(a,c,e){for(var h=[],l=0,D=a.length,G=!e;D>l;l++)e=!c(a[l],l),e!==G&&h.push(a[l]);return h},map:function(a,c,e){var h,l=0,D=[];if(da(a))for(h=a.length;h>l;l++){var G=c(a[l],l,e);
null!=G&&D.push(G)}else for(l in a)G=c(a[l],l,e),null!=G&&D.push(G);return wa.apply([],D)},guid:1,proxy:function(a,c){var e,h,l;return'string'==typeof c&&(l=a[c],c=a,a=l),b.isFunction(a)?(e=la.call(arguments,2),h=function(){return a.apply(c||this,e.concat(la.call(arguments)))},h.guid=a.guid=a.guid||b.guid++,h):void 0},now:function(){return+new Date},support:k});'function'==typeof Symbol&&(b.fn[Symbol.iterator]=Kb[Symbol.iterator]);b.each('Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' '),
function(a,c){oa['[object '+c+']']=c.toLowerCase()});var B=function(a){function c(L,ca,ja,ua){var Ga,Ka,Sa,fb,Ya=ca&&ca.ownerDocument,lb=ca?ca.nodeType:9;if(ja=ja||[],'string'!=typeof L||!L||1!==lb&&9!==lb&&11!==lb)return ja;if(!ua&&((ca?ca.ownerDocument||ca:ac)!==tb&&Dc(ca),ca=ca||tb,gc)){if(11!==lb&&(fb=yd.exec(L)))if(Ga=fb[1])if(9===lb){if(!(Ka=ca.getElementById(Ga)))return ja;if(Ka.id===Ga)return ja.push(Ka),ja}else{if(Ya&&(Ka=Ya.getElementById(Ga))&&nc(ca,Ka)&&Ka.id===Ga)return ja.push(Ka),ja}else{if(fb[2])return Cc.apply(ja,
ca.getElementsByTagName(L)),ja;if((Ga=fb[3])&&Sb.getElementsByClassName&&ca.getElementsByClassName)return Cc.apply(ja,ca.getElementsByClassName(Ga)),ja}if(!(!Sb.qsa||bc[L+' ']||Yb&&Yb.test(L))){if(1!==lb){Ya=ca;var ob=L}else if('object'!==ca.nodeName.toLowerCase()){(Sa=ca.getAttribute('id'))?Sa=Sa.replace(zd,'\\$&'):ca.setAttribute('id',Sa=Eb);fb=Pc(L);Ga=fb.length;for(Ka=ld.test(Sa)?'#'+Sa:"[id='"+Sa+"']";Ga--;)fb[Ga]=Ka+' '+Xa(fb[Ga]);ob=fb.join(',');Ya=Xc.test(L)&&sa(ca.parentNode)||ca}if(ob)try{return Cc.apply(ja,
Ya.querySelectorAll(ob)),ja}catch(kb){}finally{Sa===Eb&&ca.removeAttribute('id')}}}return hc(L.replace(Qc,'$1'),ca,ja,ua)}function e(){function L(ja,ua){return ca.push(ja+' ')>Ib.cacheLength&&delete L[ca.shift()],L[ja+' ']=ua}var ca=[];return L}function h(L){return L[Eb]=!0,L}function l(L){var ca=tb.createElement('div');try{return!!L(ca)}catch(ja){return!1}finally{ca.parentNode&&ca.parentNode.removeChild(ca)}}function D(L,ca){L=L.split('|');for(var ja=L.length;ja--;)Ib.attrHandle[L[ja]]=ca}function G(L,
ca){var ja=ca&&L,ua=ja&&1===L.nodeType&&1===ca.nodeType&&(~ca.sourceIndex||-2147483648)-(~L.sourceIndex||-2147483648);if(ua)return ua;if(ja)for(;ja=ja.nextSibling;)if(ja===ca)return-1;return L?1:-1}function Z(L){return function(ca){return'input'===ca.nodeName.toLowerCase()&&ca.type===L}}function ma(L){return function(ca){var ja=ca.nodeName.toLowerCase();return('input'===ja||'button'===ja)&&ca.type===L}}function Aa(L){return h(function(ca){return ca=+ca,h(function(ja,ua){for(var Ga,Ka=L([],ja.length,
ca),Sa=Ka.length;Sa--;)ja[Ga=Ka[Sa]]&&(ja[Ga]=!(ua[Ga]=ja[Ga]))})})}function sa(L){return L&&'undefined'!=typeof L.getElementsByTagName&&L}function Qa(){}function Xa(L){for(var ca=0,ja=L.length,ua='';ja>ca;ca++)ua+=L[ca].value;return ua}function xb(L,ca,ja){var ua=ca.dir,Ga=ja&&'parentNode'===ua,Ka=Tb++;return ca.first?function(Sa,fb,Ya){for(;Sa=Sa[ua];)if(1===Sa.nodeType||Ga)return L(Sa,fb,Ya)}:function(Sa,fb,Ya){var lb,ob,kb,Ob=[Zb,Ka];if(Ya)for(;Sa=Sa[ua];){if((1===Sa.nodeType||Ga)&&L(Sa,fb,Ya))return!0}else for(;Sa=
Sa[ua];)if(1===Sa.nodeType||Ga){if(kb=Sa[Eb]||(Sa[Eb]={}),ob=kb[Sa.uniqueID]||(kb[Sa.uniqueID]={}),(lb=ob[ua])&&lb[0]===Zb&&lb[1]===Ka)return Ob[2]=lb[2];if(ob[ua]=Ob,Ob[2]=L(Sa,fb,Ya))return!0}}}function gb(L){return 1<L.length?function(ca,ja,ua){for(var Ga=L.length;Ga--;)if(!L[Ga](ca,ja,ua))return!1;return!0}:L[0]}function Nb(L,ca,ja,ua,Ga){for(var Ka,Sa=[],fb=0,Ya=L.length,lb=null!=ca;Ya>fb;fb++)(Ka=L[fb])&&(ja&&!ja(Ka,ua,Ga)||(Sa.push(Ka),lb&&ca.push(fb)));return Sa}function kc(L,ca,ja,ua,Ga,
Ka){return ua&&!ua[Eb]&&(ua=kc(ua)),Ga&&!Ga[Eb]&&(Ga=kc(Ga,Ka)),h(function(Sa,fb,Ya,lb){var ob,kb=[],Ob=[],cc=fb.length,$b;if(!($b=Sa)){$b=ca||'*';for(var ub=Ya.nodeType?[Ya]:Ya,sc=[],ic=0,qc=ub.length;qc>ic;ic++)c($b,ub[ic],sc);$b=sc}$b=!L||!Sa&&ca?$b:Nb($b,kb,L,Ya,lb);ub=ja?Ga||(Sa?L:cc||ua)?[]:fb:$b;if(ja&&ja($b,ub,Ya,lb),ua){var dc=Nb(ub,Ob);ua(dc,[],Ya,lb);for(Ya=dc.length;Ya--;)(ob=dc[Ya])&&(ub[Ob[Ya]]=!($b[Ob[Ya]]=ob))}if(Sa){if(Ga||L){if(Ga){dc=[];for(Ya=ub.length;Ya--;)(ob=ub[Ya])&&dc.push($b[Ya]=
ob);Ga(null,ub=[],dc,lb)}for(Ya=ub.length;Ya--;)(ob=ub[Ya])&&-1<(dc=Ga?Ec(Sa,ob):kb[Ya])&&(Sa[dc]=!(fb[dc]=ob))}}else ub=Nb(ub===fb?ub.splice(cc,ub.length):ub),Ga?Ga(null,fb,ub,lb):Cc.apply(fb,ub)})}function Ic(L){var ca,ja,ua=L.length,Ga=Ib.relative[L[0].type];var Ka=Ga||Ib.relative[' '];for(var Sa=Ga?1:0,fb=xb(function(ob){return ob===ca},Ka,!0),Ya=xb(function(ob){return-1<Ec(ca,ob)},Ka,!0),lb=[function(ob,kb,Ob){ob=!Ga&&(Ob||kb!==Fb)||((ca=kb).nodeType?fb(ob,kb,Ob):Ya(ob,kb,Ob));return ca=null,
ob}];ua>Sa;Sa++)if(Ka=Ib.relative[L[Sa].type])lb=[xb(gb(lb),Ka)];else{if(Ka=Ib.filter[L[Sa].type].apply(null,L[Sa].matches),Ka[Eb]){for(ja=++Sa;ua>ja&&!Ib.relative[L[ja].type];ja++);return kc(1<Sa&&gb(lb),1<Sa&&Xa(L.slice(0,Sa-1).concat({value:' '===L[Sa-2].type?'*':''})).replace(Qc,'$1'),Ka,ja>Sa&&Ic(L.slice(Sa,ja)),ua>ja&&Ic(L=L.slice(ja)),ua>ja&&Xa(L))}lb.push(Ka)}return gb(lb)}function lc(L,ca){var ja=0<ca.length,ua=0<L.length,Ga=function(Ka,Sa,fb,Ya,lb){var ob,kb,Ob=0,cc='0',$b=Ka&&[],ub=[],
sc=Fb,ic=Ka||ua&&Ib.find.TAG('*',lb),qc=Zb+=null==sc?1:Math.random()||.1,dc=ic.length;for(lb&&(Fb=Sa===tb||Sa||lb);cc!==dc&&null!=(ob=ic[cc]);cc++){if(ua&&ob){var Yc=0;for(Sa||ob.ownerDocument===tb||(Dc(ob),fb=!gc);kb=L[Yc++];)if(kb(ob,Sa||tb,fb)){Ya.push(ob);break}lb&&(Zb=qc)}ja&&((ob=!kb&&ob)&&Ob--,Ka&&$b.push(ob))}if(Ob+=cc,ja&&cc!==Ob){for(Yc=0;kb=ca[Yc++];)kb($b,ub,Sa,fb);if(Ka){if(0<Ob)for(;cc--;)$b[cc]||ub[cc]||(ub[cc]=Zc.call(Ya));ub=Nb(ub)}Cc.apply(Ya,ub);lb&&!Ka&&0<ub.length&&1<Ob+ca.length&&
c.uniqueSort(Ya)}return lb&&(Zb=qc,Fb=sc),$b};return ja?h(Ga):Ga}var xc,vb,hc,Fb,Rb,Ub,tb,jc,gc,Yb,ec,Vb,nc,Eb='sizzle'+1*new Date,ac=a.document,Zb=0,Tb=0,Jc=e(),oc=e(),bc=e(),tc=function(L,ca){return L===ca&&(Ub=!0),0},uc={}.hasOwnProperty,mc=[],Zc=mc.pop,Ad=mc.push,Cc=mc.push,md=mc.slice,Ec=function(L,ca){for(var ja=0,ua=L.length;ua>ja;ja++)if(L[ja]===ca)return ja;return-1},Bd=RegExp('[\\x20\\t\\r\\n\\f]+','g'),Qc=RegExp('^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$','g'),
Cd=RegExp('^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*'),Dd=RegExp('^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*'),Ed=RegExp('=[\\x20\\t\\r\\n\\f]*([^\\]\'"]*?)[\\x20\\t\\r\\n\\f]*\\]','g'),Fd=RegExp(':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
ld=RegExp('^(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+$'),Rc={ID:RegExp('^#((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),CLASS:RegExp('^\\.((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),TAG:RegExp('^((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+|[*])'),ATTR:RegExp('^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]'),PSEUDO:RegExp('^:((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
CHILD:RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)','i'),bool:RegExp('^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$','i'),needsContext:RegExp('^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)',
'i')},Gd=/^(?:input|select|textarea|button)$/i,Hd=/^h\d$/i,Mc=/^[^{]+\{\s*\[native \w/,yd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Xc=/[+~]/,zd=/'|\\/g,yc=RegExp('\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)','ig'),zc=function(L,ca,ja){L='0x'+ca-65536;return L!==L||ja?ca:0>L?String.fromCharCode(L+65536):String.fromCharCode(L>>10|55296,1023&L|56320)},nd=function(){Dc()};try{Cc.apply(mc=md.call(ac.childNodes),ac.childNodes),mc[ac.childNodes.length].nodeType}catch(L){Cc={apply:mc.length?
function(ca,ja){Ad.apply(ca,md.call(ja))}:function(ca,ja){for(var ua=ca.length,Ga=0;ca[ua++]=ja[Ga++];);ca.length=ua-1}}}var Sb=c.support={};var Id=c.isXML=function(L){return(L=L&&(L.ownerDocument||L).documentElement)?'HTML'!==L.nodeName:!1};var Dc=c.setDocument=function(L){var ca,ja;L=L?L.ownerDocument||L:ac;return L!==tb&&9===L.nodeType&&L.documentElement?(tb=L,jc=tb.documentElement,gc=!Id(tb),(ja=tb.defaultView)&&ja.top!==ja&&(ja.addEventListener?ja.addEventListener('unload',nd,!1):ja.attachEvent&&
ja.attachEvent('onunload',nd)),Sb.attributes=l(function(ua){return ua.className='i',!ua.getAttribute('className')}),Sb.getElementsByTagName=l(function(ua){return ua.appendChild(tb.createComment('')),!ua.getElementsByTagName('*').length}),Sb.getElementsByClassName=Mc.test(tb.getElementsByClassName),Sb.getById=l(function(ua){return jc.appendChild(ua).id=Eb,!tb.getElementsByName||!tb.getElementsByName(Eb).length}),Sb.getById?(Ib.find.ID=function(ua,Ga){if('undefined'!=typeof Ga.getElementById&&gc)return(ua=
Ga.getElementById(ua))?[ua]:[]},Ib.filter.ID=function(ua){var Ga=ua.replace(yc,zc);return function(Ka){return Ka.getAttribute('id')===Ga}}):(delete Ib.find.ID,Ib.filter.ID=function(ua){var Ga=ua.replace(yc,zc);return function(Ka){return(Ka='undefined'!=typeof Ka.getAttributeNode&&Ka.getAttributeNode('id'))&&Ka.value===Ga}}),Ib.find.TAG=Sb.getElementsByTagName?function(ua,Ga){return'undefined'!=typeof Ga.getElementsByTagName?Ga.getElementsByTagName(ua):Sb.qsa?Ga.querySelectorAll(ua):void 0}:function(ua,
Ga){var Ka=[],Sa=0;Ga=Ga.getElementsByTagName(ua);if('*'===ua){for(;ua=Ga[Sa++];)1===ua.nodeType&&Ka.push(ua);return Ka}return Ga},Ib.find.CLASS=Sb.getElementsByClassName&&function(ua,Ga){return'undefined'!=typeof Ga.getElementsByClassName&&gc?Ga.getElementsByClassName(ua):void 0},ec=[],Yb=[],(Sb.qsa=Mc.test(tb.querySelectorAll))&&(l(function(ua){jc.appendChild(ua).innerHTML="<a id='"+Eb+"'></a><select id='"+Eb+"-\r\\' msallowcapture=''><option selected=''></option></select>";ua.querySelectorAll("[msallowcapture^='']").length&&
Yb.push('[*^$]=[\\x20\\t\\r\\n\\f]*(?:\'\'|"")');ua.querySelectorAll('[selected]').length||Yb.push('\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)');ua.querySelectorAll('[id~='+Eb+'-]').length||Yb.push('~=');ua.querySelectorAll(':checked').length||Yb.push(':checked');ua.querySelectorAll('a#'+Eb+'+*').length||Yb.push('.#.+[+~]')}),l(function(ua){var Ga=tb.createElement('input');Ga.setAttribute('type',
'hidden');ua.appendChild(Ga).setAttribute('name','D');ua.querySelectorAll('[name=d]').length&&Yb.push('name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=');ua.querySelectorAll(':enabled').length||Yb.push(':enabled',':disabled');ua.querySelectorAll('*,:x');Yb.push(',.*:')})),(Sb.matchesSelector=Mc.test(Vb=jc.matches||jc.webkitMatchesSelector||jc.mozMatchesSelector||jc.oMatchesSelector||jc.msMatchesSelector))&&l(function(ua){Sb.disconnectedMatch=Vb.call(ua,'div');Vb.call(ua,"[s!='']:x");ec.push('!=',':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)')}),
Yb=Yb.length&&new RegExp(Yb.join('|')),ec=ec.length&&new RegExp(ec.join('|')),ca=Mc.test(jc.compareDocumentPosition),nc=ca||Mc.test(jc.contains)?function(ua,Ga){var Ka=9===ua.nodeType?ua.documentElement:ua;Ga=Ga&&Ga.parentNode;return ua===Ga||!(!Ga||1!==Ga.nodeType||!(Ka.contains?Ka.contains(Ga):ua.compareDocumentPosition&&16&ua.compareDocumentPosition(Ga)))}:function(ua,Ga){if(Ga)for(;Ga=Ga.parentNode;)if(Ga===ua)return!0;return!1},tc=ca?function(ua,Ga){if(ua===Ga)return Ub=!0,0;var Ka=!ua.compareDocumentPosition-
!Ga.compareDocumentPosition;return Ka?Ka:(Ka=(ua.ownerDocument||ua)===(Ga.ownerDocument||Ga)?ua.compareDocumentPosition(Ga):1,1&Ka||!Sb.sortDetached&&Ga.compareDocumentPosition(ua)===Ka?ua===tb||ua.ownerDocument===ac&&nc(ac,ua)?-1:Ga===tb||Ga.ownerDocument===ac&&nc(ac,Ga)?1:Rb?Ec(Rb,ua)-Ec(Rb,Ga):0:4&Ka?-1:1)}:function(ua,Ga){if(ua===Ga)return Ub=!0,0;var Ka=0,Sa=ua.parentNode,fb=Ga.parentNode,Ya=[ua],lb=[Ga];if(!Sa||!fb)return ua===tb?-1:Ga===tb?1:Sa?-1:fb?1:Rb?Ec(Rb,ua)-Ec(Rb,Ga):0;if(Sa===fb)return G(ua,
Ga);for(;ua=ua.parentNode;)Ya.unshift(ua);for(ua=Ga;ua=ua.parentNode;)lb.unshift(ua);for(;Ya[Ka]===lb[Ka];)Ka++;return Ka?G(Ya[Ka],lb[Ka]):Ya[Ka]===ac?-1:lb[Ka]===ac?1:0},tb):tb};c.matches=function(L,ca){return c(L,null,null,ca)};c.matchesSelector=function(L,ca){if((L.ownerDocument||L)!==tb&&Dc(L),ca=ca.replace(Ed,"='$1']"),!(!Sb.matchesSelector||!gc||bc[ca+' ']||ec&&ec.test(ca)||Yb&&Yb.test(ca)))try{var ja=Vb.call(L,ca);if(ja||Sb.disconnectedMatch||L.document&&11!==L.document.nodeType)return ja}catch(ua){}return 0<
c(ca,tb,null,[L]).length};c.contains=function(L,ca){return(L.ownerDocument||L)!==tb&&Dc(L),nc(L,ca)};c.attr=function(L,ca){(L.ownerDocument||L)!==tb&&Dc(L);var ja=Ib.attrHandle[ca.toLowerCase()];ja=ja&&uc.call(Ib.attrHandle,ca.toLowerCase())?ja(L,ca,!gc):void 0;return void 0!==ja?ja:Sb.attributes||!gc?L.getAttribute(ca):(ja=L.getAttributeNode(ca))&&ja.specified?ja.value:null};c.error=function(L){throw Error('Syntax error, unrecognized expression: '+L);};c.uniqueSort=function(L){var ca,ja=[],ua=0,
Ga=0;if(Ub=!Sb.detectDuplicates,Rb=!Sb.sortStable&&L.slice(0),L.sort(tc),Ub){for(;ca=L[Ga++];)ca===L[Ga]&&(ua=ja.push(Ga));for(;ua--;)L.splice(ja[ua],1)}return Rb=null,L};var $c=c.getText=function(L){var ca,ja='',ua=0;if(ca=L.nodeType)if(1===ca||9===ca||11===ca){if('string'==typeof L.textContent)return L.textContent;for(L=L.firstChild;L;L=L.nextSibling)ja+=$c(L)}else{if(3===ca||4===ca)return L.nodeValue}else for(;ca=L[ua++];)ja+=$c(ca);return ja};var Ib=c.selectors={cacheLength:50,createPseudo:h,
match:Rc,attrHandle:{},find:{},relative:{'>':{dir:'parentNode',first:!0},' ':{dir:'parentNode'},'+':{dir:'previousSibling',first:!0},'~':{dir:'previousSibling'}},preFilter:{ATTR:function(L){return L[1]=L[1].replace(yc,zc),L[3]=(L[3]||L[4]||L[5]||'').replace(yc,zc),'~='===L[2]&&(L[3]=' '+L[3]+' '),L.slice(0,4)},CHILD:function(L){return L[1]=L[1].toLowerCase(),'nth'===L[1].slice(0,3)?(L[3]||c.error(L[0]),L[4]=+(L[4]?L[5]+(L[6]||1):2*('even'===L[3]||'odd'===L[3])),L[5]=+(L[7]+L[8]||'odd'===L[3])):L[3]&&
c.error(L[0]),L},PSEUDO:function(L){var ca,ja=!L[6]&&L[2];return Rc.CHILD.test(L[0])?null:(L[3]?L[2]=L[4]||L[5]||'':ja&&Fd.test(ja)&&(ca=Pc(ja,!0))&&(ca=ja.indexOf(')',ja.length-ca)-ja.length)&&(L[0]=L[0].slice(0,ca),L[2]=ja.slice(0,ca)),L.slice(0,3))}},filter:{TAG:function(L){var ca=L.replace(yc,zc).toLowerCase();return'*'===L?function(){return!0}:function(ja){return ja.nodeName&&ja.nodeName.toLowerCase()===ca}},CLASS:function(L){var ca=Jc[L+' '];return ca||(ca=new RegExp('(^|[\\x20\\t\\r\\n\\f])'+
L+'([\\x20\\t\\r\\n\\f]|$)'),Jc(L,function(ja){return ca.test('string'==typeof ja.className&&ja.className||'undefined'!=typeof ja.getAttribute&&ja.getAttribute('class')||'')}))},ATTR:function(L,ca,ja){return function(ua){ua=c.attr(ua,L);return null==ua?'!='===ca:ca?(ua+='','='===ca?ua===ja:'!='===ca?ua!==ja:'^='===ca?ja&&0===ua.indexOf(ja):'*='===ca?ja&&-1<ua.indexOf(ja):'$='===ca?ja&&ua.slice(-ja.length)===ja:'~='===ca?-1<(' '+ua.replace(Bd,' ')+' ').indexOf(ja):'|='===ca?ua===ja||ua.slice(0,ja.length+
1)===ja+'-':!1):!0}},CHILD:function(L,ca,ja,ua,Ga){var Ka='nth'!==L.slice(0,3),Sa='last'!==L.slice(-4),fb='of-type'===ca;return 1===ua&&0===Ga?function(Ya){return!!Ya.parentNode}:function(Ya,lb,ob){var kb,Ob;lb=Ka!==Sa?'nextSibling':'previousSibling';var cc=Ya.parentNode,$b=fb&&Ya.nodeName.toLowerCase();ob=!ob&&!fb;var ub=!1;if(cc){if(Ka){for(;lb;){for(kb=Ya;kb=kb[lb];)if(fb?kb.nodeName.toLowerCase()===$b:1===kb.nodeType)return!1;var sc=lb='only'===L&&!sc&&'nextSibling'}return!0}if(sc=[Sa?cc.firstChild:
cc.lastChild],Sa&&ob){kb=cc;var ic=kb[Eb]||(kb[Eb]={});var qc=ic[kb.uniqueID]||(ic[kb.uniqueID]={});var dc=qc[L]||[];ub=(Ob=dc[0]===Zb&&dc[1])&&dc[2];for(kb=Ob&&cc.childNodes[Ob];kb=++Ob&&kb&&kb[lb]||(ub=Ob=0)||sc.pop();)if(1===kb.nodeType&&++ub&&kb===Ya){qc[L]=[Zb,Ob,ub];break}}else if(ob&&(kb=Ya,ic=kb[Eb]||(kb[Eb]={}),qc=ic[kb.uniqueID]||(ic[kb.uniqueID]={}),dc=qc[L]||[],Ob=dc[0]===Zb&&dc[1],ub=Ob),!1===ub)for(;(kb=++Ob&&kb&&kb[lb]||(ub=Ob=0)||sc.pop())&&((fb?kb.nodeName.toLowerCase()!==$b:1!==
kb.nodeType)||!++ub||(ob&&(ic=kb[Eb]||(kb[Eb]={}),qc=ic[kb.uniqueID]||(ic[kb.uniqueID]={}),qc[L]=[Zb,ub]),kb!==Ya)););return ub-=Ga,ub===ua||0===ub%ua&&0<=ub/ua}}},PSEUDO:function(L,ca){var ja,ua=Ib.pseudos[L]||Ib.setFilters[L.toLowerCase()]||c.error('unsupported pseudo: '+L);return ua[Eb]?ua(ca):1<ua.length?(ja=[L,L,'',ca],Ib.setFilters.hasOwnProperty(L.toLowerCase())?h(function(Ga,Ka){for(var Sa,fb=ua(Ga,ca),Ya=fb.length;Ya--;)Sa=Ec(Ga,fb[Ya]),Ga[Sa]=!(Ka[Sa]=fb[Ya])}):function(Ga){return ua(Ga,
0,ja)}):ua}},pseudos:{not:h(function(L){var ca=[],ja=[],ua=vb(L.replace(Qc,'$1'));return ua[Eb]?h(function(Ga,Ka,Sa,fb){var Ya;Sa=ua(Ga,null,fb,[]);for(fb=Ga.length;fb--;)(Ya=Sa[fb])&&(Ga[fb]=!(Ka[fb]=Ya))}):function(Ga,Ka,Sa){return ca[0]=Ga,ua(ca,null,Sa,ja),ca[0]=null,!ja.pop()}}),has:h(function(L){return function(ca){return 0<c(L,ca).length}}),contains:h(function(L){return L=L.replace(yc,zc),function(ca){return-1<(ca.textContent||ca.innerText||$c(ca)).indexOf(L)}}),lang:h(function(L){return ld.test(L||
'')||c.error('unsupported lang: '+L),L=L.replace(yc,zc).toLowerCase(),function(ca){var ja;do if(ja=gc?ca.lang:ca.getAttribute('xml:lang')||ca.getAttribute('lang'))return ja=ja.toLowerCase(),ja===L||0===ja.indexOf(L+'-');while((ca=ca.parentNode)&&1===ca.nodeType);return!1}}),target:function(L){var ca=a.location&&a.location.hash;return ca&&ca.slice(1)===L.id},root:function(L){return L===jc},focus:function(L){return L===tb.activeElement&&(!tb.hasFocus||tb.hasFocus())&&!!(L.type||L.href||~L.tabIndex)},
enabled:function(L){return!1===L.disabled},disabled:function(L){return!0===L.disabled},checked:function(L){var ca=L.nodeName.toLowerCase();return'input'===ca&&!!L.checked||'option'===ca&&!!L.selected},selected:function(L){return L.parentNode&&L.parentNode.selectedIndex,!0===L.selected},empty:function(L){for(L=L.firstChild;L;L=L.nextSibling)if(6>L.nodeType)return!1;return!0},parent:function(L){return!Ib.pseudos.empty(L)},header:function(L){return Hd.test(L.nodeName)},input:function(L){return Gd.test(L.nodeName)},
button:function(L){var ca=L.nodeName.toLowerCase();return'input'===ca&&'button'===L.type||'button'===ca},text:function(L){var ca;return'input'===L.nodeName.toLowerCase()&&'text'===L.type&&(null==(ca=L.getAttribute('type'))||'text'===ca.toLowerCase())},first:Aa(function(){return[0]}),last:Aa(function(L,ca){return[ca-1]}),eq:Aa(function(L,ca,ja){return[0>ja?ja+ca:ja]}),even:Aa(function(L,ca){for(var ja=0;ca>ja;ja+=2)L.push(ja);return L}),odd:Aa(function(L,ca){for(var ja=1;ca>ja;ja+=2)L.push(ja);return L}),
lt:Aa(function(L,ca,ja){for(ca=0>ja?ja+ca:ja;0<=--ca;)L.push(ca);return L}),gt:Aa(function(L,ca,ja){for(ja=0>ja?ja+ca:ja;++ja<ca;)L.push(ja);return L})}};Ib.pseudos.nth=Ib.pseudos.eq;for(xc in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Ib.pseudos[xc]=Z(xc);for(xc in{submit:!0,reset:!0})Ib.pseudos[xc]=ma(xc);Qa.prototype=Ib.filters=Ib.pseudos;Ib.setFilters=new Qa;var Pc=c.tokenize=function(L,ca){var ja,ua,Ga,Ka,Sa;if(Ka=oc[L+' '])return ca?0:Ka.slice(0);Ka=L;var fb=[];for(Sa=Ib.preFilter;Ka;){Ya&&
!(ja=Cd.exec(Ka))||(ja&&(Ka=Ka.slice(ja[0].length)||Ka),fb.push(ua=[]));var Ya=!1;(ja=Dd.exec(Ka))&&(Ya=ja.shift(),ua.push({value:Ya,type:ja[0].replace(Qc,' ')}),Ka=Ka.slice(Ya.length));for(Ga in Ib.filter)!(ja=Rc[Ga].exec(Ka))||Sa[Ga]&&!(ja=Sa[Ga](ja))||(Ya=ja.shift(),ua.push({value:Ya,type:Ga,matches:ja}),Ka=Ka.slice(Ya.length));if(!Ya)break}return ca?Ka.length:Ka?c.error(L):oc(L,fb).slice(0)};return vb=c.compile=function(L,ca){var ja,ua=[],Ga=[],Ka=bc[L+' '];if(!Ka){ca||=Pc(L);for(ja=ca.length;ja--;)Ka=
Ic(ca[ja]),Ka[Eb]?ua.push(Ka):Ga.push(Ka);Ka=bc(L,lc(Ga,ua));Ka.selector=L}return Ka},hc=c.select=function(L,ca,ja,ua){var Ga,Ka,Sa,fb,Ya,lb='function'==typeof L&&L,ob=!ua&&Pc(L=lb.selector||L);if(ja=ja||[],1===ob.length){if(Ka=ob[0]=ob[0].slice(0),2<Ka.length&&'ID'===(Sa=Ka[0]).type&&Sb.getById&&9===ca.nodeType&&gc&&Ib.relative[Ka[1].type]){if(ca=(Ib.find.ID(Sa.matches[0].replace(yc,zc),ca)||[])[0],!ca)return ja;lb&&(ca=ca.parentNode);L=L.slice(Ka.shift().value.length)}for(Ga=Rc.needsContext.test(L)?
0:Ka.length;Ga--&&(Sa=Ka[Ga],!Ib.relative[fb=Sa.type]);)if((Ya=Ib.find[fb])&&(ua=Ya(Sa.matches[0].replace(yc,zc),Xc.test(Ka[0].type)&&sa(ca.parentNode)||ca))){if(Ka.splice(Ga,1),L=ua.length&&Xa(Ka),!L)return Cc.apply(ja,ua),ja;break}}return(lb||vb(L,ob))(ua,ca,!gc,ja,!ca||Xc.test(L)&&sa(ca.parentNode)||ca),ja},Sb.sortStable=Eb.split('').sort(tc).join('')===Eb,Sb.detectDuplicates=!!Ub,Dc(),Sb.sortDetached=l(function(L){return 1&L.compareDocumentPosition(tb.createElement('div'))}),l(function(L){return L.innerHTML=
"<a href='#'></a>",'#'===L.firstChild.getAttribute('href')})||D('type|href|height|width',function(L,ca,ja){return ja?void 0:L.getAttribute(ca,'type'===ca.toLowerCase()?1:2)}),Sb.attributes&&l(function(L){return L.innerHTML='<input/>',L.firstChild.setAttribute('value',''),''===L.firstChild.getAttribute('value')})||D('value',function(L,ca,ja){return ja||'input'!==L.nodeName.toLowerCase()?void 0:L.defaultValue}),l(function(L){return null==L.getAttribute('disabled')})||D('checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',
function(L,ca,ja){var ua;return ja?void 0:!0===L[ca]?ca.toLowerCase():(ua=L.getAttributeNode(ca))&&ua.specified?ua.value:null}),c}(F);b.find=B;b.expr=B.selectors;b.expr[':']=b.expr.pseudos;b.uniqueSort=b.unique=B.uniqueSort;b.text=B.getText;b.isXMLDoc=B.isXML;b.contains=B.contains;var S=function(a,c,e){for(var h=[],l=void 0!==e;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(l&&b(a).is(e))break;h.push(a)}return h},O=function(a,c){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==c&&e.push(a);return e},
ba=b.expr.match.needsContext,Q=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,u=/^.[^:#\[\.,]*$/;b.filter=function(a,c,e){var h=c[0];return e&&(a=':not('+a+')'),1===c.length&&1===h.nodeType?b.find.matchesSelector(h,a)?[h]:[]:b.find.matches(a,b.grep(c,function(l){return 1===l.nodeType}))};b.fn.extend({find:function(a){var c,e=[],h=this,l=h.length;if('string'!=typeof a)return this.pushStack(b(a).filter(function(){for(c=0;l>c;c++)if(b.contains(h[c],this))return!0}));for(c=0;l>c;c++)b.find(a,h[c],e);return e=this.pushStack(1<
l?b.unique(e):e),e.selector=this.selector?this.selector+' '+a:a,e},filter:function(a){return this.pushStack(Ba(this,a||[],!1))},not:function(a){return this.pushStack(Ba(this,a||[],!0))},is:function(a){return!!Ba(this,'string'==typeof a&&ba.test(a)?b(a):a||[],!1).length}});var fa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(b.fn.init=function(a,c,e){var h,l;if(!a)return this;if(e=e||ta,'string'==typeof a){if(h='<'===a.charAt(0)&&'>'===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:fa.exec(a),!h||!h[1]&&
c)return!c||c.jquery?(c||e).find(a):this.constructor(c).find(a);if(h[1]){if(c=c instanceof b?c[0]:c,b.merge(this,b.parseHTML(h[1],c&&c.nodeType?c.ownerDocument||c:Ra,!0)),Q.test(h[1])&&b.isPlainObject(c))for(h in c)b.isFunction(this[h])?this[h](c[h]):this.attr(h,c[h]);return this}if(l=Ra.getElementById(h[2]),l&&l.parentNode){if(l.id!==h[2])return ta.find(a);this.length=1;this[0]=l}return this.context=Ra,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):b.isFunction(a)?
'undefined'!=typeof e.ready?e.ready(a):a(b):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),b.makeArray(a,this))}).prototype=b.fn;var ta=b(Ra);var ka=/^(?:parents|prev(?:Until|All))/,ia={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({has:function(a){var c,e=b(a,this),h=e.length;return this.filter(function(){for(c=0;h>c;c++)if(b.contains(this,e[c]))return!0})},closest:function(a,c){for(var e,h=0,l=this.length,D=[],G=ba.test(a)||'string'!=typeof a?b(a,c||this.context):
0;l>h;h++)for(e=this[h];e&&e!==c;e=e.parentNode)if(11>e.nodeType&&(G?-1<G.index(e):1===e.nodeType&&b.find.matchesSelector(e,a))){D.push(e);break}return this.pushStack(1<D.length?b.uniqueSort(D):D)},index:function(a){return a?'string'==typeof a?b.inArray(this[0],b(a)):b.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,c){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(a,c))))},addBack:function(a){return this.add(null==a?this.prevObject:
this.prevObject.filter(a))}});b.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return S(a,'parentNode')},parentsUntil:function(a,c,e){return S(a,'parentNode',e)},next:function(a){return M(a,'nextSibling')},prev:function(a){return M(a,'previousSibling')},nextAll:function(a){return S(a,'nextSibling')},prevAll:function(a){return S(a,'previousSibling')},nextUntil:function(a,c,e){return S(a,'nextSibling',e)},prevUntil:function(a,c,e){return S(a,'previousSibling',
e)},siblings:function(a){return O((a.parentNode||{}).firstChild,a)},children:function(a){return O(a.firstChild)},contents:function(a){return b.nodeName(a,'iframe')?a.contentDocument||a.contentWindow.document:b.merge([],a.childNodes)}},function(a,c){b.fn[a]=function(e,h){var l=b.map(this,c,e);return'Until'!==a.slice(-5)&&(h=e),h&&'string'==typeof h&&(l=b.filter(h,l)),1<this.length&&(ia[a]||(l=b.uniqueSort(l)),ka.test(a)&&(l=l.reverse())),this.pushStack(l)}});var Ca=/\S+/g;b.Callbacks=function(a){a=
'string'==typeof a?V(a):b.extend({},a);var c,e,h,l,D=[],G=[],Z=-1,ma=function(){l=a.once;for(h=c=!0;G.length;Z=-1)for(e=G.shift();++Z<D.length;)!1===D[Z].apply(e[0],e[1])&&a.stopOnFalse&&(Z=D.length,e=!1);a.memory||(e=!1);c=!1;l&&(D=e?[]:'')},Aa={add:function(){return D&&(e&&!c&&(Z=D.length-1,G.push(e)),function Xa(Qa){b.each(Qa,function(xb,gb){b.isFunction(gb)?a.unique&&Aa.has(gb)||D.push(gb):gb&&gb.length&&'string'!==b.type(gb)&&Xa(gb)})}(arguments),e&&!c&&ma()),this},remove:function(){return b.each(arguments,
function(sa,Qa){for(var Xa;-1<(Xa=b.inArray(Qa,D,Xa));)D.splice(Xa,1),Z>=Xa&&Z--}),this},has:function(sa){return sa?-1<b.inArray(sa,D):0<D.length},empty:function(){return D&&=[],this},disable:function(){return l=G=[],D=e='',this},disabled:function(){return!D},lock:function(){return l=!0,e||Aa.disable(),this},locked:function(){return!!l},fireWith:function(sa,Qa){return l||(Qa=Qa||[],Qa=[sa,Qa.slice?Qa.slice():Qa],G.push(Qa),c||ma()),this},fire:function(){return Aa.fireWith(this,arguments),this},fired:function(){return!!h}};
return Aa};b.extend({Deferred:function(a){var c=[['resolve','done',b.Callbacks('once memory'),'resolved'],['reject','fail',b.Callbacks('once memory'),'rejected'],['notify','progress',b.Callbacks('memory')]],e='pending',h={state:function(){return e},always:function(){return l.done(arguments).fail(arguments),this},then:function(){var D=arguments;return b.Deferred(function(G){b.each(c,function(Z,ma){var Aa=b.isFunction(D[Z])&&D[Z];l[ma[1]](function(){var sa=Aa&&Aa.apply(this,arguments);sa&&b.isFunction(sa.promise)?
sa.promise().progress(G.notify).done(G.resolve).fail(G.reject):G[ma[0]+'With'](this===h?G.promise():this,Aa?[sa]:arguments)})});D=null}).promise()},promise:function(D){return null!=D?b.extend(D,h):h}},l={};return h.pipe=h.then,b.each(c,function(D,G){var Z=G[2],ma=G[3];h[G[1]]=Z.add;ma&&Z.add(function(){e=ma},c[1^D][2].disable,c[2][2].lock);l[G[0]]=function(){return l[G[0]+'With'](this===l?h:this,arguments),this};l[G[0]+'With']=Z.fireWith}),h.promise(l),a&&a.call(l,l),l},when:function(a){var c=0,e=
la.call(arguments),h=e.length,l=1!==h||a&&b.isFunction(a.promise)?h:0,D=1===l?a:b.Deferred(),G=function(sa,Qa,Xa){return function(xb){Qa[sa]=this;Xa[sa]=1<arguments.length?la.call(arguments):xb;Xa===ma?D.notifyWith(Qa,Xa):--l||D.resolveWith(Qa,Xa)}},Z;if(1<h){var ma=Array(h);var Aa=Array(h);for(Z=Array(h);h>c;c++)e[c]&&b.isFunction(e[c].promise)?e[c].promise().progress(G(c,Aa,ma)).done(G(c,Z,e)).fail(D.reject):--l}return l||D.resolveWith(Z,e),D.promise()}});var ya;b.fn.ready=function(a){return b.ready.promise().done(a),
this};b.extend({isReady:!1,readyWait:1,holdReady:function(a){a?b.readyWait++:b.ready(!0)},ready:function(a){(!0===a?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==a&&0<--b.readyWait||(ya.resolveWith(Ra,[b]),b.fn.triggerHandler&&(b(Ra).triggerHandler('ready'),b(Ra).off('ready'))))}});b.ready.promise=function(a){if(!ya)if(ya=b.Deferred(),'complete'===Ra.readyState||'loading'!==Ra.readyState&&!Ra.documentElement.doScroll)F.setTimeout(b.ready);else if(Ra.addEventListener)Ra.addEventListener('DOMContentLoaded',
U),F.addEventListener('load',U);else{Ra.attachEvent('onreadystatechange',U);F.attachEvent('onload',U);var c=!1;try{c=null==F.frameElement&&Ra.documentElement}catch(e){}c&&c.doScroll&&!function h(){if(!b.isReady){try{c.doScroll('left')}catch(l){return F.setTimeout(h,50)}ra();b.ready()}}()}return ya.promise(a)};b.ready.promise();for(var $a in b(k))break;k.ownFirst='0'===$a;k.inlineBlockNeedsLayout=!1;b(function(){var a,c,e,h;(e=Ra.getElementsByTagName('body')[0])&&e.style&&(c=Ra.createElement('div'),
h=Ra.createElement('div'),h.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',e.appendChild(h).appendChild(c),'undefined'!=typeof c.style.zoom&&(c.style.cssText='display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1',k.inlineBlockNeedsLayout=a=3===c.offsetWidth,a&&(e.style.zoom=1)),e.removeChild(h))});(function(){var a=Ra.createElement('div');k.deleteExpando=!0;try{delete a.test}catch(c){k.deleteExpando=!1}})();var Wa=function(a){var c=b.noData[(a.nodeName+' ').toLowerCase()],
e=+a.nodeType||1;return 1!==e&&9!==e?!1:!c||!0!==c&&a.getAttribute('classid')===c},rb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Bb=/([A-Z])/g;b.extend({cache:{},noData:{'applet ':!0,'embed ':!0,'object ':'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'},hasData:function(a){return a=a.nodeType?b.cache[a[b.expando]]:a[b.expando],!!a&&!n(a)},data:function(a,c,e){return aa(a,c,e)},removeData:function(a,c){return v(a,c)},_data:function(a,c,e){return aa(a,c,e,!0)},_removeData:function(a,c){return v(a,c,!0)}});b.fn.extend({data:function(a,
c){var e,h,l,D=this[0],G=D&&D.attributes;if(void 0===a){if(this.length&&(l=b.data(D),1===D.nodeType&&!b._data(D,'parsedAttrs'))){for(e=G.length;e--;)G[e]&&(h=G[e].name,0===h.indexOf('data-')&&(h=b.camelCase(h.slice(5)),K(D,h,l[h])));b._data(D,'parsedAttrs',!0)}return l}return'object'==typeof a?this.each(function(){b.data(this,a)}):1<arguments.length?this.each(function(){b.data(this,a,c)}):D?K(D,a,b.data(D,a)):void 0},removeData:function(a){return this.each(function(){b.removeData(this,a)})}});b.extend({queue:function(a,
c,e){var h;return a?(c=(c||'fx')+'queue',h=b._data(a,c),e&&(!h||b.isArray(e)?h=b._data(a,c,b.makeArray(e)):h.push(e)),h||[]):void 0},dequeue:function(a,c){c=c||'fx';var e=b.queue(a,c),h=e.length,l=e.shift(),D=b._queueHooks(a,c),G=function(){b.dequeue(a,c)};'inprogress'===l&&(l=e.shift(),h--);l&&('fx'===c&&e.unshift('inprogress'),delete D.stop,l.call(a,G,D));!h&&D&&D.empty.fire()},_queueHooks:function(a,c){var e=c+'queueHooks';return b._data(a,e)||b._data(a,e,{empty:b.Callbacks('once memory').add(function(){b._removeData(a,
c+'queue');b._removeData(a,e)})})}});b.fn.extend({queue:function(a,c){var e=2;return'string'!=typeof a&&(c=a,a='fx',e--),arguments.length<e?b.queue(this[0],a):void 0===c?this:this.each(function(){var h=b.queue(this,a,c);b._queueHooks(this,a);'fx'===a&&'inprogress'!==h[0]&&b.dequeue(this,a)})},dequeue:function(a){return this.each(function(){b.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||'fx',[])},promise:function(a,c){var e,h=1,l=b.Deferred(),D=this,G=this.length,Z=function(){--h||
l.resolveWith(D,[D])};'string'!=typeof a&&(c=a,a=void 0);for(a=a||'fx';G--;)(e=b._data(D[G],a+'queueHooks'))&&e.empty&&(h++,e.empty.add(Z));return Z(),l.promise(c)}});(function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var c,e,h;return e=Ra.getElementsByTagName('body')[0],e&&e.style?(c=Ra.createElement('div'),h=Ra.createElement('div'),h.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',e.appendChild(h).appendChild(c),'undefined'!=typeof c.style.zoom&&
(c.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1',c.appendChild(Ra.createElement('div')).style.width='5px',a=3!==c.offsetWidth),e.removeChild(h),a):void 0}})();var Mb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ib=new RegExp('^(?:([+-])=|)('+Mb+')([a-z%]*)$','i'),Db=['Top','Right','Bottom','Left'],Wb=function(a,c){return a=c||a,'none'===b.css(a,'display')||!b.contains(a.ownerDocument,a)},
Za=function(a,c,e,h,l,D,G){var Z=0,ma=a.length,Aa=null==e;if('object'===b.type(e))for(Z in l=!0,e)Za(a,c,Z,e[Z],!0,D,G);else if(void 0!==h&&(l=!0,b.isFunction(h)||(G=!0),Aa&&(G?(c.call(a,h),c=null):(Aa=c,c=function(sa,Qa,Xa){return Aa.call(b(sa),Xa)})),c))for(;ma>Z;Z++)c(a[Z],e,G?h:h.call(a[Z],Z,c(a[Z],e)));return l?a:Aa?c.call(a):ma?c(a[0],e):D},jb=/^(?:checkbox|radio)$/i,ea=/<([\w:-]+)/,Y=/^$|\/(?:java|ecma)script/i,ha=/^\s+/;!function(){var a=Ra.createElement('div'),c=Ra.createDocumentFragment(),
e=Ra.createElement('input');a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";k.leadingWhitespace=3===a.firstChild.nodeType;k.tbody=!a.getElementsByTagName('tbody').length;k.htmlSerialize=!!a.getElementsByTagName('link').length;k.html5Clone='<:nav></:nav>'!==Ra.createElement('nav').cloneNode(!0).outerHTML;e.type='checkbox';e.checked=!0;c.appendChild(e);k.appendChecked=e.checked;a.innerHTML='<textarea>x</textarea>';k.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue;
c.appendChild(a);e=Ra.createElement('input');e.setAttribute('type','radio');e.setAttribute('checked','checked');e.setAttribute('name','t');a.appendChild(e);k.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;k.noCloneEvent=!!a.addEventListener;a[b.expando]=1;k.attributes=!a.getAttribute(b.expando)}();var pa={option:[1,"<select multiple='multiple'>",'</select>'],legend:[1,'<fieldset>','</fieldset>'],area:[1,'<map>','</map>'],param:[1,'<object>','</object>'],thead:[1,'<table>','</table>'],
tr:[2,'<table><tbody>','</tbody></table>'],col:[2,'<table><tbody></tbody><colgroup>','</colgroup></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:k.htmlSerialize?[0,'','']:[1,'X<div>','</div>']};pa.optgroup=pa.option;pa.tbody=pa.tfoot=pa.colgroup=pa.caption=pa.thead;pa.th=pa.td;var Pa=/<|&#?\w+;/,eb=/<tbody/i;!function(){var a,c=Ra.createElement('div');for(a in{submit:!0,change:!0,focusin:!0}){var e='on'+a;(k[a]=e in F)||(c.setAttribute(e,'t'),k[a]=!1===c.attributes[e].expando)}}();
var hb=/^(?:input|select|textarea)$/i,Ma=/^key/,wb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ab=/^(?:focusinfocus|focusoutblur)$/,pb=/^([^.]*)(?:\.(.+)|)/;b.event={global:{},add:function(a,c,e,h,l){var D,G,Z,ma,Aa,sa,Qa,Xa;if(G=b._data(a)){e.handler&&(Z=e,e=Z.handler,l=Z.selector);e.guid||(e.guid=b.guid++);(D=G.events)||(D=G.events={});(Aa=G.handle)||(Aa=G.handle=function(Nb){return'undefined'==typeof b||Nb&&b.event.triggered===Nb.type?void 0:b.event.dispatch.apply(Aa.elem,arguments)},Aa.elem=
a);c=(c||'').match(Ca)||[''];for(G=c.length;G--;){var xb=pb.exec(c[G])||[];var gb=Xa=xb[1];xb=(xb[2]||'').split('.').sort();gb&&(ma=b.event.special[gb]||{},gb=(l?ma.delegateType:ma.bindType)||gb,ma=b.event.special[gb]||{},sa=b.extend({type:gb,origType:Xa,data:h,handler:e,guid:e.guid,selector:l,needsContext:l&&b.expr.match.needsContext.test(l),namespace:xb.join('.')},Z),(Qa=D[gb])||(Qa=D[gb]=[],Qa.delegateCount=0,ma.setup&&!1!==ma.setup.call(a,h,xb,Aa)||(a.addEventListener?a.addEventListener(gb,Aa,
!1):a.attachEvent&&a.attachEvent('on'+gb,Aa))),ma.add&&(ma.add.call(a,sa),sa.handler.guid||(sa.handler.guid=e.guid)),l?Qa.splice(Qa.delegateCount++,0,sa):Qa.push(sa),b.event.global[gb]=!0)}a=null}},remove:function(a,c,e,h,l){var D,G,Z,ma,Aa,sa,Qa,Xa,xb=b.hasData(a)&&b._data(a);if(xb&&(Aa=xb.events)){c=(c||'').match(Ca)||[''];for(ma=c.length;ma--;)if(G=pb.exec(c[ma])||[],sa=Xa=G[1],Qa=(G[2]||'').split('.').sort(),sa){var gb=b.event.special[sa]||{};sa=(h?gb.delegateType:gb.bindType)||sa;var Nb=Aa[sa]||
[];G=G[2]&&new RegExp('(^|\\.)'+Qa.join('\\.(?:.*\\.|)')+'(\\.|$)');for(Z=D=Nb.length;D--;){var kc=Nb[D];!l&&Xa!==kc.origType||e&&e.guid!==kc.guid||G&&!G.test(kc.namespace)||h&&h!==kc.selector&&('**'!==h||!kc.selector)||(Nb.splice(D,1),kc.selector&&Nb.delegateCount--,gb.remove&&gb.remove.call(a,kc))}Z&&!Nb.length&&(gb.teardown&&!1!==gb.teardown.call(a,Qa,xb.handle)||b.removeEvent(a,sa,xb.handle),delete Aa[sa])}else for(sa in Aa)b.event.remove(a,sa+c[ma],e,h,!0);b.isEmptyObject(Aa)&&(delete xb.handle,
b._removeData(a,'events'))}},trigger:function(a,c,e,h){var l,D,G,Z,ma=[e||Ra],Aa=Oa.call(a,'type')?a.type:a;var sa=Oa.call(a,'namespace')?a.namespace.split('.'):[];if(G=l=e=e||Ra,3!==e.nodeType&&8!==e.nodeType&&!ab.test(Aa+b.event.triggered)&&(-1<Aa.indexOf('.')&&(sa=Aa.split('.'),Aa=sa.shift(),sa.sort()),D=0>Aa.indexOf(':')&&'on'+Aa,a=a[b.expando]?a:new b.Event(Aa,'object'==typeof a&&a),a.isTrigger=h?2:3,a.namespace=sa.join('.'),a.rnamespace=a.namespace?new RegExp('(^|\\.)'+sa.join('\\.(?:.*\\.|)')+
'(\\.|$)'):null,a.result=void 0,a.target||(a.target=e),c=null==c?[a]:b.makeArray(c,[a]),Z=b.event.special[Aa]||{},h||!Z.trigger||!1!==Z.trigger.apply(e,c))){if(!h&&!Z.noBubble&&!b.isWindow(e)){var Qa=Z.delegateType||Aa;for(ab.test(Qa+Aa)||(G=G.parentNode);G;G=G.parentNode)ma.push(G),l=G;l===(e.ownerDocument||Ra)&&ma.push(l.defaultView||l.parentWindow||F)}for(sa=0;(G=ma[sa++])&&!a.isPropagationStopped();)a.type=1<sa?Qa:Z.bindType||Aa,(l=(b._data(G,'events')||{})[a.type]&&b._data(G,'handle'))&&l.apply(G,
c),(l=D&&G[D])&&l.apply&&Wa(G)&&(a.result=l.apply(G,c),!1===a.result&&a.preventDefault());if(a.type=Aa,!(h||a.isDefaultPrevented()||Z._default&&!1!==Z._default.apply(ma.pop(),c))&&Wa(e)&&D&&e[Aa]&&!b.isWindow(e)){(l=e[D])&&(e[D]=null);b.event.triggered=Aa;try{e[Aa]()}catch(Xa){}b.event.triggered=void 0;l&&(e[D]=l)}return a.result}},dispatch:function(a){a=b.event.fix(a);var c,e,h,l,D=la.call(arguments);var G=(b._data(this,'events')||{})[a.type]||[];var Z=b.event.special[a.type]||{};if(D[0]=a,a.delegateTarget=
this,!Z.preDispatch||!1!==Z.preDispatch.call(this,a)){var ma=b.event.handlers.call(this,a,G);for(G=0;(h=ma[G++])&&!a.isPropagationStopped();)for(a.currentTarget=h.elem,c=0;(l=h.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(l.namespace)||(a.handleObj=l,a.data=l.data,e=((b.event.special[l.origType]||{}).handle||l.handler).apply(h.elem,D),void 0!==e&&!1===(a.result=e)&&(a.preventDefault(),a.stopPropagation()));return Z.postDispatch&&Z.postDispatch.call(this,a),
a.result}},handlers:function(a,c){var e,h=[],l=c.delegateCount,D=a.target;if(l&&D.nodeType&&('click'!==a.type||isNaN(a.button)||1>a.button))for(;D!=this;D=D.parentNode||this)if(1===D.nodeType&&(!0!==D.disabled||'click'!==a.type)){var G=[];for(e=0;l>e;e++){var Z=c[e];var ma=Z.selector+' ';void 0===G[ma]&&(G[ma]=Z.needsContext?-1<b(ma,this).index(D):b.find(ma,this,null,[D]).length);G[ma]&&G.push(Z)}G.length&&h.push({elem:D,handlers:G})}return l<c.length&&h.push({elem:this,handlers:c.slice(l)}),h},fix:function(a){if(a[b.expando])return a;
var c=a.type;var e=a,h=this.fixHooks[c];h||(this.fixHooks[c]=h=wb.test(c)?this.mouseHooks:Ma.test(c)?this.keyHooks:{});var l=h.props?this.props.concat(h.props):this.props;a=new b.Event(e);for(c=l.length;c--;){var D=l[c];a[D]=e[D]}return a.target||(a.target=e.srcElement||Ra),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,h.filter?h.filter(a,e):a},props:'altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(' '),
fixHooks:{},keyHooks:{props:['char','charCode','key','keyCode'],filter:function(a,c){return null==a.which&&(a.which=null!=c.charCode?c.charCode:c.keyCode),a}},mouseHooks:{props:'button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement'.split(' '),filter:function(a,c){var e,h,l,D=c.button,G=c.fromElement;return null==a.pageX&&null!=c.clientX&&(h=a.target.ownerDocument||Ra,l=h.documentElement,e=h.body,a.pageX=c.clientX+(l&&l.scrollLeft||e&&e.scrollLeft||0)-(l&&
l.clientLeft||e&&e.clientLeft||0),a.pageY=c.clientY+(l&&l.scrollTop||e&&e.scrollTop||0)-(l&&l.clientTop||e&&e.clientTop||0)),!a.relatedTarget&&G&&(a.relatedTarget=G===a.target?c.toElement:G),a.which||void 0===D||(a.which=1&D?1:2&D?3:4&D?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==I()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:'focusin'},blur:{trigger:function(){return this===I()&&this.blur?(this.blur(),!1):void 0},delegateType:'focusout'},click:{trigger:function(){return b.nodeName(this,
'input')&&'checkbox'===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return b.nodeName(a.target,'a')}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,c,e){a=b.extend(new b.Event,e,{type:a,isSimulated:!0});b.event.trigger(a,null,c);a.isDefaultPrevented()&&e.preventDefault()}};b.removeEvent=Ra.removeEventListener?function(a,c,e){a.removeEventListener&&a.removeEventListener(c,e)}:function(a,
c,e){c='on'+c;a.detachEvent&&('undefined'==typeof a[c]&&(a[c]=null),a.detachEvent(c,e))};b.Event=function(a,c){return this instanceof b.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?p:H):this.type=a,c&&b.extend(this,c),this.timeStamp=a&&a.timeStamp||b.now(),void(this[b.expando]=!0)):new b.Event(a,c)};b.Event.prototype={constructor:b.Event,isDefaultPrevented:H,isPropagationStopped:H,isImmediatePropagationStopped:H,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=p;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=p;a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=p;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};b.each({mouseenter:'mouseover',
mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},function(a,c){b.event.special[a]={delegateType:c,bindType:c,handle:function(e){var h,l=e.relatedTarget,D=e.handleObj;return l&&(l===this||b.contains(this,l))||(e.type=D.origType,h=D.handler.apply(this,arguments),e.type=c),h}}});k.submit||(b.event.special.submit={setup:function(){return b.nodeName(this,'form')?!1:void b.event.add(this,'click._submit keypress._submit',function(a){a=a.target;(a=b.nodeName(a,'input')||b.nodeName(a,
'button')?b.prop(a,'form'):void 0)&&!b._data(a,'submit')&&(b.event.add(a,'submit._submit',function(c){c._submitBubble=!0}),b._data(a,'submit',!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&b.event.simulate('submit',this.parentNode,a))},teardown:function(){return b.nodeName(this,'form')?!1:void b.event.remove(this,'._submit')}});k.change||(b.event.special.change={setup:function(){return hb.test(this.nodeName)?('checkbox'!==this.type&&'radio'!==
this.type||(b.event.add(this,'propertychange._change',function(a){'checked'===a.originalEvent.propertyName&&(this._justChanged=!0)}),b.event.add(this,'click._change',function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1);b.event.simulate('change',this,a)})),!1):void b.event.add(this,'beforeactivate._change',function(a){a=a.target;hb.test(a.nodeName)&&!b._data(a,'change')&&(b.event.add(a,'change._change',function(c){!this.parentNode||c.isSimulated||c.isTrigger||b.event.simulate('change',
this.parentNode,c)}),b._data(a,'change',!0))})},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||'radio'!==c.type&&'checkbox'!==c.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return b.event.remove(this,'._change'),!hb.test(this.nodeName)}});k.focusin||b.each({focus:'focusin',blur:'focusout'},function(a,c){var e=function(h){b.event.simulate(c,h.target,b.event.fix(h))};b.event.special[c]={setup:function(){var h=this.ownerDocument||this,l=b._data(h,
c);l||h.addEventListener(a,e,!0);b._data(h,c,(l||0)+1)},teardown:function(){var h=this.ownerDocument||this,l=b._data(h,c)-1;l?b._data(h,c,l):(h.removeEventListener(a,e,!0),b._removeData(h,c))}}});b.fn.extend({on:function(a,c,e,h){return x(this,a,c,e,h)},one:function(a,c,e,h){return x(this,a,c,e,h,1)},off:function(a,c,e){var h,l;if(a&&a.preventDefault&&a.handleObj)return h=a.handleObj,b(a.delegateTarget).off(h.namespace?h.origType+'.'+h.namespace:h.origType,h.selector,h.handler),this;if('object'==
typeof a){for(l in a)this.off(l,c,a[l]);return this}return!1!==c&&'function'!=typeof c||(e=c,c=void 0),!1===e&&(e=H),this.each(function(){b.event.remove(this,a,e,c)})},trigger:function(a,c){return this.each(function(){b.event.trigger(a,c,this)})},triggerHandler:function(a,c){var e=this[0];return e?b.event.trigger(a,c,e,!0):void 0}});var nb=/ jQuery\d+="(?:null|\d+)"/g,qb=RegExp('<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video)[\\s/>]',
'i'),mb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Qb=/<script|<style|<link/i,Hb=/checked\s*(?:[^=]|=\s*.checked.)/i,Lb=/^true\/(.*)/,Bc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,fc=Ja(Ra).appendChild(Ra.createElement('div'));b.extend({htmlPrefilter:function(a){return a.replace(mb,'<$1></$2>')},clone:function(a,c,e){var h,l,D,G=b.contains(a.ownerDocument,a);if(k.html5Clone||b.isXMLDoc(a)||!qb.test('<'+a.nodeName+'>')?l=a.cloneNode(!0):(fc.innerHTML=a.outerHTML,fc.removeChild(l=
fc.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||b.isXMLDoc(a))){var Z=R(l);var ma=R(a);for(D=0;null!=(h=ma[D]);++D)if(Z[D]){var Aa=void 0,sa,Qa=h,Xa=Z[D];if(1===Xa.nodeType){if(sa=Xa.nodeName.toLowerCase(),!k.noCloneEvent&&Xa[b.expando]){h=b._data(Xa);for(Aa in h.events)b.removeEvent(Xa,Aa,h.handle);Xa.removeAttribute(b.expando)}'script'===sa&&Xa.text!==Qa.text?(C(Xa).text=Qa.text,E(Xa)):'object'===sa?(Xa.parentNode&&(Xa.outerHTML=Qa.outerHTML),k.html5Clone&&Qa.innerHTML&&
!b.trim(Xa.innerHTML)&&(Xa.innerHTML=Qa.innerHTML)):'input'===sa&&jb.test(Qa.type)?(Xa.defaultChecked=Xa.checked=Qa.checked,Xa.value!==Qa.value&&(Xa.value=Qa.value)):'option'===sa?Xa.defaultSelected=Xa.selected=Qa.defaultSelected:'input'!==sa&&'textarea'!==sa||(Xa.defaultValue=Qa.defaultValue)}}}if(c)if(e)for(ma=ma||R(a),Z=Z||R(l),D=0;null!=(h=ma[D]);D++)N(h,Z[D]);else N(a,l);return Z=R(l,'script'),0<Z.length&&J(Z,!G&&R(a,'script')),l},cleanData:function(a,c){for(var e,h,l,D,G=0,Z=b.expando,ma=b.cache,
Aa=k.attributes,sa=b.event.special;null!=(e=a[G]);G++)if((c||Wa(e))&&(l=e[Z],D=l&&ma[l])){if(D.events)for(h in D.events)sa[h]?b.event.remove(e,h):b.removeEvent(e,h,D.handle);ma[l]&&(delete ma[l],Aa||'undefined'==typeof e.removeAttribute?e[Z]=void 0:e.removeAttribute(Z),Kb.push(l))}}});b.fn.extend({domManip:z,detach:function(a){return T(this,a,!0)},remove:function(a){return T(this,a)},text:function(a){return Za(this,function(c){return void 0===c?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||
Ra).createTextNode(c))},null,a,arguments.length)},append:function(){return z(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,a).appendChild(a)})},prepend:function(){return z(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=w(this,a);c.insertBefore(a,c.firstChild)}})},before:function(){return z(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return z(this,arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,c=0;null!=(a=this[c]);c++){for(1===a.nodeType&&b.cleanData(R(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&b.nodeName(a,'select')&&(a.options.length=0)}return this},clone:function(a,c){return a=null==a?!1:a,c=null==c?a:c,this.map(function(){return b.clone(this,a,c)})},html:function(a){return Za(this,function(c){var e=this[0]||{},h=0,l=this.length;if(void 0===c)return 1===e.nodeType?
e.innerHTML.replace(nb,''):void 0;if(!('string'!=typeof c||Qb.test(c)||!k.htmlSerialize&&qb.test(c)||!k.leadingWhitespace&&ha.test(c)||pa[(ea.exec(c)||['',''])[1].toLowerCase()])){c=b.htmlPrefilter(c);try{for(;l>h;h++)e=this[h]||{},1===e.nodeType&&(b.cleanData(R(e,!1)),e.innerHTML=c);e=0}catch(D){}}e&&this.empty().append(c)},null,a,arguments.length)},replaceWith:function(){var a=[];return z(this,arguments,function(c){var e=this.parentNode;0>b.inArray(this,a)&&(b.cleanData(R(this)),e&&e.replaceChild(c,
this))},a)}});b.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},function(a,c){b.fn[a]=function(e){for(var h=0,l=[],D=b(e),G=D.length-1;G>=h;h++)e=h===G?this:this.clone(!0),b(D[h])[c](e),La.apply(l,e.get());return this.pushStack(l)}});var Xb,Gc={HTML:'block',BODY:'block'},pc=/^margin/,Pb=new RegExp('^('+Mb+')(?!px)[a-z%]+$','i'),Nc=function(a,c,e,h){var l,D={};for(l in c)D[l]=a.style[l],a.style[l]=c[l];e=e.apply(a,h||[]);for(l in c)a.style[l]=
D[l];return e},vc=Ra.documentElement;!function(){var a,c,e,h,l,D,G=Ra.createElement('div'),Z=Ra.createElement('div');if(Z.style){Z.style.cssText='float:left;opacity:.5';k.opacity='0.5'===Z.style.opacity;k.cssFloat=!!Z.style.cssFloat;Z.style.backgroundClip='content-box';Z.cloneNode(!0).style.backgroundClip='';k.clearCloneStyle='content-box'===Z.style.backgroundClip;G=Ra.createElement('div');G.style.cssText='border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute';
Z.innerHTML='';G.appendChild(Z);k.boxSizing=''===Z.style.boxSizing||''===Z.style.MozBoxSizing||''===Z.style.WebkitBoxSizing;b.extend(k,{reliableHiddenOffsets:function(){return null==a&&ma(),h},boxSizingReliable:function(){return null==a&&ma(),e},pixelMarginRight:function(){return null==a&&ma(),c},pixelPosition:function(){return null==a&&ma(),a},reliableMarginRight:function(){return null==a&&ma(),l},reliableMarginLeft:function(){return null==a&&ma(),D}});function ma(){var Aa,sa,Qa=Ra.documentElement;
Qa.appendChild(G);Z.style.cssText='-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%';a=e=D=!1;c=l=!0;F.getComputedStyle&&(sa=F.getComputedStyle(Z),a='1%'!==(sa||{}).top,D='2px'===(sa||{}).marginLeft,e='4px'===(sa||{width:'4px'}).width,Z.style.marginRight='50%',c='4px'===(sa||{marginRight:'4px'}).marginRight,Aa=Z.appendChild(Ra.createElement('div')),Aa.style.cssText=Z.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0',
Aa.style.marginRight=Aa.style.width='0',Z.style.width='1px',l=!parseFloat((F.getComputedStyle(Aa)||{}).marginRight),Z.removeChild(Aa));Z.style.display='none';(h=0===Z.getClientRects().length)&&(Z.style.display='',Z.innerHTML='<table><tr><td></td><td>t</td></tr></table>',Z.childNodes[0].style.borderCollapse='separate',Aa=Z.getElementsByTagName('td'),Aa[0].style.cssText='margin:0;border:0;padding:0;display:none',h=0===Aa[0].offsetHeight,h&&(Aa[0].style.display='',Aa[1].style.display='none',h=0===Aa[0].offsetHeight));
Qa.removeChild(G)}}}();var wc,rc,Sc=/^(top|right|bottom|left)$/;F.getComputedStyle?(wc=function(a){var c=a.ownerDocument.defaultView;return c&&c.opener||(c=F),c.getComputedStyle(a)},rc=function(a,c,e){var h,l,D,G,Z=a.style;return e=e||wc(a),G=e?e.getPropertyValue(c)||e[c]:void 0,''!==G&&void 0!==G||b.contains(a.ownerDocument,a)||(G=b.style(a,c)),e&&!k.pixelMarginRight()&&Pb.test(G)&&pc.test(c)&&(h=Z.width,l=Z.minWidth,D=Z.maxWidth,Z.minWidth=Z.maxWidth=Z.width=G,G=e.width,Z.width=h,Z.minWidth=l,Z.maxWidth=
D),void 0===G?G:G+''}):vc.currentStyle&&(wc=function(a){return a.currentStyle},rc=function(a,c,e){var h,l,D,G,Z=a.style;return e=e||wc(a),G=e?e[c]:void 0,null==G&&Z&&Z[c]&&(G=Z[c]),Pb.test(G)&&!Sc.test(c)&&(h=Z.left,l=a.runtimeStyle,D=l&&l.left,D&&(l.left=a.currentStyle.left),Z.left='fontSize'===c?'1em':G,G=Z.pixelLeft+'px',Z.left=h,D&&(l.left=D)),void 0===G?G:G+''||'auto'});var Oc=/alpha\([^)]*\)/i,ad=/opacity\s*=\s*([^)]*)/i,Jd=/^(none|table(?!-c[ea]).+)/,wd=new RegExp('^('+Mb+')(.*)$','i'),Kd=
{position:'absolute',visibility:'hidden',display:'block'},od={letterSpacing:'0',fontWeight:'400'},kd=['Webkit','O','Moz','ms'],jd=Ra.createElement('div').style;b.extend({cssHooks:{opacity:{get:function(a,c){if(c)return a=rc(a,'opacity'),''===a?'1':a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{'float':k.cssFloat?'cssFloat':'styleFloat'},style:function(a,
c,e,h){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var l,D,G,Z=b.camelCase(c),ma=a.style;if(c=b.cssProps[Z]||(b.cssProps[Z]=Ea(Z)||Z),G=b.cssHooks[c]||b.cssHooks[Z],void 0===e)return G&&'get'in G&&void 0!==(l=G.get(a,!1,h))?l:ma[c];if(D=typeof e,'string'===D&&(l=ib.exec(e))&&l[1]&&(e=qa(a,c,l),D='number'),null!=e&&e===e&&('number'===D&&(e+=l&&l[3]||(b.cssNumber[Z]?'':'px')),k.clearCloneStyle||''!==e||0!==c.indexOf('background')||(ma[c]='inherit'),!(G&&'set'in G&&void 0===(e=G.set(a,e,h)))))try{ma[c]=
e}catch(Aa){}}},css:function(a,c,e,h){var l,D,G,Z=b.camelCase(c);return c=b.cssProps[Z]||(b.cssProps[Z]=Ea(Z)||Z),G=b.cssHooks[c]||b.cssHooks[Z],G&&'get'in G&&(D=G.get(a,!0,e)),void 0===D&&(D=rc(a,c,h)),'normal'===D&&c in od&&(D=od[c]),''===e||e?(l=parseFloat(D),!0===e||isFinite(l)?l||0:D):D}});b.each(['height','width'],function(a,c){b.cssHooks[c]={get:function(e,h,l){return h?Jd.test(b.css(e,'display'))&&0===e.offsetWidth?Nc(e,Kd,function(){return Da(e,c,l)}):Da(e,c,l):void 0},set:function(e,h,l){var D=
l&&wc(e);return Fa(e,h,l?va(e,c,l,k.boxSizing&&'border-box'===b.css(e,'boxSizing',!1,D),D):0)}}});k.opacity||(b.cssHooks.opacity={get:function(a,c){return ad.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||'')?.01*parseFloat(RegExp.$1)+'':c?'1':''},set:function(a,c){var e=a.style;a=a.currentStyle;var h=b.isNumeric(c)?'alpha(opacity='+100*c+')':'',l=a&&a.filter||e.filter||'';e.zoom=1;(1<=c||''===c)&&''===b.trim(l.replace(Oc,''))&&e.removeAttribute&&(e.removeAttribute('filter'),''===
c||a&&!a.filter)||(e.filter=Oc.test(l)?l.replace(Oc,h):l+' '+h)}});b.cssHooks.marginRight=na(k.reliableMarginRight,function(a,c){return c?Nc(a,{display:'inline-block'},rc,[a,'marginRight']):void 0});b.cssHooks.marginLeft=na(k.reliableMarginLeft,function(a,c){return c?(parseFloat(rc(a,'marginLeft'))||(b.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Nc(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+'px':void 0});b.each({margin:'',padding:'',border:'Width'},function(a,
c){b.cssHooks[a+c]={expand:function(e){var h=0,l={};for(e='string'==typeof e?e.split(' '):[e];4>h;h++)l[a+Db[h]+c]=e[h]||e[h-2]||e[0];return l}};pc.test(a)||(b.cssHooks[a+c].set=Fa)});b.fn.extend({css:function(a,c){return Za(this,function(e,h,l){var D,G={},Z=0;if(b.isArray(h)){l=wc(e);for(D=h.length;D>Z;Z++)G[h[Z]]=b.css(e,h[Z],!1,l);return G}return void 0!==l?b.style(e,h,l):b.css(e,h)},a,c,1<arguments.length)},show:function(){return Ha(this,!0)},hide:function(){return Ha(this)},toggle:function(a){return'boolean'==
typeof a?a?this.show():this.hide():this.each(function(){Wb(this)?b(this).show():b(this).hide()})}});b.Tween=Ta;Ta.prototype={constructor:Ta,init:function(a,c,e,h,l,D){this.elem=a;this.prop=e;this.easing=l||b.easing._default;this.options=c;this.start=this.now=this.cur();this.end=h;this.unit=D||(b.cssNumber[e]?'':'px')},cur:function(){var a=Ta.propHooks[this.prop];return a&&a.get?a.get(this):Ta.propHooks._default.get(this)},run:function(a){var c,e=Ta.propHooks[this.prop];return this.options.duration?
this.pos=c=b.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=c=a,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),e&&e.set?e.set(this):Ta.propHooks._default.set(this),this}};Ta.prototype.init.prototype=Ta.prototype;Ta.propHooks={_default:{get:function(a){var c;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(c=b.css(a.elem,a.prop,''),c&&'auto'!==c?c:0)},set:function(a){b.fx.step[a.prop]?
b.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[b.cssProps[a.prop]]&&!b.cssHooks[a.prop]?a.elem[a.prop]=a.now:b.style(a.elem,a.prop,a.now+a.unit)}}};Ta.propHooks.scrollTop=Ta.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};b.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:'swing'};b.fx=Ta.prototype.init;b.fx.step={};var Hc,bd,Ld=/^(?:toggle|show|hide)$/,Md=/queueHooks$/;b.Animation=b.extend(Na,
{tweeners:{'*':[function(a,c){var e=this.createTween(a,c);return qa(e.elem,a,ib.exec(c),e),e}]},tweener:function(a,c){b.isFunction(a)?(c=a,a=['*']):a=a.match(Ca);for(var e,h=0,l=a.length;l>h;h++)e=a[h],Na.tweeners[e]=Na.tweeners[e]||[],Na.tweeners[e].unshift(c)},prefilters:[function(a,c,e){var h,l,D,G,Z,ma,Aa,sa=this,Qa={},Xa=a.style,xb=a.nodeType&&Wb(a),gb=b._data(a,'fxshow');e.queue||(G=b._queueHooks(a,'fx'),null==G.unqueued&&(G.unqueued=0,Z=G.empty.fire,G.empty.fire=function(){G.unqueued||Z()}),
G.unqueued++,sa.always(function(){sa.always(function(){G.unqueued--;b.queue(a,'fx').length||G.empty.fire()})}));1===a.nodeType&&('height'in c||'width'in c)&&(e.overflow=[Xa.overflow,Xa.overflowX,Xa.overflowY],ma=b.css(a,'display'),Aa='none'===ma?b._data(a,'olddisplay')||xa(a.nodeName):ma,'inline'===Aa&&'none'===b.css(a,'float')&&(k.inlineBlockNeedsLayout&&'inline'!==xa(a.nodeName)?Xa.zoom=1:Xa.display='inline-block'));e.overflow&&(Xa.overflow='hidden',k.shrinkWrapBlocks()||sa.always(function(){Xa.overflow=
e.overflow[0];Xa.overflowX=e.overflow[1];Xa.overflowY=e.overflow[2]}));for(h in c)if(l=c[h],Ld.exec(l)){if(delete c[h],D=D||'toggle'===l,l===(xb?'hide':'show')){if('show'!==l||!gb||void 0===gb[h])continue;xb=!0}Qa[h]=gb&&gb[h]||b.style(a,h)}else ma=void 0;if(b.isEmptyObject(Qa))'inline'===('none'===ma?xa(a.nodeName):ma)&&(Xa.display=ma);else for(h in gb?'hidden'in gb&&(xb=gb.hidden):gb=b._data(a,'fxshow',{}),D&&(gb.hidden=!xb),xb?b(a).show():sa.done(function(){b(a).hide()}),sa.done(function(){var Nb;
b._removeData(a,'fxshow');for(Nb in Qa)b.style(a,Nb,Qa[Nb])}),Qa)c=zb(xb?gb[h]:0,h,sa),h in gb||(gb[h]=c.start,xb&&(c.end=c.start,c.start='width'===h||'height'===h?1:0))}],prefilter:function(a,c){c?Na.prefilters.unshift(a):Na.prefilters.push(a)}});b.speed=function(a,c,e){var h=a&&'object'==typeof a?b.extend({},a):{complete:e||!e&&c||b.isFunction(a)&&a,duration:a,easing:e&&c||c&&!b.isFunction(c)&&c};return h.duration=b.fx.off?0:'number'==typeof h.duration?h.duration:h.duration in b.fx.speeds?b.fx.speeds[h.duration]:
b.fx.speeds._default,null!=h.queue&&!0!==h.queue||(h.queue='fx'),h.old=h.complete,h.complete=function(){b.isFunction(h.old)&&h.old.call(this);h.queue&&b.dequeue(this,h.queue)},h};b.fn.extend({fadeTo:function(a,c,e,h){return this.filter(Wb).css('opacity',0).show().end().animate({opacity:c},a,e,h)},animate:function(a,c,e,h){var l=b.isEmptyObject(a),D=b.speed(c,e,h);c=function(){var G=Na(this,b.extend({},a),D);(l||b._data(this,'finish'))&&G.stop(!0)};return c.finish=c,l||!1===D.queue?this.each(c):this.queue(D.queue,
c)},stop:function(a,c,e){var h=function(l){var D=l.stop;delete l.stop;D(e)};return'string'!=typeof a&&(e=c,c=a,a=void 0),c&&!1!==a&&this.queue(a||'fx',[]),this.each(function(){var l=!0,D=null!=a&&a+'queueHooks',G=b.timers,Z=b._data(this);if(D)Z[D]&&Z[D].stop&&h(Z[D]);else for(D in Z)Z[D]&&Z[D].stop&&Md.test(D)&&h(Z[D]);for(D=G.length;D--;)G[D].elem!==this||null!=a&&G[D].queue!==a||(G[D].anim.stop(e),l=!1,G.splice(D,1));!l&&e||b.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||'fx'),this.each(function(){var c=
b._data(this),e=c[a+'queue'];var h=c[a+'queueHooks'];var l=b.timers,D=e?e.length:0;c.finish=!0;b.queue(this,a,[]);h&&h.stop&&h.stop.call(this,!0);for(h=l.length;h--;)l[h].elem===this&&l[h].queue===a&&(l[h].anim.stop(!0),l.splice(h,1));for(h=0;D>h;h++)e[h]&&e[h].finish&&e[h].finish.call(this);delete c.finish})}});b.each(['toggle','show','hide'],function(a,c){var e=b.fn[c];b.fn[c]=function(h,l,D){return null==h||'boolean'==typeof h?e.apply(this,arguments):this.animate(Ua(c,!0),h,l,D)}});b.each({slideDown:Ua('show'),
slideUp:Ua('hide'),slideToggle:Ua('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},function(a,c){b.fn[a]=function(e,h,l){return this.animate(c,e,h,l)}});b.timers=[];b.fx.tick=function(){var a=b.timers,c=0;for(Hc=b.now();c<a.length;c++){var e=a[c];e()||a[c]!==e||a.splice(c--,1)}a.length||b.fx.stop();Hc=void 0};b.fx.timer=function(a){b.timers.push(a);a()?b.fx.start():b.timers.pop()};b.fx.interval=13;b.fx.start=function(){bd||=F.setInterval(b.fx.tick,b.fx.interval)};
b.fx.stop=function(){F.clearInterval(bd);bd=null};b.fx.speeds={slow:600,fast:200,_default:400};b.fn.delay=function(a,c){return a=b.fx?b.fx.speeds[a]||a:a,c=c||'fx',this.queue(c,function(e,h){var l=F.setTimeout(e,a);h.stop=function(){F.clearTimeout(l)}})};(function(){var a=Ra.createElement('input');Ra.createElement('div');var c=Ra.createElement('select'),e=c.appendChild(Ra.createElement('option'));var h=Ra.createElement('div');h.setAttribute('className','t');h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
h.getElementsByTagName('a');a.setAttribute('type','checkbox');h.appendChild(a);var l=h.getElementsByTagName('a')[0];l.style.cssText='top:1px';k.getSetAttribute='t'!==h.className;k.style=/top/.test(l.getAttribute('style'));k.hrefNormalized='/a'===l.getAttribute('href');k.checkOn=!!a.value;k.optSelected=e.selected;k.enctype=!!Ra.createElement('form').enctype;c.disabled=!0;k.optDisabled=!e.disabled;a=Ra.createElement('input');a.setAttribute('value','');k.input=''===a.getAttribute('value');a.value='t';
a.setAttribute('type','radio');k.radioValue='t'===a.value})();var Nd=/\r/g,Od=/[\x20\t\r\n\f]+/g;b.fn.extend({val:function(a){var c,e,h,l=this[0];if(arguments.length)return h=b.isFunction(a),this.each(function(D){var G;1===this.nodeType&&(G=h?a.call(this,D,b(this).val()):a,null==G?G='':'number'==typeof G?G+='':b.isArray(G)&&(G=b.map(G,function(Z){return null==Z?'':Z+''})),c=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],c&&'set'in c&&void 0!==c.set(this,G,'value')||(this.value=G))});
if(l)return c=b.valHooks[l.type]||b.valHooks[l.nodeName.toLowerCase()],c&&'get'in c&&void 0!==(e=c.get(l,'value'))?e:(e=l.value,'string'==typeof e?e.replace(Nd,''):null==e?'':e)}});b.extend({valHooks:{option:{get:function(a){var c=b.find.attr(a,'value');return null!=c?c:b.trim(b.text(a)).replace(Od,' ')}},select:{get:function(a){for(var c,e=a.options,h=a.selectedIndex,l='select-one'===a.type||0>h,D=l?null:[],G=l?h+1:e.length,Z=0>h?G:l?h:0;G>Z;Z++)if(c=e[Z],!(!c.selected&&Z!==h||(k.optDisabled?c.disabled:
null!==c.getAttribute('disabled'))||c.parentNode.disabled&&b.nodeName(c.parentNode,'optgroup'))){if(a=b(c).val(),l)return a;D.push(a)}return D},set:function(a,c){var e,h,l=a.options;c=b.makeArray(c);for(var D=l.length;D--;)if(h=l[D],-1<b.inArray(b.valHooks.option.get(h),c))try{h.selected=e=!0}catch(G){h.scrollHeight}else h.selected=!1;return e||(a.selectedIndex=-1),l}}}});b.each(['radio','checkbox'],function(){b.valHooks[this]={set:function(a,c){return b.isArray(c)?a.checked=-1<b.inArray(b(a).val(),
c):void 0}};k.checkOn||(b.valHooks[this].get=function(a){return null===a.getAttribute('value')?'on':a.value})});var Kc,Ac=b.expr.attrHandle,cd=/^(?:checked|selected)$/i,Fc=k.getSetAttribute,Tc=k.input;b.fn.extend({attr:function(a,c){return Za(this,b.attr,a,c,1<arguments.length)},removeAttr:function(a){return this.each(function(){b.removeAttr(this,a)})}});b.extend({attr:function(a,c,e){var h,l,D=a.nodeType;if(3!==D&&8!==D&&2!==D)return'undefined'==typeof a.getAttribute?b.prop(a,c,e):(1===D&&b.isXMLDoc(a)||
(c=c.toLowerCase(),l=b.attrHooks[c]||(b.expr.match.bool.test(c)?Pd:Kc)),void 0!==e?null===e?void b.removeAttr(a,c):l&&'set'in l&&void 0!==(h=l.set(a,e,c))?h:(a.setAttribute(c,e+''),e):l&&'get'in l&&null!==(h=l.get(a,c))?h:(h=b.find.attr(a,c),null==h?void 0:h))},attrHooks:{type:{set:function(a,c){if(!k.radioValue&&'radio'===c&&b.nodeName(a,'input')){var e=a.value;return a.setAttribute('type',c),e&&(a.value=e),c}}}},removeAttr:function(a,c){var e=0,h=c&&c.match(Ca);if(h&&1===a.nodeType)for(;c=h[e++];){var l=
b.propFix[c]||c;b.expr.match.bool.test(c)?Tc&&Fc||!cd.test(c)?a[l]=!1:a[b.camelCase('default-'+c)]=a[l]=!1:b.attr(a,c,'');a.removeAttribute(Fc?c:l)}}});var Pd={set:function(a,c,e){return!1===c?b.removeAttr(a,e):Tc&&Fc||!cd.test(e)?a.setAttribute(!Fc&&b.propFix[e]||e,e):a[b.camelCase('default-'+e)]=a[e]=!0,e}};b.each(b.expr.match.bool.source.match(/\w+/g),function(a,c){var e=Ac[c]||b.find.attr;Tc&&Fc||!cd.test(c)?Ac[c]=function(h,l,D){var G,Z;return D||(Z=Ac[l],Ac[l]=G,G=null!=e(h,l,D)?l.toLowerCase():
null,Ac[l]=Z),G}:Ac[c]=function(h,l,D){return D?void 0:h[b.camelCase('default-'+l)]?l.toLowerCase():null}});Tc&&Fc||(b.attrHooks.value={set:function(a,c,e){return b.nodeName(a,'input')?void(a.defaultValue=c):Kc&&Kc.set(a,c,e)}});Fc||(Kc={set:function(a,c,e){var h=a.getAttributeNode(e);return h||a.setAttributeNode(h=a.ownerDocument.createAttribute(e)),h.value=c+='','value'===e||c===a.getAttribute(e)?c:void 0}},Ac.id=Ac.name=Ac.coords=function(a,c,e){var h;return e?void 0:(h=a.getAttributeNode(c))&&
''!==h.value?h.value:null},b.valHooks.button={get:function(a,c){return(a=a.getAttributeNode(c))&&a.specified?a.value:void 0},set:Kc.set},b.attrHooks.contenteditable={set:function(a,c,e){Kc.set(a,''===c?!1:c,e)}},b.each(['width','height'],function(a,c){b.attrHooks[c]={set:function(e,h){return''===h?(e.setAttribute(c,'auto'),h):void 0}}}));k.style||(b.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,c){return a.style.cssText=c+''}});var Qd=/^(?:input|select|textarea|button|object)$/i,
Rd=/^(?:a|area)$/i;b.fn.extend({prop:function(a,c){return Za(this,b.prop,a,c,1<arguments.length)},removeProp:function(a){return a=b.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(c){}})}});b.extend({prop:function(a,c,e){var h,l,D=a.nodeType;if(3!==D&&8!==D&&2!==D)return 1===D&&b.isXMLDoc(a)||(c=b.propFix[c]||c,l=b.propHooks[c]),void 0!==e?l&&'set'in l&&void 0!==(h=l.set(a,e,c))?h:a[c]=e:l&&'get'in l&&null!==(h=l.get(a,c))?h:a[c]},propHooks:{tabIndex:{get:function(a){var c=
b.find.attr(a,'tabindex');return c?parseInt(c,10):Qd.test(a.nodeName)||Rd.test(a.nodeName)&&a.href?0:-1}}},propFix:{'for':'htmlFor','class':'className'}});k.hrefNormalized||b.each(['href','src'],function(a,c){b.propHooks[c]={get:function(e){return e.getAttribute(c,4)}}});k.optSelected||(b.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});
b.each('tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable'.split(' '),function(){b.propFix[this.toLowerCase()]=this});k.enctype||(b.propFix.enctype='encoding');var dd=/[\t\r\n\f]/g;b.fn.extend({addClass:function(a){var c,e,h,l,D,G,Z=0;if(b.isFunction(a))return this.each(function(ma){b(this).addClass(a.call(this,ma,bb(this)))});if('string'==typeof a&&a)for(c=a.match(Ca)||[];e=this[Z++];)if(l=bb(e),h=1===e.nodeType&&(' '+l+' ').replace(dd,' ')){for(G=
0;D=c[G++];)0>h.indexOf(' '+D+' ')&&(h+=D+' ');h=b.trim(h);l!==h&&b.attr(e,'class',h)}return this},removeClass:function(a){var c,e,h,l,D,G,Z=0;if(b.isFunction(a))return this.each(function(ma){b(this).removeClass(a.call(this,ma,bb(this)))});if(!arguments.length)return this.attr('class','');if('string'==typeof a&&a)for(c=a.match(Ca)||[];e=this[Z++];)if(l=bb(e),h=1===e.nodeType&&(' '+l+' ').replace(dd,' ')){for(G=0;D=c[G++];)for(;-1<h.indexOf(' '+D+' ');)h=h.replace(' '+D+' ',' ');h=b.trim(h);l!==h&&
b.attr(e,'class',h)}return this},toggleClass:function(a,c){var e=typeof a;return'boolean'==typeof c&&'string'===e?c?this.addClass(a):this.removeClass(a):b.isFunction(a)?this.each(function(h){b(this).toggleClass(a.call(this,h,bb(this),c),c)}):this.each(function(){var h,l;if('string'===e){var D=0;var G=b(this);for(l=a.match(Ca)||[];h=l[D++];)G.hasClass(h)?G.removeClass(h):G.addClass(h)}else void 0!==a&&'boolean'!==e||(h=bb(this),h&&b._data(this,'__className__',h),b.attr(this,'class',h||!1===a?'':b._data(this,
'__className__')||''))})},hasClass:function(a){var c,e=0;for(a=' '+a+' ';c=this[e++];)if(1===c.nodeType&&-1<(' '+bb(c)+' ').replace(dd,' ').indexOf(a))return!0;return!1}});b.each('blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(' '),function(a,c){b.fn[c]=function(e,h){return 0<arguments.length?this.on(c,null,e,h):this.trigger(c)}});b.fn.extend({hover:function(a,
c){return this.mouseenter(a).mouseleave(c||a)}});var Sd=F.location,ed=b.now(),fd=/\?/,Td=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;b.parseJSON=function(a){if(F.JSON&&F.JSON.parse)return F.JSON.parse(a+'');var c,e=null,h=b.trim(a+'');return h&&!b.trim(h.replace(Td,function(l,D,G,Z){return c&&D&&(e=0),0===e?l:(c=G||D,e+=!Z-!G,'')}))?Function('return '+h)():b.error('Invalid JSON: '+a)};b.parseXML=function(a){var c,
e;if(!a||'string'!=typeof a)return null;try{F.DOMParser?(e=new F.DOMParser,c=e.parseFromString(a,'text/xml')):(c=new F.ActiveXObject('Microsoft.XMLDOM'),c.async='false',c.loadXML(a))}catch(h){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName('parsererror').length||b.error('Invalid XML: '+a),c};var Ud=/#.*$/,pd=/([?&])_=[^&]*/,Vd=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Wd=/^(?:GET|HEAD)$/,Xd=/^\/\//,qd=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,rd={},Wc={},sd='*/'.concat('*'),
gd=Sd.href,Lc=qd.exec(gd.toLowerCase())||[];b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gd,type:'GET',isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Lc[1]),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{'*':sd,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',json:'application/json, text/javascript'},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:'responseXML',
text:'responseText',json:'responseJSON'},converters:{'* text':String,'text html':!0,'text json':b.parseJSON,'text xml':b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,c){return c?cb(cb(a,b.ajaxSettings),c):cb(b.ajaxSettings,a)},ajaxPrefilter:Ab(rd),ajaxTransport:Ab(Wc),ajax:function(a,c){function e(Fb,Rb,Ub,tb){var jc,gc,Yb,ec=Rb;if(2!==lc){lc=2;G&&F.clearTimeout(G);ma=void 0;D=tb||'';vb.readyState=0<Fb?4:0;tb=200<=Fb&&300>Fb||304===Fb;if(Ub){var Vb=sa;for(var nc=vb,Eb,ac,Zb,Tb,
Jc=Vb.contents,oc=Vb.dataTypes;'*'===oc[0];)oc.shift(),void 0===ac&&(ac=Vb.mimeType||nc.getResponseHeader('Content-Type'));if(ac)for(Tb in Jc)if(Jc[Tb]&&Jc[Tb].test(ac)){oc.unshift(Tb);break}if(oc[0]in Ub)Zb=oc[0];else{for(Tb in Ub){if(!oc[0]||Vb.converters[Tb+' '+oc[0]]){Zb=Tb;break}Eb||=Tb}Zb=Zb||Eb}Vb=Zb?(Zb!==oc[0]&&oc.unshift(Zb),Ub[Zb]):void 0}a:{Ub=sa;Eb=Vb;ac=vb;Zb=tb;var bc,tc,uc;Vb={};nc=Ub.dataTypes.slice();if(nc[1])for(bc in Ub.converters)Vb[bc.toLowerCase()]=Ub.converters[bc];for(Tb=
nc.shift();Tb;)if(Ub.responseFields[Tb]&&(ac[Ub.responseFields[Tb]]=Eb),!uc&&Zb&&Ub.dataFilter&&(Eb=Ub.dataFilter(Eb,Ub.dataType)),uc=Tb,Tb=nc.shift())if('*'===Tb)Tb=uc;else if('*'!==uc&&uc!==Tb){if(bc=Vb[uc+' '+Tb]||Vb['* '+Tb],!bc)for(mc in Vb)if(tc=mc.split(' '),tc[1]===Tb&&(bc=Vb[uc+' '+tc[0]]||Vb['* '+tc[0]])){!0===bc?bc=Vb[mc]:!0!==Vb[mc]&&(Tb=tc[0],nc.unshift(tc[1]));break}if(!0!==bc)if(bc&&Ub['throws'])Eb=bc(Eb);else try{Eb=bc(Eb)}catch(Zc){var mc={state:'parsererror',error:bc?Zc:'No conversion from '+
uc+' to '+Tb};break a}}mc={state:'success',data:Eb}}Vb=mc;tb?(sa.ifModified&&(Yb=vb.getResponseHeader('Last-Modified'),Yb&&(b.lastModified[hc]=Yb),Yb=vb.getResponseHeader('etag'),Yb&&(b.etag[hc]=Yb)),204===Fb||'HEAD'===sa.type?ec='nocontent':304===Fb?ec='notmodified':(ec=Vb.state,jc=Vb.data,gc=Vb.error,tb=!gc)):(gc=ec,!Fb&&ec||(ec='error',0>Fb&&(Fb=0)));vb.status=Fb;vb.statusText=(Rb||ec)+'';tb?xb.resolveWith(Qa,[jc,ec,vb]):xb.rejectWith(Qa,[vb,ec,gc]);vb.statusCode(Nb);Nb=void 0;Z&&Xa.trigger(tb?
'ajaxSuccess':'ajaxError',[vb,sa,tb?jc:gc]);gb.fireWith(Qa,[vb,ec]);Z&&(Xa.trigger('ajaxComplete',[vb,sa]),--b.active||b.event.trigger('ajaxStop'))}}'object'==typeof a&&(c=a,a=void 0);c=c||{};var h,l,D,G,Z,ma,Aa,sa=b.ajaxSetup({},c),Qa=sa.context||sa,Xa=sa.context&&(Qa.nodeType||Qa.jquery)?b(Qa):b.event,xb=b.Deferred(),gb=b.Callbacks('once memory'),Nb=sa.statusCode||{},kc={},Ic={},lc=0,xc='canceled',vb={readyState:0,getResponseHeader:function(Fb){var Rb;if(2===lc){if(!Aa)for(Aa={};Rb=Vd.exec(D);)Aa[Rb[1].toLowerCase()]=
Rb[2];Rb=Aa[Fb.toLowerCase()]}return null==Rb?null:Rb},getAllResponseHeaders:function(){return 2===lc?D:null},setRequestHeader:function(Fb,Rb){var Ub=Fb.toLowerCase();return lc||(Fb=Ic[Ub]=Ic[Ub]||Fb,kc[Fb]=Rb),this},overrideMimeType:function(Fb){return lc||(sa.mimeType=Fb),this},statusCode:function(Fb){var Rb;if(Fb)if(2>lc)for(Rb in Fb)Nb[Rb]=[Nb[Rb],Fb[Rb]];else vb.always(Fb[vb.status]);return this},abort:function(Fb){Fb=Fb||xc;return ma&&ma.abort(Fb),e(0,Fb),this}};if(xb.promise(vb).complete=gb.add,
vb.success=vb.done,vb.error=vb.fail,sa.url=((a||sa.url||gd)+'').replace(Ud,'').replace(Xd,Lc[1]+'//'),sa.type=c.method||c.type||sa.method||sa.type,sa.dataTypes=b.trim(sa.dataType||'*').toLowerCase().match(Ca)||[''],null==sa.crossDomain&&(h=qd.exec(sa.url.toLowerCase()),sa.crossDomain=!(!h||h[1]===Lc[1]&&h[2]===Lc[2]&&(h[3]||('http:'===h[1]?'80':'443'))===(Lc[3]||('http:'===Lc[1]?'80':'443')))),sa.data&&sa.processData&&'string'!=typeof sa.data&&(sa.data=b.param(sa.data,sa.traditional)),db(rd,sa,c,
vb),2===lc)return vb;(Z=b.event&&sa.global)&&0===b.active++&&b.event.trigger('ajaxStart');sa.type=sa.type.toUpperCase();sa.hasContent=!Wd.test(sa.type);var hc=sa.url;sa.hasContent||(sa.data&&(hc=sa.url+=(fd.test(hc)?'&':'?')+sa.data,delete sa.data),!1===sa.cache&&(sa.url=pd.test(hc)?hc.replace(pd,'$1_='+ed++):hc+(fd.test(hc)?'&':'?')+'_='+ed++));sa.ifModified&&(b.lastModified[hc]&&vb.setRequestHeader('If-Modified-Since',b.lastModified[hc]),b.etag[hc]&&vb.setRequestHeader('If-None-Match',b.etag[hc]));
(sa.data&&sa.hasContent&&!1!==sa.contentType||c.contentType)&&vb.setRequestHeader('Content-Type',sa.contentType);vb.setRequestHeader('Accept',sa.dataTypes[0]&&sa.accepts[sa.dataTypes[0]]?sa.accepts[sa.dataTypes[0]]+('*'!==sa.dataTypes[0]?', '+sd+'; q=0.01':''):sa.accepts['*']);for(l in sa.headers)vb.setRequestHeader(l,sa.headers[l]);if(sa.beforeSend&&(!1===sa.beforeSend.call(Qa,vb,sa)||2===lc))return vb.abort();xc='abort';for(l in{success:1,error:1,complete:1})vb[l](sa[l]);if(ma=db(Wc,sa,c,vb)){if(vb.readyState=
1,Z&&Xa.trigger('ajaxSend',[vb,sa]),2===lc)return vb;sa.async&&0<sa.timeout&&(G=F.setTimeout(function(){vb.abort('timeout')},sa.timeout));try{lc=1,ma.send(kc,e)}catch(Fb){if(!(2>lc))throw Fb;e(-1,Fb)}}else e(-1,'No Transport');return vb},getJSON:function(a,c,e){return b.get(a,c,e,'json')},getScript:function(a,c){return b.get(a,void 0,c,'script')}});b.each(['get','post'],function(a,c){b[c]=function(e,h,l,D){return b.isFunction(h)&&(D=D||l,l=h,h=void 0),b.ajax(b.extend({url:e,type:c,dataType:D,data:h,
success:l},b.isPlainObject(e)&&e))}});b._evalUrl=function(a){return b.ajax({url:a,type:'GET',dataType:'script',cache:!0,async:!1,global:!1,'throws':!0})};b.fn.extend({wrapAll:function(a){if(b.isFunction(a))return this.each(function(e){b(this).wrapAll(a.call(this,e))});if(this[0]){var c=b(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(a){return b.isFunction(a)?
this.each(function(c){b(this).wrapInner(a.call(this,c))}):this.each(function(){var c=b(this),e=c.contents();e.length?e.wrapAll(a):c.append(a)})},wrap:function(a){var c=b.isFunction(a);return this.each(function(e){b(this).wrapAll(c?a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,'body')||b(this).replaceWith(this.childNodes)}).end()}});b.expr.filters.hidden=function(a){return k.reliableHiddenOffsets()?0>=a.offsetWidth&&0>=a.offsetHeight&&!a.getClientRects().length:
sb(a)};b.expr.filters.visible=function(a){return!b.expr.filters.hidden(a)};var Yd=/%20/g,xd=/\[\]$/,td=/\r?\n/g,Zd=/^(?:submit|button|image|reset|file)$/i,$d=/^(?:input|select|textarea|keygen)/i;b.param=function(a,c){var e,h=[],l=function(D,G){G=b.isFunction(G)?G():null==G?'':G;h[h.length]=encodeURIComponent(D)+'='+encodeURIComponent(G)};if(void 0===c&&(c=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(a)||a.jquery&&!b.isPlainObject(a))b.each(a,function(){l(this.name,this.value)});else for(e in a)Cb(e,
a[e],c,l);return h.join('&').replace(Yd,'+')};b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=b.prop(this,'elements');return a?b.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!b(this).is(':disabled')&&$d.test(this.nodeName)&&!Zd.test(a)&&(this.checked||!jb.test(a))}).map(function(a,c){a=b(this).val();return null==a?null:b.isArray(a)?b.map(a,function(e){return{name:c.name,value:e.replace(td,
'\r\n')}}):{name:c.name,value:a.replace(td,'\r\n')}}).get()}});b.ajaxSettings.xhr=void 0!==F.ActiveXObject?function(){return this.isLocal?yb():8<Ra.documentMode?Jb():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Jb()||yb()}:Jb;var ae=0,Uc={},Vc=b.ajaxSettings.xhr();F.attachEvent&&F.attachEvent('onunload',function(){for(var a in Uc)Uc[a](void 0,!0)});k.cors=!!Vc&&'withCredentials'in Vc;(Vc=k.ajax=!!Vc)&&b.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var c;return{send:function(e,
h){var l,D=a.xhr(),G=++ae;if(D.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(l in a.xhrFields)D[l]=a.xhrFields[l];a.mimeType&&D.overrideMimeType&&D.overrideMimeType(a.mimeType);a.crossDomain||e['X-Requested-With']||(e['X-Requested-With']='XMLHttpRequest');for(l in e)void 0!==e[l]&&D.setRequestHeader(l,e[l]+'');D.send(a.hasContent&&a.data||null);c=function(Z,ma){if(c&&(ma||4===D.readyState))if(delete Uc[G],c=void 0,D.onreadystatechange=b.noop,ma)4!==D.readyState&&D.abort();else{var Aa=
{};var sa=D.status;'string'==typeof D.responseText&&(Aa.text=D.responseText);try{var Qa=D.statusText}catch(Xa){Qa=''}sa||!a.isLocal||a.crossDomain?1223===sa&&(sa=204):sa=Aa.text?200:404}Aa&&h(sa,Qa,Aa,D.getAllResponseHeaders())};a.async?4===D.readyState?F.setTimeout(c):D.onreadystatechange=Uc[G]=c:c()},abort:function(){c&&c(void 0,!0)}}}});b.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/\b(?:java|ecma)script\b/},
converters:{'text script':function(a){return b.globalEval(a),a}}});b.ajaxPrefilter('script',function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type='GET',a.global=!1)});b.ajaxTransport('script',function(a){if(a.crossDomain){var c,e=Ra.head||b('head')[0]||Ra.documentElement;return{send:function(h,l){c=Ra.createElement('script');c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(D,G){(G||!c.readyState||/loaded|complete/.test(c.readyState))&&
(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,G||l(200,'success'))};e.insertBefore(c,e.firstChild)},abort:function(){c&&c.onload(void 0,!0)}}}});var ud=[],hd=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:'callback',jsonpCallback:function(){var a=ud.pop()||b.expando+'_'+ed++;return this[a]=!0,a}});b.ajaxPrefilter('json jsonp',function(a,c,e){var h,l,D,G=!1!==a.jsonp&&(hd.test(a.url)?'url':'string'==typeof a.data&&0===(a.contentType||'').indexOf('application/x-www-form-urlencoded')&&
hd.test(a.data)&&'data');return G||'jsonp'===a.dataTypes[0]?(h=a.jsonpCallback=b.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,G?a[G]=a[G].replace(hd,'$1'+h):!1!==a.jsonp&&(a.url+=(fd.test(a.url)?'&':'?')+a.jsonp+'='+h),a.converters['script json']=function(){return D||b.error(h+' was not called'),D[0]},a.dataTypes[0]='json',l=F[h],F[h]=function(){D=arguments},e.always(function(){void 0===l?b(F).removeProp(h):F[h]=l;a[h]&&(a.jsonpCallback=c.jsonpCallback,ud.push(h));D&&b.isFunction(l)&&
l(D[0]);D=l=void 0}),'script'):void 0});b.parseHTML=function(a,c,e){if(!a||'string'!=typeof a)return null;'boolean'==typeof c&&(e=c,c=!1);c=c||Ra;var h=Q.exec(a);e=!e&&[];return h?[c.createElement(h[1])]:(h=q([a],c,e),e&&e.length&&b(e).remove(),b.merge([],h.childNodes))};var vd=b.fn.load;b.fn.load=function(a,c,e){if('string'!=typeof a&&vd)return vd.apply(this,arguments);var h,l,D,G=this,Z=a.indexOf(' ');return-1<Z&&(h=b.trim(a.slice(Z,a.length)),a=a.slice(0,Z)),b.isFunction(c)?(e=c,c=void 0):c&&'object'==
typeof c&&(l='POST'),0<G.length&&b.ajax({url:a,type:l||'GET',dataType:'html',data:c}).done(function(ma){D=arguments;G.html(h?b('<div>').append(b.parseHTML(ma)).find(h):ma)}).always(e&&function(ma,Aa){G.each(function(){e.apply(this,D||[ma.responseText,Aa,ma])})}),this};b.each('ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend'.split(' '),function(a,c){b.fn[c]=function(e){return this.on(c,e)}});b.expr.filters.animated=function(a){return b.grep(b.timers,function(c){return a===c.elem}).length};
b.offset={setOffset:function(a,c,e){var h,l,D,G=b.css(a,'position'),Z=b(a),ma={};'static'===G&&(a.style.position='relative');var Aa=Z.offset();var sa=b.css(a,'top');var Qa=b.css(a,'left');('absolute'===G||'fixed'===G)&&-1<b.inArray('auto',[sa,Qa])?(h=Z.position(),D=h.top,l=h.left):(D=parseFloat(sa)||0,l=parseFloat(Qa)||0);b.isFunction(c)&&(c=c.call(a,e,b.extend({},Aa)));null!=c.top&&(ma.top=c.top-Aa.top+D);null!=c.left&&(ma.left=c.left-Aa.left+l);'using'in c?c.using.call(a,ma):Z.css(ma)}};b.fn.extend({offset:function(a){if(arguments.length)return void 0===
a?this:this.each(function(G){b.offset.setOffset(this,a,G)});var c,e,h={top:0,left:0},l=this[0],D=l&&l.ownerDocument;if(D)return c=D.documentElement,b.contains(c,l)?('undefined'!=typeof l.getBoundingClientRect&&(h=l.getBoundingClientRect()),e=Gb(D),{top:h.top+(e.pageYOffset||c.scrollTop)-(c.clientTop||0),left:h.left+(e.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):h},position:function(){if(this[0]){var a,c,e={top:0,left:0},h=this[0];return'fixed'===b.css(h,'position')?c=h.getBoundingClientRect():
(a=this.offsetParent(),c=this.offset(),b.nodeName(a[0],'html')||(e=a.offset()),e.top+=b.css(a[0],'borderTopWidth',!0),e.left+=b.css(a[0],'borderLeftWidth',!0)),{top:c.top-e.top-b.css(h,'marginTop',!0),left:c.left-e.left-b.css(h,'marginLeft',!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&!b.nodeName(a,'html')&&'static'===b.css(a,'position');)a=a.offsetParent;return a||vc})}});b.each({scrollLeft:'pageXOffset',scrollTop:'pageYOffset'},function(a,c){var e=/Y/.test(c);
b.fn[a]=function(h){return Za(this,function(l,D,G){var Z=Gb(l);return void 0===G?Z?c in Z?Z[c]:Z.document.documentElement[D]:l[D]:void(Z?Z.scrollTo(e?b(Z).scrollLeft():G,e?G:b(Z).scrollTop()):l[D]=G)},a,h,arguments.length,null)}});b.each(['top','left'],function(a,c){b.cssHooks[c]=na(k.pixelPosition,function(e,h){return h?(h=rc(e,c),Pb.test(h)?b(e).position()[c]+'px':h):void 0})});b.each({Height:'height',Width:'width'},function(a,c){b.each({padding:'inner'+a,content:c,'':'outer'+a},function(e,h){b.fn[h]=
function(l,D){var G=arguments.length&&(e||'boolean'!=typeof l),Z=e||(!0===l||!0===D?'margin':'border');return Za(this,function(ma,Aa,sa){var Qa;return b.isWindow(ma)?ma.document.documentElement['client'+a]:9===ma.nodeType?(Qa=ma.documentElement,Math.max(ma.body['scroll'+a],Qa['scroll'+a],ma.body['offset'+a],Qa['offset'+a],Qa['client'+a])):void 0===sa?b.css(ma,Aa,Z):b.style(ma,Aa,sa,Z)},c,G?l:void 0,G,null)}})});b.fn.extend({bind:function(a,c,e){return this.on(a,null,c,e)},unbind:function(a,c){return this.off(a,
null,c)},delegate:function(a,c,e,h){return this.on(c,a,e,h)},undelegate:function(a,c,e){return 1===arguments.length?this.off(a,'**'):this.off(c,a||'**',e)}});b.fn.size=function(){return this.length};b.fn.andSelf=b.fn.addBack;'function'==typeof define&&define.amd&&define('jquery',[],function(){return b});var be=F.jQuery,ce=F.$;return b.noConflict=function(a){return F.$===b&&(F.$=ce),a&&F.jQuery===b&&(F.jQuery=be),b},P||(F.jQuery=F.$=b),b});if('undefined'!==typeof module&&module.exports)var lib=require('../../index');
function Collection(F,P){var da='undefined'!==typeof module&&module.exports?!1:!0,Ba=da?require('vendor/uuid'):require('uuid'),M=da?require('utils/merge'):require('../../../lib/merge'),V={isCaseSensitive:{false:{re:'^%s$',modifiers:'i'},true:{re:'^%s$'}}},ra=!1,U=!1,K=null;da={useLocalStorage:!1,locale:'en',searchOptionRules:V};P='object'==typeof P?M(P,da):da;var n=['not null'],aa=function(r){try{return eval(r)}catch(q){throw Error('Could not evaluate condition `'+r+'`.\n'+q.stack);}};if('undefined'==
typeof F||''==F||null==F)F=[];if(!Array.isArray(F))throw Error('`new Collection([content] [, options] )`: `content` argument must be an Array !');F=F?JSON.clone(F):[];for(var v=[],qa=da=0,Ja=F.length;qa<Ja;++qa)F[qa]||(F[qa]={}),F[qa]._uuid=Ba.v4(),v[da]=F[qa]._uuid,++da;var R=F;R.setSearchOption=function(){if(!arguments.length)throw Error('searchOption cannot be left blank');if(3<arguments.length||3>arguments.length&&1<arguments.length)throw Error('argument length mismatch');var r=0,q=arguments.length;
if(1==arguments.length){if('object'!=typeof arguments[0])throw Error('searchOption must be an object');for(var p in arguments[0])if('undefined'==typeof V[p])throw Error(arguments[1]+' is not an allowed searchOption !');K=arguments[0]}else for(K||={};r<q;++r){if('undefined'==typeof V[arguments[1]])throw Error(arguments[1]+' is not an allowed searchOption !');'undefined'==typeof K[arguments[0]]&&(K[arguments[0]]={});/true|false/i.test(arguments[2])?K[arguments[0]][arguments[1]]=/true/i.test(arguments[2])?
!0:!1:K[arguments[0]][arguments[1]]=arguments[2]}return R};R.find=function(){ra=!1;'boolean'==typeof arguments[arguments.length-1]&&(ra=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);var r=null,q=null,p=null;try{r=JSON.stringify(arguments),q=JSON.parse(r),p=q.count()}catch(Fa){throw Error('filter must be an object\n'+Fa.stack);}if('undefined'!=typeof q&&0<p){1<p&&(ra=!0);p=r=null;var H=0,I=Array.isArray(this)?this:JSON.clone(F),x=[],w='',C=null,E=K,N=P.searchOptionRules,
z=null,T=[],X=function(Fa,va,Da,Ta,Va){if(null===Fa&&null===Da)++Ta;else if(Fa&&-1<n.indexOf(w)&&'not null'==w&&'undefined'!=typeof Da&&'object'!==typeof Da&&'null'!=Da&&'undefined'!=Da)0>x.indexOf(Da)&&++Ta;else if('undefined'!=typeof Da&&'object'!==typeof Da&&/(<|>|=)/.test(Fa)&&!/undefined|function/.test(typeof Da))va=Fa,Va=Da+Fa,'string'==typeof Fa&&'string'==typeof Da&&(Va=Fa.replace(/^(<=|>=|!==|!=|===|!==)/g,''),'string'!=typeof Da||/^"(.*)"$/.test(Va)||(Fa=Fa.replace(Va,'"'+Va+'"')),Va='"'+
Da+'"'+Fa,Fa=va),/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Da)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Fa)?aa(Da.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+Fa.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Ta:aa(Va)&&++Ta;else if('undefined'!=typeof Da&&'object'!==typeof Da&&Da===Fa&&!E||'undefined'!=typeof Da&&'object'!==typeof Da&&Da===Fa&&'undefined'==typeof E[va])++Ta;
else if('undefined'!=typeof Da&&'object'!==typeof Da&&E&&'undefined'!=typeof E[va]){var Ua=0;var zb=E[va].count();for(var Ia in E[va])Va[Ia][E[va][Ia]].re=Va[Ia][E[va][Ia]].re.replace(/%s/,Fa),C=Va[Ia][E[va][Ia]].modifiers?new RegExp(Va[Ia][E[va][Ia]].re,Va[Ia][E[va][Ia]].modifiers):new RegExp(Va[Ia][E[va][Ia]].re),C.test(Da)&&++Ua;Ua==zb&&++Ta}return{matched:Ta}},xa=function(Fa,va,Da,Ta){var Va=va.split(/\./g);Va=Va[Va.length-1];C=new RegExp('("'+Va+'":\\w+)');Va=null;try{Da&&(Va=eval('_content.'+
va))}catch(Ua){}Va&&(Array.isArray(Va)?Va=Va[1].split(/:/)[1]:'string'==typeof Va&&/:/.test(Va)&&(Va=Va.split(/:/)[1]),/(<|>|=)/.test(Fa)?/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Va)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Fa)?aa(Va.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+Fa.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Ta:aa(Va+Fa)&&++Ta:Va==Fa&&++Ta);return{matched:Ta}},
na=function(Fa,va,Da,Ta,Va){va=va.split(/\[\*\]/g);Va=va[0].replace(/\[\*\]/,'');Da=Da[Va];va=va[1];/^\./.test(va)&&(va=va.substr(1));Va=0;if(Da)for(var Ua=0,zb=Da.length;Ua<zb&&!(T=/\./.test(va)?xa(Fa,va,Da[Ua],Va):X(Fa,va,Da[Ua],Va,N),Va=T.matched,0<Va);++Ua);return{matched:Ta+Va}},Ea;for(Ea in I)if(I[Ea]||(I[Ea]={}),!/undefined|function/.test(typeof I[Ea]))for(let Fa=0,va=q.count();Fa<va;++Fa){r=q[Fa];p=r.count();z=0;for(var Ha in r){if('undefined'==typeof r[Ha])throw Error('filter `'+Ha+'` cannot be left undefined');
w=null===r[Ha]||/(boolean|number)/.test(typeof r[Ha])?r[Ha]:r[Ha].toLocaleLowerCase();T=/\./.test(Ha)?/\[\*\]/.test(Ha)?na(r[Ha],Ha,I[Ea],z,0):xa(r[Ha],Ha,I[Ea],z):X(r[Ha],Ha,I[Ea][Ha],z,N);z=T.matched}if(z==p)if(ra&&U&&0>v.indexOf(I[Ea]._uuid)||U||!ra){if(!ra||ra&&0>x.indexOf(I[Ea]._uuid)||U)x[H]=I[Ea],++H}else ra&&!U&&0>x.indexOf(I[Ea]._uuid)&&(x[H]=I[Ea],++H)}}else x=F;K=null;x.insert=R.insert;x.notIn=R.notIn;x.find=this.find;x.update=R.update;x.replace=R.replace;x.or=R.or;x.findOne=R.findOne;
x.limit=R.limit;x.orderBy=R.orderBy;x.delete=R.delete;x.toRaw=R.toRaw;x.filter=R.filter;return x};R.findOne=function(){var r=null;'string'==typeof arguments[arguments.length-1]&&(delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(r=arguments);if('undefined'==typeof r||!r||'object'!=typeof r)throw Error('[ Collection ][ findOne ] `filters` argument must be defined: Array or Filter Object(s) expected');r=null;var q=Array.isArray(arguments[0])?arguments[0]:R.find.apply(this,
arguments)||[];0<q.length&&(r=q.limit(1).toRaw()[0]);return r};R.or=function(){arguments[arguments.length]=!0;++arguments.length;return R.find.apply(this,arguments)};R.limit=function(r){if('undefined'==typeof r||'number'!=typeof r)throw Error('[Collection::result->limit(resultLimit)] : `resultLimit` parametter must by a `number`');var q=Array.isArray(this)?this:JSON.clone(F);q=q.splice(0,r);q.insert=R.insert;q.update=R.update;q.replace=R.replace;q.notIn=R.notIn;q.findOne=R.findOne;q.orderBy=R.orderBy;
q.max=R.max;q.delete=R.delete;q.toRaw=R.toRaw;q.filter=R.filter;return q};R.notIn=function(){var r=null,q=null,p=!0;'string'==typeof arguments[arguments.length-1]&&(r=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'boolean'==typeof arguments[arguments.length-1]&&(p=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(q=arguments);if('undefined'==typeof q||!q||'object'!=typeof q)throw Error('[ Collection ][ notIn ] `filters` argument must be defined: Array or Filter Object(s) expected');
var H=JSON.clone(Array.isArray(this)?this:F);if(Array.isArray(arguments[0]))var I=arguments[0];else U=!0,I=R.find.apply(this,arguments)||[],U=!1;if(0<I.length){if(p&&r&&'undefined'==typeof I[0]&&'undefined'==typeof I[0][r])throw Error('[ Collection ][ notIn ] `key` not valid');p&&!r&&'undefined'!=typeof I[0]._uuid?r='_uuid':'undefined'!=typeof I[0].id&&(r='id');if(!r||'undefined'==typeof I[0][r])throw Error('No comparison key defined !');var x=0,w=I.length,C=0,E,N=q.count(),z;if(p&&'undefined'!=typeof H[C]&&
H[C].hasOwnProperty(r))for(;x<w&&H.length;++x)for(C=0,p=H.length;C<p;++C){if('undefined'!=typeof H[C]&&'undefined'!=typeof I[x]&&H[C][r]===I[x][r]){H.splice(C,1);break}}else if('undefined'==typeof H[C])H=JSON.clone(I);else for(;x<w&&H.length;++x)for(C=0,p=H.length;C<p;++C)if('undefined'!=typeof H[C]){for(E=z=0;E<N;++E){if('undefined'==typeof q[E])throw Error('filter `'+E+'` cannot be left undefined');var T=q[E].count();var X=0;for(r in q[E])H[C].hasOwnProperty(r)&&H[C][r]===I[x][r]&&++X;X==T&&++z}if(z){H.splice(C,
1);break}}}r=H;r.notIn=R.notIn;r.limit=R.limit;r.find=R.find;r.findOne=R.findOne;r.insert=R.insert;r.replace=R.replace;r.update=R.update;r.orderBy=R.orderBy;r.max=R.max;r.delete=R.delete;r.toRaw=R.toRaw;r.filter=R.filter;return r};R.insert=function(r){if('object'!==typeof r)throw Error('filter must be an object');var q=Array.isArray(this)?this:F;r._uuid=Ba.v4();q.push(r);q.limit=R.limit;q.find=R.find;q.findOne=R.findOne;q.update=R.update;q.replace=R.replace;q.orderBy=R.orderBy;q.max=R.max;q.notIn=
R.notIn;q.delete=R.delete;q.toRaw=R.toRaw;q.filter=R.filter;return q};R.update=function(){var r='_uuid',q,p=q=null;'string'==typeof arguments[arguments.length-1]&&(r=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(p=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(q=arguments);if('undefined'==typeof q||!q||'object'!=typeof q)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');
if('undefined'==typeof p||!p||'object'!=typeof p)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var H=Array.isArray(arguments[0])?arguments[0]:R.find.apply(this,arguments)||[];q=Array.isArray(this)?this:JSON.clone(F);if(0<H.length){H=H.toRaw();for(var I=0,x=H.length;I<x;++I){H[I]=M(JSON.clone(p),H[I]);for(var w=0,C=q.length;w<C;++w)if('undefined'==typeof q[w][r]&&'_uuid'==r&&'undefined'!=typeof q[w].id&&(r='id'),q[w][r]==H[I][r]){q[w]=H[I];break}}}q.limit=
R.limit;q.find=R.find;q.findOne=R.findOne;q.insert=R.insert;q.update=R.update;q.replace=R.replace;q.orderBy=R.orderBy;q.max=R.max;q.notIn=R.notIn;q.delete=R.delete;q.toRaw=R.toRaw;q.filter=R.filter;return q};R.replace=function(){var r='_uuid',q,p=q=null;'string'==typeof arguments[arguments.length-1]&&(r=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(p=arguments[arguments.length-1],delete arguments[arguments.length-
1],--arguments.length);0<arguments.length&&(q=arguments);if('undefined'==typeof q||!q||'object'!=typeof q)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');if('undefined'==typeof p||!p||'object'!=typeof p)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var H=Array.isArray(arguments[0])?arguments[0]:R.find.apply(this,arguments)||[];q=Array.isArray(this)?this:JSON.clone(F);if(0<H.length){H=H.toRaw();
for(var I=0,x=H.length;I<x;++I){H[I]=JSON.clone(p);for(var w=0,C=q.length;w<C;++w){if('undefined'==typeof q[w][r]&&'_uuid'==r&&'undefined'!=typeof q[w].id)r='id';else if('undefined'==typeof q[w][r]&&'_uuid'==r)throw Error('No comparison key defined !');if(q[w][r]==H[I][r]){q[w]=H[I];break}}}}q.limit=R.limit;q.find=R.find;q.findOne=R.findOne;q.insert=R.insert;q.update=R.update;q.replace=R.replace;q.orderBy=R.orderBy;q.max=R.max;q.notIn=R.notIn;q.delete=R.delete;q.toRaw=R.toRaw;q.filter=R.filter;return q};
R['delete']=function(){var r=R.notIn.apply(this,arguments);r.limit=R.limit;r.find=R.find;r.findOne=R.findOne;r.insert=R.insert;r.update=R.update;r.replace=R.replace;r.orderBy=R.orderBy;r.max=R.max;r.notIn=R.notIn;r.toRaw=R.toRaw;r.filter=R.filter;r.delete=this.delete;return r};R.orderBy=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->orderBy(filter) ] where `filter` must not be empty or null');if(1==arguments.length)var r=arguments[0];else{r=Array(arguments.length);
for(var q=0,p=r.length;q<p;++q)r[q]=arguments[q]}q=Array.isArray(this)?this:JSON.clone(F);return J(r,q.toRaw())};R.max=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->max(filter) ] where `filter` must not be empty or null');if(1<arguments.length||Array.isArray(arguments[0])||'object'==typeof arguments[0]&&1<arguments[0].count())throw Error('[ Collection->max(filter) ] only accept one filter length, and fileter count must be equal to 1');var r=arguments[0];
try{var q=Object.keys(r)[0],p={};p[q]='desc';return R.find(r).orderBy(p).limit(1)[0][q]}catch(H){throw H;}};var J=function(r,q){if('object'!=typeof r)throw Error('`filter` parametter must be an object or an array');var p={},H=null,I=null,x=H=null;H=[];if(0==r.count())return null;p.asc=function(w,C){var E=C.map(function(N,z){var T={};T.index=z;T[w]=N[w];return T});E.sort(function(N,z){var T=function(X,xa){/^(true|false)$/i.test(X)&&(X=/true/i.test(X)?1:0);/^(true|false)$/i.test(xa)&&(xa=/true/i.test(xa)?
1:0);return'string'==typeof X&&''!=X||'string'==typeof xa?('number'==typeof X&&(X=''+X),'number'==typeof xa&&(xa=''+xa),X.localeCompare(xa,void 0,{sensitivity:'case',caseFirst:'upper'})):X>xa?1:X<xa?-1:0};return'object'==typeof N?T(N[w],z[w]):T(N,z)});return E.map(function(N,z,T){return C[N.index]})};p.desc=function(w,C){return p.asc(w,C).reverse()};H=function(w,C){var E=[],N=[];if(Array.isArray(C))for(var z=0,T=C.length;z<T;++z)E[z]=Object.keys(C[z])[0],N[z]=C[z][E[z]];else for(T in z=0,C)E[z]=T,
N[z]=C[T],++z;I=function(X,xa,na,Ea,Ha){var Fa='desc'==Ea[Ha]?1:0,va,Da=va=null;return'string'==typeof X[na[Ha]]&&''!=X[na[Ha]]?(va=X[na[Ha]].localeCompare(xa[na[Ha]]),0==Fa&&0!=va?0>va?-1:1:0!=va?0>va?1:-1:na.length-1>Ha?I(X,xa,na,Ea,Ha+1):0):'number'==typeof X[na[Ha]]||'number'==typeof xa[na[Ha]]?(va=(''+X[na[Ha]]).localeCompare(''+xa[na[Ha]],void 0,{numeric:!0}),0==Fa&&0!=va?0>va?-1:1:0!=va?0>va?1:-1:na.length-1>Ha?I(X,xa,na,Ea,Ha+1):0):'boolean'==typeof X[na[Ha]]||'boolean'==typeof xa[na[Ha]]?
('boolean'==typeof X[na[Ha]]&&(va=X[na[Ha]]?1:0),'boolean'==typeof xa[na[Ha]]&&(Da=xa[na[Ha]]?1:0),va>Da?0==Fa?1:-1:va<Da?0==Fa?-1:1:na.length-1>Ha?I(X,xa,na,Ea,Ha+1):0):X[na[Ha]]>xa[na[Ha]]?0==Fa?1:-1:X[na[Ha]]<xa[na[Ha]]?0==Fa?-1:1:na.length-1>Ha?I(X,xa,na,Ea,Ha+1):0};return w.sort(function(X,xa){return I(X,xa,E,N,0)})};Array.isArray(r)||1<r.count()?H=H(q,r):(x=Object.keys(r)[0],H=r[x],H=p[H](x,q));H.find=R.find;H.findOne=R.findOne;H.limit=R.limit;H.notIn=R.notIn;H.insert=R.insert;H.update=R.update;
H.replace=R.replace;H.delete=R.delete;H.orderBy=R.orderBy;H.max=R.max;H.toRaw=R.toRaw;H.filter=R.filter;return H};R.toRaw=function(){for(var r=Array.isArray(this)?this:F,q=0,p=r.length;q<p;++q)r[q]._uuid&&delete r[q]._uuid;return JSON.clone(r)};R.filter=function(r){if('undefined'==typeof r)throw Error('`filter` parametter must be a string or an array.');var q=Array.isArray(this)?this:F;if(!q.length)return[];var p=0,H=q.length,I=[],x=0;if(Array.isArray(r))for(var w,C=r.length,E;p<H;++p){E=!1;for(w=
0;w<C;++w)'undefined'!=typeof q[p][r[w]]&&('undefined'==typeof I[x]&&(I[x]={}),I[x][r[w]]=q[p][r[w]],E=!0);E&&++x}else for(;p<H;++p)'undefined'!=typeof q[p][r]&&('undefined'==typeof I[x]&&(I[x]={}),I[x][r]=q[p][r],++x);return JSON.clone(I)};return R}'undefined'!==typeof module&&module.exports?module.exports=Collection:'function'===typeof define&&define.amd&&define('utils/collection',[],function(){return Collection});
function FormValidatorUtil(F,P,da,Ba){var M='undefined'!==typeof module&&module.exports?!1:!0,V=M?require('utils/merge'):require('../../../../../lib/merge');M||require('../../../../../helpers');M&&require('helpers/dateFormat');var ra=M?require('utils/routing'):require('../../../../../lib/routing'),U=function(){var q=!1,p=null;M?M&&'undefined'!=typeof gina.forms&&(p=gina.forms):p=getContext('gina').forms||null;p&&'undefined'!=typeof p.validators&&(q=!0);return q},K={errors:{},keys:{'%l':'label','%n':'name',
'%s':'size'},data:{},excluded:[],errorLabels:{is:'Condition not satisfied',isEmail:'A valid email is required',isRequired:'Cannot be left empty',isBoolean:'Must be a valid boolean',isNumber:'Must be a number: allowed values are integers or floats',isNumberLength:'Must contain %s characters',isNumberMinLength:'Should be at least %s characters',isNumberMaxLength:'Should not be more than %s characters',isInteger:'Must be an integer',isIntegerLength:'Must have %s characters',isIntegerMinLength:'Should be at least %s characters',
isIntegerMaxLength:'Should not be more than %s characters',toInteger:'Could not be converted to integer',isFloat:'Must be a proper float',isFloatException:'Float exception found: %n',toFloat:'Could not be converted to float',toFloatNAN:'Value must be a valid number',isDate:'Must be a valid Date',isString:'Must be a string',isStringLength:'Must have %s characters',isStringMinLength:'Should be at least %s characters',isStringMaxLength:'Should not be more than %s characters',isJsonWebToken:'Must be a valid JSON Web Token',
query:'Must be a valid response',isApiError:'Condition not satisfied'}},n=null;if(F)n=V(JSON.clone(F),n),K.data=V(JSON.clone(F),K.data);else throw Error('missing data param');var aa=function(q,p){var H=null;for(let I in Ba)if(Ba[I].name===p){H=(new DOMParser).parseFromString(q.innerHTML,'text/html').getElementById(Ba[I].id);break}if(H)return H;throw Error('Field `'+p+'` not found in fieldsSet');},v=function(q){var p;var H='';var I=q.length;for(p=0;p<I;){var x=q[p++];switch(x>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:H+=
String.fromCharCode(x);break;case 12:case 13:var w=q[p++];H+=String.fromCharCode((x&31)<<6|w&63);break;case 14:w=q[p++];var C=q[p++];H+=String.fromCharCode((x&15)<<12|(w&63)<<6|(C&63)<<0)}}return H},qa=function(q,p){var H=n[this.name].errors||{},I=this.target.id||this.target.getAttribute('id');if(n.isValid()){var x=this.target.dataset.ginaFormValidatorTestedValue;console.debug('[ '+this.name+' ]','TESTED VALUE -> '+this.value+' vs '+x);I='asyncCompleted.'+I;var w=this.target.form.getAttribute('id'),
C='undefined'!=typeof gina.validator&&'undefined'!=typeof gina.validator.$forms[w]&&'undefined'!=typeof gina.validator.$forms[w].cachedErrors?gina.validator.$forms[w].cachedErrors:null;if(!x||'undefined'==typeof x||x!==this.value)this.target.dataset.ginaFormValidatorTestedValue=this.value,C&&'undefined'!=typeof C[this.name]&&'undefined'!=typeof C[this.name].query&&(delete C[this.name].query,'undefined'!=typeof gina.validator.$forms[w]&&'undefined'!=typeof gina.validator.$forms[w].errors&&delete gina.validator.$forms[w].errors.query);
else if(x===this.value){var E=!1;C&&'undefined'!=typeof C[this.name]&&'undefined'!=typeof C[this.name].query&&'undefined'!=typeof C[this.name].query[this.value]&&(this.error=p=C[this.name].query[this.value].slice(0),E=!0);H.query=r(this.error||p||K.errorLabels.query,this);E&&(this.errors=H,this.valid=!1);'undefined'!=typeof gina.events[I]&&triggerEvent(gina,this.target,I,n[this.name]);return n[this.name]}var N=null,z=this;if(window.XMLHttpRequest)N=new XMLHttpRequest;else if(window.ActiveXObject)try{N=
new ActiveXObject('Msxml2.XMLHTTP')}catch(na){try{N=new ActiveXObject('Microsoft.XMLHTTP')}catch(Ea){}}p={isSynchrone:!1,headers:{}};x=q.data||null;H=null;I=/^true$/i.test(this.target.form.dataset.ginaFormLiveCheckEnabled)?!0:!1;H=JSON.stringify(x);if(/\$/.test(H)){x=H.match(/\$[-_\[\]a-z 0-9]+/g)||[];w=C=null;for(let na=0,Ea=x.length;na<Ea;na++)w=x[na].replace(/\$/g,''),re=new RegExp('\\'+x[na].replace(/\[|\]/g,'\\$&'),'g'),C=K.data[w]||null,!C&&I&&(C=aa(this.target.form,w).value),H=H.replace(re,
C)}x=H.replace(/\\"/g,'');var T='undefined'==typeof q.validIf?!0:q.validIf;p=V(p,q,da);delete p.data;delete p.validIf;H=p.headers['Content-Type'];var X=null;I=this.target.getAttribute('id');if(!/^http/.test(p.url)&&/@/.test(p.url))try{E=ra.getRoute(p.url),p.url=E.toUrl()}catch(na){throw na;}if(p.withCredentials){if('withCredentials'in N)p.isSynchrone?N.open(p.method,p.url,p.isSynchrone):N.open(p.method,p.url);else if('undefined'!=typeof XDomainRequest)N=new XDomainRequest,N.open(p.method,p.url);else throw N=
null,X='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ',Error(X);N.responseType='undefined'!=typeof p.responseType?p.responseType:'';N.withCredentials=!0}else p.isSynchrone?N.open(p.method,p.url,p.isSynchrone):N.open(p.method,p.url);for(var xa in p.headers)'Content-Type'==xa&&'undefined'!=typeof H&&null!=H&&''!=H||N.setRequestHeader(xa,p.headers[xa]);'undefined'!=typeof H&&null!=H&&''!=H&&N.setRequestHeader('Content-Type',H);N&&(N.onload=function(){try{X=
this.responseText;var na=this.getResponseHeader('Content-Type');if(/\/json/.test(na))X=JSON.parse(this.responseText),'undefined'==typeof X.status&&(X.status=this.status);else if(X={status:N.status,message:''},/^(\{|\[)/.test(N.responseText))try{X=V(X,JSON.parse(N.responseText))}catch(Ua){X=V(X,Ua)}na=X;z.value=K.data[z.name]=z.value?z.value.toLowerCase():z.value;var Ea=na.isValid||!1;Ea=T!=Ea?!1:!0;n[z.name].valid=Ea;var Ha=n[z.name].errors||{},Fa='undefined'!=typeof na.error&&'undefined'!=typeof na.fields?
na.fields:{};if(0<Fa.count()&&!Ea||!Ea){if(!Ea){var va=null;'undefined'!=typeof Fa[z.name]?K.errorLabels.query=Fa[z.name]:'undefined'!=typeof na.error&&/^5/.test(na.status)&&(va=na.error);Ha.query=r(va||z.error||q.error||K.errorLabels.query,z);console.debug('query error detected !! ',na)}Ha.query||''!=z.value||(Ea=!0)}Ea&&'undefined'!=typeof Ha.query&&delete Ha.query;z.valid=Ea;var Da=gina.validator.$forms[z.target.form.getAttribute('id')].cachedErrors||{};if(0<Ha.count()){z.errors=Ha;'undefined'==
typeof n[z.name].errors&&(n[z.name].errors={});n[z.name].errors=V(n[z.name].errors,Ha);'undefined'!=typeof Ha.query&&Ha.query&&('undefined'==typeof Da[z.name]&&(Da[z.name]={}),'undefined'==typeof Da[z.name].query&&(Da[z.name].query={}),Da[z.name].query[z.value]=Ha.query.slice(0));var Ta=z.target.getAttribute('data-gina-form-errors');/query/.test(Ta)||z.target.setAttribute('data-gina-form-errors',Ta&&''!=Ta?Ta+' query':'query')}else'undefined'!=typeof Da[z.name]&&'undefined'!=typeof Da[z.name].query&&
'undefined'!=typeof Da[z.name].query[z.value]&&delete Da[z.name].query[z.value];var Va=z.target.id||z.target.getAttribute('id');console.debug('prematurely completed event `asyncCompleted.'+Va+'`');return triggerEvent(gina,z.target,'asyncCompleted.'+Va,n[z.name])}catch(Ua){throw Ua;}},F?N.send(x):N.send())}else console.debug('stopping on errors ...'),triggerEvent(gina,this.target,'asyncCompleted.'+I,n[this.name])},Ja=async function(q,p,H,I){var x=(new (require(_(GINA_FRAMEWORK_DIR+'/core/config.js',
!0)))).getInstance(),w=null,C=null,E=null,N=getContext('bundle');if(/@/.test(q.url)){var z=q.url.split(/@/);C=z[0];E=z[1];getConfig(N,'app');try{x.bundle!==E&&(w=getConfig(N,'app').proxy[E])}catch(na){throw Error('Could not retrieve `proxy` configuration for bundle `'+E+'`. Please check your `/config/app.json`.\n'+na.stack);}z=null}else throw Error('external url/domain not  handled at this moment, please contact us if you need support for it.');z=JSON.clone(ra.getRoute(q.url,q.data));var T=x[E][x.env];
w||(x.bundle==E&&(w=getConfig(N,'settings').server.credentials,q.ca=w.ca||null,q.hostname=T.server.scheme+'://'+T.host,q.port=T.port[T.server.protocol][T.server.scheme],q.protocol=T.server.protocol,q.rejectUnauthorized=!1),w={ca:q.ca,hostname:q.hostname,port:q.port,path:q.path},'undefined'!=typeof q.protocol&&(w.protocol=q.protocol),'undefined'!=typeof q.rejectUnauthorized&&(w.rejectUnauthorized=q.rejectUnauthorized));C={method:z.method,requirements:z.requirements,namespace:z.namespace||void 0,url:unescape(z.url),
rule:C+'@'+E,param:JSON.clone(z.param),middleware:JSON.clone(z.middleware),bundle:z.bundle,isXMLRequest:p.isXMLRequest,isWithCredentials:p.isWithCredentials};E=C.rule.replace('@'+E,'')||'_common';E={template:'undefined'!=typeof T.content.templates?T.content.templates[E]||T.content.templates._common:void 0,conf:JSON.clone(T),cacheless:T.cacheless};E=V(E,C);E.conf=JSON.clone(T);E.conf.content.routing[E.rule].param=C.param;E.template&&'undefined'==typeof E.template.ginaLoader&&(E.template.ginaLoader=
E.conf.content.templates._common.ginaLoader);E.conf.content.routing[E.rule].param=C.param;delete E.middleware;delete E.param;delete E.requirements;T=new (require(_(GINA_FRAMEWORK_DIR+'/core/controller/controller.js'),!0))(E);T.name=z.param.control;T.setOptions(p,H,I,E);p='object'==typeof q.data&&0<q.data.count()?q.data:{};if(/^get|delete|put$/i.test(q.method)){H=0;for(let na in p)'object'==typeof p[na]&&encodeURIComponent(JSON.stringify(p[na])),H++}w.method=q.method;w.path=z.url;q=require('util').promisify;
var X={isValid:!1},xa=!1;await q(T.query)(w,p).then(function(na){X=na}).catch(function(na){xa=na});xa&&(console.error(xa),X.error=xa);return X},R=null;R=M?qa:Ja;var J=function(q,p){var H=null,I=null;'undefined'==typeof n[q]&&'undefined'!=typeof p&&(n[q]=H=p);if('object'==typeof n[q])try{H=JSON.parse(JSON.stringify(n[q]))}catch(x){H=n[q]}else H=n[q];I='';M&&'undefined'!=typeof P&&(I=P[q].getAttribute('data-gina-form-field-label')||'');n[q]={target:M&&'undefined'!=typeof P?P[q]:null,name:q,value:H,
valid:!1,label:I,exclude:!1};n[q].is=function(x,w,C){var E=!1,N='undefined'!=typeof window&&'undefined'!=typeof window._currentValidatorAlias?window._currentValidatorAlias:'is';'undefined'!=typeof window&&window._currentValidatorAlias&&delete window._currentValidatorAlias;var z=n[this.name].errors||{};K.data[this.name]=n[this.name].value;'undefined'==typeof z.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value||!z.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value?
E=!0:z.isRequired||'string'!=typeof this.value||''!=this.value||(E=!0);if(!E&&/^(true|false)$/i.test(x))E=x;else if(!E){var T=null,X=null;if(/[!=>><a-z 0-9]+/i.test(x)){if((X=x.match(/\${0}[-_,.\[\]a-z0-9]+/ig))&&0<X.length){for(var xa=0,na=X.length;xa<na;++xa)'undefined'!=typeof n[X[xa]]&&X[xa]&&(T=new RegExp('\\$'+X[xa]+'(?!\\S+)','g'),x=''==n[X[xa]].value?x.replace(T,'""'):'string'==typeof n[X[xa]].value?x.replace(T,'"'+n[X[xa]].value+'"'):x.replace(T,n[X[xa]].value));try{x=x.replace(/(\(|\)|return)/g,
''),E=/^\//.test(x)?eval(x+'.test("'+this.value+'")'):eval(x)}catch(Ea){throw Error(Ea.stack||Ea.message);}}}else if(x instanceof RegExp)E=x.test(this.value)?!0:!1;else if('boolean'==typeof x)E=x?!0:!1;else try{/\/(.*)\//.test(x)?(T=x.match(/\/(.*)\//).pop(),X=x.replace('/'+T+'/',''),E=(new RegExp(T,X)).test(this.value)):E=eval(x)}catch(Ea){throw Error(Ea.stack||Ea.message);}}E?E&&'undefined'!=typeof z[N]&&delete z[N]:(z[N]=r(this.error||w||K.errorLabels[N],this),'undefined'!=typeof C&&(z.stack=C));
this.valid=E;0<z.count()&&(this.errors=z);return n[this.name]};n[q].set=function(x){this.value=K.data[this.name]=x;this.target.setAttribute('value',x);return n[this.name]};n[q].isEmail=function(){this.value=K.data[this.name]=this.value?this.value.toLowerCase():this.value;M&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var x=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.value)?
!0:!1,w=n[this.name].errors||{};w.isRequired||''!=this.value||(x=!0);x?x&&'undefined'!=typeof w.isEmail&&delete w.isEmail:w.isEmail=r(this.error||K.errorLabels.isEmail,this);this.valid=x;0<w.count()&&(this.errors=w);return n[this.name]};n[q].isJsonWebToken=function(){this.value=K.data[this.name]=this.value?this.value.toLowerCase():this.value;M&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var x=/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/.test(this.value)?
!0:!1,w=n[this.name].errors||{};w.isRequired||''!=this.value||(x=!0);x?x&&'undefined'!=typeof w.isJsonWebToken&&delete w.isJsonWebToken:w.isJsonWebToken=r(this.error||K.errorLabels.isJsonWebToken,this);this.valid=x;0<w.count()&&(this.errors=w);return n[this.name]};n[q].isBoolean=function(){var x=null,w=n[this.name].errors||{};w.isRequired&&0==this.value&&(delete w.isRequired,this.errors=w);switch(this.value){case 'true':case !0:case 1:x=this.value=K.data[this.name]=!0;break;case 'false':case !1:case 0:x=
this.value=K.data[this.name]=!1}(x=null!==x?!0:!1)?x&&'undefined'!=typeof w.isBoolean&&delete w.isBoolean:w.isBoolean=r(this.error||K.errorLabels.isBoolean,this);this.valid=x;0<w.count()&&(this.errors=w);return n[this.name]};n[q].isNumber=function(x,w){var C=this.value,E=!1,N=!0,z=!0,T=n[this.name].errors||{};try{'string'==typeof C&&/,|\./g.test(C)?C=K.data[this.name]=this.value=parseFloat(C.replace(/,/g,'.').replace(/\s+/g,'')):'string'==typeof C&&''!=C&&(C=K.data[this.name]=this.value=parseInt(C.replace(/\s+/g,
'')))}catch(xa){T.isNumber=r(this.error||K.errorLabels.isNumber,this),this.valid=!1,0<T.count()&&(this.errors=T)}if(+C===+C&&(E=!0,!T.isRequired&&''!=C)){var X=C.toString().length;x&&'number'==typeof x&&X<x&&(N=!1,this.size=x);w&&'number'==typeof w&&X>w&&(z=!1,this.size=w)}E&&N&&z||(E||(T.isNumber=r(this.error||K.errorLabels.isNumber,this)),N&&z||(N||(T.isNumberLength=r(this.error||K.errorLabels.isNumberMinLength,this)),z||(T.isNumberLength=r(this.error||K.errorLabels.isNumberMaxLength,this)),x===
w&&(T.isNumberLength=r(this.error||K.errorLabels.isNumberLength,this))),E=!1);E&&'undefined'!=typeof T.isNumberLength&&delete T.isNumberLength;this.valid=E;this.value=K.data[this.name]=''!=C?Number(C):C;0<T.count()&&(this.errors=T);return n[this.name]};n[q].toInteger=function(){var x=this.value,w=n[this.name].errors||{};if(x)try{this.value=K.data[this.name]=Math.round(x)}catch(C){w.toInteger=r(this.error||K.errorLabels.toInteger,this),this.valid=!1,0<w.count()&&(this.errors=w)}return n[this.name]};
n[q].isInteger=function(x,w){var C=this.value,E=!1,N=!0,z=!0,T=n[this.name].errors||{};+C===+C&&0===C%1&&(E=!0,T.isRequired||''==C||(x&&'number'==typeof x&&C.length<x&&(N=!1,this.size=x),w&&'number'==typeof w&&C.length>w&&(z=!1,this.size=w)));E&&N&&z||(E||(T.isInteger=r(this.error||K.errorLabels.isInteger,this)),N&&z||(N||(T.isIntegerLength=r(this.error||K.errorLabels.isIntegerMinLength,this),E=!1),z||(T.isIntegerLength=r(this.error||K.errorLabels.isIntegerMaxLength,this),E=!1),x===w&&(T.isIntegerLength=
r(this.error||K.errorLabels.isIntegerLength,this),E=!1)));this.valid=E;this.value=K.data[this.name]=Number(C);0<T.count()&&(this.errors=T);return n[this.name]};n[q].toFloat=function(x){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''),/,/.test(this.value)&&!/\./.test(this.value)?this.value=this.value.replace(/,/g,'.'):this.value=this.value.replace(/,/g,''));var w=K.data[this.name]=this.value,C=n[this.name].errors||{},E=!0;x?this.decimals=parseInt(x):'undefined'==typeof this.decimals&&
(this.decimals=2);if(w)if(this.isNumber().valid)try{Number.isFinite(w)||(w=this.value=K.data[this.name]=new Number(parseFloat(w.match(/[0-9.,]+/g).join('').replace(/,/,'.')))),M&&this.target.setAttribute('value',w)}catch(N){E=!1,C.toFloat=r(this.error||K.errorLabels.toFloat,this),this.valid=!1,0<C.count()&&(this.errors=C)}else E=!1,C.toFloat=r(this.error||K.errorLabels.toFloatNAN,this);else return n[this.name];this.decimals&&w&&!C.toFloat&&(this.value=K.data[this.name]=parseFloat(this.value.toFixed(this.decimals)));
this.valid=E;0<C.count()&&(this.errors=C);return n[this.name]};n[q].isFloat=function(x){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''));var w=K.data[this.name]=this.value;x=n[this.name].errors||{};'string'==typeof w&&/\./.test(w)&&Number.isFinite(Number(w));'string'==typeof w&&/,/g.test(w)&&(w=this.value=K.data[this.name]=Number(w.replace(/,/g,'.')));Number(w)===w&&0!==w%1?(this.value=K.data[this.name]=Number(w),w=!0):w=!1;x.isRequired||''!=this.value||(w=!0);w||(x.isFloat=
r(this.error||K.errorLabels.isFloat,this));this.valid=w;0<x.count()&&(this.errors=x);return n[this.name]};n[q].isRequired=function(x){if('boolean'==typeof x&&!x)return this.valid=!0,x=K.excluded.indexOf(this.name),-1<x&&K.excluded.splice(x,1),n[this.name];if(M&&this.target&&'INPUT'==this.target.tagName&&'undefined'!=typeof this.target.type&&'radio'==this.target.type){x=document.getElementsByName(this.name);for(var w=0,C=x.length;w<C;++w)if(x[w].checked){/true|false/.test(x[w].value)?this.value=K.data[this.name]=
/true/.test(x[w].value)?!0:!1:this.value=K.data[this.name]=x[w].value;this.valid=!0;break}}x='undefined'==typeof this.value||null==this.value||''==this.value||/^\s+/.test(this.value)?!1:!0;w=n[this.name].errors||{};x?x&&'undefined'!=typeof w.isRequired&&delete w.isRequired:w.isRequired=r(this.error||K.errorLabels.isRequired,this);this.valid=x;0<w.count()&&(this.errors=w);return n[this.name]};n[q].isString=function(x,w){var C=K.data[this.name]=this.value,E=!1,N=!0,z=!0,T=n[this.name].errors||{};'string'!=
typeof C||T.isRequired||''==C||(E=!0,x&&'number'==typeof x&&C.length<x&&(N=!1,this.size=x),w&&'number'==typeof w&&C.length>w&&(z=!1,this.size=w));E&&N&&z||(!E&&T.isRequired&&''==C?(E=!1,T.isString=r(this.error||K.errorLabels.isString,this)):E||T.isRequired||(E=!0),N&&z||(E=!1,N||(T.isStringLength=r(this.error||K.errorLabels.isStringMinLength,this)),z||(T.isStringLength=r(this.error||K.errorLabels.isStringMaxLength,this)),x===w&&(T.isStringLength=r(this.error||K.errorLabels.isStringLength,this))));
this.valid=E;0<T.count()&&(this.errors=T);return n[this.name]};n[q].isDate=function(x){var w=this.value,C=!1,E=n[this.name].errors||{},N=null;if(!w||''==w||/NaN|Invalid Date/i.test(w))return/NaN|Invalid Date/i.test(w)&&(console.warn('[FormValidator::isDate] Provided value for field `'+this.name+'` is not allowed: `'+w+'`'),E.isDate=r(this.error||K.errorLabels.isDate,this)),this.valid=C,0<E.count()&&(this.errors=E),n[this.name];if('undefined'==typeof x||'undefined'!=typeof x&&/true/i.test(x))x='yyyy-mm-dd';
if(w instanceof Date)w=w.format(x);else{try{N=x.match(/[^\/\- ]+/g)}catch(na){throw Error('[FormValidator::isDate] Provided mask not allowed: `'+x+'`');}try{w=w.match(/[^\/\- ]+/g);var z={},T;var X=0;for(T=N.length;X<T;++X)z[N[X]]=w[X];for(var xa in z)x=x.replace(new RegExp(xa,'g'),z[xa])}catch(na){throw Error('[FormValidator::isDate] Provided value not allowed: `'+w+'`'+na);}w=this.value=K.data[this.name]=new Date(x);if(/Invalid Date/i.test(w)||!1===w instanceof Date)return E.isRequired||''!=this.value?
E.isDate=r(this.error||K.errorLabels.isDate,this):C=!0,this.valid=C,0<E.count()&&(this.errors=E),n[this.name];C=!0}this.valid=C;return w};n[q].format=function(x,w){var C=this.value;return C?C.format(x,w):n[this.name]};n[q].setFlash=function(x,w){'undefined'!=typeof w&&''!=w&&(this.error=w);return n[this.name]};n[q].setLabel=function(x){'undefined'!=typeof x&&''!=x&&(this.label=x);return n[this.name]};n[q].trim=function(x){if('boolean'==typeof x&&x)return this.value=this.value.replace(/^\s+|\s+$/,
''),K.data[this.name]=K.data[this.name]=this.value,n[this.name]};n[q].exclude=function(x){if('boolean'==typeof x&&!x)return/^true|false$/i.test(this.value)&&(this.value=/^true$/i.test(this.value)?!0:!1,K.data[this.name]=this.value),n[this.name];this.isExcluded=!1;0>K.excluded.indexOf(this.name)&&(K.excluded.push(this.name),this.isExcluded=!0);return n[this.name]};n[q].query=R;n[q].getValidationContext=function(){return{isGFFCtx:M,self:n,local:K,replace:r}};if(U()){H=p=null;try{for(let x in gina.forms.validators)H=
'/validators/'+x+'/main.js',K.errorLabels[x]='Condition not satisfied',M?(p=v(gina.forms.validators[x].data),p=p.replace(/(\)\s+\{|\)\{){1}/,'$&\n\tvar validationContext = this.getValidationContext(),isGFFCtx = validationContext.isGFFCtx,self = validationContext.self,local = validationContext.local,replace = validationContext.replace;')):p=gina.forms.validators[x].toString(),n[q][x]=eval('('+p+')\n//# sourceURL='+x+'.js')}catch(x){throw Error('[UserFormValidator] Could not evaluate: `'+H+'`\n'+x.stack);
}}};for(let q in n)J(q,n[q]);n.addField=function(q,p){'undefined'==typeof n[q]&&J(q,p)};n.isValid=function(){return 0<n.getErrors().count()?!1:!0};n.setErrors=function(q){if(!q)return{};for(var p in n)if('object'==typeof n[p]){for(var H in n[p])'object'==typeof q[p]&&'undefined'!=typeof q[p][H]&&('undefined'!=typeof n[p].valid&&/^true$/i.test(n[p].valid)?delete q[p][H]:('undefined'==typeof n[p].errors&&(n[p].errors={}),n[p].errors[H]=q[p][H]));('undefined'==typeof n[p].errors&&'undefined'!=typeof q[p]||
'undefined'!=typeof n[p].errors&&0==n[p].errors.count()&&'undefined'!=typeof q[p])&&delete q[p]}return q};n.getErrors=function(q){var p={};if('undefined'!=typeof q)return'undefined'!=typeof n[q]&&n[q]&&'undefined'!=typeof n[q].errors&&0<n[q].errors.count()&&(p[q]=n[q].errors),p;for(var H in n)'object'==typeof n[H]&&'undefined'!=typeof n[H].errors&&0<n[H].errors.count()&&(p[H]=n[H].errors);return p};n.toData=function(){if(0<K.excluded.length)for(var q=0,p=K.excluded.length;q<p;++q)'undefined'!=typeof K.data[K.excluded[q]]&&
delete K.data[K.excluded[q]];return K.data};var r=function(q,p){var H=q.match(/%[a-z]+/gi);if(H)for(var I=0,x=H.length;I<x;++I)q=q.replace(new RegExp(H[I],'g'),p[K.keys[H[I]]]);return q};n.setErrorLabels=function(q){'undefined'!=typeof q&&(K.errorLabels=V(q,K.errorLabels))};return n}'undefined'!==typeof module&&module.exports?module.exports=FormValidatorUtil:'function'===typeof define&&define.amd&&define('utils/form-validator',[],function(){return FormValidatorUtil});
function Routing(){var F='undefined'!==typeof module&&module.exports?!1:!0,P={allowedMethods:['get','post','put','delete'],reservedParams:['controle','file','title','namespace','path'],notFound:{}};P.allowedMethodsString=P.allowedMethods.join(',');var da=null,Ba=null,M=null;F?(Ba&&'function'==typeof Ba||(Ba=require('utils/merge')),M&&'function'==typeof M||(M=require('utils/form-validator'))):(require('fs'),require('util'),require('../../inherits'),Ba=require('../../merge'),da=require(__dirname+'/../../../core/plugins')||
getContext('gina').plugins,M=da.Validator);P.getUrlProps=function(n,aa){var v={};if(F){var qa=window.gina.config;v.hostname=qa.hostname;'undefined'!=typeof n&&(n=routing.getRoute('webroot@'+n),v.hostname=n.hostname,v.host=n.host,v.webroot=n.webroot)}else qa=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(qa.getRouting=getContext('gina').Config.instance.getRouting),'undefined'==typeof n&&(n=qa.bundle),'undefined'==typeof aa&&(aa=qa.env),v.hostname=qa.envConf[n][aa].hostname,
v.host=qa.envConf[n][aa].host,v.webroot=qa.envConf[n][aa].server.webroot;return v};P.compareUrls=async function(n,aa,v,qa,Ja){'undefined'==typeof v&&(v={routing:{}});if(/,/.test(aa)){var R=0;aa=aa.split(/,/g);for(var J=aa.length,r={past:!1,request:v};R<J&&!r.past;)r=await V(n,aa[R],v,qa,Ja),++R;return r}return await V(n,aa,v,qa,Ja)};var V=async function(n,aa,v,qa,Ja){var R=n.url.split(/\//);aa=aa.split(/\//);var J=0,r=0,q=aa.length,p=0,H={},I=0,x=v.method.toLowerCase(),w=n.method.toLowerCase(),C=
!1;if('undefined'!=typeof n.requirements&&/get|delete/i.test(x)&&'undefined'!=typeof v[x]||'undefined'!=typeof n.requirements&&/get/i.test(x)&&/delete/i.test(w)){/get/i.test(x)&&/delete/i.test(w)&&(x=w);if(/^(delete)$/i.test(x)&&R.length===aa.length){'undefined'==typeof v[x]&&(v[x]={});for(let z=0,T=aa.length;z<T;z++)if(R[z]===aa[z])++p;else if(w=aa[z].substr(1),'undefined'!=typeof n.requirements[w]){w=n.requirements[w];if(/^\//.test(w))w=w.substr(1,w.lastIndexOf('/')-1);else if(/^validator::/.test(w)&&
await ra(aa[z],R[z],n,v,qa,Ja)){++p;continue}/^:/.test(aa[z])&&'undefined'!=typeof w&&(new RegExp(w)).test(R[z])&&(++p,v[x][aa[z].substr(1)]=R[z])}C=!0}for(var E in v[x])'undefined'!=typeof n.requirements[E]&&0>aa.indexOf(':'+E)&&(aa[r]=':'+E,++r,R[J]=v[x][E],++J,C||R.length!==aa.length||++q)}if(!C&&R.length===aa.length)for(;I<q;++I)R[I]===aa[I]?++p:p==I&&/:/.test(aa[I])&&await ra(aa[I],R[I],n,v,qa,Ja)&&++p;if('undefined'!=typeof n.requirements&&x==n.method.toLowerCase()&&!C&&p>=q)for(E=Object.getOwnPropertyNames(n.requirements),
J=0,aa.join(',').match(/:[-_a-z0-9]+/g);J<E.length;){r=E[J];if('undefined'==typeof n.param[r]&&/^validator::/i.test(n.requirements[r])){if(aa.length!=R.length)break;var N=aa.join(',').match(/:[-_a-z0-9]+/g);let z=n.requirements[r];I={};w={};C={};try{w=JSON.parse(z.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(T){throw T;}if('undefined'!=typeof w.query&&'undefined'!=typeof w.query.data){I=w.query.data;for(let T in I)0>N.indexOf(I[T])&&
delete I[T];for(let T=0,X=aa.length;T<X;T++)/^:/.test(aa[T])&&(N=aa[T].replace(/^:/,''),''!=N&&'undefined'!=typeof R[T]&&(I[N]=R[T],'undefined'==typeof v.params[N]&&(v.params[N]=R[T])))}I=Ba(I,JSON.clone(v[x])||{});'undefined'==typeof I[r]&&(I[r]=null);C[r]=w;_validator=F?new M(I):new M('routing',I,null,C);if(0==w.count()){console.error('Route validation failed '+n.rule);--p;J++;continue}for(let T in w)if('undefined'!=typeof w[T].data&&(w[T].data=I),C=Array.isArray(w[T])?await _validator[r][T].apply(_validator[r],
w[T]):await _validator[r][T](w[T],v,qa,Ja),!C.isValid&&(--p,'undefined'!=typeof C.error))throw C.error;}J++}H.past=p===q?!0:!1;H.past&&(v.routing=K(n,v[x]),H.request=v);return H},ra=async function(n,aa,v,qa,Ja,R){var J=-1,r=n.match(/:\w+/g);J=new RegExp(n,'g');var q=null,p=null,H=null;q=!1;var I=q=p=p=null,x=null,w=qa.method.toLowerCase();if(!r.length)return!1;v.param.path&&J.test(v.param.path)&&(v.param.path=v.param.path.replace(J,aa));v.param.namespace&&J.test(v.param.namespace)&&(v.param.namespace=
v.param.namespace.replace(J,aa));'undefined'!=typeof v.param.file&&/:/.test(v.param.file)&&(q=new RegExp('(:'+n+'/|:'+n+'$)','g'),U.variable=aa,v.param.file=v.param.file.replace(q,U));v.param.title&&J.test(v.param.title)&&(v.param.title=v.param.title.replace(J,aa));if(1==r.length){q=new RegExp(r[0]);J=-1<r.indexOf(n)?r.indexOf(n):!1;!1===J&&n.match(q)&&(J=0);if(!1===J)return J;if(v.method.toLowerCase()!==w)return!1;'undefined'==typeof qa[w]&&(qa[w]={});H=r[J].substr(1);J=v.requirements[H];if(/^\//.test(J))q=
J.match(/\/(.*)\//).pop(),p=J.replace('/'+q+'/',''),q=(new RegExp(q,p)).test(aa);else if(/^validator::/.test(J)&&aa){p={};q={};I={};x='';n.replace(new RegExp('[^'+H+']','g'),function(T){x+=T});p[H]=aa.replace(new RegExp(x,'g'),'');try{q=JSON.parse(J.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(T){throw T;}'undefined'!=typeof q.query&&'undefined'!=typeof q.query.data&&n==q.query.data[Object.keys(q.query.data)[0]]&&(q.query.data[Object.keys(q.query.data)[0]]=
p[H],qa.params[H]=p[H]);I[H]=q;p=new M('routing',p,null,I);if(0==q.count())return console.error('Route validation failed '+v.rule),!1;for(var C in q)Array.isArray(q[C])?await p[H][C].apply(p[H],q[C]):await p[H][C](q[C],qa,Ja,R);q=p.isValid()}else q=(new RegExp(v.requirements[H])).test(aa);if('undefined'!=typeof v.param[H]&&'undefined'!=typeof v.requirements&&'undefined'!=typeof v.requirements[H]&&'undefined'!=typeof qa.params&&q)return qa.params[H]=aa,'undefined'==typeof qa[w][H]&&(qa[w][H]=aa),!0}else{Ja=
v.url;R=qa.url;w={};I='';var E=!1,N=0;C=0;for(var z=R.length;C<z;++C)if(R.charAt(C)!=Ja.charAt(N)||E){if(''==I)E=!0,I+=R.charAt(C);else if(C>Ja.indexOf(r[0])+r[0].length){J=v.requirements[r[0]];aa=I.substr(0,I.length);if(/^\//.test(J))q=J.match(/\/(.*)\//).pop(),p=J.replace('/'+q+'/',''),q=(new RegExp(q,p)).test(aa);else if(/^validator::/.test(J)){p={};q={};I={};x='';n.replace(new RegExp('[^'+H[0]+']','g'),function(T){x+=T});p[H[0]]=aa.replace(new RegExp(x,'g'),'');q=JSON.parse(J.split(/::/).splice(1)[0].replace(/([^\W+ true false])+(\w+)/g,
'"$&"'));I[H[0]]=q;p=new M('routing',p,null,I);for(let T in q)if(Array.isArray(q[T]))p[H[0]][T].apply(p[H[0]],q[T]);else p[H[0]][T](q[T]);q=p.isValid()}else q=(new RegExp(v.requirements[H[0]])).test(aa);if(q)w[r[0].substr(1)]=aa;else return!1;I='';E=!1;N=Ja.indexOf(r[0])+r[0].length;--C;r.splice(0,1)}else I+=R.charAt(C),++N;if(C==z-1)if(J=v.requirements[r[0]],aa=I.substr(0,I.length),/^\//.test(J)?(q=J.match(/\/(.*)\//).pop(),p=J.replace('/'+q+'/',''),q=(new RegExp(q,p)).test(aa)):q=(new RegExp(v.requirements[H])).test(aa),
q)w[r[0].substr(1)]=aa;else return!1}else++N;if(w.count()==r.length){H=null;for(H in w)qa.params[H]=w[H];return!0}}return!1},U=function(n){return/\/$/.test(n)?U.variable+'/':U.variable},K=function(n,aa){var v=null,qa,Ja=n.url,R=null;for(R in n.param)if(('undefined'==typeof aa||'undefined'!=typeof aa[R])&&/^:/.test(n.param[R])){var J=n.param[R].substr(1);if('undefined'!=typeof aa&&'undefined'!=typeof aa[J]){var r=new RegExp('(:'+J+'/|:'+J+'$)','g');'undefined'!=typeof n.param.path&&/:/.test(n.param.path)&&
(n.param.path=n.param.path.replace(r,aa[J]));'undefined'!=typeof n.param.title&&/:/.test(n.param.title)&&(n.param.title=n.param.title.replace(r,aa[J]));'undefined'!=typeof n.param.namespace&&/:/.test(n.param.namespace)&&(n.param.namespace=n.param.namespace.replace(r,aa[J]));'undefined'!=typeof n.param.file&&/:/.test(n.param.file)&&(U.variable=aa[J],n.param.file=n.param.file.replace(r,U));if(/,/.test(n.url)){v=n.url.split(/,/g);var q=0;for(qa=v.length;q<qa;++q)U.variable=aa[J],v[q]=v[q].replace(r,
U);n.url=v.join(',')}else U.variable=aa[J],n.url=n.url.replace(r,U)}}if(v){q=0;qa=v.length;Ja=Ja.split(/,/g);var p=0;for(n.urlIndex=0;q<qa;++q)if(v=0,r=Ja[0].match(/:[-_a-z0-9]+/ig)){R=0;for(J=r.length;R<J;R++){var H=r[R].substr(1);'undefined'!=typeof aa[H]&&aa[H]&&v++}v>p&&(p=v,n.urlIndex=q)}}return n};P.getRoute=function(n,aa,v){var qa=null;F?qa=window.gina.config:(qa=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(qa.getRouting=getContext('gina').Config.instance.getRouting));
var Ja=qa.env||GINA_ENV,R=null,J=qa.bundle;/@/.test(n)||'undefined'==typeof J||null==J||(n=n.toLowerCase(),n+='@'+J);if(/@/.test(n)){var r=n.replace(/(.*):\/\//,'').split(/@/);J=r[1];/\/(.*)$/.test(n)&&(R=n.replace(/(.*):\/\//,'').split(/\/(.*)$/)[1],J=J.replace(/\/(.*)$/,''),Ja=R||Ja);n=r[0].toLowerCase()+'@'+J}R=qa.getRouting(J,Ja);if('undefined'==typeof R[n])throw Error('[ RoutingHelper::getRouting(rule, params) ] : `'+n+'` not found !');qa=JSON.clone(R[n]);J=null;qa=K(qa,aa);/,/.test(qa.url)&&
('undefined'!=typeof qa.urlIndex&&(v=qa.urlIndex,delete qa.urlIndex),v='undefined'!=typeof v?v:0,qa.url=qa.url.split(/,/g)[v]);/\/$/.test(qa.url)&&'/'!=qa.url&&(qa.url=qa.url.substr(0,qa.url.length-1));if(/GET/i.test(qa.method)&&'undefined'!=typeof aa){v='?';R=R[n].url;for(let q in qa.param)-1<P.reservedParams.indexOf(q)||(new RegExp(qa.param[q])).test(R)||'undefined'!=typeof aa[q]&&(v+=q+'='+encodeURIComponent(aa[q])+'&');1<v.length&&(v=v.substring(0,v.length-1),qa.url+=v)}qa.toUrl=function(q){var p=
null;/^redirect$/i.test(this.param.control)&&(p=P.getUrlProps(this.bundle,Ja||GINA_ENV));var H=this.webroot||p.webroot;p=this.hostname||p.hostname;var I=this.url;this.url='undefined'!=typeof q&&1==q?I.replace(H,'/'):I;return p+this.url};qa.request=function(q,p){var H=null,I=null;'function'==typeof arguments[arguments.length-1]&&(H=arguments[arguments.length-1]);'object'==typeof arguments[2]&&(I=arguments[2]);var x=this.webroot||I.webroot,w=this.hostname||I.hostname;I='undefined'!=typeof q&&1==q?path.replace(x,
'/'):this.url||I.url;w=/^https/.test(w)?'https':'http';F?window.open(I,'undefined'!=typeof p&&'undefined'!=typeof p.target?p.target:'_self'):('undefined'==typeof p.agent&&(p.agent=!1),w=require(''+w),x=function(C){var E='',N=!1;C.on('data',function(z){E+=z});C.on('error',function(z){N='Failed to get mail content';z&&'undefined'!=typeof z.stack?N+=z.stack:'string'==typeof z&&(N+='\n'+z)});C.on('end',function(){if(/^\{/.test(E))try{E=JSON.parse(E),'undefined'!=typeof E.error&&(N=JSON.clone(E),E=null)}catch(z){N=
z}N?H(N):H(!1,E)})},H?w.get(I,p,x):w.get(I,p))};/:/.test(qa.url)&&(aa=qa.url.match(/(:(.*)\/|:(.*)$)/g).map(function(q){return q.replace(/\//g,'')}).join(', '),J='[ RoutingHelper::getRoute(rule[, bundle, method]) ] : route [ %r ] param placeholder not defined: `'+qa.url+'` !\n Check your route description to compare requirements against param variables [ '+aa+']',J=J.replace(/%r/,n),console.warn(Error(J)));return qa};P.getRouteByUrl=function(n,aa,v,qa,Ja){2==arguments.length&&'undefined'!=typeof arguments[1]&&
-1<P.allowedMethods.indexOf(arguments[1].toLowerCase())&&(v=arguments[1],aa=void 0);var R=null,J=null,r=null,q=null,p=null,H=null;if(/#/.test(n)&&1<n.length){var I=n.split(/#/);n=I[0];p='#'+I[1];I=null}1==arguments.length&&'undefined'!=typeof arguments[0]&&(/^(https|http)/i.test(n)||/^\//.test(n)||(n='/'+n),R='/'+n.split(/\//g)[1],F&&(q=gina.config.reverseRouting,r=gina.config.routing),'undefined'!=typeof q[R]&&(I=r[q[R]],aa=I.bundle,R=I.webroot,H=I.hostname,I=null));Ja='boolean'!=typeof arguments[arguments.length-
1]?!1:arguments[arguments.length-1];var x=!1,w=null,C=null,E=w=C=null;I='undefined'!=typeof v?!0:!1;F?(w=window.gina.config,aa='undefined'!=typeof aa?aa:w.bundle,C=w.env,r=r||w.getRouting(aa),q=q||w.reverseRouting,isXMLRequest='undefined'!=typeof isXMLRequest?isXMLRequest:!1,H=H||w.hostname,R=R||w.webroot,qa={routing:{},method:v,params:{},url:n}):(w=getContext('gina').config,aa='undefined'!=typeof aa?aa:w.bundle,C=w.env,r=w.getRouting(aa),H=w.envConf[aa][C].hostname,R=w.envConf[aa][C].server.webroot,
qa||={routing:{},isXMLRequest:!1,method:'undefined'!=typeof v?v.toLowerCase():'get',params:{},url:n},Ja&&(qa.method=v),isXMLRequest=qa.isXMLRequest||!1);C=n.replace(new RegExp('^('+H+'|'+H.replace(/:\d+/,'')+')'),'');'undefined'==typeof qa.routing.path&&(qa.routing.path=unescape(C));v='undefined'!=typeof v?v.toLowerCase():'get';I&&(qa.originalMethod=qa.method,qa.method=v,qa.routing.path=unescape(C));qa.method||(qa.method=v);w={};R=new RegExp(v,'i');q=null;var N;for(N in r){if('undefined'==typeof r[N].param)break;
if(r[N].bundle==aa&&(q=r[N].method,/,/.test(q)&&R.test(q)&&(q=qa.method),'undefined'==typeof r[N].method||R.test(q))){w={method:q,requirements:r[N].requirements,namespace:r[N].namespace||void 0,url:unescape(C),rule:r[N].originalRule||N,param:r[N].param,middleware:JSON.clone(r[N].middleware),bundle:r[N].bundle,isXMLRequest};try{if(E=P.compareUrls(w,r[N].url,qa),E.past){J=JSON.clone(r[N]);J.name=N;x=!0;E={};break}}catch(z){throw Error('Route [ '+N+' ] needs your attention.\n'+z.stack);}}}if(x)return/\/$/.test(n)&&
'/'!=n&&(n=n.substr(0,n.length-1)),p&&(n+=p),J.url=n,J.toUrl=function(z){var T=this.webroot,X=this.hostname,xa=this.url;this.url='undefined'!=typeof z&&1==z?xa.replace(T,'/'):xa;return X+this.url},J;if(F){p=!1;if('#'==n&&/GET/i.test(v)&&I||/^404:/.test(n))n=location.pathname,p=!0;'undefined'==typeof P.notFound&&(P.notFound={});r=null;J='[ RoutingHelper::getRouteByUrl(rule[, bundle, method]) ] : route [ %r ] is called but not found inside your view: `'+n+'` !';if((r=(r=gina.hasPopinHandler&&gina.popinIsBinded?
gina.popin.getActivePopin().target.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/):document.body.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/))&&0<r.length?r[0]:null)&&I&&p)return p=r.match(/\[\w+\]/)[0],r=r.replace('404:'+p,p.replace(/\[|\]/g,'')+'::'),J=J.replace(/%r/,r.replace(/404:\s+/,'')),'undefined'==typeof P.notFound[r]?P.notFound[r]={count:1,message:J}:I&&'undefined'!=typeof P.notFound[r]&&++P.notFound[r].count,!1;if((p=gina.config.reverseRouting[n]||null)&&'undefined'!=typeof p&&p.split(/@(.+)$/)[1]==
aa)return r=p,'undefined'==typeof P.notFound[r]?(J=J.replace(/%r/,v.toUpperCase()+'::'+p),P.notFound[r]={count:1,message:J}):I&&'undefined'!=typeof P.notFound[r]&&++P.notFound[r].count,!1;r=P.compareUrls(w,n,qa)||null;r.past&&I&&(r=v.toUpperCase()+'::'+r.request.routing.rule,'undefined'==typeof P.notFound[r]?J=J.replace(/%r/,r):++P.notFound[r].count);return!1}console.warn(Error('[ RoutingHelper::getRouteByUrl(rule[, bundle, method, request]) ] : route not found for url: `'+n+'` !').stack);return!1};
return P}'undefined'!==typeof module&&module.exports?module.exports=Routing():'function'===typeof define&&define.amd&&define('utils/routing',['require','utils/form-validator','utils/merge'],function(){return Routing()});
function StoragePlugin(F){function P(J){aa=JSON.parse(K.getItem(this.bucket));'undefined'==typeof aa[J]&&(aa[J]=[],K.setItem(this.bucket,JSON.stringify(aa)),aa=JSON.parse(K.getItem(this.bucket)));n[J]={_collection:J,_bucket:this.bucket};n[J]=Ba(n[J],Ja);return n[J]}function da(J){if('object'!==typeof J)throw Error('filter must be an object');var r=aa[this._collection],q=J.count(),p=0,H=null;if(0==q)return null;for(var I in r)for(var x in J){var w='boolean'!=typeof J[x]?J[x].toLocaleLowerCase():J[x];
J[x]&&-1<v.indexOf(w)&&'not null'==w&&'undefined'!=typeof r[I][x]&&'object'!==typeof r[I][x]&&r[I][x]===J[x]&&'null'!=r[I][x]&&'undefined'!=r[I][x]?0>H.indexOf(r[I][x])&&(++p,p===q&&(H=r[I],H._index=I,H._collection=this._collection,H._bucket=this._bucket)):'undefined'!=typeof r[I][x]&&'object'!==typeof r[I][x]&&r[I][x]===J[x]&&(++p,p===q&&(H=r[I],H._index=I,H._collection=this._collection,H._bucket=this._bucket,H._filter=J))}H&&(H.save=R);return H}var Ba=Ba||require('utils/merge');P=P||require('utils/collection');
var M=M||require('vendor/uuid'),V=V||require('helpers/dateFormat'),ra={bucket:'default'},U={},K=null,n={},aa={},v=['not null'],qa={bucket:void 0,drop:function(){K.removeItem(ra.bucket);U=null;for(var J in this)delete this[J];return U},Collection:P},Ja={insert:function(J){J._id=M.v1();J._createdAt=(new Date).format('isoDateTime');J._updatedAt=(new Date).format('isoDateTime');aa[this._collection][aa[this._collection].length]=J;K.setItem(this._bucket,JSON.stringify(aa))},find:function(J,r){if(!J)return aa[this._collection];
if('object'!==typeof J)throw Error('filter must be an object');r=aa[this._collection];J.count();var q=0,p=[],H;for(H in r)for(var I in J){var x='boolean'!=typeof J[I]?J[I].toLocaleLowerCase():J[I];J[I]&&-1<v.indexOf(x)&&'not null'==x&&'undefined'!=typeof r[H][I]&&'object'!==typeof r[H][I]&&'null'!=r[H][I]&&'undefined'!=r[H][I]?0>p.indexOf(r[H][I])&&(p[q]=r[H][I],++q):'undefined'!=typeof r[H][I]&&'object'!==typeof r[H][I]&&r[H][I]===J[I]&&(p[q]=r[H],++q)}return p},findOne:da,update:null,'delete':function(J){if('object'!==
typeof J)throw Error('filter must be an object');var r=JSON.clone(aa[this._collection]),q=0,p=[],H;for(H in r)for(var I in J)J[I]&&-1<v.indexOf(J[I].toLocaleLowerCase())&&'not null'==J[I].toLowerCase()&&'undefined'!=typeof r[H][I]&&'object'!==typeof r[H][I]&&'null'!=r[H][I]&&'undefined'!=r[H][I]?0>p.indexOf(r[H][I])&&(p[q]=r[H][I],delete aa[this._collection][H][I],++q):'undefined'!=typeof r[H][I]&&'object'!==typeof r[H][I]&&r[H][I]===J[I]&&(p[q]=r[H],aa[this._collection].splice(H,1),++q);return 0<
p.length?(K.setItem(this._bucket,JSON.stringify(aa)),!0):!1},drop:function(J){if('undefined'==typeof aa[this._collection])throw Error('Collection `'+J+'` not found');delete n[this._collection];delete aa[this._collection];K.setItem(this._bucket,JSON.stringify(aa))}},R=function(J){J=J||!1;try{var r=JSON.clone(aa),q=this._index,p=this._collection,H=this._bucket,I=this._filter;this._updatedAt=(new Date).format('isoDateTime');Ba(r[p][q],this,!0);delete r[p][q]._index;delete r[p][q]._collection;delete r[p][q]._bucket;
delete r[p][q].save;delete r[p][q]._filter;if(J&&'object'==typeof r[p][q]){var x=function(C,E){for(var N=0,z=C.length;N<z;++N)'object'!=typeof E[N]||'undefined'==typeof C[N]||Array.isArray(C[N])?Array.isArray(C[N])?x(C[N],E[N]):'undefined'==typeof C[N]&&delete E[N]:w(C[N],E[N]);return E},w=function(C,E){for(var N in E)'object'!=typeof E[N]||'undefined'==typeof C[N]||Array.isArray(C[N])?Array.isArray(C[N])?x(C[N],E[N]):'undefined'==typeof C[N]&&delete E[N]:w(C[N],E[N]);return E};Array.isArray(r[p][q])?
r[p][q]=x(this,r[p][q]):'object'==typeof r[p][q]?r[p][q]=w(this,r[p][q]):'undefined'==typeof this[prop]&&delete r[p][q]}aa[p][q]=r[p][q];K.setItem(H,JSON.stringify(aa));return da(I)}catch(C){throw C;}};(function(J){if(!window.localStorage||window.localStorage&&'undefined'==!typeof window.localStorage.setItem)throw Error('Make sure your browser supports `window.localStorage` to use Gina Storage. See: `https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Browser_compatibility`');if('object'!=
typeof J&&'undefined'!=typeof J)throw Error('`options` must be an object');'undefined'==typeof J&&(J={});ra=Ba(J,ra);K=window.localStorage;J=ra.bucket;if(!K.getItem(J)&&void 0!=J)K.setItem(J,JSON.stringify(aa));else if(void 0==J)throw Error('`bucket` name cannot be undefined');U.bucket=J;U=Ba(U,qa)})(F);return U}
if('undefined'!==typeof module&&module.exports){var merge=require('utils/merge');Collection=require('utils/collection');var uuid=require('uuid');module.exports=StoragePlugin}else'function'===typeof define&&define.amd&&define('gina/storage',['helpers/dateFormat','helpers/prototypes'],function(){return StoragePlugin});function insertAfter(F,P){F.parentNode.insertBefore(P,F.nextSibling)}
function getElementsByAttribute(F){for(var P=[],da=0,Ba=document.getElementsByTagName('*'),M=0,V=Ba.length;M<V;++M)null!==Ba[M].getAttribute(F)&&(P[da]=Ba[M],++da);return P}
(function(F){var P=F.prototype,da=P.parseFromString;try{if((new F).parseFromString('','text/html'))return}catch(Ba){}P.parseFromString=function(Ba,M){if(/^\s*text\/html\s*(?:;|$)/i.test(M)){var V=document.implementation.createHTMLDocument('');-1<Ba.toLowerCase().indexOf('<!doctype')?V.documentElement.innerHTML=Ba:V.body.innerHTML=Ba;return V}return da.apply(this,arguments)}})(DOMParser);define('utils/dom',function(){});
function ValidatorPlugin(F,P,da){this.plugin='validator';var Ba='init ready registered success error progress submit reset change changed keydown keyup focusout focusin validate validated destroy asyncCompleted'.split(' '),M='undefined'!==typeof module&&module.exports?!1:!0,V=null;M?(require('utils/events'),registerEvents(this.plugin,Ba),require('utils/dom'),require('utils/effects'),V=gina.config.envIsDev):(V=/^true$/i.test(process.env.NODE_ENV_IS_DEV)?!0:!1)&&delete require.cache[require.resolve('./form-validator')];
var ra=M?require('vendor/uuid'):require('uuid'),U=M?require('utils/merge'):require('../../../../../lib/merge'),K=M?require('utils/inherits'):require('../../../../../lib/inherits'),n=M?require('utils/form-validator'):require('./form-validator'),aa=M?require('utils/routing'):require('../../../../../lib/routing'),v={id:'validator-'+ra.v4(),plugin:this.plugin,on:M?on:null,eventData:{},target:M?document:null,errors:{},initialized:!1,isReady:!1,rules:{},$forms:{},getFormById:null,validateFormById:null,
setOptions:null,resetErrorsDisplay:null,resetFields:null},qa={id:null,plugin:this.plugin,on:M?on:null,eventData:{},target:M?document:null,cachedErrors:{},binded:!1,unbinded:!1,withUserBindings:!1,rules:{},setOptions:null,send:null,isValidating:null,isSubmitting:null,submit:null,destroy:null,resetErrorsDisplay:null,resetFields:null},Ja={},R={},J=null,r={url:'',method:'GET',isSynchrone:!1,withCredentials:!1,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}},
q=function(k,b,g){g='undefined'!=typeof g?{id:g}:null;var m={},A;for(A in b)m[A]=b[A];if('undefined'!=typeof k&&0<k.count()){try{Va(k,''),Da(k)}catch(y){throw y;}return Oa(g,m,null,v.rules)}return new n(m)},p=function(k){r=k=U(k,r)},H=function(k){var b=null;if(!v.$forms)throw Error('`$forms` collection not found');if('undefined'==typeof k)throw Error('[ FormValidator::getFormById(formId) ] `formId` is missing');k=k.replace(/#/,'');if(null!=document.getElementById(k)&&'undefined'==typeof v.$forms[k]){var g=
document.getElementById(k),m,A=typeof(0<Ja.count())?Ja:v.rules;g.getAttribute?(id=g.getAttribute('id')||'form.'+ra.v4(),id!==g.getAttribute('id')&&g.setAttribute('id',id)):(id='form.'+ra.v4(),g.setAttribute('id',id));g.id=qa.id=id;if('undefined'!=typeof g.id&&'null'!=g.id&&''!=g.id){qa.target=g;v.$forms[g.id]=U({},qa);if(m=g.getAttribute('data-gina-form-rule')){m=m.replace(/\-|\//g,'.');if('undefined'==typeof A[m])throw Error('['+g.id+'] no rule found with key: `null`');m=A[m]}'string'==typeof g.id&&
'undefined'!=typeof A[g.id.replace(/\-/g,'.')]?$target=v.$forms[g.id].target:'object'==typeof g.id?(delete v.$forms[g.id],A=g.attributes.getNamedItem('id').nodeValue||'form.'+ra.v4(),g.setAttribute('id',A),g.id=A,qa.target=g,v.$forms[A]=U({},qa),$target=v.$forms[A].target):$target=v.$forms[g.id].target;m?la($target,m):la($target)}}'undefined'!=typeof v.$forms[k]&&(v.$forms[k].withUserBindings=!0,b='undefined'==typeof this.$forms[k]?this.$forms[k]=v.$forms[k]:v.$forms[k]);if(!b)throw Error('Validator::getFormById(...) exception: could not retrieve form `'+
k+'`');b.binded||(la(b.target),b=v.$forms[k]);V&&M&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),g={id:k,rules:v.$forms[k].rules},'undefined'!=typeof v.$forms[k].errors&&(g.errors=v.$forms[k].errors),window.ginaToolbar.update('forms',g));return b},I=function(){var k=!1,b=null;gina.hasPopinHandler&&gina.popinIsBinded&&(b=gina.popin.getActivePopin());b&&b.isOpen&&(k=!0);return k},x=function(k,b){var g=typeof(0<Ja.count())?Ja:v.rules;if(!v.$forms)throw Error('`$forms` collection not found');
if('undefined'!=typeof k&&'undefined'!=typeof v.$forms[k])return v.$forms[k];if('undefined'==typeof k)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)k=this.id;else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `formId` is missing');if('string'==typeof k)k=k.replace(/#/,'');else{if('object'!=typeof k||Array.isArray(k))throw Error('[ FormValidator::validateFormById(formId[, customRule]) ] `formId` should be a `string`');var m=k.form;k=m.getAttribute('id')||'form.'+
ra.v4();m.setAttribute('id',k)}var A=document.getElementsByTagName('form');for(var y={},B=0,S=A.length;B<S;++B)m=A[B].getAttribute('id')||null,'undefined'==typeof y[m]?y[m]=!0:'undefined'==typeof v.$forms[m]||v.$forms[m].warned||(gina.popinIsBinded?console.warn('Popin/Validator::bindForm($target, customRule): `'+m+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.\n Check inside your popin content'):console.warn('Validator::bindForm($target, customRule): `'+m+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.'),
v.$forms[m].warned=!0);if('undefined'!=typeof v.$forms[k])A=this.$forms[k]=v.$forms[k];else{m=document.getElementById(k);qa.id=k;qa.target=m;A=this.$forms[k]=v.$forms[k]=U({},qa);if('undefined'==typeof b)if(y=k.replace(/\-/g,'.'),'undefined'!=typeof g)A.rule=Ua(y);else{if('undefined'!=typeof A.target&&null!==A.target&&A.target.getAttribute('data-gina-form-rule'))if(y=A.target.getAttribute('data-gina-form-rule').replace(/\-|\//g,'.'),'undefined'!=typeof g)A.rule=Ua(y);else throw Error('[ FormValidator::validateFormById(formId) ] using `data-gina-form-rule` on form `'+
A.target+'`: no matching rule found');}else if(y=b.replace(/\-|\//g,'.'),'undefined'!=typeof g)A.rule=Ua(y);else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+b+'` is not a valid rule');m&&'undefined'!=typeof this.isPopinContext&&/true/i.test(this.isPopinContext)&&(m.isPopinContext=this.isPopinContext);m&&!A.binded&&la(m,y)}if(!A)throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+k+'` not found');return A||null},w=function(k){var b=k.form.getAttribute('id');
if(!/^true$/i.test(v.$forms[b].isValidating)){var g=k.parentNode;k=!1;b=g.getElementsByTagName('div');/form\-item\-warning/.test(g.className)?g.className=g.className.replace(/form\-item\-warning/,'form-item-error'):/form\-item\-error/.test(g.className)&&(g.className=g.className.replace(/form\-item\-error/,'form-item-warning'),k=!0);g=0;for(var m=b.length;g<m;++g)if(/form\-item\-error\-message/.test(b[g].className)){b[g].className=k?b[g].className+' hidden':b[g].className.replace(/(\s+hidden|hidden)/,
'');break}}},C={},E=function(k,b,g,m){if(V)var A=null;var y=!1;if('undefined'!=typeof k.dataset.ginaFormIsResetting&&/^(true)$/i.test(k.dataset.ginaFormIsResetting))b={},C={},k.dataset.ginaFormIsResetting=!1;else if(/^(true)$/i.test(k.dataset.ginaFormLiveCheckEnabled)&&'undefined'!=typeof m){var B='string'!=typeof k.id?k.getAttribute('id'):k.id;'undefined'==typeof C[B]&&(C[B]={});if(0<b.count()){if(C[B][m]={},C[B][m]=U(b[m],C[B][m]),0==C[B][m].count()&&delete C[B][m],b=C[B],!v.$forms[B].sent||v.$forms[B].isValidating)y=
!0}else'undefined'!=typeof C[B][m]&&(delete C[B][m],'undefined'!=typeof window.gina.validator.$forms[B].errors&&'undefined'!=typeof window.gina.validator.$forms[B].errors[m]&&delete window.gina.validator.$forms[B].errors[m]),'undefined'!=typeof v.$forms&&'undefined'!=typeof v.$forms[B]&&'undefined'!=typeof v.$forms[B].errors&&0==v.$forms[B].errors.count()&&wa(k,!0),'undefined'!=typeof C[B]&&0==C[B].count()?delete C[B]:b=C[B]}var S=null;B=k.getAttribute('id');g='undefined'!=typeof g?g:{};for(var O=
0,ba=k.length;O<ba;++O){var Q=k[O];if('undefined'==typeof m||m==Q.name){if(/form\-item\-wrapper$/.test(Q.parentNode.className)){var u=Q.parentNode.parentNode;var fa=Q.parentNode}else u=Q.parentNode,fa=Q;var ta=Q.getAttribute('name');var ka=Q.getAttribute('data-gina-form-errors');if(ta){if('undefined'!=typeof b[ta]&&!/(form\-item\-error|form\-item\-warning)/.test(u.className)){u.className=y?u.className+(''==u.className?'form-item-warning':' form-item-warning'):u.className+(''==u.className?'form-item-error':
' form-item-error');S=document.createElement('div');S.className=y?'form-item-error-message hidden':'form-item-error-message';for(var ia in b[ta])'stack'!=ia&&(u=document.createElement('p'),u.appendChild(document.createTextNode(b[ta][ia])),S.appendChild(u)),V&&(A||={},A[ta]||(A[ta]={}),A[ta][ia]=b[ta][ia]);'hidden'!=fa.type&&insertAfter(fa,S)}else if('undefined'==typeof b[ta]&&/(form\-item\-error|form\-item\-warning)/.test(u.className)||'undefined'!=typeof b[ta]&&0==b[ta].count()&&/(form\-item\-error|form\-item\-warning)/.test(u.className)){ta=
u.getElementsByTagName('div');fa=0;for(ka=ta.length;fa<ka;++fa)if(/form\-item\-error\-message/.test(ta[fa].className)){ta[fa].parentElement.removeChild(ta[fa]);break}u.className=u.className.replace(/(\s+form\-item\-error|form\-item\-error|\s+form\-item\-warning|form\-item\-warning)/,'')}else if('undefined'!=typeof b[ta]&&ka){u=u.getElementsByTagName('div');ka=0;for(var Ca=u.length;ka<Ca;++ka)if('form-item-error-message'==u[ka].className){u[ka].parentElement.removeChild(u[ka]);S=document.createElement('div');
S.setAttribute('class','form-item-error-message');for(ia in b[ta])u=document.createElement('p'),u.appendChild(document.createTextNode(b[ta][ia])),S.appendChild(u),V&&(A||={},A[ta]||(A[ta]={}),A[ta][ia]=b[ta][ia]);break}S&&'hidden'!=fa.type&&insertAfter(fa,S)}if('undefined'!=typeof m&&m===Q.name)break}}}A?(triggerEvent(gina,k,'error.'+B,b),V&&M&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),k={id:B,errors:A},window.ginaToolbar.update('forms',
k))):V&&M&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),k={id:B,errors:{}},M&&window.ginaToolbar.update('forms',k));if(gina&&M&&V&&v.$forms[B].isSubmitting&&/^true$/i.test(v.$forms[B].isSubmitting)&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&g)try{window.ginaToolbar.update('data-xhr',g)}catch(ya){throw ya;}},N=function(k){var b=null;'undefined'==typeof k&&'undefined'!=typeof this.id&&(k=this.id);/^string$/i.test(typeof k)?
(b=k.replace(/#/,''),b=document.getElementById(b)):k instanceof HTMLFormElement?b=k:/^object$/i.test(typeof k)&&(b=k.target);if(!b)throw Error('[ FormValidator::resetErrorsDisplay([ formId | <form> ]) ] `'+k+'` not found');b.dataset.ginaFormIsResetting=!0;E(b,{});return b},z=function(k){if('undefined'==typeof k){var b='undefined'!=typeof this.target?this.target.getAttribute('id'):this.getAttribute('id');k=v.$forms[b]}else if('string'==typeof k){b=k.replace(/#/,'');if('undefined'==typeof v.$forms[b])throw Error('[ FormValidator::resetErrorsDisplay([formId]) ] `'+
k+'` not found');k=v.$forms[b]}if(k.fieldsSet){var g;for(g in k.fieldsSet){b=document.getElementById(g);var m=b.tagName.toLowerCase();var A=b.tagName;/textarea/i.test(A)?(A=k.fieldsSet[g].defaultValue,b.value=A,triggerEvent(gina,b,'change')):'input'==m?(A=k.fieldsSet[g].defaultValue,/$(on|true|false)$/i.test(A)&&(A=/$(on|true)$/i.test(A)?!0:!1),/^(checkbox|radio)$/i.test(b.type)?b.checked=k.fieldsSet[g].defaultChecked:/^(checkbox|radio)$/i.test(b.type)||(b.value=A),triggerEvent(gina,b,'change')):
'select'==m&&(A=k.fieldsSet[g].selectedIndex||0,b.selectedIndex=A,b.dataset.value=b.options[b.selectedIndex].value,triggerEvent(gina,b,'change'))}}return k},T=function(){var k=null,b=null;'undefined'!=typeof this.getAttribute?(k=this.getAttribute('id'),b=this):'undefined'!=typeof this.target&&null!=this.target&&'undefined'!=typeof this.target.getAttribute&&(k=this.target.getAttribute('id'),b=this.target);if('undefined'==typeof v.$forms[k])throw Error('[ FormValidator::submit() ] not `$form` binded. Use `FormValidator::getFormById(id)` or `FormValidator::validateFormById(id)` first ');
triggerEvent(gina,b,'submit');return this},X=function(k,b){var g=this.target,m=g.getAttribute('id'),A=v.$forms[m]||this,y=null,B=null,S=null,O=null;if(!('undefined'!=typeof A.isSending&&/^true$/i.test(A.isSending)||'undefined'!=typeof A.sent&&/^true$/i.test(A.sent))){v.$forms[m].isSending=!0;b='undefined'!=typeof b?U(b,r):r;'undefined'!=typeof A.id&&(b.headers['X-Gina-Form-Id']=A.id,'undefined'!=typeof gina.forms.rules&&0<A.rules.count()&&'undefined'!=typeof A.rules[A.id]&&(b.headers['X-Gina-Form-Rule']=
A.id+'@'+gina.config.bundle));'undefined'!=typeof A.target.dataset.ginaFormRule&&(b.headers['X-Gina-Form-Rule']=A.target.dataset.ginaFormRule+'@'+gina.config.bundle);(O=g.getAttribute('data-gina-form-event-on-submit-success')||g.getAttribute('data-gina-form-event-on-submit-error')?!0:!1)&&Ha(A);var ba=g.getAttribute('action')||b.url,Q=g.getAttribute('method')||b.method;Q=Q.toUpperCase();b.method=Q;b.url=ba;J||=setupXhr(b);ba=g.getAttribute('enctype')||b.headers['Content-Type'];if(b.withCredentials){if('withCredentials'in
J)b.isSynchrone?J.open(b.method,b.url,b.isSynchrone):J.open(b.method,b.url);else if('undefined'!=typeof XDomainRequest)J=new XDomainRequest,J.open(b.method,b.url);else{J=null;y='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,g,'error.'+m,y);return}J.responseType='undefined'!=typeof b.responseType?b.responseType:'';J.withCredentials=!0}else b.isSynchrone?J.open(b.method,b.url,b.isSynchrone):J.open(b.method,b.url);for(var u in b.headers)'Content-Type'==
u&&'undefined'!=typeof ba&&null!=ba&&''!=ba||J.setRequestHeader(u,b.headers[u]);if(J){J.onreadystatechange=function(ya){A.isSubmitting=!1;A.isSending=!1;setTimeout(function(){A.sent=!1},1E3);ya=/Google Inc/i.test(navigator.vendor)?50:0;2==J.readyState&&(S=/^attachment;/.test(J.getResponseHeader('Content-Disposition'))?!0:!1,!J.responseType&&S&&(J.responseType='blob'));if(4==J.readyState){var $a=null,Wa=J.getResponseHeader('Content-Type');if(/^2/.test(J.status)){try{if(/blob/.test(J.responseType)||
S){if('undefined'==typeof Wa||null==Wa)Wa='application/octet-stream';$a=new Blob([this.response],{type:Wa});var rb=document.createElement('a');rb.style='display: none';document.body.appendChild(rb);var Bb=window.URL.createObjectURL($a);rb.href=Bb;var Mb=J.getResponseHeader('Content-Disposition');rb.download=Mb.match('=(.*)')[0].substr(1);rb.click();window.URL.revokeObjectURL(Bb);y={status:J.status,statusText:J.statusText,responseType:$a.type,type:$a.type,size:$a.size}}else y=J.responseText;/\/json/.test(Wa)&&
(y=JSON.parse(J.responseText),'undefined'==typeof y.status&&(y.status=J.status));if(/\/html/.test(Wa)&&(y={contentType:Wa,content:J.responseText},'undefined'==typeof y.status&&(y.status=J.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler)){var ib=gina.popin.getActivePopin();if(ib){B={};try{B=(new DOMParser).parseFromString(y.content,'text/html').getElementById('gina-without-layout-xhr-data'),B=JSON.parse(decodeURIComponent(B.value)),XHRView=(new DOMParser).parseFromString(y.content,'text/html').getElementById('gina-without-layout-xhr-view'),
XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&V&&typeof window.ginaToolbar&&'undefined'!=typeof B&&window.ginaToolbar.update('data-xhr',B),gina&&V&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(Y){throw Y;}ib.loadContent(y.content);y=B;triggerEvent(gina,g,'success.'+m,y);return}}B=A.eventData.success=y;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&B)try{V&&'undefined'!=typeof B&&/\/html|\/json/.test(Wa)&&
window.ginaToolbar.update('data-xhr',B)}catch(Y){throw Y;}/^gina\-upload/i.test(m)&&xa(gina,g,'success',m,y);var Db=!1;'undefined'!=typeof y.isXhrRedirect&&/^true$/i.test(y.isXhrRedirect)&&(Db=!0);if('undefined'!=typeof gina.popin&&gina.hasPopinHandler&&'undefined'!=typeof y.popin||'undefined'!=typeof gina.popin&&gina.hasPopinHandler&&'undefined'!=typeof y.location&&Db){ib=gina.popin.getActivePopin();if(!ib&&'undefined'!=typeof y.popin){if('undefined'!=typeof y.popin&&'undefined'==typeof y.popin.name)throw Error('To get a `$popin` instance, you need at list a `popin.name`.');
ib=gina.popin.getPopinByName(y.popin.name);if(!ib)throw Error('Popin with name: `'+y.popin.name+'` not found.');}if('undefined'!=typeof y.popin&&'undefined'!=typeof y.popin.close){ib.isRedirecting=!1;ib.close();var Wb=y.popin.reload?y.popin.reload:!1;y.popin.location||y.popin.url||(delete y.popin,Wb&&(y.popin={reload:Wb}))}if('undefined'!=typeof y.popin&&'undefined'!=typeof y.popin.location||'undefined'!=typeof y.popin&&'undefined'!=typeof y.popin.url||'undefined'!=typeof y.location&&Db){Db=null;
ib&&(Db=ib.name,ib.isRedirecting=!0);'undefined'!=typeof y.popin&&'undefined'!=typeof y.popin.target&&(y.popin.target='_'+y.popin.target);var Za=y.location||y.popin.location||y.popin.url;if('undefined'!=typeof y.popin&&'undefined'!=typeof y.popin.name&&Db!=y.popin.name){ib&&ib.close();Db=y.popin.name;ib=gina.popin.getPopinByName(Db);if(!ib)throw Error('Popin with name `'+Db+'` not found !');ib.load(ib.name,Za,ib.options)}else ib&&ib.load(ib.name,Za,ib.options);if(ib)return setTimeout(function(Y){Y.isOpen||
Y.open()},50,ib)}}triggerEvent(gina,g,'success.'+m,y);O&&triggerEvent(gina,g,'success.'+m+'.hform',y)}catch(Y){y={status:422,error:Y.message,stack:Y.stack};B=A.eventData.error=y;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&B)try{V&&'undefined'!=typeof B&&window.ginaToolbar.update('data-xhr',B)}catch(ha){throw ha;}/^gina\-upload/i.test(m)&&xa(gina,g,'error',m,y);triggerEvent(gina,g,'error.'+m,y);O&&triggerEvent(gina,g,'error.'+m+'.hform',y)}if('undefined'!=typeof y&&'undefined'!=
typeof y.location)return window.location.hash='',y.location=/^http/.test(y.location)||/^\//.test(y.location)?y.location:location.protocol+'//'+y.location,setTimeout(()=>{window.location.href=y.location},ya)}else if(0!=J.status)if(y={status:J.status},/blob/.test(J.responseType)){$a=new Blob([this.response],{type:'text/plain'});var jb=new FileReader,ea='';jb.addEventListener('loadend',Y=>{/string/i.test(typeof Y.srcElement.result)?ea+=Y.srcElement.result:'object'==typeof Y.srcElement.result?y=U(y,Y.srcElement.result):
y.message+=Y.srcElement.result;if(/2/.test(jb.readyState)){if(/^(\{|\[)/.test(ea))try{y=U(y,JSON.parse(ea))}catch(ha){y=U(y,ha)}y.message||delete y.message;B=A.eventData.error=y;if(gina&&V&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&B)try{window.ginaToolbar.update('data-xhr',B)}catch(ha){throw ha;}/^gina\-upload/i.test(m)&&xa(gina,g,'error',m,y);triggerEvent(gina,g,'error.'+m,y);O&&triggerEvent(gina,g,'error.'+m+'.hform',y)}});jb.readAsText($a)}else{if(/^(\{|\[)/.test(J.responseText))try{y=
U(JSON.parse(J.responseText),y)}catch(Y){y=U(Y,y)}else'object'==typeof J.responseText?y=U(J.responseText,y):y.message=J.responseText;if('undefined'!=typeof y&&'undefined'!=typeof y.error&&y.fields&&'object'==typeof y.fields){ib='undefined'!=typeof y.message?y.message:null;Za={};for(Db in y.fields)ya={},ya[Db]={},ya[Db].isApiError=y.fields[Db],ib&&!ya[Db].isApiError&&(ya[Db].isApiError=y.error),Za[Db]=ya[Db],E(A.target,ya,k,Db);y.fields=Za}B=A.eventData.error=y;if(gina&&V&&'undefined'!=typeof window.ginaToolbar&&
window.ginaToolbar&&B)try{window.ginaToolbar.update('data-xhr',B)}catch(Y){throw Y;}/^gina\-upload/i.test(m)&&xa(gina,g,'error',m,y);triggerEvent(gina,g,'error.'+m,y);O&&triggerEvent(gina,g,'error.'+m+'.hform',y)}}};J.onprogress=function(ya){var $a='0';ya.lengthComputable&&($a=ya.loaded/ya.total,$a=parseInt(100*$a));ya={status:100,progress:$a};A.eventData.onprogress=ya;triggerEvent(gina,g,'progress.'+m,ya)};J.ontimeout=function(ya){y={status:408,error:'Request Timeout'};A.eventData.ontimeout=y;/^gina\-upload/i.test(m)&&
xa(gina,g,'error',m,y);triggerEvent(gina,g,'error.'+m,y);O&&triggerEvent(gina,g,'error.'+m+'.hform',y)};k||(k=event.detail.data);if(k){b=!1;if('object'==typeof k){u=[];Q=0;var fa={};try{if(k instanceof FormData){var ta=event.currentTarget.getAttribute('data-gina-form-upload-group')||'untagged',ka,ia;for([ka,ia]of k.entries())ia instanceof File?(b||=!0,u[Q]={key:ka,group:ta,file:ia,bin:''},++Q):fa[ka]=ia}else k=JSON.stringify(k);if(b&&0<u.length){var Ca='--ginaWKBoundary'+ra.v4().replace(/\-/g,'');
return Ea(u,Ca,'',0,function(ya,$a,Wa){if(ya)/^gina\-upload/i.test(m)&&xa(gina,g,'error',m,ya),triggerEvent(gina,g,'error.'+m,ya),O&&triggerEvent(gina,g,'error.'+m+'.hform',ya);else return Wa&&(J.setRequestHeader('Content-Type','multipart/form-data; boundary='+Ca),J.send($a),A.sent=!0,V&&M&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),ya={id:m,sent:'string'==typeof $a?JSON.parse($a):$a},window.ginaToolbar.update('forms',ya))),!1})}'undefined'!=
typeof fa&&0<fa.count()&&(k=JSON.stringify(fa))}catch(ya){/^gina\-upload/i.test(m)&&xa(gina,g,'error',m,ya),triggerEvent(gina,g,'error.'+m,ya),O&&triggerEvent(gina,g,'error.'+m+'.hform',ya)}}b||('undefined'!=typeof ba&&null!=ba&&''!=ba&&J.setRequestHeader('Content-Type',ba),J.send(k))}else'undefined'!=typeof ba&&null!=ba&&''!=ba&&J.setRequestHeader('Content-Type',ba),J.send();A.sent=!0;V&&M&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),ta={id:m,
sent:'string'==typeof k?JSON.parse(k):k},window.ginaToolbar.update('forms',ta))}}},xa=function(k,b,g,m,A){k=b.uploadProperties||null;if(!k)throw Error('No uploadProperties found !!');b=document.getElementById(k.uploadTriggerId);m=null;var y=A.files||[],B=null;k.hasPreviewContainer&&(m=document.getElementById(k.previewContainer.id))&&(m.innerHTML='');k.errorField&&(B=document.getElementById(k.errorField));B&&(B.style.display='none');if(B&&'success'!=g){var S=A.message||A.error;B.innerHTML='<p>'+S+
'</p>';fadeIn(B)}else if(B||'success'==g)for(g=0,A=y.length;g<A;++g){var O=m.id.replace(/\-preview/,'-'+g+'-reset-trigger');S=!1;B=document.getElementById(O);var ba=['reset','js-upload-reset'];B?(/a/i.test(B.tagName)&&(B.href='#'),B.innerHTML&&''!=B.innerHTML||(B.innerHTML=b.getAttribute('data-gina-form-upload-reset-label')||'Reset'),'undefined'==typeof B.className&&(B.className=''),O=U(B.className.split(/\s+/g),ba),B.className=O.join(' ')):(S=!0,B=document.createElement('A'),B.href='#',B.innerHTML=
b.getAttribute('data-gina-form-upload-reset-label')||'Reset',B.className=ba.join(' '),B.id=O);B.style.display='none';if('undefined'==typeof y[g].preview&&k.hasPreviewContainer&&/^image/.test(y[g].mime)&&''!=y[g].location){O=document.createElement('IMG');O.src=y[g].tmpUri;O.style.display='none';O.setAttribute('data-upload-original-filename',y[g].originalFilename);O.setAttribute('data-upload-reset-link-id',B.id);ba=m.getAttribute('data-preview-max-width')||null;if(O.width&&ba&&O.width>ba){var Q=O.width/
ba;O.width=ba;O.height/=Q}else!O.width&&ba&&(O.width=ba);/ul/i.test(k.previewContainer.tagName)?(ba=document.createElement('LI'),ba.className='item',ba.appendChild(O),m.appendChild(ba)):m.appendChild(O);fadeIn(O)}O=k.uploadFields[g];for(var u in O)if('name'==u&&''!=O[u].value||!y[g][u]||'preview'==u&&'undefined'==typeof y[g][u]||/(height|width)/i.test(u)&&!/^image/.test(y[g].mime))/(preview|height|width)/i.test(u)&&(ba=document.getElementById(O[u].id))&&ba.parentNode.removeChild(ba);else if(O[u].value=
y[g][u],'preview'==u)for(var fa in y[g][u])if('undefined'!=typeof y[g][u][fa]&&'undefined'!=typeof O[u][fa]&&(O[u][fa].value=y[g][u][fa]),'tmpUri'==fa&&k.hasPreviewContainer){Q=document.createElement('IMG');Q.src=y[g][u].tmpUri;Q.style.display='none';Q.setAttribute('data-upload-original-filename',y[g].originalFilename);Q.setAttribute('data-upload-preview-original-filename',y[g][u].originalFilename);Q.setAttribute('data-upload-reset-link-id',B.id);if(ba=m.getAttribute('data-preview-max-width')||null)Q.width=
ba;/ul/i.test(k.previewContainer.tagName)?(ba=document.createElement('LI'),ba.className='item',ba.appendChild(Q),m.appendChild(ba)):m.appendChild(Q);fadeIn(Q)}k.hasPreviewContainer&&(/ul/i.test(k.previewContainer.tagName)?(ba=document.createElement('LI'),ba.className='item',S&&ba.appendChild(B),m.appendChild(ba)):S&&m.appendChild(B));Jb('reset',b,g);fadeIn(B)}else throw Error(S);},na=function(k,b){console.debug(b+' input files');var g=/reset/i.test(b)?!0:!1,m=null,A=null,y=document.getElementById(k.id+
'-preview').childNodes,B=null,S=k.customFiles,O=[];for(let ba=0,Q=y.length;ba<Q;ba++)if(/img/i.test(y[ba].tagName)){g?(m=y[ba].getAttribute('data-upload-original-filename'),O.push(m),(A=y[ba].getAttribute('data-upload-preview-original-filename'))&&O.push(A)):(m=y[ba].src.substr(y[ba].src.lastIndexOf('/')+1),O.push(m));for(let u=0,fa=S.length;u<fa;u++)if(S[u].name==m){B=g?document.getElementById(y[ba].getAttribute('data-upload-'+b+'-link-id')):document.getElementById(S[u].deleteLinkId);B.style.display=
'none';y[ba].style.display='none';S.splice(u,1);k.customFiles=S;g&&(k.value=S.join(', C:\\fakepath\\'));m=new RegExp('^'+(k.name+'['+u+']').replace(/\-|\[|\]|\./g,'\\$&'));for(let ka=0,ia=k.form.length;ka<ia;ka++)if(A=k.form[ka].dataset.ginaFormUploadIsLocked||!1,m.test(k.form[ka].name)&&!/true/i.test(A)&&(k.form[ka].remove(),ia--,ka--,gina&&V&&M&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar))try{window.ginaToolbar.update('data-xhr',{files:S})}catch(Ca){throw Ca;}A=k.getAttribute('data-gina-form-upload-'+
b+'-action');if(!A||'undefined'==typeof A||''==A||/404/.test(A))throw Error('input file `'+k.id+'` error: `data-gina-form-upload-'+b+'-action` is required. You need to provide a valide url.');(m=k.getAttribute('data-gina-form-upload-'+b+'-method'))&&'undefined'!=typeof m&&''!=m?m=m.toUpperCase():g?m='POST':(m=1<O.length?'POST':'DELETE',console.warn('`data-gina-form-upload-'+b+'-method` was not defined. Switching to `'+m+'` by default.'));let ta=k.getAttribute('data-gina-form-upload-'+b+'-is-synchrone');
if(/null/i.test(ta)||'undefined'==typeof m||''==m)ta=!0;A=setupXhr({url:A,method:m,isSynchrone:ta,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}});/GET|DELETE/i.test(m)?A.send():A.send(JSON.stringify({files:O}));if(/none/i.test(window.getComputedStyle(k).display)){if(/none/i.test(k.parentElement.style.display)){k.parentElement.style.display='block';return}k.style.display='block'}removeListener(gina,$uploadResetTrigger,'click',function(){B.remove();
y[ba].remove()});Q--;ba--;break}}},Ea=function(k,b,g,m,A){var y=new FileReader;y.addEventListener('load',function(B){B.preventDefault();try{var S=this.result,O=void 0;B='';var ba=null;'undefined'==typeof O&&(O=8);var Q=O/8;switch(O){case 8:ba=new Uint8Array(S);break;case 16:ba=new Uint16Array(S);break;case 32:ba=new Uint32Array(S);break;default:ba=new Uint8Array(S)}var u=ba.length,fa=Math.pow(2,8)+Q;S=0;for(Q=O=null;S<u;S+=fa)O=Math.min(fa,u-S),Q=ba.subarray(S,S+O),B+=String.fromCharCode.apply(null,
Q);k[this.index].bin+=B;k[this.index].file.type||(k[this.index].file.type='application/octet-stream')}catch(ta){return A(ta,null,!0)}g+='--'+b+'\r\n';g+='Content-Disposition: form-data; name="'+k[this.index].key+'"; group="'+k[this.index].group+'"; filename="'+k[this.index].file.name+'"\r\nContent-Type: '+k[this.index].file.type+'\r\nContent-Length: '+k[this.index].bin.length+'\r\n\r\n';g+=k[this.index].bin+'\r\n';++this.index;this.index==k.length?(g+='--'+b+'--',A(!1,g,!0)):Ea(k,b,g,this.index,A)},
!1);y.index=m;k[m].bin='';y.readAsArrayBuffer(k[m].file)},Ha=function(k){var b=k.target.getAttribute('data-gina-form-event-on-submit-success')||null;if(null!=b)if(/\((.*)\)/.test(b))eval(b);else k.on('success.hform',window[b]);b=k.target.getAttribute('data-gina-form-event-on-submit-error')||null;if(null!=b)if(/\((.*)\)/.test(b))eval(b);else k.on('error.hform',window[b])},Fa=function(k){var b=null,g=k;if(!v.$forms)throw Error('`$forms` collection not found');if('undefined'==typeof g)if('undefined'!=
typeof this.id&&''!=this.id&&null!=this.id)g=this.id;else throw Error('[ FormValidator::destroy(formId) ] `formId` is missing');if('string'==typeof g)g=g.replace(/#/,'');else{if('object'!=typeof g||Array.isArray(g))throw Error('[ FormValidator::destroy(formId) ] `formId` should be a `string`');k=g.form;g=k.getAttribute('id')||'form.'+ra.v4();k.setAttribute('id',g)}'undefined'!=typeof v.$forms[g]?b=v.$forms[g]:'undefined'!=typeof this.binded&&(b=this);if(b)addListener(gina,b.target,'destroy.'+g,function(m){cancelEvent(m);
delete v.$forms[g];removeListener(gina,m.currentTarget,m.type);removeListener(gina,m.currentTarget,'destroy')}),b=Kb(b),triggerEvent(gina,b.target,'destroy.'+g);else throw Error('[ FormValidator::destroy(formId) ] `'+g+'` not found');},va=function(k){k='undefined'!=typeof k?k:v.rules;for(let m in k){var b=Object.getOwnPropertyNames(k[m]),g=0;let A=b.length,y=!1,B=null;for(;g<A;){if(/^_case_/.test(b[g])){y=!0;B=b[g];break}g++}y||'object'!=typeof k[m]||va(k[m]);if(B&&Array.isArray(k[m][B].conditions)&&
0<k[m][B].conditions.length)for(b=0,g=k[m][B].conditions.length;b<g;)'undefined'!=typeof k[m][B].conditions[b].rules&&0==k[m][B].conditions[b].rules.count()&&(k[m][B].conditions.splice(b,1),g--,b--),b++}},Da=function(k){var b=JSON.stringify(k),g=b.match(/("@import\s+[-_a-z A-Z 0-9/.]+")/g)||[],m=[];for(let S=0,O=g.length;S<O;S++)0>m.indexOf(g[S])&&m.push(g[S]);g=m;m=b.match(/("_merging(.*))(\s+:|:)(.*)(",|")/g);v.rules||(v.rules={});if(g&&0<g.length){k={};for(let S=0,O=g.length;S<O;++S){var A=g[S].replace(/(@import\s+|"|')/g,
'');var y=A.replace(/(@import\s+|"|')/g,'').split(/\s/g);for(let ba=0,Q=y.length;ba<Q;++ba){var B=y[ba].replace(/\//g,'.').replace(/\-/g,'.');'undefined'!=typeof v.rules[B]?(B=JSON.stringify(v.rules[B]),B=JSON.parse(B),B._comment='undefined'!=typeof B._comment?B._comment+'\n':'',B._comment+='Imported from `'+A+'`',B=JSON.stringify(B),b=b.replace(new RegExp(g[S],'g'),B),v.rules=JSON.parse(JSON.stringify(v.rules).replace(new RegExp(g[S],'g'),'{}'))):console.warn('[formValidator:rules] <@import error> on `'+
g[S]+'`: rule `'+y[ba]+'` not found. Ignoring.')}y=new RegExp(g[S]);if(A=m&&y.test(m.join())?!0:!1)for(let ba=0,Q=m.length;ba<Q;ba++)if(y.test(m[ba])){A=JSON.stringify(k);A=A.substr(1,A.length-1);ba<Q-1&&(A+=',');try{b=b.replace(new RegExp(m[ba],'g'),A),v.rules=JSON.parse(JSON.stringify(v.rules).replace(new RegExp(m[ba],'g'),'{}'))}catch(u){throw u;}}k={}}k=JSON.parse(b);Va(k,'');try{va()}catch(S){console.error(S.stack)}}return k},Ta=function(k){gina.hasValidator?(v=U(v,gina.validator),v.on('init',
function(b){v.isReady=!0;triggerEvent(gina,v.target,'ready.'+v.id,v)})):(v.target=document,v.setOptions=p,v.getFormById=H,v.validateFormById=x,v.resetErrorsDisplay=N,v.resetFields=z,v.handleErrorsDisplay=E,v.send=X,v.on('init',function(b){if('undefined'!=typeof k&&k.count())try{Va(k,''),k=Da(k),gina.forms.rules='undefined'!=typeof gina.forms.rules&&gina.forms.rules?U(gina.forms.rules,k,!0):k,v.rules=U(v.rules,JSON.clone(gina.forms.rules),!0)}catch(S){throw S;}Ja.count()||(Ja=JSON.clone(v.rules));
qa.setOptions=p;qa.getFormById=H;qa.validateFormById=x;qa.resetErrorsDisplay=N;qa.resetFields=z;qa.handleErrorsDisplay=E;qa.submit=T;qa.send=X;qa.unbind=Kb;qa.bind=la;qa.reBind=Gb;qa.destroy=Fa;b=0;for(var g=document.getElementsByTagName('form'),m=0,A=g.length;m<A;++m){if(g[m].getAttribute){var y=g[m].getAttribute('id')||'form.'+ra.v4();y!==g[m].getAttribute('id')&&g[m].setAttribute('id',y)}else y='form.'+ra.v4(),g[m].setAttribute('id',y);qa.id=y;qa.target=g[m];v.$forms[y]=U({},qa);var B=g[m].getAttribute('data-gina-form-rule');
if(B){B=B.replace(/\-|\//g,'.');'undefined'!=typeof k&&(v.$forms[y].rules[B]=v.rules[B]=Ja[B]=U(JSON.clone(eval('gina.forms.rules.'+B)),v.rules[B]));if('undefined'==typeof Ja[B])throw Error('['+y+'] no rule found with key: `'+B+'`. Please check if json is not malformed @ /forms/rules/'+B.replace(/\./g,'/')+'.json');B=v.rules[B]}'string'==typeof y&&'undefined'!=typeof Ja[y.replace(/\-/g,'.')]||'object'==typeof B?(y=v.$forms[y].target,B?la(y,B):la(y),++b):('object'==typeof g[m].id?(delete v.$forms[g[m].id],
y=g[m].attributes.getNamedItem('id').nodeValue||'form.'+ra.v4(),g[m].setAttribute('id',y),g[m].id=y,qa.target=g[m],v.$forms[y]=U({},qa),y=v.$forms[y].target):y=v.$forms[g[m].id].target,B?la(y,B):la(y))}if(window.XMLHttpRequest)J=new XMLHttpRequest;else if(window.ActiveXObject)try{J=new ActiveXObject('Msxml2.XMLHTTP')}catch(S){try{J=new ActiveXObject('Microsoft.XMLHTTP')}catch(O){}}v.isReady=!0;gina.hasValidator=!0;gina.validator=v;triggerEvent(gina,v.target,'ready.'+v.id,v)}));v.initialized=!0;return v},
Va=function(k,b){var g;for(g in k)if('object'==typeof k[g]&&'undefined'==typeof v.rules[b+g]){var m=g;/\[|\]/.test(g)&&(m=g.replace(/\[/g,'.').replace(/\]/g,''));v.rules[b+m]=k[g];Va(k[g],b+m+'.')}},Ua=function(k){if('undefined'!=typeof Ja[k])return Ja[k];var b=null;if('undefined'==typeof v.rules[k]){if(Va(Ja,''),Ja=Da(Ja),b=Ja[k],!b)return{}}else b=v.rules[k];b=JSON.clone(b);var g=new RegExp('^'+k),m=new RegExp('^'+k+'.'),A=null,y=function(S,O,ba,Q,u,fa,ta){if(O.length){var ka=Object.getOwnPropertyNames(S)[0],
ia=O[0];ia=''==u?u+=ia:u+'['+ia+']';1==O.length&&(S[ka]=U(S[ka],ba,!0));O.splice(0,1);ia==ka?y(S[ka],O,ba,Q,ia,fa,ta):'undefined'!=typeof S[ka]?y(S[ka],O,ba,Q,ia,fa,ta):y(S,O,ba,Q,u,fa,ta)}},B;for(B in v.rules)B!=k&&g.test(B)&&(A=B.replace(m,''),/\./.test(A)&&(A=A.split(/\./g),y(b,A,v.rules[B],b,'',0,b.count()-1)));return Ja[k]=b},zb=function(k,b,g,m,A,y,B){if(A==m)return eval(k+'=value'),B;var S=b[A].replace(/^\[|\]$/g,'');'undefined'==typeof B?(B={},k='rootObj'+(/^\d+$/.test(S)?'['+S+']':'["'+S+
'"]'),eval(k+'=obj')):k+=/^\d+$/.test(S)?'['+S+']':'["'+S+'"]';var O='undefined'!=typeof b[A+1]?b[A+1].replace(/^\[|\]$/g,''):null;O&&parseInt(O);O&&eval(k+' = valueType');if('undefined'==typeof g[S])return/^\d+$/.test(O)?g[S]=[]:g[S]={},++A,zb(k,b,g[S],m,A,y,B);++A;return zb(k,b,g[S],m,A,y,B)},Ia=function(k,b,g,m,A){if(A>=m)return!1;var y=g[A].replace(/^\[|\]$/g,''),B=A<m-1&&'undefined'!=typeof g[A+1]?g[A+1].replace(/^\[|\]$/g,''):null;'undefined'==typeof k[y]&&(B&&/^\d+$/.test(B)?(parseInt(B),k[y]=
[]):k[y]={});Array.isArray(k[y])?(B=zb(y,g,k[y],g.length,1,b),k[y]=U(k[y],B)):A==m-1&&(k[y]=b);Ia(k[y],b,g,m,A+1)},Na=function(k){var b=null,g={},m=null,A=function(S,O,ba,Q,u){if(u==Q)return S;var fa=O?Object.keys(ba)[u]:u;/\[(.*)\]/.test(fa)?(m=fa,b=fa.match(/(\[[-_\[a-z 0-9]*\]\]|\[[-_\[a-z 0-9]*\])/ig),fa=fa.match(/^[-_a-z 0-9]+\[{0}/ig),'undefined'==typeof S[fa]&&(S[fa]=Array.isArray(ba[m])?[]:{}),Ia(g,ba[m],b,b.length,0),S[fa]=U(S[fa],g),g={}):S[fa]=ba[fa];++u;return A(S,O,ba,Q,u)},y='undefined'==
typeof k?0:1,B=!1;Array.isArray(k)?y=k.length:'object'==typeof k&&(y=k.count(),B=!0);return A({},B,k,y,0)},bb=function(k){var b=v.$forms[k.form.getAttribute('id')],g=/^true$/i.test(k.disabled)?!0:!1;g&&'undefined'!=typeof b.rule&&'undefined'!=typeof b.rule[k.name]&&'undefined'!=typeof b.rule[k.name].exclude&&/^false$/i.test(b.rule[k.name].exclude)&&(g=!1);if(/^(radio|text|hidden|password|number|date|email)$/i.test(k.type)&&!g){var m=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,'value'),
A=m.set;m.set=function(y){Object.defineProperty(this,'value',{set:A});var B='change.'+this.id;y===this.value&&y===this.defaultValue||y===this.value||(this.value=y,console.debug('Value set: '+y),'undefined'!=typeof gina.events[B]&&(console.debug('trigger event on: ',this.name,B),triggerEvent(gina,this,B,y)));Object.defineProperty(this,'value',m)};Object.defineProperty(k,'value',m)}},Ab=function(k,b,g,m){'undefined'==typeof m&&(m=!1);var A=k.rules,y=v.$forms[b.form.getAttribute('id')],B=/^true$/i.test(b.disabled)?
!0:!1;B&&'undefined'!=typeof y.rule&&'undefined'!=typeof y.rule[b.name]&&'undefined'!=typeof y.rule[b.name].exclude&&/^false$/i.test(y.rule[b.name].exclude)&&(B=!1);if(/^(radio|checkbox|text|hidden|password|number|date|email)$/i.test(b.type)&&!B||m&&!B){m=b.name;y=A[m]||null;if(!y&&(Ra(A,b),'undefined'==typeof A[m]))return;if(k.target.dataset.ginaFormLiveCheckEnabled&&y&&(m=[],y=null,B=0,/^(radio|checkbox)$/i.test(b.type)?y=/^(radio|checkbox)$/i.test(b.type)?'changed.'+b.id:'change.'+b.id:(addEventListener(gina,
b,'focusout.'+b.id,function(O){O.preventDefault();clearTimeout(g)}),y='change.'+b.id,'undefined'==typeof gina.events[y]&&(m[B]=y,++B),y='keyup.'+b.id,'undefined'==typeof gina.events[y]&&(m[B]=y,++B),y='focusin.'+b.id,'undefined'==typeof gina.events[y]&&(m[B]=y,++B),y='focusout.'+b.id),'undefined'==typeof gina.events[y]&&(m[B]=y,++B),0<m.length)){var S=!1;addListener(gina,b,m,function(O){O.preventDefault();clearTimeout(g);if(!S&&/^changed\./i.test(O.type)||!S&&/^(radio|checkbox)$/i.test(O.target.type))S=
!0;else if(S&&/^changed\./i.test(O.type)||S&&/^(radio|checkbox)$/i.test(O.target.type))return!1;if('undefined'!=typeof v.$forms[O.target.form.getAttribute('id')].isSubmitting&&/true/i.test(v.$forms[O.target.form.getAttribute('id')].isSubmitting))return!1;var ba=function(){console.debug('processing: '+O.target.name+'/'+O.target.id);if(!/^(radio|checkbox)$/i.test(O.target.type)&&O.target.value===O.target.defaultValue&&''!=O.target.value){var Q=v.$forms[O.target.form.getAttribute('id')].errors;if(Q&&
0!=Q.count())E(O.target.form,Q,null,O.target.name);else return E(O.target.form,{},null,O.target.name),cancelEvent(O)}Q={};var u={};Q[O.target.name]=O.target.value;u[O.target.name]=O.target;v.$forms[O.target.form.getAttribute('id')].isValidating=!0;Oa(O.target,Q,u,k.rules,function(fa){v.$forms[O.target.form.getAttribute('id')].isValidating=!1;fa.isValid()?E(O.target.form,{},fa.data,O.target.name):E(O.target.form,fa.error,fa.data,O.target.name);var ta=O.target.form,ka=fa=null,ia=null;ka=La(ta,A);fa=
ka.fields;ka=ka.$fields;var Ca=ta.getAttribute('id');ia=v.$forms[Ca].rules;v.$forms[Ca].isValidating=!0;Oa(ta,fa,ka,ia,function(ya){v.$forms[Ca].isValidating=!1;console.debug('['+Ca+'] onSilentGlobalLiveValidation: '+ya.isValid(),ya);var $a=ya.isValid();V&&M&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:Ca,errors:ya.error||{}}));wa(ta,$a);S=!1})})};if(/^changed\./i.test(O.type)||/^change\./i.test(O.type)&&
'radio'==O.target.type)return function(Q,u){if(!(0<u))return++u,setTimeout(()=>{console.debug(' changed .... '+b.id);ba()},0)}(S,0);/^focusin\./i.test(O.type)?/\-error/.test(b.parentNode.className)&&(console.debug('#1 you just focusin ....'+b.id,b.value),w(b)):/^focusout\./i.test(O.type)?/\-warning/.test(b.parentNode.className)&&(console.debug('#1 you just focusout ....'+b.id,b.value),w(b),E(b.form,v.$forms[b.form.getAttribute('id')].errors,null,b.name)):/^keyup\./i.test(O.type)?(b.ginaFormValidatorTestedValue=
b.value,g=setTimeout(function(){-1<['91','17'].indexOf(''+O.keyCode)&&0==R.count()||(console.debug(' keyup ('+O.keyCode+') .... '+b.id,b.value,' VS ',b.ginaFormValidatorTestedValue+'(old)'),ba())},1E3)):/^change\./i.test(O.type)&&!/^(checkbox)$/i.test(O.target.type)&&(console.debug(' change .... '+b.id),ba())})}}},db=function(k,b){k.setSelectionRange?(k.focus(),k.setSelectionRange(b,b)):k.createTextRange&&(k=k.createTextRange(),k.collapse(!0),k.moveEnd('character',b),k.moveStart('character',b),k.select())},
cb=function(k,b){if(document.activeElement&&document.activeElement.form){k=Array.prototype.filter.call(document.activeElement.form.querySelectorAll('a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), select:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])'),function(A){return 0<A.offsetWidth||0<A.offsetHeight||A===document.activeElement});var g=k.indexOf(document.activeElement);if(-1<g){var m=k[g+1];b&&(m=k[g-1]);(m||k[0]).focus()}}},sb=function(k,b){k.setAttribute('readonly',
'readonly');addListener(gina,k,'focusout.'+k.id,function(g){g.preventDefault();clearTimeout(b);g=g.currentTarget;triggerEvent(gina,g,'change.'+g.id);g.setAttribute('readonly','readonly')});addListener(gina,k,'focusin.'+k.id,function(g){g.preventDefault();g.currentTarget.removeAttribute('readonly');var m='keydown.'+g.currentTarget.id;'undefined'==typeof gina.events[m]&&addListener(gina,g.currentTarget,m,function(A){A.preventDefault();clearTimeout(b);var y=A.currentTarget,B=A.currentTarget.value,S=
y.selectionStart,O=y.selectionEnd;y.removeAttribute('readonly');switch(A.keyCode){case 46:case 8:S!=O?(y.value=B.substr(0,S)+B.substr(O),0==S&&(y.value=B.substr(O))):y.value=0==S?B.substring(S+1):B.substr(0,S-1)+B.substr(O);A.currentTarget.setAttribute('readonly','readonly');setTimeout(()=>{y.removeAttribute('readonly');setTimeout(()=>{S!=O?db(y,S):0==S?db(y,S):db(y,S-1)},0)},0);break;case 9:R[16]&&R[9]?cb(y,!0):cb(y);break;case 13:case 16:break;case 37:console.debug('moving left ',S-1);db(y,S-1);
break;case 39:S+1<B.length+1&&db(y,S+1);break;case 17:case 91:console.debug('CMD hit');A.preventDefault();break;case 67:if(R[67]&&R[91]||R[67]&&R[17]){y.setSelectionRange(S,O);document.execCommand('copy');break}case 86:if(R[86]&&R[91]||R[86]&&R[17]){S!=O&&(y.value=y.value.replace(B.substring(S,O),''));db(y,S);document.execCommand('paste');break}case 88:if(R[88]&&R[91]||R[88]&&R[17]){y.setSelectionRange(S,O);document.execCommand('cut');break}case 90:if(R[90]&&R[91]||R[90]&&R[17]){y.value=y.defaultValue;
break}default:S!=O?(y.value=B.substr(0,S)+A.key,O-1<B.length&&(y.value+=B.substring(O))):y.value=0==S?A.key+B.substring(S):B.substr(0,S)+A.key+B.substr(O),A.currentTarget.setAttribute('readonly','readonly'),setTimeout(()=>{y.removeAttribute('readonly');setTimeout(()=>{db(y,S+1)},0)},0)}})})},Cb=function(k,b){if(/^(input|textarea)$/i.test(b.tagName)&&'undefined'==typeof gina.events['registered.'+b.id]){/^file$/i.test(b.type)||bb(b);switch(b.tagName.toLowerCase()){case 'textarea':Ab(k,b,null,!0);break;
default:Ab(k,b,null),k=b.getAttribute('autocomplete'),/safari/i.test(navigator.userAgent)&&k&&/^(off|false)/i.test(k)&&sb(b,null)}gina.events['registered.'+b.id]=b.id}},Jb=function(k,b,g){var m=b.id+'-'+g+'-'+k+'-trigger',A=document.getElementById(m);A||(m=b.getAttribute('data-gina-form-upload--'+g+ +k+'-trigger'),A=document.getElementById(m));A&&'undefined'==typeof A.isBinded||A&&'undefined'!=typeof A.isBinded&&!/true/i.test(A.isBinded)?(addListener(gina,A,'click',function(y){y.preventDefault();
na(b,k)}),A.isBinded=!0):console.warn('[FormValidator::bindForm][upload]['+b.id+'] : did not find `upload '+k+' trigger`.\nPlease, make sure that your delete element ID is `'+m+'-'+k+'-trigger`, or add to your file input ('+b.id+') -> `data-gina-form-upload-'+k+'-trigger="your-custom-id"` definition.')},yb=function(k,b){var g=function(m,A,y){var B=null;switch(A){case 'data-gina-form-upload-action':B='upload-to-tmp-xml';break;case 'data-gina-form-upload-reset-action':B='upload-delete-from-tmp-xml'}var S=
m.getAttribute(A);if(!S||''==S){B||console.warn('`'+A+'` definition not found for `'+m.id+'`. Trying to get default route.');var O=null;try{B&&(S=aa.getRoute(B))}catch(ba){O=ba}S?(console.info('Ignore previous warnings regarding upload. I have found a default `'+A+'` route: `'+B+'@'+S.bundle+'`'),m.setAttribute('data-gina-form-upload-action',S.toUrl())):(m='`'+A+'` needs to be defined to proceed for your `input[type=file]` with ID `'+m.id+'`\n'+O+'\n',y&&(y.innerHTML+=m.replace(/(\n|\r)/g,'<br>')),
console.error(m))}};g(k,'data-gina-form-upload-action',b);g(k,'data-gina-form-upload-reset-action',b);g(k,'data-gina-form-upload-delete-action',b)},Gb=function(k,b,g){k=Kb(k);la(k.target,b);return g?g(k):k},Kb=function(k){var b=null,g=null;try{if(k.getAttribute&&k.getAttribute('id'))if(g=k.getAttribute('id'),'undefined'!=typeof v.$forms[g])b=v.$forms[g];else throw Error('form instance `'+g+'` not found');else if('undefined'!=typeof k.target)b=k,g=b.id;else throw Error('Validator::unbindForm($target): `$target` must be a DOM element\n'+
err.stack);}catch(B){throw Error('Validator::unbindForm($target) could not unbind form `'+k+'`\n'+B.stack);}if('undefined'!=typeof b&&!b.binded)return b;removeListener(gina,b,'success.'+g);removeListener(gina,b,'error.'+g);b.target.getAttribute('data-gina-form-event-on-submit-success')&&removeListener(gina,b,'success.'+g+'.hform');b.target.getAttribute('data-gina-form-event-on-submit-error')&&removeListener(gina,b,'error.'+g+'.hform');removeListener(gina,b,'validate.'+g);removeListener(gina,b,'validated.'+
g);removeListener(gina,b,'submit.'+g);removeListener(gina,b,'reset.'+g);k=[];g=b.target.getElementsByTagName('button');if(0<g.length)for(let B=0,S=g.length;B<S;++B)k.push(g[B]);g=b.target.getElementsByTagName('a');if(0<g.length)for(let B=0,S=g.length;B<S;++B)k.push(g[B]);g=b.target.getElementsByTagName('input');if(0<g.length)for(let B=0,S=g.length;B<S;++B)if(/^(hidden)$/i.test(g[B].type)||k.push(g[B]),/^(file)$/i.test(g[B].type)){var m=g[B].getAttribute('data-gina-form-virtual');if(m){var A=H(m).target;
if(A){k.push(A);for(let O=0,ba=Ba.length;O<ba;O++){var y=Ba[O];'undefined'!=typeof gina.events[y+'.'+m+'.hform']&&gina.events[y+'.'+m+'.hform']==m&&removeListener(gina,A,y+'.'+m+'.hform')}}}}else for(let O=0,ba=Ba.length;O<ba;O++)m=Ba[O]+'.'+g[B].id,'undefined'!=typeof gina.events[m]&&gina.events[m]==g[B].id&&removeListener(gina,g[B],m),m=Ba[O],'undefined'!=typeof gina.events[m]&&gina.events[m]==g[B].id&&removeListener(gina,g[B],m),m=g[B].id,'undefined'!=typeof gina.events[m]&&gina.events[m]==g[B].id&&
removeListener(gina,g[B],m);g=b.target.getElementsByTagName('textarea');if(0<g.length)for(let B=0,S=g.length;B<S;++B)k.push(g[B]);g=b.target.getElementsByTagName('form');if(0<g.length)for(let B=0,S=g.length;B<S;++B)k.push(g[B]);k.push(b.target);for(let B=0,S=k.length;B<S;++B){g=k[B];m=g.getAttribute('id');for(let O=0,ba=Ba.length;O<ba;O++)y=A=Ba[O],'undefined'!=typeof gina.events[y]&&gina.events[y]==m&&removeListener(gina,g,y),y=m,'undefined'!=typeof gina.events[y]&&gina.events[y]==m&&removeListener(gina,
g,y),y=A+'.'+m,'undefined'!=typeof gina.events[y]&&gina.events[y]==m&&removeListener(gina,g,y),y=A+'.'+m,'undefined'!=typeof gina.events[y]&&gina.events[y]==y&&removeListener(gina,g,y),y=A+'.'+m+'.hform','undefined'!=typeof gina.events[y]&&gina.events[y]==m&&removeListener(gina,g,y)}evt=null;b.binded=!1;return b},Ra=function(k,b){b=b.name;if(!k[b])for(let g in k)if(/^\//.test(g)&&(re=g.match(/\/(.*)\//).pop(),flags=g.replace('/'+re+'/',''),re=re.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),re=new RegExp(re,
flags),re.test(b))){k[b]=k[g];break}},la=function(k,b){var g=null,m=null,A=typeof(0<Ja.count())?Ja:v.rules;try{if(k.getAttribute&&k.getAttribute('id'))if(m=k.getAttribute('id'),'undefined'!=typeof v.$forms[m])g=v.$forms[m];else throw Error('form instance `'+m+'` not found');else throw Error('Validator::bindForm($target, customRule): `$target` must be a DOM element\n'+err.stack);}catch(ea){throw Error('Validator::bindForm($target, customRule) could not bind form `'+k+'`\n'+ea.stack);}if('undefined'!=
typeof g&&g.binded)return!1;console.debug('binding for: '+m);var y=!1,B=null,S='',O=null;'undefined'!=typeof b||'string'==typeof m&&'undefined'!=typeof A[m.replace(/\-|\//g,'.')]?(y=!0,B=b&&'object'==typeof b?b:b&&'string'==typeof b&&'undefined'!=typeof A[b.replace(/\-|\//g,'.')]?Ua(b.replace(/\-|\//g,'.')):Ua(m.replace(/\-|\//g,'.')),g.rules=B,V&&M&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.rules||(gina.forms.rules={}),objCallback={id:m,rules:g.rules},window.ginaToolbar.update('forms',
objCallback))):g.rules={};'undefined'==typeof g.target.dataset.ginaFormLiveCheckEnabled&&0<g.rules.count()?g.target.dataset.ginaFormLiveCheckEnabled=!0:g.target.dataset.ginaFormLiveCheckEnabled='undefined'!=typeof g.target.dataset.ginaFormLiveCheckEnabled?/^true$/i.test(g.target.dataset.ginaFormLiveCheckEnabled)?!0:!1:!1;g.fieldsSet||(g.fieldsSet={});O=null;k.getElementsByTagName('a');b=k.getElementsByTagName('input');var ba=k.getElementsByTagName('textarea');O=k.getElementsByTagName('select');var Q=
{},u=[],fa={},ta=null,ka={},ia=null,Ca=null;for(let ea=0,Y=ba.length;ea<Y;++ea)Ra(g.rules,ba[ea]),Ca=ba[ea].getAttribute('id'),Ca&&''!=Ca||(Ca='textareas.'+ra.v4(),ba[ea].setAttribute('id',Ca)),g.fieldsSet[Ca]||(g.fieldsSet[Ca]={id:Ca,name:ba[ea].name||null,value:ba[ea].value||'',defaultValue:ba[ea].value||''}),/^true$/i.test(g.target.dataset.ginaFormLiveCheckEnabled)&&Cb(g,ba[ea]);for(let ea=0,Y=b.length;ea<Y;++ea){Ra(g.rules,b[ea]);Ca=b[ea].getAttribute('id');Ca&&''!=Ca||(Ca='input.'+ra.v4(),b[ea].setAttribute('id',
Ca));g.fieldsSet[Ca]||(ta=b[ea].value,/$(on|true|false)$/i.test(ta)&&(ta=/$(on|true)$/i.test(ta)?!0:!1),g.fieldsSet[Ca]={id:Ca,name:b[ea].name||null,value:ta||!/^(checkbox|radio)$/i.test(b[ea].type)?'':b[ea].checked,defaultValue:/^(checkbox|radio)$/i.test(b[ea].type)?b[ea].checked:ta},/^(checkbox|radio)$/i.test(b[ea].type)&&'undefined'==typeof g.fieldsSet[Ca].defaultChecked&&(g.fieldsSet[Ca].defaultChecked=/^(true|on)$/i.test(b[ea].checked)||/^(true|on)$/.test(ta)&&/^(checkbox)$/i.test(b[ea].type)?
!0:!1,/^radio$/i.test(b[ea].type)&&(g.fieldsSet[Ca].value=b[ea].value,g.fieldsSet[Ca].defaultValue=b[ea].value)));/^true$/i.test(g.target.dataset.ginaFormLiveCheckEnabled)&&Cb(g,b[ea]);if(ta=b[ea].getAttribute('data-gina-form-element-group'))0>u.indexOf(ta)&&u.push(ta),ia=b[ea].getAttribute('name')||Ca,ia===Ca&&b[ea].setAttribute('name',Ca),Q[Ca]={id:Ca,name:ia,group:ta,target:b[ea]},fa[b[ea].name]=new RegExp('^'+ta.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')),y&&('undefined'==typeof g.rules[b[ea].name]&&
(g.rules[b[ea].name]={}),'undefined'!=typeof g.rules[b[ea].name].isRequired&&g.rules[b[ea].name].isRequired||(g.rules[b[ea].name].exclude=!0));if(0<fa.count())for(var ya in fa)b[ea].name!=ya&&(b[ea].getAttribute('data-gina-form-element-group'),fa[ya].test(b[ea].name)&&(b[ea].disabled=!0,'undefined'==typeof ka[ya]&&(ka[ya]={}),ka[ya][b[ea].name]=b[ea]));if(/^file$/i.test(b[ea].type)){Ca=b[ea].getAttribute('data-gina-form-upload-trigger');Ca||(Ca=b[ea].id);ta=null;ia=(new DOMParser).parseFromString(k.innerHTML,
'text/html');Ca&&(ta=document.getElementById(Ca));ba=document.getElementById(b[ea].id+'-error');yb(b[ea],ba);if((ba=ia.getElementById(Ca+'-preview'))&&ta&&!/none/i.test(window.getComputedStyle(ba).display)&&!/none/i.test(ba.parentElement.style.display)){ia=0;console.debug('preview is visible ...');ta.customFiles=[];ta.form=k;ba=ba.childNodes;for(let ha=0,pa=ba.length;ha<pa;ha++){var $a=null;if(/ul/i.test(ba[ha].tagName))for(let Pa=0,eb=ba[ha].length;Pa<eb;Pa++){let hb=$$els[ha];for(let Ma=0,wb=hb.length;Ma<
wb;Ma++)/img/i.test(hb[Ma])&&($a=hb[Ma],$a.setAttribute(''),ia++)}else/img/i.test(ba[ha].tagName)&&($a=ba[ha],deleteLinkId=Ca+'-'+ia+'-delete-trigger',$a=$a.src.substr($a.src.lastIndexOf('/')+1),ta.customFiles.push({name:$a,deleteLinkId}),Jb('delete',ta,ia),ia++)}}addListener(gina,b[ea],'change',function(ha){ha.preventDefault();var pa=ha.currentTarget;ha=pa.files;pa.customFiles=Array.from(ha);if(!ha.length)return!1;var Pa=pa.getAttribute('data-gina-form-upload-action'),eb=pa.getAttribute('name'),
hb='gina-upload-'+eb.replace(/\[/g,'-').replace(/\]/g,'-'+g.id);pa.setAttribute('data-gina-form-virtual',hb);var Ma=pa.getAttribute('data-gina-form-upload-on-success'),wb=pa.getAttribute('data-gina-form-upload-on-error'),ab=null;if(0<ha.length){var pb=null;if(I()){pb=gina.popin.getActivePopin();pb.$target=(new DOMParser).parseFromString(pb.target.outerHTML,'text/html');pb.$target.getElementById(pb.id).innerHTML=document.getElementById(pb.id).innerHTML;var nb=pb.$target.getElementById(hb)}else nb=
document.getElementById(hb);if(!nb){(nb=H(hb))||(nb=I()?pb.$target.createElement('form'):document.createElement('form'));nb.id=hb;nb.action=Pa;nb.enctype='multipart/form-data';nb.method='POST';if('undefined'!=typeof pa.form){Pa='files';var qb=pa.getAttribute('data-gina-form-upload-prefix')||pa.name||pa.getAttribute('name'),mb=pa.id||pa.getAttribute('id'),Qb=!1,Hb=pa.getAttribute('data-gina-form-upload-preview')||mb+'-preview';Hb=I()?pb.$target.getElementById(Hb):document.getElementById(Hb);'undefined'!=
typeof Hb&&(Qb=!0);qb&&(Pa=qb);qb=[];for(var Lb='name group originalFilename ext encoding size height width location mime preview'.split(' '),Bc=pa.form.getElementsByTagName('INPUT'),fc,Xb,Gc,pc,Pb=0,Nc=ha.length;Pb<Nc;++Pb){Jb('reset',pa,Pb);qb[Pb]=null;fc=Pa+'['+Pb+']';pc=new RegExp('^'+fc.replace(/\[/g,'\\[').replace(/\]/g,'\\]'));for(var vc=0,wc=Bc.length;vc<wc;++vc)fc=Bc[vc].getAttribute('type'),ab=Bc[vc].getAttribute('data-gina-form-upload-error')||mb+'-error'||null,fc&&/hidden/i.test(fc)&&
(Xb=Bc[vc],fc=/\[\w+\]$/i.test(Xb.name)?Xb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Xb.name,Gc=/\[\w+\]$/i.test(Xb.name)?Xb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Xb.name,Xb&&'undefiend'!=typeof fc&&-1<Lb.indexOf(fc)&&pc.test(Xb.name)?(qb[Pb]||(qb[Pb]={}),/\[preview\]/i.test(Xb.name)?('undefined'==typeof qb[Pb].preview&&(qb[Pb].preview={}),qb[Pb].preview[fc]=Xb):qb[Pb][fc]=Xb):Xb&&'undefiend'!=typeof fc&&0>Lb.indexOf(fc)&&pc.test(Xb.name)&&(qb[Pb]||(qb[Pb]={}),/\[preview\]/i.test(Xb.name)?
('undefined'==typeof qb[Pb].preview&&(qb[Pb].preview={}),qb[Pb].preview[Gc]=Xb):qb[Pb][Gc]=Xb));pc=0;for(vc=Lb.length;pc<vc;++pc)qb[Pb]||(qb[Pb]={}),'undefined'==typeof qb[Pb][Lb[pc]]&&(fc=Pa+'['+Pb+']['+Lb[pc]+']',$newVirtualField=document.createElement('input'),$newVirtualField.type='hidden',$newVirtualField.id='input.'+ra.v4(),$newVirtualField.name=fc,$newVirtualField.value='',pa.form.appendChild($newVirtualField),qb[Pb][Lb[pc]]=pa.form[pa.form.length-1])}nb.uploadProperties={id:pa.form.id||pa.getAttribute('id'),
uploadTriggerId:pa.id,$form:pa.form,errorField:ab,mandatoryFields:Lb,uploadFields:qb,hasPreviewContainer:Qb,isPopinContext:I()};Qb&&(nb.uploadProperties.previewContainer=Hb)}Ma?nb.setAttribute('data-gina-form-event-on-submit-success',Ma):nb.setAttribute('data-gina-form-event-on-submit-success','onGenericXhrResponse');wb?nb.setAttribute('data-gina-form-event-on-submit-error',wb):nb.setAttribute('data-gina-form-event-on-submit-error','onGenericXhrResponse');I()?document.getElementById(pb.id).appendChild(nb):
document.body.appendChild(nb)}try{var rc=H(hb),Sc=new FormData;pa=null;hb=0;for(var Oc=ha.length;hb<Oc;++hb)pa=ha[hb],Sc.append(eb,pa,pa.name);rc.send(Sc,{withCredentials:!0})}catch(ad){throw ad;}}})}}var Wa=function(ea,Y){ea.setAttribute('data-value',ea.value);if(/^(true)$/i.test(Y.target.dataset.ginaFormLiveCheckEnabled&&0<Y.rules.count())){var ha={},pa={},Pa=null;Pa=ea.form;ha[event.target.name]=event.target.value;pa[event.target.name]=event.target;v.$forms[Pa.getAttribute('id')].isValidating=
!0;Oa(event.target,ha,pa,Y.rules,function(eb){v.$forms[Pa.getAttribute('id')].isValidating=!1;eb.isValid()?E(Pa,{},eb.data,event.target.name):E(Pa,eb.error,eb.data,event.target.name);var hb=Pa,Ma=eb=null,wb=null;Ma=La(hb,A);eb=Ma.fields;Ma=Ma.$fields;var ab=hb.getAttribute('id');wb=v.$forms[ab].rules;v.$forms[ab].isValidating=!0;Oa(hb,eb,Ma,wb,function(pb){v.$forms[ab].isValidating=!1;console.debug('[updateSelect]: onSilentGlobalLiveValidation: '+pb.isValid(),pb);pb=pb.isValid();wa(hb,pb);once=!1})})}};
ta=ka=null;ya=0;for(fa=O.length;ya<fa;++ya)if(Ra(g.rules,O[ya]),Ca=O[ya].getAttribute('id'),!Ca||!/^gina\-toolbar/.test(Ca)){Ca&&''!=Ca||(Ca='select.'+ra.v4(),O[ya].setAttribute('id',Ca));if(ta=O[ya].getAttribute('data-gina-form-element-group'))ka=O[ya].getAttribute('name')||Ca,ka===Ca&&O[ya].setAttribute('name',Ca),Q[Ca]={id:Ca,name:ka,group:ta,target:O[ya]};addListener(gina,O[ya],'change',function(ea){ea=ea.target;/select/i.test(ea.type)&&Wa(ea,g)});if(O[ya].options&&!g.fieldsSet[Ca]){ka=0;if(ta=
O[ya].getAttribute('data-value')||null)for(ia=0,ba=O[ya].options.length;ia<ba;++ia)if(O[ya].options[ia].value==ta){ka=ia;O[ya].selectedIndex=ka;break}'undefined'!=typeof O[ya].options[O[ya].selectedIndex]&&O[ya].options[O[ya].selectedIndex].index&&(ka=O[ya].options[O[ya].selectedIndex].index);g.fieldsSet[Ca]={id:Ca,name:O[ya].name||null,value:O[ya].options[ka].value||ta||null,selectedIndex:ka||0};'undefined'!=typeof O[ya].selectedIndex&&(O[ya].options[ka].selected=!0,O[ya].setAttribute('data-value',
O[ya].options[ka].value))}}var rb=function(ea,Y,ha,pa){'undefined'==typeof pa&&(pa=!1);if('undefined'==typeof Q[ea])throw Error('Radio & Checkbox dependencies not met: you must use the ID attribue of the `master element` as the `data-gina-form-element-group`');var Pa=ea.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');ea=Q[ea].target.checked;for(let Ma in Q)if(!/radio|checkbox/i.test(Q[Ma].target.type)){var eb=new RegExp(Pa);var hb=new RegExp(Y);if(eb.test(Q[Ma].group)&&hb.test(Q[Ma].group)||eb.test(Q[Ma].group))Q[Ma].target.disabled=
!0,'undefined'==typeof g.rules[Q[Ma].name]&&(g.rules[Q[Ma].name]={}),g.rules[Q[Ma].name].exclude=!0,pa?(Q[Ma].target.disabled=ea?!1:!0,g.rules[Q[Ma].name].exclude=ea?!1:!0):(Q[Ma].target.disabled=ha,g.rules[Q[Ma].name].exclude=ha)}},Bb=function(ea,Y,ha,pa){'undefined'==typeof pa&&(pa=!1);if(pa&&'undefined'!=typeof Q[Y.id])return ea=/true/i.test(Y.checked)?!1:!0,rb(Y.id,Q[Y.id].group,ea,pa);ha=Y.name;y&&'undefined'==typeof ea.rules[ha]&&(ea.rules[ha]={});/^true$/i.test(Y.checked)?y&&(ea.rules[ha].exclude=
!1,'undefined'!=typeof Q[Y.id]&&rb(Y.id,Q[Y.id].group,!1,pa)):y&&(ea.rules[ha].exclude=!0,'undefined'!=typeof Q[Y.id]&&rb(Y.id,Q[Y.id].group,!0,pa))},Mb=function(ea,Y){'undefined'==typeof Y&&(Y=!1);var ha=function(Ma,wb,ab){if(wb)Bb(g,Ma,wb);else for(let pb in Q)if(hb.test(Q[pb].group)||hb.test(Q[pb].target.getAttribute('data-gina-form-element-group')))Q[pb].target.disabled=ab};Y&&/^(on)$/i.test(ea.value)&&!ea.checked&&(ea.value=!1);var pa=ea.getAttribute('data-value')||ea.getAttribute('value')||
ea.value;pa=/^(true|on)$/.test(pa)?!0:pa;''===pa&&(pa=!1);var Pa=/^(true|on|false)$/i.test(pa)?!0:!1;Y&&Pa&&(/^true$/i.test(pa)&&!ea.checked?ea.checked=!0:/^false$/i.test(pa)&&ea.checked&&(ea.checked=!1));pa=ea.checked;var eb=ea.getAttribute('data-gina-form-element-group')||null,hb=new RegExp(ea.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));pa&&'null'!=pa&&'false'!=pa&&''!=pa?(Y?ib(ea):(setTimeout(function(){ea.checked=!0;ha(ea,eb,!1);ib(ea)},0),ea.setAttribute('checked','checked')),Pa&&(ea.value=!0,ea.setAttribute('value',
!0),typeof('undefined'!=ea.getAttribute('data-value'))&&ea.setAttribute('data-value',!0))):(Y?ib(ea):setTimeout(function(){ea.checked=!1;ha(ea,eb,!0);ib(ea)},0),ea.removeAttribute('checked'),Pa&&(ea.value=!1,ea.setAttribute('value','false'),typeof('undefined'!=ea.getAttribute('data-value'))&&ea.setAttribute('data-value','false')))},ib=function(ea){ea=new RegExp(ea.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(let Y in Q)(/checkbox/i.test(Q[Y].target.type)&&ea.test(Q[Y].group)||/checkbox/i.test(Q[Y].target.type)&&
ea.test(Q[Y].target.getAttribute('data-gina-form-element-group')))&&Bb(g,Q[Y].target,Q[Y].group,!0)},Db=function(ea,Y){Y=ea.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');Y=new RegExp(Y);for(let ha in Q)if(/checkbox|radio/i.test(Q[ha].target.type)||(Q[ha].target.disabled=!0,'undefined'==typeof g.rules[Q[ha].name]&&(g.rules[Q[ha].name]={}),g.rules[Q[ha].name].exclude=!0),Y.test(Q[ha].group)||Y.test(Q[ha].target.getAttribute('data-gina-form-element-group').replace(/\-|_|@|#|\.|\[|\]/g,'\\$&')))Q[ha].target.disabled=
!0,'undefined'==typeof g.rules[Q[ha].name]&&(g.rules[Q[ha].name]={}),/^(true|on)$/i.test(ea.checked)?(Q[ha].target.disabled=!1,g.rules[Q[ha].name].exclude=!1):(Q[ha].target.disabled=!0,g.rules[Q[ha].name].exclude=!0);ib(ea)},Wb=null,Za=function(ea,Y,ha){Y='undefined'!=typeof Y&&Y?!0:!1;ha='undefined'!=typeof ha&&ha?!0:!1;var pa=ea.checked,Pa=/^(true|false)$/i.test(ea.value);Wb=document.getElementsByName(ea.name);for(let eb=0,hb=Wb.length;eb<hb;++eb)Wb[eb].id!==ea.id&&pa&&(Wb[eb].checked=!1,Wb[eb].removeAttribute('checked'),
Db(Wb[eb],!0));Y?Db(ea):(pa&&'null'!=pa&&'false'!=pa&&''!=pa?setTimeout(function(){ha?Db(ea):(ea.checked=!1,ea.removeAttribute('checked'))},0):setTimeout(function(){ha?Db(ea):(ea.checked=!0,ea.setAttribute('checked','checked'))},0),Pa&&(ea.value=/^true$/.test(ea.value)?!0:!1))};ya=0;for(fa=b.length;ya<fa;++ya){O=b[ya].getAttribute('type');if('undefined'==typeof b[ya].id||''==b[ya].id)b[ya].id=O+'-'+ra.v4(),b[ya].setAttribute('id',b[ya].id);if('undefined'!=typeof O&&/^checkbox$/i.test(O)){if(b[ya].disabled&&
-1<u.indexOf(b[ya].id)||!b[ya].checked&&-1<u.indexOf(b[ya].id)){O=new RegExp(b[ya].id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(var jb in Q)O.test(Q[jb].group)&&(Q[jb].target.disabled=!0)}S='change.'+b[ya].id;O=function(ea,Y){addListener(gina,ea,Y,function(ha){Mb(ha.target);triggerEvent(gina,ha.target,'changed.'+ha.target.id)});Mb(ea,!0)};'undefined'!=typeof gina.events[S]&&gina.events[S]==b[ya].id&&removeListener(gina,b[ya],S);O(b[ya],S)}else'undefined'!=typeof O&&/^radio$/i.test(O)&&(S=b[ya].id,
O=function(ea,Y){addListener(gina,ea,Y,function(ha){Za(ha.target);triggerEvent(gina,ha.target,'changed.'+ha.target.id)});Za(ea,!0)},'undefined'!=typeof gina.events[S]&&gina.events[S]==b[ya].id&&removeListener(gina,b[ya],S),O(b[ya],S))}S='click';O=function(){var ea=null;ea='reset.'+k.id;'undefined'==typeof gina.events[ea]&&addListener(gina,k,ea,function(Y){Y.preventDefault();var ha=v.$forms[Y.currentTarget.id||Y.target.id];ha.target.dataset.ginaFormIsResetting=!0;z(ha);Y=La(ha.target,ha.rules,!0);
Oa(ha.target,Y.fields,Y.$fields,ha.rules,function(pa){var Pa=pa.isValid();console.debug('silent reset validation result[isValid:'+Pa+']: ',pa);E(ha.target,{});wa(ha.target,Pa);ha.target.dataset.ginaFormIsResetting=!1})});addListener(gina,k,'reset',function(Y){var ha=Y.target;if('undefined'!=typeof Y.defaultPrevented&&Y.defaultPrevented)return!1;Y.preventDefault();var pa=ha.id;if(!pa)return!1;/^reset\./.test(pa)||(pa='reset.'+ha.id);gina.events[pa]&&triggerEvent(gina,ha,pa,Y.detail)});addListener(gina,
k,'keydown',function(Y){var ha=Y.target;if('undefined'!=typeof Y.defaultPrevented&&Y.defaultPrevented)return!1;R[Y.keyCode]='keydown'==Y.type;var pa=ha.id;if(!pa)return!1;/^keydown\./.test(pa)||(pa='keydown.'+ha.id);gina.events[pa]&&(cancelEvent(Y),triggerEvent(gina,ha,pa,Y.detail,Y))});addListener(gina,k,'keyup',function(Y){var ha=Y.target;if('undefined'!=typeof Y.defaultPrevented&&Y.defaultPrevented)return!1;R[Y.keyCode]&&delete R[Y.keyCode];var pa=ha.id;if(!pa)return!1;/^keyup\./.test(pa)||(pa=
'keyup.'+ha.id);gina.events[pa]&&(cancelEvent(Y),triggerEvent(gina,ha,pa,Y.detail,Y))});addListener(gina,k,'focusin',function(Y){var ha=Y.target;if('undefined'!=typeof Y.defaultPrevented&&Y.defaultPrevented)return!1;var pa=ha.id;if(!pa)return!1;/^focusin\./.test(pa)||(pa='focusin.'+ha.id);gina.events[pa]&&(cancelEvent(Y),triggerEvent(gina,ha,pa,Y.detail))});addListener(gina,k,'focusout',function(Y){var ha=Y.target;if('undefined'!=typeof Y.defaultPrevented&&Y.defaultPrevented)return!1;var pa=ha.id;
if(!pa)return!1;/^focusout\./.test(pa)||(pa='focusout.'+ha.id);gina.events[pa]&&(cancelEvent(Y),triggerEvent(gina,ha,pa,Y.detail))});addListener(gina,k,'change',function(Y){var ha=Y.target;if('undefined'!=typeof Y.defaultPrevented&&Y.defaultPrevented)return!1;var pa=ha.id;if(!pa)return!1;/^change\./.test(pa)||(pa='change.'+ha.id);gina.events[pa]&&(cancelEvent(Y),triggerEvent(gina,ha,pa,Y.detail))});addListener(gina,k,'click',function(Y){var ha=Y.target,pa=!1,Pa=!1;if(/(label)/i.test(Y.target.tagName)&&
'undefined'!=typeof Y.target.control&&null!=Y.target.control&&/(checkbox|radio)/i.test(Y.target.control.type)||/(label)/i.test(Y.target.parentNode.tagName)&&'undefined'!=typeof Y.target.parentNode.control&&null!=Y.target.parentNode.control&&/(checkbox|radio)/i.test(Y.target.parentNode.control.type))Pa=Y.target.getAttribute('for')||Y.target.parentNode.getAttribute('for')?!0:!1,ha=Y.target.control||Y.target.parentNode.control;if(!ha.disabled&&/(checkbox|radio)/i.test(ha.type)&&!Pa){if(/checkbox/i.test(ha.type))return Mb(ha);
if(/radio/i.test(ha.type))return Za(ha,!1,!0)}if(/(button|input)/i.test(ha.tagName)&&/(submit|checkbox|radio)/i.test(ha.type)||/a/i.test(ha.tagName)&&ha.attributes.getNamedItem('data-gina-form-submit')||/a/i.test(ha.parentNode.tagName)&&ha.parentNode.attributes.getNamedItem('data-gina-form-submit')){Pa=ha.attributes.getNamedItem('data-gina-form-submit');var eb=ha.parentNode.attributes.getNamedItem('data-gina-form-submit');if(Pa||eb)pa=!0,(eb=Pa?ha.getAttribute('data-gina-form-submit-method'):ha.parentNode.getAttribute('data-gina-form-submit-method'))&&
(Pa&&ha.form?ha.form.setAttribute('method',eb):ha.parentNode.form&&ha.parentNode.form.setAttribute('method',eb));'undefined'!=typeof ha.id&&ha.getAttribute('id')||ha.setAttribute('id','click.'+ra.v4());ha.id=ha.getAttribute('id');if(/^click\./.test(ha.id)||y){Pa=ha.id;if(!Pa)return!1;/^click\./.test(Pa)||(Pa=ha.id);if(!ha.disabled&&/(checkbox|radio)/i.test(ha.type)){if(/checkbox/i.test(ha.type))return Mb(ha);if(/radio/i.test(ha.type))return Za(ha,!1,!0)}if('undefined'!=typeof Y.defaultPrevented&&
Y.defaultPrevented)return!1;'submit'!=ha.type||/^submit\./i.test(Pa)||(Pa='submit.'+Pa);'reset'!=ha.type||/^reset\./i.test(Pa)||(Pa='reset.'+Pa);gina.events[Pa]?(cancelEvent(Y),triggerEvent(gina,ha,Pa,Y.detail)):pa&&'undefined'!=typeof this.id&&''!=this.id&&'undefined'!=typeof gina.validator.$forms[this.id]&&(gina.validator.getFormById(this.id).submit(),cancelEvent(Y))}}})};O();S='validate.'+m;O=function(){addListener(gina,k,S,function(ea){cancelEvent(ea);var Y=g.eventData.error||g.eventData.validation||
ea.detail;E(ea.target,Y.fields||Y.error,Y.data);ea=ea.target.getAttribute('id');if('undefined'!=typeof Y.isValid&&Y.isValid()){var ha=v.$forms[ea].target.getAttribute('data-gina-form-inherits-data')||null;ha&&(Y.data=U(Y.data,JSON.parse(decodeURIComponent(ha))));v.$forms[ea]?v.$forms[ea].send(Y.data):g&&g.send(Y.data)}})};'undefined'!=typeof gina.events[S]&&gina.events[S]=='validate.'+m&&removeListener(gina,g,S,O);O();jb=function(ea,Y){/^submit\./i.test(ea)||(ea='submit.'+ea);addListener(gina,Y,ea,
function(ha){cancelEvent(ha);var pa={};ha={_length:0};var Pa=k.getAttribute('id'),eb='undefined'!=typeof v.$forms[Pa]?v.$forms[Pa].rules:null;v.$forms[Pa].sent||(pa=La(k,eb),ha=pa.fields,pa=pa.$fields,eb=v.$forms[Pa].rules,0==ha._length?(delete ha._length,ha={error:[],isValid:function(){return!0},data:Na(ha)},triggerEvent(gina,k,'validate.'+m,ha)):(m=k.getAttribute('id'),B=(eb=k.getAttribute('data-gina-form-rule'))?Ua(eb.replace(/\-|\//g,'.')):Ua(m.replace(/\-/g,'.')),v.$forms[Pa].isSubmitting=!0,
v.$forms[Pa].isSending=!1,Oa(k,ha,pa,B,function(hb){triggerEvent(gina,k,'validate.'+m,hb)})))})};u=null;b=[];u=[];O=null;u=k.getElementsByTagName('button');if(0<u.length)for(let ea=0,Y=u.length;ea<Y;++ea)'submit'==u[ea].type&&b.push(u[ea]);u=k.getElementsByTagName('a');if(0<u.length)for(let ea=0,Y=u.length;ea<Y;++ea)u[ea].attributes.getNamedItem('data-gina-form-submit')?b.push(u[ea]):u[ea].getAttribute('id')||/gina\-popin/.test(u[ea].className)||gina.popinIsBinded||/gina\-link/.test(u[ea].className)||
(O='link.'+ra.v4(),u[ea].id=O);O=null;ya=!1;for(let ea=0,Y=b.length;ea<Y;++ea){u=b[ea];if(/button/i.test(u.tagName)&&'undefined'!=typeof u.type&&/submit/i.test(u.type)||/a/i.test(u.tagName)&&'undefined'!=typeof u.dataset.ginaFormSubmit&&/^true$/i.test(u.dataset.ginaFormSubmit)||/a/i.test(u.parentNode.tagName)&&'undefined'!=typeof u.parentNode.dataset.ginaFormSubmit&&/^true$/i.test(u.parentNode.dataset.ginaFormSubmit)){/a/i.test(u.parentNode.tagName)&&(u=u.parentNode);if('undefined'==typeof u.id||
'undefined'!=typeof u.id&&''==u.id)u.id='click.'+ra.v4(),u.setAttribute('id',u.id);/a/i.test(u.tagName)&&'undefined'==typeof u.form&&(u.form={id:g.id});'undefined'==typeof u.dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof v.$forms[g.id]&&'undefined'==typeof v.$forms[g.id].submitTrigger&&'undefined'!=typeof u.form.id&&g.id==u.form.id&&(console.debug('attching submitTrigger: '+u.id,'  form id: '+g.id),v.$forms[g.id].submitTrigger=g.submitTrigger=u.id||u.getAttribute('id'),u.dataset.ginaFormSubmitTriggerFor=
g.id)}'A'==u.tagName&&(O=u.getAttribute('onclick'),ya=u.getAttribute('data-gina-form-submit'),O||ya?/return false/i.test(O)||ya||(O=/;$/.test(O)?O+'return false;':O+'; return false;'):u.setAttribute('onclick','return false;'));u.id?S=u.id:(S='click.'+ra.v4(),u.id=S,u.setAttribute('id',S));'undefined'!=typeof gina.events[S]&&gina.events[S]==u.id||jb(S,u)}S='submit';addListener(gina,k,S,function(ea){var Y=ea.target,ha=Y.getAttribute('id'),pa=v.$forms[ha],Pa=g.binded;(pa=(new DOMParser).parseFromString(Y.innerHTML,
'text/html').getElementById(pa.submitTrigger))&&pa.disabled&&cancelEvent(ea);if('undefined'!=typeof ea.defaultPrevented&&ea.defaultPrevented)return!1;(y||Pa)&&cancelEvent(ea);ea={};Pa={_length:0};ha=Y.getAttribute('id');pa='undefined'!=typeof gina.validator.$forms[ha]?gina.validator.$forms[ha].rules:null;for(var eb=null,hb=null,Ma=0,wb=Y.length;Ma<wb;++Ma)eb=Y[Ma].getAttribute('name'),hb=Y[Ma].disabled||Y[Ma].getAttribute('disabled'),hb=/disabled|true/i.test(hb)?!0:!1,eb&&!hb&&('undefined'!=typeof Y[Ma].type&&
'radio'==Y[Ma].type||'undefined'!=typeof Y[Ma].type&&'checkbox'==Y[Ma].type?Y[Ma].checked?/^(true|false)$/.test(Y[Ma].value)?Pa[eb]=Y[Ma].value=/^true$/.test(Y[Ma].value)?!0:!1:Pa[eb]=Y[Ma].value:pa&&'undefined'!=typeof pa[eb]&&'undefined'!=typeof pa[eb].isBoolean&&'checkbox'==Y[Ma].type&&!/^(true|false)$/.test(Y[Ma].value)&&(Pa[eb]=!1):Pa[eb]=Y[Ma].value,ea[eb]=Y[Ma],ea[eb].setAttribute('data-gina-form-errors',''));Pa._length=Pa.count();0==Pa._length?(delete Pa._length,ea={error:[],isValid:function(){return!0},
data:Na(Pa)},'undefined'!=typeof gina.events['submit.'+ha]?triggerEvent(gina,Y,'submit.'+ha,ea):triggerEvent(gina,Y,'validate.'+ha,ea)):(B=(pa=Y.getAttribute('data-gina-form-rule'))?Ua(pa.replace(/\-|\//g,'.')):Ua(ha.replace(/\-/g,'.')),v.$forms[ha].isValidating=!0,Oa(Y,Pa,ea,B,function(ab){v.$forms[ha].isValidating=!1;'undefined'!=typeof gina.events['submit.'+ha]?triggerEvent(gina,Y,'submit.'+ha,ab):triggerEvent(gina,Y,'validate.'+ha,ab)}))});v.$forms[m].binded=!0;/^(true)$/i.test(g.target.dataset.ginaFormLiveCheckEnabled&&
0<g.rules.count())?(console.debug('silent validation mode on'),jb=La(g.target,g.rules),Oa(g.target,jb.fields,jb.$fields,g.rules,function(ea){console.debug('silent validation result[isValid:'+ea.isValid()+']: ',ea);V&&M&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:m,errors:ea.error}));wa(g,ea.isValid())})):/^(true)$/i.test(g.target.dataset.ginaFormLiveCheckEnabled)||wa(g,!0)},wa=function(k,b){$formInstance=
null;k instanceof HTMLFormElement?(k=k.getAttribute('id'),$formInstance=v.$forms[k]):$formInstance=k;'undefined'==typeof $formInstance.submitTrigger?console.warn('This might be normal, so do not worry if this form is handled by your javascript: `'+$formInstance.id+'`\nGina could not complete `updateSubmitTriggerState()`: `submitTrigger` might not be attached to form instance `'+$formInstance.id+'`\nTo disable this warning, You just need to disable `Form Live Checking on your form by adding to your <form>: `data-gina-form-live-check-enabled=false``'):
document.getElementById($formInstance.submitTrigger)&&(/true/i.test(b)?document.getElementById($formInstance.submitTrigger).disabled=!1:document.getElementById($formInstance.submitTrigger).disabled=!0)},La=function(k,b,g){'undefined'==typeof g&&(g=!1);var m={},A={},y=k.id||k.getAttribute('id');'undefined'==typeof b&&(b='undefined'!=typeof v.$forms[y].rules&&0<v.$forms[y].rules.count()?v.$forms[y].rules:null,b||'undefined'==typeof gina.validator.$forms[y]||(b=gina.validator.$forms[y].rules));for(var B=
0,S=k.length;B<S;++B){if(g)switch(k[B].tagName.toLowerCase()){case 'input':/^(hidden|text)$/i.test(k[B].type)&&(k[B].value=k[B].defaultValue)}if(/button/i.test(k[B].tagName)&&'undefined'!=typeof k[B].type&&/submit/i.test(k[B].type)||/a/i.test(k[B].tagName)&&'undefined'!=typeof k[B].dataset.ginaFormSubmit&&/^true$/i.test(k[B].dataset.ginaFormSubmit))/a/i.test(k[B].tagName)&&'undefined'==typeof k[B].form&&(k[B].form={id:y}),'undefined'==typeof k[B].dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof v.$forms[y]&&
'undefined'==typeof v.$forms[y].submitTrigger&&'undefined'!=typeof k[B].form.id&&y==k[B].form.id&&(v.$forms[y].submitTrigger=k[B].id||k[B].getAttribute('id'),k[B].dataset.ginaFormSubmitTriggerFor=y);var O=k[B].getAttribute('name');var ba=k[B].disabled||k[B].getAttribute('disabled');ba=/disabled|true/i.test(ba)?!0:!1;if(O&&!ba){if('undefined'!=typeof k[B].type&&'radio'==k[B].type||'undefined'!=typeof k[B].type&&'checkbox'==k[B].type)if(k[B].checked||'undefined'==typeof b[O]&&'undefined'!=k[B].value&&
/^(true|false)$/.test(k[B].value)||!k[B].checked&&'undefined'!=typeof b[O]&&'undefined'!=typeof b[O].isBoolean&&/^(true|false)$/.test(k[B].value))if(/^(true|false)$/.test(k[B].value))if('undefined'==typeof b[O]?b[O]={isBoolean:!0}:'undefined'!=typeof b[O]&&'undefined'==typeof b[O].isBoolean&&(b[O].isBoolean=!0,b[O].isRequired=!0),'radio'==k[B].type){if('undefined'==typeof b[O])throw Error('rule '+O+' is not defined');/^true$/.test(b[O].isBoolean)&&k[B].checked&&(A[O]=/^true$/.test(k[B].value)?!0:
!1)}else A[O]=k[B].value=/^true$/.test(k[B].value)?!0:!1;else A[O]=k[B].value;else b&&'undefined'!=typeof b[O]&&'undefined'!=typeof b[O].isBoolean&&'undefined'!=typeof b[O].isRequired&&!/^(true|false)$/.test(k[B].value)&&(A[O]=!1);else A[O]=k[B].value;'undefined'==typeof m[O]&&(m[O]=k[B],m[O].setAttribute('data-gina-form-errors',''))}}A._length=A.count()||0;return{$fields:m,fields:A,rules:b}},W=function(k,b,g,m){return'undefined'==typeof k[g]||/^(null|NaN|undefined|\s*)$/i.test(b[g])?b[g]:'undefined'!=
typeof k[g].isNumber||'undefined'!=typeof k[g].isInteger||'undefined'!=typeof k[g].isFloat||'undefined'!=typeof k[g].toFloat||'undefined'!=typeof k[g].toInteger?(/,/.test(b[g])&&(b[g]=b[g].replace(/,/g,'.').replace(/\s+/g,'')),b[g]):'boolean'==typeof b[g]?b[g]:k[g].isBoolean?/^true$/i.test(b[g])?!0:!1:'undefined'!=typeof m&&/^true$/i.test(m)?'\\"'+b[g]+'\\"':b[g]},oa=function(k,b){'string'!=typeof k&&(k=JSON.stringify(JSON.clone(k)));k=JSON.parse(k.replace(/"(true|false)"/gi,'$1'));for(let g in b)b[g]=
W(k,b,g);return b},za=function(k,b,g,m){var A=JSON.parse(k.replace(/"(true|false)"/gi,'$1')),y=JSON.stringify(A);m&&(b=g[Object.getOwnPropertyNames(g)[0]].form,g=La(b,A),delete g.fields._length,b=g.fields,g=g.$fields);m=[];var B=0;for(S in b)m[B]=S,B++;m.sort().reverse();for(let ba=0,Q=m.length;ba<Q;ba++){var S=m[ba].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');S=new RegExp('\\$'+S,'g');B='\\"'+b[m[ba]]+'\\"';var O=S.test(y);O&&'undefined'!=typeof A[m[ba]]?B=W(A,b,m[ba],!0):O&&console.warn('`'+m[ba]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+
m[ba]+'` to `string`.');k=k.replace(S,B)}if(/\$(.*)/.test(k))for(let ba=0,Q=m.length;ba<Q;ba++)S=m[ba].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'),S=new RegExp('\\$'+S,'g'),B=''!=g[m[ba]].value?'\\"'+g[m[ba]].value+'\\"':'\\"\\"',(O=S.test(y))&&'undefined'!=typeof A[m[ba]]?B=W(A,b,m[ba],!0):O&&console.warn('`'+m[ba]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+m[ba]+'` to `string`.'),k=k.replace(S,B||g[m[ba]].checked);return JSON.parse(k)},Oa=function(k,
b,g,m,A){delete b._length;var y=JSON.stringify(m);b=oa(y,b);/\$(.*)/.test(y)&&(m=!/^form$/i.test(k.tagName)&&1==g.count()&&/true/i.test(k.form.dataset.ginaFormLiveCheckEnabled)?!0:!1,m=za(y,b,g,m));var B=null,S=y=null,O=!1,ba=0;b.count();var Q=!1,u=null,fa=null,ta=null,ka=0,ia=null,Ca=null,ya=null,$a=function(Za,jb,ea){if('undefined'==typeof jb[Za]){skipTest=!1;for(var Y in jb)if(!/^_comment$/i.test(Y)&&/^\//.test(Y)&&(ia=Y.match(/\/(.*)\//).pop(),Ca=Y.replace('/'+ia+'/',''),ia=ia.replace(/\[/g,'\\[').replace(/\]/g,
'\\]'),ia=new RegExp(ia,Ca),ia.test(Za))){skipTest=!0;jb[Za]=jb[Y];break}if('undefined'==typeof jb[Za])return}var ha=Object.getOwnPropertyNames(jb)||[];Y=0;var pa=ha.length;if(0<pa)for(;Y<pa;)'undefined'!=typeof jb[ha[Y]].exclude&&/^true$/i.test(jb[ha[Y]].exclude)&&(ha.splice(Y,1),pa--,Y--),Y++;for(var Pa in jb[Za])if('function'==typeof Wa[Za][Pa]){/^((is)\d+|is$)/.test(Pa)&&'undefined'==typeof Wa[Za][Pa]&&(Wa[Za][Pa]=function(){},Wa[Za][Pa]=K(Wa[Za][Pa],Wa[Za][Pa.replace(/\d+/,'')]),Wa[Za][Pa].setAlias=
function(ab){this._currentValidatorAlias=ab}(Pa));try{if(Array.isArray(jb[Za][Pa])){ya=JSON.clone(jb[Za][Pa]);if(/\$[\-\w\[\]]*/.test(ya[0])){var eb=ya[0].match(/\$[\-\w\[\]]*/g);Y=0;for(var hb=eb.length;Y<hb;++Y)ya[0]=ya[0].replace(eb[Y],Wa[eb[Y].replace('$','')].value)}Wa[Za][Pa].apply(Wa[Za],ya)}else if(/^query$/.test(Pa)){u=g[Za];fa=u.getAttribute('id');ta='asyncCompleted.'+fa;var Ma=0,wb=!1;if('undefined'!=typeof gina.events[ta]){console.debug('event `'+ta+'` already added');ka=0;break}++ka;
addListener(gina,u,ta,function(ab){ab.preventDefault();Ma++;--ka;var pb=Object.getOwnPropertyNames(jb[Za]);pb[pb.length-1]==Pa&&(Q=!0);pb='asyncCompleted.'+ab.target.getAttribute('id');if(!/true/.test(wb)){Wa[Za]=ab.detail;var nb=k;/^form$/i.test(k.tagName)||(nb=k.form);var qb=nb.getAttribute('id');if(Q&&0>=ka&&!wb&&(wb=!0,removeListener(gina,ab.target,pb),A._data=Wa.toData(),A._errors=Wa.getErrors(Za),A._errors&&0<A._errors.count())){'undefined'==typeof v.$forms[qb].errors&&(v.$forms[qb].errors=
{});v.$forms[qb].errors[Za]=A._errors[Za];if(!mb&&/^true|false$/i.test(v.$forms[qb].isValidating)||''!=Wa[Za].target.value)w(ib[Za]),E(nb,A._errors,A._data,Za),wa(nb,mb);V&&M&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:qb,errors:v.$forms[qb].errors||{}}));triggerEvent(gina,nb,'validated.'+qb,A);return}ab=!1;var mb=null;1==ha.length||ha[ha.length-1]==Za?(mb=0<A._errors.count()?!1:!0,!mb&&/^true|false$/i.test(v.$forms[qb].isValidating)&&
(v.$forms[qb].errors=U(A._errors,v.$forms[qb].errors),w(ib[Za]),E(nb,A._errors,A._data,Za),wa(nb,mb)),triggerEvent(gina,nb,'validated.'+qb,A)):/^true$/i.test(v.$forms[qb].isValidating)&&1<ha.length&&ha[ha.length-1]!=Za&&(ab=!0);ab&&Oa(nb,Mb,ib,jb,function(Qb){v.$forms[qb].isValidating=!1;mb=Qb.isValid();V&&M&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:qb,errors:Qb.error||{}}));E(nb,Qb.error,Qb.data,Za);
wa(nb,mb)})}});Wa[Za][Pa](jb[Za][Pa]);continue}else Wa[Za][Pa](jb[Za][Pa]);delete ea[Za]}catch(ab){if('conditions'==Pa)throw Error('[ ginaFormValidator ] could not evaluate `'+Za+'->'+Pa+'()` where `conditions` must be a `collection` (Array)\nStack:\n'+ab);throw Error('[ ginaFormValidator ] could not evaluate `'+Za+'->'+Pa+'()`\nStack:\n'+ab);}}},Wa=null,rb={},Bb=!1;M?/^form$/i.test(k.tagName)?(B=k.getAttribute('id'),y='validated.'+B,v.$forms[B].fields=b,'undefined'!=typeof k.eventData&&'undefined'!=
typeof k.eventData.error&&delete k.eventData.error,Wa=new n(b,g,r)):(Bb=!0,B=k.form.getAttribute('id')||k.form.target.getAttribute('id'),y='validated.'+B,v.$forms[B].fields=b,Wa=new n(b,g,r,v.$forms[B].fieldsSet)):Wa=new n(b,null,r);var Mb=null,ib=null;if(Bb){Bb=k.form.getAttribute('id');var Db=La(v.$forms[Bb].target,v.$forms[Bb].rules,!1);Mb=oa(JSON.stringify(v.$forms[Bb].rules),JSON.clone(Db.fields));ib=Db.$fields}else Mb=JSON.clone(b),ib=g;Bb='undefined'!=typeof m?JSON.clone(m):{};var Wb=function(Za,
jb,ea,Y,ha,pa,Pa,eb){var hb=null;if('undefined'!=typeof pa)for(var Ma in Y)if(M&&'undefined'==typeof ha[Ma])console.warn('field `'+Ma+'` found for your form rule ('+Za.id+'), but not found in $field collection.\nPlease, check your HTML or remove `'+Ma+'` declaration from your rule if this is a mistake.');else{M&&ha[Ma].getAttribute('data-gina-form-element-group')&&'undefined'!=typeof pa[Ma]&&'undefined'!=typeof pa[Ma].exclude&&pa[Ma].exclude&&!ha[Ma].disabled&&(pa[Ma].exclude=!1);var wb='undefined'!=
typeof pa['_case_'+Ma]?!0:!1;if(M&&'input'==ha[Ma].tagName.toLowerCase()&&/(checkbox)/i.test(ha[Ma].getAttribute('type')))if(!ha[Ma].checked&&'undefined'!=typeof pa[Ma]&&'undefined'!=typeof pa[Ma].isRequired&&/^(false)$/i.test(pa[Ma].isRequired)||ha[Ma].disabled)pa[Ma]={exclude:!0};else if(!ha[Ma].checked&&'undefined'==typeof pa[Ma])continue;for(var ab in pa)if(/^_case_/.test(ab)&&'undefined'!=typeof pa[ab].conditions&&(!Array.isArray(pa[ab].conditions)||pa[ab].conditions.length)&&'undefined'!=typeof pa[ab].conditions[0].rules&&
'undefined'!=typeof pa[ab].conditions&&Array.isArray(pa[ab].conditions))if(hb=ab.replace('_case_',''),'undefined'==typeof ib[hb])console.warn('Found case `'+ab+'` but field `'+hb+'` is misssing in the dom.\n You should add `'+hb+'` element to your form in order to allow Validator to process this case.');else{'undefined'==typeof jb[hb]&&(jb[hb]=ib[hb].value);var pb=jb[hb];M&&('true'==Y[Ma]?pb=!0:'false'==Y[Ma]&&(pb=!1));for(var nb=0,qb=pa[ab].conditions.length;nb<qb;++nb)if(pa[ab].conditions[nb].case==
pb)for(var mb in pa[ab].conditions[nb].rules)if(!/^_comment$/i.test(mb)&&mb!=hb&&ha[mb])if(Ma==mb||/^\//.test(mb)||'undefined'!=typeof Y[mb]||'undefined'==typeof jb[mb])if(/^\//.test(mb)){if(ia=mb.match(/\/(.*)\//).pop(),Ca=mb.replace('/'+ia+'/',''),ia=ia.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),ia=new RegExp(ia,Ca),ia.test(Ma)){if(pa[ab].conditions[nb].case==pb||/^\//.test(pa[ab].conditions[nb].case)&&(new RegExp(pa[ab].conditions[nb].case)).test(pb))Qb='undefined'!=typeof pa[mb]?pa[mb]:{},pa[mb]=
U(pa[ab].conditions[nb].rules[mb],Qb);hb!=mb&&'undefined'!=typeof pa[mb]&&$a(mb,pa,Y)}}else'undefined'!=typeof pa[ab].conditions[nb].rules[mb]&&(caseField=mb,pb=Y[caseField],'undefined'==typeof ha[caseField]?console.warn('ignoring case `'+caseField+'`: field `NaN'):(M&&/^(true|false)$/i.test(pb)&&'undefined'!=typeof pa[caseField]&&'undefined'!=typeof pa[caseField].isBoolean&&/^(true)$/i.test(pa[caseField].isBoolean)&&(pb=/^(true)$/i.test(pb)?!0:!1),'undefined'!=typeof pa[ab].conditions[nb].rules[mb]&&
(Qb='undefined'!=typeof pa[ab].conditions[nb].rules[mb]?pa[ab].conditions[nb].rules[mb]:{},pa[mb]=Qb),hb!=mb&&'undefined'!=typeof pa[mb]&&'undefined'!=typeof Y[mb]&&$a(mb,pa,Y)));else{Y[mb]=jb[mb];var Qb='undefined'!=typeof pa[mb]?pa[mb]:{};pa[mb]=U(pa[ab].conditions[nb].rules[mb],Qb);$a(mb,pa,Y)}}if(hb!=Ma&&('undefined'!=typeof pa[Ma]&&$a(Ma,pa,jb),wb)){++eb;wb=pa['_case_'+Ma].conditions;if(!wb)throw Error('[ ginaFormValidator ] case `_case_'+Ma+'` found without `condition(s)` !\nPlease, check your delcaration for `_case_'+
Ma+'`');ab=0;for(nb=wb.length;ab<nb;++ab)if(pb=jb[Ma],M&&('true'==Y[Ma]?pb=!0:'false'==Y[Ma]&&(pb=!1)),wb[ab]['case']===pb||Array.isArray(wb[ab]['case'])&&-1<wb[ab]['case'].indexOf(pb)||/^\//.test(wb[ab]['case'])){Qb={};if('undefined'==typeof wb[ab].rules[Ma]&&'undefined'==typeof jb[Ma]||ha[Ma].disabled)wb[ab].rules[Ma]={exclude:!0};for(var Hb in wb[ab].rules)if(!/^_comment$/i.test(Hb))if(/^\//.test(Hb)){ia=Hb.match(/\/(.*)\//).pop();Ca=Hb.replace('/'+ia+'/','');ia=ia.replace(/\[/g,'\\[').replace(/\]/g,
'\\]');ia=new RegExp(ia,Ca);for(var Lb in ha)ia.test(Lb)&&(/^\//.test(wb[ab]['case'])?(ia=wb[ab]['case'].match(/\/(.*)\//).pop(),Ca=wb[ab]['case'].replace('/'+ia+'/',''),ia=new RegExp(ia,Ca),ia.test(pb)&&(Qb[Lb]=wb[ab].rules[Hb])):Qb[Lb]=wb[ab].rules[Hb],'undefined'==typeof Y[Lb]&&'undefined'!=typeof ha[Lb]&&'undefined'!=typeof ha[Lb].value&&(Y[Lb]=ha[Lb].value,M&&/(true|false)/i.test(Y[Lb])&&('true'==Y[Lb]?Y[Lb]=!0:'false'==Y[Lb]&&(Y[Lb]=!1)),Wa.addField(Lb,Y[Lb]),'undefined'!=typeof ea[Lb]&&(Qb[Lb]=
U(Qb[Lb],ea[Lb]))))}else/^\//.test(wb[ab]['case'])?(ia=wb[ab]['case'].match(/\/(.*)\//).pop(),Ca=wb[ab]['case'].replace('/'+ia+'/',''),ia=ia.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),ia=new RegExp(ia,Ca),ia.test(pb)&&(Qb[Hb]=wb[ab].rules[Hb])):Qb[Hb]=wb[ab].rules[Hb],'undefined'==typeof Y[Hb]&&'undefined'!=typeof ha[Hb]&&'undefined'!=typeof ha[Hb].value&&(Y[Hb]=ha[Hb].value,M&&/(true|false)/i.test(Y[Hb])&&('true'==Y[Hb]?Y[Hb]=!0:'false'==Y[Hb]&&(Y[Hb]=!1)),Wa.addField(Hb,Y[Hb]),'undefined'!=typeof ea[Hb]&&
(Qb[Hb]=U(Qb[Hb],ea[Hb])));++ba;if(M)Wb(Za,jb,ea,Y,ha,Qb,Pa,eb);else return Wb(Za,jb,ea,Y,ha,Qb,Pa,eb)}--eb}}--ba;if(0>=eb&&0>ba){jb=Wa.getErrors();for(Ma in jb){for(rule in jb[Ma])rb[Ma]||(rb[Ma]=''),0>rb[Ma].indexOf(rule)&&(rb[Ma]+=rule+' ');M&&ha[Ma].setAttribute('data-gina-form-errors',rb[Ma].substr(0,rb[Ma].length-1))}try{S=Na(Wa.toData()),V&&M&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.validated||(gina.forms.validated={}),gina.forms.validated[B]||(gina.forms.validated[B]=
{}),window.ginaToolbar.update('forms',{id:B,validated:S}))}catch(Bc){throw Bc;}Q=!0;if(!O&&0>=ka)if('undefined'!=typeof Pa&&'function'===typeof Pa)Pa._errors=Wa.getErrors(),Pa._data=Wa.toData(),triggerEvent(gina,Za,'validated.'+B,Pa);else return O=!0,{isValid:Wa.isValid,error:jb,data:S}}};M&&addListener(gina,k,y,function(Za){Za.preventDefault();if(!O){O=!0;Q=!1;ka=0;var jb=Za.detail,ea=jb._data||Wa.toData(),Y=jb._errors||Wa.getErrors()||null;console.debug('instance errors: ',v.$forms[B].errors,' VS cbErrors: ',
Y,Wa.isValid(),' VS d.getErrors(): ',Wa.getErrors());0<Y.count()&&Wa.isValid()&&(Wa.isValid=function(){return!1});jb({isValid:Wa.isValid,error:Y,data:Na(ea)});removeListener(gina,Za.target,'validated.'+Za.target.id)}});if(M)Wb(k,Mb,Bb,b,g,m,A,0);else return Wb(k,Mb,Bb,b,g,m,A,0)};return M?Ta(F):q(F,P,da)}'undefined'!==typeof module&&module.exports?module.exports=ValidatorPlugin:'function'===typeof define&&define.amd&&define('gina/validator',['utils/events','utils/dom','utils/form-validator'],function(){return ValidatorPlugin});
define('gina/toolbar','require jquery vendor/uuid utils/collection utils/routing gina/storage gina/validator'.split(' '),function(F){var P=F('jquery');P.noConflict();var da=F('utils/routing');F('utils/collection');var Ba=F('gina/storage');return function(){var M=null,V=!1,ra=!1,U=!1,K,n=(new Ba({bucket:'gina'})).Collection('plugin'),aa=null,v=null,qa=!1,Ja=null,R=null,J=null,r=null,q=null,p='',H=null,I=null,x=null,w='',C=null,E=0,N=0,z=0,T='',X={},xa=null,na=null,Ea=null,Ha=null,Fa=null,va=null,Da=
null,Ta=null,Va=null,Ua=null,zb=null,Ia=null,Na=null,bb=null,Ab=function(){aa=P('#gina-toolbar');if(!aa.length)return!1;Ja=aa.find('.gina-toolbar-tab > a');R=P('#gina-toolbar-toggle');J=P('#gina-toolbar-panels');r=J.find('.gina-toolbar-panel');H=P('#gina-toolbar-vposition');I=P('#gina-toolbar-hposition');x=H.add(I);C=P('#gina-toolbar-width');aa.find('.gina-toolbar-main');xa=P('#gina-toolbar-json');na=P('#gina-toolbar-gina-json');Ea=P('#gina-toolbar-toggle-code-raw');$forms=P('form:not(.gina-toolbar-options, .gina-toolbar-content)');
Va=P('#gina-toolbar-data-html');Ua=P('#gina-toolbar-view-html');zb=P('#gina-toolbar-forms-html');Ta=P('#gina-toolbar-configuration-environment-html');Ia=P('#gina-toolbar-code-toggle');aa.prepend('<textarea class="gina-toolbar-copy"></textarea>');Na=aa.find('.gina-toolbar-copy');v=n.findOne({_name:'toolbar'});v||(v={_name:'toolbar',_version:'1.0.3',_description:'Toolbar settings',_licence:'MIT',_author:[{name:'Fabrice Delaneau',company:'Freelancer'},{name:'Martin-Luther Etouman',company:'Rhinostone'}],
position:'top-right',width:'30',panelId:'#gina-toolbar-data',isCollapsed:!0,isUnfolded:[],debug:{forms:{active:!1,strategy:'frontend'}}},n.insert(v),v=n.findOne({_name:'toolbar'}));'1.0.3'!=v._version&&('1.0.1'>v._version&&(v.isUnfolded||(v.isUnfolded=[]),void 0!=v.codeFolding&&delete v.codeFolding),'undefined'==typeof v.isUnfolded||Array.isArray(v.isUnfolded)||(v.isUnfolded=[]),v._version='1.0.3',v.save(!0));w=v.position;E=v.width;p=v.panelId;qa=v.isCollapsed;aa.removeClass('gina-toolbar-hidden');
sb()},db=function(g,m,A){var y=null;try{var B=xa?xa.text():'';''==B||'null'==B?xa.text('Empty'):(Fa=JSON.parse(B),Da=JSON.parse(na.text()),xa.text(''),Ha||(Ha={jsonObject:JSON.clone(Fa),ginaJsonObject:JSON.clone(Da)},va={}))}catch(fa){if(B='Could not load'+(g?' [ '+g+' ] ':' ')+'json\n'+(fa.stack||fa.message||fa),xa)xa.text(B);else throw B;}if(Fa){m&&!A?(Fa[g]||(Fa[g]={}),Fa[g]=Da[g]=m):'data-xhr'==g&&!m&&Fa['data-xhr']?delete Fa['data-xhr']:A&&(Fa=m,Da=A);b(Fa,'');delete Fa.environment.routing;delete Da.environment.routing;
delete Fa.environment.reverseRouting;delete Da.environment.reverseRouting;delete Fa.environment.forms;delete Da.environment.forms;Ta.html(la(Fa.environment,Da.environment));y=Fa.data;var S=Fa.view;A=Fa.forms;var O=Da.data,ba=Da.view;B=Da.forms;ra=K=!1;var Q=null,u=!1;/^(view-xhr)$/.test(g)&&(Q=!0,S=Fa[g],ba=Da[g],y=Fa['data-xhr'],O=Da['data-xhr']);if(!g||/^(data)$/.test(g))Va.html('<ul class="gina-toolbar-code">'+la(y,O,null,Q)+'</ul>'),Ua.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),
Ua.html(La(S,ba,null,Q,Ua)),y=$forms,zb.html(''),zb.html(oa(A,B,zb,0,y,y.length,Q)),zb.find('div.gina-toolbar-section > h2').off('click').on('click',function(fa){fa.preventDefault();P(this).parent().find('ul').first().slideToggle()});if(/^(data-xhr|view-xhr)$/.test(g)){if('undefined'==typeof Fa[g]||!Fa[g]||'null'==Fa[g])return!1;Q=!0;u='undefined'!=typeof Fa[g].isXHRViewData?!0:u;u||/^(view-xhr)$/.test(g)||'undefined'==typeof Fa['el-xhr']||(va.data=JSON.clone(Fa[g]));u&&delete Fa[g].isXHRViewData;
/^(data-xhr)$/.test(g)?Va.html('<ul class="gina-toolbar-code">'+la(Fa[g],Da[g],null,Q)+'</ul>'):/^(view-xhr)$/.test(g)&&(Ua.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),Ua.html(La(Fa[g],Da[g],null,Q,Ua)))}/^(el-xhr)$/.test(g)&&(Q=!0,y=P('#'+m).find('form:not(.gina-toolbar-options, .gina-toolbar-content)'),zb.html(''),zb.html(oa(A,B,zb,0,y,y.length,
Q)),zb.find('div.gina-toolbar-section > h2').off('click').on('click',function(fa){fa.preventDefault();P(this).parent().find('ul').first().slideToggle()}));/^(forms)$/.test(g)&&(ra=Q=!0,P('#gina-toolbar-form-'+m.id).length||(y=$forms,zb.html(''),zb.html(oa(A,B,zb,0,y,y.length,Q)),zb.find('div.gina-toolbar-section > h2').off('click').on('click',function(fa){fa.preventDefault();P(this).parent().find('ul').first().slideToggle()})),'undefined'!=typeof m.rules&&za(m.id,'rules',m.rules,Q),'undefined'!=typeof m.errors&&
0<m.errors.count()&&za(m.id,'errors',m.errors,Q),'undefined'!=typeof m.sent&&za(m.id,'sent',m.sent,Q));v.currentFile=Fa.file;v.currentFile||(v.currentFile=Fa.file);Fa.file==v.currentFile&&P(document).ready(function(){ra?(V=!0,0<v.isUnfolded.length&&!K&&(K=!0,setTimeout(function(){0<v.isUnfolded.length&&cb(v.isUnfolded,v.isUnfolded.length,0)},200))):Q?(V=!0,0<v.isUnfolded.length&&!K&&(K=!0,cb(v.isUnfolded,v.isUnfolded.length,0))):(V=!1,setTimeout(function(){0<v.isUnfolded.length&&cb(v.isUnfolded,v.isUnfolded.length,
0)},200))})}if(!g||'el-xhr'==g&&!U)U=g&&'el-xhr'==g?!0:!1,W(g)},cb=function(g,m,A){if(A==m)return!1;var y=g[A],B=null;V&&/^xhr-/.test(y)?(y=y.replace(/^xhr-/,''),B=P('.gina-toolbar-xhr-folding-state-'+y)):B=P('.gina-toolbar-folding-state-'+y);Gb(B,function(){A+=1;cb(g,m,A)})},sb=function(){Va.add(Ua).off('click','a').on('click','a',function(m){m.preventDefault();Gb(P(this),null,!0)}).add(zb).off('click','a').on('click','a',function(m){m.preventDefault();Gb(P(this),null,!0)});Ia.off('click').on('click',
function(m){m.preventDefault();Gb('all',null,!0)});Va.add(Ua,zb).off('click','.gina-toolbar-value').on('click','.gina-toolbar-value',function(m){m.preventDefault();try{bb=P(this).text(),Na.text(bb),Na.select(),document.execCommand('copy',!1,null),Na.blur()}catch(A){alert('Please press Ctrl/Cmd+C to copy the value')}});Ea.off('click').on('click',function(m){Fa&&window.open('','JSON RAW','width=400,height=100').document.write(JSON.stringify(Fa.data))});Ja.off('click').on('click',function(m){m.preventDefault();
Ja.removeClass('gina-toolbar-active');r.removeClass('gina-toolbar-active');P(this).addClass('gina-toolbar-active');p=P(this).attr('href');q=P(p).addClass('gina-toolbar-active');v.panelId=p;v.save()});R.off('click').on('click',function(m){m.preventDefault();aa.toggleClass('gina-toolbar-collapsed');qa=aa.hasClass('gina-toolbar-collapsed');v.isCollapsed=qa;v.save()});x.off('change').on('change',function(m){m.preventDefault();m=H.val();var A=I.val();w=m+'-'+A;Cb(w);v.position=w;v.save()});C.off('change').on('change',
function(m){m.preventDefault();E=C.val();Jb(E);v.width=E;v.save()});P(window).off('resize').on('resize',function(){yb()});P('body').off('keypress').on('keypress',function(m){if(!/INPUT|TEXTAREA/.test(m.target.tagName)){T=m.keyCode?m.keyCode:m.which?m.which:m.charCode;m=new Date;if('undefined'!=typeof X.keynum&&X.keynum==T&&'undefined'!=typeof X.pressTime&&500>m.getTime()-X.pressTime)switch(T){case 103:aa.toggle()}X.pressTime=m.getTime();X.keynum=T}});Ja.filter('[href="'+p+'"]').trigger('click');qa||
P('#gina-toolbar-toggle').trigger('click');Cb(w);var g=w.split('-');H.val(g[0]);I.val(g[1]);Jb(E);C.val(E);yb();g=xa?xa.text():'';/^\{\{ (.*) \}\}/.test(g)?k(g,db):db()},Cb=function(g){aa.removeClass('gina-toolbar-top-left gina-toolbar-top-right gina-toolbar-bottom-left gina-toolbar-bottom-right').addClass('gina-toolbar-'+g)},Jb=function(g){aa.removeClass('gina-toolbar-auto gina-toolbar-100 gina-toolbar-80 gina-toolbar-60 gina-toolbar-50 gina-toolbar-40 gina-toolbar-30').addClass('gina-toolbar-'+
g)},yb=function(){N=window.innerHeight-32;aa.find('.gina-toolbar-main').css('max-height',N+'px');var g=q.find('.gina-toolbar-main'),m=g.find('.gina-toolbar-content');z=g.height();z==N?m.addClass('gina-toolbar-content-end'):m.removeClass('gina-toolbar-content-end')},Gb=function(g,m,A){'undefined'==typeof A&&(A=!1);if(void 0!=g&&g.length&&'all'!=g){M=g.attr('class');var y=!1;if(/(gina-toolbar-folding-state-[a-z 0-9_-]+|gina-toolbar-xhr-folding-state-[a-z 0-9_-]+)/i.test(M))if(/gina-toolbar-folding-state-[a-z0-9_-]+/i.test(M)?
M=M.match(/gina-toolbar-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-folding-state-/,''):(y=!0,'undefined'!=typeof M&&(M=M.match(/gina-toolbar-xhr-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-xhr-folding-state-/,'xhr-'))),0>v.isUnfolded.indexOf(M))v.isUnfolded.push(M),v.save(),g.hasClass('gina-toolbar-unfolded')||(g.addClass('gina-toolbar-unfolded'),g.next('ul').slideToggle('fast'));else if(-1<v.isUnfolded.indexOf(M)&&g.hasClass('gina-toolbar-unfolded')){for(var B=new RegExp('^('+
M+')'),S=0,O=v.isUnfolded.length;S<O;++S)B.test(v.isUnfolded[S])&&(!ra&&A||ra&&y||A)&&(v.isUnfolded.splice(S,1),--S);v.save(!0);0>v.isUnfolded.indexOf(M)&&(g.removeClass('gina-toolbar-unfolded'),g.next('ul').slideToggle('fast'))}else g.addClass('gina-toolbar-unfolded'),g.next('ul').slideToggle('fast')}'undefined'!=typeof m&&null!=m&&m()},Kb=function(g){var m={},A=null,y=[],B=0;for(A in g)g.hasOwnProperty(A)&&(y[B]=A,++B);var S=y.length;y.sort();for(B=0;B<S;++B)A=y[B],m[A]=g[A];return m},Ra=function(g,
m){var A='';if('undefined'!=typeof g&&''!=g){var y=g;'string'==typeof g&&(y=g.replace(/(\]\[|\[)/g,'-').replace(/\]/,'').replace(/[^A-Za-z0-9_-]/g,'_'));A+=y+'-'}'undefined'!=typeof m&&''!=m?(g=m,'string'==typeof m&&(g=m.replace(/(\]\[|\[)/g,'-').replace(/\]/,'')),A+=g):A=A.substr(0,A.length-1);return A.trim()},la=function(g,m,A,y,B){var S='';A='undefined'!=typeof A&&null!=A?A.replace(/[^A-Za-z0-9_-]/g,'_'):'';var O='undefined'!=typeof B&&null!=B?B:'',ba='undefined'!=typeof y&&null!=y?'-xhr':'';g=
Kb(g);m=Kb(m);for(var Q in g)if('object'!=typeof g[Q]||Array.isArray(g[Q])||null===g[Q])if(Array.isArray(g[Q])){A+='-'+Q.replace(/[^A-Za-z0-9_-]/g,'_');var u=0<g[Q].length||'undefined'!=typeof m[Q]&&0<m[Q].length?'':' is-empty';S+='<li class="gina-toolbar-collection">';S+='<a href="#" class="gina-toolbar-key gina-toolbar'+ba+'-folding-state-'+Ra(O,Q.replace(/[^A-Za-z0-9_-]/g,'_'))+u+'">'+Q+' <span>['+g[Q].length+']</span></a>';S+='<ul class="gina-toolbar-collection">'+wa(g[Q],m[Q],A,y,B)+'</ul>';
S+='</li>';A=A.substr(0,A.length-Q.length)}else u=null===m[Q]?'null':typeof m[Q],'undefined'==u?(S+='<li class="gina-toolbar-key-value">',S+='<span class="gina-toolbar-key gina-toolbar-key-added">'+Q+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+u+'">'+g[Q]+'</span>'):(g[Q]!==m[Q]&&(S+='<li class="gina-toolbar-key-value gina-toolbar-is-overridden">',S+='<span class="gina-toolbar-key">'+Q+':</span> <span class="gina-toolbar-value">'+m[Q]+'</span>',S+='</li>'),S+='<li class="gina-toolbar-key-value">',
S+='<span class="gina-toolbar-key">'+Q+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+u+'">'+g[Q]+'</span>'),S+='</li>';else A+='-'+Q.replace(/[^A-Za-z0-9_-]/g,'_'),u=0<g[Q].count()||'undefined'!=typeof m[Q]&&0<m[Q].count()?'':' is-empty',S+='<li class="gina-toolbar-object">',S+='<a href="#" class="gina-toolbar-key gina-toolbar'+ba+'-folding-state-'+Ra(O,Q.replace(/[^A-Za-z0-9_-]/g,'_'))+u+'">'+Q+' <span>{ }</span></a>',S+='<ul class="gina-toolbar-object">'+la(g[Q],m[Q],A,
y,B)+'</ul>',S+='</li>',A=A.substr(0,A.length-Q.length);return S},wa=function(g,m,A,y,B){var S='';A='undefined'!=typeof A&&null!=A?A:'';var O='undefined'!=typeof B&&null!=B?B:'',ba='undefined'!=typeof y&&null!=y?'-xhr':'';m||=[];for(var Q=0,u=g.length;Q<u;++Q)'object'!=typeof g[Q]||Array.isArray(g[Q])?Array.isArray(g[Q])?(A+='-'+Q,''==O&&(O=A),S+='<li class="gina-toolbar-collection">',S+='<a href="#" class="gina-toolbar-key gina-toolbar'+ba+'-folding-state-'+Ra(O,Q)+'">'+Q+'<span>[ ]</span></a>',
S+='<ul class="gina-toolbar-collection">'+wa(g[Q],m[Q],A,y,B)+'</ul>',S+='</li>',A=A.substr(0,A.length-Q.toString().length)):S+='<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+Q+':</span> <span class="gina-toolbar-value">'+g[Q]+'</span></li>':(m[Q]||(m[Q]=g[Q]),A+='-'+Q,''==O&&(O=A),S+='<li class="gina-toolbar-object">',S+='<a href="#" class="gina-toolbar-key gina-toolbar'+ba+'-folding-state-'+Ra(O,Q)+'">'+Q+' <span>{ }</span></a>',S+='<ul class="gina-toolbar-object">'+la(g[Q],
m[Q],A,y,B)+'</ul>',S+='</li>',A=A.substr(0,A.length-Q.toString().length-1));return S},La=function(g,m,A,y,B,S){A=null!=A?A.replace(/[^A-Za-z0-9_-]/g,'_'):'';var O='undefined'!=typeof y&&null!=y?'-xhr':'';g=Kb(g);m=Kb(m);S||=B;for(var ba in g){var Q=ba;if('object'!=typeof g[ba]||Array.isArray(g[ba])||null===g[ba])if(Array.isArray(g[ba])){var u=P('#gina-toolbar-view-'+A.substr(0,A.length-1));var fa=u.length?!0:!1;!fa||/^html/.test(A)?(u=P('.'+A),fa=A+ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-',u.append('<li class="gina-toolbar-collection"><a href="#" class="gina-toolbar-key gina-toolbar'+
O+'-folding-state-'+Ra(ba.replace(/[^A-Za-z0-9_-]/g,'_'),fa.substr(0,fa.length-1))+'">'+ba+' <span>['+g[ba].length+']</span></a><ul> '+wa(g[ba],m[ba],fa,u.find('li ul.'+A.substr(0,A.length-1)),Q)+'</ul></li>')):(fa=A+ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-',u.find('li.'+A.substr(0,A.length-1)+' ul').append('<li class="gina-toolbar-collection"><a class="gina-toolbar-key gina-toolbar'+O+'-folding-state-'+Ra(ba.replace(/[^A-Za-z0-9_-]/g,'_'),fa.substr(0,fa.length-1))+'">'+ba+' <span>['+g[ba].length+']</span></a><ul>'+
wa(g[ba],m[ba],fa,u.find('li ul.'+A.substr(0,A.length-1)),Q)+'</ul></li>'));A+=ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-';A=A.substr(0,A.length-ba.length-1)}else if(Q=null===m[ba]?'null':typeof m[ba],'undefined'==Q)/\-$/.test(A)&&(A=A.substr(0,A.length-1)),A&&B.find('ul.'+A).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key gina-toolbar-key-added">'+ba+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+g[ba]+'</span></li>');else if(g[ba]!==m[ba]){A||(A+=
ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-');try{B.find('ul.'+A).append('<li class="gina-toolbar-key-value gina-toolbar-is-overridden"><span class="gina-toolbar-key">'+ba+':</span> <span class="gina-toolbar-value">'+m[ba]+'</span></li>'),B.find('ul.'+A).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ba+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+g[ba]+'</span></li>')}catch(ta){throw Error('GinaToolbarError: `ul.'+A+'` not found');}}else!A||
/^html\-properties/.test(A)?S.find('.gina-toolbar-properties').append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ba+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+g[ba]+'</span></li>'):S.find('ul.'+A.substr(0,A.length-1)).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ba+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+g[ba]+'</span></li>');else u=P('#gina-toolbar-view-'+A.substr(0,A.length-
1)),(fa=u.length?!0:!1)?(fa=A+ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-',u.find('ul.'+A.substr(0,A.length-1)).append('<li class="gina-toolbar-object"><a href="#" class="gina-toolbar-key gina-toolbar'+O+'-folding-state-'+Ra(ba.replace(/[^A-Za-z0-9_-]/g,'_'),fa.substr(0,fa.length-1))+'">'+ba+' <span>{ }</span></a><ul class="gina-toolbar-object '+fa.substr(0,fa.length-1)+'"></ul></li>'),La(g[ba],m[ba],fa,y,u.find('ul.'+A.substr(0,A.length-1)),S),A+=ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-'):(A+=ba.replace(/[^A-Za-z0-9_-]/g,
'_')+'-','params'==ba?(Q='<div id="gina-toolbar-view-'+A.substr(0,A.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+A.substr(0,A.length-1)+'</h2><ul class="'+A.substr(0,A.length-1)+'"></ul></div>',P('#gina-toolbar-view-html-properties').before(Q)):/^html/.test(A)||(Q='<div id="gina-toolbar-view-'+A.substr(0,A.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+A.substr(0,A.length-1)+'</h2><ul class="'+A.substr(0,A.length-1)+'"></ul></div>',
B.append(Q)),La(g[ba],m[ba],A,y,B.find('ul.'+A.substr(0,A.length-1)),S)),A=A.substr(0,A.length-ba.length-1)}return S.html()},W=function(g){g=gina.hasPopinHandler?gina.popin.getActivePopin():null;var m,A=(gina.hasPopinHandler?P('#'+g.id):P('body')).html().match(/404:\[(.+)\](.+)@(.+)"/gm);if(A){var y=0;for(m=A.length;y<m;++y){g=A[y].replace(/"(.*)|"/g,'');var B=g.match(/\[(.*)\]/g,'')[0].replace(/\[|\]/g,'');da.getRouteByUrl(g,B)}}fLen=da.notFound.count();if(0<fLen)for(f in da.notFound)console.warn('(x'+
da.notFound[f].count+') '+f+' => '+da.notFound[f].message)},oa=function(g,m,A,y,B,S,O){if(!S)return!1;for(var ba=B[y].attributes,Q,u=B[y].getAttribute('id')||B[y].id,fa=P('<div id="gina-toolbar-form-'+u+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+u+'</h2><ul class="gina-toolbar-section-content gina-toolbar-code" style="display: none;"><li class="gina-toolbar-form-attributes"><h3 class="gina-toolbar-sub-section-title">'+'gina-toolbar-form-attributes'.replace(/gina-toolbar-form-/,
'')+'</h3><ul class="gina-toolbar-code"></ul></li></ul></div>'),ta,ka,ia=null,Ca=0,ya=ba.length;Ca<ya;++Ca)ta=ba[Ca].name,ka=ba[Ca].nodeValue,/^method$/.test(ta)&&(ka=ka.toUpperCase()),/^class$/.test(ta)&&/\s+/.test(ka)&&(ka='<ul><li>'+ka.replace(/\s+/g,'</li><li>')+'</li></ul>'),/^action$/.test(ta)&&((Q='undefined'!=typeof ba.method?ba.method.nodeValue:void 0)||console.warn('[ ToolbarFormHelper::UndefinedMethod : form `'+ba.id.nodeValue+'` method attribute cannot be left undefined !'),Q=da.getRouteByUrl(ka,
Q),'undefined'!=typeof Q&&Q||(Q={name:'not found',namespace:'not found',param:{control:'not found',file:'not found'}}),ka='<ul><li><span class="gina-toolbar-key">url</span><span class="gina-toolbar-value">'+(ka||'#')+'</span></li><li><span class="gina-toolbar-key">route</span><span class="gina-toolbar-value">'+Q.name+'</span></li><li><span class="gina-toolbar-key">namespace</span><span class="gina-toolbar-value">'+(Q.namespace||'root controller')+'</span></li><li><span class="gina-toolbar-key">control</span><span class="gina-toolbar-value">'+
Q.param.control+'</span></li><li><span class="gina-toolbar-key">file</span><span class="gina-toolbar-value">'+Q.param.file+'</span></li><ul>',ia='<li><span class="gina-toolbar-key">'+ta+':</span><span class="gina-toolbar-value">'+ka+'</span></li>'),/^data-gina-form-event/.test(ta)?(Q='events',ia=fa.find('.gina-toolbar-form-attributes').find('.gina-toolbar-key-events').length?!0:!1,ta=ta.replace(/^data-gina-form-event-/,''),ia||fa.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+
Q+'"><h3 class="gina-toolbar-sub-section-title">'+Q+'</h3><ul class="gina-toolbar-code"></ul></li>'),ia='<li><span class="gina-toolbar-key">'+ta+':</span><span class="gina-toolbar-value">'+ka+'</span></li>',fa.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+Q+' > ul').append(ia)):(/^action$/.test(ta)||(ia='<li><span class="gina-toolbar-key">'+ta+':</span><span class="gina-toolbar-value">'+ka+'</span></li>'),fa.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-attributes > ul').append(ia));
ba=null;try{var $a=B[y].getAttribute('data-gina-form-rule');ba='undefined'!=typeof $a&&null!=$a?eval('gina.forms.rules.'+$a.replace(/-/g,'.')):eval('gina.forms.rules.'+u.replace(/-/g,'.'))}catch(Wa){}ba&&(Q='rules',fa.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+Q+'"><h3 class="gina-toolbar-sub-section-title">'+Q+'</h3><ul class="gina-toolbar-properties">'+la(ba,ba,u,O,Q)+'</ul></li>'));A.append(fa);++y;y<S&&oa(g,m,A,y,B,S,O)},za=function(g,m,A,y){var B=P('#gina-toolbar-form-'+
g);$section=B.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+m+'> ul');if(0<$section.length){if(0==A.count())return B.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+m).remove(),!1;$section.html(la(A,A,g,y,m))}else B.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+m+'"><h3 class="gina-toolbar-sub-section-title">'+m+'</h3><ul class="gina-toolbar-properties">'+la(A,A,g,y,m)+'</ul></li>');g=B.find('ul.gina-toolbar-section-content');
g.is(':visible')||g.slideToggle()},Oa=function(g,m){return g='<label class="gina-toolbar-input-file"><input type="file" multiple id="'+(g+'">')+m+'</label>'},k=function(g,m){g=Oa('mock','Select your JSON file');Va.html(g);xa.text('');Va.find('input').off('change').on('change',function(A){var y=P(this)[0].files,B=A=null;if(1==y.length)A=P(this)[0].files[0],B=new FileReader,B.addEventListener('load',function(){xa.text(B.result);na.text(B.result);m()},!1),B.readAsBinaryString(A);else{var S=0;B=[];for(var O=
0,ba=y.length;O<ba;++O)switch(A=y[O],!0){case /user/.test(A.name):B[O]=new FileReader;B[O].addEventListener('load',function(Q){xa.text(Q.currentTarget.result);++S;S==y.length&&m()},!1);B[O].readAsBinaryString(A);break;case /gina/.test(A.name):B[O]=new FileReader,B[O].addEventListener('load',function(Q){na.text(Q.currentTarget.result);++S;S==y.length&&m()},!1),B[O].readAsBinaryString(A)}}});return!1},b=function(g,m){for(var A in g)'object'==typeof g[A]&&b(g[A],m+A+'-')};this.update=function(g,m){db(g,
m)};this.restore=function(){va&&'undefined'!=typeof va.data&&(Ha.jsonObject.data=va.data);db('data',Ha.jsonObject,Ha.ginaJsonObject);U=!1;da.notFound={}};if('undefined'!=typeof gina.validator)gina.validator.on('initialized',function(){console.log('toolbar validator ready');Ab()});else Ab()}});
define('gina','require vendor/uuid utils/merge utils/events helpers/prototypes helpers/dateFormat gina/toolbar'.split(' '),function(F){F('utils/events');var P=F('utils/merge'),da=F('helpers/dateFormat')();F('helpers/prototypes')({dateFormat:da});var Ba=F('vendor/uuid');window.process||function(M,V,ra,U,K,n,aa){for(n=M[ra]||(M[ra]={});!aa&&K<U.length;)aa=M[U[K++]+'requestAnimationFrame'];n[V]=n[V]||aa&&aa.bind(M)||M.setImmediate||M.setTimeout}(window,'nextTick','process',['r','webkitR','mozR','msR',
'oR'],0);window.getComputedStyle||(window.getComputedStyle=function(M,V){this.el=M;this.getPropertyValue=function(ra){var U=/(\-([a-z]){1})/g;'float'==ra&&(ra='styleFloat');U.test(ra)&&(ra=ra.replace(U,function(K,n,aa){return aa.toUpperCase()}));return M.currentStyle[ra]?M.currentStyle[ra]:null};return this});return function(M){this.plugin='gina';var V='gina-'+Ba.v1(),ra=document,U;document.id=V;V={id:V,isFrameworkLoaded:!1,hasValidator:!1,hasPopinHandler:!1,config:{},registeredEvents:{},events:{},
setOptions:function(K){U=P(U,K,!0)}};'undefined'!=typeof parent.window.gina&&(window.gina=P(window.gina||{},parent.window.gina));V=P(window.gina||{},V);registerEvents(this.plugin,['ginaloaded','ready']);triggerEvent(M,ra,'ginaloaded',V)}});
!function(F,P){'object'==typeof exports&&'undefined'!=typeof module?module.exports=P():'function'==typeof define&&define.amd?define('vendor/engine.io',P):(F='undefined'!=typeof globalThis?globalThis:F||self).eio=P()}(this,function(){function F(la){return F='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(wa){return typeof wa}:function(wa){return wa&&'function'==typeof Symbol&&wa.constructor===Symbol&&wa!==Symbol.prototype?'symbol':typeof wa},F(la)}function P(la,wa){if(!(la instanceof
wa))throw new TypeError('Cannot call a class as a function');}function da(la,wa){for(var La=0;La<wa.length;La++){var W=wa[La];W.enumerable=W.enumerable||!1;W.configurable=!0;'value'in W&&(W.writable=!0);Object.defineProperty(la,W.key,W)}}function Ba(la,wa,La){return wa&&da(la.prototype,wa),La&&da(la,La),la}function M(){return M=Object.assign||function(la){for(var wa=1;wa<arguments.length;wa++){var La=arguments[wa],W;for(W in La)Object.prototype.hasOwnProperty.call(La,W)&&(la[W]=La[W])}return la},
M.apply(this,arguments)}function V(la,wa){if('function'!=typeof wa&&null!==wa)throw new TypeError('Super expression must either be null or a function');la.prototype=Object.create(wa&&wa.prototype,{constructor:{value:la,writable:!0,configurable:!0}});wa&&U(la,wa)}function ra(la){return ra=Object.setPrototypeOf?Object.getPrototypeOf:function(wa){return wa.__proto__||Object.getPrototypeOf(wa)},ra(la)}function U(la,wa){return U=Object.setPrototypeOf||function(La,W){return La.__proto__=W,La},U(la,wa)}
function K(la){if(void 0===la)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return la}function n(la){var wa=function(){if('undefined'==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(La){return!1}}();return function(){var La=ra(la);if(wa){var W=ra(this).constructor;La=Reflect.construct(La,arguments,W)}else La=La.apply(this,
arguments);return!La||'object'!=typeof La&&'function'!=typeof La?K(this):La}}function aa(la,wa,La){return aa='undefined'!=typeof Reflect&&Reflect.get?Reflect.get:function(W,oa,za){for(;!Object.prototype.hasOwnProperty.call(W,oa)&&null!==(W=ra(W)););if(W)return oa=Object.getOwnPropertyDescriptor(W,oa),oa.get?oa.get.call(za):oa.value},aa(la,wa,La||la)}function v(la){la=la.xdomain;try{if('undefined'!=typeof XMLHttpRequest&&(!la||I))return new XMLHttpRequest}catch(wa){}if(!la)try{return new (x[['Active'].concat('Object').join('X')])('Microsoft.XMLHTTP')}catch(wa){}}
function qa(la){for(var wa=arguments.length,La=Array(1<wa?wa-1:0),W=1;W<wa;W++)La[W-1]=arguments[W];return La.reduce(function(oa,za){return la.hasOwnProperty(za)&&(oa[za]=la[za]),oa},{})}function Ja(la,wa){wa.useNativeTimers?(la.setTimeoutFn=w.bind(x),la.clearTimeoutFn=C.bind(x)):(la.setTimeoutFn=setTimeout.bind(x),la.clearTimeoutFn=clearTimeout.bind(x))}function R(la){if(la){for(var wa in R.prototype)la[wa]=R.prototype[wa];return la}}function J(la){var wa='';do wa=Va[la%64]+wa,la=Math.floor(la/64);
while(0<la);return wa}function r(){var la=J(+new Date);return la!==Ha?(zb=0,Ha=la):la+'.'+J(zb++)}function q(){}function p(){for(var la in db.requests)db.requests.hasOwnProperty(la)&&db.requests[la].abort()}var H={};try{H='undefined'!=typeof XMLHttpRequest&&'withCredentials'in new XMLHttpRequest}catch(la){H=!1}var I=H,x='undefined'!=typeof self?self:'undefined'!=typeof window?window:Function('return this')(),w=setTimeout,C=clearTimeout;R.prototype.on=R.prototype.addEventListener=function(la,wa){return this._callbacks=
this._callbacks||{},(this._callbacks['$'+la]=this._callbacks['$'+la]||[]).push(wa),this};R.prototype.once=function(la,wa){function La(){this.off(la,La);wa.apply(this,arguments)}return La.fn=wa,this.on(la,La),this};R.prototype.off=R.prototype.removeListener=R.prototype.removeAllListeners=R.prototype.removeEventListener=function(la,wa){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var La,W=this._callbacks['$'+la];if(!W)return this;if(1==arguments.length)return delete this._callbacks['$'+
la],this;for(var oa=0;oa<W.length;oa++)if((La=W[oa])===wa||La.fn===wa){W.splice(oa,1);break}return 0===W.length&&delete this._callbacks['$'+la],this};R.prototype.emit=function(la){this._callbacks=this._callbacks||{};for(var wa=Array(arguments.length-1),La=this._callbacks['$'+la],W=1;W<arguments.length;W++)wa[W-1]=arguments[W];if(La){W=0;for(var oa=(La=La.slice(0)).length;W<oa;++W)La[W].apply(this,wa)}return this};R.prototype.emitReserved=R.prototype.emit;R.prototype.listeners=function(la){return this._callbacks=
this._callbacks||{},this._callbacks['$'+la]||[]};R.prototype.hasListeners=function(la){return!!this.listeners(la).length};var E=Object.create(null);E.open='0';E.close='1';E.ping='2';E.pong='3';E.message='4';E.upgrade='5';E.noop='6';var N=Object.create(null);Object.keys(E).forEach(function(la){N[E[la]]=la});var z={type:'error',data:'parser error'},T='function'==typeof Blob||'undefined'!=typeof Blob&&'[object BlobConstructor]'===Object.prototype.toString.call(Blob),X='function'==typeof ArrayBuffer,
xa=function(la,wa,La){var W=la.type;la=la.data;return T&&la instanceof Blob?wa?La(la):na(la,La):X&&(la instanceof ArrayBuffer||('function'==typeof ArrayBuffer.isView?ArrayBuffer.isView(la):la&&la.buffer instanceof ArrayBuffer))?wa?La(la):na(new Blob([la]),La):La(E[W]+(la||''))},na=function(la,wa){var La=new FileReader;return La.onload=function(){var W=La.result.split(',')[1];wa('b'+W)},La.readAsDataURL(la)},Ea='undefined'==typeof Uint8Array?[]:new Uint8Array(256);for(H=0;64>H;H++)Ea['ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.charCodeAt(H)]=
H;var Ha,Fa='function'==typeof ArrayBuffer,va=function(la,wa){if('string'!=typeof la)return{type:'message',data:Da(la,wa)};var La=la.charAt(0);if('b'===La){la=la.substring(1);if(Fa){var W=.75*la.length;La=la.length;var oa=0;'='===la[la.length-1]&&(W--,'='===la[la.length-2]&&W--);var za=new ArrayBuffer(W),Oa=new Uint8Array(za);for(W=0;W<La;W+=4){var k=Ea[la.charCodeAt(W)];var b=Ea[la.charCodeAt(W+1)];var g=Ea[la.charCodeAt(W+2)];var m=Ea[la.charCodeAt(W+3)];Oa[oa++]=k<<2|b>>4;Oa[oa++]=(15&b)<<4|g>>
2;Oa[oa++]=(3&g)<<6|63&m}wa=Da(za,wa)}else wa={base64:!0,data:la};wa={type:'message',data:wa}}else wa=N[La]?1<la.length?{type:N[La],data:la.substring(1)}:{type:N[La]}:z;return wa},Da=function(la,wa){return'blob'===wa&&la instanceof ArrayBuffer?new Blob([la]):la},Ta=String.fromCharCode(30);H=function(la){function wa(W){var oa;return P(this,wa),(oa=La.call(this)).writable=!1,Ja(K(oa),W),oa.opts=W,oa.query=W.query,oa.readyState='',oa.socket=W.socket,oa}V(wa,la);var La=n(wa);return Ba(wa,[{key:'onError',
value:function(W,oa){W=Error(W);return W.type='TransportError',W.description=oa,aa(ra(wa.prototype),'emit',this).call(this,'error',W),this}},{key:'open',value:function(){return'closed'!==this.readyState&&''!==this.readyState||(this.readyState='opening',this.doOpen()),this}},{key:'close',value:function(){return'opening'!==this.readyState&&'open'!==this.readyState||(this.doClose(),this.onClose()),this}},{key:'send',value:function(W){'open'===this.readyState&&this.write(W)}},{key:'onOpen',value:function(){this.readyState=
'open';this.writable=!0;aa(ra(wa.prototype),'emit',this).call(this,'open')}},{key:'onData',value:function(W){W=va(W,this.socket.binaryType);this.onPacket(W)}},{key:'onPacket',value:function(W){aa(ra(wa.prototype),'emit',this).call(this,'packet',W)}},{key:'onClose',value:function(){this.readyState='closed';aa(ra(wa.prototype),'emit',this).call(this,'close')}}]),wa}(R);for(var Va='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''),Ua={},zb=0,Ia=0;64>Ia;Ia++)Ua[Va[Ia]]=Ia;r.encode=
J;r.decode=function(la){var wa=0;for(Ia=0;Ia<la.length;Ia++)wa=64*wa+Ua[la.charAt(Ia)];return wa};var Na={encode:function(la){var wa='',La;for(La in la)la.hasOwnProperty(La)&&(wa.length&&(wa+='&'),wa+=encodeURIComponent(La)+'='+encodeURIComponent(la[La]));return wa},decode:function(la){var wa={};la=la.split('&');for(var La=0,W=la.length;La<W;La++){var oa=la[La].split('=');wa[decodeURIComponent(oa[0])]=decodeURIComponent(oa[1])}return wa}},bb=function(la){function wa(){var W;return P(this,wa),(W=La.apply(this,
arguments)).polling=!1,W}V(wa,la);var La=n(wa);return Ba(wa,[{key:'doOpen',value:function(){this.poll()}},{key:'pause',value:function(W){var oa=this;this.readyState='pausing';var za=function(){oa.readyState='paused';W()};if(this.polling||!this.writable){var Oa=0;this.polling&&(Oa++,this.once('pollComplete',function(){--Oa||za()}));this.writable||(Oa++,this.once('drain',function(){--Oa||za()}))}else za()}},{key:'poll',value:function(){this.polling=!0;this.doPoll();this.emit('poll')}},{key:'onData',
value:function(W){var oa=this;(function(za,Oa){za=za.split(Ta);for(var k=[],b=0;b<za.length;b++){var g=va(za[b],Oa);if(k.push(g),'error'===g.type)break}return k})(W,this.socket.binaryType).forEach(function(za){if('opening'===oa.readyState&&'open'===za.type&&oa.onOpen(),'close'===za.type)return oa.onClose(),!1;oa.onPacket(za)});'closed'!==this.readyState&&(this.polling=!1,this.emit('pollComplete'),'open'===this.readyState&&this.poll())}},{key:'doClose',value:function(){var W=this,oa=function(){W.write([{type:'close'}])};
'open'===this.readyState?oa():this.once('open',oa)}},{key:'write',value:function(W){var oa=this;this.writable=!1;(function(za,Oa){var k=za.length,b=Array(k),g=0;za.forEach(function(m,A){xa(m,!1,function(y){b[A]=y;++g===k&&Oa(b.join(Ta))})})})(W,function(za){oa.doWrite(za,function(){oa.writable=!0;oa.emit('drain')})})}},{key:'uri',value:function(){var W=this.query||{},oa=this.opts.secure?'https':'http',za='';!1!==this.opts.timestampRequests&&(W[this.opts.timestampParam]=r());this.supportsBinary||W.sid||
(W.b64=1);this.opts.port&&('https'===oa&&443!==Number(this.opts.port)||'http'===oa&&80!==Number(this.opts.port))&&(za=':'+this.opts.port);W=Na.encode(W);return oa+'://'+(-1!==this.opts.hostname.indexOf(':')?'['+this.opts.hostname+']':this.opts.hostname)+za+this.opts.path+(W.length?'?'+W:'')}},{key:'name',get:function(){return'polling'}}]),wa}(H),Ab=null!=(new v({xdomain:!1})).responseType;bb=function(la){function wa(W){var oa;if(P(this,wa),oa=La.call(this,W),'undefined'!=typeof location){var za='https:'===
location.protocol,Oa=location.port;Oa||=za?'443':'80';oa.xd='undefined'!=typeof location&&W.hostname!==location.hostname||Oa!==W.port;oa.xs=W.secure!==za}W=W&&W.forceBase64;return oa.supportsBinary=Ab&&!W,oa}V(wa,la);var La=n(wa);return Ba(wa,[{key:'request',value:function(){var W=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return M(W,{xd:this.xd,xs:this.xs},this.opts),new db(this.uri(),W)}},{key:'doWrite',value:function(W,oa){var za=this;W=this.request({method:'POST',data:W});W.on('success',
oa);W.on('error',function(Oa){za.onError('xhr post error',Oa)})}},{key:'doPoll',value:function(){var W=this,oa=this.request();oa.on('data',this.onData.bind(this));oa.on('error',function(za){W.onError('xhr poll error',za)});this.pollXhr=oa}}]),wa}(bb);var db=function(la){function wa(W,oa){var za;return P(this,wa),Ja(K(za=La.call(this)),oa),za.opts=oa,za.method=oa.method||'GET',za.uri=W,za.async=!1!==oa.async,za.data=void 0!==oa.data?oa.data:null,za.create(),za}V(wa,la);var La=n(wa);return Ba(wa,[{key:'create',
value:function(){var W=this,oa=qa(this.opts,'agent','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','autoUnref');oa.xdomain=!!this.opts.xd;oa.xscheme=!!this.opts.xs;var za=this.xhr=new v(oa);try{za.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var Oa in za.setDisableHeaderCheck&&za.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(Oa)&&za.setRequestHeader(Oa,this.opts.extraHeaders[Oa])}catch(k){}if('POST'===this.method)try{za.setRequestHeader('Content-type',
'text/plain;charset=UTF-8')}catch(k){}try{za.setRequestHeader('Accept','*/*')}catch(k){}'withCredentials'in za&&(za.withCredentials=this.opts.withCredentials);this.opts.requestTimeout&&(za.timeout=this.opts.requestTimeout);za.onreadystatechange=function(){4===za.readyState&&(200===za.status||1223===za.status?W.onLoad():W.setTimeoutFn(function(){W.onError('number'==typeof za.status?za.status:0)},0))};za.send(this.data)}catch(k){return void this.setTimeoutFn(function(){W.onError(k)},0)}'undefined'!=
typeof document&&(this.index=wa.requestsCount++,wa.requests[this.index]=this)}},{key:'onSuccess',value:function(){this.emit('success');this.cleanup()}},{key:'onData',value:function(W){this.emit('data',W);this.onSuccess()}},{key:'onError',value:function(W){this.emit('error',W);this.cleanup(!0)}},{key:'cleanup',value:function(W){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=q,W)try{this.xhr.abort()}catch(oa){}'undefined'!=typeof document&&delete wa.requests[this.index];this.xhr=
null}}},{key:'onLoad',value:function(){var W=this.xhr.responseText;null!==W&&this.onData(W)}},{key:'abort',value:function(){this.cleanup()}}]),wa}(R);if(db.requestsCount=0,db.requests={},'undefined'!=typeof document)'function'==typeof attachEvent?attachEvent('onunload',p):'function'==typeof addEventListener&&addEventListener('onpagehide'in x?'pagehide':'unload',p,!1);var cb='function'==typeof Promise&&'function'==typeof Promise.resolve?function(la){return Promise.resolve().then(la)}:function(la,wa){return wa(la,
0)},sb=x.WebSocket||x.MozWebSocket,Cb='undefined'!=typeof navigator&&'string'==typeof navigator.product&&'reactnative'===navigator.product.toLowerCase(),Jb={websocket:function(la){function wa(W){var oa;return P(this,wa),(oa=La.call(this,W)).supportsBinary=!W.forceBase64,oa}V(wa,la);var La=n(wa);return Ba(wa,[{key:'doOpen',value:function(){if(this.check()){var W=this.uri(),oa=this.opts.protocols,za=Cb?{}:qa(this.opts,'agent','perMessageDeflate','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized',
'localAddress','protocolVersion','origin','maxPayload','family','checkServerIdentity');this.opts.extraHeaders&&(za.headers=this.opts.extraHeaders);try{this.ws=Cb?new sb(W,oa,za):oa?new sb(W,oa):new sb(W)}catch(Oa){return this.emit('error',Oa)}this.ws.binaryType=this.socket.binaryType||'arraybuffer';this.addEventListeners()}}},{key:'addEventListeners',value:function(){var W=this;this.ws.onopen=function(){W.opts.autoUnref&&W.ws._socket.unref();W.onOpen()};this.ws.onclose=this.onClose.bind(this);this.ws.onmessage=
function(oa){return W.onData(oa.data)};this.ws.onerror=function(oa){return W.onError('websocket error',oa)}}},{key:'write',value:function(W){var oa=this;this.writable=!1;for(var za=function(k){var b=k===W.length-1;xa(W[k],oa.supportsBinary,function(g){try{oa.ws.send(g)}catch(m){}b&&cb(function(){oa.writable=!0;oa.emit('drain')},oa.setTimeoutFn)})},Oa=0;Oa<W.length;Oa++)za(Oa)}},{key:'doClose',value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:'uri',value:function(){var W=this.query||
{},oa=this.opts.secure?'wss':'ws',za='';this.opts.port&&('wss'===oa&&443!==Number(this.opts.port)||'ws'===oa&&80!==Number(this.opts.port))&&(za=':'+this.opts.port);this.opts.timestampRequests&&(W[this.opts.timestampParam]=r());this.supportsBinary||(W.b64=1);W=Na.encode(W);return oa+'://'+(-1!==this.opts.hostname.indexOf(':')?'['+this.opts.hostname+']':this.opts.hostname)+za+this.opts.path+(W.length?'?'+W:'')}},{key:'check',value:function(){return!(!sb||'__initialize'in sb&&this.name===wa.prototype.name)}},
{key:'name',get:function(){return'websocket'}}]),wa}(H),polling:bb},yb=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Gb='source protocol authority userInfo user password host port relative path directory file query anchor'.split(' '),Kb=function(la){var wa=la,La=la.indexOf('['),W=la.indexOf(']');-1!=La&&-1!=W&&(la=
la.substring(0,La)+la.substring(La,W).replace(/:/g,';')+la.substring(W,la.length));var oa,za;la=yb.exec(la||'');for(var Oa={},k=14;k--;)Oa[Gb[k]]=la[k]||'';return-1!=La&&-1!=W&&(Oa.source=wa,Oa.host=Oa.host.substring(1,Oa.host.length-1).replace(/;/g,':'),Oa.authority=Oa.authority.replace('[','').replace(']','').replace(/;/g,':'),Oa.ipv6uri=!0),Oa.pathNames=function(b,g){b=g.replace(/\/{2,9}/g,'/').split('/');'/'!=g.substr(0,1)&&0!==g.length||b.splice(0,1);'/'==g.substr(g.length-1,1)&&b.splice(b.length-
1,1);return b}(0,Oa.path),Oa.queryKey=(oa=Oa.query,za={},oa.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(b,g,m){g&&(za[g]=m)}),za),Oa},Ra=function(la){function wa(W){var oa,za=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return P(this,wa),oa=La.call(this),W&&'object'===F(W)&&(za=W,W=null),W?(W=Kb(W),za.hostname=W.host,za.secure='https'===W.protocol||'wss'===W.protocol,za.port=W.port,W.query&&(za.query=W.query)):za.host&&(za.hostname=Kb(za.host).host),Ja(K(oa),za),oa.secure=null!=za.secure?
za.secure:'undefined'!=typeof location&&'https:'===location.protocol,za.hostname&&!za.port&&(za.port=oa.secure?'443':'80'),oa.hostname=za.hostname||('undefined'!=typeof location?location.hostname:'localhost'),oa.port=za.port||('undefined'!=typeof location&&location.port?location.port:oa.secure?'443':'80'),oa.transports=za.transports||['polling','websocket'],oa.readyState='',oa.writeBuffer=[],oa.prevBufferLen=0,oa.opts=M({path:'/engine.io',agent:!1,withCredentials:!1,upgrade:!0,timestampParam:'t',
rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},za),oa.opts.path=oa.opts.path.replace(/\/$/,'')+'/','string'==typeof oa.opts.query&&(oa.opts.query=Na.decode(oa.opts.query)),oa.id=null,oa.upgrades=null,oa.pingInterval=null,oa.pingTimeout=null,oa.pingTimeoutTimer=null,'function'==typeof addEventListener&&(oa.opts.closeOnBeforeunload&&addEventListener('beforeunload',function(){oa.transport&&(oa.transport.removeAllListeners(),oa.transport.close())},
!1),'localhost'!==oa.hostname&&(oa.offlineEventListener=function(){oa.onClose('transport close')},addEventListener('offline',oa.offlineEventListener,!1))),oa.open(),oa}V(wa,la);var La=n(wa);return Ba(wa,[{key:'createTransport',value:function(W){var oa=this.opts.query,za={},Oa;for(Oa in oa)oa.hasOwnProperty(Oa)&&(za[Oa]=oa[Oa]);za.EIO=4;za.transport=W;this.id&&(za.sid=this.id);oa=M({},this.opts.transportOptions[W],this.opts,{query:za,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});
return new Jb[W](oa)}},{key:'open',value:function(){var W=this;if(this.opts.rememberUpgrade&&wa.priorWebsocketSuccess&&-1!==this.transports.indexOf('websocket'))var oa='websocket';else{if(0===this.transports.length)return void this.setTimeoutFn(function(){W.emitReserved('error','No transports available')},0);oa=this.transports[0]}this.readyState='opening';try{oa=this.createTransport(oa)}catch(za){return this.transports.shift(),void this.open()}oa.open();this.setTransport(oa)}},{key:'setTransport',
value:function(W){var oa=this;this.transport&&this.transport.removeAllListeners();this.transport=W;W.on('drain',this.onDrain.bind(this)).on('packet',this.onPacket.bind(this)).on('error',this.onError.bind(this)).on('close',function(){oa.onClose('transport close')})}},{key:'probe',value:function(W){function oa(){m||(m=!0,B(),g.close(),g=null)}function za(){y('transport closed')}function Oa(){y('socket closed')}function k(S){g&&S.name!==g.name&&oa()}var b=this,g=this.createTransport(W),m=!1;wa.priorWebsocketSuccess=
!1;var A=function(){m||(g.send([{type:'ping',data:'probe'}]),g.once('packet',function(S){if(!m)if('pong'===S.type&&'probe'===S.data){if(b.upgrading=!0,b.emitReserved('upgrading',g),g)wa.priorWebsocketSuccess='websocket'===g.name,b.transport.pause(function(){m||'closed'!==b.readyState&&(B(),b.setTransport(g),g.send([{type:'upgrade'}]),b.emitReserved('upgrade',g),g=null,b.upgrading=!1,b.flush())})}else S=Error('probe error'),S.transport=g.name,b.emitReserved('upgradeError',S)}))},y=function(S){S=Error('probe error: '+
S);S.transport=g.name;oa();b.emitReserved('upgradeError',S)},B=function(){g.removeListener('open',A);g.removeListener('error',y);g.removeListener('close',za);b.off('close',Oa);b.off('upgrading',k)};g.once('open',A);g.once('error',y);g.once('close',za);this.once('close',Oa);this.once('upgrading',k);g.open()}},{key:'onOpen',value:function(){if(this.readyState='open',wa.priorWebsocketSuccess='websocket'===this.transport.name,this.emitReserved('open'),this.flush(),'open'===this.readyState&&this.opts.upgrade&&
this.transport.pause)for(var W=0,oa=this.upgrades.length;W<oa;W++)this.probe(this.upgrades[W])}},{key:'onPacket',value:function(W){if('opening'===this.readyState||'open'===this.readyState||'closing'===this.readyState)switch(this.emitReserved('packet',W),this.emitReserved('heartbeat'),W.type){case 'open':this.onHandshake(JSON.parse(W.data));break;case 'ping':this.resetPingTimeout();this.sendPacket('pong');this.emitReserved('ping');this.emitReserved('pong');break;case 'error':var oa=Error('server error');
oa.code=W.data;this.onError(oa);break;case 'message':this.emitReserved('data',W.data),this.emitReserved('message',W.data)}}},{key:'onHandshake',value:function(W){this.emitReserved('handshake',W);this.id=W.sid;this.transport.query.sid=W.sid;this.upgrades=this.filterUpgrades(W.upgrades);this.pingInterval=W.pingInterval;this.pingTimeout=W.pingTimeout;this.onOpen();'closed'!==this.readyState&&this.resetPingTimeout()}},{key:'resetPingTimeout',value:function(){var W=this;this.clearTimeoutFn(this.pingTimeoutTimer);
this.pingTimeoutTimer=this.setTimeoutFn(function(){W.onClose('ping timeout')},this.pingInterval+this.pingTimeout);this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:'onDrain',value:function(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emitReserved('drain'):this.flush()}},{key:'flush',value:function(){'closed'!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=
this.writeBuffer.length,this.emitReserved('flush'))}},{key:'write',value:function(W,oa,za){return this.sendPacket('message',W,oa,za),this}},{key:'send',value:function(W,oa,za){return this.sendPacket('message',W,oa,za),this}},{key:'sendPacket',value:function(W,oa,za,Oa){if('function'==typeof oa&&(Oa=oa,oa=void 0),'function'==typeof za&&(Oa=za,za=null),'closing'!==this.readyState&&'closed'!==this.readyState)(za=za||{}).compress=!1!==za.compress,W={type:W,data:oa,options:za},this.emitReserved('packetCreate',
W),this.writeBuffer.push(W),Oa&&this.once('flush',Oa),this.flush()}},{key:'close',value:function(){var W=this,oa=function(){W.onClose('forced close');W.transport.close()},za=function b(){W.off('upgrade',b);W.off('upgradeError',b);oa()},Oa=function(){W.once('upgrade',za);W.once('upgradeError',za)};return'opening'!==this.readyState&&'open'!==this.readyState||(this.readyState='closing',this.writeBuffer.length?this.once('drain',function(){W.upgrading?Oa():oa()}):this.upgrading?Oa():oa()),this}},{key:'onError',
value:function(W){wa.priorWebsocketSuccess=!1;this.emitReserved('error',W);this.onClose('transport error',W)}},{key:'onClose',value:function(W,oa){'opening'!==this.readyState&&'open'!==this.readyState&&'closing'!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners('close'),this.transport.close(),this.transport.removeAllListeners(),'function'==typeof removeEventListener&&removeEventListener('offline',this.offlineEventListener,!1),this.readyState='closed',
this.id=null,this.emitReserved('close',W,oa),this.writeBuffer=[],this.prevBufferLen=0)}},{key:'filterUpgrades',value:function(W){for(var oa=[],za=0,Oa=W.length;za<Oa;za++)~this.transports.indexOf(W[za])&&oa.push(W[za]);return oa}}]),wa}(R);Ra.protocol=4;return function(la,wa){return new Ra(la,wa)}});
function BindingHelper(F){var P={};'undefined'!=typeof F&&(P=F);P.process=function(da,Ba,M){if('undefined'==typeof da||!Array.isArray(da))throw Error('`bindings` must be a defined array');'undefined'==typeof Ba&&(Ba=da.length,M=0);if(da[M]){var V=da[M];if('undefined'==typeof V.call)throw Error('`bindings.['+M+'].call` is required !');if('function'!=typeof P[V.call])throw Error('`bindingContext.'+V.call+'` is not a function');var ra=V.call;delete V.call;try{if('undefined'!=typeof V.handler){if(!window[V.handler])throw Error('`'+
V.handler+'` could not be reached. You must expose it to the `window` do object before any call.');var U=V.handler;delete V.handler;window[U].apply(this,Object.values(V));V.handler=U}else P[ra].apply(this,Object.values(V));V.call=ra}catch(K){console.error('BindingHelper encountered error while trying to execute `'+ra+'`'+K.stack||K)}P.process(da,Ba,M+1)}};return P}define('helpers/binding',[],function(){return BindingHelper});
define('gina/link',['require','jquery','vendor/uuid','utils/merge','utils/events'],function(F){F('jquery').noConflict();var P=F('vendor/uuid'),da=F('utils/merge');F('utils/events');return function(Ba){function M(r,q){var p=R(r),H=p.id,I=document.getElementById(H)||null;(I.getAttribute('data-gina-link-event-on-success')||I.getAttribute('data-gina-link-event-on-error'))&&listenToXhrEvents(p);q='undefined'==typeof q?aa:da(q,aa);/^(http|https):/.test(r)&&!(new RegExp('^'+window.location.protocol+'//'+
window.location.host)).test(r)&&((new RegExp(window.location.hostname)).test(r)||(r=r.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+r));q.url=r;p&&'undefined'!=typeof p.options&&(q=da(p.options,q));q.withCredentials?'withCredentials'in n?q.isSynchrone?n.open(q.method,q.url,q.isSynchrone):n.open(q.method,q.url):'undefined'!=typeof XDomainRequest?(n=new XDomainRequest,n.open(q.method,q.url)):(n=null,triggerEvent(gina,I,'error.'+H,'CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ')):
q.isSynchrone?n.open(q.method,q.url,q.isSynchrone):n.open(q.method,q.url);if(!n)throw Error('No `xhr` object initiated');q.$link=p;handleXhr(n,I,q,F);n.send()}function V(r,q){if('object'!=typeof q)throw Error('`options` must be an object');r.options=da(q,ra.options);q=document.getElementById(r.id)||null;if('undefined'==typeof U.$links[r.id]){if(-1<v.indexOf(r.id))throw Error('`link '+r.id+'` already exists !');if(!gina.events[evt]){addListener(gina,q,evt,function(I){cancelEvent(I);I=Ja(I.target.id);
var x=I.url;'undefined'==typeof I.options.isSynchrone&&(I.options.isSynchrone=!1);'undefined'==typeof I.options.withCredentials&&(I.options.withCredentials=!1);M(x,I.options)});var p=q.childNodes,H=0;lLen=p.length;if(0<lLen)for(;H<lLen;++H)'undefined'!=typeof p[H].tagName&&qa(p[H],q,evt)}r.request=M;r.getLinkById=Ja;r.getLinkByUrl=R;U.$links[r.id]=r}}this.plugin='link';registerEvents(this.plugin,'loaded ready open close destroy success error progress'.split(' '));var ra={options:{url:void 0,'class':'gina-link-default'},
authorizedEvents:['ready','success','error'],events:{}},U={plugin:this.plugin,id:'gina-links-'+P.v4(),on,eventData:{},$links:{},target:document,isReady:!1,initialized:!1},K={plugin:this.plugin,on,eventData:{},target:document,url:null,request:null,$forms:[]},n=null,aa={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}},v=[],qa=function(r,q,p){addListener(gina,r,'click',function(H){cancelEvent(H);triggerEvent(gina,q,p)})},Ja=function(r){return'undefined'!=
typeof U.$links[r]?U.$links[r]:null},R=function(r){var q=null,p;for(p in gina.link.$links)if('undefined'!=typeof gina.link.$links[p].url&&gina.link.$links[p].url==r){q=gina.link.$links[p];break}return q},J=function(r,q){'undefined'==typeof r&&(r=U.target);var p,H=null;r=r.getElementsByTagName('a');for(var I=0,x=r.length;I<x;++I)if(p=r[I].getAttribute('data-gina-link')){p=r[I];var w={type:'a',method:'GET'};var C=p.getAttribute('data-gina-link-url');w.url='undefined'!=typeof C&&null!=C?C:p.getAttribute('href');
C=p.getAttribute('id');if('undefined'==typeof C||null==C||''==C||/popin\.link/.test(C))C='link.click.gina-link-'+U.id+'-'+P.v4();p.id=C;evt=w.id=C;p.setAttribute('id',evt);'A'==p.tagName&&(H=p.getAttribute('onclick'));H?'undefined'==typeof H||/return false/.test(H)||(H=/;$/.test(H)?H+'return false;':H+'; return false;',p.setAttribute('onclick',H)):p.setAttribute('onclick','return false;');'undefined'==typeof U.$links[w.id]&&(w.target=p,p=da(w,K),V(p,q))}};return function(r){U.bindLinks=J;U.request=
M;U.getLinkById=Ja;U.getLinkByUrl=R;U.on('init',function(q){if(window.XMLHttpRequest)n=new XMLHttpRequest;else if(window.ActiveXObject)try{n=new ActiveXObject('Msxml2.XMLHTTP')}catch(p){try{n=new ActiveXObject('Microsoft.XMLHTTP')}catch(H){}}evt='click';addListener(gina,U.target,evt,function(p){'undefined'==typeof p.target.id&&(p.target.setAttribute('id',evt+'.'+P.v4()),p.target.id=p.target.getAttribute('id'));if(/^link\.click\./.test(p.target.id)){cancelEvent(p);var H=p.target.id;(new RegExp('^link.click.gina-link-'+
U.id)).test(H)&&triggerEvent(gina,p.target,H,p.detail)}});'undefined'==typeof r&&(r={});U.options=r;J(U.target,r);gina.linkIsBinded=!0;U.isReady=!0;gina.hasLinkHandler=!0;gina.link=da(gina.link,U);triggerEvent(gina,U.target,'ready.'+U.id,U)});U.initialized=!0;return U}(Ba)}});
define('gina/popin','require jquery vendor/uuid utils/merge utils/routing utils/events'.split(' '),function(F){F('jquery').noConflict();var P=F('vendor/uuid'),da=F('utils/merge');F('utils/routing');F('utils/events');return function(Ba){function M(){var z=null,T;for(T in gina.popin.$popins)if('undefined'!=typeof gina.popin.$popins[T].isOpen&&gina.popin.$popins[T].isOpen){z=gina.popin.$popins[T];break}!z&&gina.popin.activePopinId&&(z=gina.popin.$popins[gina.popin.activePopinId]);return z}function V(z,
T){var X=z.target,xa=z.type;'undefined'!=typeof z.detail&&'function'==typeof z.detail.trim&&(X.innerHTML=z.detail.trim());z=function(cb,sb,Cb){var Jb=Cb.getAttribute('data-gina-popin-is-link');Jb=/^true$/i.test(Jb)?!0:!1;'link'!=cb||Jb||(cb='action');addListener(gina,Cb,sb,function(yb){cancelEvent(yb);if('close'!=cb){var Gb=!1,Kb='loaded.'+T.id;'undefined'==typeof gina.events[Kb]&&addListener(gina,X,Kb,function(Ra){Ra.preventDefault();Gb||(Gb=!0,K(Ra.detail))});Kb={isSynchrone:!1,withCredentials:!1};
Kb=da(T.options,Kb);U(T.name,Cb.href,Kb)}removeListener(gina,yb.target,yb.type)});addListener(gina,Cb,'click',function(yb){cancelEvent(yb);if(null!=yb.target.getAttribute('disabled')&&'false'!=yb.target.getAttribute('disabled'))return!1;if('link'==cb){var Gb=yb.target.getAttribute('target');null!=Gb&&''!=Gb?window.open(linkHref,yb.target.getAttribute('target')):triggerEvent(gina,yb.target,yb.currentTarget.id,T)}else'undefined'==typeof yb.target.id&&(yb.target.setAttribute('id',sb+'.'+P.v4()),yb.target.id=
yb.target.getAttribute('id')),/^popin\.close\./.test(yb.target.id)&&(cancelEvent(yb),T.isRedirecting=!1,qa(T.name)),/^popin\.click\./.test(yb.target.id)&&(cancelEvent(yb),Gb=yb.target.id,(new RegExp('^popin.click.gina-popin-'+J.id)).test(Gb)&&triggerEvent(gina,yb.target,Gb,yb.detail))})};gina.popinIsBinded=!0;var na=null,Ea=null,Ha=null;T.isOpen||addListener(gina,J.target.childNodes[0],'mousedown',function(cb){if(/gina-popin-is-active/.test(cb.target.className)){removeListener(gina,cb.target,'mousedown');
cb=[];na=0;var sb=X.getElementsByTagName('button');Ea=0;Ha=sb.length;if(0<Ha)for(;Ea<Ha;++Ea)/gina-popin-close/.test(sb[Ea].className)&&(cb[na]=sb[Ea],++na);sb=X.getElementsByTagName('div');Ea=0;Ha=sb.length;if(0<Ha)for(;Ea<Ha;++Ea)/gina-popin-close/.test(sb[Ea].className)&&(cb[na]=sb[Ea],++na);sb=X.getElementsByTagName('a');Ea=0;Ha=sb.length;if(0<Ha)for(;Ea<Ha;++Ea)/gina-popin-close/.test(sb[Ea].className)&&(cb[na]=sb[Ea],++na);Ea=0;for(Ha=cb.length;Ea<Ha;++Ea){sb=cb[Ea];let Cb=sb.getAttribute('id');
for(let Jb=0,yb=Ja.length;Jb<yb;Jb++){let Gb=Ja[Jb];'undefined'!=typeof gina.events[Gb]&&gina.events[Gb]==Cb&&removeListener(gina,sb,Gb);'undefined'!=typeof gina.events[Cb]&&gina.events[Cb]==Cb&&removeListener(gina,sb,Cb);'undefined'!=typeof gina.events[Gb+'.'+Cb]&&gina.events[Gb+'.'+Cb]==Cb&&removeListener(gina,sb,Gb+'.'+Cb);'undefined'!=typeof gina.events[Gb+'.'+Cb]&&gina.events[Gb+'.'+Cb]==Gb+'.'+Cb&&removeListener(gina,sb,Gb+'.'+Cb)}}T.isRedirecting=!1;qa(T.name)}});/<form/i.test(X.innerHTML)&&
'undefined'!=typeof q&&q&&(T.hasForm=!0);var Fa=[],va=[],Da=[];va=X.getElementsByTagName('button');Ea=na=0;Ha=va.length;if(0<va.length)for(;Ea<Ha;++Ea)/gina-popin-close/.test(va[Ea].className)&&(Fa[na]=va[Ea],++na);va=X.getElementsByTagName('div');Ea=0;Ha=va.length;if(0<Ha)for(;Ea<Ha;++Ea)/gina-popin-close/.test(va[Ea].className)&&(Fa[na]=va[Ea],++na);va=X.getElementsByTagName('a');Ea=0;Ha=va.length;if(0<Ha)for(;Ea<Ha;++Ea)/gina-popin-close/.test(va[Ea].className)?(Fa[na]=va[Ea],++na):('undefined'==
typeof va[Ea]||/(#|#.*)$/.test(va[Ea].href)||va[Ea].id)&&('undefined'==typeof va[Ea]||/(#|#.*)$/.test(va[Ea].href)||/^(click\.|popin\.link)/.test(va[Ea].id))||Da.push(va[Ea]);var Ta=null;va=null;Ea=0;for(Ha=Fa.length;Ea<Ha;++Ea)'A'==Fa[Ea].tagName&&(Ta=Fa[Ea].getAttribute('onclick')),Ta?'undefined'==typeof Ta||/return false/.test(Ta)||(Ta=/;$/.test(Ta)?Ta+'return false;':Ta+'; return false;'):Fa[Ea].setAttribute('onclick','return false;'),Fa[Ea].id?va=Fa[Ea].id:(va='popin.close.'+P.v4(),Fa[Ea].id=
va,Fa[Ea].setAttribute('id',va)),'undefined'!=typeof gina.events[va]&&gina.events[va]==Fa[Ea].id||z('close',va,Fa[Ea]);na=0;Ha=Da.length;var Va=null,Ua=null,zb=null,Ia={},Na=null,bb=new DOMParser,Ab=null,db=null;for(va=Fa=Fa=null;na<Ha;++na)null==Da[na].getAttribute('disabled')&&(Da[na].id=/^null$/i.test(Da[na].getAttribute('id'))?null:Da[na].getAttribute('id'),Da[na].id&&/^popin\.link/.test(Da[na].id)&&/^popin\.click/.test(Da[na].id)?va=Da[na].id:(va=!0,Fa=Da[na].getAttribute('href'),Fa&&''!=Fa&&
'#'!=Fa||('#'!=Fa&&Da[na].setAttribute('href','#'),va=!1),/^null$/i.test(Da[na].id)?va?(va='popin.link.'+P.v4(),Da[na].setAttribute('data-gina-popin-is-link',!0)):(va='popin.click.'+P.v4(),Da[na].setAttribute('data-gina-popin-is-link',!1)):va=Da[na].id,Da[na].id=va,Da[na].setAttribute('id',va)),Fa=(Fa=Da[na].getAttribute('data-gina-form-submit'))&&/^true$/i.test(Fa)?!0:!1,Fa||(/^(null|\s*)$/.test(Da[na].getAttribute('href'))||addListener(gina,Da[na],'click',function(cb){cb.preventDefault();T.isRedirecting=
!0;if(T.hasForm){Va=T.target.getElementsByTagName('FORM');Ua=0;for(zb=Va.length;Ua<zb;++Ua)if(Ab=cb.currentTarget.id,db=bb.parseFromString(Va.item(Ua).innerHTML,'text/html').getElementById(Ab)||!1)Na=Va[Ua].getAttribute('data-gina-form-inherits-data')||null,Ia=da(Ia,JSON.parse(decodeURIComponent(Na)));0<Ia.count()&&(/\?/.test(cb.currentTarget.href)?cb.currentTarget.href+='&inheritedData='+encodeURIComponent(JSON.stringify(Ia)):cb.currentTarget.href+='?inheritedData='+encodeURIComponent(JSON.stringify(Ia)))}}),
'undefined'!=typeof gina.events[va]&&gina.events[va]==Da[na].id||z('link',va,Da[na])));if(T.hasForm)for(z=null,Da=X.getElementsByTagName('form'),na=0,Ha=Da.length;na<Ha;++na)Da[na].id&&'string'==typeof Da[na]?z=Da[na].id:(z=Da[na].getAttribute('id')||'form.'+P.v4(),Da[na].setAttribute('id',z),Da[na].id=z),0>T.$forms.indexOf(z)&&T.$forms.push(z),Da[na].close=qa,q.isPopinContext=!0,q.validateFormById(Da[na].getAttribute('id')),removeListener(gina,T.target,xa)}function ra(z,T){var X=M();if(gina&&'undefined'!=
typeof window.ginaToolbar&&window.ginaToolbar&&'undefined'!=typeof z&&'undefined'!=typeof T&&z){var xa=z;try{X=null;!T&&xa.error&&/^(\{|\[)/.test(xa.error)&&(xa.error=JSON.parse(xa.error));if('undefined'!=typeof xa.error&&'object'==typeof xa.error&&'object'==typeof xa.error){X={status:xa.status};for(xErr in xa.error)/^error$/.test(xErr)||(X[xErr]=xa.error[xErr]);X.error=xa.error.error;xa=X}else'undefined'!=typeof xa.error&&'string'==typeof xa.error&&(xa=z);xa.isXHRViewData=!0;ginaToolbar.update('data-xhr',
xa);return}catch(na){throw na;}}try{X=w(J.activePopinId)}catch(na){ginaToolbar.update('data-xhr',na)}xa='string'==typeof z&&/<(.*)>/.test(z)?(new DOMParser).parseFromString(z,'text/html').getElementById('gina-without-layout-xhr-data'):document.getElementById('gina-without-layout-xhr-data');if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&xa)try{'undefined'!=typeof xa.value&&xa.value&&(xa=JSON.parse(decodeURIComponent(xa.value)),xa.isXHRViewData=!0,ginaToolbar.update('data-xhr',
xa))}catch(na){throw na;}z='string'==typeof z&&/<(.*)>/.test(z)?(new DOMParser).parseFromString(z,'text/html').getElementById('gina-without-layout-xhr-view'):document.getElementById('gina-without-layout-xhr-view');if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&z)try{'undefined'!=typeof z.value&&z.value&&(z=JSON.parse(decodeURIComponent(z.value)),ginaToolbar.update('view-xhr',z)),ginaToolbar.update('el-xhr',X.id)}catch(na){throw na;}}function U(z,T,X){if('undefined'==typeof z){if('undefined'==
typeof this.name)throw Error('`$popin.name` needs to be defined !');z=this.name}else'undefined'==typeof this.name&&'undefined'!=z&&(this.name=z);var xa=C(z),na=xa.id;gina.popin.activePopinId||(gina.popin.activePopinId=na);var Ea=document.getElementById(na)||null;null==Ea&&(z=xa.options.class+' '+na,Ea=document.createElement('div'),Ea.setAttribute('id',na),Ea.setAttribute('class',z),J.target.firstChild.appendChild(Ea));'undefined'==typeof X?X=N:(z=N.withCredentials,X=da(X,N),X.withCredentials=z);!/^(http|https):/.test(T)||
(new RegExp('^'+window.location.protocol+'//'+window.location.host)).test(T)||(new RegExp(window.location.hostname)).test(T)||(T=T.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+T,X.withCredentials=!1);X.url=T;xa.options=da(X,xa.options);X.withCredentials?'withCredentials'in p?X.isSynchrone?p.open(X.method,X.url,X.isSynchrone):p.open(X.method,X.url):'undefined'!=typeof XDomainRequest?(p=new XDomainRequest,p.open(X.method,X.url)):(p=null,triggerEvent(gina,Ea,'error.'+na,'CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ')):
X.isSynchrone?p.open(X.method,X.url,X.isSynchrone):p.open(X.method,X.url);if(p){p.withCredentials='undefined'!=typeof X.withCredentials?X.withCredentials:!1;p.onerror=function(Fa,va){Fa={status:p.status,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};J.eventData.error=Fa+'/n'+va;ra(Fa,!0);triggerEvent(gina,Ea,'error.'+na,Fa)};for(var Ha in X.headers)p.setRequestHeader(Ha,X.headers[Ha]);p.onreadystatechange=function(Fa){if(4==p.readyState)if(/^2/.test(p.status))try{var va=
p.responseText,Da=p.getResponseHeader('Content-Type'),Ta=/application\/json/.test(Da)?!0:!1;Fa=!0;Ta&&(va=JSON.parse(p.responseText),va.status=p.status,va.contentType=Da,Fa=!1);J.eventData.success=va;if(!Ta&&xa.isOpen&&!xa.hasForm||!Ta&&xa.isOpen&&Fa)K(va,Fa);else{if(Ta&&'undefined'!=typeof va.location||Ta&&'undefined'!=typeof va.reload){Da=!1;'undefined'!=typeof va.isXhrRedirect&&/^true$/i.test(va.isXhrRedirect)&&(Da=!0);if('undefined'!=typeof va.location&&Da){if('undefined'!=typeof va.popin&&'undefined'!=
typeof va.popin.close){xa.isRedirecting=!1;xa.close();var Va=va.popin.reload?va.popin.reload:!1;va.popin.location||va.popin.url||(delete va.popin,Va&&(va.popin={reload:Va}))}Ta='_self';'undefined'!=typeof va.target&&(va.target='_'+va.target,Ta=va.target);if(/^_self$/.test(Ta))return Ta=null,Ta='undefined'!=typeof va.popin?va.popin.location||va.popin.url:va.location,xa.load(xa.name,Ta,xa.options),setTimeout(function(Ua){Ua.isOpen||Ua.open()},50,xa);window.open(va.location,Ta);return}if('undefined'!=
typeof va.location){document.location=va.location;return}if('undefined'!=typeof va.reload){document.location.reload();return}'undefined'!=typeof va.popin&&'undefined'!=typeof va.popin.close&&(xa.isRedirecting=!1,qa(xa.name))}if(!Ta){triggerEvent(gina,Ea,'loaded.'+na,va);return}triggerEvent(gina,$forms[0],'success.'+na,va)}GINA_ENV_IS_DEV&&ra(va)}catch(Ua){Ta=!1,va={status:422,error:Ua.description||Ua.stack},/application\/json/.test(p.getResponseHeader('Content-Type'))&&(va.error=JSON.parse(p.responseText),
Ta=!0),J.eventData.error=va,GINA_ENV_IS_DEV&&ra(va,Ta),triggerEvent(gina,Ea,'error.'+na,va)}else Ta=!1,va={status:p.status,error:p.responseText},/application\/json/.test(p.getResponseHeader('Content-Type'))&&(va.error=JSON.parse(p.responseText),Ta=!0),J.eventData.error=va,GINA_ENV_IS_DEV&&ra(va,Ta),triggerEvent(gina,Ea,'error.'+na,va)};p.send();return{open:function(){var Fa=!1;addListener(gina,Ea,'loaded.'+na,function(va){va.preventDefault();Fa||(Fa=!0,J.activePopinId=xa.id,V(va,xa),aa(xa.name))})}}}}
function K(z,T){var X=M();if(X){if(!X.isOpen)throw Error('Popin `'+X.name+'` is not open !');X.isRedirecting='undefined'!=typeof T?T:!1;T=X.target;T.innerHTML=z.trim();v(X.name,!0);V({target:T,type:'loaded.'+X.id},X);X.isRedirecting?triggerEvent(gina,J.target,'loaded.'+X.id,X):triggerEvent(gina,J.target,'open.'+X.id,X)}}function n(z){var T=setupXhr();T.open('GET',z,!0);T.setRequestHeader('Content-Type','text/javascript');T.onload=function(){eval(T.response)};T.send()}function aa(z){var T='undefined'!=
typeof z?C(z):w(this.id);if(!T)throw Error('Popin name `'+z+'` not found !');z=document.getElementById(T.id);var X=T.parentScripts,xa=z.getElementsByTagName('script'),na=0,Ea=xa.length,Ha=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');for(Ha=new RegExp(Ha+':\\d+|'+Ha);na<Ea;++na){if('undefined'==typeof xa[na].src||''==xa[na].src)continue;let Fa=xa[na].src.replace(/(https|http|):\/\//,'').replace(Ha,'');-1<X.indexOf(Fa)||n(xa[na].src)}V({target:z,type:'loaded.'+T.id},T);
/gina-popin-is-active/.test(z.className)||(z.className+=' gina-popin-is-active');/gina-popin-is-active/.test(J.target.firstChild.className)||(J.target.firstChild.className+=' gina-popin-is-active');/gina-popin-is-active/.test(J.target.firstChild.className)&&removeListener(gina,J.target,'open.'+T.id);T.isOpen=!0;T.target=z;J.activePopinId=T.id;GINA_ENV_IS_DEV&&ra();triggerEvent(gina,J.target,'open.'+T.id,T)}function v(z,T){var X='undefined'!=typeof z?C(z):M();if(!X&&'undefined'!=typeof z)throw Error('Popin `'+
z+'` not found !');if('undefined'!=typeof X&&null!=X&&(z=X.target,T='undefined'!=typeof T?T:!1,null!=z&&/gina-popin-is-active/.test(z.className))){T||(J.target.firstChild.className=J.target.firstChild.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,''),z.className=z.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,''),z.innerHTML='');if(q&&(T=0,z=X.$forms.length,q.$forms&&0<z))for(;T<z;++T)'undefined'!=typeof q.$forms[X.$forms[T]]&&
q.$forms[X.$forms[T]].destroy(),X.$forms.splice(T,1);gina.popinIsBinded=!1;removeListener(gina,X.target,'loaded.'+X.id)}}function qa(z){if('undefined'==typeof z&&/^true$/.test(this.isOpen)){z=this.name;var T=this}else{T=C(z)||M();if(!T)return;z=T.name}if(!T&&'undefined'!=typeof z)throw Error('Popin `'+z+'` not found !');if(T.isOpen&&'undefined'!=typeof T&&null!=T&&!T.isRedirecting){var X=T.target;removeListener(gina,T.target,'ready.'+J.id);T.hasForm&&(T.hasForm=!1);if(null!=X&&/gina-popin-is-active/.test(X.className)){v(z);
T.isOpen=!1;gina.popinIsBinded=!1;GINA_ENV_IS_DEV&&gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&ginaToolbar.restore();J.activePopinId=null;if(0<T.$headers.length){z=0;X=T.$headers.length;try{for(;z<X;++z)document.getElementById(T.$headers[z].id).remove()}catch(xa){console.warn('Could not remove script `'+T.$headers[z].id+'`\n'+xa.stack)}T.$headers=[]}triggerEvent(gina,T.target,'close.'+T.id,T)}}}this.plugin='popin';var Ja='init loaded ready open close click destroy success error progress'.split(' ');
registerEvents(this.plugin,Ja);var R={name:void 0,'class':'gina-popin-default'},J={plugin:this.plugin,id:'gina-popins-'+P.v4(),on,eventData:{},$popins:{},activePopinId:null,getActivePopin:null,target:document,isReady:!1,initialized:!1},r={plugin:this.plugin,on,eventData:{},target:document,name:null,load:null,loadContent:null,open:null,isOpen:!1,isRedirecting:!1,close:null,$forms:[],hasForm:!1,$headers:[]},q=null,p=null,H=[],I=function(){var z=document.createElement('div');z.id=J.id;z.setAttribute('id',
J.id);z.setAttribute('class','gina-popins');var T=document.createElement('div');T.setAttribute('id','gina-popins-overlay');T.setAttribute('class','gina-popins-overlay');z.appendChild(T);document.body.appendChild(z);J.target=z;J.on=on;gina.popinContainer=J.id},x=function(z,T,X){addListener(gina,z,'click',function(xa){cancelEvent(xa);triggerEvent(gina,T,X)})},w=function(z){return'undefined'!=typeof J.$popins[z]?J.$popins[z]:null},C=function(z){var T=null,X;for(X in J.$popins)if(J.$popins[X].name===
z){T=J.$popins[X];break}return T},E=function(z,T){T=getElementsByAttribute('data-gina-popin-name');var X=null,xa=null,na=null,Ea=null,Ha=null,Fa=null;Ha=0;for(Fa=T.length;Ha<Fa;++Ha){X=T[Ha];xa=X.getAttribute('data-gina-popin-name');'A'==X.tagName&&(na=X.getAttribute('href'),''==na||'#'==na||/#/.test(na))&&(na=null);na||'undefined'==typeof X.getAttribute('data-gina-popin-url')||(na=X.getAttribute('data-gina-popin-url'));if(!na)throw Error('Found `data-gina-popin-name` without `url` !');X.url||(X.url=
na);X.popinName||(X.popinName=xa);if(xa==z.name&&(Ea='popin.click.gina-popin-'+J.id+'-'+P.v4()+'-'+xa,X.id=Ea,X.setAttribute('id',Ea),!gina.events[Ea])){addListener(gina,X,Ea,function(Da){cancelEvent(Da);var Ta=!1;addListener(gina,z.target,'loaded.'+z.id,function(Ua){Ua.preventDefault();Ta||(Ta=!0,console.debug('active popin should be ',z.id),gina.popin.activePopinId=z.id,V(Ua,z),z.isOpen||aa(z.name))});Da={isSynchrone:!1,withCredentials:!1};Da=da(z.options,Da);var Va=this.getAttribute('data-gina-popin-url')||
this.getAttribute('href');if(!Va)throw Error('Popin `url` not defined, please check value for `data-gina-popin-url`');U(z.name,Va,Da)});xa=X.childNodes;var va=0;lLen=xa.length;if(0<lLen)for(;va<lLen;++va)'undefined'!=typeof xa[va].tagName&&x(xa[va],X,Ea)}}Ea='click';addListener(gina,document,Ea,function(Da){if(null!=Da.target.getAttribute('disabled')&&'false'!=Da.target.getAttribute('disabled'))return!1;'undefined'==typeof Da.target.id&&(Da.target.setAttribute('id',Ea+'.'+P.v4()),Da.target.id=Da.target.getAttribute('id'));
if(/^popin\.close\./.test(Da.target.id)){cancelEvent(Da);var Ta=Da.target.id;triggerEvent(gina,Da.target,Ta,Da.detail)}/^popin\.click\./.test(Da.target.id)&&(cancelEvent(Da),Ta=Da.target.id,(new RegExp('^popin.click.gina-popin-'+J.id)).test(Ta)&&triggerEvent(gina,Da.target,Ta,Da.detail))});gina.popinIsBinded=!1},N={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}};gina.hasPopinHandler?(J.target=document.getElementById(gina.popinContainer),J.on=on):
I();return function(z){J.getPopinById=w;J.getPopinByName=C;J.load=U;J.loadContent=K;J.getActivePopin=M;J.open=aa;J.close=qa;addListener(gina,J.target,'init.'+J.id,function(T){T=null;if('undefined'==typeof J.$popins['gina-popin-'+J.id+'-'+z.name]){var X=T=da({},r);if('object'!=typeof z)throw Error('`options` must be an object');X.options=da(z,R);X.id='gina-popin-'+J.id+'-'+X.options.name;if('undefined'==typeof J.$popins[X.id]){if('string'!=typeof X.options.name||''==X.options.name)throw Error('`options.name` can not be left `empty` or `undefined`');
if(-1<H.indexOf(X.options.name))throw Error('`popin '+X.options.name+'` already exists !');'undefined'!=typeof X.options.validator&&(q=X.options.validator,X.validateFormById=q.validateFormById);X.options['class']='gina-popin-container '+X.options['class'];X.name=X.options.name;X.target=J.target;X.load=U;X.loadContent=K;X.open=aa;X.close=qa;GINA_ENV_IS_DEV&&(X.updateToolbar=ra);X.parentScripts=[];X.parentStyles=[];var xa=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');xa=
new RegExp(xa+':\\d+|'+xa);var na=document.getElementsByTagName('script');for(let Ha=0,Fa=na.length;Ha<Fa;Ha++)if(na[Ha].src&&''!=na[Ha].src){var Ea=na[Ha].src.replace(/(https|http|):\/\//,'').replace(xa,'');X.parentScripts[Ha]=Ea}na=document.getElementsByTagName('link');for(let Ha=0,Fa=na.length;Ha<Fa;Ha++)'undefined'!=typeof na[Ha].rel&&/stylesheet/i.test(na[Ha].rel)&&(Ea=na[Ha].href.replace(/(https|http|):\/\//,'').replace(xa,''),X.parentStyles[Ha]=Ea);J.$popins[X.id]=X;if(window.XMLHttpRequest)p=
new XMLHttpRequest;else if(window.ActiveXObject)try{p=new ActiveXObject('Msxml2.XMLHTTP')}catch(Ha){try{p=new ActiveXObject('Microsoft.XMLHTTP')}catch(Fa){}}E(X)}}J.isReady=!0;gina.hasPopinHandler=!0;gina.popin=da(gina.popin,J);triggerEvent(gina,J.target,'ready.'+J.id,T)});J.initialized=!0;return J}(Ba)}});function fadeIn(F){var P=.1;F.style.display='block';var da=setInterval(function(){1<=P&&clearInterval(da);F.style.opacity=P;F.style.filter='alpha(opacity='+100*P+')';P+=.1*P},10)}
function fadeOut(F){var P=1,da=setInterval(function(){.1>=P&&(clearInterval(da),F.style.display='none');F.style.opacity=P;F.style.filter='alpha(opacity='+100*P+')';P-=.1*P},50)}define('utils/effects',function(){});
'function'!==typeof Object.assign&&Object.defineProperty(Object,'assign',{value:function(F,P){if(null===F||void 0===F)throw new TypeError('Cannot convert undefined or null to object');for(var da=Object(F),Ba=1;Ba<arguments.length;Ba++){var M=arguments[Ba];if(null!==M&&void 0!==M)for(var V in M)Object.prototype.hasOwnProperty.call(M,V)&&(da[V]=M[V])}return da},writable:!0,configurable:!0});
if('undefined'==typeof JSON.clone){var clone=function(F,P){if(null==F||'object'!=typeof F||F.constructor!=Object&&F.constructor!=Array)return F;if(F.constructor==Date||F.constructor==RegExp||F.constructor==Function||F.constructor==String||F.constructor==Number||F.constructor==Boolean)return new F.constructor(F);P=P||new F.constructor;for(var da=0,Ba=Object.getOwnPropertyNames(F).length||0,M=Object.keys(F);da<Ba;)P[M[da]]='undefined'==typeof P[M[da]]?clone(F[M[da]],null):P[M[da]],da++;return P};JSON.clone=
clone}if('undefined'==typeof JSON.escape){var escape=function(F){try{return F.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(P){throw P;}};JSON.escape=escape}define('utils/polyfill',function(){});
function Inherits(F,P){return function(da,Ba){var M='undefined'==typeof da||'undefined'==typeof Ba?"inherits(a, b): neither [ a ] nor [ b ] can't be undefined or null":!1;if(M)throw Error(M);M=function(){return function(){if(this){this.prototype=da.prototype;this.name||(this.name=da.name);this.prototype.name=this.name;for(var V in Ba.prototype)this[V]||(this[V]=Ba.prototype[V]);Ba.apply(this,arguments);da.apply(this,arguments)}}}(da,Ba);void 0==da.prototype&&(da.prototype={});void 0==Ba.prototype&&
(Ba.prototype={});da.prototype=Object.create(Ba.prototype,{});M.prototype=Object.create(da.prototype,{});return M}}'undefined'!==typeof module&&module.exports?module.exports=Inherits():'function'===typeof define&&define.amd&&define('utils/inherits',[],function(){return Inherits()});var readyList=[{name:'gina',ctx:window.gina,fn:window.onGinaLoaded}],readyFired=!1,readyEventHandlersInstalled=!1;
function ready(){if(!readyFired){readyFired=!0;var F=null,P=function(da,Ba){if(Ba[da])if('gina'==Ba[da].name)var M=window.setInterval(function(V,ra){try{if('undefined'==typeof ra&&(ra=window.readyList),ra[V].ctx=window.gina,F=ra[V].fn.call(window,ra[V].ctx,window.require))window.clearInterval(M),++V,P(V,ra)}catch(U){throw window.clearInterval(M),U;}},50,da,Ba);else window.$||'undefined'==typeof parent.window.$||(window.$=parent.window.$),'undefined'==typeof window.originalContext&&'undefined'!=typeof window.$&&
(window.originalContext=window.$),Ba[da].ctx=window.originalContext||$,Ba[da].fn.call(window,Ba[da].ctx,window.require),++da,P(da,Ba);else Ba=[]};P(0,readyList)}}function readyStateChange(){'complete'===document.readyState&&gina.ready()}
if('undefined'==typeof window.gina){var gina={ready:function(F,P){readyFired?setTimeout(function(){F(P)},1):(readyList.push({name:'anonymous',fn:F,ctx:P}),'complete'===document.readyState||!document.attachEvent&&'interactive'===document.readyState?setTimeout(ready,1):readyEventHandlersInstalled||(document.addEventListener?(document.addEventListener('DOMContentLoaded',ready,!1),window.addEventListener('load',ready,!1)):(document.attachEvent('onreadystatechange',readyStateChange),window.attachEvent('onload',
ready)),readyEventHandlersInstalled=!0))}};window.gina=gina}define('core',['require','gina'],function(F){F('gina')(window.gina)});require.config({packages:['gina']});require('vendor/uuid vendor/engine.io core helpers/prototypes helpers/binding helpers/dateFormat gina/link gina/validator gina/popin gina/storage utils/dom utils/events utils/effects utils/polyfill utils/inherits utils/form-validator utils/collection utils/routing'.split(' '));
for(var tags=document.getElementsByTagName('script'),t=0,len=tags.length;t<len;++t)if(/gina.min.js|gina.js/.test(tags[t].getAttribute('src'))){tags[t].onload=function(F){if(window.onGinaLoaded)var P=window.onGinaLoaded;document.addEventListener?document.addEventListener('ginaloaded',function(da){window.gina=da.detail;P(da.detail)}):document.attachEvent&&document.attachEvent('ginaloaded',function(da){window.gina=da.detail;P(da.detail)})}();break};
