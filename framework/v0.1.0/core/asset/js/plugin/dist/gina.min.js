/*
 RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license  @source https://gist.github.com/1129031  Engine.IO v6.1.1
 (c) 2014-2021 Guillermo Rauch
 Released under the MIT License.
*/
var requirejs,require,define;
(function(E,M){function da(Ja,Na){return Na||''}function Ga(Ja){return'[object Function]'===X.call(Ja)}function L(Ja){return'[object Array]'===X.call(Ja)}function T(Ja,Na){if(Ja){var ab;for(ab=0;ab<Ja.length&&(!Ja[ab]||!Na(Ja[ab],ab,Ja));ab+=1);}}function ra(Ja,Na){if(Ja){var ab;for(ab=Ja.length-1;-1<ab&&(!Ja[ab]||!Na(Ja[ab],ab,Ja));--ab);}}function U(Ja,Na){return xa.call(Ja,Na)}function Y(Ja,Na){return U(Ja,Na)&&Ja[Na]}function m(Ja,Na){for(var ab in Ja)if(U(Ja,ab)&&Na(Ja[ab],ab))break}function R(Ja,
Na,ab,Ab){Na&&m(Na,function(db,cb){if(ab||!U(Ja,cb))!Ab||'object'!==typeof db||!db||L(db)||Ga(db)||db instanceof RegExp?Ja[cb]=db:(Ja[cb]||(Ja[cb]={}),R(Ja[cb],db,ab,Ab))});return Ja}function v(Ja,Na){return function(){return Na.apply(Ja,arguments)}}function qa(Ja){throw Ja;}function Ha(Ja){if(!Ja)return Ja;var Na=E;T(Ja.split('.'),function(ab){Na=Na[ab]});return Na}function Q(Ja,Na,ab,Ab){Na=Error(Na+'\nhttps://requirejs.org/docs/errors.html#'+Ja);Na.requireType=Ja;Na.requireModules=Ab;ab&&(Na.originalError=
ab);return Na}function J(){if(H&&'interactive'===H.readyState)return H;ra(document.getElementsByTagName('script'),function(Ja){if('interactive'===Ja.readyState)return H=Ja});return H}var u,p,q,H,I,w,x,B=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,F=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,N=/\.js$/,y=/^\.\//;var S=Object.prototype;var X=S.toString,xa=S.hasOwnProperty,na=!('undefined'===typeof window||'undefined'===typeof navigator||!window.document),Da=!na&&'undefined'!==typeof importScripts,
Ia=na&&'PLAYSTATION 3'===navigator.platform?/^complete$/:/^(complete|loaded)$/,Ea='undefined'!==typeof opera&&'[object Opera]'===opera.toString(),va={},Ca={},Ta=[],Va=!1;if('undefined'===typeof define){if('undefined'!==typeof requirejs){if(Ga(requirejs))return;Ca=requirejs;requirejs=void 0}'undefined'===typeof require||Ga(require)||(Ca=require,require=void 0);var Ua=requirejs=function(Ja,Na,ab,Ab){var db='_';if(!L(Ja)&&'string'!==typeof Ja){var cb=Ja;L(Na)?(Ja=Na,Na=ab,ab=Ab):Ja=[]}cb&&cb.context&&
(db=cb.context);(Ab=Y(va,db))||(Ab=va[db]=Ua.s.newContext(db));cb&&Ab.configure(cb);return Ab.require(Ja,Na,ab)};Ua.config=function(Ja){return Ua(Ja)};Ua.nextTick='undefined'!==typeof M?function(Ja){M(Ja,4)}:function(Ja){Ja()};require||=Ua;Ua.version='2.3.6';Ua.jsExtRegExp=/^\/|:|\?|\.js$/;Ua.isBrowser=na;S=Ua.s={contexts:va,newContext:function(Ja){function Na(r,fa,ta){var ka;fa=fa&&fa.split('/');var ia=ya.map,Ba=ia&&ia['*'];if(r){r=r.split('/');var za=r.length-1;ya.nodeIdCompat&&N.test(r[za])&&(r[za]=
r[za].replace(N,''));'.'===r[0].charAt(0)&&fa&&(za=fa.slice(0,fa.length-1),r=za.concat(r));za=r;for(ka=0;ka<za.length;ka++){var bb=za[ka];'.'===bb?(za.splice(ka,1),--ka):'..'===bb&&0!==ka&&(1!==ka||'..'!==za[2])&&'..'!==za[ka-1]&&0<ka&&(za.splice(ka-1,2),ka-=2)}r=r.join('/')}if(ta&&ia&&(fa||Ba)){za=r.split('/');ka=za.length;a:for(;0<ka;--ka){var Wa=za.slice(0,ka).join('/');if(fa)for(bb=fa.length;0<bb;--bb)if(ta=Y(ia,fa.slice(0,bb).join('/')))if(ta=Y(ta,Wa)){var rb=ta;var Bb=ka;break a}if(!Mb&&Ba&&
Y(Ba,Wa)){var Mb=Y(Ba,Wa);var ib=ka}}!rb&&Mb&&(rb=Mb,Bb=ib);rb&&(za.splice(0,Bb,rb),r=za.join('/'))}return(rb=Y(ya.pkgs,r))?rb:r}function ab(r){na&&T(document.getElementsByTagName('script'),function(fa){if(fa.getAttribute('data-requiremodule')===r&&fa.getAttribute('data-requirecontext')===P.contextName)return fa.parentNode.removeChild(fa),!0})}function Ab(r){var fa=Y(ya.paths,r);if(fa&&L(fa)&&1<fa.length)return fa.shift(),P.require.undef(r),P.makeRequire(null,{skipMap:!0})([r]),!0}function db(r){var fa=
r?r.indexOf('!'):-1;if(-1<fa){var ta=r.substring(0,fa);r=r.substring(fa+1,r.length)}return[ta,r]}function cb(r,fa,ta,ka){var ia=null,Ba=fa?fa.name:null,za=r,bb=!0,Wa='';r||(bb=!1,r='_@r'+(C+=1));r=db(r);ia=r[0];r=r[1];if(ia){ia=Na(ia,Ba,ka);var rb=Y(n,ia)}if(r)if(ia)Wa=ta?r:rb&&rb.normalize?rb.normalize(r,function(Mb){return Na(Mb,Ba,ka)}):-1===r.indexOf('!')?Na(r,Ba,ka):r;else{Wa=Na(r,Ba,ka);r=db(Wa);ia=r[0];Wa=r[1];ta=!0;var Bb=P.nameToUrl(Wa)}ta=!ia||rb||ta?'':'_unnormalized'+(V+=1);return{prefix:ia,
name:Wa,parentMap:fa,unnormalized:!!ta,url:Bb,originalName:za,isDefine:bb,id:(ia?ia+'!'+Wa:Wa)+ta}}function sb(r){var fa=r.id,ta=Y(Oa,fa);ta||=Oa[fa]=new P.Module(r);return ta}function Cb(r,fa,ta){var ka=r.id,ia=Y(Oa,ka);if(!U(n,ka)||ia&&!ia.defineEmitComplete)if(ia=sb(r),ia.error&&'error'===fa)ta(ia.error);else ia.on(fa,ta);else'defined'===fa&&ta(n[ka])}function Jb(r,fa){var ta=r.requireModules,ka=!1;if(fa)fa(r);else if(T(ta,function(ia){if(ia=Y(Oa,ia))ia.error=r,ia.events.error&&(ka=!0,ia.emit('error',
r))}),!ka)Ua.onError(r)}function yb(){Ta.length&&(T(Ta,function(r){var fa=r[0];'string'===typeof fa&&(P.defQueueMap[fa]=!0);g.push(r)}),Ta=[])}function Gb(r){delete Oa[r];delete k[r]}function Kb(r,fa,ta){var ka=r.map.id;r.error?r.emit('error',r.error):(fa[ka]=!0,T(r.depMaps,function(ia,Ba){ia=ia.id;var za=Y(Oa,ia);!za||r.depMatched[Ba]||ta[ia]||(Y(fa,ia)?(r.defineDep(Ba,n[ia]),r.check()):Kb(za,fa,ta))}),ta[ka]=!0)}function Ra(){var r,fa,ta=(r=1E3*ya.waitSeconds)&&P.startTime+r<(new Date).getTime(),
ka=[],ia=[],Ba=!1,za=!0;if(!W){W=!0;m(k,function(bb){var Wa=bb.map,rb=Wa.id;if(bb.enabled&&(Wa.isDefine||ia.push(bb),!bb.error))if(!bb.inited&&ta)Ab(rb)?Ba=fa=!0:(ka.push(rb),ab(rb));else if(!bb.inited&&bb.fetched&&Wa.isDefine&&(Ba=!0,!Wa.prefix))return za=!1});if(ta&&ka.length)return r=Q('timeout','Load timeout for modules: '+ka,null,ka),r.contextName=P.contextName,Jb(r);za&&T(ia,function(bb){Kb(bb,{},{})});ta&&!fa||!Ba||!na&&!Da||oa||(oa=M(function(){oa=0;Ra()},50));W=!1}}function la(r){U(n,r[0])||
sb(cb(r[0],null,!0)).init(r[1],r[2])}function wa(r){r=r.currentTarget||r.srcElement;var fa=P.onScriptLoad;r.detachEvent&&!Ea?r.detachEvent('onreadystatechange',fa):r.removeEventListener('load',fa,!1);fa=P.onScriptError;r.detachEvent&&!Ea||r.removeEventListener('error',fa,!1);return{node:r,id:r&&r.getAttribute('data-requiremodule')}}function La(){for(yb();g.length;){var r=g.shift();if(null===r[0])return Jb(Q('mismatch','Mismatched anonymous define() module: '+r[r.length-1]));la(r)}P.defQueueMap={}}
var W,oa,ya={waitSeconds:7,baseUrl:'./',paths:{},bundles:{},pkgs:{},shim:{},config:{}},Oa={},k={},b={},g=[],n={},A={},z={},C=1,V=1;var O={require:function(r){return r.require?r.require:r.require=P.makeRequire(r.map)},exports:function(r){r.usingExports=!0;if(r.map.isDefine)return r.exports?n[r.map.id]=r.exports:r.exports=n[r.map.id]={}},module:function(r){return r.module?r.module:r.module={id:r.map.id,uri:r.map.url,config:function(){return Y(ya.config,r.map.id)||{}},exports:r.exports||(r.exports={})}}};
var ba=function(r){this.events=Y(b,r.id)||{};this.map=r;this.shim=Y(ya.shim,r.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};ba.prototype={init:function(r,fa,ta,ka){ka=ka||{};if(!this.inited){this.factory=fa;if(ta)this.on('error',ta);else this.events.error&&(ta=v(this,function(ia){this.emit('error',ia)}));this.depMaps=r&&r.slice(0);this.errback=ta;this.inited=!0;this.ignore=ka.ignore;ka.enabled||this.enabled?this.enable():this.check()}},defineDep:function(r,
fa){this.depMatched[r]||(this.depMatched[r]=!0,--this.depCount,this.depExports[r]=fa)},fetch:function(){if(!this.fetched){this.fetched=!0;P.startTime=(new Date).getTime();var r=this.map;if(this.shim)P.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],v(this,function(){return r.prefix?this.callPlugin():this.load()}));else return r.prefix?this.callPlugin():this.load()}},load:function(){var r=this.map.url;A[r]||(A[r]=!0,P.load(this.map.id,r))},check:function(){if(this.enabled&&!this.enabling){var r=
this.map.id;var fa=this.depExports;var ta=this.exports,ka=this.factory;if(!this.inited)U(P.defQueueMap,r)||this.fetch();else if(this.error)this.emit('error',this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(Ga(ka)){if(this.events.error&&this.map.isDefine||Ua.onError!==qa)try{ta=P.execCb(r,ka,fa,ta)}catch(za){var ia=za}else ta=P.execCb(r,ka,fa,ta);this.map.isDefine&&void 0===ta&&((fa=this.module)?ta=fa.exports:this.usingExports&&(ta=this.exports));if(ia)return ia.requireMap=
this.map,ia.requireModules=this.map.isDefine?[this.map.id]:null,ia.requireType=this.map.isDefine?'define':'require',Jb(this.error=ia)}else ta=ka;this.exports=ta;if(this.map.isDefine&&!this.ignore&&(n[r]=ta,Ua.onResourceLoad)){var Ba=[];T(this.depMaps,function(za){Ba.push(za.normalizedMap||za)});Ua.onResourceLoad(P,this.map,Ba)}Gb(r);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit('defined',this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var r=
this.map,fa=r.id,ta=cb(r.prefix);this.depMaps.push(ta);Cb(ta,'defined',v(this,function(ka){var ia=Y(z,this.map.id),Ba=this.map.name,za=this.map.parentMap?this.map.parentMap.name:null,bb=P.makeRequire(r.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){ka.normalize&&(Ba=ka.normalize(Ba,function(Bb){return Na(Bb,za,!0)})||'');var Wa=cb(r.prefix+'!'+Ba,this.map.parentMap,!0);Cb(Wa,'defined',v(this,function(Bb){this.map.normalizedMap=Wa;this.init([],function(){return Bb},null,{enabled:!0,
ignore:!0})}));if(ka=Y(Oa,Wa.id)){this.depMaps.push(Wa);if(this.events.error)ka.on('error',v(this,function(Bb){this.emit('error',Bb)}));ka.enable()}}else if(ia)this.map.url=P.nameToUrl(ia),this.load();else{var rb=v(this,function(Bb){this.init([],function(){return Bb},null,{enabled:!0})});rb.error=v(this,function(Bb){this.inited=!0;this.error=Bb;Bb.requireModules=[fa];m(Oa,function(Mb){0===Mb.map.id.indexOf(fa+'_unnormalized')&&Gb(Mb.map.id)});Jb(Bb)});rb.fromText=v(this,function(Bb,Mb){var ib=r.name,
Db=cb(ib),Wb=Va;Mb&&(Bb=Mb);Wb&&(Va=!1);sb(Db);U(ya.config,fa)&&(ya.config[ib]=ya.config[fa]);try{Ua.exec(Bb)}catch(Za){return Jb(Q('fromtexteval','fromText eval for '+fa+' failed: '+Za,Za,[fa]))}Wb&&(Va=!0);this.depMaps.push(Db);P.completeLoad(ib);bb([ib],rb)});ka.load(r.name,bb,rb,ya)}}));P.enable(ta,this);this.pluginMaps[ta.id]=ta},enable:function(){k[this.map.id]=this;this.enabling=this.enabled=!0;T(this.depMaps,v(this,function(r,fa){var ta;if('string'===typeof r){r=cb(r,this.map.isDefine?this.map:
this.map.parentMap,!1,!this.skipMap);this.depMaps[fa]=r;if(ta=Y(O,r.id)){this.depExports[fa]=ta(this);return}this.depCount+=1;Cb(r,'defined',v(this,function(ia){this.undefed||(this.defineDep(fa,ia),this.check())}));this.errback?Cb(r,'error',v(this,this.errback)):this.events.error&&Cb(r,'error',v(this,function(ia){this.emit('error',ia)}))}ta=r.id;var ka=Oa[ta];U(O,ta)||!ka||ka.enabled||P.enable(r,this)}));m(this.pluginMaps,v(this,function(r){var fa=Y(Oa,r.id);fa&&!fa.enabled&&P.enable(r,this)}));this.enabling=
!1;this.check()},on:function(r,fa){var ta=this.events[r];ta||=this.events[r]=[];ta.push(fa)},emit:function(r,fa){T(this.events[r],function(ta){ta(fa)});'error'===r&&delete this.events[r]}};var P={config:ya,contextName:Ja,registry:Oa,defined:n,urlFetched:A,defQueue:g,defQueueMap:{},Module:ba,makeModuleMap:cb,nextTick:Ua.nextTick,onError:Jb,configure:function(r){r.baseUrl&&'/'!==r.baseUrl.charAt(r.baseUrl.length-1)&&(r.baseUrl+='/');if('string'===typeof r.urlArgs){var fa=r.urlArgs;r.urlArgs=function(ia,
Ba){return(-1===Ba.indexOf('?')?'?':'&')+fa}}var ta=ya.shim,ka={paths:!0,bundles:!0,config:!0,map:!0};m(r,function(ia,Ba){ka[Ba]?(ya[Ba]||(ya[Ba]={}),R(ya[Ba],ia,!0,!0)):ya[Ba]=ia});r.bundles&&m(r.bundles,function(ia,Ba){T(ia,function(za){za!==Ba&&(z[za]=Ba)})});r.shim&&(m(r.shim,function(ia,Ba){L(ia)&&(ia={deps:ia});!ia.exports&&!ia.init||ia.exportsFn||(ia.exportsFn=P.makeShimExports(ia));ta[Ba]=ia}),ya.shim=ta);r.packages&&T(r.packages,function(ia){ia='string'===typeof ia?{name:ia}:ia;var Ba=ia.name;
ia.location&&(ya.paths[Ba]=ia.location);ya.pkgs[Ba]=ia.name+'/'+(ia.main||'main').replace(y,'').replace(N,'')});m(Oa,function(ia,Ba){ia.inited||ia.map.unnormalized||(ia.map=cb(Ba,null,!0))});(r.deps||r.callback)&&P.require(r.deps||[],r.callback)},makeShimExports:function(r){return function(){var fa;r.init&&(fa=r.init.apply(E,arguments));return fa||r.exports&&Ha(r.exports)}},makeRequire:function(r,fa){function ta(ka,ia,Ba){var za;fa.enableBuildCallback&&ia&&Ga(ia)&&(ia.__requireJsBuild=!0);if('string'===
typeof ka){if(Ga(ia))return Jb(Q('requireargs','Invalid require call'),Ba);if(r&&U(O,ka))return O[ka](Oa[r.id]);if(Ua.get)return Ua.get(P,ka,r,ta);var bb=cb(ka,r,!1,!0);bb=bb.id;return U(n,bb)?n[bb]:Jb(Q('notloaded','Module name "'+bb+'" has not been loaded yet for context: '+Ja+(r?'':'. Use require([])')))}La();P.nextTick(function(){La();za=sb(cb(null,r));za.skipMap=fa.skipMap;za.init(ka,ia,Ba,{enabled:!0});Ra()});return ta}fa=fa||{};R(ta,{isBrowser:na,toUrl:function(ka){var ia=ka.lastIndexOf('.'),
Ba=ka.split('/')[0];if(-1!==ia&&('.'!==Ba&&'..'!==Ba||1<ia)){var za=ka.substring(ia,ka.length);ka=ka.substring(0,ia)}return P.nameToUrl(Na(ka,r&&r.id,!0),za,!0)},defined:function(ka){return U(n,cb(ka,r,!1,!0).id)},specified:function(ka){ka=cb(ka,r,!1,!0).id;return U(n,ka)||U(Oa,ka)}});r||(ta.undef=function(ka){yb();var ia=cb(ka,r,!0),Ba=Y(Oa,ka);Ba.undefed=!0;ab(ka);delete n[ka];delete A[ia.url];delete b[ka];ra(g,function(za,bb){za[0]===ka&&g.splice(bb,1)});delete P.defQueueMap[ka];Ba&&(Ba.events.defined&&
(b[ka]=Ba.events),Gb(ka))});return ta},enable:function(r){Y(Oa,r.id)&&sb(r).enable()},completeLoad:function(r){var fa=Y(ya.shim,r)||{},ta=fa.exports;for(yb();g.length;){var ka=g.shift();if(null===ka[0]){ka[0]=r;if(ia)break;var ia=!0}else ka[0]===r&&(ia=!0);la(ka)}P.defQueueMap={};ka=Y(Oa,r);if(!ia&&!U(n,r)&&ka&&!ka.inited)if(!ya.enforceDefine||ta&&Ha(ta))la([r,fa.deps||[],fa.exportsFn]);else return Ab(r)?void 0:Jb(Q('nodefine','No define call for '+r,null,[r]));Ra()},nameToUrl:function(r,fa,ta){var ka,
ia;(ka=Y(ya.pkgs,r))&&(r=ka);if(ka=Y(z,r))return P.nameToUrl(ka,fa,ta);if(Ua.jsExtRegExp.test(r))ka=r+(fa||'');else{ka=ya.paths;var Ba=r.split('/');for(ia=Ba.length;0<ia;--ia){var za=Ba.slice(0,ia).join('/');if(za=Y(ka,za)){L(za)&&(za=za[0]);Ba.splice(0,ia,za);break}}ka=Ba.join('/');ka+=fa||(/^data:|^blob:|\?/.test(ka)||ta?'':'.js');ka=('/'===ka.charAt(0)||ka.match(/^[\w\+\.\-]+:/)?'':ya.baseUrl)+ka}return ya.urlArgs&&!/^blob:/.test(ka)?ka+ya.urlArgs(r,ka):ka},load:function(r,fa){Ua.load(P,r,fa)},
execCb:function(r,fa,ta,ka){return fa.apply(ka,ta)},onScriptLoad:function(r){if('load'===r.type||Ia.test((r.currentTarget||r.srcElement).readyState))H=null,r=wa(r),P.completeLoad(r.id)},onScriptError:function(r){var fa=wa(r);if(!Ab(fa.id)){var ta=[];m(Oa,function(ka,ia){0!==ia.indexOf('_@r')&&T(ka.depMaps,function(Ba){if(Ba.id===fa.id)return ta.push(ia),!0})});return Jb(Q('scripterror','Script error for "'+fa.id+(ta.length?'", needed by: '+ta.join(', '):'"'),r,[fa.id]))}}};P.require=P.makeRequire();
return P}};Ua({});T(['toUrl','undef','defined','specified'],function(Ja){Ua[Ja]=function(){var Na=va._;return Na.require[Ja].apply(Na,arguments)}});if(na){var zb=S.head=document.getElementsByTagName('head')[0];if(u=document.getElementsByTagName('base')[0])zb=S.head=u.parentNode}Ua.onError=qa;Ua.createNode=function(Ja,Na,ab){Na=Ja.xhtml?document.createElementNS('http://www.w3.org/1999/xhtml','html:script'):document.createElement('script');Na.type=Ja.scriptType||'text/javascript';Na.charset='utf-8';
Na.async=!0;return Na};Ua.load=function(Ja,Na,ab){var Ab=Ja&&Ja.config||{};if(na){var db=Ua.createNode(Ab,Na,ab);db.setAttribute('data-requirecontext',Ja.contextName);db.setAttribute('data-requiremodule',Na);!db.attachEvent||db.attachEvent.toString&&0>db.attachEvent.toString().indexOf('[native code')||Ea?(db.addEventListener('load',Ja.onScriptLoad,!1),db.addEventListener('error',Ja.onScriptError,!1)):(Va=!0,db.attachEvent('onreadystatechange',Ja.onScriptLoad));db.src=ab;if(Ab.onNodeCreated)Ab.onNodeCreated(db,
Ab,Na,ab);I=db;u?zb.insertBefore(db,u):zb.appendChild(db);I=null;return db}if(Da)try{M(function(){},0),importScripts(ab),Ja.completeLoad(Na)}catch(cb){Ja.onError(Q('importscripts','importScripts failed for '+Na+' at '+ab,cb,[Na]))}};na&&!Ca.skipDataMain&&ra(document.getElementsByTagName('script'),function(Ja){zb||(zb=Ja.parentNode);if(p=Ja.getAttribute('data-main'))return w=p,Ca.baseUrl||-1!==w.indexOf('!')||(q=w.split('/'),w=q.pop(),x=q.length?q.join('/')+'/':'./',Ca.baseUrl=x),w=w.replace(N,''),
Ua.jsExtRegExp.test(w)&&(w=p),Ca.deps=Ca.deps?Ca.deps.concat(w):[w],!0});define=function(Ja,Na,ab){var Ab;'string'!==typeof Ja&&(ab=Na,Na=Ja,Ja=null);L(Na)||(ab=Na,Na=null);!Na&&Ga(ab)&&(Na=[],ab.length&&(ab.toString().replace(B,da).replace(F,function(cb,sb){Na.push(sb)}),Na=(1===ab.length?['require']:['require','exports','module']).concat(Na)));if(Va&&(Ab=I||J())){Ja||=Ab.getAttribute('data-requiremodule');var db=va[Ab.getAttribute('data-requirecontext')]}db?(db.defQueue.push([Ja,Na,ab]),db.defQueueMap[Ja]=
!0):Ta.push([Ja,Na,ab])};define.amd={jQuery:!0};Ua.exec=function(Ja){return eval(Ja)};Ua(Ca)}})(this,'undefined'===typeof setTimeout?void 0:setTimeout);define('requireLib',function(){});
!function(E,M){'object'==typeof exports&&'undefined'!=typeof module?M(exports):'function'==typeof define&&define.amd?define('vendor/uuid',['exports'],M):M((E=E||self).uuid={})}(this,function(E){function M(){if(!m)throw Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');return m(R)}function da(q,H){H=H||0;var I=Ha;return[I[q[H++]],I[q[H++]],I[q[H++]],I[q[H++]],'-',I[q[H++]],I[q[H++]],'-',I[q[H++]],I[q[H++]],'-',I[q[H++]],I[q[H++]],'-',
I[q[H++]],I[q[H++]],I[q[H++]],I[q[H++]],I[q[H++]],I[q[H++]]].join('')}function Ga(q,H,I){var w=function(x,B,F,N){N=F&&N||0;if('string'==typeof x&&(x=function(y){y=unescape(encodeURIComponent(y));for(var S=Array(y.length),X=0;X<y.length;X++)S[X]=y.charCodeAt(X);return S}(x)),'string'==typeof B&&(B=function(y){var S=[];return y.replace(/[a-fA-F0-9]{2}/g,function(X){S.push(parseInt(X,16))}),S}(B)),!Array.isArray(x))throw TypeError('value must be an array of bytes');if(!Array.isArray(B)||16!==B.length)throw TypeError('namespace must be uuid string or an Array of 16 byte values');
x=I(B.concat(x));if(x[6]=15&x[6]|H,x[8]=63&x[8]|128,F)for(B=0;16>B;++B)F[N+B]=x[B];return F||da(x)};try{w.name=q}catch(x){}return w.DNS='6ba7b810-9dad-11d1-80b4-00c04fd430c8',w.URL='6ba7b811-9dad-11d1-80b4-00c04fd430c8',w}function L(q,H){var I=(65535&q)+(65535&H);return(q>>16)+(H>>16)+(I>>16)<<16|65535&I}function T(q,H,I,w,x,B){return L((F=L(L(H,q),L(w,B)))<<(N=x)|F>>>32-N,I);var F,N}function ra(q,H,I,w,x,B,F){return T(H&I|~H&w,q,H,x,B,F)}function U(q,H,I,w,x,B,F){return T(H&w|I&~w,q,H,x,B,F)}function Y(q,
H,I,w,x,B,F){return T(I^(H|~w),q,H,x,B,F)}for(var m='undefined'!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||'undefined'!=typeof msCrypto&&'function'==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),R=new Uint8Array(16),v,qa,Ha=[],Q=0;256>Q;++Q)Ha[Q]=(Q+256).toString(16).substr(1);var J=0,u=0;Q=Ga('v3',48,function(q){if('string'==typeof q){var H=unescape(encodeURIComponent(q));q=Array(H.length);for(var I=0;I<H.length;I++)q[I]=H.charCodeAt(I)}return function(w){var x,
B=[],F=32*w.length;for(x=0;x<F;x+=8){var N=w[x>>5]>>>x%32&255;N=parseInt('0123456789abcdef'.charAt(N>>>4&15)+'0123456789abcdef'.charAt(15&N),16);B.push(N)}return B}(function(w,x){w[x>>5]|=128<<x%32;w[14+(x+64>>>9<<4)]=x;var B=1732584193,F=-271733879,N=-1732584194,y=271733878;for(x=0;x<w.length;x+=16){var S=B;var X=F;var xa=N;var na=y;B=ra(B,F,N,y,w[x],7,-680876936);y=ra(y,B,F,N,w[x+1],12,-389564586);N=ra(N,y,B,F,w[x+2],17,606105819);F=ra(F,N,y,B,w[x+3],22,-1044525330);B=ra(B,F,N,y,w[x+4],7,-176418897);
y=ra(y,B,F,N,w[x+5],12,1200080426);N=ra(N,y,B,F,w[x+6],17,-1473231341);F=ra(F,N,y,B,w[x+7],22,-45705983);B=ra(B,F,N,y,w[x+8],7,1770035416);y=ra(y,B,F,N,w[x+9],12,-1958414417);N=ra(N,y,B,F,w[x+10],17,-42063);F=ra(F,N,y,B,w[x+11],22,-1990404162);B=ra(B,F,N,y,w[x+12],7,1804603682);y=ra(y,B,F,N,w[x+13],12,-40341101);N=ra(N,y,B,F,w[x+14],17,-1502002290);F=ra(F,N,y,B,w[x+15],22,1236535329);B=U(B,F,N,y,w[x+1],5,-165796510);y=U(y,B,F,N,w[x+6],9,-1069501632);N=U(N,y,B,F,w[x+11],14,643717713);F=U(F,N,y,B,w[x],
20,-373897302);B=U(B,F,N,y,w[x+5],5,-701558691);y=U(y,B,F,N,w[x+10],9,38016083);N=U(N,y,B,F,w[x+15],14,-660478335);F=U(F,N,y,B,w[x+4],20,-405537848);B=U(B,F,N,y,w[x+9],5,568446438);y=U(y,B,F,N,w[x+14],9,-1019803690);N=U(N,y,B,F,w[x+3],14,-187363961);F=U(F,N,y,B,w[x+8],20,1163531501);B=U(B,F,N,y,w[x+13],5,-1444681467);y=U(y,B,F,N,w[x+2],9,-51403784);N=U(N,y,B,F,w[x+7],14,1735328473);F=U(F,N,y,B,w[x+12],20,-1926607734);B=T(F^N^y,B,F,w[x+5],4,-378558);y=T(B^F^N,y,B,w[x+8],11,-2022574463);N=T(y^B^F,N,
y,w[x+11],16,1839030562);F=T(N^y^B,F,N,w[x+14],23,-35309556);B=T(F^N^y,B,F,w[x+1],4,-1530992060);y=T(B^F^N,y,B,w[x+4],11,1272893353);N=T(y^B^F,N,y,w[x+7],16,-155497632);F=T(N^y^B,F,N,w[x+10],23,-1094730640);B=T(F^N^y,B,F,w[x+13],4,681279174);y=T(B^F^N,y,B,w[x],11,-358537222);N=T(y^B^F,N,y,w[x+3],16,-722521979);F=T(N^y^B,F,N,w[x+6],23,76029189);B=T(F^N^y,B,F,w[x+9],4,-640364487);y=T(B^F^N,y,B,w[x+12],11,-421815835);N=T(y^B^F,N,y,w[x+15],16,530742520);F=T(N^y^B,F,N,w[x+2],23,-995338651);B=Y(B,F,N,y,
w[x],6,-198630844);y=Y(y,B,F,N,w[x+7],10,1126891415);N=Y(N,y,B,F,w[x+14],15,-1416354905);F=Y(F,N,y,B,w[x+5],21,-57434055);B=Y(B,F,N,y,w[x+12],6,1700485571);y=Y(y,B,F,N,w[x+3],10,-1894986606);N=Y(N,y,B,F,w[x+10],15,-1051523);F=Y(F,N,y,B,w[x+1],21,-2054922799);B=Y(B,F,N,y,w[x+8],6,1873313359);y=Y(y,B,F,N,w[x+15],10,-30611744);N=Y(N,y,B,F,w[x+6],15,-1560198380);F=Y(F,N,y,B,w[x+13],21,1309151649);B=Y(B,F,N,y,w[x+4],6,-145523070);y=Y(y,B,F,N,w[x+11],10,-1120210379);N=Y(N,y,B,F,w[x+2],15,718787259);F=Y(F,
N,y,B,w[x+9],21,-343485551);B=L(B,S);F=L(F,X);N=L(N,xa);y=L(y,na)}return[B,F,N,y]}(function(w){var x,B=[];B[(w.length>>2)-1]=void 0;for(x=0;x<B.length;x+=1)B[x]=0;var F=8*w.length;for(x=0;x<F;x+=8)B[x>>5]|=(255&w[x/8])<<x%32;return B}(q),8*q.length))});var p=Ga('v5',80,function(q){var H=[1518500249,1859775393,2400959708,3395469782],I=[1732584193,4023233417,2562383102,271733878,3285377520];if('string'==typeof q){var w=unescape(encodeURIComponent(q));q=Array(w.length);for(var x=0;x<w.length;x++)q[x]=
w.charCodeAt(x)}q.push(128);w=Math.ceil((q.length/4+2)/16);var B=Array(w);for(x=0;x<w;x++){B[x]=Array(16);for(var F=0;16>F;F++)B[x][F]=q[64*x+4*F]<<24|q[64*x+4*F+1]<<16|q[64*x+4*F+2]<<8|q[64*x+4*F+3]}B[w-1][14]=8*(q.length-1)/Math.pow(2,32);B[w-1][14]=Math.floor(B[w-1][14]);B[w-1][15]=8*(q.length-1)&4294967295;for(x=0;x<w;x++){q=Array(80);for(F=0;16>F;F++)q[F]=B[x][F];for(F=16;80>F;F++){var N=q[F-3]^q[F-8]^q[F-14]^q[F-16];q[F]=N<<1|N>>>31}N=I[0];var y=I[1],S=I[2],X=I[3],xa=I[4];for(F=0;80>F;F++){var na=
Math.floor(F/20),Da=N<<5|N>>>27;a:{switch(na){case 0:var Ia=y&S^~y&X;break a;case 1:Ia=y^S^X;break a;case 2:Ia=y&S^y&X^S&X;break a;case 3:Ia=y^S^X;break a}Ia=void 0}na=Da+Ia+xa+H[na]+q[F]>>>0;xa=X;X=S;S=(y<<30|y>>>2)>>>0;y=N;N=na}I[0]=I[0]+N>>>0;I[1]=I[1]+y>>>0;I[2]=I[2]+S>>>0;I[3]=I[3]+X>>>0;I[4]=I[4]+xa>>>0}return[I[0]>>24&255,I[0]>>16&255,I[0]>>8&255,255&I[0],I[1]>>24&255,I[1]>>16&255,I[1]>>8&255,255&I[1],I[2]>>24&255,I[2]>>16&255,I[2]>>8&255,255&I[2],I[3]>>24&255,I[3]>>16&255,I[3]>>8&255,255&
I[3],I[4]>>24&255,I[4]>>16&255,I[4]>>8&255,255&I[4]]});E.v1=function(q,H,I){I=H&&I||0;var w=H||[],x=(q=q||{}).node||v,B=void 0!==q.clockseq?q.clockseq:qa;if(null==x||null==B){var F=q.random||(q.rng||M)();null==x&&(x=v=[1|F[0],F[1],F[2],F[3],F[4],F[5]]);null==B&&(B=qa=16383&(F[6]<<8|F[7]))}F=void 0!==q.msecs?q.msecs:(new Date).getTime();var N=void 0!==q.nsecs?q.nsecs:u+1,y=F-J+(N-u)/1E4;if(0>y&&void 0===q.clockseq&&(B=B+1&16383),(0>y||F>J)&&void 0===q.nsecs&&(N=0),1E4<=N)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");
J=F;u=N;qa=B;q=(1E4*(268435455&(F+=122192928E5))+N)%4294967296;w[I++]=q>>>24&255;w[I++]=q>>>16&255;w[I++]=q>>>8&255;w[I++]=255&q;q=F/4294967296*1E4&268435455;w[I++]=q>>>8&255;w[I++]=255&q;w[I++]=q>>>24&15|16;w[I++]=q>>>16&255;w[I++]=B>>>8|128;w[I++]=255&B;for(B=0;6>B;++B)w[I+B]=x[B];return H||da(w)};E.v3=Q;E.v4=function(q,H,I){I=H&&I||0;'string'==typeof q&&(H='binary'===q?Array(16):null,q=null);var w=(q=q||{}).random||(q.rng||M)();if(w[6]=15&w[6]|64,w[8]=63&w[8]|128,H)for(q=0;16>q;++q)H[I+q]=w[q];
return H||da(w)};E.v5=p;Object.defineProperty(E,'__esModule',{value:!0})});
function Merge(){var E=[],M=function(L,T){'undefined'==typeof L&&(L='undefined'!=typeof T&&Array.isArray(T)?[]:{});var ra=!1;'boolean'==typeof arguments[arguments.length-1]&&(ra=arguments[arguments.length-1]);var U=1,Y=arguments.length,m,R;if('object'!==typeof L&&'function'!==typeof L)L=ra?'undefined'==typeof arguments[2]?arguments[1]:arguments[2]:'undefined'==typeof arguments[0]?arguments[1]:arguments[0];else for(;U<Y;++U)if('boolean'!=typeof arguments[U]&&null!=(m=arguments[U])){if('object'!=typeof m){L=
m;break}if(Array.isArray(m)&&Array.isArray(L))L=da(m,L,ra);else for(var v in m){L||={name:null};var qa=L[v];var Ha=m[v];if(L!==Ha)if(Ha&&(Ga(Ha)||(R=Array.isArray(Ha)))){var Q=!1;if(R){R=!1;if(qa&&Array.isArray(qa))var J=qa||[];else if(Ga(qa)){J=qa||{};L[v]=J;continue}else J=[];E=J;J=da(Ha,J,ra);L[v]=J}else{J=qa&&Ga(qa)?qa:null;if(!J){Q=!0;J={};for(var u in Ha)J[u]=Ha[u]}if(ra){for(u in Ha)'undefined'!=typeof Ha[u]?Array.isArray(Ha[u])&&Array.isArray(J[u])?J[u]=da(Ha[u],J[u],ra):J[u]=Ha[u]:Array.isArray(Ha[u])&&
Array.isArray(J[u])&&(J[u]=da(Ha[u],J[u],ra));L[v]=J}else{for(u in Ha)'undefined'==typeof J[u]?Array.isArray(Ha[u])&&Array.isArray(J[u])?J[u]=da(Ha[u],J[u],ra):J[u]=Ha[u]:Array.isArray(Ha[u])&&Array.isArray(J[u])&&(J[u]=da(Ha[u],J[u],ra));'boolean'==typeof qa||Q?Q&&(L[v]=J):L[v]=M(J,Ha,ra)}}}else void 0!==Ha&&(L[v]='undefined'==typeof qa||null==qa||qa===Ha||ra?Ha:qa)}}E=[];return L},da=function(L,T,ra){E=[];var U=[],Y=M.getKeyComparison();if(/^true$/i.test(ra)){if('object'==typeof L[0]&&'undefined'!=
typeof L[0][Y]&&'object'==typeof T[0]&&'undefined'!=typeof T[0][Y]){E=Array.isArray(T)?Array.from(T):JSON.clone(T);var m=0;for(ra=E.length;m<ra;++m)U.push(E[m][Y]);ra=JSON.clone(L);var R=0;m=0;L=ra.length;for(var v=Ha||0,qa=T.length;v<qa;++v)a:for(m=m||0;m<L;++m)if(ra[m][Y]===T[v][Y]){-1<U.indexOf(ra[m][Y])?(E[R]=ra[m],++R):-1==U.indexOf(ra[m][Y])&&(U.push(ra[m][Y]),E[R]=ra[m],++R);break a}else-1==U.indexOf(ra[m][Y])&&(U.push(ra[m][Y]),E.push(ra[m]));return E}return Array.isArray(L)&&0==L.length||
'undefined'==typeof L?T:L}if(0==L.length&&0<T.length)return E=T;if(0==T.length&&0<L.length)for(m=0;m<L.length;++m)T.push(L[m]);if(0==E.length&&0<T.length)for(m=0;m<T.length;++m)'object'!=typeof T[m]&&-1==E.indexOf(T[m])&&E.push(T[m]);if(0<T.length){if('undefined'!=typeof L[0]&&'object'==typeof L[0]&&null!=L[0]&&'undefined'!=typeof L[0][Y]&&'object'==typeof T[0]&&'undefined'!=typeof T[0][Y]){E=Array.isArray(T)?Array.from(T):JSON.clone(T);ra=JSON.clone(L);var Ha=null;m=0;for(L=E.length;m<L;++m)U.push(E[m][Y]);
for(m=0;m<L;++m)a:for(v=Ha||0,qa=ra.length;v<qa;++v)if(null!=ra[v]&&'undefined'!=typeof ra[v][Y]&&ra[v][Y]!==E[m][Y]){if(-1==U.indexOf(ra[v][Y])){E.push(ra[v]);U.push(ra[v][Y]);Ha=v+1;L<qa&&++L;break a}}else if(null!=ra[v]&&'undefined'!=typeof ra[v][Y]&&ra[v][Y]===E[m][Y])Ha=v+1;else break a;return E}for(m=0;m<L.length;++m)if(-1<T.indexOf(L[m])&&ra)T.splice(T.indexOf(L[m]),1,L[m]);else if('undefined'==typeof E[m]&&'object'==typeof L[m])for(R in E=T,'undefined'==typeof E[m]&&(E[m]={}),L[m])E[m].hasOwnProperty(R)||
(E[m][R]=L[m][R]);else!ra&&-1<E.indexOf(L[m])&&'number'==typeof L[m]&&L[m]!==E[m]?E.push(L[m]):'undefined'==typeof T[m]||/null/i.test(T[m])||'undefined'==typeof T[m][Y]||'undefined'==typeof L[m]||'undefined'==typeof L[m][Y]||T[m][Y]!=L[m][Y]?-1==E.indexOf(L[m])&&E.push(L[m]):E[m]=ra?L[m]:T[m]}if(0<E.length&&0<T.length||0==E.length&&0==T.length)return E};da.prototype.setKeyComparison=function(L){this.keyComparison=L};var Ga=function(L){if(!L||'[object Object]'!=={}.toString.call(L)||L.nodeType||L.setInterval)return!1;
var T={}.hasOwnProperty,ra=T.call(L,'constructor');T='undefined'!=typeof L.constructor?T.call(L.constructor.prototype,'isPrototypeOf'):!1;return!L.constructor||ra||T?!0:!1};M.setKeyComparison=function(L){da.keyComparison=L;return M};M.getKeyComparison=function(){var L=da.keyComparison||'id';da.keyComparison='id';return L};return M}
'undefined'!==typeof module&&module.exports?('undefined'==typeof JSON.clone&&require('../../../helpers'),module.exports=Merge()):'function'===typeof define&&define.amd&&define('utils/merge',[],function(){return Merge()});function registerEvents(E,M){gina.registeredEvents[E]=M}function mergeEventProps(E,M){for(let da in M)'undefined'==typeof E[da]&&(E[da]=M[da]);return E}
function addListener(E,M,da,Ga){var L=function(U,Y,m,R){'undefined'!=typeof U.event&&U.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(m)&&-1==U.event[m].indexOf(Y)&&(U.event[m][U.event[m].length]=Y);'undefined'!=typeof Y&&null!=Y?Y.addEventListener?Y.addEventListener(m,R,!1):Y.attachEvent&&Y.attachEvent('on'+m,R):U.customEvent.addListener(m,R);gina.events[m]='undefined'!=typeof Y.id&&'object'!=typeof Y.id?Y.id:Y.getAttribute('id')},T=0,ra=null;if(Array.isArray(da))for(ra=da.length;T<ra;T++)L(E,
M,da[T],Ga);else if(Array.isArray(M))for(T=0,ra=M.length;T<ra;T++){let U=/\.$/.test(da)?da+M[T].id:da;L(E,M[T],U,Ga)}else da=/\.$/.test(da)?da+M.id:da,L(E,M,da,Ga)}
function triggerEvent(E,M,da,Ga,L){if('undefined'!=typeof M&&null!=M){E=!1;if(jQuery){var T=jQuery.fn.jquery.split(/\./);T=2<T.length?T.splice(0,2).join('.'):T.join('.');T='1.7'>=T?jQuery(M).data('events'):jQuery._data(jQuery(M)[0],'events');if(T='undefined'!=typeof T&&'undefined'!=typeof T[da]?!0:!1)T=jQuery.Event(da),jQuery(M).trigger(T,Ga),E=T.isDefaultPrevented()}window.CustomEvent||document.createEvent?(window.CustomEvent?T=new CustomEvent(da,{detail:Ga,bubbles:!0,cancelable:!0,target:M}):(T=
document.createEvent('HTMLEvents'),T.detail=Ga,T.target=M,T.initEvent(da,!0,!0),T.eventName=da),L&&(T=mergeEventProps(T,L)),'undefined'!=typeof T.defaultPrevented&&T.defaultPrevented&&(E=T.defaultPrevented),E||M.dispatchEvent(T)):document.createEventObject&&(T=document.createEventObject(),T.srcElement.id=M.id,T.detail=Ga,T.target=M,L&&(T=mergeEventProps(T,L)),M.fireEvent('on'+da,T))}else E.customEvent.fire(da,Ga)}
function cancelEvent(E){'undefined'!=typeof E&&null!=E&&(E.cancelBubble=!0,E.preventDefault&&E.preventDefault(),E.stopPropagation&&E.stopPropagation(),E.returnValue=!1)}
function setupXhr(E){var M=null;if(window.XMLHttpRequest)M=new XMLHttpRequest;else if(window.ActiveXObject)try{M=new ActiveXObject('Msxml2.XMLHTTP')}catch(Ga){try{M=new ActiveXObject('Microsoft.XMLHTTP')}catch(L){}}if('undefined'!=typeof E){if(!E.url||'undefined'==typeof E.url)throw Error('Missing `options.url`');'undefined'==typeof E.method&&(E.method='GET');E.method=E.method.toUpperCase();if(E.withCredentials){if('withCredentials'in M)E.isSynchrone?M.open(E.method,E.url,E.isSynchrone):M.open(E.method,
E.url);else if('undefined'!=typeof XDomainRequest)M=new XDomainRequest,M.open(E.method,E.url);else{result='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,$target,'error.'+id,result);return}M.responseType='undefined'!=typeof E.responseType?E.responseType:'';M.withCredentials=!0}else E.isSynchrone?M.open(E.method,E.url,E.isSynchrone):M.open(E.method,E.url);for(var da in E.headers)'Content-Type'==da&&'undefined'!=typeof enctype&&null!=
enctype&&''!=enctype||M.setRequestHeader(da,E.headers[da])}return M}
function handleXhr(E,M,da,Ga){if(!E)throw Error('No `xhr` object initiated');var L=null,T=null,ra=null,U=null,Y=null,m=da.$link||null,R=da.$form||null,v=null;delete da.$link;delete da.$form;R||m?m?(m.target=document.getElementById(m.id),v=gina.link.target,Y=gina.link.id):(v=R.target,Y=v.getAttribute('id')):(v=M,Y=v.getAttribute('id'));var qa=m&&M.getAttribute('data-gina-link-event-on-success')||m&&M.getAttribute('data-gina-link-event-on-error')?!0:!1,Ha=R&&v.getAttribute('data-gina-form-event-on-submit-success')||
R&&v.getAttribute('data-gina-form-event-on-submit-error')?!0:!1;Ha&&R&&listenToXhrEvents(R,'form');M=M.getAttribute('enctype')||da.headers['Content-Type'];for(var Q in da.headers)'Content-Type'==Q&&'undefined'!=typeof M&&null!=M&&''!=M||E.setRequestHeader(Q,da.headers[Q]);E.withCredentials='undefined'!=typeof da.withCredentials?da.withCredentials:!1;E.onerror=function(J,u){J={status:E.status||500,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};
R&&(R.eventData.error=J);m&&(m.eventData.error=J);window.ginaToolbar.update('data-xhr',J,!0);triggerEvent(gina,v,'error.'+Y,J);Ha&&triggerEvent(gina,v,'error.'+Y+'.hform',J);qa&&triggerEvent(gina,v,'error.'+Y+'.hlink',J)};E.onreadystatechange=function(J){J=/Google Inc/i.test(navigator.vendor)?50:0;2==E.readyState&&(T=/^attachment;/.test(E.getResponseHeader('Content-Disposition'))?!0:!1,!E.responseType&&T&&(E.responseType='blob'));if(4==E.readyState)if(L=null,ra=E.getResponseHeader('Content-Type'),
/^2/.test(E.status)){try{if(/blob/.test(E.responseType)||T){if('undefined'==typeof ra||null==ra)ra='application/octet-stream';L=new Blob([this.response],{type:ra});var u=document.createElement('a');u.style='display: none';document.body.appendChild(u);var p=window.URL.createObjectURL(L);u.href=p;var q=E.getResponseHeader('Content-Disposition');u.download=q.match('=(.*)')[0].substr(1);u.click();window.URL.revokeObjectURL(p);U={status:E.status,statusText:E.statusText,responseType:L.type,type:L.type,
size:L.size}}!U&&/\/json/.test(ra)&&(U=JSON.parse(E.responseText),'undefined'==typeof U.status&&(U.status=E.status||200));if(!U&&/\/html/.test(ra)&&(U={contentType:ra,content:E.responseText},'undefined'==typeof U.status&&(U.status=E.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler)){var H=gina.popin.getActivePopin();if(H){XHRData={};try{XHRData=(new DOMParser).parseFromString(U.content,'text/html').getElementById('gina-without-layout-xhr-data'),XHRData=JSON.parse(decodeURIComponent(XHRData.value)),
XHRView=(new DOMParser).parseFromString(U.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRData&&window.ginaToolbar.update('data-xhr',XHRData),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(B){throw B;}H.loadContent(U.content);U=XHRData;triggerEvent(gina,v,'success.'+Y,U);return}}U||(U=E.responseText);R&&
(R.eventData.success=U);XHRData=U;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&/\/html/.test(ra)&&window.ginaToolbar.update('data-xhr',XHRData)}catch(B){throw B;}triggerEvent(gina,v,'success.'+Y,U);Ha&&triggerEvent(gina,v,'success.'+Y+'.hform',U);qa&&triggerEvent(gina,v,'success.'+Y+'.hlink',U)}catch(B){U={status:422,error:B.message,stack:B.stack};R&&(R.eventData.error=U);XHRData=U;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&
window.ginaToolbar.update('data-xhr',XHRData)}catch(F){throw F;}triggerEvent(gina,v,'error.'+Y,U);Ha&&triggerEvent(gina,v,'error.'+Y+'.hform',U);qa&&triggerEvent(gina,v,'error.'+Y+'.hlink',U)}if('undefined'!=typeof U&&'undefined'!=typeof U.location)return window.location.hash='',U.location=/^http/.test(U.location)||/^\//.test(U.location)?U.location:location.protocol+'//'+U.location,setTimeout(()=>{window.location.href=U.location},J)}else if(0!=E.status)if(U={status:E.status,message:''},/blob/.test(E.responseType)){L=
new Blob([this.response],{type:'text/plain'});var I=new FileReader,w='';I.addEventListener('loadend',B=>{/string/i.test(typeof B.srcElement.result)?w+=B.srcElement.result:'object'==typeof B.srcElement.result?U=merge(U,B.srcElement.result):U.message+=B.srcElement.result;if(/^2/.test(I.readyState)){if(/^(\{|\[)/.test(w))try{U=merge(U,JSON.parse(w))}catch(y){U=merge(U,y)}U.message||delete U.message;R&&(R.eventData.error=U);if('undefined'!=typeof U&&'undefined'!=typeof U.error&&U.error.fields&&'object'==
typeof U.error.fields){B={};var F=0,N;for(N in U.error.fields)++F,B[N]={isApplicationValidationError:U.error.fields[N]};0<F&&handleErrorsDisplay(R.target,B)}XHRData=U;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(y){throw y;}triggerEvent(gina,v,'error.'+Y,U);Ha&&triggerEvent(gina,v,'error.'+Y+'.hform',U);qa&&triggerEvent(gina,v,'error.'+Y+'.hlink',U)}});I.readAsText(L)}else{try{U=merge(U,JSON.parse(E.responseText))}catch(B){U=merge(U,
B)}R&&(R.eventData.error=U);if('undefined'!=typeof U&&'undefined'!=typeof U.error&&U.error.fields&&'object'==typeof U.error.fields){u={};p=0;for(var x in U.error.fields)++p,u[x]={isApplicationValidationError:U.error.fields[x]};0<p&&handleErrorsDisplay(R.target,u)}XHRData=U;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(B){throw B;}triggerEvent(gina,v,'error.'+Y,U);Ha&&triggerEvent(gina,v,'error.'+Y+'.hform',U);qa&&triggerEvent(gina,v,
'error.'+Y+'.hlink',U)}};E.onprogress=function(J){var u='0';J.lengthComputable&&(u=J.loaded/J.total,u=parseInt(100*u));J={status:100,progress:u};R&&(R.eventData.onprogress=J);triggerEvent(gina,v,'progress.'+Y,J)};E.ontimeout=function(J){U={status:408,error:'Request Timeout'};R&&(R.eventData.ontimeout=U);triggerEvent(gina,v,'error.'+Y,U);Ha&&triggerEvent(gina,v,'error.'+Y+'.hform',U);qa&&triggerEvent(gina,v,'error.'+Y+'.hlink',U)}}
function removeListener(E,M,da,Ga){'undefined'!=typeof E.event&&E.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(da)&&-1!=E.event[da].indexOf(M)&&E.event[da].splice(E.event[da].indexOf(M),1);if('undefined'!=typeof M&&null!=M)if(M.removeEventListener)if(Array.isArray(M))for(i=0,len=M.length;i<len;i++)E=/\.$/.test(da)?da+M[i].id:da,M.removeEventListener(E,Ga,!1),'undefined'!=typeof gina.events[E]&&delete gina.events[E];else da=/\.$/.test(da)?da+M.id:da,M.removeEventListener(da,Ga,!1);else{if(M.attachEvent)if(Array.isArray(M))for(i=
0,len=M.length;i<len;i++)E=/\.$/.test(da)?da+M[i].id:da,M.detachEvent('on'+E,Ga),'undefined'!=typeof gina.events[E]&&delete gina.events[E];else da=/\.$/.test(da)?da+M.id:da,M.detachEvent('on'+da,Ga)}else if(Array.isArray(M))for(i=0,len=M.length;i<len;i++){let L=/\.$/.test(da)?da+M[i].id:da;E.customEvent.removeListener(L,Ga);'undefined'!=typeof gina.events[L]&&delete gina.events[L]}else da=/\.$/.test(da)?da+M.id:da,E.customEvent.removeListener(da,Ga);'undefined'!=typeof gina.events[da]&&delete gina.events[da];
'undefined'!=typeof Ga&&Ga()}
function on(E,M){if(!this.plugin)throw Error('No `plugin` reference found for this event: `'+E);if(0>gina.registeredEvents[this.plugin].indexOf(E)&&!/^init$/.test(E)&&!/\.hform$/.test(E)&&!/\.hlink$/.test(E))M(Error('Event `'+E+'` not handled by ginaEventHandler'));else{var da=null,Ga=null;'undefined'!=typeof this.id&&'object'!=typeof this.id?(da=this.target||this,Ga=this.id):'undefined'!=typeof this.target?((da=this.target)||(da=this),Ga='undefined'!=typeof da.getAttribute?da.getAttribute('id'):
this.id):(da=this.target,Ga=instance.id);this.eventData&&!da.eventData&&(da.eventData=this.eventData);E=/\.(hform|hlink)$/.test(E)?/\.hform$/.test(E)?E.replace(/\.hform$/,'.'+Ga+'.hform'):E.replace(/\.hlink$/,'.'+Ga+'.hlink'):E+('.'+Ga);gina.events[E]||(addListener(gina,da,E,function(L){cancelEvent(L);var T=null;L.detail?T=L.detail:'undefined'!=typeof this.eventData.submit?T=this.eventData.submit:'undefined'!=typeof this.eventData.error?T=this.eventData.error:'undefined'!=typeof this.eventData.success&&
(T=this.eventData.success);M&&M(L,T)}),this.initialized&&!this.isReady&&triggerEvent(gina,da,'init.'+Ga));return this}}define('utils/events',function(){});
function PrototypesHelper(E){var M='undefined'!==typeof module&&module.exports?!1:!0,da=E||null;E=null;if('undefined'==typeof GINA_DIR&&!M&&'undefined'!=typeof process&&3<process.argv.length)if(/^\{/.test(process.argv[2]))E=JSON.parse(process.argv[2]).envVars;else if(/\.ctx$/.test(process.argv[2])){E=require('fs');var Ga=process.argv[2].split(/\-\-argv\-filename=/)[1];E=JSON.parse(E.readFileSync(Ga).toString()).envVars}if(da&&'undefined'!=typeof da&&'undefined'!=typeof da.dateFormat)for(let L in da.dateFormat)'undefined'==
typeof Date[L]&&Object.defineProperty(Date.prototype,L,{writable:!1,enumerable:!1,configurable:!0,value:function(){var T={0:this},ra=1,U;for(U in arguments)T[ra]=arguments[U],++ra;T.length=ra;return da.dateFormat[L].apply(this,T)}});'undefined'==typeof Array.clone&&Object.defineProperty(Array.prototype,'clone',{writable:!1,enumerable:!1,configurable:!0,value:function(){return this.slice(0)}});'undefined'!=typeof JSON.clone||M||(JSON.clone='undefined'!=typeof E?require(E.GINA_DIR+'/utils/prototypes.json_clone'):
require(GINA_DIR+'/utils/prototypes.json_clone'));'undefined'==typeof JSON.escape&&(JSON.escape=function(L){try{return L.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(T){throw T;}});'undefined'==typeof Array.toString&&(Array.prototype.toString=function(){return this.join()});'undefined'==typeof Array.inArray&&Object.defineProperty(Array.prototype,'inArray',{writable:!1,enumerable:!1,configurable:!0,value:function(L){return-1!=this.indexOf(L)}});'undefined'==typeof Array.from&&
Object.defineProperty(Array.prototype,'from',{writable:!1,enumerable:!1,configurable:!0,value:function(L){for(var T={},ra=[],U=L.length,Y=0,m=0;m<U;m++){var R=L[m];1!==T[R]&&(T[R]=1,ra[Y++]=R)}return ra}});'undefined'==typeof Object.count&&Object.defineProperty(Object.prototype,'count',{writable:!0,enumerable:!1,configurable:!0,value:function(){var L=0;try{this instanceof String&&JSON.parse(this);for(var T in this)this.hasOwnProperty(T)&&++L;return L}catch(ra){return L}}});'undefined'!=typeof global&&
'undefined'==typeof global.__stack&&Object.defineProperty(global,'__stack',{configurable:!0,get:function(){var L=Error.prepareStackTrace;Error.prepareStackTrace=function(ra,U){return U};var T=Error();Error.captureStackTrace(T,arguments.callee);T=T.stack;Error.prepareStackTrace=L;return T}})}'undefined'!==typeof module&&module.exports?module.exports=PrototypesHelper:'function'===typeof define&&define.amd&&define('helpers/prototypes',[],function(){return PrototypesHelper});
function DateFormatHelper(){var E='undefined'!==typeof module&&module.exports?!1:!0,M=E?require('utils/merge'):require('./../lib/merge');var da='en-US';var Ga='en';var L={'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy',cookieDate:'GMT:ddd, dd mmm yyyy HH:MM:ss',logger:'[yyyy mmm dd HH:MM:ss]',shortTime:'h:MM TT',shortTime2:'h:MM',mediumTime:'h:MM:ss TT',mediumTime2:'h:MM:ss',longTime:'h:MM:ss TT Z',
longTime2:'h:MM:ss TT',concatenatedDate:'yyyymmdd',isoDate:'yyyy-mm-dd',isoTime:'HH:MM:ss',shortIsoTime:'HH:MM',longIsoTime:'HH:MM:ss TT',isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};var T={en:{dayNames:'Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday'.split(' '),monthNames:'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December'.split(' '),masks:{'default':'ddd mmm dd yyyy HH:MM:ss',
shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy'}},fr:{dayNames:'dim lun mar mer jeu ven sam dimanche lundi mardi mercredi jeudi vendredi samedi'.split(' '),monthNames:'Jan F\u00e9v Mar Avr Mai Jui Juil Ao\u00fb Sep Oct Nov D\u00e9c Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre'.split(' '),masks:{'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'d/m/yy',shortDate2:'dd/mm/yyyy',
mediumDate:'d mmm, yyyy',longDate:'d mmmm, yyyy',fullDate:'dddd, d mmmm, yyyy'}}};var ra=function(m,R){if(R instanceof Date)return m=m.getTime(),R=R.getTime(),Math.round(Math.abs(m-R)/864E5);throw Error('dateTo is not instance of Date() !');},U=['us','eu','corporate'],Y=function(m){d=new Date(m.getFullYear(),m.getMonth(),m.getDate());m=d.getDay()||7;d.setDate(d.getDate()+4-m);m=new Date(Date.parse(d.getFullYear(),0,1));return Math.ceil(((d-m)/864E5+1)/7)};return{setCulture:function(m,R){/\-/.test(R)?
(da=R,Ga=R.split(/\-/)[0]):Ga=R;return this},format:function(m,R,v){var qa=T[Ga]||T.en,Ha=null;try{Ha=M(qa.masks,L)}catch(y){M=(E='undefined'!==typeof module&&module.exports?!1:!0)?require('utils/merge'):require('./../lib/merge'),Ha=M(qa.masks,L)}'undefined'!=typeof T[da]&&(qa=T[da],'undefined'!=typeof T[da].mask&&(Ha=M(qa.masks,L)));var Q=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,J=/[^-+\dA-Z]/g,u=function(y,
S){y=String(y);for(S=S||2;y.length<S;)y='0'+y;return y};1!=arguments.length||'[object String]'!=Object.prototype.toString.call(m)||/\d/.test(m)||(R=m,m=void 0);m=m?new Date(m):new Date;if(isNaN(m))throw SyntaxError('invalid date');R=String(Ha[R]||R||Ha['default']);'UTC:'==R.slice(0,4)&&(R=R.slice(4),v=!0);var p=v?'getUTC':'get';Ha=m[p+'Date']();var q=m[p+'Day'](),H=m[p+'Month'](),I=m[p+'FullYear'](),w=m[p+'Hours'](),x=m[p+'Minutes'](),B=m[p+'Seconds']();p=m[p+'Milliseconds']();var F=v?0:m.getTimezoneOffset(),
N={d:Ha,dd:u(Ha),ddd:qa.dayNames[q],dddd:qa.dayNames[q+7],m:H+1,mm:u(H+1),mmm:qa.monthNames[H],mmmm:qa.monthNames[H+12],yy:String(I).slice(2),yyyy:I,h:w%12||12,hh:u(w%12||12),H:w,HH:u(w),M:x,MM:u(x),s:B,ss:u(B),l:u(p,3),L:u(99<p?Math.round(p/10):p),t:12>w?'a':'p',tt:12>w?'am':'pm',T:12>w?'A':'P',TT:12>w?'AM':'PM',Z:v?'UTC':(String(m).match(Q)||['']).pop().replace(J,''),o:(0<F?'-':'+')+u(100*Math.floor(Math.abs(F)/60)+Math.abs(F)%60,4),S:['th','st','nd','rd'][3<Ha%10?0:(10!=Ha%100-Ha%10)*Ha%10]};return R.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,
function(y){return y in N?N[y]:y.slice(1,y.length-1)})},countDaysTo:ra,getDaysTo:function(m,R,v){if(R instanceof Date){R=ra(m,R);var qa=m.getMonth(),Ha=m.getFullYear();m=m.getDate()+1;m=new Date(Ha,qa,m);qa=[];for(Ha=0;Ha<R;++Ha)'undefined'!=typeof v?qa.push((new Date(m)).format(v)):qa.push(new Date(m)),m.setDate(m.getDate()+1);return qa||[]}throw Error('dateTo is not instance of Date() !');},getDaysInMonth:function(m){var R=m.getMonth();m=m.getFullYear();m=new Date(m,R,1);for(var v=[];m.getMonth()===
R;)v.push(new Date(m)),m.setDate(m.getDate()+1);return v},getQuarter:function(m,R){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>U.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');m=new Date;R=arguments[0]}'undefined'==typeof m&&(m=new Date);'undefined'==typeof R&&(R='corporate');R=R.toLowerCase();switch(R){case 'us':var v=[4,1,2,3];break;case 'corportate':case 'eu':v=[1,2,3,4];break;default:v=[1,2,3,4]}return v[Math.floor(m.getMonth()/
3)]},getHalfYear:function(m,R){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>U.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');m=new Date;R=arguments[0]}'undefined'==typeof m&&(m=new Date);'undefined'==typeof R&&(R='corporate');R=R.toLowerCase();return 2>=m.getQuarter(R)?1:2},getWeek:function(m,R){'undefined'==typeof m&&(m=new Date);'undefined'==typeof R&&(R='ISO 8601');R=R.replace(/\s+/g,'').toLowerCase();switch(R){case 'corporate':case 'eu':case 'iso8601':return Y(m);
default:return Y(m)}},addHours:function(m,R){m=new Date(m.getTime());m.setHours(m.getHours()+R);return m},addDays:function(m,R){m=new Date(m.getTime());m.setHours(m.getHours()+24*R);return m},addYears:function(m,R){m=new Date(m.getTime());m.setFullYear(m.getFullYear()+R);return m}}}'undefined'!==typeof module&&module.exports?module.exports=DateFormatHelper:'function'===typeof define&&define.amd&&define('helpers/dateFormat',[],function(){return DateFormatHelper});
!function(E,M){'object'==typeof module&&'object'==typeof module.exports?module.exports=E.document?M(E,!0):function(da){if(!da.document)throw Error('jQuery requires a window with a document');return M(da)}:M(E)}('undefined'!=typeof window?window:this,function(E,M){function da(a){var c=!!a&&'length'in a&&a.length,e=b.type(a);return'function'===e||b.isWindow(a)?!1:'array'===e||0===c||'number'==typeof c&&0<c&&c-1 in a}function Ga(a,c,e){if(b.isFunction(c))return b.grep(a,function(h,l){return!!c.call(h,
l,h)!==e});if(c.nodeType)return b.grep(a,function(h){return h===c!==e});if('string'==typeof c){if(r.test(c))return b.filter(c,a,e);c=b.filter(c,a)}return b.grep(a,function(h){return-1<b.inArray(h,c)!==e})}function L(a,c){do a=a[c];while(a&&1!==a.nodeType);return a}function T(a){var c={};return b.each(a.match(Ba)||[],function(e,h){c[h]=!0}),c}function ra(){Ra.addEventListener?(Ra.removeEventListener('DOMContentLoaded',U),E.removeEventListener('load',U)):(Ra.detachEvent('onreadystatechange',U),E.detachEvent('onload',
U))}function U(){(Ra.addEventListener||'load'===E.event.type||'complete'===Ra.readyState)&&(ra(),b.ready())}function Y(a,c,e){if(void 0===e&&1===a.nodeType){var h='data-'+c.replace(Bb,'-$1').toLowerCase();if(e=a.getAttribute(h),'string'==typeof e){try{e='true'===e?!0:'false'===e?!1:'null'===e?null:+e+''===e?+e:rb.test(e)?b.parseJSON(e):e}catch(l){}b.data(a,c,e)}else e=void 0}return e}function m(a){for(var c in a)if(('data'!==c||!b.isEmptyObject(a[c]))&&'toJSON'!==c)return!1;return!0}function R(a,
c,e,h){if(Wa(a)){var l,D,G=b.expando,aa=a.nodeType,ma=aa?b.cache:a,Aa=aa?a[G]:a[G]&&G;if(Aa&&ma[Aa]&&(h||ma[Aa].data)||void 0!==e||'string'!=typeof c)return Aa||=aa?a[G]=Kb.pop()||b.guid++:G,ma[Aa]||(ma[Aa]=aa?{}:{toJSON:b.noop}),'object'!=typeof c&&'function'!=typeof c||(h?ma[Aa]=b.extend(ma[Aa],c):ma[Aa].data=b.extend(ma[Aa].data,c)),D=ma[Aa],h||(D.data||(D.data={}),D=D.data),void 0!==e&&(D[b.camelCase(c)]=e),'string'==typeof c?(l=D[c],null==l&&(l=D[b.camelCase(c)])):l=D,l}}function v(a,c,e){if(Wa(a)){var h,
l,D=a.nodeType,G=D?b.cache:a,aa=D?a[b.expando]:b.expando;if(G[aa]){if(c&&(h=e?G[aa]:G[aa].data)){b.isArray(c)?c=c.concat(b.map(c,b.camelCase)):c in h?c=[c]:(c=b.camelCase(c),c=c in h?[c]:c.split(' '));for(l=c.length;l--;)delete h[c[l]];if(e?!m(h):!b.isEmptyObject(h))return}(e||(delete G[aa].data,m(G[aa])))&&(D?b.cleanData([a],!0):k.deleteExpando||G!=G.window?delete G[aa]:G[aa]=void 0)}}}function qa(a,c,e,h){var l,D=1,G=20,aa=h?function(){return h.cur()}:function(){return b.css(a,c,'')},ma=aa(),Aa=
e&&e[3]||(b.cssNumber[c]?'':'px'),sa=(b.cssNumber[c]||'px'!==Aa&&+ma)&&ib.exec(b.css(a,c));if(sa&&sa[3]!==Aa){Aa=Aa||sa[3];e=e||[];sa=+ma||1;do D=D||'.5',sa/=D,b.style(a,c,sa+Aa);while(D!==(D=aa()/ma)&&1!==D&&--G)}return e&&(sa=+sa||+ma||0,l=e[1]?sa+(e[1]+1)*e[2]:+e[2],h&&(h.unit=Aa,h.start=sa,h.end=l)),l}function Ha(a){var c='abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video'.split(' ');
a=a.createDocumentFragment();if(a.createElement)for(;c.length;)a.createElement(c.pop());return a}function Q(a,c){var e,h,l=0,D='undefined'!=typeof a.getElementsByTagName?a.getElementsByTagName(c||'*'):'undefined'!=typeof a.querySelectorAll?a.querySelectorAll(c||'*'):void 0;if(!D)for(D=[],e=a.childNodes||a;null!=(h=e[l]);l++)!c||b.nodeName(h,c)?D.push(h):b.merge(D,Q(h,c));return void 0===c||c&&b.nodeName(a,c)?b.merge([a],D):D}function J(a,c){for(var e,h=0;null!=(e=a[h]);h++)b._data(e,'globalEval',
!c||b._data(c[h],'globalEval'))}function u(a){jb.test(a.type)&&(a.defaultChecked=a.checked)}function p(a,c,e,h,l){for(var D,G,aa,ma,Aa,sa,Qa,Xa=a.length,xb=Ha(c),gb=[],Nb=0;Xa>Nb;Nb++)if(G=a[Nb],G||0===G)if('object'===b.type(G))b.merge(gb,G.nodeType?[G]:G);else if(Pa.test(G)){ma=ma||xb.appendChild(c.createElement('div'));Aa=(ea.exec(G)||['',''])[1].toLowerCase();Qa=pa[Aa]||pa._default;ma.innerHTML=Qa[1]+b.htmlPrefilter(G)+Qa[2];for(D=Qa[0];D--;)ma=ma.lastChild;if(!k.leadingWhitespace&&ha.test(G)&&
gb.push(c.createTextNode(ha.exec(G)[0])),!k.tbody)for(D=(G='table'!==Aa||eb.test(G)?'<table>'!==Qa[1]||eb.test(G)?0:ma:ma.firstChild)&&G.childNodes.length;D--;)b.nodeName(sa=G.childNodes[D],'tbody')&&!sa.childNodes.length&&G.removeChild(sa);b.merge(gb,ma.childNodes);for(ma.textContent='';ma.firstChild;)ma.removeChild(ma.firstChild);ma=xb.lastChild}else gb.push(c.createTextNode(G));ma&&xb.removeChild(ma);k.appendChecked||b.grep(Q(gb,'input'),u);for(Nb=0;G=gb[Nb++];)if(h&&-1<b.inArray(G,h))l&&l.push(G);
else if(aa=b.contains(G.ownerDocument,G),ma=Q(xb.appendChild(G),'script'),aa&&J(ma),e)for(D=0;G=ma[D++];)Z.test(G.type||'')&&e.push(G);return xb}function q(){return!0}function H(){return!1}function I(){try{return Ra.activeElement}catch(a){}}function w(a,c,e,h,l,D){var G,aa;if('object'==typeof c){'string'!=typeof e&&(h=h||e,e=void 0);for(aa in c)w(a,aa,e,h,c[aa],D);return a}if(null==h&&null==l?(l=e,h=e=void 0):null==l&&('string'==typeof e?(l=h,h=void 0):(l=h,h=e,e=void 0)),!1===l)l=H;else if(!l)return a;
return 1===D&&(G=l,l=function(ma){return b().off(ma),G.apply(this,arguments)},l.guid=G.guid||(G.guid=b.guid++)),a.each(function(){b.event.add(this,c,l,h,e)})}function x(a,c){return b.nodeName(a,'table')&&b.nodeName(11!==c.nodeType?c:c.firstChild,'tr')?a.getElementsByTagName('tbody')[0]||a.appendChild(a.ownerDocument.createElement('tbody')):a}function B(a){return a.type=(null!==b.find.attr(a,'type'))+'/'+a.type,a}function F(a){var c=Lb.exec(a.type);return c?a.type=c[1]:a.removeAttribute('type'),a}
function N(a,c){if(1===c.nodeType&&b.hasData(a)){var e,h;var l=b._data(a);a=b._data(c,l);var D=l.events;if(D)for(e in delete a.handle,a.events={},D)for(l=0,h=D[e].length;h>l;l++)b.event.add(c,e,D[e][l]);a.data&&(a.data=b.extend({},a.data))}}function y(a,c,e,h){c=wa.apply([],c);var l,D,G,aa=0,ma=a.length,Aa=ma-1,sa=c[0],Qa=b.isFunction(sa);if(Qa||1<ma&&'string'==typeof sa&&!k.checkClone&&Hb.test(sa))return a.each(function(xb){var gb=a.eq(xb);Qa&&(c[0]=sa.call(this,xb,gb.html()));y(gb,c,e,h)});if(ma&&
(G=p(c,a[0].ownerDocument,!1,a,h),l=G.firstChild,1===G.childNodes.length&&(G=l),l||h)){var Xa=b.map(Q(G,'script'),B);for(D=Xa.length;ma>aa;aa++)l=G,aa!==Aa&&(l=b.clone(l,!0,!0),D&&b.merge(Xa,Q(l,'script'))),e.call(a[aa],l,aa);if(D)for(G=Xa[Xa.length-1].ownerDocument,b.map(Xa,F),aa=0;D>aa;aa++)l=Xa[aa],Z.test(l.type||'')&&!b._data(l,'globalEval')&&b.contains(G,l)&&(l.src?b._evalUrl&&b._evalUrl(l.src):b.globalEval((l.text||l.textContent||l.innerHTML||'').replace(Bc,'')));G=l=null}return a}function S(a,
c,e){for(var h=c?b.filter(c,a):a,l=0;null!=(c=h[l]);l++)e||1!==c.nodeType||b.cleanData(Q(c)),c.parentNode&&(e&&b.contains(c.ownerDocument,c)&&J(Q(c,'script')),c.parentNode.removeChild(c));return a}function X(a,c){a=b(c.createElement(a)).appendTo(c.body);c=b.css(a[0],'display');return a.detach(),c}function xa(a){var c=Ra,e=Gc[a];return e||(e=X(a,c),'none'!==e&&e||(Xb=(Xb||b("<iframe frameborder='0' width='0' height='0'/>")).appendTo(c.documentElement),c=(Xb[0].contentWindow||Xb[0].contentDocument).document,
c.write(),c.close(),e=X(a,c),Xb.detach()),Gc[a]=e),e}function na(a,c){return{get:function(){return a()?void delete this.get:(this.get=c).apply(this,arguments)}}}function Da(a){if(a in jd)return a;for(var c=a.charAt(0).toUpperCase()+a.slice(1),e=kd.length;e--;)if(a=kd[e]+c,a in jd)return a}function Ia(a,c){for(var e,h,l,D=[],G=0,aa=a.length;aa>G;G++)h=a[G],h.style&&(D[G]=b._data(h,'olddisplay'),e=h.style.display,c?(D[G]||'none'!==e||(h.style.display=''),''===h.style.display&&Wb(h)&&(D[G]=b._data(h,
'olddisplay',xa(h.nodeName)))):(l=Wb(h),(e&&'none'!==e||!l)&&b._data(h,'olddisplay',l?e:b.css(h,'display'))));for(G=0;aa>G;G++)h=a[G],h.style&&(c&&'none'!==h.style.display&&''!==h.style.display||(h.style.display=c?D[G]||'':'none'));return a}function Ea(a,c,e){return(a=wd.exec(c))?Math.max(0,a[1]-(e||0))+(a[2]||'px'):c}function va(a,c,e,h,l){c=e===(h?'border':'content')?4:'width'===c?1:0;for(var D=0;4>c;c+=2)'margin'===e&&(D+=b.css(a,e+Db[c],!0,l)),h?('content'===e&&(D-=b.css(a,'padding'+Db[c],!0,
l)),'margin'!==e&&(D-=b.css(a,'border'+Db[c]+'Width',!0,l))):(D+=b.css(a,'padding'+Db[c],!0,l),'padding'!==e&&(D+=b.css(a,'border'+Db[c]+'Width',!0,l)));return D}function Ca(a,c,e){var h=!0,l='width'===c?a.offsetWidth:a.offsetHeight,D=wc(a),G=k.boxSizing&&'border-box'===b.css(a,'boxSizing',!1,D);if(0>=l||null==l){if(l=rc(a,c,D),(0>l||null==l)&&(l=a.style[c]),Pb.test(l))return l;h=G&&(k.boxSizingReliable()||l===a.style[c]);l=parseFloat(l)||0}return l+va(a,c,e||(G?'border':'content'),h,D)+'px'}function Ta(a,
c,e,h,l){return new Ta.prototype.init(a,c,e,h,l)}function Va(){return E.setTimeout(function(){Hc=void 0}),Hc=b.now()}function Ua(a,c){var e={height:a},h=0;for(c=c?1:0;4>h;h+=2-c){var l=Db[h];e['margin'+l]=e['padding'+l]=a}return c&&(e.opacity=e.width=a),e}function zb(a,c,e){for(var h,l=(Na.tweeners[c]||[]).concat(Na.tweeners['*']),D=0,G=l.length;G>D;D++)if(h=l[D].call(e,c,a))return h}function Ja(a,c){var e,h,l,D,G;for(e in a)if(h=b.camelCase(e),l=c[h],D=a[e],b.isArray(D)&&(l=D[1],D=a[e]=D[0]),e!==
h&&(a[h]=D,delete a[e]),G=b.cssHooks[h],G&&'expand'in G)for(e in D=G.expand(D),delete a[h],D)e in a||(a[e]=D[e],c[e]=l);else c[h]=l}function Na(a,c,e){var h,l=0,D=Na.prefilters.length,G=b.Deferred().always(function(){delete aa.elem}),aa=function(){if(h)return!1;var Aa=Hc||Va();Aa=Math.max(0,ma.startTime+ma.duration-Aa);for(var sa=1-(Aa/ma.duration||0),Qa=0,Xa=ma.tweens.length;Xa>Qa;Qa++)ma.tweens[Qa].run(sa);return G.notifyWith(a,[ma,sa,Aa]),1>sa&&Xa?Aa:(G.resolveWith(a,[ma]),!1)},ma=G.promise({elem:a,
props:b.extend({},c),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},e),originalProperties:c,originalOptions:e,startTime:Hc||Va(),duration:e.duration,tweens:[],createTween:function(Aa,sa){Aa=b.Tween(a,ma.opts,Aa,sa,ma.opts.specialEasing[Aa]||ma.opts.easing);return ma.tweens.push(Aa),Aa},stop:function(Aa){var sa=0,Qa=Aa?ma.tweens.length:0;if(h)return this;for(h=!0;Qa>sa;sa++)ma.tweens[sa].run(1);return Aa?(G.notifyWith(a,[ma,1,0]),G.resolveWith(a,[ma,Aa])):G.rejectWith(a,[ma,Aa]),this}});
e=ma.props;for(Ja(e,ma.opts.specialEasing);D>l;l++)if(c=Na.prefilters[l].call(ma,a,e,ma.opts))return b.isFunction(c.stop)&&(b._queueHooks(ma.elem,ma.opts.queue).stop=b.proxy(c.stop,c)),c;return b.map(e,zb,ma),b.isFunction(ma.opts.start)&&ma.opts.start.call(a,ma),b.fx.timer(b.extend(aa,{elem:a,anim:ma,queue:ma.opts.queue})),ma.progress(ma.opts.progress).done(ma.opts.done,ma.opts.complete).fail(ma.opts.fail).always(ma.opts.always)}function ab(a){return b.attr(a,'class')||''}function Ab(a){return function(c,
e){'string'!=typeof c&&(e=c,c='*');var h=0,l=c.toLowerCase().match(Ba)||[];if(b.isFunction(e))for(;c=l[h++];)'+'===c.charAt(0)?(c=c.slice(1)||'*',(a[c]=a[c]||[]).unshift(e)):(a[c]=a[c]||[]).push(e)}}function db(a,c,e,h){function l(aa){var ma;return D[aa]=!0,b.each(a[aa]||[],function(Aa,sa){Aa=sa(c,e,h);return'string'!=typeof Aa||G||D[Aa]?G?!(ma=Aa):void 0:(c.dataTypes.unshift(Aa),l(Aa),!1)}),ma}var D={},G=a===Xc;return l(c.dataTypes[0])||!D['*']&&l('*')}function cb(a,c){var e,h,l=b.ajaxSettings.flatOptions||
{};for(h in c)void 0!==c[h]&&((l[h]?a:e||={})[h]=c[h]);return e&&b.extend(!0,a,e),a}function sb(a){if(!b.contains(a.ownerDocument||Ra,a))return!0;for(;a&&1===a.nodeType;){if('none'===(a.style&&a.style.display||b.css(a,'display'))||'hidden'===a.type)return!0;a=a.parentNode}return!1}function Cb(a,c,e,h){var l;if(b.isArray(c))b.each(c,function(D,G){e||xd.test(a)?h(a,G):Cb(a+'['+('object'==typeof G&&null!=G?D:'')+']',G,e,h)});else if(e||'object'!==b.type(c))h(a,c);else for(l in c)Cb(a+'['+l+']',c[l],
e,h)}function Jb(){try{return new E.XMLHttpRequest}catch(a){}}function yb(){try{return new E.ActiveXObject('Microsoft.XMLHTTP')}catch(a){}}function Gb(a){return b.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var Kb=[],Ra=E.document,la=Kb.slice,wa=Kb.concat,La=Kb.push,W=Kb.indexOf,oa={},ya=oa.toString,Oa=oa.hasOwnProperty,k={},b=function(a,c){return new b.fn.init(a,c)},g=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/^-ms-/,A=/-([\da-z])/gi,z=function(a,c){return c.toUpperCase()};b.fn=b.prototype=
{jquery:'1.12.4',constructor:b,selector:'',length:0,toArray:function(){return la.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:la.call(this)},pushStack:function(a){a=b.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a){return b.each(this,a)},map:function(a){return this.pushStack(b.map(this,function(c,e){return a.call(c,e,c)}))},slice:function(){return this.pushStack(la.apply(this,arguments))},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},eq:function(a){var c=this.length;a=+a+(0>a?c:0);return this.pushStack(0<=a&&c>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:La,sort:Kb.sort,splice:Kb.splice};b.extend=b.fn.extend=function(){var a,c,e,h,l=arguments[0]||{},D=1,G=arguments.length,aa=!1;'boolean'==typeof l&&(aa=l,l=arguments[D]||{},D++);'object'==typeof l||b.isFunction(l)||(l={});for(D===G&&(l=this,D--);G>D;D++)if(null!=(e=arguments[D]))for(c in e){var ma=l[c];var Aa=
e[c];l!==Aa&&(aa&&Aa&&(b.isPlainObject(Aa)||(a=b.isArray(Aa)))?(a?(a=!1,h=ma&&b.isArray(ma)?ma:[]):h=ma&&b.isPlainObject(ma)?ma:{},l[c]=b.extend(aa,h,Aa)):void 0!==Aa&&(l[c]=Aa))}return l};b.extend({expando:'jQuery'+('1.12.4'+Math.random()).replace(/\D/g,''),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return'function'===b.type(a)},isArray:Array.isArray||function(a){return'array'===b.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var c=
a&&a.toString();return!b.isArray(a)&&0<=c-parseFloat(c)+1},isEmptyObject:function(a){for(var c in a)return!1;return!0},isPlainObject:function(a){var c;if(!a||'object'!==b.type(a)||a.nodeType||b.isWindow(a))return!1;try{if(a.constructor&&!Oa.call(a,'constructor')&&!Oa.call(a.constructor.prototype,'isPrototypeOf'))return!1}catch(e){return!1}if(!k.ownFirst)for(c in a)return Oa.call(a,c);for(c in a);return void 0===c||Oa.call(a,c)},type:function(a){return null==a?a+'':'object'==typeof a||'function'==
typeof a?oa[ya.call(a)]||'object':typeof a},globalEval:function(a){a&&b.trim(a)&&(E.execScript||function(c){E.eval.call(E,c)})(a)},camelCase:function(a){return a.replace(n,'ms-').replace(A,z)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()},each:function(a,c){var e,h=0;if(da(a))for(e=a.length;e>h&&!1!==c.call(a[h],h,a[h]);h++);else for(h in a)if(!1===c.call(a[h],h,a[h]))break;return a},trim:function(a){return null==a?'':(a+'').replace(g,'')},makeArray:function(a,
c){c=c||[];return null!=a&&(da(Object(a))?b.merge(c,'string'==typeof a?[a]:a):La.call(c,a)),c},inArray:function(a,c,e){if(c){if(W)return W.call(c,a,e);var h=c.length;for(e=e?0>e?Math.max(0,h+e):e:0;h>e;e++)if(e in c&&c[e]===a)return e}return-1},merge:function(a,c){for(var e=+c.length,h=0,l=a.length;e>h;)a[l++]=c[h++];if(e!==e)for(;void 0!==c[h];)a[l++]=c[h++];return a.length=l,a},grep:function(a,c,e){for(var h=[],l=0,D=a.length,G=!e;D>l;l++)e=!c(a[l],l),e!==G&&h.push(a[l]);return h},map:function(a,
c,e){var h,l=0,D=[];if(da(a))for(h=a.length;h>l;l++){var G=c(a[l],l,e);null!=G&&D.push(G)}else for(l in a)G=c(a[l],l,e),null!=G&&D.push(G);return wa.apply([],D)},guid:1,proxy:function(a,c){var e,h,l;return'string'==typeof c&&(l=a[c],c=a,a=l),b.isFunction(a)?(e=la.call(arguments,2),h=function(){return a.apply(c||this,e.concat(la.call(arguments)))},h.guid=a.guid=a.guid||b.guid++,h):void 0},now:function(){return+new Date},support:k});'function'==typeof Symbol&&(b.fn[Symbol.iterator]=Kb[Symbol.iterator]);
b.each('Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' '),function(a,c){oa['[object '+c+']']=c.toLowerCase()});var C=function(a){function c(K,ca,ja,ua){var Fa,Ka,Sa,fb,Ya=ca&&ca.ownerDocument,lb=ca?ca.nodeType:9;if(ja=ja||[],'string'!=typeof K||!K||1!==lb&&9!==lb&&11!==lb)return ja;if(!ua&&((ca?ca.ownerDocument||ca:ac)!==tb&&Dc(ca),ca=ca||tb,gc)){if(11!==lb&&(fb=yd.exec(K)))if(Fa=fb[1])if(9===lb){if(!(Ka=ca.getElementById(Fa)))return ja;if(Ka.id===Fa)return ja.push(Ka),
ja}else{if(Ya&&(Ka=Ya.getElementById(Fa))&&nc(ca,Ka)&&Ka.id===Fa)return ja.push(Ka),ja}else{if(fb[2])return Cc.apply(ja,ca.getElementsByTagName(K)),ja;if((Fa=fb[3])&&Sb.getElementsByClassName&&ca.getElementsByClassName)return Cc.apply(ja,ca.getElementsByClassName(Fa)),ja}if(!(!Sb.qsa||bc[K+' ']||Yb&&Yb.test(K))){if(1!==lb){Ya=ca;var ob=K}else if('object'!==ca.nodeName.toLowerCase()){(Sa=ca.getAttribute('id'))?Sa=Sa.replace(zd,'\\$&'):ca.setAttribute('id',Sa=Eb);fb=Pc(K);Fa=fb.length;for(Ka=ld.test(Sa)?
'#'+Sa:"[id='"+Sa+"']";Fa--;)fb[Fa]=Ka+' '+Xa(fb[Fa]);ob=fb.join(',');Ya=Yc.test(K)&&sa(ca.parentNode)||ca}if(ob)try{return Cc.apply(ja,Ya.querySelectorAll(ob)),ja}catch(kb){}finally{Sa===Eb&&ca.removeAttribute('id')}}}return hc(K.replace(Qc,'$1'),ca,ja,ua)}function e(){function K(ja,ua){return ca.push(ja+' ')>Ib.cacheLength&&delete K[ca.shift()],K[ja+' ']=ua}var ca=[];return K}function h(K){return K[Eb]=!0,K}function l(K){var ca=tb.createElement('div');try{return!!K(ca)}catch(ja){return!1}finally{ca.parentNode&&
ca.parentNode.removeChild(ca)}}function D(K,ca){K=K.split('|');for(var ja=K.length;ja--;)Ib.attrHandle[K[ja]]=ca}function G(K,ca){var ja=ca&&K,ua=ja&&1===K.nodeType&&1===ca.nodeType&&(~ca.sourceIndex||-2147483648)-(~K.sourceIndex||-2147483648);if(ua)return ua;if(ja)for(;ja=ja.nextSibling;)if(ja===ca)return-1;return K?1:-1}function aa(K){return function(ca){return'input'===ca.nodeName.toLowerCase()&&ca.type===K}}function ma(K){return function(ca){var ja=ca.nodeName.toLowerCase();return('input'===ja||
'button'===ja)&&ca.type===K}}function Aa(K){return h(function(ca){return ca=+ca,h(function(ja,ua){for(var Fa,Ka=K([],ja.length,ca),Sa=Ka.length;Sa--;)ja[Fa=Ka[Sa]]&&(ja[Fa]=!(ua[Fa]=ja[Fa]))})})}function sa(K){return K&&'undefined'!=typeof K.getElementsByTagName&&K}function Qa(){}function Xa(K){for(var ca=0,ja=K.length,ua='';ja>ca;ca++)ua+=K[ca].value;return ua}function xb(K,ca,ja){var ua=ca.dir,Fa=ja&&'parentNode'===ua,Ka=Tb++;return ca.first?function(Sa,fb,Ya){for(;Sa=Sa[ua];)if(1===Sa.nodeType||
Fa)return K(Sa,fb,Ya)}:function(Sa,fb,Ya){var lb,ob,kb,Ob=[Zb,Ka];if(Ya)for(;Sa=Sa[ua];){if((1===Sa.nodeType||Fa)&&K(Sa,fb,Ya))return!0}else for(;Sa=Sa[ua];)if(1===Sa.nodeType||Fa){if(kb=Sa[Eb]||(Sa[Eb]={}),ob=kb[Sa.uniqueID]||(kb[Sa.uniqueID]={}),(lb=ob[ua])&&lb[0]===Zb&&lb[1]===Ka)return Ob[2]=lb[2];if(ob[ua]=Ob,Ob[2]=K(Sa,fb,Ya))return!0}}}function gb(K){return 1<K.length?function(ca,ja,ua){for(var Fa=K.length;Fa--;)if(!K[Fa](ca,ja,ua))return!1;return!0}:K[0]}function Nb(K,ca,ja,ua,Fa){for(var Ka,
Sa=[],fb=0,Ya=K.length,lb=null!=ca;Ya>fb;fb++)(Ka=K[fb])&&(ja&&!ja(Ka,ua,Fa)||(Sa.push(Ka),lb&&ca.push(fb)));return Sa}function kc(K,ca,ja,ua,Fa,Ka){return ua&&!ua[Eb]&&(ua=kc(ua)),Fa&&!Fa[Eb]&&(Fa=kc(Fa,Ka)),h(function(Sa,fb,Ya,lb){var ob,kb=[],Ob=[],cc=fb.length,$b;if(!($b=Sa)){$b=ca||'*';for(var ub=Ya.nodeType?[Ya]:Ya,sc=[],ic=0,qc=ub.length;qc>ic;ic++)c($b,ub[ic],sc);$b=sc}$b=!K||!Sa&&ca?$b:Nb($b,kb,K,Ya,lb);ub=ja?Fa||(Sa?K:cc||ua)?[]:fb:$b;if(ja&&ja($b,ub,Ya,lb),ua){var dc=Nb(ub,Ob);ua(dc,[],
Ya,lb);for(Ya=dc.length;Ya--;)(ob=dc[Ya])&&(ub[Ob[Ya]]=!($b[Ob[Ya]]=ob))}if(Sa){if(Fa||K){if(Fa){dc=[];for(Ya=ub.length;Ya--;)(ob=ub[Ya])&&dc.push($b[Ya]=ob);Fa(null,ub=[],dc,lb)}for(Ya=ub.length;Ya--;)(ob=ub[Ya])&&-1<(dc=Fa?Ec(Sa,ob):kb[Ya])&&(Sa[dc]=!(fb[dc]=ob))}}else ub=Nb(ub===fb?ub.splice(cc,ub.length):ub),Fa?Fa(null,fb,ub,lb):Cc.apply(fb,ub)})}function Ic(K){var ca,ja,ua=K.length,Fa=Ib.relative[K[0].type];var Ka=Fa||Ib.relative[' '];for(var Sa=Fa?1:0,fb=xb(function(ob){return ob===ca},Ka,!0),
Ya=xb(function(ob){return-1<Ec(ca,ob)},Ka,!0),lb=[function(ob,kb,Ob){ob=!Fa&&(Ob||kb!==Fb)||((ca=kb).nodeType?fb(ob,kb,Ob):Ya(ob,kb,Ob));return ca=null,ob}];ua>Sa;Sa++)if(Ka=Ib.relative[K[Sa].type])lb=[xb(gb(lb),Ka)];else{if(Ka=Ib.filter[K[Sa].type].apply(null,K[Sa].matches),Ka[Eb]){for(ja=++Sa;ua>ja&&!Ib.relative[K[ja].type];ja++);return kc(1<Sa&&gb(lb),1<Sa&&Xa(K.slice(0,Sa-1).concat({value:' '===K[Sa-2].type?'*':''})).replace(Qc,'$1'),Ka,ja>Sa&&Ic(K.slice(Sa,ja)),ua>ja&&Ic(K=K.slice(ja)),ua>ja&&
Xa(K))}lb.push(Ka)}return gb(lb)}function lc(K,ca){var ja=0<ca.length,ua=0<K.length,Fa=function(Ka,Sa,fb,Ya,lb){var ob,kb,Ob=0,cc='0',$b=Ka&&[],ub=[],sc=Fb,ic=Ka||ua&&Ib.find.TAG('*',lb),qc=Zb+=null==sc?1:Math.random()||.1,dc=ic.length;for(lb&&(Fb=Sa===tb||Sa||lb);cc!==dc&&null!=(ob=ic[cc]);cc++){if(ua&&ob){var Zc=0;for(Sa||ob.ownerDocument===tb||(Dc(ob),fb=!gc);kb=K[Zc++];)if(kb(ob,Sa||tb,fb)){Ya.push(ob);break}lb&&(Zb=qc)}ja&&((ob=!kb&&ob)&&Ob--,Ka&&$b.push(ob))}if(Ob+=cc,ja&&cc!==Ob){for(Zc=0;kb=
ca[Zc++];)kb($b,ub,Sa,fb);if(Ka){if(0<Ob)for(;cc--;)$b[cc]||ub[cc]||(ub[cc]=$c.call(Ya));ub=Nb(ub)}Cc.apply(Ya,ub);lb&&!Ka&&0<ub.length&&1<Ob+ca.length&&c.uniqueSort(Ya)}return lb&&(Zb=qc,Fb=sc),$b};return ja?h(Fa):Fa}var xc,vb,hc,Fb,Rb,Ub,tb,jc,gc,Yb,ec,Vb,nc,Eb='sizzle'+1*new Date,ac=a.document,Zb=0,Tb=0,Jc=e(),oc=e(),bc=e(),tc=function(K,ca){return K===ca&&(Ub=!0),0},uc={}.hasOwnProperty,mc=[],$c=mc.pop,Ad=mc.push,Cc=mc.push,md=mc.slice,Ec=function(K,ca){for(var ja=0,ua=K.length;ua>ja;ja++)if(K[ja]===
ca)return ja;return-1},Bd=RegExp('[\\x20\\t\\r\\n\\f]+','g'),Qc=RegExp('^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$','g'),Cd=RegExp('^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*'),Dd=RegExp('^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*'),Ed=RegExp('=[\\x20\\t\\r\\n\\f]*([^\\]\'"]*?)[\\x20\\t\\r\\n\\f]*\\]','g'),Fd=RegExp(':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
ld=RegExp('^(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+$'),Rc={ID:RegExp('^#((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),CLASS:RegExp('^\\.((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),TAG:RegExp('^((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+|[*])'),ATTR:RegExp('^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]'),PSEUDO:RegExp('^:((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
CHILD:RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)','i'),bool:RegExp('^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$','i'),needsContext:RegExp('^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)',
'i')},Gd=/^(?:input|select|textarea|button)$/i,Hd=/^h\d$/i,Mc=/^[^{]+\{\s*\[native \w/,yd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Yc=/[+~]/,zd=/'|\\/g,yc=RegExp('\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)','ig'),zc=function(K,ca,ja){K='0x'+ca-65536;return K!==K||ja?ca:0>K?String.fromCharCode(K+65536):String.fromCharCode(K>>10|55296,1023&K|56320)},nd=function(){Dc()};try{Cc.apply(mc=md.call(ac.childNodes),ac.childNodes),mc[ac.childNodes.length].nodeType}catch(K){Cc={apply:mc.length?
function(ca,ja){Ad.apply(ca,md.call(ja))}:function(ca,ja){for(var ua=ca.length,Fa=0;ca[ua++]=ja[Fa++];);ca.length=ua-1}}}var Sb=c.support={};var Id=c.isXML=function(K){return(K=K&&(K.ownerDocument||K).documentElement)?'HTML'!==K.nodeName:!1};var Dc=c.setDocument=function(K){var ca,ja;K=K?K.ownerDocument||K:ac;return K!==tb&&9===K.nodeType&&K.documentElement?(tb=K,jc=tb.documentElement,gc=!Id(tb),(ja=tb.defaultView)&&ja.top!==ja&&(ja.addEventListener?ja.addEventListener('unload',nd,!1):ja.attachEvent&&
ja.attachEvent('onunload',nd)),Sb.attributes=l(function(ua){return ua.className='i',!ua.getAttribute('className')}),Sb.getElementsByTagName=l(function(ua){return ua.appendChild(tb.createComment('')),!ua.getElementsByTagName('*').length}),Sb.getElementsByClassName=Mc.test(tb.getElementsByClassName),Sb.getById=l(function(ua){return jc.appendChild(ua).id=Eb,!tb.getElementsByName||!tb.getElementsByName(Eb).length}),Sb.getById?(Ib.find.ID=function(ua,Fa){if('undefined'!=typeof Fa.getElementById&&gc)return(ua=
Fa.getElementById(ua))?[ua]:[]},Ib.filter.ID=function(ua){var Fa=ua.replace(yc,zc);return function(Ka){return Ka.getAttribute('id')===Fa}}):(delete Ib.find.ID,Ib.filter.ID=function(ua){var Fa=ua.replace(yc,zc);return function(Ka){return(Ka='undefined'!=typeof Ka.getAttributeNode&&Ka.getAttributeNode('id'))&&Ka.value===Fa}}),Ib.find.TAG=Sb.getElementsByTagName?function(ua,Fa){return'undefined'!=typeof Fa.getElementsByTagName?Fa.getElementsByTagName(ua):Sb.qsa?Fa.querySelectorAll(ua):void 0}:function(ua,
Fa){var Ka=[],Sa=0;Fa=Fa.getElementsByTagName(ua);if('*'===ua){for(;ua=Fa[Sa++];)1===ua.nodeType&&Ka.push(ua);return Ka}return Fa},Ib.find.CLASS=Sb.getElementsByClassName&&function(ua,Fa){return'undefined'!=typeof Fa.getElementsByClassName&&gc?Fa.getElementsByClassName(ua):void 0},ec=[],Yb=[],(Sb.qsa=Mc.test(tb.querySelectorAll))&&(l(function(ua){jc.appendChild(ua).innerHTML="<a id='"+Eb+"'></a><select id='"+Eb+"-\r\\' msallowcapture=''><option selected=''></option></select>";ua.querySelectorAll("[msallowcapture^='']").length&&
Yb.push('[*^$]=[\\x20\\t\\r\\n\\f]*(?:\'\'|"")');ua.querySelectorAll('[selected]').length||Yb.push('\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)');ua.querySelectorAll('[id~='+Eb+'-]').length||Yb.push('~=');ua.querySelectorAll(':checked').length||Yb.push(':checked');ua.querySelectorAll('a#'+Eb+'+*').length||Yb.push('.#.+[+~]')}),l(function(ua){var Fa=tb.createElement('input');Fa.setAttribute('type',
'hidden');ua.appendChild(Fa).setAttribute('name','D');ua.querySelectorAll('[name=d]').length&&Yb.push('name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=');ua.querySelectorAll(':enabled').length||Yb.push(':enabled',':disabled');ua.querySelectorAll('*,:x');Yb.push(',.*:')})),(Sb.matchesSelector=Mc.test(Vb=jc.matches||jc.webkitMatchesSelector||jc.mozMatchesSelector||jc.oMatchesSelector||jc.msMatchesSelector))&&l(function(ua){Sb.disconnectedMatch=Vb.call(ua,'div');Vb.call(ua,"[s!='']:x");ec.push('!=',':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)')}),
Yb=Yb.length&&new RegExp(Yb.join('|')),ec=ec.length&&new RegExp(ec.join('|')),ca=Mc.test(jc.compareDocumentPosition),nc=ca||Mc.test(jc.contains)?function(ua,Fa){var Ka=9===ua.nodeType?ua.documentElement:ua;Fa=Fa&&Fa.parentNode;return ua===Fa||!(!Fa||1!==Fa.nodeType||!(Ka.contains?Ka.contains(Fa):ua.compareDocumentPosition&&16&ua.compareDocumentPosition(Fa)))}:function(ua,Fa){if(Fa)for(;Fa=Fa.parentNode;)if(Fa===ua)return!0;return!1},tc=ca?function(ua,Fa){if(ua===Fa)return Ub=!0,0;var Ka=!ua.compareDocumentPosition-
!Fa.compareDocumentPosition;return Ka?Ka:(Ka=(ua.ownerDocument||ua)===(Fa.ownerDocument||Fa)?ua.compareDocumentPosition(Fa):1,1&Ka||!Sb.sortDetached&&Fa.compareDocumentPosition(ua)===Ka?ua===tb||ua.ownerDocument===ac&&nc(ac,ua)?-1:Fa===tb||Fa.ownerDocument===ac&&nc(ac,Fa)?1:Rb?Ec(Rb,ua)-Ec(Rb,Fa):0:4&Ka?-1:1)}:function(ua,Fa){if(ua===Fa)return Ub=!0,0;var Ka=0,Sa=ua.parentNode,fb=Fa.parentNode,Ya=[ua],lb=[Fa];if(!Sa||!fb)return ua===tb?-1:Fa===tb?1:Sa?-1:fb?1:Rb?Ec(Rb,ua)-Ec(Rb,Fa):0;if(Sa===fb)return G(ua,
Fa);for(;ua=ua.parentNode;)Ya.unshift(ua);for(ua=Fa;ua=ua.parentNode;)lb.unshift(ua);for(;Ya[Ka]===lb[Ka];)Ka++;return Ka?G(Ya[Ka],lb[Ka]):Ya[Ka]===ac?-1:lb[Ka]===ac?1:0},tb):tb};c.matches=function(K,ca){return c(K,null,null,ca)};c.matchesSelector=function(K,ca){if((K.ownerDocument||K)!==tb&&Dc(K),ca=ca.replace(Ed,"='$1']"),!(!Sb.matchesSelector||!gc||bc[ca+' ']||ec&&ec.test(ca)||Yb&&Yb.test(ca)))try{var ja=Vb.call(K,ca);if(ja||Sb.disconnectedMatch||K.document&&11!==K.document.nodeType)return ja}catch(ua){}return 0<
c(ca,tb,null,[K]).length};c.contains=function(K,ca){return(K.ownerDocument||K)!==tb&&Dc(K),nc(K,ca)};c.attr=function(K,ca){(K.ownerDocument||K)!==tb&&Dc(K);var ja=Ib.attrHandle[ca.toLowerCase()];ja=ja&&uc.call(Ib.attrHandle,ca.toLowerCase())?ja(K,ca,!gc):void 0;return void 0!==ja?ja:Sb.attributes||!gc?K.getAttribute(ca):(ja=K.getAttributeNode(ca))&&ja.specified?ja.value:null};c.error=function(K){throw Error('Syntax error, unrecognized expression: '+K);};c.uniqueSort=function(K){var ca,ja=[],ua=0,
Fa=0;if(Ub=!Sb.detectDuplicates,Rb=!Sb.sortStable&&K.slice(0),K.sort(tc),Ub){for(;ca=K[Fa++];)ca===K[Fa]&&(ua=ja.push(Fa));for(;ua--;)K.splice(ja[ua],1)}return Rb=null,K};var ad=c.getText=function(K){var ca,ja='',ua=0;if(ca=K.nodeType)if(1===ca||9===ca||11===ca){if('string'==typeof K.textContent)return K.textContent;for(K=K.firstChild;K;K=K.nextSibling)ja+=ad(K)}else{if(3===ca||4===ca)return K.nodeValue}else for(;ca=K[ua++];)ja+=ad(ca);return ja};var Ib=c.selectors={cacheLength:50,createPseudo:h,
match:Rc,attrHandle:{},find:{},relative:{'>':{dir:'parentNode',first:!0},' ':{dir:'parentNode'},'+':{dir:'previousSibling',first:!0},'~':{dir:'previousSibling'}},preFilter:{ATTR:function(K){return K[1]=K[1].replace(yc,zc),K[3]=(K[3]||K[4]||K[5]||'').replace(yc,zc),'~='===K[2]&&(K[3]=' '+K[3]+' '),K.slice(0,4)},CHILD:function(K){return K[1]=K[1].toLowerCase(),'nth'===K[1].slice(0,3)?(K[3]||c.error(K[0]),K[4]=+(K[4]?K[5]+(K[6]||1):2*('even'===K[3]||'odd'===K[3])),K[5]=+(K[7]+K[8]||'odd'===K[3])):K[3]&&
c.error(K[0]),K},PSEUDO:function(K){var ca,ja=!K[6]&&K[2];return Rc.CHILD.test(K[0])?null:(K[3]?K[2]=K[4]||K[5]||'':ja&&Fd.test(ja)&&(ca=Pc(ja,!0))&&(ca=ja.indexOf(')',ja.length-ca)-ja.length)&&(K[0]=K[0].slice(0,ca),K[2]=ja.slice(0,ca)),K.slice(0,3))}},filter:{TAG:function(K){var ca=K.replace(yc,zc).toLowerCase();return'*'===K?function(){return!0}:function(ja){return ja.nodeName&&ja.nodeName.toLowerCase()===ca}},CLASS:function(K){var ca=Jc[K+' '];return ca||(ca=new RegExp('(^|[\\x20\\t\\r\\n\\f])'+
K+'([\\x20\\t\\r\\n\\f]|$)'),Jc(K,function(ja){return ca.test('string'==typeof ja.className&&ja.className||'undefined'!=typeof ja.getAttribute&&ja.getAttribute('class')||'')}))},ATTR:function(K,ca,ja){return function(ua){ua=c.attr(ua,K);return null==ua?'!='===ca:ca?(ua+='','='===ca?ua===ja:'!='===ca?ua!==ja:'^='===ca?ja&&0===ua.indexOf(ja):'*='===ca?ja&&-1<ua.indexOf(ja):'$='===ca?ja&&ua.slice(-ja.length)===ja:'~='===ca?-1<(' '+ua.replace(Bd,' ')+' ').indexOf(ja):'|='===ca?ua===ja||ua.slice(0,ja.length+
1)===ja+'-':!1):!0}},CHILD:function(K,ca,ja,ua,Fa){var Ka='nth'!==K.slice(0,3),Sa='last'!==K.slice(-4),fb='of-type'===ca;return 1===ua&&0===Fa?function(Ya){return!!Ya.parentNode}:function(Ya,lb,ob){var kb,Ob;lb=Ka!==Sa?'nextSibling':'previousSibling';var cc=Ya.parentNode,$b=fb&&Ya.nodeName.toLowerCase();ob=!ob&&!fb;var ub=!1;if(cc){if(Ka){for(;lb;){for(kb=Ya;kb=kb[lb];)if(fb?kb.nodeName.toLowerCase()===$b:1===kb.nodeType)return!1;var sc=lb='only'===K&&!sc&&'nextSibling'}return!0}if(sc=[Sa?cc.firstChild:
cc.lastChild],Sa&&ob){kb=cc;var ic=kb[Eb]||(kb[Eb]={});var qc=ic[kb.uniqueID]||(ic[kb.uniqueID]={});var dc=qc[K]||[];ub=(Ob=dc[0]===Zb&&dc[1])&&dc[2];for(kb=Ob&&cc.childNodes[Ob];kb=++Ob&&kb&&kb[lb]||(ub=Ob=0)||sc.pop();)if(1===kb.nodeType&&++ub&&kb===Ya){qc[K]=[Zb,Ob,ub];break}}else if(ob&&(kb=Ya,ic=kb[Eb]||(kb[Eb]={}),qc=ic[kb.uniqueID]||(ic[kb.uniqueID]={}),dc=qc[K]||[],Ob=dc[0]===Zb&&dc[1],ub=Ob),!1===ub)for(;(kb=++Ob&&kb&&kb[lb]||(ub=Ob=0)||sc.pop())&&((fb?kb.nodeName.toLowerCase()!==$b:1!==
kb.nodeType)||!++ub||(ob&&(ic=kb[Eb]||(kb[Eb]={}),qc=ic[kb.uniqueID]||(ic[kb.uniqueID]={}),qc[K]=[Zb,ub]),kb!==Ya)););return ub-=Fa,ub===ua||0===ub%ua&&0<=ub/ua}}},PSEUDO:function(K,ca){var ja,ua=Ib.pseudos[K]||Ib.setFilters[K.toLowerCase()]||c.error('unsupported pseudo: '+K);return ua[Eb]?ua(ca):1<ua.length?(ja=[K,K,'',ca],Ib.setFilters.hasOwnProperty(K.toLowerCase())?h(function(Fa,Ka){for(var Sa,fb=ua(Fa,ca),Ya=fb.length;Ya--;)Sa=Ec(Fa,fb[Ya]),Fa[Sa]=!(Ka[Sa]=fb[Ya])}):function(Fa){return ua(Fa,
0,ja)}):ua}},pseudos:{not:h(function(K){var ca=[],ja=[],ua=vb(K.replace(Qc,'$1'));return ua[Eb]?h(function(Fa,Ka,Sa,fb){var Ya;Sa=ua(Fa,null,fb,[]);for(fb=Fa.length;fb--;)(Ya=Sa[fb])&&(Fa[fb]=!(Ka[fb]=Ya))}):function(Fa,Ka,Sa){return ca[0]=Fa,ua(ca,null,Sa,ja),ca[0]=null,!ja.pop()}}),has:h(function(K){return function(ca){return 0<c(K,ca).length}}),contains:h(function(K){return K=K.replace(yc,zc),function(ca){return-1<(ca.textContent||ca.innerText||ad(ca)).indexOf(K)}}),lang:h(function(K){return ld.test(K||
'')||c.error('unsupported lang: '+K),K=K.replace(yc,zc).toLowerCase(),function(ca){var ja;do if(ja=gc?ca.lang:ca.getAttribute('xml:lang')||ca.getAttribute('lang'))return ja=ja.toLowerCase(),ja===K||0===ja.indexOf(K+'-');while((ca=ca.parentNode)&&1===ca.nodeType);return!1}}),target:function(K){var ca=a.location&&a.location.hash;return ca&&ca.slice(1)===K.id},root:function(K){return K===jc},focus:function(K){return K===tb.activeElement&&(!tb.hasFocus||tb.hasFocus())&&!!(K.type||K.href||~K.tabIndex)},
enabled:function(K){return!1===K.disabled},disabled:function(K){return!0===K.disabled},checked:function(K){var ca=K.nodeName.toLowerCase();return'input'===ca&&!!K.checked||'option'===ca&&!!K.selected},selected:function(K){return K.parentNode&&K.parentNode.selectedIndex,!0===K.selected},empty:function(K){for(K=K.firstChild;K;K=K.nextSibling)if(6>K.nodeType)return!1;return!0},parent:function(K){return!Ib.pseudos.empty(K)},header:function(K){return Hd.test(K.nodeName)},input:function(K){return Gd.test(K.nodeName)},
button:function(K){var ca=K.nodeName.toLowerCase();return'input'===ca&&'button'===K.type||'button'===ca},text:function(K){var ca;return'input'===K.nodeName.toLowerCase()&&'text'===K.type&&(null==(ca=K.getAttribute('type'))||'text'===ca.toLowerCase())},first:Aa(function(){return[0]}),last:Aa(function(K,ca){return[ca-1]}),eq:Aa(function(K,ca,ja){return[0>ja?ja+ca:ja]}),even:Aa(function(K,ca){for(var ja=0;ca>ja;ja+=2)K.push(ja);return K}),odd:Aa(function(K,ca){for(var ja=1;ca>ja;ja+=2)K.push(ja);return K}),
lt:Aa(function(K,ca,ja){for(ca=0>ja?ja+ca:ja;0<=--ca;)K.push(ca);return K}),gt:Aa(function(K,ca,ja){for(ja=0>ja?ja+ca:ja;++ja<ca;)K.push(ja);return K})}};Ib.pseudos.nth=Ib.pseudos.eq;for(xc in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Ib.pseudos[xc]=aa(xc);for(xc in{submit:!0,reset:!0})Ib.pseudos[xc]=ma(xc);Qa.prototype=Ib.filters=Ib.pseudos;Ib.setFilters=new Qa;var Pc=c.tokenize=function(K,ca){var ja,ua,Fa,Ka,Sa;if(Ka=oc[K+' '])return ca?0:Ka.slice(0);Ka=K;var fb=[];for(Sa=Ib.preFilter;Ka;){Ya&&
!(ja=Cd.exec(Ka))||(ja&&(Ka=Ka.slice(ja[0].length)||Ka),fb.push(ua=[]));var Ya=!1;(ja=Dd.exec(Ka))&&(Ya=ja.shift(),ua.push({value:Ya,type:ja[0].replace(Qc,' ')}),Ka=Ka.slice(Ya.length));for(Fa in Ib.filter)!(ja=Rc[Fa].exec(Ka))||Sa[Fa]&&!(ja=Sa[Fa](ja))||(Ya=ja.shift(),ua.push({value:Ya,type:Fa,matches:ja}),Ka=Ka.slice(Ya.length));if(!Ya)break}return ca?Ka.length:Ka?c.error(K):oc(K,fb).slice(0)};return vb=c.compile=function(K,ca){var ja,ua=[],Fa=[],Ka=bc[K+' '];if(!Ka){ca||=Pc(K);for(ja=ca.length;ja--;)Ka=
Ic(ca[ja]),Ka[Eb]?ua.push(Ka):Fa.push(Ka);Ka=bc(K,lc(Fa,ua));Ka.selector=K}return Ka},hc=c.select=function(K,ca,ja,ua){var Fa,Ka,Sa,fb,Ya,lb='function'==typeof K&&K,ob=!ua&&Pc(K=lb.selector||K);if(ja=ja||[],1===ob.length){if(Ka=ob[0]=ob[0].slice(0),2<Ka.length&&'ID'===(Sa=Ka[0]).type&&Sb.getById&&9===ca.nodeType&&gc&&Ib.relative[Ka[1].type]){if(ca=(Ib.find.ID(Sa.matches[0].replace(yc,zc),ca)||[])[0],!ca)return ja;lb&&(ca=ca.parentNode);K=K.slice(Ka.shift().value.length)}for(Fa=Rc.needsContext.test(K)?
0:Ka.length;Fa--&&(Sa=Ka[Fa],!Ib.relative[fb=Sa.type]);)if((Ya=Ib.find[fb])&&(ua=Ya(Sa.matches[0].replace(yc,zc),Yc.test(Ka[0].type)&&sa(ca.parentNode)||ca))){if(Ka.splice(Fa,1),K=ua.length&&Xa(Ka),!K)return Cc.apply(ja,ua),ja;break}}return(lb||vb(K,ob))(ua,ca,!gc,ja,!ca||Yc.test(K)&&sa(ca.parentNode)||ca),ja},Sb.sortStable=Eb.split('').sort(tc).join('')===Eb,Sb.detectDuplicates=!!Ub,Dc(),Sb.sortDetached=l(function(K){return 1&K.compareDocumentPosition(tb.createElement('div'))}),l(function(K){return K.innerHTML=
"<a href='#'></a>",'#'===K.firstChild.getAttribute('href')})||D('type|href|height|width',function(K,ca,ja){return ja?void 0:K.getAttribute(ca,'type'===ca.toLowerCase()?1:2)}),Sb.attributes&&l(function(K){return K.innerHTML='<input/>',K.firstChild.setAttribute('value',''),''===K.firstChild.getAttribute('value')})||D('value',function(K,ca,ja){return ja||'input'!==K.nodeName.toLowerCase()?void 0:K.defaultValue}),l(function(K){return null==K.getAttribute('disabled')})||D('checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',
function(K,ca,ja){var ua;return ja?void 0:!0===K[ca]?ca.toLowerCase():(ua=K.getAttributeNode(ca))&&ua.specified?ua.value:null}),c}(E);b.find=C;b.expr=C.selectors;b.expr[':']=b.expr.pseudos;b.uniqueSort=b.unique=C.uniqueSort;b.text=C.getText;b.isXMLDoc=C.isXML;b.contains=C.contains;var V=function(a,c,e){for(var h=[],l=void 0!==e;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(l&&b(a).is(e))break;h.push(a)}return h},O=function(a,c){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==c&&e.push(a);return e},
ba=b.expr.match.needsContext,P=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,r=/^.[^:#\[\.,]*$/;b.filter=function(a,c,e){var h=c[0];return e&&(a=':not('+a+')'),1===c.length&&1===h.nodeType?b.find.matchesSelector(h,a)?[h]:[]:b.find.matches(a,b.grep(c,function(l){return 1===l.nodeType}))};b.fn.extend({find:function(a){var c,e=[],h=this,l=h.length;if('string'!=typeof a)return this.pushStack(b(a).filter(function(){for(c=0;l>c;c++)if(b.contains(h[c],this))return!0}));for(c=0;l>c;c++)b.find(a,h[c],e);return e=this.pushStack(1<
l?b.unique(e):e),e.selector=this.selector?this.selector+' '+a:a,e},filter:function(a){return this.pushStack(Ga(this,a||[],!1))},not:function(a){return this.pushStack(Ga(this,a||[],!0))},is:function(a){return!!Ga(this,'string'==typeof a&&ba.test(a)?b(a):a||[],!1).length}});var fa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(b.fn.init=function(a,c,e){var h,l;if(!a)return this;if(e=e||ta,'string'==typeof a){if(h='<'===a.charAt(0)&&'>'===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:fa.exec(a),!h||!h[1]&&
c)return!c||c.jquery?(c||e).find(a):this.constructor(c).find(a);if(h[1]){if(c=c instanceof b?c[0]:c,b.merge(this,b.parseHTML(h[1],c&&c.nodeType?c.ownerDocument||c:Ra,!0)),P.test(h[1])&&b.isPlainObject(c))for(h in c)b.isFunction(this[h])?this[h](c[h]):this.attr(h,c[h]);return this}if(l=Ra.getElementById(h[2]),l&&l.parentNode){if(l.id!==h[2])return ta.find(a);this.length=1;this[0]=l}return this.context=Ra,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):b.isFunction(a)?
'undefined'!=typeof e.ready?e.ready(a):a(b):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),b.makeArray(a,this))}).prototype=b.fn;var ta=b(Ra);var ka=/^(?:parents|prev(?:Until|All))/,ia={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({has:function(a){var c,e=b(a,this),h=e.length;return this.filter(function(){for(c=0;h>c;c++)if(b.contains(this,e[c]))return!0})},closest:function(a,c){for(var e,h=0,l=this.length,D=[],G=ba.test(a)||'string'!=typeof a?b(a,c||this.context):
0;l>h;h++)for(e=this[h];e&&e!==c;e=e.parentNode)if(11>e.nodeType&&(G?-1<G.index(e):1===e.nodeType&&b.find.matchesSelector(e,a))){D.push(e);break}return this.pushStack(1<D.length?b.uniqueSort(D):D)},index:function(a){return a?'string'==typeof a?b.inArray(this[0],b(a)):b.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,c){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(a,c))))},addBack:function(a){return this.add(null==a?this.prevObject:
this.prevObject.filter(a))}});b.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return V(a,'parentNode')},parentsUntil:function(a,c,e){return V(a,'parentNode',e)},next:function(a){return L(a,'nextSibling')},prev:function(a){return L(a,'previousSibling')},nextAll:function(a){return V(a,'nextSibling')},prevAll:function(a){return V(a,'previousSibling')},nextUntil:function(a,c,e){return V(a,'nextSibling',e)},prevUntil:function(a,c,e){return V(a,'previousSibling',
e)},siblings:function(a){return O((a.parentNode||{}).firstChild,a)},children:function(a){return O(a.firstChild)},contents:function(a){return b.nodeName(a,'iframe')?a.contentDocument||a.contentWindow.document:b.merge([],a.childNodes)}},function(a,c){b.fn[a]=function(e,h){var l=b.map(this,c,e);return'Until'!==a.slice(-5)&&(h=e),h&&'string'==typeof h&&(l=b.filter(h,l)),1<this.length&&(ia[a]||(l=b.uniqueSort(l)),ka.test(a)&&(l=l.reverse())),this.pushStack(l)}});var Ba=/\S+/g;b.Callbacks=function(a){a=
'string'==typeof a?T(a):b.extend({},a);var c,e,h,l,D=[],G=[],aa=-1,ma=function(){l=a.once;for(h=c=!0;G.length;aa=-1)for(e=G.shift();++aa<D.length;)!1===D[aa].apply(e[0],e[1])&&a.stopOnFalse&&(aa=D.length,e=!1);a.memory||(e=!1);c=!1;l&&(D=e?[]:'')},Aa={add:function(){return D&&(e&&!c&&(aa=D.length-1,G.push(e)),function Xa(Qa){b.each(Qa,function(xb,gb){b.isFunction(gb)?a.unique&&Aa.has(gb)||D.push(gb):gb&&gb.length&&'string'!==b.type(gb)&&Xa(gb)})}(arguments),e&&!c&&ma()),this},remove:function(){return b.each(arguments,
function(sa,Qa){for(var Xa;-1<(Xa=b.inArray(Qa,D,Xa));)D.splice(Xa,1),aa>=Xa&&aa--}),this},has:function(sa){return sa?-1<b.inArray(sa,D):0<D.length},empty:function(){return D&&=[],this},disable:function(){return l=G=[],D=e='',this},disabled:function(){return!D},lock:function(){return l=!0,e||Aa.disable(),this},locked:function(){return!!l},fireWith:function(sa,Qa){return l||(Qa=Qa||[],Qa=[sa,Qa.slice?Qa.slice():Qa],G.push(Qa),c||ma()),this},fire:function(){return Aa.fireWith(this,arguments),this},
fired:function(){return!!h}};return Aa};b.extend({Deferred:function(a){var c=[['resolve','done',b.Callbacks('once memory'),'resolved'],['reject','fail',b.Callbacks('once memory'),'rejected'],['notify','progress',b.Callbacks('memory')]],e='pending',h={state:function(){return e},always:function(){return l.done(arguments).fail(arguments),this},then:function(){var D=arguments;return b.Deferred(function(G){b.each(c,function(aa,ma){var Aa=b.isFunction(D[aa])&&D[aa];l[ma[1]](function(){var sa=Aa&&Aa.apply(this,
arguments);sa&&b.isFunction(sa.promise)?sa.promise().progress(G.notify).done(G.resolve).fail(G.reject):G[ma[0]+'With'](this===h?G.promise():this,Aa?[sa]:arguments)})});D=null}).promise()},promise:function(D){return null!=D?b.extend(D,h):h}},l={};return h.pipe=h.then,b.each(c,function(D,G){var aa=G[2],ma=G[3];h[G[1]]=aa.add;ma&&aa.add(function(){e=ma},c[1^D][2].disable,c[2][2].lock);l[G[0]]=function(){return l[G[0]+'With'](this===l?h:this,arguments),this};l[G[0]+'With']=aa.fireWith}),h.promise(l),
a&&a.call(l,l),l},when:function(a){var c=0,e=la.call(arguments),h=e.length,l=1!==h||a&&b.isFunction(a.promise)?h:0,D=1===l?a:b.Deferred(),G=function(sa,Qa,Xa){return function(xb){Qa[sa]=this;Xa[sa]=1<arguments.length?la.call(arguments):xb;Xa===ma?D.notifyWith(Qa,Xa):--l||D.resolveWith(Qa,Xa)}},aa;if(1<h){var ma=Array(h);var Aa=Array(h);for(aa=Array(h);h>c;c++)e[c]&&b.isFunction(e[c].promise)?e[c].promise().progress(G(c,Aa,ma)).done(G(c,aa,e)).fail(D.reject):--l}return l||D.resolveWith(aa,e),D.promise()}});
var za;b.fn.ready=function(a){return b.ready.promise().done(a),this};b.extend({isReady:!1,readyWait:1,holdReady:function(a){a?b.readyWait++:b.ready(!0)},ready:function(a){(!0===a?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==a&&0<--b.readyWait||(za.resolveWith(Ra,[b]),b.fn.triggerHandler&&(b(Ra).triggerHandler('ready'),b(Ra).off('ready'))))}});b.ready.promise=function(a){if(!za)if(za=b.Deferred(),'complete'===Ra.readyState||'loading'!==Ra.readyState&&!Ra.documentElement.doScroll)E.setTimeout(b.ready);
else if(Ra.addEventListener)Ra.addEventListener('DOMContentLoaded',U),E.addEventListener('load',U);else{Ra.attachEvent('onreadystatechange',U);E.attachEvent('onload',U);var c=!1;try{c=null==E.frameElement&&Ra.documentElement}catch(e){}c&&c.doScroll&&!function h(){if(!b.isReady){try{c.doScroll('left')}catch(l){return E.setTimeout(h,50)}ra();b.ready()}}()}return za.promise(a)};b.ready.promise();for(var bb in b(k))break;k.ownFirst='0'===bb;k.inlineBlockNeedsLayout=!1;b(function(){var a,c,e,h;(e=Ra.getElementsByTagName('body')[0])&&
e.style&&(c=Ra.createElement('div'),h=Ra.createElement('div'),h.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',e.appendChild(h).appendChild(c),'undefined'!=typeof c.style.zoom&&(c.style.cssText='display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1',k.inlineBlockNeedsLayout=a=3===c.offsetWidth,a&&(e.style.zoom=1)),e.removeChild(h))});(function(){var a=Ra.createElement('div');k.deleteExpando=!0;try{delete a.test}catch(c){k.deleteExpando=!1}})();var Wa=function(a){var c=
b.noData[(a.nodeName+' ').toLowerCase()],e=+a.nodeType||1;return 1!==e&&9!==e?!1:!c||!0!==c&&a.getAttribute('classid')===c},rb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Bb=/([A-Z])/g;b.extend({cache:{},noData:{'applet ':!0,'embed ':!0,'object ':'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'},hasData:function(a){return a=a.nodeType?b.cache[a[b.expando]]:a[b.expando],!!a&&!m(a)},data:function(a,c,e){return R(a,c,e)},removeData:function(a,c){return v(a,c)},_data:function(a,c,e){return R(a,c,e,!0)},_removeData:function(a,
c){return v(a,c,!0)}});b.fn.extend({data:function(a,c){var e,h,l,D=this[0],G=D&&D.attributes;if(void 0===a){if(this.length&&(l=b.data(D),1===D.nodeType&&!b._data(D,'parsedAttrs'))){for(e=G.length;e--;)G[e]&&(h=G[e].name,0===h.indexOf('data-')&&(h=b.camelCase(h.slice(5)),Y(D,h,l[h])));b._data(D,'parsedAttrs',!0)}return l}return'object'==typeof a?this.each(function(){b.data(this,a)}):1<arguments.length?this.each(function(){b.data(this,a,c)}):D?Y(D,a,b.data(D,a)):void 0},removeData:function(a){return this.each(function(){b.removeData(this,
a)})}});b.extend({queue:function(a,c,e){var h;return a?(c=(c||'fx')+'queue',h=b._data(a,c),e&&(!h||b.isArray(e)?h=b._data(a,c,b.makeArray(e)):h.push(e)),h||[]):void 0},dequeue:function(a,c){c=c||'fx';var e=b.queue(a,c),h=e.length,l=e.shift(),D=b._queueHooks(a,c),G=function(){b.dequeue(a,c)};'inprogress'===l&&(l=e.shift(),h--);l&&('fx'===c&&e.unshift('inprogress'),delete D.stop,l.call(a,G,D));!h&&D&&D.empty.fire()},_queueHooks:function(a,c){var e=c+'queueHooks';return b._data(a,e)||b._data(a,e,{empty:b.Callbacks('once memory').add(function(){b._removeData(a,
c+'queue');b._removeData(a,e)})})}});b.fn.extend({queue:function(a,c){var e=2;return'string'!=typeof a&&(c=a,a='fx',e--),arguments.length<e?b.queue(this[0],a):void 0===c?this:this.each(function(){var h=b.queue(this,a,c);b._queueHooks(this,a);'fx'===a&&'inprogress'!==h[0]&&b.dequeue(this,a)})},dequeue:function(a){return this.each(function(){b.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||'fx',[])},promise:function(a,c){var e,h=1,l=b.Deferred(),D=this,G=this.length,aa=function(){--h||
l.resolveWith(D,[D])};'string'!=typeof a&&(c=a,a=void 0);for(a=a||'fx';G--;)(e=b._data(D[G],a+'queueHooks'))&&e.empty&&(h++,e.empty.add(aa));return aa(),l.promise(c)}});(function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var c,e,h;return e=Ra.getElementsByTagName('body')[0],e&&e.style?(c=Ra.createElement('div'),h=Ra.createElement('div'),h.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',e.appendChild(h).appendChild(c),'undefined'!=typeof c.style.zoom&&
(c.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1',c.appendChild(Ra.createElement('div')).style.width='5px',a=3!==c.offsetWidth),e.removeChild(h),a):void 0}})();var Mb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ib=new RegExp('^(?:([+-])=|)('+Mb+')([a-z%]*)$','i'),Db=['Top','Right','Bottom','Left'],Wb=function(a,c){return a=c||a,'none'===b.css(a,'display')||!b.contains(a.ownerDocument,a)},
Za=function(a,c,e,h,l,D,G){var aa=0,ma=a.length,Aa=null==e;if('object'===b.type(e))for(aa in l=!0,e)Za(a,c,aa,e[aa],!0,D,G);else if(void 0!==h&&(l=!0,b.isFunction(h)||(G=!0),Aa&&(G?(c.call(a,h),c=null):(Aa=c,c=function(sa,Qa,Xa){return Aa.call(b(sa),Xa)})),c))for(;ma>aa;aa++)c(a[aa],e,G?h:h.call(a[aa],aa,c(a[aa],e)));return l?a:Aa?c.call(a):ma?c(a[0],e):D},jb=/^(?:checkbox|radio)$/i,ea=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,ha=/^\s+/;!function(){var a=Ra.createElement('div'),c=Ra.createDocumentFragment(),
e=Ra.createElement('input');a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";k.leadingWhitespace=3===a.firstChild.nodeType;k.tbody=!a.getElementsByTagName('tbody').length;k.htmlSerialize=!!a.getElementsByTagName('link').length;k.html5Clone='<:nav></:nav>'!==Ra.createElement('nav').cloneNode(!0).outerHTML;e.type='checkbox';e.checked=!0;c.appendChild(e);k.appendChecked=e.checked;a.innerHTML='<textarea>x</textarea>';k.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue;
c.appendChild(a);e=Ra.createElement('input');e.setAttribute('type','radio');e.setAttribute('checked','checked');e.setAttribute('name','t');a.appendChild(e);k.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;k.noCloneEvent=!!a.addEventListener;a[b.expando]=1;k.attributes=!a.getAttribute(b.expando)}();var pa={option:[1,"<select multiple='multiple'>",'</select>'],legend:[1,'<fieldset>','</fieldset>'],area:[1,'<map>','</map>'],param:[1,'<object>','</object>'],thead:[1,'<table>','</table>'],
tr:[2,'<table><tbody>','</tbody></table>'],col:[2,'<table><tbody></tbody><colgroup>','</colgroup></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:k.htmlSerialize?[0,'','']:[1,'X<div>','</div>']};pa.optgroup=pa.option;pa.tbody=pa.tfoot=pa.colgroup=pa.caption=pa.thead;pa.th=pa.td;var Pa=/<|&#?\w+;/,eb=/<tbody/i;!function(){var a,c=Ra.createElement('div');for(a in{submit:!0,change:!0,focusin:!0}){var e='on'+a;(k[a]=e in E)||(c.setAttribute(e,'t'),k[a]=!1===c.attributes[e].expando)}}();
var hb=/^(?:input|select|textarea)$/i,Ma=/^key/,wb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,$a=/^(?:focusinfocus|focusoutblur)$/,pb=/^([^.]*)(?:\.(.+)|)/;b.event={global:{},add:function(a,c,e,h,l){var D,G,aa,ma,Aa,sa,Qa,Xa;if(G=b._data(a)){e.handler&&(aa=e,e=aa.handler,l=aa.selector);e.guid||(e.guid=b.guid++);(D=G.events)||(D=G.events={});(Aa=G.handle)||(Aa=G.handle=function(Nb){return'undefined'==typeof b||Nb&&b.event.triggered===Nb.type?void 0:b.event.dispatch.apply(Aa.elem,arguments)},
Aa.elem=a);c=(c||'').match(Ba)||[''];for(G=c.length;G--;){var xb=pb.exec(c[G])||[];var gb=Xa=xb[1];xb=(xb[2]||'').split('.').sort();gb&&(ma=b.event.special[gb]||{},gb=(l?ma.delegateType:ma.bindType)||gb,ma=b.event.special[gb]||{},sa=b.extend({type:gb,origType:Xa,data:h,handler:e,guid:e.guid,selector:l,needsContext:l&&b.expr.match.needsContext.test(l),namespace:xb.join('.')},aa),(Qa=D[gb])||(Qa=D[gb]=[],Qa.delegateCount=0,ma.setup&&!1!==ma.setup.call(a,h,xb,Aa)||(a.addEventListener?a.addEventListener(gb,
Aa,!1):a.attachEvent&&a.attachEvent('on'+gb,Aa))),ma.add&&(ma.add.call(a,sa),sa.handler.guid||(sa.handler.guid=e.guid)),l?Qa.splice(Qa.delegateCount++,0,sa):Qa.push(sa),b.event.global[gb]=!0)}a=null}},remove:function(a,c,e,h,l){var D,G,aa,ma,Aa,sa,Qa,Xa,xb=b.hasData(a)&&b._data(a);if(xb&&(Aa=xb.events)){c=(c||'').match(Ba)||[''];for(ma=c.length;ma--;)if(G=pb.exec(c[ma])||[],sa=Xa=G[1],Qa=(G[2]||'').split('.').sort(),sa){var gb=b.event.special[sa]||{};sa=(h?gb.delegateType:gb.bindType)||sa;var Nb=
Aa[sa]||[];G=G[2]&&new RegExp('(^|\\.)'+Qa.join('\\.(?:.*\\.|)')+'(\\.|$)');for(aa=D=Nb.length;D--;){var kc=Nb[D];!l&&Xa!==kc.origType||e&&e.guid!==kc.guid||G&&!G.test(kc.namespace)||h&&h!==kc.selector&&('**'!==h||!kc.selector)||(Nb.splice(D,1),kc.selector&&Nb.delegateCount--,gb.remove&&gb.remove.call(a,kc))}aa&&!Nb.length&&(gb.teardown&&!1!==gb.teardown.call(a,Qa,xb.handle)||b.removeEvent(a,sa,xb.handle),delete Aa[sa])}else for(sa in Aa)b.event.remove(a,sa+c[ma],e,h,!0);b.isEmptyObject(Aa)&&(delete xb.handle,
b._removeData(a,'events'))}},trigger:function(a,c,e,h){var l,D,G,aa,ma=[e||Ra],Aa=Oa.call(a,'type')?a.type:a;var sa=Oa.call(a,'namespace')?a.namespace.split('.'):[];if(G=l=e=e||Ra,3!==e.nodeType&&8!==e.nodeType&&!$a.test(Aa+b.event.triggered)&&(-1<Aa.indexOf('.')&&(sa=Aa.split('.'),Aa=sa.shift(),sa.sort()),D=0>Aa.indexOf(':')&&'on'+Aa,a=a[b.expando]?a:new b.Event(Aa,'object'==typeof a&&a),a.isTrigger=h?2:3,a.namespace=sa.join('.'),a.rnamespace=a.namespace?new RegExp('(^|\\.)'+sa.join('\\.(?:.*\\.|)')+
'(\\.|$)'):null,a.result=void 0,a.target||(a.target=e),c=null==c?[a]:b.makeArray(c,[a]),aa=b.event.special[Aa]||{},h||!aa.trigger||!1!==aa.trigger.apply(e,c))){if(!h&&!aa.noBubble&&!b.isWindow(e)){var Qa=aa.delegateType||Aa;for($a.test(Qa+Aa)||(G=G.parentNode);G;G=G.parentNode)ma.push(G),l=G;l===(e.ownerDocument||Ra)&&ma.push(l.defaultView||l.parentWindow||E)}for(sa=0;(G=ma[sa++])&&!a.isPropagationStopped();)a.type=1<sa?Qa:aa.bindType||Aa,(l=(b._data(G,'events')||{})[a.type]&&b._data(G,'handle'))&&
l.apply(G,c),(l=D&&G[D])&&l.apply&&Wa(G)&&(a.result=l.apply(G,c),!1===a.result&&a.preventDefault());if(a.type=Aa,!(h||a.isDefaultPrevented()||aa._default&&!1!==aa._default.apply(ma.pop(),c))&&Wa(e)&&D&&e[Aa]&&!b.isWindow(e)){(l=e[D])&&(e[D]=null);b.event.triggered=Aa;try{e[Aa]()}catch(Xa){}b.event.triggered=void 0;l&&(e[D]=l)}return a.result}},dispatch:function(a){a=b.event.fix(a);var c,e,h,l,D=la.call(arguments);var G=(b._data(this,'events')||{})[a.type]||[];var aa=b.event.special[a.type]||{};if(D[0]=
a,a.delegateTarget=this,!aa.preDispatch||!1!==aa.preDispatch.call(this,a)){var ma=b.event.handlers.call(this,a,G);for(G=0;(h=ma[G++])&&!a.isPropagationStopped();)for(a.currentTarget=h.elem,c=0;(l=h.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(l.namespace)||(a.handleObj=l,a.data=l.data,e=((b.event.special[l.origType]||{}).handle||l.handler).apply(h.elem,D),void 0!==e&&!1===(a.result=e)&&(a.preventDefault(),a.stopPropagation()));return aa.postDispatch&&aa.postDispatch.call(this,
a),a.result}},handlers:function(a,c){var e,h=[],l=c.delegateCount,D=a.target;if(l&&D.nodeType&&('click'!==a.type||isNaN(a.button)||1>a.button))for(;D!=this;D=D.parentNode||this)if(1===D.nodeType&&(!0!==D.disabled||'click'!==a.type)){var G=[];for(e=0;l>e;e++){var aa=c[e];var ma=aa.selector+' ';void 0===G[ma]&&(G[ma]=aa.needsContext?-1<b(ma,this).index(D):b.find(ma,this,null,[D]).length);G[ma]&&G.push(aa)}G.length&&h.push({elem:D,handlers:G})}return l<c.length&&h.push({elem:this,handlers:c.slice(l)}),
h},fix:function(a){if(a[b.expando])return a;var c=a.type;var e=a,h=this.fixHooks[c];h||(this.fixHooks[c]=h=wb.test(c)?this.mouseHooks:Ma.test(c)?this.keyHooks:{});var l=h.props?this.props.concat(h.props):this.props;a=new b.Event(e);for(c=l.length;c--;){var D=l[c];a[D]=e[D]}return a.target||(a.target=e.srcElement||Ra),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,h.filter?h.filter(a,e):a},props:'altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(' '),
fixHooks:{},keyHooks:{props:['char','charCode','key','keyCode'],filter:function(a,c){return null==a.which&&(a.which=null!=c.charCode?c.charCode:c.keyCode),a}},mouseHooks:{props:'button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement'.split(' '),filter:function(a,c){var e,h,l,D=c.button,G=c.fromElement;return null==a.pageX&&null!=c.clientX&&(h=a.target.ownerDocument||Ra,l=h.documentElement,e=h.body,a.pageX=c.clientX+(l&&l.scrollLeft||e&&e.scrollLeft||0)-(l&&
l.clientLeft||e&&e.clientLeft||0),a.pageY=c.clientY+(l&&l.scrollTop||e&&e.scrollTop||0)-(l&&l.clientTop||e&&e.clientTop||0)),!a.relatedTarget&&G&&(a.relatedTarget=G===a.target?c.toElement:G),a.which||void 0===D||(a.which=1&D?1:2&D?3:4&D?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==I()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:'focusin'},blur:{trigger:function(){return this===I()&&this.blur?(this.blur(),!1):void 0},delegateType:'focusout'},click:{trigger:function(){return b.nodeName(this,
'input')&&'checkbox'===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return b.nodeName(a.target,'a')}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,c,e){a=b.extend(new b.Event,e,{type:a,isSimulated:!0});b.event.trigger(a,null,c);a.isDefaultPrevented()&&e.preventDefault()}};b.removeEvent=Ra.removeEventListener?function(a,c,e){a.removeEventListener&&a.removeEventListener(c,e)}:function(a,
c,e){c='on'+c;a.detachEvent&&('undefined'==typeof a[c]&&(a[c]=null),a.detachEvent(c,e))};b.Event=function(a,c){return this instanceof b.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?q:H):this.type=a,c&&b.extend(this,c),this.timeStamp=a&&a.timeStamp||b.now(),void(this[b.expando]=!0)):new b.Event(a,c)};b.Event.prototype={constructor:b.Event,isDefaultPrevented:H,isPropagationStopped:H,isImmediatePropagationStopped:H,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=q;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=q;a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=q;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};b.each({mouseenter:'mouseover',
mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},function(a,c){b.event.special[a]={delegateType:c,bindType:c,handle:function(e){var h,l=e.relatedTarget,D=e.handleObj;return l&&(l===this||b.contains(this,l))||(e.type=D.origType,h=D.handler.apply(this,arguments),e.type=c),h}}});k.submit||(b.event.special.submit={setup:function(){return b.nodeName(this,'form')?!1:void b.event.add(this,'click._submit keypress._submit',function(a){a=a.target;(a=b.nodeName(a,'input')||b.nodeName(a,
'button')?b.prop(a,'form'):void 0)&&!b._data(a,'submit')&&(b.event.add(a,'submit._submit',function(c){c._submitBubble=!0}),b._data(a,'submit',!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&b.event.simulate('submit',this.parentNode,a))},teardown:function(){return b.nodeName(this,'form')?!1:void b.event.remove(this,'._submit')}});k.change||(b.event.special.change={setup:function(){return hb.test(this.nodeName)?('checkbox'!==this.type&&'radio'!==
this.type||(b.event.add(this,'propertychange._change',function(a){'checked'===a.originalEvent.propertyName&&(this._justChanged=!0)}),b.event.add(this,'click._change',function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1);b.event.simulate('change',this,a)})),!1):void b.event.add(this,'beforeactivate._change',function(a){a=a.target;hb.test(a.nodeName)&&!b._data(a,'change')&&(b.event.add(a,'change._change',function(c){!this.parentNode||c.isSimulated||c.isTrigger||b.event.simulate('change',
this.parentNode,c)}),b._data(a,'change',!0))})},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||'radio'!==c.type&&'checkbox'!==c.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return b.event.remove(this,'._change'),!hb.test(this.nodeName)}});k.focusin||b.each({focus:'focusin',blur:'focusout'},function(a,c){var e=function(h){b.event.simulate(c,h.target,b.event.fix(h))};b.event.special[c]={setup:function(){var h=this.ownerDocument||this,l=b._data(h,
c);l||h.addEventListener(a,e,!0);b._data(h,c,(l||0)+1)},teardown:function(){var h=this.ownerDocument||this,l=b._data(h,c)-1;l?b._data(h,c,l):(h.removeEventListener(a,e,!0),b._removeData(h,c))}}});b.fn.extend({on:function(a,c,e,h){return w(this,a,c,e,h)},one:function(a,c,e,h){return w(this,a,c,e,h,1)},off:function(a,c,e){var h,l;if(a&&a.preventDefault&&a.handleObj)return h=a.handleObj,b(a.delegateTarget).off(h.namespace?h.origType+'.'+h.namespace:h.origType,h.selector,h.handler),this;if('object'==
typeof a){for(l in a)this.off(l,c,a[l]);return this}return!1!==c&&'function'!=typeof c||(e=c,c=void 0),!1===e&&(e=H),this.each(function(){b.event.remove(this,a,e,c)})},trigger:function(a,c){return this.each(function(){b.event.trigger(a,c,this)})},triggerHandler:function(a,c){var e=this[0];return e?b.event.trigger(a,c,e,!0):void 0}});var nb=/ jQuery\d+="(?:null|\d+)"/g,qb=RegExp('<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video)[\\s/>]',
'i'),mb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Qb=/<script|<style|<link/i,Hb=/checked\s*(?:[^=]|=\s*.checked.)/i,Lb=/^true\/(.*)/,Bc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,fc=Ha(Ra).appendChild(Ra.createElement('div'));b.extend({htmlPrefilter:function(a){return a.replace(mb,'<$1></$2>')},clone:function(a,c,e){var h,l,D,G=b.contains(a.ownerDocument,a);if(k.html5Clone||b.isXMLDoc(a)||!qb.test('<'+a.nodeName+'>')?l=a.cloneNode(!0):(fc.innerHTML=a.outerHTML,fc.removeChild(l=
fc.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||b.isXMLDoc(a))){var aa=Q(l);var ma=Q(a);for(D=0;null!=(h=ma[D]);++D)if(aa[D]){var Aa=void 0,sa,Qa=h,Xa=aa[D];if(1===Xa.nodeType){if(sa=Xa.nodeName.toLowerCase(),!k.noCloneEvent&&Xa[b.expando]){h=b._data(Xa);for(Aa in h.events)b.removeEvent(Xa,Aa,h.handle);Xa.removeAttribute(b.expando)}'script'===sa&&Xa.text!==Qa.text?(B(Xa).text=Qa.text,F(Xa)):'object'===sa?(Xa.parentNode&&(Xa.outerHTML=Qa.outerHTML),k.html5Clone&&
Qa.innerHTML&&!b.trim(Xa.innerHTML)&&(Xa.innerHTML=Qa.innerHTML)):'input'===sa&&jb.test(Qa.type)?(Xa.defaultChecked=Xa.checked=Qa.checked,Xa.value!==Qa.value&&(Xa.value=Qa.value)):'option'===sa?Xa.defaultSelected=Xa.selected=Qa.defaultSelected:'input'!==sa&&'textarea'!==sa||(Xa.defaultValue=Qa.defaultValue)}}}if(c)if(e)for(ma=ma||Q(a),aa=aa||Q(l),D=0;null!=(h=ma[D]);D++)N(h,aa[D]);else N(a,l);return aa=Q(l,'script'),0<aa.length&&J(aa,!G&&Q(a,'script')),l},cleanData:function(a,c){for(var e,h,l,D,G=
0,aa=b.expando,ma=b.cache,Aa=k.attributes,sa=b.event.special;null!=(e=a[G]);G++)if((c||Wa(e))&&(l=e[aa],D=l&&ma[l])){if(D.events)for(h in D.events)sa[h]?b.event.remove(e,h):b.removeEvent(e,h,D.handle);ma[l]&&(delete ma[l],Aa||'undefined'==typeof e.removeAttribute?e[aa]=void 0:e.removeAttribute(aa),Kb.push(l))}}});b.fn.extend({domManip:y,detach:function(a){return S(this,a,!0)},remove:function(a){return S(this,a)},text:function(a){return Za(this,function(c){return void 0===c?b.text(this):this.empty().append((this[0]&&
this[0].ownerDocument||Ra).createTextNode(c))},null,a,arguments.length)},append:function(){return y(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||x(this,a).appendChild(a)})},prepend:function(){return y(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=x(this,a);c.insertBefore(a,c.firstChild)}})},before:function(){return y(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return y(this,
arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,c=0;null!=(a=this[c]);c++){for(1===a.nodeType&&b.cleanData(Q(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&b.nodeName(a,'select')&&(a.options.length=0)}return this},clone:function(a,c){return a=null==a?!1:a,c=null==c?a:c,this.map(function(){return b.clone(this,a,c)})},html:function(a){return Za(this,function(c){var e=this[0]||{},h=0,l=this.length;if(void 0===c)return 1===
e.nodeType?e.innerHTML.replace(nb,''):void 0;if(!('string'!=typeof c||Qb.test(c)||!k.htmlSerialize&&qb.test(c)||!k.leadingWhitespace&&ha.test(c)||pa[(ea.exec(c)||['',''])[1].toLowerCase()])){c=b.htmlPrefilter(c);try{for(;l>h;h++)e=this[h]||{},1===e.nodeType&&(b.cleanData(Q(e,!1)),e.innerHTML=c);e=0}catch(D){}}e&&this.empty().append(c)},null,a,arguments.length)},replaceWith:function(){var a=[];return y(this,arguments,function(c){var e=this.parentNode;0>b.inArray(this,a)&&(b.cleanData(Q(this)),e&&e.replaceChild(c,
this))},a)}});b.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},function(a,c){b.fn[a]=function(e){for(var h=0,l=[],D=b(e),G=D.length-1;G>=h;h++)e=h===G?this:this.clone(!0),b(D[h])[c](e),La.apply(l,e.get());return this.pushStack(l)}});var Xb,Gc={HTML:'block',BODY:'block'},pc=/^margin/,Pb=new RegExp('^('+Mb+')(?!px)[a-z%]+$','i'),Nc=function(a,c,e,h){var l,D={};for(l in c)D[l]=a.style[l],a.style[l]=c[l];e=e.apply(a,h||[]);for(l in c)a.style[l]=
D[l];return e},vc=Ra.documentElement;!function(){var a,c,e,h,l,D,G=Ra.createElement('div'),aa=Ra.createElement('div');if(aa.style){aa.style.cssText='float:left;opacity:.5';k.opacity='0.5'===aa.style.opacity;k.cssFloat=!!aa.style.cssFloat;aa.style.backgroundClip='content-box';aa.cloneNode(!0).style.backgroundClip='';k.clearCloneStyle='content-box'===aa.style.backgroundClip;G=Ra.createElement('div');G.style.cssText='border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute';
aa.innerHTML='';G.appendChild(aa);k.boxSizing=''===aa.style.boxSizing||''===aa.style.MozBoxSizing||''===aa.style.WebkitBoxSizing;b.extend(k,{reliableHiddenOffsets:function(){return null==a&&ma(),h},boxSizingReliable:function(){return null==a&&ma(),e},pixelMarginRight:function(){return null==a&&ma(),c},pixelPosition:function(){return null==a&&ma(),a},reliableMarginRight:function(){return null==a&&ma(),l},reliableMarginLeft:function(){return null==a&&ma(),D}});function ma(){var Aa,sa,Qa=Ra.documentElement;
Qa.appendChild(G);aa.style.cssText='-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%';a=e=D=!1;c=l=!0;E.getComputedStyle&&(sa=E.getComputedStyle(aa),a='1%'!==(sa||{}).top,D='2px'===(sa||{}).marginLeft,e='4px'===(sa||{width:'4px'}).width,aa.style.marginRight='50%',c='4px'===(sa||{marginRight:'4px'}).marginRight,Aa=aa.appendChild(Ra.createElement('div')),Aa.style.cssText=aa.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0',
Aa.style.marginRight=Aa.style.width='0',aa.style.width='1px',l=!parseFloat((E.getComputedStyle(Aa)||{}).marginRight),aa.removeChild(Aa));aa.style.display='none';(h=0===aa.getClientRects().length)&&(aa.style.display='',aa.innerHTML='<table><tr><td></td><td>t</td></tr></table>',aa.childNodes[0].style.borderCollapse='separate',Aa=aa.getElementsByTagName('td'),Aa[0].style.cssText='margin:0;border:0;padding:0;display:none',h=0===Aa[0].offsetHeight,h&&(Aa[0].style.display='',Aa[1].style.display='none',
h=0===Aa[0].offsetHeight));Qa.removeChild(G)}}}();var wc,rc,Sc=/^(top|right|bottom|left)$/;E.getComputedStyle?(wc=function(a){var c=a.ownerDocument.defaultView;return c&&c.opener||(c=E),c.getComputedStyle(a)},rc=function(a,c,e){var h,l,D,G,aa=a.style;return e=e||wc(a),G=e?e.getPropertyValue(c)||e[c]:void 0,''!==G&&void 0!==G||b.contains(a.ownerDocument,a)||(G=b.style(a,c)),e&&!k.pixelMarginRight()&&Pb.test(G)&&pc.test(c)&&(h=aa.width,l=aa.minWidth,D=aa.maxWidth,aa.minWidth=aa.maxWidth=aa.width=G,
G=e.width,aa.width=h,aa.minWidth=l,aa.maxWidth=D),void 0===G?G:G+''}):vc.currentStyle&&(wc=function(a){return a.currentStyle},rc=function(a,c,e){var h,l,D,G,aa=a.style;return e=e||wc(a),G=e?e[c]:void 0,null==G&&aa&&aa[c]&&(G=aa[c]),Pb.test(G)&&!Sc.test(c)&&(h=aa.left,l=a.runtimeStyle,D=l&&l.left,D&&(l.left=a.currentStyle.left),aa.left='fontSize'===c?'1em':G,G=aa.pixelLeft+'px',aa.left=h,D&&(l.left=D)),void 0===G?G:G+''||'auto'});var Oc=/alpha\([^)]*\)/i,Tc=/opacity\s*=\s*([^)]*)/i,Jd=/^(none|table(?!-c[ea]).+)/,
wd=new RegExp('^('+Mb+')(.*)$','i'),Kd={position:'absolute',visibility:'hidden',display:'block'},od={letterSpacing:'0',fontWeight:'400'},kd=['Webkit','O','Moz','ms'],jd=Ra.createElement('div').style;b.extend({cssHooks:{opacity:{get:function(a,c){if(c)return a=rc(a,'opacity'),''===a?'1':a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{'float':k.cssFloat?
'cssFloat':'styleFloat'},style:function(a,c,e,h){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var l,D,G,aa=b.camelCase(c),ma=a.style;if(c=b.cssProps[aa]||(b.cssProps[aa]=Da(aa)||aa),G=b.cssHooks[c]||b.cssHooks[aa],void 0===e)return G&&'get'in G&&void 0!==(l=G.get(a,!1,h))?l:ma[c];if(D=typeof e,'string'===D&&(l=ib.exec(e))&&l[1]&&(e=qa(a,c,l),D='number'),null!=e&&e===e&&('number'===D&&(e+=l&&l[3]||(b.cssNumber[aa]?'':'px')),k.clearCloneStyle||''!==e||0!==c.indexOf('background')||(ma[c]='inherit'),
!(G&&'set'in G&&void 0===(e=G.set(a,e,h)))))try{ma[c]=e}catch(Aa){}}},css:function(a,c,e,h){var l,D,G,aa=b.camelCase(c);return c=b.cssProps[aa]||(b.cssProps[aa]=Da(aa)||aa),G=b.cssHooks[c]||b.cssHooks[aa],G&&'get'in G&&(D=G.get(a,!0,e)),void 0===D&&(D=rc(a,c,h)),'normal'===D&&c in od&&(D=od[c]),''===e||e?(l=parseFloat(D),!0===e||isFinite(l)?l||0:D):D}});b.each(['height','width'],function(a,c){b.cssHooks[c]={get:function(e,h,l){return h?Jd.test(b.css(e,'display'))&&0===e.offsetWidth?Nc(e,Kd,function(){return Ca(e,
c,l)}):Ca(e,c,l):void 0},set:function(e,h,l){var D=l&&wc(e);return Ea(e,h,l?va(e,c,l,k.boxSizing&&'border-box'===b.css(e,'boxSizing',!1,D),D):0)}}});k.opacity||(b.cssHooks.opacity={get:function(a,c){return Tc.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||'')?.01*parseFloat(RegExp.$1)+'':c?'1':''},set:function(a,c){var e=a.style;a=a.currentStyle;var h=b.isNumeric(c)?'alpha(opacity='+100*c+')':'',l=a&&a.filter||e.filter||'';e.zoom=1;(1<=c||''===c)&&''===b.trim(l.replace(Oc,''))&&e.removeAttribute&&
(e.removeAttribute('filter'),''===c||a&&!a.filter)||(e.filter=Oc.test(l)?l.replace(Oc,h):l+' '+h)}});b.cssHooks.marginRight=na(k.reliableMarginRight,function(a,c){return c?Nc(a,{display:'inline-block'},rc,[a,'marginRight']):void 0});b.cssHooks.marginLeft=na(k.reliableMarginLeft,function(a,c){return c?(parseFloat(rc(a,'marginLeft'))||(b.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Nc(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+'px':void 0});b.each({margin:'',
padding:'',border:'Width'},function(a,c){b.cssHooks[a+c]={expand:function(e){var h=0,l={};for(e='string'==typeof e?e.split(' '):[e];4>h;h++)l[a+Db[h]+c]=e[h]||e[h-2]||e[0];return l}};pc.test(a)||(b.cssHooks[a+c].set=Ea)});b.fn.extend({css:function(a,c){return Za(this,function(e,h,l){var D,G={},aa=0;if(b.isArray(h)){l=wc(e);for(D=h.length;D>aa;aa++)G[h[aa]]=b.css(e,h[aa],!1,l);return G}return void 0!==l?b.style(e,h,l):b.css(e,h)},a,c,1<arguments.length)},show:function(){return Ia(this,!0)},hide:function(){return Ia(this)},
toggle:function(a){return'boolean'==typeof a?a?this.show():this.hide():this.each(function(){Wb(this)?b(this).show():b(this).hide()})}});b.Tween=Ta;Ta.prototype={constructor:Ta,init:function(a,c,e,h,l,D){this.elem=a;this.prop=e;this.easing=l||b.easing._default;this.options=c;this.start=this.now=this.cur();this.end=h;this.unit=D||(b.cssNumber[e]?'':'px')},cur:function(){var a=Ta.propHooks[this.prop];return a&&a.get?a.get(this):Ta.propHooks._default.get(this)},run:function(a){var c,e=Ta.propHooks[this.prop];
return this.options.duration?this.pos=c=b.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=c=a,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),e&&e.set?e.set(this):Ta.propHooks._default.set(this),this}};Ta.prototype.init.prototype=Ta.prototype;Ta.propHooks={_default:{get:function(a){var c;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(c=b.css(a.elem,a.prop,
''),c&&'auto'!==c?c:0)},set:function(a){b.fx.step[a.prop]?b.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[b.cssProps[a.prop]]&&!b.cssHooks[a.prop]?a.elem[a.prop]=a.now:b.style(a.elem,a.prop,a.now+a.unit)}}};Ta.propHooks.scrollTop=Ta.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};b.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:'swing'};b.fx=Ta.prototype.init;b.fx.step={};var Hc,bd,Ld=
/^(?:toggle|show|hide)$/,Md=/queueHooks$/;b.Animation=b.extend(Na,{tweeners:{'*':[function(a,c){var e=this.createTween(a,c);return qa(e.elem,a,ib.exec(c),e),e}]},tweener:function(a,c){b.isFunction(a)?(c=a,a=['*']):a=a.match(Ba);for(var e,h=0,l=a.length;l>h;h++)e=a[h],Na.tweeners[e]=Na.tweeners[e]||[],Na.tweeners[e].unshift(c)},prefilters:[function(a,c,e){var h,l,D,G,aa,ma,Aa,sa=this,Qa={},Xa=a.style,xb=a.nodeType&&Wb(a),gb=b._data(a,'fxshow');e.queue||(G=b._queueHooks(a,'fx'),null==G.unqueued&&(G.unqueued=
0,aa=G.empty.fire,G.empty.fire=function(){G.unqueued||aa()}),G.unqueued++,sa.always(function(){sa.always(function(){G.unqueued--;b.queue(a,'fx').length||G.empty.fire()})}));1===a.nodeType&&('height'in c||'width'in c)&&(e.overflow=[Xa.overflow,Xa.overflowX,Xa.overflowY],ma=b.css(a,'display'),Aa='none'===ma?b._data(a,'olddisplay')||xa(a.nodeName):ma,'inline'===Aa&&'none'===b.css(a,'float')&&(k.inlineBlockNeedsLayout&&'inline'!==xa(a.nodeName)?Xa.zoom=1:Xa.display='inline-block'));e.overflow&&(Xa.overflow=
'hidden',k.shrinkWrapBlocks()||sa.always(function(){Xa.overflow=e.overflow[0];Xa.overflowX=e.overflow[1];Xa.overflowY=e.overflow[2]}));for(h in c)if(l=c[h],Ld.exec(l)){if(delete c[h],D=D||'toggle'===l,l===(xb?'hide':'show')){if('show'!==l||!gb||void 0===gb[h])continue;xb=!0}Qa[h]=gb&&gb[h]||b.style(a,h)}else ma=void 0;if(b.isEmptyObject(Qa))'inline'===('none'===ma?xa(a.nodeName):ma)&&(Xa.display=ma);else for(h in gb?'hidden'in gb&&(xb=gb.hidden):gb=b._data(a,'fxshow',{}),D&&(gb.hidden=!xb),xb?b(a).show():
sa.done(function(){b(a).hide()}),sa.done(function(){var Nb;b._removeData(a,'fxshow');for(Nb in Qa)b.style(a,Nb,Qa[Nb])}),Qa)c=zb(xb?gb[h]:0,h,sa),h in gb||(gb[h]=c.start,xb&&(c.end=c.start,c.start='width'===h||'height'===h?1:0))}],prefilter:function(a,c){c?Na.prefilters.unshift(a):Na.prefilters.push(a)}});b.speed=function(a,c,e){var h=a&&'object'==typeof a?b.extend({},a):{complete:e||!e&&c||b.isFunction(a)&&a,duration:a,easing:e&&c||c&&!b.isFunction(c)&&c};return h.duration=b.fx.off?0:'number'==typeof h.duration?
h.duration:h.duration in b.fx.speeds?b.fx.speeds[h.duration]:b.fx.speeds._default,null!=h.queue&&!0!==h.queue||(h.queue='fx'),h.old=h.complete,h.complete=function(){b.isFunction(h.old)&&h.old.call(this);h.queue&&b.dequeue(this,h.queue)},h};b.fn.extend({fadeTo:function(a,c,e,h){return this.filter(Wb).css('opacity',0).show().end().animate({opacity:c},a,e,h)},animate:function(a,c,e,h){var l=b.isEmptyObject(a),D=b.speed(c,e,h);c=function(){var G=Na(this,b.extend({},a),D);(l||b._data(this,'finish'))&&
G.stop(!0)};return c.finish=c,l||!1===D.queue?this.each(c):this.queue(D.queue,c)},stop:function(a,c,e){var h=function(l){var D=l.stop;delete l.stop;D(e)};return'string'!=typeof a&&(e=c,c=a,a=void 0),c&&!1!==a&&this.queue(a||'fx',[]),this.each(function(){var l=!0,D=null!=a&&a+'queueHooks',G=b.timers,aa=b._data(this);if(D)aa[D]&&aa[D].stop&&h(aa[D]);else for(D in aa)aa[D]&&aa[D].stop&&Md.test(D)&&h(aa[D]);for(D=G.length;D--;)G[D].elem!==this||null!=a&&G[D].queue!==a||(G[D].anim.stop(e),l=!1,G.splice(D,
1));!l&&e||b.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||'fx'),this.each(function(){var c=b._data(this),e=c[a+'queue'];var h=c[a+'queueHooks'];var l=b.timers,D=e?e.length:0;c.finish=!0;b.queue(this,a,[]);h&&h.stop&&h.stop.call(this,!0);for(h=l.length;h--;)l[h].elem===this&&l[h].queue===a&&(l[h].anim.stop(!0),l.splice(h,1));for(h=0;D>h;h++)e[h]&&e[h].finish&&e[h].finish.call(this);delete c.finish})}});b.each(['toggle','show','hide'],function(a,c){var e=b.fn[c];b.fn[c]=function(h,l,D){return null==
h||'boolean'==typeof h?e.apply(this,arguments):this.animate(Ua(c,!0),h,l,D)}});b.each({slideDown:Ua('show'),slideUp:Ua('hide'),slideToggle:Ua('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},function(a,c){b.fn[a]=function(e,h,l){return this.animate(c,e,h,l)}});b.timers=[];b.fx.tick=function(){var a=b.timers,c=0;for(Hc=b.now();c<a.length;c++){var e=a[c];e()||a[c]!==e||a.splice(c--,1)}a.length||b.fx.stop();Hc=void 0};b.fx.timer=function(a){b.timers.push(a);a()?
b.fx.start():b.timers.pop()};b.fx.interval=13;b.fx.start=function(){bd||=E.setInterval(b.fx.tick,b.fx.interval)};b.fx.stop=function(){E.clearInterval(bd);bd=null};b.fx.speeds={slow:600,fast:200,_default:400};b.fn.delay=function(a,c){return a=b.fx?b.fx.speeds[a]||a:a,c=c||'fx',this.queue(c,function(e,h){var l=E.setTimeout(e,a);h.stop=function(){E.clearTimeout(l)}})};(function(){var a=Ra.createElement('input');Ra.createElement('div');var c=Ra.createElement('select'),e=c.appendChild(Ra.createElement('option'));
var h=Ra.createElement('div');h.setAttribute('className','t');h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";h.getElementsByTagName('a');a.setAttribute('type','checkbox');h.appendChild(a);var l=h.getElementsByTagName('a')[0];l.style.cssText='top:1px';k.getSetAttribute='t'!==h.className;k.style=/top/.test(l.getAttribute('style'));k.hrefNormalized='/a'===l.getAttribute('href');k.checkOn=!!a.value;k.optSelected=e.selected;k.enctype=!!Ra.createElement('form').enctype;
c.disabled=!0;k.optDisabled=!e.disabled;a=Ra.createElement('input');a.setAttribute('value','');k.input=''===a.getAttribute('value');a.value='t';a.setAttribute('type','radio');k.radioValue='t'===a.value})();var Nd=/\r/g,Od=/[\x20\t\r\n\f]+/g;b.fn.extend({val:function(a){var c,e,h,l=this[0];if(arguments.length)return h=b.isFunction(a),this.each(function(D){var G;1===this.nodeType&&(G=h?a.call(this,D,b(this).val()):a,null==G?G='':'number'==typeof G?G+='':b.isArray(G)&&(G=b.map(G,function(aa){return null==
aa?'':aa+''})),c=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],c&&'set'in c&&void 0!==c.set(this,G,'value')||(this.value=G))});if(l)return c=b.valHooks[l.type]||b.valHooks[l.nodeName.toLowerCase()],c&&'get'in c&&void 0!==(e=c.get(l,'value'))?e:(e=l.value,'string'==typeof e?e.replace(Nd,''):null==e?'':e)}});b.extend({valHooks:{option:{get:function(a){var c=b.find.attr(a,'value');return null!=c?c:b.trim(b.text(a)).replace(Od,' ')}},select:{get:function(a){for(var c,e=a.options,h=a.selectedIndex,
l='select-one'===a.type||0>h,D=l?null:[],G=l?h+1:e.length,aa=0>h?G:l?h:0;G>aa;aa++)if(c=e[aa],!(!c.selected&&aa!==h||(k.optDisabled?c.disabled:null!==c.getAttribute('disabled'))||c.parentNode.disabled&&b.nodeName(c.parentNode,'optgroup'))){if(a=b(c).val(),l)return a;D.push(a)}return D},set:function(a,c){var e,h,l=a.options;c=b.makeArray(c);for(var D=l.length;D--;)if(h=l[D],-1<b.inArray(b.valHooks.option.get(h),c))try{h.selected=e=!0}catch(G){h.scrollHeight}else h.selected=!1;return e||(a.selectedIndex=
-1),l}}}});b.each(['radio','checkbox'],function(){b.valHooks[this]={set:function(a,c){return b.isArray(c)?a.checked=-1<b.inArray(b(a).val(),c):void 0}};k.checkOn||(b.valHooks[this].get=function(a){return null===a.getAttribute('value')?'on':a.value})});var Kc,Ac=b.expr.attrHandle,cd=/^(?:checked|selected)$/i,Fc=k.getSetAttribute,Uc=k.input;b.fn.extend({attr:function(a,c){return Za(this,b.attr,a,c,1<arguments.length)},removeAttr:function(a){return this.each(function(){b.removeAttr(this,a)})}});b.extend({attr:function(a,
c,e){var h,l,D=a.nodeType;if(3!==D&&8!==D&&2!==D)return'undefined'==typeof a.getAttribute?b.prop(a,c,e):(1===D&&b.isXMLDoc(a)||(c=c.toLowerCase(),l=b.attrHooks[c]||(b.expr.match.bool.test(c)?Pd:Kc)),void 0!==e?null===e?void b.removeAttr(a,c):l&&'set'in l&&void 0!==(h=l.set(a,e,c))?h:(a.setAttribute(c,e+''),e):l&&'get'in l&&null!==(h=l.get(a,c))?h:(h=b.find.attr(a,c),null==h?void 0:h))},attrHooks:{type:{set:function(a,c){if(!k.radioValue&&'radio'===c&&b.nodeName(a,'input')){var e=a.value;return a.setAttribute('type',
c),e&&(a.value=e),c}}}},removeAttr:function(a,c){var e=0,h=c&&c.match(Ba);if(h&&1===a.nodeType)for(;c=h[e++];){var l=b.propFix[c]||c;b.expr.match.bool.test(c)?Uc&&Fc||!cd.test(c)?a[l]=!1:a[b.camelCase('default-'+c)]=a[l]=!1:b.attr(a,c,'');a.removeAttribute(Fc?c:l)}}});var Pd={set:function(a,c,e){return!1===c?b.removeAttr(a,e):Uc&&Fc||!cd.test(e)?a.setAttribute(!Fc&&b.propFix[e]||e,e):a[b.camelCase('default-'+e)]=a[e]=!0,e}};b.each(b.expr.match.bool.source.match(/\w+/g),function(a,c){var e=Ac[c]||
b.find.attr;Uc&&Fc||!cd.test(c)?Ac[c]=function(h,l,D){var G,aa;return D||(aa=Ac[l],Ac[l]=G,G=null!=e(h,l,D)?l.toLowerCase():null,Ac[l]=aa),G}:Ac[c]=function(h,l,D){return D?void 0:h[b.camelCase('default-'+l)]?l.toLowerCase():null}});Uc&&Fc||(b.attrHooks.value={set:function(a,c,e){return b.nodeName(a,'input')?void(a.defaultValue=c):Kc&&Kc.set(a,c,e)}});Fc||(Kc={set:function(a,c,e){var h=a.getAttributeNode(e);return h||a.setAttributeNode(h=a.ownerDocument.createAttribute(e)),h.value=c+='','value'===
e||c===a.getAttribute(e)?c:void 0}},Ac.id=Ac.name=Ac.coords=function(a,c,e){var h;return e?void 0:(h=a.getAttributeNode(c))&&''!==h.value?h.value:null},b.valHooks.button={get:function(a,c){return(a=a.getAttributeNode(c))&&a.specified?a.value:void 0},set:Kc.set},b.attrHooks.contenteditable={set:function(a,c,e){Kc.set(a,''===c?!1:c,e)}},b.each(['width','height'],function(a,c){b.attrHooks[c]={set:function(e,h){return''===h?(e.setAttribute(c,'auto'),h):void 0}}}));k.style||(b.attrHooks.style={get:function(a){return a.style.cssText||
void 0},set:function(a,c){return a.style.cssText=c+''}});var Qd=/^(?:input|select|textarea|button|object)$/i,Rd=/^(?:a|area)$/i;b.fn.extend({prop:function(a,c){return Za(this,b.prop,a,c,1<arguments.length)},removeProp:function(a){return a=b.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(c){}})}});b.extend({prop:function(a,c,e){var h,l,D=a.nodeType;if(3!==D&&8!==D&&2!==D)return 1===D&&b.isXMLDoc(a)||(c=b.propFix[c]||c,l=b.propHooks[c]),void 0!==e?l&&'set'in l&&void 0!==
(h=l.set(a,e,c))?h:a[c]=e:l&&'get'in l&&null!==(h=l.get(a,c))?h:a[c]},propHooks:{tabIndex:{get:function(a){var c=b.find.attr(a,'tabindex');return c?parseInt(c,10):Qd.test(a.nodeName)||Rd.test(a.nodeName)&&a.href?0:-1}}},propFix:{'for':'htmlFor','class':'className'}});k.hrefNormalized||b.each(['href','src'],function(a,c){b.propHooks[c]={get:function(e){return e.getAttribute(c,4)}}});k.optSelected||(b.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),
null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});b.each('tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable'.split(' '),function(){b.propFix[this.toLowerCase()]=this});k.enctype||(b.propFix.enctype='encoding');var dd=/[\t\r\n\f]/g;b.fn.extend({addClass:function(a){var c,e,h,l,D,G,aa=0;if(b.isFunction(a))return this.each(function(ma){b(this).addClass(a.call(this,ma,ab(this)))});if('string'==typeof a&&
a)for(c=a.match(Ba)||[];e=this[aa++];)if(l=ab(e),h=1===e.nodeType&&(' '+l+' ').replace(dd,' ')){for(G=0;D=c[G++];)0>h.indexOf(' '+D+' ')&&(h+=D+' ');h=b.trim(h);l!==h&&b.attr(e,'class',h)}return this},removeClass:function(a){var c,e,h,l,D,G,aa=0;if(b.isFunction(a))return this.each(function(ma){b(this).removeClass(a.call(this,ma,ab(this)))});if(!arguments.length)return this.attr('class','');if('string'==typeof a&&a)for(c=a.match(Ba)||[];e=this[aa++];)if(l=ab(e),h=1===e.nodeType&&(' '+l+' ').replace(dd,
' ')){for(G=0;D=c[G++];)for(;-1<h.indexOf(' '+D+' ');)h=h.replace(' '+D+' ',' ');h=b.trim(h);l!==h&&b.attr(e,'class',h)}return this},toggleClass:function(a,c){var e=typeof a;return'boolean'==typeof c&&'string'===e?c?this.addClass(a):this.removeClass(a):b.isFunction(a)?this.each(function(h){b(this).toggleClass(a.call(this,h,ab(this),c),c)}):this.each(function(){var h,l;if('string'===e){var D=0;var G=b(this);for(l=a.match(Ba)||[];h=l[D++];)G.hasClass(h)?G.removeClass(h):G.addClass(h)}else void 0!==
a&&'boolean'!==e||(h=ab(this),h&&b._data(this,'__className__',h),b.attr(this,'class',h||!1===a?'':b._data(this,'__className__')||''))})},hasClass:function(a){var c,e=0;for(a=' '+a+' ';c=this[e++];)if(1===c.nodeType&&-1<(' '+ab(c)+' ').replace(dd,' ').indexOf(a))return!0;return!1}});b.each('blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(' '),
function(a,c){b.fn[c]=function(e,h){return 0<arguments.length?this.on(c,null,e,h):this.trigger(c)}});b.fn.extend({hover:function(a,c){return this.mouseenter(a).mouseleave(c||a)}});var Sd=E.location,ed=b.now(),fd=/\?/,Td=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;b.parseJSON=function(a){if(E.JSON&&E.JSON.parse)return E.JSON.parse(a+'');var c,e=null,h=b.trim(a+'');return h&&!b.trim(h.replace(Td,function(l,D,G,aa){return c&&
D&&(e=0),0===e?l:(c=G||D,e+=!aa-!G,'')}))?Function('return '+h)():b.error('Invalid JSON: '+a)};b.parseXML=function(a){var c,e;if(!a||'string'!=typeof a)return null;try{E.DOMParser?(e=new E.DOMParser,c=e.parseFromString(a,'text/xml')):(c=new E.ActiveXObject('Microsoft.XMLDOM'),c.async='false',c.loadXML(a))}catch(h){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName('parsererror').length||b.error('Invalid XML: '+a),c};var Ud=/#.*$/,pd=/([?&])_=[^&]*/,Vd=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Wd=
/^(?:GET|HEAD)$/,Xd=/^\/\//,qd=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,rd={},Xc={},sd='*/'.concat('*'),gd=Sd.href,Lc=qd.exec(gd.toLowerCase())||[];b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gd,type:'GET',isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Lc[1]),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{'*':sd,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',
json:'application/json, text/javascript'},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:'responseXML',text:'responseText',json:'responseJSON'},converters:{'* text':String,'text html':!0,'text json':b.parseJSON,'text xml':b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,c){return c?cb(cb(a,b.ajaxSettings),c):cb(b.ajaxSettings,a)},ajaxPrefilter:Ab(rd),ajaxTransport:Ab(Xc),ajax:function(a,c){function e(Fb,Rb,Ub,tb){var jc,gc,Yb,ec=Rb;if(2!==lc){lc=2;G&&E.clearTimeout(G);
ma=void 0;D=tb||'';vb.readyState=0<Fb?4:0;tb=200<=Fb&&300>Fb||304===Fb;if(Ub){var Vb=sa;for(var nc=vb,Eb,ac,Zb,Tb,Jc=Vb.contents,oc=Vb.dataTypes;'*'===oc[0];)oc.shift(),void 0===ac&&(ac=Vb.mimeType||nc.getResponseHeader('Content-Type'));if(ac)for(Tb in Jc)if(Jc[Tb]&&Jc[Tb].test(ac)){oc.unshift(Tb);break}if(oc[0]in Ub)Zb=oc[0];else{for(Tb in Ub){if(!oc[0]||Vb.converters[Tb+' '+oc[0]]){Zb=Tb;break}Eb||=Tb}Zb=Zb||Eb}Vb=Zb?(Zb!==oc[0]&&oc.unshift(Zb),Ub[Zb]):void 0}a:{Ub=sa;Eb=Vb;ac=vb;Zb=tb;var bc,tc,
uc;Vb={};nc=Ub.dataTypes.slice();if(nc[1])for(bc in Ub.converters)Vb[bc.toLowerCase()]=Ub.converters[bc];for(Tb=nc.shift();Tb;)if(Ub.responseFields[Tb]&&(ac[Ub.responseFields[Tb]]=Eb),!uc&&Zb&&Ub.dataFilter&&(Eb=Ub.dataFilter(Eb,Ub.dataType)),uc=Tb,Tb=nc.shift())if('*'===Tb)Tb=uc;else if('*'!==uc&&uc!==Tb){if(bc=Vb[uc+' '+Tb]||Vb['* '+Tb],!bc)for(mc in Vb)if(tc=mc.split(' '),tc[1]===Tb&&(bc=Vb[uc+' '+tc[0]]||Vb['* '+tc[0]])){!0===bc?bc=Vb[mc]:!0!==Vb[mc]&&(Tb=tc[0],nc.unshift(tc[1]));break}if(!0!==
bc)if(bc&&Ub['throws'])Eb=bc(Eb);else try{Eb=bc(Eb)}catch($c){var mc={state:'parsererror',error:bc?$c:'No conversion from '+uc+' to '+Tb};break a}}mc={state:'success',data:Eb}}Vb=mc;tb?(sa.ifModified&&(Yb=vb.getResponseHeader('Last-Modified'),Yb&&(b.lastModified[hc]=Yb),Yb=vb.getResponseHeader('etag'),Yb&&(b.etag[hc]=Yb)),204===Fb||'HEAD'===sa.type?ec='nocontent':304===Fb?ec='notmodified':(ec=Vb.state,jc=Vb.data,gc=Vb.error,tb=!gc)):(gc=ec,!Fb&&ec||(ec='error',0>Fb&&(Fb=0)));vb.status=Fb;vb.statusText=
(Rb||ec)+'';tb?xb.resolveWith(Qa,[jc,ec,vb]):xb.rejectWith(Qa,[vb,ec,gc]);vb.statusCode(Nb);Nb=void 0;aa&&Xa.trigger(tb?'ajaxSuccess':'ajaxError',[vb,sa,tb?jc:gc]);gb.fireWith(Qa,[vb,ec]);aa&&(Xa.trigger('ajaxComplete',[vb,sa]),--b.active||b.event.trigger('ajaxStop'))}}'object'==typeof a&&(c=a,a=void 0);c=c||{};var h,l,D,G,aa,ma,Aa,sa=b.ajaxSetup({},c),Qa=sa.context||sa,Xa=sa.context&&(Qa.nodeType||Qa.jquery)?b(Qa):b.event,xb=b.Deferred(),gb=b.Callbacks('once memory'),Nb=sa.statusCode||{},kc={},Ic=
{},lc=0,xc='canceled',vb={readyState:0,getResponseHeader:function(Fb){var Rb;if(2===lc){if(!Aa)for(Aa={};Rb=Vd.exec(D);)Aa[Rb[1].toLowerCase()]=Rb[2];Rb=Aa[Fb.toLowerCase()]}return null==Rb?null:Rb},getAllResponseHeaders:function(){return 2===lc?D:null},setRequestHeader:function(Fb,Rb){var Ub=Fb.toLowerCase();return lc||(Fb=Ic[Ub]=Ic[Ub]||Fb,kc[Fb]=Rb),this},overrideMimeType:function(Fb){return lc||(sa.mimeType=Fb),this},statusCode:function(Fb){var Rb;if(Fb)if(2>lc)for(Rb in Fb)Nb[Rb]=[Nb[Rb],Fb[Rb]];
else vb.always(Fb[vb.status]);return this},abort:function(Fb){Fb=Fb||xc;return ma&&ma.abort(Fb),e(0,Fb),this}};if(xb.promise(vb).complete=gb.add,vb.success=vb.done,vb.error=vb.fail,sa.url=((a||sa.url||gd)+'').replace(Ud,'').replace(Xd,Lc[1]+'//'),sa.type=c.method||c.type||sa.method||sa.type,sa.dataTypes=b.trim(sa.dataType||'*').toLowerCase().match(Ba)||[''],null==sa.crossDomain&&(h=qd.exec(sa.url.toLowerCase()),sa.crossDomain=!(!h||h[1]===Lc[1]&&h[2]===Lc[2]&&(h[3]||('http:'===h[1]?'80':'443'))===
(Lc[3]||('http:'===Lc[1]?'80':'443')))),sa.data&&sa.processData&&'string'!=typeof sa.data&&(sa.data=b.param(sa.data,sa.traditional)),db(rd,sa,c,vb),2===lc)return vb;(aa=b.event&&sa.global)&&0===b.active++&&b.event.trigger('ajaxStart');sa.type=sa.type.toUpperCase();sa.hasContent=!Wd.test(sa.type);var hc=sa.url;sa.hasContent||(sa.data&&(hc=sa.url+=(fd.test(hc)?'&':'?')+sa.data,delete sa.data),!1===sa.cache&&(sa.url=pd.test(hc)?hc.replace(pd,'$1_='+ed++):hc+(fd.test(hc)?'&':'?')+'_='+ed++));sa.ifModified&&
(b.lastModified[hc]&&vb.setRequestHeader('If-Modified-Since',b.lastModified[hc]),b.etag[hc]&&vb.setRequestHeader('If-None-Match',b.etag[hc]));(sa.data&&sa.hasContent&&!1!==sa.contentType||c.contentType)&&vb.setRequestHeader('Content-Type',sa.contentType);vb.setRequestHeader('Accept',sa.dataTypes[0]&&sa.accepts[sa.dataTypes[0]]?sa.accepts[sa.dataTypes[0]]+('*'!==sa.dataTypes[0]?', '+sd+'; q=0.01':''):sa.accepts['*']);for(l in sa.headers)vb.setRequestHeader(l,sa.headers[l]);if(sa.beforeSend&&(!1===
sa.beforeSend.call(Qa,vb,sa)||2===lc))return vb.abort();xc='abort';for(l in{success:1,error:1,complete:1})vb[l](sa[l]);if(ma=db(Xc,sa,c,vb)){if(vb.readyState=1,aa&&Xa.trigger('ajaxSend',[vb,sa]),2===lc)return vb;sa.async&&0<sa.timeout&&(G=E.setTimeout(function(){vb.abort('timeout')},sa.timeout));try{lc=1,ma.send(kc,e)}catch(Fb){if(!(2>lc))throw Fb;e(-1,Fb)}}else e(-1,'No Transport');return vb},getJSON:function(a,c,e){return b.get(a,c,e,'json')},getScript:function(a,c){return b.get(a,void 0,c,'script')}});
b.each(['get','post'],function(a,c){b[c]=function(e,h,l,D){return b.isFunction(h)&&(D=D||l,l=h,h=void 0),b.ajax(b.extend({url:e,type:c,dataType:D,data:h,success:l},b.isPlainObject(e)&&e))}});b._evalUrl=function(a){return b.ajax({url:a,type:'GET',dataType:'script',cache:!0,async:!1,global:!1,'throws':!0})};b.fn.extend({wrapAll:function(a){if(b.isFunction(a))return this.each(function(e){b(this).wrapAll(a.call(this,e))});if(this[0]){var c=b(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&
c.insertBefore(this[0]);c.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(a){return b.isFunction(a)?this.each(function(c){b(this).wrapInner(a.call(this,c))}):this.each(function(){var c=b(this),e=c.contents();e.length?e.wrapAll(a):c.append(a)})},wrap:function(a){var c=b.isFunction(a);return this.each(function(e){b(this).wrapAll(c?a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,
'body')||b(this).replaceWith(this.childNodes)}).end()}});b.expr.filters.hidden=function(a){return k.reliableHiddenOffsets()?0>=a.offsetWidth&&0>=a.offsetHeight&&!a.getClientRects().length:sb(a)};b.expr.filters.visible=function(a){return!b.expr.filters.hidden(a)};var Yd=/%20/g,xd=/\[\]$/,td=/\r?\n/g,Zd=/^(?:submit|button|image|reset|file)$/i,$d=/^(?:input|select|textarea|keygen)/i;b.param=function(a,c){var e,h=[],l=function(D,G){G=b.isFunction(G)?G():null==G?'':G;h[h.length]=encodeURIComponent(D)+
'='+encodeURIComponent(G)};if(void 0===c&&(c=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(a)||a.jquery&&!b.isPlainObject(a))b.each(a,function(){l(this.name,this.value)});else for(e in a)Cb(e,a[e],c,l);return h.join('&').replace(Yd,'+')};b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=b.prop(this,'elements');return a?b.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!b(this).is(':disabled')&&
$d.test(this.nodeName)&&!Zd.test(a)&&(this.checked||!jb.test(a))}).map(function(a,c){a=b(this).val();return null==a?null:b.isArray(a)?b.map(a,function(e){return{name:c.name,value:e.replace(td,'\r\n')}}):{name:c.name,value:a.replace(td,'\r\n')}}).get()}});b.ajaxSettings.xhr=void 0!==E.ActiveXObject?function(){return this.isLocal?yb():8<Ra.documentMode?Jb():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Jb()||yb()}:Jb;var ae=0,Vc={},Wc=b.ajaxSettings.xhr();E.attachEvent&&E.attachEvent('onunload',
function(){for(var a in Vc)Vc[a](void 0,!0)});k.cors=!!Wc&&'withCredentials'in Wc;(Wc=k.ajax=!!Wc)&&b.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var c;return{send:function(e,h){var l,D=a.xhr(),G=++ae;if(D.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(l in a.xhrFields)D[l]=a.xhrFields[l];a.mimeType&&D.overrideMimeType&&D.overrideMimeType(a.mimeType);a.crossDomain||e['X-Requested-With']||(e['X-Requested-With']='XMLHttpRequest');for(l in e)void 0!==e[l]&&D.setRequestHeader(l,
e[l]+'');D.send(a.hasContent&&a.data||null);c=function(aa,ma){if(c&&(ma||4===D.readyState))if(delete Vc[G],c=void 0,D.onreadystatechange=b.noop,ma)4!==D.readyState&&D.abort();else{var Aa={};var sa=D.status;'string'==typeof D.responseText&&(Aa.text=D.responseText);try{var Qa=D.statusText}catch(Xa){Qa=''}sa||!a.isLocal||a.crossDomain?1223===sa&&(sa=204):sa=Aa.text?200:404}Aa&&h(sa,Qa,Aa,D.getAllResponseHeaders())};a.async?4===D.readyState?E.setTimeout(c):D.onreadystatechange=Vc[G]=c:c()},abort:function(){c&&
c(void 0,!0)}}}});b.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/\b(?:java|ecma)script\b/},converters:{'text script':function(a){return b.globalEval(a),a}}});b.ajaxPrefilter('script',function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type='GET',a.global=!1)});b.ajaxTransport('script',function(a){if(a.crossDomain){var c,e=Ra.head||b('head')[0]||Ra.documentElement;return{send:function(h,l){c=Ra.createElement('script');
c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(D,G){(G||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,G||l(200,'success'))};e.insertBefore(c,e.firstChild)},abort:function(){c&&c.onload(void 0,!0)}}}});var ud=[],hd=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:'callback',jsonpCallback:function(){var a=ud.pop()||b.expando+'_'+ed++;return this[a]=!0,a}});b.ajaxPrefilter('json jsonp',
function(a,c,e){var h,l,D,G=!1!==a.jsonp&&(hd.test(a.url)?'url':'string'==typeof a.data&&0===(a.contentType||'').indexOf('application/x-www-form-urlencoded')&&hd.test(a.data)&&'data');return G||'jsonp'===a.dataTypes[0]?(h=a.jsonpCallback=b.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,G?a[G]=a[G].replace(hd,'$1'+h):!1!==a.jsonp&&(a.url+=(fd.test(a.url)?'&':'?')+a.jsonp+'='+h),a.converters['script json']=function(){return D||b.error(h+' was not called'),D[0]},a.dataTypes[0]='json',
l=E[h],E[h]=function(){D=arguments},e.always(function(){void 0===l?b(E).removeProp(h):E[h]=l;a[h]&&(a.jsonpCallback=c.jsonpCallback,ud.push(h));D&&b.isFunction(l)&&l(D[0]);D=l=void 0}),'script'):void 0});b.parseHTML=function(a,c,e){if(!a||'string'!=typeof a)return null;'boolean'==typeof c&&(e=c,c=!1);c=c||Ra;var h=P.exec(a);e=!e&&[];return h?[c.createElement(h[1])]:(h=p([a],c,e),e&&e.length&&b(e).remove(),b.merge([],h.childNodes))};var vd=b.fn.load;b.fn.load=function(a,c,e){if('string'!=typeof a&&
vd)return vd.apply(this,arguments);var h,l,D,G=this,aa=a.indexOf(' ');return-1<aa&&(h=b.trim(a.slice(aa,a.length)),a=a.slice(0,aa)),b.isFunction(c)?(e=c,c=void 0):c&&'object'==typeof c&&(l='POST'),0<G.length&&b.ajax({url:a,type:l||'GET',dataType:'html',data:c}).done(function(ma){D=arguments;G.html(h?b('<div>').append(b.parseHTML(ma)).find(h):ma)}).always(e&&function(ma,Aa){G.each(function(){e.apply(this,D||[ma.responseText,Aa,ma])})}),this};b.each('ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend'.split(' '),
function(a,c){b.fn[c]=function(e){return this.on(c,e)}});b.expr.filters.animated=function(a){return b.grep(b.timers,function(c){return a===c.elem}).length};b.offset={setOffset:function(a,c,e){var h,l,D,G=b.css(a,'position'),aa=b(a),ma={};'static'===G&&(a.style.position='relative');var Aa=aa.offset();var sa=b.css(a,'top');var Qa=b.css(a,'left');('absolute'===G||'fixed'===G)&&-1<b.inArray('auto',[sa,Qa])?(h=aa.position(),D=h.top,l=h.left):(D=parseFloat(sa)||0,l=parseFloat(Qa)||0);b.isFunction(c)&&(c=
c.call(a,e,b.extend({},Aa)));null!=c.top&&(ma.top=c.top-Aa.top+D);null!=c.left&&(ma.left=c.left-Aa.left+l);'using'in c?c.using.call(a,ma):aa.css(ma)}};b.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(G){b.offset.setOffset(this,a,G)});var c,e,h={top:0,left:0},l=this[0],D=l&&l.ownerDocument;if(D)return c=D.documentElement,b.contains(c,l)?('undefined'!=typeof l.getBoundingClientRect&&(h=l.getBoundingClientRect()),e=Gb(D),{top:h.top+(e.pageYOffset||c.scrollTop)-
(c.clientTop||0),left:h.left+(e.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):h},position:function(){if(this[0]){var a,c,e={top:0,left:0},h=this[0];return'fixed'===b.css(h,'position')?c=h.getBoundingClientRect():(a=this.offsetParent(),c=this.offset(),b.nodeName(a[0],'html')||(e=a.offset()),e.top+=b.css(a[0],'borderTopWidth',!0),e.left+=b.css(a[0],'borderLeftWidth',!0)),{top:c.top-e.top-b.css(h,'marginTop',!0),left:c.left-e.left-b.css(h,'marginLeft',!0)}}},offsetParent:function(){return this.map(function(){for(var a=
this.offsetParent;a&&!b.nodeName(a,'html')&&'static'===b.css(a,'position');)a=a.offsetParent;return a||vc})}});b.each({scrollLeft:'pageXOffset',scrollTop:'pageYOffset'},function(a,c){var e=/Y/.test(c);b.fn[a]=function(h){return Za(this,function(l,D,G){var aa=Gb(l);return void 0===G?aa?c in aa?aa[c]:aa.document.documentElement[D]:l[D]:void(aa?aa.scrollTo(e?b(aa).scrollLeft():G,e?G:b(aa).scrollTop()):l[D]=G)},a,h,arguments.length,null)}});b.each(['top','left'],function(a,c){b.cssHooks[c]=na(k.pixelPosition,
function(e,h){return h?(h=rc(e,c),Pb.test(h)?b(e).position()[c]+'px':h):void 0})});b.each({Height:'height',Width:'width'},function(a,c){b.each({padding:'inner'+a,content:c,'':'outer'+a},function(e,h){b.fn[h]=function(l,D){var G=arguments.length&&(e||'boolean'!=typeof l),aa=e||(!0===l||!0===D?'margin':'border');return Za(this,function(ma,Aa,sa){var Qa;return b.isWindow(ma)?ma.document.documentElement['client'+a]:9===ma.nodeType?(Qa=ma.documentElement,Math.max(ma.body['scroll'+a],Qa['scroll'+a],ma.body['offset'+
a],Qa['offset'+a],Qa['client'+a])):void 0===sa?b.css(ma,Aa,aa):b.style(ma,Aa,sa,aa)},c,G?l:void 0,G,null)}})});b.fn.extend({bind:function(a,c,e){return this.on(a,null,c,e)},unbind:function(a,c){return this.off(a,null,c)},delegate:function(a,c,e,h){return this.on(c,a,e,h)},undelegate:function(a,c,e){return 1===arguments.length?this.off(a,'**'):this.off(c,a||'**',e)}});b.fn.size=function(){return this.length};b.fn.andSelf=b.fn.addBack;'function'==typeof define&&define.amd&&define('jquery',[],function(){return b});
var be=E.jQuery,ce=E.$;return b.noConflict=function(a){return E.$===b&&(E.$=ce),a&&E.jQuery===b&&(E.jQuery=be),b},M||(E.jQuery=E.$=b),b});if('undefined'!==typeof module&&module.exports)var lib=require('../../index');
function Collection(E,M){var da='undefined'!==typeof module&&module.exports?!1:!0,Ga=da?require('vendor/uuid'):require('uuid'),L=da?require('utils/merge'):require('../../../lib/merge'),T={isCaseSensitive:{false:{re:'^%s$',modifiers:'i'},true:{re:'^%s$'}}},ra=!1,U=!1,Y=null;da={useLocalStorage:!1,locale:'en',searchOptionRules:T};M='object'==typeof M?L(M,da):da;var m=['not null'],R=function(u){try{return eval(u)}catch(p){throw Error('Could not evaluate condition `'+u+'`.\n'+p.stack);}};if('undefined'==
typeof E||''==E||null==E)E=[];if(!Array.isArray(E))throw Error('`new Collection([content] [, options] )`: `content` argument must be an Array !');E=E?JSON.clone(E):[];for(var v=[],qa=da=0,Ha=E.length;qa<Ha;++qa)E[qa]||(E[qa]={}),E[qa]._uuid=Ga.v4(),v[da]=E[qa]._uuid,++da;var Q=E;Q.setSearchOption=function(){if(!arguments.length)throw Error('searchOption cannot be left blank');if(3<arguments.length||3>arguments.length&&1<arguments.length)throw Error('argument length mismatch');var u=0,p=arguments.length;
if(1==arguments.length){if('object'!=typeof arguments[0])throw Error('searchOption must be an object');for(var q in arguments[0])if('undefined'==typeof T[q])throw Error(arguments[1]+' is not an allowed searchOption !');Y=arguments[0]}else for(Y||={};u<p;++u){if('undefined'==typeof T[arguments[1]])throw Error(arguments[1]+' is not an allowed searchOption !');'undefined'==typeof Y[arguments[0]]&&(Y[arguments[0]]={});/true|false/i.test(arguments[2])?Y[arguments[0]][arguments[1]]=/true/i.test(arguments[2])?
!0:!1:Y[arguments[0]][arguments[1]]=arguments[2]}return Q};Q.find=function(){ra=!1;'boolean'==typeof arguments[arguments.length-1]&&(ra=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);var u=null,p=null,q=null;try{u=JSON.stringify(arguments),p=JSON.parse(u),q=p.count()}catch(Ea){throw Error('filter must be an object\n'+Ea.stack);}if('undefined'!=typeof p&&0<q){1<q&&(ra=!0);q=u=null;var H=0,I=Array.isArray(this)?this:JSON.clone(E),w=[],x='',B=null,F=Y,N=M.searchOptionRules,
y=null,S=[],X=function(Ea,va,Ca,Ta,Va){if(null===Ea&&null===Ca)++Ta;else if(Ea&&-1<m.indexOf(x)&&'not null'==x&&'undefined'!=typeof Ca&&'object'!==typeof Ca&&'null'!=Ca&&'undefined'!=Ca)0>w.indexOf(Ca)&&++Ta;else if('undefined'!=typeof Ca&&'object'!==typeof Ca&&/(<|>|=)/.test(Ea)&&!/undefined|function/.test(typeof Ca))va=Ea,Va=Ca+Ea,'string'==typeof Ea&&'string'==typeof Ca&&(Va=Ea.replace(/^(<=|>=|!==|!=|===|!==)/g,''),'string'!=typeof Ca||/^"(.*)"$/.test(Va)||(Ea=Ea.replace(Va,'"'+Va+'"')),Va='"'+
Ca+'"'+Ea,Ea=va),/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Ca)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Ea)?R(Ca.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+Ea.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Ta:R(Va)&&++Ta;else if('undefined'!=typeof Ca&&'object'!==typeof Ca&&Ca===Ea&&!F||'undefined'!=typeof Ca&&'object'!==typeof Ca&&Ca===Ea&&'undefined'==typeof F[va])++Ta;else if('undefined'!=
typeof Ca&&'object'!==typeof Ca&&F&&'undefined'!=typeof F[va]){var Ua=0;var zb=F[va].count();for(var Ja in F[va])Va[Ja][F[va][Ja]].re=Va[Ja][F[va][Ja]].re.replace(/%s/,Ea),B=Va[Ja][F[va][Ja]].modifiers?new RegExp(Va[Ja][F[va][Ja]].re,Va[Ja][F[va][Ja]].modifiers):new RegExp(Va[Ja][F[va][Ja]].re),B.test(Ca)&&++Ua;Ua==zb&&++Ta}return{matched:Ta}},xa=function(Ea,va,Ca,Ta){var Va=va.split(/\./g);Va=Va[Va.length-1];B=new RegExp('("'+Va+'":\\w+)');Va=null;try{Ca&&(Va=eval('_content.'+va))}catch(Ua){}Va&&
(Array.isArray(Va)?Va=Va[1].split(/:/)[1]:'string'==typeof Va&&/:/.test(Va)&&(Va=Va.split(/:/)[1]),/(<|>|=)/.test(Ea)?/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Va)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Ea)?R(Va.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+Ea.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Ta:R(Va+Ea)&&++Ta:Va==Ea&&++Ta);return{matched:Ta}},na=function(Ea,va,
Ca,Ta,Va){va=va.split(/\[\*\]/g);Va=va[0].replace(/\[\*\]/,'');Ca=Ca[Va];va=va[1];/^\./.test(va)&&(va=va.substr(1));Va=0;if(Ca)for(var Ua=0,zb=Ca.length;Ua<zb&&!(S=/\./.test(va)?xa(Ea,va,Ca[Ua],Va):X(Ea,va,Ca[Ua],Va,N),Va=S.matched,0<Va);++Ua);return{matched:Ta+Va}},Da;for(Da in I)if(I[Da]||(I[Da]={}),!/undefined|function/.test(typeof I[Da]))for(let Ea=0,va=p.count();Ea<va;++Ea){u=p[Ea];q=u.count();y=0;for(var Ia in u){if('undefined'==typeof u[Ia])throw Error('filter `'+Ia+'` cannot be left undefined');
x=null===u[Ia]||/(boolean|number)/.test(typeof u[Ia])?u[Ia]:u[Ia].toLocaleLowerCase();S=/\./.test(Ia)?/\[\*\]/.test(Ia)?na(u[Ia],Ia,I[Da],y,0):xa(u[Ia],Ia,I[Da],y):X(u[Ia],Ia,I[Da][Ia],y,N);y=S.matched}if(y==q)if(ra&&U&&0>v.indexOf(I[Da]._uuid)||U||!ra){if(!ra||ra&&0>w.indexOf(I[Da]._uuid)||U)w[H]=I[Da],++H}else ra&&!U&&0>w.indexOf(I[Da]._uuid)&&(w[H]=I[Da],++H)}}else w=E;Y=null;w.insert=Q.insert;w.notIn=Q.notIn;w.find=this.find;w.update=Q.update;w.replace=Q.replace;w.or=Q.or;w.findOne=Q.findOne;
w.limit=Q.limit;w.orderBy=Q.orderBy;w.delete=Q.delete;w.toRaw=Q.toRaw;w.filter=Q.filter;return w};Q.findOne=function(){var u=null;'string'==typeof arguments[arguments.length-1]&&(delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(u=arguments);if('undefined'==typeof u||!u||'object'!=typeof u)throw Error('[ Collection ][ findOne ] `filters` argument must be defined: Array or Filter Object(s) expected');u=null;var p=Array.isArray(arguments[0])?arguments[0]:Q.find.apply(this,
arguments)||[];0<p.length&&(u=p.limit(1).toRaw()[0]);return u};Q.or=function(){arguments[arguments.length]=!0;++arguments.length;return Q.find.apply(this,arguments)};Q.limit=function(u){if('undefined'==typeof u||'number'!=typeof u)throw Error('[Collection::result->limit(resultLimit)] : `resultLimit` parametter must by a `number`');var p=Array.isArray(this)?this:JSON.clone(E);p=p.splice(0,u);p.insert=Q.insert;p.update=Q.update;p.replace=Q.replace;p.notIn=Q.notIn;p.findOne=Q.findOne;p.orderBy=Q.orderBy;
p.max=Q.max;p.delete=Q.delete;p.toRaw=Q.toRaw;p.filter=Q.filter;return p};Q.notIn=function(){var u=null,p=null,q=!0;'string'==typeof arguments[arguments.length-1]&&(u=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'boolean'==typeof arguments[arguments.length-1]&&(q=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(p=arguments);if('undefined'==typeof p||!p||'object'!=typeof p)throw Error('[ Collection ][ notIn ] `filters` argument must be defined: Array or Filter Object(s) expected');
var H=JSON.clone(Array.isArray(this)?this:E);if(Array.isArray(arguments[0]))var I=arguments[0];else U=!0,I=Q.find.apply(this,arguments)||[],U=!1;if(0<I.length){if(q&&u&&'undefined'==typeof I[0]&&'undefined'==typeof I[0][u])throw Error('[ Collection ][ notIn ] `key` not valid');q&&!u&&'undefined'!=typeof I[0]._uuid?u='_uuid':'undefined'!=typeof I[0].id&&(u='id');if(!u||'undefined'==typeof I[0][u])throw Error('No comparison key defined !');var w=0,x=I.length,B=0,F,N=p.count(),y;if(q&&'undefined'!=typeof H[B]&&
H[B].hasOwnProperty(u))for(;w<x&&H.length;++w)for(B=0,q=H.length;B<q;++B){if('undefined'!=typeof H[B]&&'undefined'!=typeof I[w]&&H[B][u]===I[w][u]){H.splice(B,1);break}}else if('undefined'==typeof H[B])H=JSON.clone(I);else for(;w<x&&H.length;++w)for(B=0,q=H.length;B<q;++B)if('undefined'!=typeof H[B]){for(F=y=0;F<N;++F){if('undefined'==typeof p[F])throw Error('filter `'+F+'` cannot be left undefined');var S=p[F].count();var X=0;for(u in p[F])H[B].hasOwnProperty(u)&&H[B][u]===I[w][u]&&++X;X==S&&++y}if(y){H.splice(B,
1);break}}}u=H;u.notIn=Q.notIn;u.limit=Q.limit;u.find=Q.find;u.findOne=Q.findOne;u.insert=Q.insert;u.replace=Q.replace;u.update=Q.update;u.orderBy=Q.orderBy;u.max=Q.max;u.delete=Q.delete;u.toRaw=Q.toRaw;u.filter=Q.filter;return u};Q.insert=function(u){if('object'!==typeof u)throw Error('filter must be an object');var p=Array.isArray(this)?this:E;u._uuid=Ga.v4();p.push(u);p.limit=Q.limit;p.find=Q.find;p.findOne=Q.findOne;p.update=Q.update;p.replace=Q.replace;p.orderBy=Q.orderBy;p.max=Q.max;p.notIn=
Q.notIn;p.delete=Q.delete;p.toRaw=Q.toRaw;p.filter=Q.filter;return p};Q.update=function(){var u='_uuid',p,q=p=null;'string'==typeof arguments[arguments.length-1]&&(u=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(q=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(p=arguments);if('undefined'==typeof p||!p||'object'!=typeof p)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');
if('undefined'==typeof q||!q||'object'!=typeof q)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var H=Array.isArray(arguments[0])?arguments[0]:Q.find.apply(this,arguments)||[];p=Array.isArray(this)?this:JSON.clone(E);if(0<H.length){H=H.toRaw();for(var I=0,w=H.length;I<w;++I){H[I]=L(JSON.clone(q),H[I]);for(var x=0,B=p.length;x<B;++x)if('undefined'==typeof p[x][u]&&'_uuid'==u&&'undefined'!=typeof p[x].id&&(u='id'),p[x][u]==H[I][u]){p[x]=H[I];break}}}p.limit=
Q.limit;p.find=Q.find;p.findOne=Q.findOne;p.insert=Q.insert;p.update=Q.update;p.replace=Q.replace;p.orderBy=Q.orderBy;p.max=Q.max;p.notIn=Q.notIn;p.delete=Q.delete;p.toRaw=Q.toRaw;p.filter=Q.filter;return p};Q.replace=function(){var u='_uuid',p,q=p=null;'string'==typeof arguments[arguments.length-1]&&(u=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(q=arguments[arguments.length-1],delete arguments[arguments.length-
1],--arguments.length);0<arguments.length&&(p=arguments);if('undefined'==typeof p||!p||'object'!=typeof p)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');if('undefined'==typeof q||!q||'object'!=typeof q)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var H=Array.isArray(arguments[0])?arguments[0]:Q.find.apply(this,arguments)||[];p=Array.isArray(this)?this:JSON.clone(E);if(0<H.length){H=H.toRaw();
for(var I=0,w=H.length;I<w;++I){H[I]=JSON.clone(q);for(var x=0,B=p.length;x<B;++x){if('undefined'==typeof p[x][u]&&'_uuid'==u&&'undefined'!=typeof p[x].id)u='id';else if('undefined'==typeof p[x][u]&&'_uuid'==u)throw Error('No comparison key defined !');if(p[x][u]==H[I][u]){p[x]=H[I];break}}}}p.limit=Q.limit;p.find=Q.find;p.findOne=Q.findOne;p.insert=Q.insert;p.update=Q.update;p.replace=Q.replace;p.orderBy=Q.orderBy;p.max=Q.max;p.notIn=Q.notIn;p.delete=Q.delete;p.toRaw=Q.toRaw;p.filter=Q.filter;return p};
Q['delete']=function(){var u=Q.notIn.apply(this,arguments);u.limit=Q.limit;u.find=Q.find;u.findOne=Q.findOne;u.insert=Q.insert;u.update=Q.update;u.replace=Q.replace;u.orderBy=Q.orderBy;u.max=Q.max;u.notIn=Q.notIn;u.toRaw=Q.toRaw;u.filter=Q.filter;u.delete=this.delete;return u};Q.orderBy=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->orderBy(filter) ] where `filter` must not be empty or null');if(1==arguments.length)var u=arguments[0];else{u=Array(arguments.length);
for(var p=0,q=u.length;p<q;++p)u[p]=arguments[p]}p=Array.isArray(this)?this:JSON.clone(E);return J(u,p.toRaw())};Q.max=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->max(filter) ] where `filter` must not be empty or null');if(1<arguments.length||Array.isArray(arguments[0])||'object'==typeof arguments[0]&&1<arguments[0].count())throw Error('[ Collection->max(filter) ] only accept one filter length, and fileter count must be equal to 1');var u=arguments[0];
try{var p=Object.keys(u)[0],q={};q[p]='desc';return Q.find(u).orderBy(q).limit(1)[0][p]}catch(H){throw H;}};var J=function(u,p){if('object'!=typeof u)throw Error('`filter` parametter must be an object or an array');var q={},H=null,I=null,w=H=null;H=[];if(0==u.count())return null;q.asc=function(x,B){var F=B.map(function(N,y){var S={};S.index=y;S[x]=N[x];return S});F.sort(function(N,y){var S=function(X,xa){/^(true|false)$/i.test(X)&&(X=/true/i.test(X)?1:0);/^(true|false)$/i.test(xa)&&(xa=/true/i.test(xa)?
1:0);return'string'==typeof X&&''!=X||'string'==typeof xa?('number'==typeof X&&(X=''+X),'number'==typeof xa&&(xa=''+xa),X.localeCompare(xa,void 0,{sensitivity:'case',caseFirst:'upper'})):X>xa?1:X<xa?-1:0};return'object'==typeof N?S(N[x],y[x]):S(N,y)});return F.map(function(N,y,S){return B[N.index]})};q.desc=function(x,B){return q.asc(x,B).reverse()};H=function(x,B){var F=[],N=[];if(Array.isArray(B))for(var y=0,S=B.length;y<S;++y)F[y]=Object.keys(B[y])[0],N[y]=B[y][F[y]];else for(S in y=0,B)F[y]=S,
N[y]=B[S],++y;I=function(X,xa,na,Da,Ia){var Ea='desc'==Da[Ia]?1:0,va,Ca=va=null;return'string'==typeof X[na[Ia]]&&''!=X[na[Ia]]?(va=X[na[Ia]].localeCompare(xa[na[Ia]]),0==Ea&&0!=va?0>va?-1:1:0!=va?0>va?1:-1:na.length-1>Ia?I(X,xa,na,Da,Ia+1):0):'number'==typeof X[na[Ia]]||'number'==typeof xa[na[Ia]]?(va=(''+X[na[Ia]]).localeCompare(''+xa[na[Ia]],void 0,{numeric:!0}),0==Ea&&0!=va?0>va?-1:1:0!=va?0>va?1:-1:na.length-1>Ia?I(X,xa,na,Da,Ia+1):0):'boolean'==typeof X[na[Ia]]||'boolean'==typeof xa[na[Ia]]?
('boolean'==typeof X[na[Ia]]&&(va=X[na[Ia]]?1:0),'boolean'==typeof xa[na[Ia]]&&(Ca=xa[na[Ia]]?1:0),va>Ca?0==Ea?1:-1:va<Ca?0==Ea?-1:1:na.length-1>Ia?I(X,xa,na,Da,Ia+1):0):X[na[Ia]]>xa[na[Ia]]?0==Ea?1:-1:X[na[Ia]]<xa[na[Ia]]?0==Ea?-1:1:na.length-1>Ia?I(X,xa,na,Da,Ia+1):0};return x.sort(function(X,xa){return I(X,xa,F,N,0)})};Array.isArray(u)||1<u.count()?H=H(p,u):(w=Object.keys(u)[0],H=u[w],H=q[H](w,p));H.find=Q.find;H.findOne=Q.findOne;H.limit=Q.limit;H.notIn=Q.notIn;H.insert=Q.insert;H.update=Q.update;
H.replace=Q.replace;H.delete=Q.delete;H.orderBy=Q.orderBy;H.max=Q.max;H.toRaw=Q.toRaw;H.filter=Q.filter;return H};Q.toRaw=function(){for(var u=Array.isArray(this)?this:E,p=0,q=u.length;p<q;++p)u[p]._uuid&&delete u[p]._uuid;return JSON.clone(u)};Q.filter=function(u){if('undefined'==typeof u)throw Error('`filter` parametter must be a string or an array.');var p=Array.isArray(this)?this:E;if(!p.length)return[];var q=0,H=p.length,I=[],w=0;if(Array.isArray(u))for(var x,B=u.length,F;q<H;++q){F=!1;for(x=
0;x<B;++x)'undefined'!=typeof p[q][u[x]]&&('undefined'==typeof I[w]&&(I[w]={}),I[w][u[x]]=p[q][u[x]],F=!0);F&&++w}else for(;q<H;++q)'undefined'!=typeof p[q][u]&&('undefined'==typeof I[w]&&(I[w]={}),I[w][u]=p[q][u],++w);return JSON.clone(I)};return Q}'undefined'!==typeof module&&module.exports?module.exports=Collection:'function'===typeof define&&define.amd&&define('utils/collection',[],function(){return Collection});
function FormValidatorUtil(E,M,da,Ga){var L='undefined'!==typeof module&&module.exports?!1:!0,T=L?require('utils/merge'):require('../../../../../lib/merge');L||require('../../../../../helpers');L&&require('helpers/dateFormat');var ra=L?require('utils/routing'):require('../../../../../lib/routing'),U=function(){var p=!1,q=null;L?L&&'undefined'!=typeof gina.forms&&(q=gina.forms):q=getContext('gina').forms||null;q&&'undefined'!=typeof q.validators&&(p=!0);return p},Y={errors:{},keys:{'%l':'label','%n':'name',
'%s':'size'},data:{},excluded:[],errorLabels:{is:'Condition not satisfied',isEmail:'A valid email is required',isRequired:'Cannot be left empty',isBoolean:'Must be a valid boolean',isNumber:'Must be a number: allowed values are integers or floats',isNumberLength:'Must contain %s characters',isNumberMinLength:'Should be at least %s characters',isNumberMaxLength:'Should not be more than %s characters',isInteger:'Must be an integer',isIntegerLength:'Must have %s characters',isIntegerMinLength:'Should be at least %s characters',
isIntegerMaxLength:'Should not be more than %s characters',toInteger:'Could not be converted to integer',isFloat:'Must be a proper float',isFloatException:'Float exception found: %n',toFloat:'Could not be converted to float',toFloatNAN:'Value must be a valid number',isDate:'Must be a valid Date',isString:'Must be a string',isStringLength:'Must have %s characters',isStringMinLength:'Should be at least %s characters',isStringMaxLength:'Should not be more than %s characters',isJsonWebToken:'Must be a valid JSON Web Token',
query:'Must be a valid response',isApiError:'Condition not satisfied'}},m=null;if(E)m=T(JSON.clone(E),m),Y.data=T(JSON.clone(E),Y.data);else throw Error('missing data param');var R=function(p,q){var H=null;for(let I in Ga)if(Ga[I].name===q){H=(new DOMParser).parseFromString(p.innerHTML,'text/html').getElementById(Ga[I].id);break}if(H)return H;throw Error('Field `'+q+'` not found in fieldsSet');},v=function(p){var q;var H='';var I=p.length;for(q=0;q<I;){var w=p[q++];switch(w>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:H+=
String.fromCharCode(w);break;case 12:case 13:var x=p[q++];H+=String.fromCharCode((w&31)<<6|x&63);break;case 14:x=p[q++];var B=p[q++];H+=String.fromCharCode((w&15)<<12|(x&63)<<6|(B&63)<<0)}}return H},qa=function(p,q){var H=m[this.name].errors||{},I=this.target.id||this.target.getAttribute('id');if(m.isValid()){var w=this.target.dataset.ginaFormValidatorTestedValue;console.debug('[ '+this.name+' ]','TESTED VALUE -> '+this.value+' vs '+w);I='asyncCompleted.'+I;var x=this.target.form.getAttribute('id'),
B='undefined'!=typeof gina.validator&&'undefined'!=typeof gina.validator.$forms[x]&&'undefined'!=typeof gina.validator.$forms[x].cachedErrors?gina.validator.$forms[x].cachedErrors:null;if(!w||'undefined'==typeof w||w!==this.value)this.target.dataset.ginaFormValidatorTestedValue=this.value,B&&'undefined'!=typeof B[this.name]&&'undefined'!=typeof B[this.name].query&&(delete B[this.name].query,'undefined'!=typeof gina.validator.$forms[x]&&'undefined'!=typeof gina.validator.$forms[x].errors&&delete gina.validator.$forms[x].errors.query);
else if(w===this.value){var F=!1;B&&'undefined'!=typeof B[this.name]&&'undefined'!=typeof B[this.name].query&&'undefined'!=typeof B[this.name].query[this.value]&&(this.error=q=B[this.name].query[this.value].slice(0),F=!0);H.query=u(this.error||q||Y.errorLabels.query,this);F&&(this.errors=H,this.valid=!1);'undefined'!=typeof gina.events[I]&&triggerEvent(gina,this.target,I,m[this.name]);return m[this.name]}var N=null,y=this;if(window.XMLHttpRequest)N=new XMLHttpRequest;else if(window.ActiveXObject)try{N=
new ActiveXObject('Msxml2.XMLHTTP')}catch(na){try{N=new ActiveXObject('Microsoft.XMLHTTP')}catch(Da){}}q={isSynchrone:!1,headers:{}};w=p.data||null;H=null;I=/^true$/i.test(this.target.form.dataset.ginaFormLiveCheckEnabled)?!0:!1;H=JSON.stringify(w);if(/\$/.test(H)){w=H.match(/\$[-_\[\]a-z 0-9]+/g)||[];x=B=null;for(let na=0,Da=w.length;na<Da;na++)x=w[na].replace(/\$/g,''),re=new RegExp('\\'+w[na].replace(/\[|\]/g,'\\$&'),'g'),B=Y.data[x]||null,!B&&I&&(B=R(this.target.form,x).value),H=H.replace(re,
B)}w=H.replace(/\\"/g,'');var S='undefined'==typeof p.validIf?!0:p.validIf;q=T(q,p,da);delete q.data;delete q.validIf;H=q.headers['Content-Type'];var X=null;I=this.target.getAttribute('id');if(!/^http/.test(q.url)&&/@/.test(q.url))try{F=ra.getRoute(q.url),q.url=F.toUrl()}catch(na){throw na;}if(q.withCredentials){if('withCredentials'in N)q.isSynchrone?N.open(q.method,q.url,q.isSynchrone):N.open(q.method,q.url);else if('undefined'!=typeof XDomainRequest)N=new XDomainRequest,N.open(q.method,q.url);else throw N=
null,X='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ',Error(X);N.responseType='undefined'!=typeof q.responseType?q.responseType:'';N.withCredentials=!0}else q.isSynchrone?N.open(q.method,q.url,q.isSynchrone):N.open(q.method,q.url);for(var xa in q.headers)'Content-Type'==xa&&'undefined'!=typeof H&&null!=H&&''!=H||N.setRequestHeader(xa,q.headers[xa]);'undefined'!=typeof H&&null!=H&&''!=H&&N.setRequestHeader('Content-Type',H);N&&(N.onload=function(){try{X=
this.responseText;var na=this.getResponseHeader('Content-Type');if(/\/json/.test(na))X=JSON.parse(this.responseText),'undefined'==typeof X.status&&(X.status=this.status);else if(X={status:N.status,message:''},/^(\{|\[)/.test(N.responseText))try{X=T(X,JSON.parse(N.responseText))}catch(Ua){X=T(X,Ua)}na=X;y.value=Y.data[y.name]=y.value?y.value.toLowerCase():y.value;var Da=na.isValid||!1;Da=S!=Da?!1:!0;m[y.name].valid=Da;var Ia=m[y.name].errors||{},Ea='undefined'!=typeof na.error&&'undefined'!=typeof na.fields?
na.fields:{};if(0<Ea.count()&&!Da||!Da){if(!Da){var va=null;'undefined'!=typeof Ea[y.name]?Y.errorLabels.query=Ea[y.name]:'undefined'!=typeof na.error&&/^5/.test(na.status)&&(va=na.error);Ia.query=u(va||y.error||p.error||Y.errorLabels.query,y);console.debug('query error detected !! ',na)}Ia.query||''!=y.value||(Da=!0)}Da&&'undefined'!=typeof Ia.query&&delete Ia.query;y.valid=Da;var Ca=gina.validator.$forms[y.target.form.getAttribute('id')].cachedErrors||{};if(0<Ia.count()){y.errors=Ia;'undefined'==
typeof m[y.name].errors&&(m[y.name].errors={});m[y.name].errors=T(m[y.name].errors,Ia);'undefined'!=typeof Ia.query&&Ia.query&&('undefined'==typeof Ca[y.name]&&(Ca[y.name]={}),'undefined'==typeof Ca[y.name].query&&(Ca[y.name].query={}),Ca[y.name].query[y.value]=Ia.query.slice(0));var Ta=y.target.getAttribute('data-gina-form-errors');/query/.test(Ta)||y.target.setAttribute('data-gina-form-errors',Ta&&''!=Ta?Ta+' query':'query')}else'undefined'!=typeof Ca[y.name]&&'undefined'!=typeof Ca[y.name].query&&
'undefined'!=typeof Ca[y.name].query[y.value]&&delete Ca[y.name].query[y.value];var Va=y.target.id||y.target.getAttribute('id');console.debug('prematurely completed event `asyncCompleted.'+Va+'`');return triggerEvent(gina,y.target,'asyncCompleted.'+Va,m[y.name])}catch(Ua){throw Ua;}},E?N.send(w):N.send())}else console.debug('stopping on errors ...'),triggerEvent(gina,this.target,'asyncCompleted.'+I,m[this.name])},Ha=async function(p,q,H,I){var w=(new (require(_(GINA_FRAMEWORK_DIR+'/core/config.js',
!0)))).getInstance(),x=null,B=null,F=null,N=getContext('bundle');if(/@/.test(p.url)){var y=p.url.split(/@/);B=y[0];F=y[1];getConfig(N,'app');try{w.bundle!==F&&(x=getConfig(N,'app').proxy[F])}catch(na){throw Error('Could not retrieve `proxy` configuration for bundle `'+F+'`. Please check your `/config/app.json`.\n'+na.stack);}y=null}else throw Error('external url/domain not  handled at this moment, please contact us if you need support for it.');y=JSON.clone(ra.getRoute(p.url,p.data));var S=w[F][w.env];
x||(w.bundle==F&&(x=getConfig(N,'settings').server.credentials,p.ca=x.ca||null,p.hostname=S.server.scheme+'://'+S.host,p.port=S.port[S.server.protocol][S.server.scheme],p.protocol=S.server.protocol,p.rejectUnauthorized=!1),x={ca:p.ca,hostname:p.hostname,port:p.port,path:p.path},'undefined'!=typeof p.protocol&&(x.protocol=p.protocol),'undefined'!=typeof p.rejectUnauthorized&&(x.rejectUnauthorized=p.rejectUnauthorized));B={method:y.method,requirements:y.requirements,namespace:y.namespace||void 0,url:unescape(y.url),
rule:B+'@'+F,param:JSON.clone(y.param),middleware:JSON.clone(y.middleware),bundle:y.bundle,isXMLRequest:q.isXMLRequest,isWithCredentials:q.isWithCredentials};F=B.rule.replace('@'+F,'')||'_common';F={template:'undefined'!=typeof S.content.templates?S.content.templates[F]||S.content.templates._common:void 0,conf:JSON.clone(S),cacheless:S.cacheless};F=T(F,B);F.conf=JSON.clone(S);F.conf.content.routing[F.rule].param=B.param;F.template&&'undefined'==typeof F.template.ginaLoader&&(F.template.ginaLoader=
F.conf.content.templates._common.ginaLoader);F.conf.content.routing[F.rule].param=B.param;delete F.middleware;delete F.param;delete F.requirements;S=new (require(_(GINA_FRAMEWORK_DIR+'/core/controller/controller.js'),!0))(F);S.name=y.param.control;S.setOptions(q,H,I,F);q='object'==typeof p.data&&0<p.data.count()?p.data:{};if(/^get|delete|put$/i.test(p.method)){H=0;for(let na in q)'object'==typeof q[na]&&encodeURIComponent(JSON.stringify(q[na])),H++}x.method=p.method;x.path=y.url;p=require('util').promisify;
var X={isValid:!1},xa=!1;await p(S.query)(x,q).then(function(na){X=na}).catch(function(na){xa=na});xa&&(console.error(xa),X.error=xa);return X},Q=null;Q=L?qa:Ha;var J=function(p,q){var H=null,I=null;'undefined'==typeof m[p]&&'undefined'!=typeof q&&(m[p]=H=q);if('object'==typeof m[p])try{H=JSON.parse(JSON.stringify(m[p]))}catch(w){H=m[p]}else H=m[p];I='';L&&'undefined'!=typeof M&&(I=M[p].getAttribute('data-gina-form-field-label')||'');m[p]={target:L&&'undefined'!=typeof M?M[p]:null,name:p,value:H,
valid:!1,label:I,exclude:!1};m[p].is=function(w,x,B){var F=!1,N='undefined'!=typeof window&&'undefined'!=typeof window._currentValidatorAlias?window._currentValidatorAlias:'is';'undefined'!=typeof window&&window._currentValidatorAlias&&delete window._currentValidatorAlias;var y=m[this.name].errors||{};Y.data[this.name]=m[this.name].value;'undefined'==typeof y.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value||!y.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value?
F=!0:y.isRequired||'string'!=typeof this.value||''!=this.value||(F=!0);if(!F&&/^(true|false)$/i.test(w))F=w;else if(!F){var S=null,X=null;if(/[!=>><a-z 0-9]+/i.test(w)){if((X=w.match(/\${0}[-_,.\[\]a-z0-9]+/ig))&&0<X.length){for(var xa=0,na=X.length;xa<na;++xa)'undefined'!=typeof m[X[xa]]&&X[xa]&&(S=new RegExp('\\$'+X[xa]+'(?!\\S+)','g'),w=''==m[X[xa]].value?w.replace(S,'""'):'string'==typeof m[X[xa]].value?w.replace(S,'"'+m[X[xa]].value+'"'):w.replace(S,m[X[xa]].value));try{w=w.replace(/(\(|\)|return)/g,
''),F=/^\//.test(w)?eval(w+'.test("'+this.value+'")'):eval(w)}catch(Da){throw Error(Da.stack||Da.message);}}}else if(w instanceof RegExp)F=w.test(this.value)?!0:!1;else if('boolean'==typeof w)F=w?!0:!1;else try{/\/(.*)\//.test(w)?(S=w.match(/\/(.*)\//).pop(),X=w.replace('/'+S+'/',''),F=(new RegExp(S,X)).test(this.value)):F=eval(w)}catch(Da){throw Error(Da.stack||Da.message);}}F?F&&'undefined'!=typeof y[N]&&delete y[N]:(y[N]=u(this.error||x||Y.errorLabels[N],this),'undefined'!=typeof B&&(y.stack=B));
this.valid=F;0<y.count()&&(this.errors=y);return m[this.name]};m[p].set=function(w){this.value=Y.data[this.name]=w;this.target.setAttribute('value',w);return m[this.name]};m[p].isEmail=function(){this.value=Y.data[this.name]=this.value?this.value.toLowerCase():this.value;L&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var w=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.value)?
!0:!1,x=m[this.name].errors||{};x.isRequired||''!=this.value||(w=!0);w?w&&'undefined'!=typeof x.isEmail&&delete x.isEmail:x.isEmail=u(this.error||Y.errorLabels.isEmail,this);this.valid=w;0<x.count()&&(this.errors=x);return m[this.name]};m[p].isJsonWebToken=function(){this.value=Y.data[this.name]=this.value?this.value.toLowerCase():this.value;L&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var w=/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/.test(this.value)?
!0:!1,x=m[this.name].errors||{};x.isRequired||''!=this.value||(w=!0);w?w&&'undefined'!=typeof x.isJsonWebToken&&delete x.isJsonWebToken:x.isJsonWebToken=u(this.error||Y.errorLabels.isJsonWebToken,this);this.valid=w;0<x.count()&&(this.errors=x);return m[this.name]};m[p].isBoolean=function(){var w=null,x=m[this.name].errors||{};x.isRequired&&0==this.value&&(delete x.isRequired,this.errors=x);switch(this.value){case 'true':case !0:case 1:w=this.value=Y.data[this.name]=!0;break;case 'false':case !1:case 0:w=
this.value=Y.data[this.name]=!1}(w=null!==w?!0:!1)?w&&'undefined'!=typeof x.isBoolean&&delete x.isBoolean:x.isBoolean=u(this.error||Y.errorLabels.isBoolean,this);this.valid=w;0<x.count()&&(this.errors=x);return m[this.name]};m[p].isNumber=function(w,x){var B=this.value,F=!1,N=!0,y=!0,S=m[this.name].errors||{};try{'string'==typeof B&&/,|\./g.test(B)?B=Y.data[this.name]=this.value=parseFloat(B.replace(/,/g,'.').replace(/\s+/g,'')):'string'==typeof B&&''!=B&&(B=Y.data[this.name]=this.value=parseInt(B.replace(/\s+/g,
'')))}catch(xa){S.isNumber=u(this.error||Y.errorLabels.isNumber,this),this.valid=!1,0<S.count()&&(this.errors=S)}if(+B===+B&&(F=!0,!S.isRequired&&''!=B)){var X=B.toString().length;w&&'number'==typeof w&&X<w&&(N=!1,this.size=w);x&&'number'==typeof x&&X>x&&(y=!1,this.size=x)}F&&N&&y||(F||(S.isNumber=u(this.error||Y.errorLabels.isNumber,this)),N&&y||(N||(S.isNumberLength=u(this.error||Y.errorLabels.isNumberMinLength,this)),y||(S.isNumberLength=u(this.error||Y.errorLabels.isNumberMaxLength,this)),w===
x&&(S.isNumberLength=u(this.error||Y.errorLabels.isNumberLength,this))),F=!1);F&&'undefined'!=typeof S.isNumberLength&&delete S.isNumberLength;this.valid=F;this.value=Y.data[this.name]=''!=B?Number(B):B;0<S.count()&&(this.errors=S);return m[this.name]};m[p].toInteger=function(){var w=this.value,x=m[this.name].errors||{};if(w)try{this.value=Y.data[this.name]=Math.round(w)}catch(B){x.toInteger=u(this.error||Y.errorLabels.toInteger,this),this.valid=!1,0<x.count()&&(this.errors=x)}return m[this.name]};
m[p].isInteger=function(w,x){var B=this.value,F=!1,N=!0,y=!0,S=m[this.name].errors||{};+B===+B&&0===B%1&&(F=!0,S.isRequired||''==B||(w&&'number'==typeof w&&B.length<w&&(N=!1,this.size=w),x&&'number'==typeof x&&B.length>x&&(y=!1,this.size=x)));F&&N&&y||(F||(S.isInteger=u(this.error||Y.errorLabels.isInteger,this)),N&&y||(N||(S.isIntegerLength=u(this.error||Y.errorLabels.isIntegerMinLength,this),F=!1),y||(S.isIntegerLength=u(this.error||Y.errorLabels.isIntegerMaxLength,this),F=!1),w===x&&(S.isIntegerLength=
u(this.error||Y.errorLabels.isIntegerLength,this),F=!1)));this.valid=F;this.value=Y.data[this.name]=Number(B);0<S.count()&&(this.errors=S);return m[this.name]};m[p].toFloat=function(w){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''),/,/.test(this.value)&&!/\./.test(this.value)?this.value=this.value.replace(/,/g,'.'):this.value=this.value.replace(/,/g,''));var x=Y.data[this.name]=this.value,B=m[this.name].errors||{},F=!0;w?this.decimals=parseInt(w):'undefined'==typeof this.decimals&&
(this.decimals=2);if(x)if(this.isNumber().valid)try{Number.isFinite(x)||(x=this.value=Y.data[this.name]=new Number(parseFloat(x.match(/[0-9.,]+/g).join('').replace(/,/,'.')))),L&&this.target.setAttribute('value',x)}catch(N){F=!1,B.toFloat=u(this.error||Y.errorLabels.toFloat,this),this.valid=!1,0<B.count()&&(this.errors=B)}else F=!1,B.toFloat=u(this.error||Y.errorLabels.toFloatNAN,this);else return m[this.name];this.decimals&&x&&!B.toFloat&&(this.value=Y.data[this.name]=parseFloat(this.value.toFixed(this.decimals)));
this.valid=F;0<B.count()&&(this.errors=B);return m[this.name]};m[p].isFloat=function(w){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''));var x=Y.data[this.name]=this.value;w=m[this.name].errors||{};'string'==typeof x&&/\./.test(x)&&Number.isFinite(Number(x));'string'==typeof x&&/,/g.test(x)&&(x=this.value=Y.data[this.name]=Number(x.replace(/,/g,'.')));Number(x)===x&&0!==x%1?(this.value=Y.data[this.name]=Number(x),x=!0):x=!1;w.isRequired||''!=this.value||(x=!0);x||(w.isFloat=
u(this.error||Y.errorLabels.isFloat,this));this.valid=x;0<w.count()&&(this.errors=w);return m[this.name]};m[p].isRequired=function(w){if('boolean'==typeof w&&!w)return this.valid=!0,w=Y.excluded.indexOf(this.name),-1<w&&Y.excluded.splice(w,1),m[this.name];if(L&&this.target&&'INPUT'==this.target.tagName&&'undefined'!=typeof this.target.type&&'radio'==this.target.type){w=document.getElementsByName(this.name);for(var x=0,B=w.length;x<B;++x)if(w[x].checked){/true|false/.test(w[x].value)?this.value=Y.data[this.name]=
/true/.test(w[x].value)?!0:!1:this.value=Y.data[this.name]=w[x].value;this.valid=!0;break}}w='undefined'==typeof this.value||null==this.value||''==this.value||/^\s+/.test(this.value)?!1:!0;x=m[this.name].errors||{};w?w&&'undefined'!=typeof x.isRequired&&delete x.isRequired:x.isRequired=u(this.error||Y.errorLabels.isRequired,this);this.valid=w;0<x.count()&&(this.errors=x);return m[this.name]};m[p].isString=function(w,x){var B=Y.data[this.name]=this.value,F=!1,N=!0,y=!0,S=m[this.name].errors||{};'string'!=
typeof B||S.isRequired||''==B||(F=!0,w&&'number'==typeof w&&B.length<w&&(N=!1,this.size=w),x&&'number'==typeof x&&B.length>x&&(y=!1,this.size=x));F&&N&&y||(!F&&S.isRequired&&''==B?(F=!1,S.isString=u(this.error||Y.errorLabels.isString,this)):F||S.isRequired||(F=!0),N&&y||(F=!1,N||(S.isStringLength=u(this.error||Y.errorLabels.isStringMinLength,this)),y||(S.isStringLength=u(this.error||Y.errorLabels.isStringMaxLength,this)),w===x&&(S.isStringLength=u(this.error||Y.errorLabels.isStringLength,this))));
this.valid=F;0<S.count()&&(this.errors=S);return m[this.name]};m[p].isDate=function(w){var x=this.value,B=!1,F=m[this.name].errors||{},N=null;if(!x||''==x||/NaN|Invalid Date/i.test(x))return/NaN|Invalid Date/i.test(x)&&(console.warn('[FormValidator::isDate] Provided value for field `'+this.name+'` is not allowed: `'+x+'`'),F.isDate=u(this.error||Y.errorLabels.isDate,this)),this.valid=B,0<F.count()&&(this.errors=F),m[this.name];if('undefined'==typeof w||'undefined'!=typeof w&&/true/i.test(w))w='yyyy-mm-dd';
if(x instanceof Date)x=x.format(w);else{try{N=w.match(/[^\/\- ]+/g)}catch(na){throw Error('[FormValidator::isDate] Provided mask not allowed: `'+w+'`');}try{x=x.match(/[^\/\- ]+/g);var y={},S;var X=0;for(S=N.length;X<S;++X)y[N[X]]=x[X];for(var xa in y)w=w.replace(new RegExp(xa,'g'),y[xa])}catch(na){throw Error('[FormValidator::isDate] Provided value not allowed: `'+x+'`'+na);}x=this.value=Y.data[this.name]=new Date(w);if(/Invalid Date/i.test(x)||!1===x instanceof Date)return F.isRequired||''!=this.value?
F.isDate=u(this.error||Y.errorLabels.isDate,this):B=!0,this.valid=B,0<F.count()&&(this.errors=F),m[this.name];B=!0}this.valid=B;return x};m[p].format=function(w,x){var B=this.value;return B?B.format(w,x):m[this.name]};m[p].setFlash=function(w,x){'undefined'!=typeof x&&''!=x&&(this.error=x);return m[this.name]};m[p].setLabel=function(w){'undefined'!=typeof w&&''!=w&&(this.label=w);return m[this.name]};m[p].trim=function(w){if('boolean'==typeof w&&w)return this.value=this.value.replace(/^\s+|\s+$/,
''),Y.data[this.name]=Y.data[this.name]=this.value,m[this.name]};m[p].exclude=function(w){if('boolean'==typeof w&&!w)return/^true|false$/i.test(this.value)&&(this.value=/^true$/i.test(this.value)?!0:!1,Y.data[this.name]=this.value),m[this.name];this.isExcluded=!1;0>Y.excluded.indexOf(this.name)&&(Y.excluded.push(this.name),this.isExcluded=!0);return m[this.name]};m[p].query=Q;m[p].getValidationContext=function(){return{isGFFCtx:L,self:m,local:Y,replace:u}};if(U()){H=q=null;try{for(let w in gina.forms.validators)H=
'/validators/'+w+'/main.js',Y.errorLabels[w]='Condition not satisfied',L?(q=v(gina.forms.validators[w].data),q=q.replace(/(\)\s+\{|\)\{){1}/,'$&\n\tvar validationContext = this.getValidationContext(),isGFFCtx = validationContext.isGFFCtx,self = validationContext.self,local = validationContext.local,replace = validationContext.replace;')):q=gina.forms.validators[w].toString(),m[p][w]=eval('('+q+')\n//# sourceURL='+w+'.js')}catch(w){throw Error('[UserFormValidator] Could not evaluate: `'+H+'`\n'+w.stack);
}}};for(let p in m)J(p,m[p]);m.addField=function(p,q){'undefined'==typeof m[p]&&J(p,q)};m.isValid=function(){return 0<m.getErrors().count()?!1:!0};m.setErrors=function(p){if(!p)return{};for(var q in m)if('object'==typeof m[q]){for(var H in m[q])'object'==typeof p[q]&&'undefined'!=typeof p[q][H]&&('undefined'!=typeof m[q].valid&&/^true$/i.test(m[q].valid)?delete p[q][H]:('undefined'==typeof m[q].errors&&(m[q].errors={}),m[q].errors[H]=p[q][H]));('undefined'==typeof m[q].errors&&'undefined'!=typeof p[q]||
'undefined'!=typeof m[q].errors&&0==m[q].errors.count()&&'undefined'!=typeof p[q])&&delete p[q]}return p};m.getErrors=function(p){var q={};if('undefined'!=typeof p)return'undefined'!=typeof m[p]&&m[p]&&'undefined'!=typeof m[p].errors&&0<m[p].errors.count()&&(q[p]=m[p].errors),q;for(var H in m)'object'==typeof m[H]&&'undefined'!=typeof m[H].errors&&0<m[H].errors.count()&&(q[H]=m[H].errors);return q};m.toData=function(){if(0<Y.excluded.length)for(var p=0,q=Y.excluded.length;p<q;++p)'undefined'!=typeof Y.data[Y.excluded[p]]&&
delete Y.data[Y.excluded[p]];return Y.data};var u=function(p,q){var H=p.match(/%[a-z]+/gi);if(H)for(var I=0,w=H.length;I<w;++I)p=p.replace(new RegExp(H[I],'g'),q[Y.keys[H[I]]]);return p};m.setErrorLabels=function(p){'undefined'!=typeof p&&(Y.errorLabels=T(p,Y.errorLabels))};return m}'undefined'!==typeof module&&module.exports?module.exports=FormValidatorUtil:'function'===typeof define&&define.amd&&define('utils/form-validator',[],function(){return FormValidatorUtil});
function Routing(){var E='undefined'!==typeof module&&module.exports?!1:!0,M={allowedMethods:['get','post','put','delete'],reservedParams:['controle','file','title','namespace','path'],notFound:{}};M.allowedMethodsString=M.allowedMethods.join(',');var da=null,Ga=null,L=null;E?(Ga&&'function'==typeof Ga||(Ga=require('utils/merge')),L&&'function'==typeof L||(L=require('utils/form-validator'))):(require('fs'),require('util'),require('../../inherits'),Ga=require('../../merge'),da=require(__dirname+'/../../../core/plugins')||
getContext('gina').plugins,L=da.Validator);M.getUrlProps=function(m,R){var v={};if(E){var qa=window.gina.config;v.hostname=qa.hostname;'undefined'!=typeof m&&(m=routing.getRoute('webroot@'+m),v.hostname=m.hostname,v.host=m.host,v.webroot=m.webroot)}else qa=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(qa.getRouting=getContext('gina').Config.instance.getRouting),'undefined'==typeof m&&(m=qa.bundle),'undefined'==typeof R&&(R=qa.env),v.hostname=qa.envConf[m][R].hostname,
v.host=qa.envConf[m][R].host,v.webroot=qa.envConf[m][R].server.webroot;return v};M.compareUrls=async function(m,R,v,qa,Ha){'undefined'==typeof v&&(v={routing:{}});if(/,/.test(R)){var Q=0;R=R.split(/,/g);for(var J=R.length,u={past:!1,request:v};Q<J&&!u.past;)u=await T(m,R[Q],v,qa,Ha),++Q;return u}return await T(m,R,v,qa,Ha)};var T=async function(m,R,v,qa,Ha){var Q=m.url.split(/\//);R=R.split(/\//);var J=0,u=0,p=R.length,q=0,H={},I=0,w=v.method.toLowerCase(),x=m.method.toLowerCase(),B=!1;if('undefined'!=
typeof m.requirements&&/get|delete/i.test(w)&&'undefined'!=typeof v[w]||'undefined'!=typeof m.requirements&&/get/i.test(w)&&/delete/i.test(x)){/get/i.test(w)&&/delete/i.test(x)&&(w=x);if(/^(delete)$/i.test(w)&&Q.length===R.length){'undefined'==typeof v[w]&&(v[w]={});for(let y=0,S=R.length;y<S;y++)if(Q[y]===R[y])++q;else if(x=R[y].substr(1),'undefined'!=typeof m.requirements[x]){x=m.requirements[x];if(/^\//.test(x))x=x.substr(1,x.lastIndexOf('/')-1);else if(/^validator::/.test(x)&&await ra(R[y],Q[y],
m,v,qa,Ha)){++q;continue}/^:/.test(R[y])&&'undefined'!=typeof x&&(new RegExp(x)).test(Q[y])&&(++q,v[w][R[y].substr(1)]=Q[y])}B=!0}for(var F in v[w])'undefined'!=typeof m.requirements[F]&&0>R.indexOf(':'+F)&&(R[u]=':'+F,++u,Q[J]=v[w][F],++J,B||Q.length!==R.length||++p)}if(!B&&Q.length===R.length)for(;I<p;++I)Q[I]===R[I]?++q:q==I&&/:/.test(R[I])&&await ra(R[I],Q[I],m,v,qa,Ha)&&++q;if('undefined'!=typeof m.requirements&&w==m.method.toLowerCase()&&!B&&q>=p)for(F=Object.getOwnPropertyNames(m.requirements),
J=0,R.join(',').match(/:[-_a-z0-9]+/g);J<F.length;){u=F[J];if('undefined'==typeof m.param[u]&&/^validator::/i.test(m.requirements[u])){if(R.length!=Q.length)break;var N=R.join(',').match(/:[-_a-z0-9]+/g);let y=m.requirements[u];I={};x={};B={};try{x=JSON.parse(y.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(S){throw S;}if('undefined'!=typeof x.query&&'undefined'!=typeof x.query.data){I=x.query.data;for(let S in I)0>N.indexOf(I[S])&&delete I[S];
for(let S=0,X=R.length;S<X;S++)/^:/.test(R[S])&&(N=R[S].replace(/^:/,''),''!=N&&'undefined'!=typeof Q[S]&&(I[N]=Q[S],'undefined'==typeof v.params[N]&&(v.params[N]=Q[S])))}I=Ga(I,JSON.clone(v[w])||{});'undefined'==typeof I[u]&&(I[u]=null);B[u]=x;_validator=E?new L(I):new L('routing',I,null,B);if(0==x.count()){console.error('Route validation failed '+m.rule);--q;J++;continue}for(let S in x)if('undefined'!=typeof x[S].data&&(x[S].data=I),B=Array.isArray(x[S])?await _validator[u][S].apply(_validator[u],
x[S]):await _validator[u][S](x[S],v,qa,Ha),!B.isValid&&(--q,'undefined'!=typeof B.error))throw B.error;}J++}H.past=q===p?!0:!1;H.past&&(v.routing=Y(m,v[w]),H.request=v);return H},ra=async function(m,R,v,qa,Ha,Q){var J=-1,u=m.match(/:\w+/g);J=new RegExp(m,'g');var p=null,q=null,H=null;p=!1;var I=p=q=q=null,w=null,x=qa.method.toLowerCase();if(!u.length)return!1;v.param.path&&J.test(v.param.path)&&(v.param.path=v.param.path.replace(J,R));v.param.namespace&&J.test(v.param.namespace)&&(v.param.namespace=
v.param.namespace.replace(J,R));'undefined'!=typeof v.param.file&&/:/.test(v.param.file)&&(p=new RegExp('(:'+m+'/|:'+m+'$)','g'),U.variable=R,v.param.file=v.param.file.replace(p,U));v.param.title&&J.test(v.param.title)&&(v.param.title=v.param.title.replace(J,R));if(1==u.length){p=new RegExp(u[0]);J=-1<u.indexOf(m)?u.indexOf(m):!1;!1===J&&m.match(p)&&(J=0);if(!1===J)return J;if(v.method.toLowerCase()!==x)return!1;'undefined'==typeof qa[x]&&(qa[x]={});H=u[J].substr(1);J=v.requirements[H];if(/^\//.test(J))p=
J.match(/\/(.*)\//).pop(),q=J.replace('/'+p+'/',''),p=(new RegExp(p,q)).test(R);else if(/^validator::/.test(J)&&R){q={};p={};I={};w='';m.replace(new RegExp('[^'+H+']','g'),function(S){w+=S});q[H]=R.replace(new RegExp(w,'g'),'');try{p=JSON.parse(J.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(S){throw S;}'undefined'!=typeof p.query&&'undefined'!=typeof p.query.data&&m==p.query.data[Object.keys(p.query.data)[0]]&&(p.query.data[Object.keys(p.query.data)[0]]=
q[H],qa.params[H]=q[H]);I[H]=p;q=new L('routing',q,null,I);if(0==p.count())return console.error('Route validation failed '+v.rule),!1;for(var B in p)Array.isArray(p[B])?await q[H][B].apply(q[H],p[B]):await q[H][B](p[B],qa,Ha,Q);p=q.isValid()}else p=(new RegExp(v.requirements[H])).test(R);if('undefined'!=typeof v.param[H]&&'undefined'!=typeof v.requirements&&'undefined'!=typeof v.requirements[H]&&'undefined'!=typeof qa.params&&p)return qa.params[H]=R,'undefined'==typeof qa[x][H]&&(qa[x][H]=R),!0}else{Ha=
v.url;Q=qa.url;x={};I='';var F=!1,N=0;B=0;for(var y=Q.length;B<y;++B)if(Q.charAt(B)!=Ha.charAt(N)||F){if(''==I)F=!0,I+=Q.charAt(B);else if(B>Ha.indexOf(u[0])+u[0].length){J=v.requirements[u[0]];R=I.substr(0,I.length);if(/^\//.test(J))p=J.match(/\/(.*)\//).pop(),q=J.replace('/'+p+'/',''),p=(new RegExp(p,q)).test(R);else if(/^validator::/.test(J)){q={};p={};I={};w='';m.replace(new RegExp('[^'+H[0]+']','g'),function(S){w+=S});q[H[0]]=R.replace(new RegExp(w,'g'),'');p=JSON.parse(J.split(/::/).splice(1)[0].replace(/([^\W+ true false])+(\w+)/g,
'"$&"'));I[H[0]]=p;q=new L('routing',q,null,I);for(let S in p)if(Array.isArray(p[S]))q[H[0]][S].apply(q[H[0]],p[S]);else q[H[0]][S](p[S]);p=q.isValid()}else p=(new RegExp(v.requirements[H[0]])).test(R);if(p)x[u[0].substr(1)]=R;else return!1;I='';F=!1;N=Ha.indexOf(u[0])+u[0].length;--B;u.splice(0,1)}else I+=Q.charAt(B),++N;if(B==y-1)if(J=v.requirements[u[0]],R=I.substr(0,I.length),/^\//.test(J)?(p=J.match(/\/(.*)\//).pop(),q=J.replace('/'+p+'/',''),p=(new RegExp(p,q)).test(R)):p=(new RegExp(v.requirements[H])).test(R),
p)x[u[0].substr(1)]=R;else return!1}else++N;if(x.count()==u.length){H=null;for(H in x)qa.params[H]=x[H];return!0}}return!1},U=function(m){return/\/$/.test(m)?U.variable+'/':U.variable},Y=function(m,R){var v=null,qa,Ha=m.url,Q=null;for(Q in m.param)if(('undefined'==typeof R||'undefined'!=typeof R[Q])&&/^:/.test(m.param[Q])){var J=m.param[Q].substr(1);if('undefined'!=typeof R&&'undefined'!=typeof R[J]){var u=new RegExp('(:'+J+'/|:'+J+'$)','g');'undefined'!=typeof m.param.path&&/:/.test(m.param.path)&&
(m.param.path=m.param.path.replace(u,R[J]));'undefined'!=typeof m.param.title&&/:/.test(m.param.title)&&(m.param.title=m.param.title.replace(u,R[J]));'undefined'!=typeof m.param.namespace&&/:/.test(m.param.namespace)&&(m.param.namespace=m.param.namespace.replace(u,R[J]));'undefined'!=typeof m.param.file&&/:/.test(m.param.file)&&(U.variable=R[J],m.param.file=m.param.file.replace(u,U));if(/,/.test(m.url)){v=m.url.split(/,/g);var p=0;for(qa=v.length;p<qa;++p)U.variable=R[J],v[p]=v[p].replace(u,U);m.url=
v.join(',')}else U.variable=R[J],m.url=m.url.replace(u,U)}}if(v){p=0;qa=v.length;Ha=Ha.split(/,/g);var q=0;for(m.urlIndex=0;p<qa;++p)if(v=0,u=Ha[0].match(/:[-_a-z0-9]+/ig)){Q=0;for(J=u.length;Q<J;Q++){var H=u[Q].substr(1);'undefined'!=typeof R[H]&&R[H]&&v++}v>q&&(q=v,m.urlIndex=p)}}return m};M.getRoute=function(m,R,v){var qa=null;E?qa=window.gina.config:(qa=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(qa.getRouting=getContext('gina').Config.instance.getRouting));var Ha=
qa.env||GINA_ENV,Q=null,J=qa.bundle;/@/.test(m)||'undefined'==typeof J||null==J||(m=m.toLowerCase(),m+='@'+J);if(/@/.test(m)){var u=m.replace(/(.*):\/\//,'').split(/@/);J=u[1];/\/(.*)$/.test(m)&&(Q=m.replace(/(.*):\/\//,'').split(/\/(.*)$/)[1],J=J.replace(/\/(.*)$/,''),Ha=Q||Ha);m=u[0].toLowerCase()+'@'+J}Q=qa.getRouting(J,Ha);if('undefined'==typeof Q[m])throw Error('[ RoutingHelper::getRouting(rule, params) ] : `'+m+'` not found !');qa=JSON.clone(Q[m]);J=null;qa=Y(qa,R);/,/.test(qa.url)&&('undefined'!=
typeof qa.urlIndex&&(v=qa.urlIndex,delete qa.urlIndex),v='undefined'!=typeof v?v:0,qa.url=qa.url.split(/,/g)[v]);/\/$/.test(qa.url)&&'/'!=qa.url&&(qa.url=qa.url.substr(0,qa.url.length-1));if(/GET/i.test(qa.method)&&'undefined'!=typeof R){v='?';Q=Q[m].url;for(let p in qa.param)-1<M.reservedParams.indexOf(p)||(new RegExp(qa.param[p])).test(Q)||'undefined'!=typeof R[p]&&(v+=p+'='+encodeURIComponent(R[p])+'&');1<v.length&&(v=v.substring(0,v.length-1),qa.url+=v)}qa.toUrl=function(p){var q=null;/^redirect$/i.test(this.param.control)&&
(q=M.getUrlProps(this.bundle,Ha||GINA_ENV));var H=this.webroot||q.webroot;q=this.hostname||q.hostname;var I=this.url;this.url='undefined'!=typeof p&&1==p?I.replace(H,'/'):I;return q+this.url};qa.request=function(p,q){var H=null,I=null;'function'==typeof arguments[arguments.length-1]&&(H=arguments[arguments.length-1]);'object'==typeof arguments[2]&&(I=arguments[2]);var w=this.webroot||I.webroot,x=this.hostname||I.hostname;I='undefined'!=typeof p&&1==p?path.replace(w,'/'):this.url||I.url;x=/^https/.test(x)?
'https':'http';E?window.open(I,'undefined'!=typeof q&&'undefined'!=typeof q.target?q.target:'_self'):('undefined'==typeof q.agent&&(q.agent=!1),x=require(''+x),w=function(B){var F='',N=!1;B.on('data',function(y){F+=y});B.on('error',function(y){N='Failed to get mail content';y&&'undefined'!=typeof y.stack?N+=y.stack:'string'==typeof y&&(N+='\n'+y)});B.on('end',function(){if(/^\{/.test(F))try{F=JSON.parse(F),'undefined'!=typeof F.error&&(N=JSON.clone(F),F=null)}catch(y){N=y}N?H(N):H(!1,F)})},H?x.get(I,
q,w):x.get(I,q))};/:/.test(qa.url)&&(R=qa.url.match(/(:(.*)\/|:(.*)$)/g).map(function(p){return p.replace(/\//g,'')}).join(', '),J='[ RoutingHelper::getRoute(rule[, bundle, method]) ] : route [ %r ] param placeholder not defined: `'+qa.url+'` !\n Check your route description to compare requirements against param variables [ '+R+']',J=J.replace(/%r/,m),console.warn(Error(J)));return qa};M.getRouteByUrl=function(m,R,v,qa,Ha){2==arguments.length&&'undefined'!=typeof arguments[1]&&-1<M.allowedMethods.indexOf(arguments[1].toLowerCase())&&
(v=arguments[1],R=void 0);var Q=null,J=null,u=null,p=null,q=null,H=null;if(/#/.test(m)&&1<m.length){var I=m.split(/#/);m=I[0];q='#'+I[1];I=null}1==arguments.length&&'undefined'!=typeof arguments[0]&&(/^(https|http)/i.test(m)||/^\//.test(m)||(m='/'+m),Q='/'+m.split(/\//g)[1],E&&(p=gina.config.reverseRouting,u=gina.config.routing),'undefined'!=typeof p[Q]&&(I=u[p[Q]],R=I.bundle,Q=I.webroot,H=I.hostname,I=null));Ha='boolean'!=typeof arguments[arguments.length-1]?!1:arguments[arguments.length-1];var w=
!1,x=null,B=null,F=x=B=null;I='undefined'!=typeof v?!0:!1;E?(x=window.gina.config,R='undefined'!=typeof R?R:x.bundle,B=x.env,u=u||x.getRouting(R),p=p||x.reverseRouting,isXMLRequest='undefined'!=typeof isXMLRequest?isXMLRequest:!1,H=H||x.hostname,Q=Q||x.webroot,qa={routing:{},method:v,params:{},url:m}):(x=getContext('gina').config,R='undefined'!=typeof R?R:x.bundle,B=x.env,u=x.getRouting(R),H=x.envConf[R][B].hostname,Q=x.envConf[R][B].server.webroot,qa||={routing:{},isXMLRequest:!1,method:'undefined'!=
typeof v?v.toLowerCase():'get',params:{},url:m},Ha&&(qa.method=v),isXMLRequest=qa.isXMLRequest||!1);B=m.replace(new RegExp('^('+H+'|'+H.replace(/:\d+/,'')+')'),'');'undefined'==typeof qa.routing.path&&(qa.routing.path=unescape(B));v='undefined'!=typeof v?v.toLowerCase():'get';I&&(qa.originalMethod=qa.method,qa.method=v,qa.routing.path=unescape(B));qa.method||(qa.method=v);x={};Q=new RegExp(v,'i');p=null;var N;for(N in u){if('undefined'==typeof u[N].param)break;if(u[N].bundle==R&&(p=u[N].method,/,/.test(p)&&
Q.test(p)&&(p=qa.method),'undefined'==typeof u[N].method||Q.test(p))){x={method:p,requirements:u[N].requirements,namespace:u[N].namespace||void 0,url:unescape(B),rule:u[N].originalRule||N,param:u[N].param,middleware:JSON.clone(u[N].middleware),bundle:u[N].bundle,isXMLRequest};try{if(F=M.compareUrls(x,u[N].url,qa),F.past){J=JSON.clone(u[N]);J.name=N;w=!0;F={};break}}catch(y){throw Error('Route [ '+N+' ] needs your attention.\n'+y.stack);}}}if(w)return/\/$/.test(m)&&'/'!=m&&(m=m.substr(0,m.length-1)),
q&&(m+=q),J.url=m,J.toUrl=function(y){var S=this.webroot,X=this.hostname,xa=this.url;this.url='undefined'!=typeof y&&1==y?xa.replace(S,'/'):xa;return X+this.url},J;if(E){q=!1;if('#'==m&&/GET/i.test(v)&&I||/^404:/.test(m))m=location.pathname,q=!0;'undefined'==typeof M.notFound&&(M.notFound={});u=null;J='[ RoutingHelper::getRouteByUrl(rule[, bundle, method]) ] : route [ %r ] is called but not found inside your view: `'+m+'` !';if((u=(u=gina.hasPopinHandler&&gina.popinIsBinded?gina.popin.getActivePopin().target.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/):
document.body.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/))&&0<u.length?u[0]:null)&&I&&q)return q=u.match(/\[\w+\]/)[0],u=u.replace('404:'+q,q.replace(/\[|\]/g,'')+'::'),J=J.replace(/%r/,u.replace(/404:\s+/,'')),'undefined'==typeof M.notFound[u]?M.notFound[u]={count:1,message:J}:I&&'undefined'!=typeof M.notFound[u]&&++M.notFound[u].count,!1;if((q=gina.config.reverseRouting[m]||null)&&'undefined'!=typeof q&&q.split(/@(.+)$/)[1]==R)return u=q,'undefined'==typeof M.notFound[u]?(J=J.replace(/%r/,v.toUpperCase()+
'::'+q),M.notFound[u]={count:1,message:J}):I&&'undefined'!=typeof M.notFound[u]&&++M.notFound[u].count,!1;u=M.compareUrls(x,m,qa)||null;u.past&&I&&(u=v.toUpperCase()+'::'+u.request.routing.rule,'undefined'==typeof M.notFound[u]?J=J.replace(/%r/,u):++M.notFound[u].count);return!1}console.warn(Error('[ RoutingHelper::getRouteByUrl(rule[, bundle, method, request]) ] : route not found for url: `'+m+'` !').stack);return!1};return M}
'undefined'!==typeof module&&module.exports?module.exports=Routing():'function'===typeof define&&define.amd&&define('utils/routing',['require','utils/form-validator','utils/merge'],function(){return Routing()});
function StoragePlugin(E){function M(J){R=JSON.parse(Y.getItem(this.bucket));'undefined'==typeof R[J]&&(R[J]=[],Y.setItem(this.bucket,JSON.stringify(R)),R=JSON.parse(Y.getItem(this.bucket)));m[J]={_collection:J,_bucket:this.bucket};m[J]=Ga(m[J],Ha);return m[J]}function da(J){if('object'!==typeof J)throw Error('filter must be an object');var u=R[this._collection],p=J.count(),q=0,H=null;if(0==p)return null;for(var I in u)for(var w in J){var x='boolean'!=typeof J[w]?J[w].toLocaleLowerCase():J[w];J[w]&&
-1<v.indexOf(x)&&'not null'==x&&'undefined'!=typeof u[I][w]&&'object'!==typeof u[I][w]&&u[I][w]===J[w]&&'null'!=u[I][w]&&'undefined'!=u[I][w]?0>H.indexOf(u[I][w])&&(++q,q===p&&(H=u[I],H._index=I,H._collection=this._collection,H._bucket=this._bucket)):'undefined'!=typeof u[I][w]&&'object'!==typeof u[I][w]&&u[I][w]===J[w]&&(++q,q===p&&(H=u[I],H._index=I,H._collection=this._collection,H._bucket=this._bucket,H._filter=J))}H&&(H.save=Q);return H}var Ga=Ga||require('utils/merge');M=M||require('utils/collection');
var L=L||require('vendor/uuid'),T=T||require('helpers/dateFormat'),ra={bucket:'default'},U={},Y=null,m={},R={},v=['not null'],qa={bucket:void 0,drop:function(){Y.removeItem(ra.bucket);U=null;for(var J in this)delete this[J];return U},Collection:M},Ha={insert:function(J){J._id=L.v1();J._createdAt=(new Date).format('isoDateTime');J._updatedAt=(new Date).format('isoDateTime');R[this._collection][R[this._collection].length]=J;Y.setItem(this._bucket,JSON.stringify(R))},find:function(J,u){if(!J)return R[this._collection];
if('object'!==typeof J)throw Error('filter must be an object');u=R[this._collection];J.count();var p=0,q=[],H;for(H in u)for(var I in J){var w='boolean'!=typeof J[I]?J[I].toLocaleLowerCase():J[I];J[I]&&-1<v.indexOf(w)&&'not null'==w&&'undefined'!=typeof u[H][I]&&'object'!==typeof u[H][I]&&'null'!=u[H][I]&&'undefined'!=u[H][I]?0>q.indexOf(u[H][I])&&(q[p]=u[H][I],++p):'undefined'!=typeof u[H][I]&&'object'!==typeof u[H][I]&&u[H][I]===J[I]&&(q[p]=u[H],++p)}return q},findOne:da,update:null,'delete':function(J){if('object'!==
typeof J)throw Error('filter must be an object');var u=JSON.clone(R[this._collection]),p=0,q=[],H;for(H in u)for(var I in J)J[I]&&-1<v.indexOf(J[I].toLocaleLowerCase())&&'not null'==J[I].toLowerCase()&&'undefined'!=typeof u[H][I]&&'object'!==typeof u[H][I]&&'null'!=u[H][I]&&'undefined'!=u[H][I]?0>q.indexOf(u[H][I])&&(q[p]=u[H][I],delete R[this._collection][H][I],++p):'undefined'!=typeof u[H][I]&&'object'!==typeof u[H][I]&&u[H][I]===J[I]&&(q[p]=u[H],R[this._collection].splice(H,1),++p);return 0<q.length?
(Y.setItem(this._bucket,JSON.stringify(R)),!0):!1},drop:function(J){if('undefined'==typeof R[this._collection])throw Error('Collection `'+J+'` not found');delete m[this._collection];delete R[this._collection];Y.setItem(this._bucket,JSON.stringify(R))}},Q=function(J){J=J||!1;try{var u=JSON.clone(R),p=this._index,q=this._collection,H=this._bucket,I=this._filter;this._updatedAt=(new Date).format('isoDateTime');Ga(u[q][p],this,!0);delete u[q][p]._index;delete u[q][p]._collection;delete u[q][p]._bucket;
delete u[q][p].save;delete u[q][p]._filter;if(J&&'object'==typeof u[q][p]){var w=function(B,F){for(var N=0,y=B.length;N<y;++N)'object'!=typeof F[N]||'undefined'==typeof B[N]||Array.isArray(B[N])?Array.isArray(B[N])?w(B[N],F[N]):'undefined'==typeof B[N]&&delete F[N]:x(B[N],F[N]);return F},x=function(B,F){for(var N in F)'object'!=typeof F[N]||'undefined'==typeof B[N]||Array.isArray(B[N])?Array.isArray(B[N])?w(B[N],F[N]):'undefined'==typeof B[N]&&delete F[N]:x(B[N],F[N]);return F};Array.isArray(u[q][p])?
u[q][p]=w(this,u[q][p]):'object'==typeof u[q][p]?u[q][p]=x(this,u[q][p]):'undefined'==typeof this[prop]&&delete u[q][p]}R[q][p]=u[q][p];Y.setItem(H,JSON.stringify(R));return da(I)}catch(B){throw B;}};(function(J){if(!window.localStorage||window.localStorage&&'undefined'==!typeof window.localStorage.setItem)throw Error('Make sure your browser supports `window.localStorage` to use Gina Storage. See: `https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Browser_compatibility`');if('object'!=
typeof J&&'undefined'!=typeof J)throw Error('`options` must be an object');'undefined'==typeof J&&(J={});ra=Ga(J,ra);Y=window.localStorage;J=ra.bucket;if(!Y.getItem(J)&&void 0!=J)Y.setItem(J,JSON.stringify(R));else if(void 0==J)throw Error('`bucket` name cannot be undefined');U.bucket=J;U=Ga(U,qa)})(E);return U}
if('undefined'!==typeof module&&module.exports){var merge=require('utils/merge');Collection=require('utils/collection');var uuid=require('uuid');module.exports=StoragePlugin}else'function'===typeof define&&define.amd&&define('gina/storage',['helpers/dateFormat','helpers/prototypes'],function(){return StoragePlugin});function insertAfter(E,M){E.parentNode.insertBefore(M,E.nextSibling)}
function getElementsByAttribute(E){for(var M=[],da=0,Ga=document.getElementsByTagName('*'),L=0,T=Ga.length;L<T;++L)null!==Ga[L].getAttribute(E)&&(M[da]=Ga[L],++da);return M}
(function(E){var M=E.prototype,da=M.parseFromString;try{if((new E).parseFromString('','text/html'))return}catch(Ga){}M.parseFromString=function(Ga,L){if(/^\s*text\/html\s*(?:;|$)/i.test(L)){var T=document.implementation.createHTMLDocument('');-1<Ga.toLowerCase().indexOf('<!doctype')?T.documentElement.innerHTML=Ga:T.body.innerHTML=Ga;return T}return da.apply(this,arguments)}})(DOMParser);define('utils/dom',function(){});
function ValidatorPlugin(E,M,da){this.plugin='validator';var Ga='init ready registered success error progress submit reset change changed keydown keyup focusout focusin validate validated destroy asyncCompleted'.split(' '),L='undefined'!==typeof module&&module.exports?!1:!0,T=null;L?(require('utils/events'),registerEvents(this.plugin,Ga),require('utils/dom'),require('utils/effects'),T=gina.config.envIsDev):(T=/^true$/i.test(process.env.NODE_ENV_IS_DEV)?!0:!1)&&delete require.cache[require.resolve('./form-validator')];
var ra=L?require('vendor/uuid'):require('uuid'),U=L?require('utils/merge'):require('../../../../../lib/merge'),Y=L?require('utils/inherits'):require('../../../../../lib/inherits'),m=L?require('utils/form-validator'):require('./form-validator'),R=L?require('utils/routing'):require('../../../../../lib/routing'),v={id:'validator-'+ra.v4(),plugin:this.plugin,on:L?on:null,eventData:{},target:L?document:null,errors:{},initialized:!1,isReady:!1,rules:{},$forms:{},getFormById:null,validateFormById:null,setOptions:null,
resetErrorsDisplay:null,resetFields:null},qa={id:null,plugin:this.plugin,on:L?on:null,eventData:{},target:L?document:null,cachedErrors:{},binded:!1,unbinded:!1,withUserBindings:!1,rules:{},setOptions:null,send:null,isValidating:null,isSubmitting:null,submit:null,destroy:null,resetErrorsDisplay:null,resetFields:null},Ha={},Q={},J=null,u={url:'',method:'GET',isSynchrone:!1,withCredentials:!1,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}},
p=function(k,b,g){g='undefined'!=typeof g?{id:g}:null;var n={},A;for(A in b)n[A]=b[A];if('undefined'!=typeof k&&0<k.count()){try{Va(k,''),Ca(k)}catch(z){throw z;}return Oa(g,n,null,v.rules)}return new m(n)},q=function(k){u=k=U(k,u)},H=function(k){var b=null;if(!v.$forms)throw Error('`$forms` collection not found');if('undefined'==typeof k)throw Error('[ FormValidator::getFormById(formId) ] `formId` is missing');k=k.replace(/#/,'');if(null!=document.getElementById(k)&&'undefined'==typeof v.$forms[k]){var g=
document.getElementById(k),n,A=typeof(0<Ha.count())?Ha:v.rules;g.getAttribute?(id=g.getAttribute('id')||'form.'+ra.v4(),id!==g.getAttribute('id')&&g.setAttribute('id',id)):(id='form.'+ra.v4(),g.setAttribute('id',id));g.id=qa.id=id;if('undefined'!=typeof g.id&&'null'!=g.id&&''!=g.id){qa.target=g;v.$forms[g.id]=U({},qa);if(n=g.getAttribute('data-gina-form-rule')){n=n.replace(/\-|\//g,'.');if('undefined'==typeof A[n])throw Error('['+g.id+'] no rule found with key: `null`');n=A[n]}'string'==typeof g.id&&
'undefined'!=typeof A[g.id.replace(/\-/g,'.')]?$target=v.$forms[g.id].target:'object'==typeof g.id?(delete v.$forms[g.id],A=g.attributes.getNamedItem('id').nodeValue||'form.'+ra.v4(),g.setAttribute('id',A),g.id=A,qa.target=g,v.$forms[A]=U({},qa),$target=v.$forms[A].target):$target=v.$forms[g.id].target;n?la($target,n):la($target)}}'undefined'!=typeof v.$forms[k]&&(v.$forms[k].withUserBindings=!0,b='undefined'!=typeof this.$forms&&'undefined'==typeof this.$forms[k]?this.$forms[k]=v.$forms[k]:v.$forms[k]);
if(!b)throw Error('Validator::getFormById(...) exception: could not retrieve form `'+k+'`');b.binded||(la(b.target),b=v.$forms[k]);T&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),g={id:k,rules:v.$forms[k].rules},'undefined'!=typeof v.$forms[k].errors&&(g.errors=v.$forms[k].errors),window.ginaToolbar.update('forms',g));return b},I=function(){var k=!1,b=null;gina.hasPopinHandler&&gina.popinIsBinded&&(b=gina.popin.getActivePopin());b&&b.isOpen&&
(k=!0);return k},w=function(k,b){var g=typeof(0<Ha.count())?Ha:v.rules;if(!v.$forms)throw Error('`$forms` collection not found');if('undefined'!=typeof k&&'undefined'!=typeof v.$forms[k])return v.$forms[k];if('undefined'==typeof k)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)k=this.id;else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `formId` is missing');if('string'==typeof k)k=k.replace(/#/,'');else{if('object'!=typeof k||Array.isArray(k))throw Error('[ FormValidator::validateFormById(formId[, customRule]) ] `formId` should be a `string`');
var n=k.form;k=n.getAttribute('id')||'form.'+ra.v4();n.setAttribute('id',k)}var A=document.getElementsByTagName('form');for(var z={},C=0,V=A.length;C<V;++C)n=A[C].getAttribute('id')||null,'undefined'==typeof z[n]?z[n]=!0:'undefined'==typeof v.$forms[n]||v.$forms[n].warned||(gina.popinIsBinded?console.warn('Popin/Validator::bindForm($target, customRule): `'+n+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.\n Check inside your popin content'):console.warn('Validator::bindForm($target, customRule): `'+
n+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.'),v.$forms[n].warned=!0);if('undefined'!=typeof this.$forms&&'undefined'!=typeof v.$forms[k])A=this.$forms[k]=v.$forms[k];else{n=document.getElementById(k);qa.id=k;qa.target=n;A=this.$forms[k]=v.$forms[k]=U({},qa);if('undefined'==typeof b)if(z=k.replace(/\-/g,'.'),'undefined'!=typeof g)A.rule=Ua(z);else{if('undefined'!=typeof A.target&&null!==A.target&&A.target.getAttribute('data-gina-form-rule'))if(z=A.target.getAttribute('data-gina-form-rule').replace(/\-|\//g,
'.'),'undefined'!=typeof g)A.rule=Ua(z);else throw Error('[ FormValidator::validateFormById(formId) ] using `data-gina-form-rule` on form `'+A.target+'`: no matching rule found');}else if(z=b.replace(/\-|\//g,'.'),'undefined'!=typeof g)A.rule=Ua(z);else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+b+'` is not a valid rule');n&&'undefined'!=typeof this.isPopinContext&&/true/i.test(this.isPopinContext)&&(n.isPopinContext=this.isPopinContext);n&&!A.binded&&la(n,z)}if(!A)throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+
k+'` not found');return A||null},x=function(k){var b=k.form.getAttribute('id');if(!/^true$/i.test(v.$forms[b].isValidating)){var g=k.parentNode;k=!1;b=g.getElementsByTagName('div');/form\-item\-warning/.test(g.className)?g.className=g.className.replace(/form\-item\-warning/,'form-item-error'):/form\-item\-error/.test(g.className)&&(g.className=g.className.replace(/form\-item\-error/,'form-item-warning'),k=!0);g=0;for(var n=b.length;g<n;++g)if(/form\-item\-error\-message/.test(b[g].className)){b[g].className=
k?b[g].className+' hidden':b[g].className.replace(/(\s+hidden|hidden)/,'');break}}},B={},F=function(k,b,g,n){if(T)var A=null;var z=!1;if('undefined'!=typeof k.dataset.ginaFormIsResetting&&/^(true)$/i.test(k.dataset.ginaFormIsResetting))b={},B={},k.dataset.ginaFormIsResetting=!1;else if(/^(true)$/i.test(k.dataset.ginaFormLiveCheckEnabled)&&'undefined'!=typeof n){var C='string'!=typeof k.id?k.getAttribute('id'):k.id;'undefined'==typeof B[C]&&(B[C]={});if(0<b.count()){if(B[C][n]={},B[C][n]=U(b[n],B[C][n]),
0==B[C][n].count()&&delete B[C][n],b=B[C],!v.$forms[C].sent||v.$forms[C].isValidating)z=!0}else'undefined'!=typeof B[C][n]&&(delete B[C][n],'undefined'!=typeof window.gina.validator.$forms[C].errors&&'undefined'!=typeof window.gina.validator.$forms[C].errors[n]&&delete window.gina.validator.$forms[C].errors[n]),'undefined'!=typeof v.$forms&&'undefined'!=typeof v.$forms[C]&&'undefined'!=typeof v.$forms[C].errors&&0==v.$forms[C].errors.count()&&wa(k,!0),'undefined'!=typeof B[C]&&0==B[C].count()?delete B[C]:
b=B[C]}var V=null;C=k.getAttribute('id');g='undefined'!=typeof g?g:{};for(var O=0,ba=k.length;O<ba;++O){var P=k[O];if('undefined'==typeof n||n==P.name){if(/form\-item\-wrapper$/.test(P.parentNode.className)){var r=P.parentNode.parentNode;var fa=P.parentNode}else r=P.parentNode,fa=P;var ta=P.getAttribute('name');var ka=P.getAttribute('data-gina-form-errors');if(ta){if('undefined'!=typeof b[ta]&&!/(form\-item\-error|form\-item\-warning)/.test(r.className)){r.className=z?r.className+(''==r.className?
'form-item-warning':' form-item-warning'):r.className+(''==r.className?'form-item-error':' form-item-error');V=document.createElement('div');V.className=z?'form-item-error-message hidden':'form-item-error-message';for(var ia in b[ta])'stack'!=ia&&(r=document.createElement('p'),r.appendChild(document.createTextNode(b[ta][ia])),V.appendChild(r)),T&&(A||={},A[ta]||(A[ta]={}),A[ta][ia]=b[ta][ia]);'hidden'!=fa.type&&insertAfter(fa,V)}else if('undefined'==typeof b[ta]&&/(form\-item\-error|form\-item\-warning)/.test(r.className)||
'undefined'!=typeof b[ta]&&0==b[ta].count()&&/(form\-item\-error|form\-item\-warning)/.test(r.className)){ta=r.getElementsByTagName('div');fa=0;for(ka=ta.length;fa<ka;++fa)if(/form\-item\-error\-message/.test(ta[fa].className)){ta[fa].parentElement.removeChild(ta[fa]);break}r.className=r.className.replace(/(\s+form\-item\-error|form\-item\-error|\s+form\-item\-warning|form\-item\-warning)/,'')}else if('undefined'!=typeof b[ta]&&ka){r=r.getElementsByTagName('div');ka=0;for(var Ba=r.length;ka<Ba;++ka)if('form-item-error-message'==
r[ka].className){r[ka].parentElement.removeChild(r[ka]);V=document.createElement('div');V.setAttribute('class','form-item-error-message');for(ia in b[ta])r=document.createElement('p'),r.appendChild(document.createTextNode(b[ta][ia])),V.appendChild(r),T&&(A||={},A[ta]||(A[ta]={}),A[ta][ia]=b[ta][ia]);break}V&&'hidden'!=fa.type&&insertAfter(fa,V)}if('undefined'!=typeof n&&n===P.name)break}}}A?(triggerEvent(gina,k,'error.'+C,b),T&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||
(gina.forms.errors={}),k={id:C,errors:A},window.ginaToolbar.update('forms',k))):T&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),k={id:C,errors:{}},L&&window.ginaToolbar.update('forms',k));if(gina&&L&&T&&v.$forms[C].isSubmitting&&/^true$/i.test(v.$forms[C].isSubmitting)&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&g)try{window.ginaToolbar.update('data-xhr',g)}catch(za){throw za;}},N=function(k){var b=null;'undefined'==typeof k&&
'undefined'!=typeof this.id&&(k=this.id);/^string$/i.test(typeof k)?(b=k.replace(/#/,''),b=document.getElementById(b)):k instanceof HTMLFormElement?b=k:/^object$/i.test(typeof k)&&(b=k.target);if(!b)throw Error('[ FormValidator::resetErrorsDisplay([ formId | <form> ]) ] `'+k+'` not found');b.dataset.ginaFormIsResetting=!0;F(b,{});return b},y=function(k){if('undefined'==typeof k){var b='undefined'!=typeof this.target?this.target.getAttribute('id'):this.getAttribute('id');k=v.$forms[b]}else if('string'==
typeof k){b=k.replace(/#/,'');if('undefined'==typeof v.$forms[b])throw Error('[ FormValidator::resetErrorsDisplay([formId]) ] `'+k+'` not found');k=v.$forms[b]}if(k.fieldsSet){var g;for(g in k.fieldsSet){b=document.getElementById(g);var n=b.tagName.toLowerCase();var A=b.tagName;/textarea/i.test(A)?(A=k.fieldsSet[g].defaultValue,b.value=A,triggerEvent(gina,b,'change')):'input'==n?(A=k.fieldsSet[g].defaultValue,/$(on|true|false)$/i.test(A)&&(A=/$(on|true)$/i.test(A)?!0:!1),/^(checkbox|radio)$/i.test(b.type)?
b.checked=k.fieldsSet[g].defaultChecked:/^(checkbox|radio)$/i.test(b.type)||(b.value=A),triggerEvent(gina,b,'change')):'select'==n&&(A=k.fieldsSet[g].selectedIndex||0,b.selectedIndex=A,b.dataset.value=b.options[b.selectedIndex].value,triggerEvent(gina,b,'change'))}}return k},S=function(){var k=null,b=null;'undefined'!=typeof this.getAttribute?(k=this.getAttribute('id'),b=this):'undefined'!=typeof this.target&&null!=this.target&&'undefined'!=typeof this.target.getAttribute&&(k=this.target.getAttribute('id'),
b=this.target);if('undefined'==typeof v.$forms[k])throw Error('[ FormValidator::submit() ] not `$form` binded. Use `FormValidator::getFormById(id)` or `FormValidator::validateFormById(id)` first ');triggerEvent(gina,b,'submit');return this},X=function(k,b){var g=this.target,n=g.getAttribute('id'),A=v.$forms[n]||this,z=null,C=null,V=null,O=null;if(!('undefined'!=typeof A.isSending&&/^true$/i.test(A.isSending)||'undefined'!=typeof A.sent&&/^true$/i.test(A.sent))){v.$forms[n].isSending=!0;b='undefined'!=
typeof b?U(b,u):u;'undefined'!=typeof A.id&&(b.headers['X-Gina-Form-Id']=A.id,'undefined'!=typeof gina.forms.rules&&0<A.rules.count()&&'undefined'!=typeof A.rules[A.id]&&(b.headers['X-Gina-Form-Rule']=A.id+'@'+gina.config.bundle));'undefined'!=typeof A.target.dataset.ginaFormRule&&(b.headers['X-Gina-Form-Rule']=A.target.dataset.ginaFormRule+'@'+gina.config.bundle);(O=g.getAttribute('data-gina-form-event-on-submit-success')||g.getAttribute('data-gina-form-event-on-submit-error')?!0:!1)&&Ia(A);var ba=
g.getAttribute('action')||b.url,P=g.getAttribute('method')||b.method;P=P.toUpperCase();b.method=P;b.url=ba;J||=setupXhr(b);ba=g.getAttribute('enctype')||b.headers['Content-Type'];if(b.withCredentials){if('withCredentials'in J)b.isSynchrone?J.open(b.method,b.url,b.isSynchrone):J.open(b.method,b.url);else if('undefined'!=typeof XDomainRequest)J=new XDomainRequest,J.open(b.method,b.url);else{J=null;z='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,
g,'error.'+n,z);return}J.responseType='undefined'!=typeof b.responseType?b.responseType:'';J.withCredentials=!0}else b.isSynchrone?J.open(b.method,b.url,b.isSynchrone):J.open(b.method,b.url);for(var r in b.headers)'Content-Type'==r&&'undefined'!=typeof ba&&null!=ba&&''!=ba||J.setRequestHeader(r,b.headers[r]);if(J){J.onreadystatechange=function(za){A.isSubmitting=!1;A.isSending=!1;setTimeout(function(){A.sent=!1},1E3);za=/Google Inc/i.test(navigator.vendor)?50:0;2==J.readyState&&(V=/^attachment;/.test(J.getResponseHeader('Content-Disposition'))?
!0:!1,!J.responseType&&V&&(J.responseType='blob'));if(4==J.readyState){var bb=null,Wa=J.getResponseHeader('Content-Type');if(/^2/.test(J.status)){try{if(/blob/.test(J.responseType)||V){if('undefined'==typeof Wa||null==Wa)Wa='application/octet-stream';bb=new Blob([this.response],{type:Wa});var rb=document.createElement('a');rb.style='display: none';document.body.appendChild(rb);var Bb=window.URL.createObjectURL(bb);rb.href=Bb;var Mb=J.getResponseHeader('Content-Disposition');rb.download=Mb.match('=(.*)')[0].substr(1);
rb.click();window.URL.revokeObjectURL(Bb);z={status:J.status,statusText:J.statusText,responseType:bb.type,type:bb.type,size:bb.size}}else z=J.responseText;/\/json/.test(Wa)&&(z=JSON.parse(J.responseText),'undefined'==typeof z.status&&(z.status=J.status));if(/\/html/.test(Wa)&&(z={contentType:Wa,content:J.responseText},'undefined'==typeof z.status&&(z.status=J.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler)){var ib=gina.popin.getActivePopin();if(ib){C={};try{C=(new DOMParser).parseFromString(z.content,
'text/html').getElementById('gina-without-layout-xhr-data'),C=JSON.parse(decodeURIComponent(C.value)),XHRView=(new DOMParser).parseFromString(z.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&T&&typeof window.ginaToolbar&&'undefined'!=typeof C&&window.ginaToolbar.update('data-xhr',C),gina&&T&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(Z){throw Z;}ib.loadContent(z.content);
z=C;triggerEvent(gina,g,'success.'+n,z);return}}C=A.eventData.success=z;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&C)try{T&&'undefined'!=typeof C&&/\/html|\/json/.test(Wa)&&window.ginaToolbar.update('data-xhr',C)}catch(Z){throw Z;}/^gina\-upload/i.test(n)&&xa(gina,g,'success',n,z);var Db=!1;'undefined'!=typeof z.isXhrRedirect&&/^true$/i.test(z.isXhrRedirect)&&(Db=!0);if('undefined'!=typeof gina.popin&&gina.hasPopinHandler&&'undefined'!=typeof z.popin||'undefined'!=typeof gina.popin&&
gina.hasPopinHandler&&'undefined'!=typeof z.location&&Db){ib=gina.popin.getActivePopin();if(!ib&&'undefined'!=typeof z.popin){if('undefined'!=typeof z.popin&&'undefined'==typeof z.popin.name)throw Error('To get a `$popin` instance, you need at list a `popin.name`.');ib=gina.popin.getPopinByName(z.popin.name);if(!ib)throw Error('Popin with name: `'+z.popin.name+'` not found.');}if('undefined'!=typeof z.popin&&'undefined'!=typeof z.popin.close){ib.isRedirecting=!1;ib.close();var Wb=z.popin.reload?z.popin.reload:
!1;z.popin.location||z.popin.url||(delete z.popin,Wb&&(z.popin={reload:Wb}))}if('undefined'!=typeof z.popin&&'undefined'!=typeof z.popin.location||'undefined'!=typeof z.popin&&'undefined'!=typeof z.popin.url||'undefined'!=typeof z.location&&Db){Db=null;ib&&(Db=ib.name,ib.isRedirecting=!0);'undefined'!=typeof z.popin&&'undefined'!=typeof z.popin.target&&(z.popin.target='_'+z.popin.target);var Za=z.location||z.popin.location||z.popin.url;if('undefined'!=typeof z.popin&&'undefined'!=typeof z.popin.name&&
Db!=z.popin.name){ib&&ib.close();Db=z.popin.name;ib=gina.popin.getPopinByName(Db);if(!ib)throw Error('Popin with name `'+Db+'` not found !');ib.load(ib.name,Za,ib.options)}else ib&&ib.load(ib.name,Za,ib.options);if(ib)return setTimeout(function(Z){Z.isOpen||Z.open()},50,ib)}}triggerEvent(gina,g,'success.'+n,z);O&&triggerEvent(gina,g,'success.'+n+'.hform',z)}catch(Z){z={status:422,error:Z.message,stack:Z.stack};C=A.eventData.error=z;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&
C)try{T&&'undefined'!=typeof C&&window.ginaToolbar.update('data-xhr',C)}catch(ha){throw ha;}/^gina\-upload/i.test(n)&&xa(gina,g,'error',n,z);triggerEvent(gina,g,'error.'+n,z);O&&triggerEvent(gina,g,'error.'+n+'.hform',z)}if('undefined'!=typeof z&&'undefined'!=typeof z.location)return window.location.hash='',z.location=/^http/.test(z.location)||/^\//.test(z.location)?z.location:location.protocol+'//'+z.location,setTimeout(()=>{window.location.href=z.location},za)}else if(0!=J.status)if(z={status:J.status},
/blob/.test(J.responseType)){bb=new Blob([this.response],{type:'text/plain'});var jb=new FileReader,ea='';jb.addEventListener('loadend',Z=>{/string/i.test(typeof Z.srcElement.result)?ea+=Z.srcElement.result:'object'==typeof Z.srcElement.result?z=U(z,Z.srcElement.result):z.message+=Z.srcElement.result;if(/2/.test(jb.readyState)){if(/^(\{|\[)/.test(ea))try{z=U(z,JSON.parse(ea))}catch(ha){z=U(z,ha)}z.message||delete z.message;C=A.eventData.error=z;if(gina&&T&&'undefined'!=typeof window.ginaToolbar&&
window.ginaToolbar&&C)try{window.ginaToolbar.update('data-xhr',C)}catch(ha){throw ha;}/^gina\-upload/i.test(n)&&xa(gina,g,'error',n,z);triggerEvent(gina,g,'error.'+n,z);O&&triggerEvent(gina,g,'error.'+n+'.hform',z)}});jb.readAsText(bb)}else{if(/^(\{|\[)/.test(J.responseText))try{z=U(JSON.parse(J.responseText),z)}catch(Z){z=U(Z,z)}else'object'==typeof J.responseText?z=U(J.responseText,z):z.message=J.responseText;if('undefined'!=typeof z&&'undefined'!=typeof z.error&&z.fields&&'object'==typeof z.fields){ib=
'undefined'!=typeof z.message?z.message:null;Za={};for(Db in z.fields)za={},za[Db]={},za[Db].isApiError=z.fields[Db],ib&&!za[Db].isApiError&&(za[Db].isApiError=z.error),Za[Db]=za[Db],F(A.target,za,k,Db);z.fields=Za}C=A.eventData.error=z;if(gina&&T&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&C)try{window.ginaToolbar.update('data-xhr',C)}catch(Z){throw Z;}/^gina\-upload/i.test(n)&&xa(gina,g,'error',n,z);triggerEvent(gina,g,'error.'+n,z);O&&triggerEvent(gina,g,'error.'+n+'.hform',z)}}};
J.onprogress=function(za){var bb='0';za.lengthComputable&&(bb=za.loaded/za.total,bb=parseInt(100*bb));za={status:100,progress:bb};A.eventData.onprogress=za;triggerEvent(gina,g,'progress.'+n,za)};J.ontimeout=function(za){z={status:408,error:'Request Timeout'};A.eventData.ontimeout=z;/^gina\-upload/i.test(n)&&xa(gina,g,'error',n,z);triggerEvent(gina,g,'error.'+n,z);O&&triggerEvent(gina,g,'error.'+n+'.hform',z)};k||(k=event.detail.data);if(k){b=!1;if('object'==typeof k){r=[];P=0;var fa={};try{if(k instanceof
FormData){var ta=event.currentTarget.getAttribute('data-gina-form-upload-group')||'untagged',ka,ia;for([ka,ia]of k.entries())ia instanceof File?(b||=!0,r[P]={key:ka,group:ta,file:ia,bin:''},++P):fa[ka]=ia}else k=JSON.stringify(k);if(b&&0<r.length){var Ba='--ginaWKBoundary'+ra.v4().replace(/\-/g,'');return Da(r,Ba,'',0,function(za,bb,Wa){if(za)/^gina\-upload/i.test(n)&&xa(gina,g,'error',n,za),triggerEvent(gina,g,'error.'+n,za),O&&triggerEvent(gina,g,'error.'+n+'.hform',za);else return Wa&&(J.setRequestHeader('Content-Type',
'multipart/form-data; boundary='+Ba),J.send(bb),A.sent=!0,T&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),window.ginaToolbar.update('forms',{id:n,sent:bb}))),!1})}'undefined'!=typeof fa&&0<fa.count()&&(k=JSON.stringify(fa))}catch(za){/^gina\-upload/i.test(n)&&xa(gina,g,'error',n,za),triggerEvent(gina,g,'error.'+n,za),O&&triggerEvent(gina,g,'error.'+n+'.hform',za)}}b||('undefined'!=typeof ba&&null!=ba&&''!=ba&&J.setRequestHeader('Content-Type',
ba),J.send(k))}else'undefined'!=typeof ba&&null!=ba&&''!=ba&&J.setRequestHeader('Content-Type',ba),J.send();A.sent=!0;T&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),ta={id:n,sent:'string'==typeof k?JSON.parse(k):k},window.ginaToolbar.update('forms',ta))}}},xa=function(k,b,g,n,A){k=b.uploadProperties||null;if(!k)throw Error('No uploadProperties found !!');b=document.getElementById(k.uploadTriggerId);n=null;var z=A.files||[],C=null;k.hasPreviewContainer&&
(n=document.getElementById(k.previewContainer.id))&&(n.innerHTML='');k.errorField&&(C=document.getElementById(k.errorField));C&&(C.style.display='none');if(C&&'success'!=g){var V=A.message||A.error;C.innerHTML='<p>'+V+'</p>';fadeIn(C)}else if(C||'success'==g)for(g=0,A=z.length;g<A;++g){var O=n.id.replace(/\-preview/,'-'+g+'-reset-trigger');V=!1;C=document.getElementById(O);var ba=['reset','js-upload-reset'];C?(/a/i.test(C.tagName)&&(C.href='#'),C.innerHTML&&''!=C.innerHTML||(C.innerHTML=b.getAttribute('data-gina-form-upload-reset-label')||
'Reset'),'undefined'==typeof C.className&&(C.className=''),O=U(C.className.split(/\s+/g),ba),C.className=O.join(' ')):(V=!0,C=document.createElement('A'),C.href='#',C.innerHTML=b.getAttribute('data-gina-form-upload-reset-label')||'Reset',C.className=ba.join(' '),C.id=O);C.style.display='none';if('undefined'==typeof z[g].preview&&k.hasPreviewContainer&&/^image/.test(z[g].mime)&&''!=z[g].location){O=document.createElement('IMG');O.src=z[g].tmpUri;O.style.display='none';O.setAttribute('data-upload-original-filename',
z[g].originalFilename);O.setAttribute('data-upload-reset-link-id',C.id);ba=n.getAttribute('data-preview-max-width')||null;if(O.width&&ba&&O.width>ba){var P=O.width/ba;O.width=ba;O.height/=P}else!O.width&&ba&&(O.width=ba);/ul/i.test(k.previewContainer.tagName)?(ba=document.createElement('LI'),ba.className='item',ba.appendChild(O),n.appendChild(ba)):n.appendChild(O);fadeIn(O)}O=k.uploadFields[g];for(var r in O)if('name'==r&&''!=O[r].value||!z[g][r]||'preview'==r&&'undefined'==typeof z[g][r]||/(height|width)/i.test(r)&&
!/^image/.test(z[g].mime))/(preview|height|width)/i.test(r)&&(ba=document.getElementById(O[r].id))&&ba.parentNode.removeChild(ba);else if(O[r].value=z[g][r],'preview'==r)for(var fa in z[g][r])if('undefined'!=typeof z[g][r][fa]&&'undefined'!=typeof O[r][fa]&&(O[r][fa].value=z[g][r][fa]),'tmpUri'==fa&&k.hasPreviewContainer){P=document.createElement('IMG');P.src=z[g][r].tmpUri;P.style.display='none';P.setAttribute('data-upload-original-filename',z[g].originalFilename);P.setAttribute('data-upload-preview-original-filename',
z[g][r].originalFilename);P.setAttribute('data-upload-reset-link-id',C.id);if(ba=n.getAttribute('data-preview-max-width')||null)P.width=ba;/ul/i.test(k.previewContainer.tagName)?(ba=document.createElement('LI'),ba.className='item',ba.appendChild(P),n.appendChild(ba)):n.appendChild(P);fadeIn(P)}k.hasPreviewContainer&&(/ul/i.test(k.previewContainer.tagName)?(ba=document.createElement('LI'),ba.className='item',V&&ba.appendChild(C),n.appendChild(ba)):V&&n.appendChild(C));Jb('reset',b,g);fadeIn(C)}else throw Error(V);
},na=function(k,b){console.debug(b+' input files');var g=/reset/i.test(b)?!0:!1,n=null,A=null,z=document.getElementById(k.id+'-preview').childNodes,C=null,V=k.customFiles,O=[];for(let ba=0,P=z.length;ba<P;ba++)if(/img/i.test(z[ba].tagName)){g?(n=z[ba].getAttribute('data-upload-original-filename'),O.push(n),(A=z[ba].getAttribute('data-upload-preview-original-filename'))&&O.push(A)):(n=z[ba].src.substr(z[ba].src.lastIndexOf('/')+1),O.push(n));for(let r=0,fa=V.length;r<fa;r++)if(V[r].name==n){C=g?document.getElementById(z[ba].getAttribute('data-upload-'+
b+'-link-id')):document.getElementById(V[r].deleteLinkId);C.style.display='none';z[ba].style.display='none';V.splice(r,1);k.customFiles=V;g&&(k.value=V.join(', C:\\fakepath\\'));n=new RegExp('^'+(k.name+'['+r+']').replace(/\-|\[|\]|\./g,'\\$&'));for(let ka=0,ia=k.form.length;ka<ia;ka++)if(A=k.form[ka].dataset.ginaFormUploadIsLocked||!1,n.test(k.form[ka].name)&&!/true/i.test(A)&&(k.form[ka].remove(),ia--,ka--,gina&&T&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar))try{window.ginaToolbar.update('data-xhr',
{files:V})}catch(Ba){throw Ba;}A=k.getAttribute('data-gina-form-upload-'+b+'-action');if(!A||'undefined'==typeof A||''==A||/404/.test(A))throw Error('input file `'+k.id+'` error: `data-gina-form-upload-'+b+'-action` is required. You need to provide a valide url.');(n=k.getAttribute('data-gina-form-upload-'+b+'-method'))&&'undefined'!=typeof n&&''!=n?n=n.toUpperCase():g?n='POST':(n=1<O.length?'POST':'DELETE',console.warn('`data-gina-form-upload-'+b+'-method` was not defined. Switching to `'+n+'` by default.'));
let ta=k.getAttribute('data-gina-form-upload-'+b+'-is-synchrone');if(/null/i.test(ta)||'undefined'==typeof n||''==n)ta=!0;A=setupXhr({url:A,method:n,isSynchrone:ta,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}});/GET|DELETE/i.test(n)?A.send():A.send(JSON.stringify({files:O}));if(/none/i.test(window.getComputedStyle(k).display)){if(/none/i.test(k.parentElement.style.display)){k.parentElement.style.display='block';return}k.style.display=
'block'}removeListener(gina,$uploadResetTrigger,'click',function(){C.remove();z[ba].remove()});P--;ba--;break}}},Da=function(k,b,g,n,A){var z=new FileReader;z.addEventListener('load',function(C){C.preventDefault();try{var V=this.result,O=void 0;C='';var ba=null;'undefined'==typeof O&&(O=8);var P=O/8;switch(O){case 8:ba=new Uint8Array(V);break;case 16:ba=new Uint16Array(V);break;case 32:ba=new Uint32Array(V);break;default:ba=new Uint8Array(V)}var r=ba.length,fa=Math.pow(2,8)+P;V=0;for(P=O=null;V<r;V+=
fa)O=Math.min(fa,r-V),P=ba.subarray(V,V+O),C+=String.fromCharCode.apply(null,P);k[this.index].bin+=C;k[this.index].file.type||(k[this.index].file.type='application/octet-stream')}catch(ta){return A(ta,null,!0)}g+='--'+b+'\r\n';g+='Content-Disposition: form-data; name="'+k[this.index].key+'"; group="'+k[this.index].group+'"; filename="'+k[this.index].file.name+'"\r\nContent-Type: '+k[this.index].file.type+'\r\nContent-Length: '+k[this.index].bin.length+'\r\n\r\n';g+=k[this.index].bin+'\r\n';++this.index;
this.index==k.length?(g+='--'+b+'--',A(!1,g,!0)):Da(k,b,g,this.index,A)},!1);z.index=n;k[n].bin='';z.readAsArrayBuffer(k[n].file)},Ia=function(k){var b=k.target.getAttribute('data-gina-form-event-on-submit-success')||null;if(null!=b)if(/\((.*)\)/.test(b))eval(b);else k.on('success.hform',window[b]);b=k.target.getAttribute('data-gina-form-event-on-submit-error')||null;if(null!=b)if(/\((.*)\)/.test(b))eval(b);else k.on('error.hform',window[b])},Ea=function(k){var b=null,g=k;if(!v.$forms)throw Error('`$forms` collection not found');
if('undefined'==typeof g)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)g=this.id;else throw Error('[ FormValidator::destroy(formId) ] `formId` is missing');if('string'==typeof g)g=g.replace(/#/,'');else{if('object'!=typeof g||Array.isArray(g))throw Error('[ FormValidator::destroy(formId) ] `formId` should be a `string`');k=g.form;g=k.getAttribute('id')||'form.'+ra.v4();k.setAttribute('id',g)}'undefined'!=typeof v.$forms[g]?b=v.$forms[g]:'undefined'!=typeof this.binded&&(b=this);if(b)addListener(gina,
b.target,'destroy.'+g,function(n){cancelEvent(n);delete v.$forms[g];removeListener(gina,n.currentTarget,n.type);removeListener(gina,n.currentTarget,'destroy')}),b=Kb(b),triggerEvent(gina,b.target,'destroy.'+g);else throw Error('[ FormValidator::destroy(formId) ] `'+g+'` not found');},va=function(k){k='undefined'!=typeof k?k:v.rules;for(let n in k){var b=Object.getOwnPropertyNames(k[n]),g=0;let A=b.length,z=!1,C=null;for(;g<A;){if(/^_case_/.test(b[g])){z=!0;C=b[g];break}g++}z||'object'!=typeof k[n]||
va(k[n]);if(C&&Array.isArray(k[n][C].conditions)&&0<k[n][C].conditions.length)for(b=0,g=k[n][C].conditions.length;b<g;)'undefined'!=typeof k[n][C].conditions[b].rules&&0==k[n][C].conditions[b].rules.count()&&(k[n][C].conditions.splice(b,1),g--,b--),b++}},Ca=function(k){var b=JSON.stringify(k),g=b.match(/("@import\s+[-_a-z A-Z 0-9/.]+")/g)||[],n=[];for(let V=0,O=g.length;V<O;V++)0>n.indexOf(g[V])&&n.push(g[V]);g=n;n=b.match(/("_merging(.*))(\s+:|:)(.*)(",|")/g);v.rules||(v.rules={});if(g&&0<g.length){k=
{};for(let V=0,O=g.length;V<O;++V){var A=g[V].replace(/(@import\s+|"|')/g,'');var z=A.replace(/(@import\s+|"|')/g,'').split(/\s/g);for(let ba=0,P=z.length;ba<P;++ba){var C=z[ba].replace(/\//g,'.').replace(/\-/g,'.');'undefined'!=typeof v.rules[C]?(C=JSON.stringify(v.rules[C]),C=JSON.parse(C),C._comment='undefined'!=typeof C._comment?C._comment+'\n':'',C._comment+='Imported from `'+A+'`',C=JSON.stringify(C),b=b.replace(new RegExp(g[V],'g'),C),v.rules=JSON.parse(JSON.stringify(v.rules).replace(new RegExp(g[V],
'g'),'{}'))):console.warn('[formValidator:rules] <@import error> on `'+g[V]+'`: rule `'+z[ba]+'` not found. Ignoring.')}z=new RegExp(g[V]);if(A=n&&z.test(n.join())?!0:!1)for(let ba=0,P=n.length;ba<P;ba++)if(z.test(n[ba])){A=JSON.stringify(k);A=A.substr(1,A.length-1);ba<P-1&&(A+=',');try{b=b.replace(new RegExp(n[ba],'g'),A),v.rules=JSON.parse(JSON.stringify(v.rules).replace(new RegExp(n[ba],'g'),'{}'))}catch(r){throw r;}}k={}}k=JSON.parse(b);Va(k,'');try{va()}catch(V){console.error(V.stack)}}return k},
Ta=function(k){gina.hasValidator?(v=U(v,gina.validator),v.on('init',function(b){v.isReady=!0;triggerEvent(gina,v.target,'ready.'+v.id,v)})):(v.target=document,v.setOptions=q,v.getFormById=H,v.validateFormById=w,v.resetErrorsDisplay=N,v.resetFields=y,v.handleErrorsDisplay=F,v.send=X,v.on('init',function(b){if('undefined'!=typeof k&&k.count())try{Va(k,''),k=Ca(k),gina.forms.rules='undefined'!=typeof gina.forms.rules&&gina.forms.rules?U(gina.forms.rules,k,!0):k,v.rules=U(v.rules,JSON.clone(gina.forms.rules),
!0)}catch(V){throw V;}Ha.count()||(Ha=JSON.clone(v.rules));qa.setOptions=q;qa.getFormById=H;qa.validateFormById=w;qa.resetErrorsDisplay=N;qa.resetFields=y;qa.handleErrorsDisplay=F;qa.submit=S;qa.send=X;qa.unbind=Kb;qa.bind=la;qa.reBind=Gb;qa.destroy=Ea;b=0;for(var g=document.getElementsByTagName('form'),n=0,A=g.length;n<A;++n){if(g[n].getAttribute){var z=g[n].getAttribute('id')||'form.'+ra.v4();z!==g[n].getAttribute('id')&&g[n].setAttribute('id',z)}else z='form.'+ra.v4(),g[n].setAttribute('id',z);
qa.id=z;qa.target=g[n];v.$forms[z]=U({},qa);var C=g[n].getAttribute('data-gina-form-rule');if(C){C=C.replace(/\-|\//g,'.');'undefined'!=typeof k&&(v.$forms[z].rules[C]=v.rules[C]=Ha[C]=U(JSON.clone(eval('gina.forms.rules.'+C)),v.rules[C]));if('undefined'==typeof Ha[C])throw Error('['+z+'] no rule found with key: `'+C+'`. Please check if json is not malformed @ /forms/rules/'+C.replace(/\./g,'/')+'.json');C=v.rules[C]}'string'==typeof z&&'undefined'!=typeof Ha[z.replace(/\-/g,'.')]||'object'==typeof C?
(z=v.$forms[z].target,C?la(z,C):la(z),++b):('object'==typeof g[n].id?(delete v.$forms[g[n].id],z=g[n].attributes.getNamedItem('id').nodeValue||'form.'+ra.v4(),g[n].setAttribute('id',z),g[n].id=z,qa.target=g[n],v.$forms[z]=U({},qa),z=v.$forms[z].target):z=v.$forms[g[n].id].target,C?la(z,C):la(z))}if(window.XMLHttpRequest)J=new XMLHttpRequest;else if(window.ActiveXObject)try{J=new ActiveXObject('Msxml2.XMLHTTP')}catch(V){try{J=new ActiveXObject('Microsoft.XMLHTTP')}catch(O){}}v.isReady=!0;gina.hasValidator=
!0;gina.validator=v;triggerEvent(gina,v.target,'ready.'+v.id,v)}));v.initialized=!0;return v},Va=function(k,b){var g;for(g in k)if('object'==typeof k[g]&&'undefined'==typeof v.rules[b+g]){var n=g;/\[|\]/.test(g)&&(n=g.replace(/\[/g,'.').replace(/\]/g,''));v.rules[b+n]=k[g];Va(k[g],b+n+'.')}},Ua=function(k){if('undefined'!=typeof Ha[k])return Ha[k];var b=null;if('undefined'==typeof v.rules[k]){if(Va(Ha,''),Ha=Ca(Ha),b=Ha[k],!b)return{}}else b=v.rules[k];b=JSON.clone(b);var g=new RegExp('^'+k),n=new RegExp('^'+
k+'.'),A=null,z=function(V,O,ba,P,r,fa,ta){if(O.length){var ka=Object.getOwnPropertyNames(V)[0],ia=O[0];ia=''==r?r+=ia:r+'['+ia+']';1==O.length&&(V[ka]=U(V[ka],ba,!0));O.splice(0,1);ia==ka?z(V[ka],O,ba,P,ia,fa,ta):'undefined'!=typeof V[ka]?z(V[ka],O,ba,P,ia,fa,ta):z(V,O,ba,P,r,fa,ta)}},C;for(C in v.rules)C!=k&&g.test(C)&&(A=C.replace(n,''),/\./.test(A)&&(A=A.split(/\./g),z(b,A,v.rules[C],b,'',0,b.count()-1)));return Ha[k]=b},zb=function(k,b,g,n,A,z,C){var V=window.gina._global;V.register({root:k||
null,obj:g||null,value:z||null,rootObj:C||null});if(A==n)return eval(root+'=value'),b=JSON.clone(rootObj),V.unregister(['root','obj','rootObj','value','valueType']),b;k=b[A].replace(/^\[|\]$/g,'');'undefined'!=typeof rootObj&&rootObj?root+=/^\d+$/.test(k)?'['+k+']':'["'+k+'"]':(rootObj={},root='rootObj',root+=/^\d+$/.test(k)?'['+k+']':'["'+k+'"]',eval(root+'=obj'));z=(g='undefined'!=typeof b[A+1]?b[A+1].replace(/^\[|\]$/g,''):null)&&parseInt(g)==g?[]:{};V.register({valueType:z});g&&eval(root+' = valueType');
if('undefined'==typeof obj[k])return/^\d+$/.test(g)?obj[k]=[]:obj[k]={},++A,zb(root,b,obj[k],n,A,value,rootObj);++A;return zb(root,b,obj[k],n,A,value,rootObj)},Ja=function(k,b,g,n,A){if(A>=n)return!1;var z=g[A].replace(/^\[|\]$/g,''),C=A<n-1&&'undefined'!=typeof g[A+1]?g[A+1].replace(/^\[|\]$/g,''):null;'undefined'==typeof k[z]&&(C&&/^\d+$/.test(C)?(parseInt(C),k[z]=[]):k[z]={});Array.isArray(k[z])?(C=zb(z,g,k[z],g.length,1,b,null),k[z]=U(k[z],C)):A==n-1&&(k[z]=b);Ja(k[z],b,g,n,A+1)},Na=function(k){var b=
null,g={},n=null,A=function(V,O,ba,P,r){if(r==P)return V;var fa=O?Object.keys(ba)[r]:r;/\[(.*)\]/.test(fa)?(n=fa,b=fa.match(/(\[[-_\[a-z 0-9]*\]\]|\[[-_\[a-z 0-9]*\])/ig),fa=fa.match(/^[-_a-z 0-9]+\[{0}/ig),'undefined'==typeof V[fa]&&(V[fa]=Array.isArray(ba[n])?[]:{}),Ja(g,ba[n],b,b.length,0),V[fa]=U(V[fa],g),g={}):V[fa]=ba[fa];++r;return A(V,O,ba,P,r)},z='undefined'==typeof k?0:1,C=!1;Array.isArray(k)?z=k.length:'object'==typeof k&&(z=k.count(),C=!0);return A({},C,k,z,0)},ab=function(k){var b=v.$forms[k.form.getAttribute('id')],
g=/^true$/i.test(k.disabled)?!0:!1;g&&'undefined'!=typeof b.rule&&'undefined'!=typeof b.rule[k.name]&&'undefined'!=typeof b.rule[k.name].exclude&&/^false$/i.test(b.rule[k.name].exclude)&&(g=!1);if(/^(radio|text|hidden|password|number|date|email)$/i.test(k.type)&&!g){var n=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,'value'),A=n.set;n.set=function(z){Object.defineProperty(this,'value',{set:A});var C='change.'+this.id;z===this.value&&z===this.defaultValue||z===this.value||(this.value=
z,console.debug('Value set: '+z),'undefined'!=typeof gina.events[C]&&(console.debug('trigger event on: ',this.name,C),triggerEvent(gina,this,C,z)));Object.defineProperty(this,'value',n)};Object.defineProperty(k,'value',n)}},Ab=function(k,b,g,n){'undefined'==typeof n&&(n=!1);var A=k.rules,z=v.$forms[b.form.getAttribute('id')],C=/^true$/i.test(b.disabled)?!0:!1;C&&'undefined'!=typeof z.rule&&'undefined'!=typeof z.rule[b.name]&&'undefined'!=typeof z.rule[b.name].exclude&&/^false$/i.test(z.rule[b.name].exclude)&&
(C=!1);if(/^(radio|checkbox|text|hidden|password|number|date|email)$/i.test(b.type)&&!C||n&&!C){n=b.name;z=A[n]||null;if(!z&&(Ra(A,b),'undefined'==typeof A[n]))return;if(k.target.dataset.ginaFormLiveCheckEnabled&&z&&(n=[],z=null,C=0,/^(radio|checkbox)$/i.test(b.type)?z=/^(radio|checkbox)$/i.test(b.type)?'changed.'+b.id:'change.'+b.id:(addEventListener(gina,b,'focusout.'+b.id,function(O){O.preventDefault();clearTimeout(g)}),z='change.'+b.id,'undefined'==typeof gina.events[z]&&(n[C]=z,++C),z='keyup.'+
b.id,'undefined'==typeof gina.events[z]&&(n[C]=z,++C),z='focusin.'+b.id,'undefined'==typeof gina.events[z]&&(n[C]=z,++C),z='focusout.'+b.id),'undefined'==typeof gina.events[z]&&(n[C]=z,++C),0<n.length)){var V=!1;addListener(gina,b,n,function(O){O.preventDefault();clearTimeout(g);if(!V&&/^changed\./i.test(O.type)||!V&&/^(radio|checkbox)$/i.test(O.target.type))V=!0;else if(V&&/^changed\./i.test(O.type)||V&&/^(radio|checkbox)$/i.test(O.target.type))return!1;if('undefined'!=typeof v.$forms[O.target.form.getAttribute('id')].isSubmitting&&
/true/i.test(v.$forms[O.target.form.getAttribute('id')].isSubmitting))return!1;var ba=function(){console.debug('processing: '+O.target.name+'/'+O.target.id);if(!/^(radio|checkbox)$/i.test(O.target.type)&&O.target.value===O.target.defaultValue&&''!=O.target.value){var P=v.$forms[O.target.form.getAttribute('id')].errors;if(P&&0!=P.count())F(O.target.form,P,null,O.target.name);else return F(O.target.form,{},null,O.target.name),cancelEvent(O)}P={};var r={};P[O.target.name]=O.target.value;r[O.target.name]=
O.target;v.$forms[O.target.form.getAttribute('id')].isValidating=!0;Oa(O.target,P,r,k.rules,function(fa){v.$forms[O.target.form.getAttribute('id')].isValidating=!1;fa.isValid()?F(O.target.form,{},fa.data,O.target.name):F(O.target.form,fa.error,fa.data,O.target.name);var ta=O.target.form,ka=fa=null,ia=null;ka=La(ta,A);fa=ka.fields;ka=ka.$fields;var Ba=ta.getAttribute('id');ia=v.$forms[Ba].rules;v.$forms[Ba].isValidating=!0;Oa(ta,fa,ka,ia,function(za){v.$forms[Ba].isValidating=!1;console.debug('['+
Ba+'] onSilentGlobalLiveValidation: '+za.isValid(),za);var bb=za.isValid();T&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:Ba,errors:za.error||{}}));wa(ta,bb);V=!1})})};if(/^changed\./i.test(O.type)||/^change\./i.test(O.type)&&'radio'==O.target.type)return function(P,r){if(!(0<r))return++r,setTimeout(()=>{console.debug(' changed .... '+b.id);ba()},0)}(V,0);/^focusin\./i.test(O.type)?/\-error/.test(b.parentNode.className)&&
(console.debug('#1 you just focusin ....'+b.id,b.value),x(b)):/^focusout\./i.test(O.type)?/\-warning/.test(b.parentNode.className)&&(console.debug('#1 you just focusout ....'+b.id,b.value),x(b),F(b.form,v.$forms[b.form.getAttribute('id')].errors,null,b.name)):/^keyup\./i.test(O.type)?(b.ginaFormValidatorTestedValue=b.value,g=setTimeout(function(){-1<['91','17'].indexOf(''+O.keyCode)&&0==Q.count()||(console.debug(' keyup ('+O.keyCode+') .... '+b.id,b.value,' VS ',b.ginaFormValidatorTestedValue+'(old)'),
ba())},1E3)):/^change\./i.test(O.type)&&!/^(checkbox)$/i.test(O.target.type)&&(console.debug(' change .... '+b.id),ba())})}}},db=function(k,b){k.setSelectionRange?(k.focus(),k.setSelectionRange(b,b)):k.createTextRange&&(k=k.createTextRange(),k.collapse(!0),k.moveEnd('character',b),k.moveStart('character',b),k.select())},cb=function(k,b){if(document.activeElement&&document.activeElement.form){k=Array.prototype.filter.call(document.activeElement.form.querySelectorAll('a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), select:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])'),
function(A){return 0<A.offsetWidth||0<A.offsetHeight||A===document.activeElement});var g=k.indexOf(document.activeElement);if(-1<g){var n=k[g+1];b&&(n=k[g-1]);(n||k[0]).focus()}}},sb=function(k,b){k.setAttribute('readonly','readonly');addListener(gina,k,'focusout.'+k.id,function(g){g.preventDefault();clearTimeout(b);g=g.currentTarget;triggerEvent(gina,g,'change.'+g.id);g.setAttribute('readonly','readonly')});addListener(gina,k,'focusin.'+k.id,function(g){g.preventDefault();g.currentTarget.removeAttribute('readonly');
var n='keydown.'+g.currentTarget.id;'undefined'==typeof gina.events[n]&&addListener(gina,g.currentTarget,n,function(A){A.preventDefault();clearTimeout(b);var z=A.currentTarget,C=A.currentTarget.value,V=z.selectionStart,O=z.selectionEnd;z.removeAttribute('readonly');switch(A.keyCode){case 46:case 8:V!=O?(z.value=C.substr(0,V)+C.substr(O),0==V&&(z.value=C.substr(O))):z.value=0==V?C.substring(V+1):C.substr(0,V-1)+C.substr(O);A.currentTarget.setAttribute('readonly','readonly');setTimeout(()=>{z.removeAttribute('readonly');
setTimeout(()=>{V!=O?db(z,V):0==V?db(z,V):db(z,V-1)},0)},0);break;case 9:Q[16]&&Q[9]?cb(z,!0):cb(z);break;case 13:case 16:break;case 37:console.debug('moving left ',V-1);db(z,V-1);break;case 39:V+1<C.length+1&&db(z,V+1);break;case 17:case 91:console.debug('CMD hit');A.preventDefault();break;case 67:if(Q[67]&&Q[91]||Q[67]&&Q[17]){z.setSelectionRange(V,O);document.execCommand('copy');break}case 86:if(Q[86]&&Q[91]||Q[86]&&Q[17]){V!=O&&(z.value=z.value.replace(C.substring(V,O),''));db(z,V);document.execCommand('paste');
break}case 88:if(Q[88]&&Q[91]||Q[88]&&Q[17]){z.setSelectionRange(V,O);document.execCommand('cut');break}case 90:if(Q[90]&&Q[91]||Q[90]&&Q[17]){z.value=z.defaultValue;break}default:V!=O?(z.value=C.substr(0,V)+A.key,O-1<C.length&&(z.value+=C.substring(O))):z.value=0==V?A.key+C.substring(V):C.substr(0,V)+A.key+C.substr(O),A.currentTarget.setAttribute('readonly','readonly'),setTimeout(()=>{z.removeAttribute('readonly');setTimeout(()=>{db(z,V+1)},0)},0)}})})},Cb=function(k,b){if(/^(input|textarea)$/i.test(b.tagName)&&
'undefined'==typeof gina.events['registered.'+b.id]){/^file$/i.test(b.type)||ab(b);switch(b.tagName.toLowerCase()){case 'textarea':Ab(k,b,null,!0);break;default:Ab(k,b,null),k=b.getAttribute('autocomplete'),/safari/i.test(navigator.userAgent)&&k&&/^(off|false)/i.test(k)&&sb(b,null)}gina.events['registered.'+b.id]=b.id}},Jb=function(k,b,g){var n=b.id+'-'+g+'-'+k+'-trigger',A=document.getElementById(n);A||(n=b.getAttribute('data-gina-form-upload--'+g+ +k+'-trigger'),A=document.getElementById(n));A&&
'undefined'==typeof A.isBinded||A&&'undefined'!=typeof A.isBinded&&!/true/i.test(A.isBinded)?(addListener(gina,A,'click',function(z){z.preventDefault();na(b,k)}),A.isBinded=!0):console.warn('[FormValidator::bindForm][upload]['+b.id+'] : did not find `upload '+k+' trigger`.\nPlease, make sure that your delete element ID is `'+n+'-'+k+'-trigger`, or add to your file input ('+b.id+') -> `data-gina-form-upload-'+k+'-trigger="your-custom-id"` definition.')},yb=function(k,b){var g=function(n,A,z){var C=
null;switch(A){case 'data-gina-form-upload-action':C='upload-to-tmp-xml';break;case 'data-gina-form-upload-reset-action':C='upload-delete-from-tmp-xml'}var V=n.getAttribute(A);if(!V||''==V){C||console.warn('`'+A+'` definition not found for `'+n.id+'`. Trying to get default route.');var O=null;try{C&&(V=R.getRoute(C))}catch(ba){O=ba}V?(console.info('Ignore previous warnings regarding upload. I have found a default `'+A+'` route: `'+C+'@'+V.bundle+'`'),n.setAttribute('data-gina-form-upload-action',
V.toUrl())):(n='`'+A+'` needs to be defined to proceed for your `input[type=file]` with ID `'+n.id+'`\n'+O+'\n',z&&(z.innerHTML+=n.replace(/(\n|\r)/g,'<br>')),console.error(n))}};g(k,'data-gina-form-upload-action',b);g(k,'data-gina-form-upload-reset-action',b);g(k,'data-gina-form-upload-delete-action',b)},Gb=function(k,b,g){k=Kb(k);la(k.target,b);return g?g(k):k},Kb=function(k){var b=null,g=null;try{if(k.getAttribute&&k.getAttribute('id'))if(g=k.getAttribute('id'),'undefined'!=typeof v.$forms[g])b=
v.$forms[g];else throw Error('form instance `'+g+'` not found');else if('undefined'!=typeof k.target)b=k,g=b.id;else throw Error('Validator::unbindForm($target): `$target` must be a DOM element\n'+err.stack);}catch(C){throw Error('Validator::unbindForm($target) could not unbind form `'+k+'`\n'+C.stack);}if('undefined'!=typeof b&&!b.binded)return b;removeListener(gina,b,'success.'+g);removeListener(gina,b,'error.'+g);b.target.getAttribute('data-gina-form-event-on-submit-success')&&removeListener(gina,
b,'success.'+g+'.hform');b.target.getAttribute('data-gina-form-event-on-submit-error')&&removeListener(gina,b,'error.'+g+'.hform');removeListener(gina,b,'validate.'+g);removeListener(gina,b,'validated.'+g);removeListener(gina,b,'submit.'+g);removeListener(gina,b,'reset.'+g);k=[];g=b.target.getElementsByTagName('button');if(0<g.length)for(let C=0,V=g.length;C<V;++C)k.push(g[C]);g=b.target.getElementsByTagName('a');if(0<g.length)for(let C=0,V=g.length;C<V;++C)k.push(g[C]);g=b.target.getElementsByTagName('input');
if(0<g.length)for(let C=0,V=g.length;C<V;++C)if(/^(hidden)$/i.test(g[C].type)||k.push(g[C]),/^(file)$/i.test(g[C].type)){var n=g[C].getAttribute('data-gina-form-virtual');if(n){var A=H(n).target;if(A){k.push(A);for(let O=0,ba=Ga.length;O<ba;O++){var z=Ga[O];'undefined'!=typeof gina.events[z+'.'+n+'.hform']&&gina.events[z+'.'+n+'.hform']==n&&removeListener(gina,A,z+'.'+n+'.hform')}}}}else for(let O=0,ba=Ga.length;O<ba;O++)n=Ga[O]+'.'+g[C].id,'undefined'!=typeof gina.events[n]&&gina.events[n]==g[C].id&&
removeListener(gina,g[C],n),n=Ga[O],'undefined'!=typeof gina.events[n]&&gina.events[n]==g[C].id&&removeListener(gina,g[C],n),n=g[C].id,'undefined'!=typeof gina.events[n]&&gina.events[n]==g[C].id&&removeListener(gina,g[C],n);g=b.target.getElementsByTagName('textarea');if(0<g.length)for(let C=0,V=g.length;C<V;++C)k.push(g[C]);g=b.target.getElementsByTagName('form');if(0<g.length)for(let C=0,V=g.length;C<V;++C)k.push(g[C]);k.push(b.target);for(let C=0,V=k.length;C<V;++C){g=k[C];n=g.getAttribute('id');
for(let O=0,ba=Ga.length;O<ba;O++)z=A=Ga[O],'undefined'!=typeof gina.events[z]&&gina.events[z]==n&&removeListener(gina,g,z),z=n,'undefined'!=typeof gina.events[z]&&gina.events[z]==n&&removeListener(gina,g,z),z=A+'.'+n,'undefined'!=typeof gina.events[z]&&gina.events[z]==n&&removeListener(gina,g,z),z=A+'.'+n,'undefined'!=typeof gina.events[z]&&gina.events[z]==z&&removeListener(gina,g,z),z=A+'.'+n+'.hform','undefined'!=typeof gina.events[z]&&gina.events[z]==n&&removeListener(gina,g,z)}evt=null;b.binded=
!1;return b},Ra=function(k,b){b=b.name;if(!k[b])for(let g in k)if(/^\//.test(g)&&(re=g.match(/\/(.*)\//).pop(),flags=g.replace('/'+re+'/',''),re=re.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),re=new RegExp(re,flags),re.test(b))){k[b]=k[g];break}},la=function(k,b){var g=null,n=null,A=typeof(0<Ha.count())?Ha:v.rules;try{if(k.getAttribute&&k.getAttribute('id'))if(n=k.getAttribute('id'),'undefined'!=typeof v.$forms[n])g=v.$forms[n];else throw Error('form instance `'+n+'` not found');else throw Error('Validator::bindForm($target, customRule): `$target` must be a DOM element\n'+
err.stack);}catch(ea){throw Error('Validator::bindForm($target, customRule) could not bind form `'+k+'`\n'+ea.stack);}if('undefined'!=typeof g&&g.binded)return!1;console.debug('binding for: '+n);var z=!1,C=null,V='',O=null;'undefined'!=typeof b||'string'==typeof n&&'undefined'!=typeof A[n.replace(/\-|\//g,'.')]?(z=!0,C=b&&'object'==typeof b?b:b&&'string'==typeof b&&'undefined'!=typeof A[b.replace(/\-|\//g,'.')]?Ua(b.replace(/\-|\//g,'.')):Ua(n.replace(/\-|\//g,'.')),g.rules=C,T&&L&&'undefined'!=typeof window.ginaToolbar&&
window.ginaToolbar&&(gina.forms.rules||(gina.forms.rules={}),objCallback={id:n,rules:g.rules},window.ginaToolbar.update('forms',objCallback))):g.rules={};'undefined'==typeof g.target.dataset.ginaFormLiveCheckEnabled&&0<g.rules.count()?g.target.dataset.ginaFormLiveCheckEnabled=!0:g.target.dataset.ginaFormLiveCheckEnabled='undefined'!=typeof g.target.dataset.ginaFormLiveCheckEnabled?/^true$/i.test(g.target.dataset.ginaFormLiveCheckEnabled)?!0:!1:!1;g.fieldsSet||(g.fieldsSet={});O=null;k.getElementsByTagName('a');
b=k.getElementsByTagName('input');var ba=k.getElementsByTagName('textarea');O=k.getElementsByTagName('select');var P={},r=[],fa={},ta=null,ka={},ia=null,Ba=null;for(let ea=0,Z=ba.length;ea<Z;++ea)Ra(g.rules,ba[ea]),Ba=ba[ea].getAttribute('id'),Ba&&''!=Ba||(Ba='textareas.'+ra.v4(),ba[ea].setAttribute('id',Ba)),g.fieldsSet[Ba]||(g.fieldsSet[Ba]={id:Ba,name:ba[ea].name||null,value:ba[ea].value||'',defaultValue:ba[ea].value||''}),/^true$/i.test(g.target.dataset.ginaFormLiveCheckEnabled)&&Cb(g,ba[ea]);
for(let ea=0,Z=b.length;ea<Z;++ea){Ra(g.rules,b[ea]);Ba=b[ea].getAttribute('id');Ba&&''!=Ba||(Ba='input.'+ra.v4(),b[ea].setAttribute('id',Ba));g.fieldsSet[Ba]||(ta=b[ea].value,/$(on|true|false)$/i.test(ta)&&(ta=/$(on|true)$/i.test(ta)?!0:!1),g.fieldsSet[Ba]={id:Ba,name:b[ea].name||null,value:ta||!/^(checkbox|radio)$/i.test(b[ea].type)?'':b[ea].checked,defaultValue:/^(checkbox|radio)$/i.test(b[ea].type)?b[ea].checked:ta},/^(checkbox|radio)$/i.test(b[ea].type)&&'undefined'==typeof g.fieldsSet[Ba].defaultChecked&&
(g.fieldsSet[Ba].defaultChecked=/^(true|on)$/i.test(b[ea].checked)||/^(true|on)$/.test(ta)&&/^(checkbox)$/i.test(b[ea].type)?!0:!1,/^radio$/i.test(b[ea].type)&&(g.fieldsSet[Ba].value=b[ea].value,g.fieldsSet[Ba].defaultValue=b[ea].value)));/^true$/i.test(g.target.dataset.ginaFormLiveCheckEnabled)&&Cb(g,b[ea]);if(ta=b[ea].getAttribute('data-gina-form-element-group'))0>r.indexOf(ta)&&r.push(ta),ia=b[ea].getAttribute('name')||Ba,ia===Ba&&b[ea].setAttribute('name',Ba),P[Ba]={id:Ba,name:ia,group:ta,target:b[ea]},
fa[b[ea].name]=new RegExp('^'+ta.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')),z&&('undefined'==typeof g.rules[b[ea].name]&&(g.rules[b[ea].name]={}),'undefined'!=typeof g.rules[b[ea].name].isRequired&&g.rules[b[ea].name].isRequired||(g.rules[b[ea].name].exclude=!0));if(0<fa.count())for(var za in fa)b[ea].name!=za&&(b[ea].getAttribute('data-gina-form-element-group'),fa[za].test(b[ea].name)&&(b[ea].disabled=!0,'undefined'==typeof ka[za]&&(ka[za]={}),ka[za][b[ea].name]=b[ea]));if(/^file$/i.test(b[ea].type)){Ba=
b[ea].getAttribute('data-gina-form-upload-trigger');Ba||(Ba=b[ea].id);ta=null;ia=(new DOMParser).parseFromString(k.innerHTML,'text/html');Ba&&(ta=document.getElementById(Ba));ba=document.getElementById(b[ea].id+'-error');yb(b[ea],ba);if((ba=ia.getElementById(Ba+'-preview'))&&ta&&!/none/i.test(window.getComputedStyle(ba).display)&&!/none/i.test(ba.parentElement.style.display)){ia=0;console.debug('preview is visible ...');ta.customFiles=[];ta.form=k;ba=ba.childNodes;for(let ha=0,pa=ba.length;ha<pa;ha++){var bb=
null;if(/ul/i.test(ba[ha].tagName))for(let Pa=0,eb=ba[ha].length;Pa<eb;Pa++){let hb=$$els[ha];for(let Ma=0,wb=hb.length;Ma<wb;Ma++)/img/i.test(hb[Ma])&&(bb=hb[Ma],bb.setAttribute(''),ia++)}else/img/i.test(ba[ha].tagName)&&(bb=ba[ha],deleteLinkId=Ba+'-'+ia+'-delete-trigger',bb=bb.src.substr(bb.src.lastIndexOf('/')+1),ta.customFiles.push({name:bb,deleteLinkId}),Jb('delete',ta,ia),ia++)}}addListener(gina,b[ea],'change',function(ha){ha.preventDefault();var pa=ha.currentTarget;ha=pa.files;pa.customFiles=
Array.from(ha);if(!ha.length)return!1;var Pa=pa.getAttribute('data-gina-form-upload-action'),eb=pa.getAttribute('name'),hb='gina-upload-'+eb.replace(/\[/g,'-').replace(/\]/g,'-'+g.id);pa.setAttribute('data-gina-form-virtual',hb);var Ma=pa.getAttribute('data-gina-form-upload-on-success'),wb=pa.getAttribute('data-gina-form-upload-on-error'),$a=null;if(0<ha.length){var pb=null;if(I()){pb=gina.popin.getActivePopin();pb.$target=(new DOMParser).parseFromString(pb.target.outerHTML,'text/html');pb.$target.getElementById(pb.id).innerHTML=
document.getElementById(pb.id).innerHTML;var nb=pb.$target.getElementById(hb)}else nb=document.getElementById(hb);if(!nb){try{nb=H(hb)||null}catch(Tc){}nb||=I()?pb.$target.createElement('form'):document.createElement('form');nb.id=hb;nb.action=Pa;nb.enctype='multipart/form-data';nb.method='POST';if('undefined'!=typeof pa.form){Pa='files';var qb=pa.getAttribute('data-gina-form-upload-prefix')||pa.name||pa.getAttribute('name'),mb=pa.id||pa.getAttribute('id'),Qb=!1,Hb=pa.getAttribute('data-gina-form-upload-preview')||
mb+'-preview';Hb=I()?pb.$target.getElementById(Hb):document.getElementById(Hb);'undefined'!=typeof Hb&&(Qb=!0);qb&&(Pa=qb);qb=[];for(var Lb='name group originalFilename ext encoding size height width location mime preview'.split(' '),Bc=pa.form.getElementsByTagName('INPUT'),fc,Xb,Gc,pc,Pb=0,Nc=ha.length;Pb<Nc;++Pb){Jb('reset',pa,Pb);qb[Pb]=null;fc=Pa+'['+Pb+']';pc=new RegExp('^'+fc.replace(/\[/g,'\\[').replace(/\]/g,'\\]'));for(var vc=0,wc=Bc.length;vc<wc;++vc)fc=Bc[vc].getAttribute('type'),$a=Bc[vc].getAttribute('data-gina-form-upload-error')||
mb+'-error'||null,fc&&/hidden/i.test(fc)&&(Xb=Bc[vc],fc=/\[\w+\]$/i.test(Xb.name)?Xb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Xb.name,Gc=/\[\w+\]$/i.test(Xb.name)?Xb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Xb.name,Xb&&'undefiend'!=typeof fc&&-1<Lb.indexOf(fc)&&pc.test(Xb.name)?(qb[Pb]||(qb[Pb]={}),/\[preview\]/i.test(Xb.name)?('undefined'==typeof qb[Pb].preview&&(qb[Pb].preview={}),qb[Pb].preview[fc]=Xb):qb[Pb][fc]=Xb):Xb&&'undefiend'!=typeof fc&&0>Lb.indexOf(fc)&&pc.test(Xb.name)&&(qb[Pb]||
(qb[Pb]={}),/\[preview\]/i.test(Xb.name)?('undefined'==typeof qb[Pb].preview&&(qb[Pb].preview={}),qb[Pb].preview[Gc]=Xb):qb[Pb][Gc]=Xb));pc=0;for(vc=Lb.length;pc<vc;++pc)qb[Pb]||(qb[Pb]={}),'undefined'==typeof qb[Pb][Lb[pc]]&&(fc=Pa+'['+Pb+']['+Lb[pc]+']',$newVirtualField=document.createElement('input'),$newVirtualField.type='hidden',$newVirtualField.id='input.'+ra.v4(),$newVirtualField.name=fc,$newVirtualField.value='',pa.form.appendChild($newVirtualField),qb[Pb][Lb[pc]]=pa.form[pa.form.length-1])}nb.uploadProperties=
{id:pa.form.id||pa.getAttribute('id'),uploadTriggerId:pa.id,$form:pa.form,errorField:$a,mandatoryFields:Lb,uploadFields:qb,hasPreviewContainer:Qb,isPopinContext:I()};Qb&&(nb.uploadProperties.previewContainer=Hb)}Ma?nb.setAttribute('data-gina-form-event-on-submit-success',Ma):nb.setAttribute('data-gina-form-event-on-submit-success','onGenericXhrResponse');wb?nb.setAttribute('data-gina-form-event-on-submit-error',wb):nb.setAttribute('data-gina-form-event-on-submit-error','onGenericXhrResponse');I()?
document.getElementById(pb.id).appendChild(nb):document.body.appendChild(nb)}try{var rc=H(hb),Sc=new FormData;pa=null;hb=0;for(var Oc=ha.length;hb<Oc;++hb)pa=ha[hb],Sc.append(eb,pa,pa.name);rc.send(Sc,{withCredentials:!0})}catch(Tc){throw Tc;}}})}}var Wa=function(ea,Z){ea.setAttribute('data-value',ea.value);if(/^(true)$/i.test(Z.target.dataset.ginaFormLiveCheckEnabled&&0<Z.rules.count())){var ha={},pa={},Pa=null;Pa=ea.form;ha[event.target.name]=event.target.value;pa[event.target.name]=event.target;
v.$forms[Pa.getAttribute('id')].isValidating=!0;Oa(event.target,ha,pa,Z.rules,function(eb){v.$forms[Pa.getAttribute('id')].isValidating=!1;eb.isValid()?F(Pa,{},eb.data,event.target.name):F(Pa,eb.error,eb.data,event.target.name);var hb=Pa,Ma=eb=null,wb=null;Ma=La(hb,A);eb=Ma.fields;Ma=Ma.$fields;var $a=hb.getAttribute('id');wb=v.$forms[$a].rules;v.$forms[$a].isValidating=!0;Oa(hb,eb,Ma,wb,function(pb){v.$forms[$a].isValidating=!1;console.debug('[updateSelect]: onSilentGlobalLiveValidation: '+pb.isValid(),
pb);pb=pb.isValid();wa(hb,pb);once=!1})})}};ta=ka=null;za=0;for(fa=O.length;za<fa;++za)if(Ra(g.rules,O[za]),Ba=O[za].getAttribute('id'),!Ba||!/^gina\-toolbar/.test(Ba)){Ba&&''!=Ba||(Ba='select.'+ra.v4(),O[za].setAttribute('id',Ba));if(ta=O[za].getAttribute('data-gina-form-element-group'))ka=O[za].getAttribute('name')||Ba,ka===Ba&&O[za].setAttribute('name',Ba),P[Ba]={id:Ba,name:ka,group:ta,target:O[za]};addListener(gina,O[za],'change',function(ea){ea=ea.target;/select/i.test(ea.type)&&Wa(ea,g)});if(O[za].options&&
!g.fieldsSet[Ba]){ka=0;if(ta=O[za].getAttribute('data-value')||null)for(ia=0,ba=O[za].options.length;ia<ba;++ia)if(O[za].options[ia].value==ta){ka=ia;O[za].selectedIndex=ka;break}'undefined'!=typeof O[za].options[O[za].selectedIndex]&&O[za].options[O[za].selectedIndex].index&&(ka=O[za].options[O[za].selectedIndex].index);g.fieldsSet[Ba]={id:Ba,name:O[za].name||null,value:O[za].options[ka].value||ta||null,selectedIndex:ka||0};'undefined'!=typeof O[za].selectedIndex&&(O[za].options[ka].selected=!0,
O[za].setAttribute('data-value',O[za].options[ka].value))}}var rb=function(ea,Z,ha,pa){'undefined'==typeof pa&&(pa=!1);if('undefined'==typeof P[ea])throw Error('Radio & Checkbox dependencies not met: you must use the ID attribue of the `master element` as the `data-gina-form-element-group`');var Pa=ea.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');ea=P[ea].target.checked;for(let Ma in P)if(!/radio|checkbox/i.test(P[Ma].target.type)){var eb=new RegExp(Pa);var hb=new RegExp(Z);if(eb.test(P[Ma].group)&&hb.test(P[Ma].group)||
eb.test(P[Ma].group))P[Ma].target.disabled=!0,'undefined'==typeof g.rules[P[Ma].name]&&(g.rules[P[Ma].name]={}),g.rules[P[Ma].name].exclude=!0,pa?(P[Ma].target.disabled=ea?!1:!0,g.rules[P[Ma].name].exclude=ea?!1:!0):(P[Ma].target.disabled=ha,g.rules[P[Ma].name].exclude=ha)}},Bb=function(ea,Z,ha,pa){'undefined'==typeof pa&&(pa=!1);if(pa&&'undefined'!=typeof P[Z.id])return ea=/true/i.test(Z.checked)?!1:!0,rb(Z.id,P[Z.id].group,ea,pa);ha=Z.name;z&&'undefined'==typeof ea.rules[ha]&&(ea.rules[ha]={});
/^true$/i.test(Z.checked)?z&&(ea.rules[ha].exclude=!1,'undefined'!=typeof P[Z.id]&&rb(Z.id,P[Z.id].group,!1,pa)):z&&(ea.rules[ha].exclude=!0,'undefined'!=typeof P[Z.id]&&rb(Z.id,P[Z.id].group,!0,pa))},Mb=function(ea,Z){'undefined'==typeof Z&&(Z=!1);var ha=function(Ma,wb,$a){if(wb)Bb(g,Ma,wb);else for(let pb in P)if(hb.test(P[pb].group)||hb.test(P[pb].target.getAttribute('data-gina-form-element-group')))P[pb].target.disabled=$a};Z&&/^(on)$/i.test(ea.value)&&!ea.checked&&(ea.value=!1);var pa=ea.getAttribute('data-value')||
ea.getAttribute('value')||ea.value;pa=/^(true|on)$/.test(pa)?!0:pa;''===pa&&(pa=!1);var Pa=/^(true|on|false)$/i.test(pa)?!0:!1;Z&&Pa&&(/^true$/i.test(pa)&&!ea.checked?ea.checked=!0:/^false$/i.test(pa)&&ea.checked&&(ea.checked=!1));pa=ea.checked;var eb=ea.getAttribute('data-gina-form-element-group')||null,hb=new RegExp(ea.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));pa&&'null'!=pa&&'false'!=pa&&''!=pa?(Z?ib(ea):(setTimeout(function(){ea.checked=!0;ha(ea,eb,!1);ib(ea)},0),ea.setAttribute('checked','checked')),
Pa&&(ea.value=!0,ea.setAttribute('value',!0),typeof('undefined'!=ea.getAttribute('data-value'))&&ea.setAttribute('data-value',!0))):(Z?ib(ea):setTimeout(function(){ea.checked=!1;ha(ea,eb,!0);ib(ea)},0),ea.removeAttribute('checked'),Pa&&(ea.value=!1,ea.setAttribute('value','false'),typeof('undefined'!=ea.getAttribute('data-value'))&&ea.setAttribute('data-value','false')))},ib=function(ea){ea=new RegExp(ea.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(let Z in P)(/checkbox/i.test(P[Z].target.type)&&
ea.test(P[Z].group)||/checkbox/i.test(P[Z].target.type)&&ea.test(P[Z].target.getAttribute('data-gina-form-element-group')))&&Bb(g,P[Z].target,P[Z].group,!0)},Db=function(ea,Z){Z=ea.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');Z=new RegExp(Z);for(let ha in P)if(/checkbox|radio/i.test(P[ha].target.type)||(P[ha].target.disabled=!0,'undefined'==typeof g.rules[P[ha].name]&&(g.rules[P[ha].name]={}),g.rules[P[ha].name].exclude=!0),Z.test(P[ha].group)||Z.test(P[ha].target.getAttribute('data-gina-form-element-group').replace(/\-|_|@|#|\.|\[|\]/g,
'\\$&')))P[ha].target.disabled=!0,'undefined'==typeof g.rules[P[ha].name]&&(g.rules[P[ha].name]={}),/^(true|on)$/i.test(ea.checked)?(P[ha].target.disabled=!1,g.rules[P[ha].name].exclude=!1):(P[ha].target.disabled=!0,g.rules[P[ha].name].exclude=!0);ib(ea)},Wb=null,Za=function(ea,Z,ha){Z='undefined'!=typeof Z&&Z?!0:!1;ha='undefined'!=typeof ha&&ha?!0:!1;var pa=ea.checked,Pa=/^(true|false)$/i.test(ea.value);Wb=document.getElementsByName(ea.name);for(let eb=0,hb=Wb.length;eb<hb;++eb)Wb[eb].id!==ea.id&&
pa&&(Wb[eb].checked=!1,Wb[eb].removeAttribute('checked'),Db(Wb[eb],!0));Z?Db(ea):(pa&&'null'!=pa&&'false'!=pa&&''!=pa?setTimeout(function(){ha?Db(ea):(ea.checked=!1,ea.removeAttribute('checked'))},0):setTimeout(function(){ha?Db(ea):(ea.checked=!0,ea.setAttribute('checked','checked'))},0),Pa&&(ea.value=/^true$/.test(ea.value)?!0:!1))};za=0;for(fa=b.length;za<fa;++za){O=b[za].getAttribute('type');if('undefined'==typeof b[za].id||''==b[za].id)b[za].id=O+'-'+ra.v4(),b[za].setAttribute('id',b[za].id);
if('undefined'!=typeof O&&/^checkbox$/i.test(O)){if(b[za].disabled&&-1<r.indexOf(b[za].id)||!b[za].checked&&-1<r.indexOf(b[za].id)){O=new RegExp(b[za].id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(var jb in P)O.test(P[jb].group)&&(P[jb].target.disabled=!0)}V='change.'+b[za].id;O=function(ea,Z){addListener(gina,ea,Z,function(ha){Mb(ha.target);triggerEvent(gina,ha.target,'changed.'+ha.target.id)});Mb(ea,!0)};'undefined'!=typeof gina.events[V]&&gina.events[V]==b[za].id&&removeListener(gina,b[za],V);O(b[za],
V)}else'undefined'!=typeof O&&/^radio$/i.test(O)&&(V=b[za].id,O=function(ea,Z){addListener(gina,ea,Z,function(ha){Za(ha.target);triggerEvent(gina,ha.target,'changed.'+ha.target.id)});Za(ea,!0)},'undefined'!=typeof gina.events[V]&&gina.events[V]==b[za].id&&removeListener(gina,b[za],V),O(b[za],V))}V='click';O=function(){var ea=null;ea='reset.'+k.id;'undefined'==typeof gina.events[ea]&&addListener(gina,k,ea,function(Z){Z.preventDefault();var ha=v.$forms[Z.currentTarget.id||Z.target.id];ha.target.dataset.ginaFormIsResetting=
!0;y(ha);Z=La(ha.target,ha.rules,!0);Oa(ha.target,Z.fields,Z.$fields,ha.rules,function(pa){var Pa=pa.isValid();console.debug('silent reset validation result[isValid:'+Pa+']: ',pa);F(ha.target,{});wa(ha.target,Pa);ha.target.dataset.ginaFormIsResetting=!1})});addListener(gina,k,'reset',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;Z.preventDefault();var pa=ha.id;if(!pa)return!1;/^reset\./.test(pa)||(pa='reset.'+ha.id);gina.events[pa]&&triggerEvent(gina,
ha,pa,Z.detail)});addListener(gina,k,'keydown',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;Q[Z.keyCode]='keydown'==Z.type;var pa=ha.id;if(!pa)return!1;/^keydown\./.test(pa)||(pa='keydown.'+ha.id);gina.events[pa]&&(cancelEvent(Z),triggerEvent(gina,ha,pa,Z.detail,Z))});addListener(gina,k,'keyup',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;Q[Z.keyCode]&&delete Q[Z.keyCode];var pa=ha.id;if(!pa)return!1;
/^keyup\./.test(pa)||(pa='keyup.'+ha.id);gina.events[pa]&&(cancelEvent(Z),triggerEvent(gina,ha,pa,Z.detail,Z))});addListener(gina,k,'focusin',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;var pa=ha.id;if(!pa)return!1;/^focusin\./.test(pa)||(pa='focusin.'+ha.id);gina.events[pa]&&(cancelEvent(Z),triggerEvent(gina,ha,pa,Z.detail))});addListener(gina,k,'focusout',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;
var pa=ha.id;if(!pa)return!1;/^focusout\./.test(pa)||(pa='focusout.'+ha.id);gina.events[pa]&&(cancelEvent(Z),triggerEvent(gina,ha,pa,Z.detail))});addListener(gina,k,'change',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;var pa=ha.id;if(!pa)return!1;/^change\./.test(pa)||(pa='change.'+ha.id);gina.events[pa]&&(cancelEvent(Z),triggerEvent(gina,ha,pa,Z.detail))});addListener(gina,k,'click',function(Z){var ha=Z.target,pa=!1,Pa=!1;if(/(label)/i.test(Z.target.tagName)&&
'undefined'!=typeof Z.target.control&&null!=Z.target.control&&/(checkbox|radio)/i.test(Z.target.control.type)||/(label)/i.test(Z.target.parentNode.tagName)&&'undefined'!=typeof Z.target.parentNode.control&&null!=Z.target.parentNode.control&&/(checkbox|radio)/i.test(Z.target.parentNode.control.type))Pa=Z.target.getAttribute('for')||Z.target.parentNode.getAttribute('for')?!0:!1,ha=Z.target.control||Z.target.parentNode.control;if(!ha.disabled&&/(checkbox|radio)/i.test(ha.type)&&!Pa){if(/checkbox/i.test(ha.type))return Mb(ha);
if(/radio/i.test(ha.type))return Za(ha,!1,!0)}if(/(button|input)/i.test(ha.tagName)&&/(submit|checkbox|radio)/i.test(ha.type)||/a/i.test(ha.tagName)&&ha.attributes.getNamedItem('data-gina-form-submit')||/a/i.test(ha.parentNode.tagName)&&ha.parentNode.attributes.getNamedItem('data-gina-form-submit')){Pa=ha.attributes.getNamedItem('data-gina-form-submit');var eb=ha.parentNode.attributes.getNamedItem('data-gina-form-submit');if(Pa||eb)pa=!0,(eb=Pa?ha.getAttribute('data-gina-form-submit-method'):ha.parentNode.getAttribute('data-gina-form-submit-method'))&&
(Pa&&ha.form?ha.form.setAttribute('method',eb):ha.parentNode.form&&ha.parentNode.form.setAttribute('method',eb));'undefined'!=typeof ha.id&&ha.getAttribute('id')||ha.setAttribute('id','click.'+ra.v4());ha.id=ha.getAttribute('id');if(/^click\./.test(ha.id)||z){Pa=ha.id;if(!Pa)return!1;/^click\./.test(Pa)||(Pa=ha.id);if(!ha.disabled&&/(checkbox|radio)/i.test(ha.type)){if(/checkbox/i.test(ha.type))return Mb(ha);if(/radio/i.test(ha.type))return Za(ha,!1,!0)}if('undefined'!=typeof Z.defaultPrevented&&
Z.defaultPrevented)return!1;'submit'!=ha.type||/^submit\./i.test(Pa)||(Pa='submit.'+Pa);'reset'!=ha.type||/^reset\./i.test(Pa)||(Pa='reset.'+Pa);gina.events[Pa]?(cancelEvent(Z),triggerEvent(gina,ha,Pa,Z.detail)):pa&&'undefined'!=typeof this.id&&''!=this.id&&'undefined'!=typeof gina.validator.$forms[this.id]&&(gina.validator.getFormById(this.id).submit(),cancelEvent(Z))}}})};O();V='validate.'+n;O=function(){addListener(gina,k,V,function(ea){cancelEvent(ea);var Z=g.eventData.error||g.eventData.validation||
ea.detail;F(ea.target,Z.fields||Z.error,Z.data);ea=ea.target.getAttribute('id');if('undefined'!=typeof Z.isValid&&Z.isValid()){var ha=v.$forms[ea].target.getAttribute('data-gina-form-inherits-data')||null;ha&&(Z.data=U(Z.data,JSON.parse(decodeURIComponent(ha))));v.$forms[ea]?v.$forms[ea].send(Z.data):g&&g.send(Z.data)}})};'undefined'!=typeof gina.events[V]&&gina.events[V]=='validate.'+n&&removeListener(gina,g,V,O);O();jb=function(ea,Z){/^submit\./i.test(ea)||(ea='submit.'+ea);addListener(gina,Z,ea,
function(ha){cancelEvent(ha);var pa={};ha={_length:0};var Pa=k.getAttribute('id'),eb='undefined'!=typeof v.$forms[Pa]?v.$forms[Pa].rules:null;v.$forms[Pa].sent||(pa=La(k,eb),ha=pa.fields,pa=pa.$fields,eb=v.$forms[Pa].rules,0==ha._length?(delete ha._length,ha={error:[],isValid:function(){return!0},data:Na(ha)},triggerEvent(gina,k,'validate.'+n,ha)):(n=k.getAttribute('id'),C=(eb=k.getAttribute('data-gina-form-rule'))?Ua(eb.replace(/\-|\//g,'.')):Ua(n.replace(/\-/g,'.')),v.$forms[Pa].isSubmitting=!0,
v.$forms[Pa].isSending=!1,Oa(k,ha,pa,C,function(hb){triggerEvent(gina,k,'validate.'+n,hb)})))})};r=null;b=[];r=[];O=null;r=k.getElementsByTagName('button');if(0<r.length)for(let ea=0,Z=r.length;ea<Z;++ea)'submit'==r[ea].type&&b.push(r[ea]);r=k.getElementsByTagName('a');if(0<r.length)for(let ea=0,Z=r.length;ea<Z;++ea)r[ea].attributes.getNamedItem('data-gina-form-submit')?b.push(r[ea]):r[ea].getAttribute('id')||/gina\-popin/.test(r[ea].className)||gina.popinIsBinded||/gina\-link/.test(r[ea].className)||
(O='link.'+ra.v4(),r[ea].id=O);O=null;za=!1;for(let ea=0,Z=b.length;ea<Z;++ea){r=b[ea];if(/button/i.test(r.tagName)&&'undefined'!=typeof r.type&&/submit/i.test(r.type)||/a/i.test(r.tagName)&&'undefined'!=typeof r.dataset.ginaFormSubmit&&/^true$/i.test(r.dataset.ginaFormSubmit)||/a/i.test(r.parentNode.tagName)&&'undefined'!=typeof r.parentNode.dataset.ginaFormSubmit&&/^true$/i.test(r.parentNode.dataset.ginaFormSubmit)){/a/i.test(r.parentNode.tagName)&&(r=r.parentNode);if('undefined'==typeof r.id||
'undefined'!=typeof r.id&&''==r.id)r.id='click.'+ra.v4(),r.setAttribute('id',r.id);/a/i.test(r.tagName)&&'undefined'==typeof r.form&&(r.form={id:g.id});'undefined'==typeof r.dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof v.$forms[g.id]&&'undefined'==typeof v.$forms[g.id].submitTrigger&&'undefined'!=typeof r.form.id&&g.id==r.form.id&&(console.debug('attching submitTrigger: '+r.id,'  form id: '+g.id),v.$forms[g.id].submitTrigger=g.submitTrigger=r.id||r.getAttribute('id'),r.dataset.ginaFormSubmitTriggerFor=
g.id)}'A'==r.tagName&&(O=r.getAttribute('onclick'),za=r.getAttribute('data-gina-form-submit'),O||za?/return false/i.test(O)||za||(O=/;$/.test(O)?O+'return false;':O+'; return false;'):r.setAttribute('onclick','return false;'));r.id?V=r.id:(V='click.'+ra.v4(),r.id=V,r.setAttribute('id',V));'undefined'!=typeof gina.events[V]&&gina.events[V]==r.id||jb(V,r)}V='submit';addListener(gina,k,V,function(ea){var Z=ea.target,ha=Z.getAttribute('id'),pa=v.$forms[ha],Pa=g.binded;(pa=(new DOMParser).parseFromString(Z.innerHTML,
'text/html').getElementById(pa.submitTrigger))&&pa.disabled&&cancelEvent(ea);if('undefined'!=typeof ea.defaultPrevented&&ea.defaultPrevented)return!1;(z||Pa)&&cancelEvent(ea);ea={};Pa={_length:0};ha=Z.getAttribute('id');pa='undefined'!=typeof gina.validator.$forms[ha]?gina.validator.$forms[ha].rules:null;for(var eb=null,hb=null,Ma=0,wb=Z.length;Ma<wb;++Ma)eb=Z[Ma].getAttribute('name'),hb=Z[Ma].disabled||Z[Ma].getAttribute('disabled'),hb=/disabled|true/i.test(hb)?!0:!1,eb&&!hb&&('undefined'!=typeof Z[Ma].type&&
'radio'==Z[Ma].type||'undefined'!=typeof Z[Ma].type&&'checkbox'==Z[Ma].type?Z[Ma].checked?/^(true|false)$/.test(Z[Ma].value)?Pa[eb]=Z[Ma].value=/^true$/.test(Z[Ma].value)?!0:!1:Pa[eb]=Z[Ma].value:pa&&'undefined'!=typeof pa[eb]&&'undefined'!=typeof pa[eb].isBoolean&&'checkbox'==Z[Ma].type&&!/^(true|false)$/.test(Z[Ma].value)&&(Pa[eb]=!1):Pa[eb]=Z[Ma].value,ea[eb]=Z[Ma],ea[eb].setAttribute('data-gina-form-errors',''));Pa._length=Pa.count();0==Pa._length?(delete Pa._length,ea={error:[],isValid:function(){return!0},
data:Na(Pa)},'undefined'!=typeof gina.events['submit.'+ha]?triggerEvent(gina,Z,'submit.'+ha,ea):triggerEvent(gina,Z,'validate.'+ha,ea)):(C=(pa=Z.getAttribute('data-gina-form-rule'))?Ua(pa.replace(/\-|\//g,'.')):Ua(ha.replace(/\-/g,'.')),v.$forms[ha].isValidating=!0,Oa(Z,Pa,ea,C,function($a){v.$forms[ha].isValidating=!1;'undefined'!=typeof gina.events['submit.'+ha]?triggerEvent(gina,Z,'submit.'+ha,$a):triggerEvent(gina,Z,'validate.'+ha,$a)}))});v.$forms[n].binded=!0;/^(true)$/i.test(g.target.dataset.ginaFormLiveCheckEnabled&&
0<g.rules.count())?(console.debug('silent validation mode on'),jb=La(g.target,g.rules),Oa(g.target,jb.fields,jb.$fields,g.rules,function(ea){console.debug('silent validation result[isValid:'+ea.isValid()+']: ',ea);T&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:n,errors:ea.error}));wa(g,ea.isValid())})):/^(true)$/i.test(g.target.dataset.ginaFormLiveCheckEnabled)||wa(g,!0)},wa=function(k,b){$formInstance=
null;k instanceof HTMLFormElement?(k=k.getAttribute('id'),$formInstance=v.$forms[k]):$formInstance=k;'undefined'==typeof $formInstance.submitTrigger?console.warn('This might be normal, so do not worry if this form is handled by your javascript: `'+$formInstance.id+'`\nGina could not complete `updateSubmitTriggerState()`: `submitTrigger` might not be attached to form instance `'+$formInstance.id+'`\nTo disable this warning, You just need to disable `Form Live Checking on your form by adding to your <form>: `data-gina-form-live-check-enabled=false``'):
document.getElementById($formInstance.submitTrigger)&&(/true/i.test(b)?document.getElementById($formInstance.submitTrigger).disabled=!1:document.getElementById($formInstance.submitTrigger).disabled=!0)},La=function(k,b,g){'undefined'==typeof g&&(g=!1);var n={},A={},z=k.id||k.getAttribute('id');'undefined'==typeof b&&(b='undefined'!=typeof v.$forms[z].rules&&0<v.$forms[z].rules.count()?v.$forms[z].rules:null,b||'undefined'==typeof gina.validator.$forms[z]||(b=gina.validator.$forms[z].rules));for(var C=
0,V=k.length;C<V;++C){if(g)switch(k[C].tagName.toLowerCase()){case 'input':/^(hidden|text)$/i.test(k[C].type)&&(k[C].value=k[C].defaultValue)}if(/button/i.test(k[C].tagName)&&'undefined'!=typeof k[C].type&&/submit/i.test(k[C].type)||/a/i.test(k[C].tagName)&&'undefined'!=typeof k[C].dataset.ginaFormSubmit&&/^true$/i.test(k[C].dataset.ginaFormSubmit))/a/i.test(k[C].tagName)&&'undefined'==typeof k[C].form&&(k[C].form={id:z}),'undefined'==typeof k[C].dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof v.$forms[z]&&
'undefined'==typeof v.$forms[z].submitTrigger&&'undefined'!=typeof k[C].form.id&&z==k[C].form.id&&(v.$forms[z].submitTrigger=k[C].id||k[C].getAttribute('id'),k[C].dataset.ginaFormSubmitTriggerFor=z);var O=k[C].getAttribute('name');var ba=k[C].disabled||k[C].getAttribute('disabled');ba=/disabled|true/i.test(ba)?!0:!1;if(O&&!ba){if('undefined'!=typeof k[C].type&&'radio'==k[C].type||'undefined'!=typeof k[C].type&&'checkbox'==k[C].type)if(k[C].checked||'undefined'==typeof b[O]&&'undefined'!=k[C].value&&
/^(true|false)$/.test(k[C].value)||!k[C].checked&&'undefined'!=typeof b[O]&&'undefined'!=typeof b[O].isBoolean&&/^(true|false)$/.test(k[C].value))if(/^(true|false)$/.test(k[C].value))if('undefined'==typeof b[O]?b[O]={isBoolean:!0}:'undefined'!=typeof b[O]&&'undefined'==typeof b[O].isBoolean&&(b[O].isBoolean=!0,b[O].isRequired=!0),'radio'==k[C].type){if('undefined'==typeof b[O])throw Error('rule '+O+' is not defined');/^true$/.test(b[O].isBoolean)&&k[C].checked&&(A[O]=/^true$/.test(k[C].value)?!0:
!1)}else A[O]=k[C].value=/^true$/.test(k[C].value)?!0:!1;else A[O]=k[C].value;else b&&'undefined'!=typeof b[O]&&'undefined'!=typeof b[O].isBoolean&&'undefined'!=typeof b[O].isRequired&&!/^(true|false)$/.test(k[C].value)&&(A[O]=!1);else A[O]=k[C].value;'undefined'==typeof n[O]&&(n[O]=k[C],n[O].setAttribute('data-gina-form-errors',''))}}A._length=A.count()||0;return{$fields:n,fields:A,rules:b}},W=function(k,b,g,n){return'undefined'==typeof k[g]||/^(null|NaN|undefined|\s*)$/i.test(b[g])?b[g]:'undefined'!=
typeof k[g].isNumber||'undefined'!=typeof k[g].isInteger||'undefined'!=typeof k[g].isFloat||'undefined'!=typeof k[g].toFloat||'undefined'!=typeof k[g].toInteger?(/,/.test(b[g])&&(b[g]=b[g].replace(/,/g,'.').replace(/\s+/g,'')),b[g]):'boolean'==typeof b[g]?b[g]:k[g].isBoolean?/^true$/i.test(b[g])?!0:!1:'undefined'!=typeof n&&/^true$/i.test(n)?'\\"'+b[g]+'\\"':b[g]},oa=function(k,b){'string'!=typeof k&&(k=JSON.stringify(JSON.clone(k)));k=JSON.parse(k.replace(/"(true|false)"/gi,'$1'));for(let g in b)b[g]=
W(k,b,g);return b},ya=function(k,b,g,n){var A=JSON.parse(k.replace(/"(true|false)"/gi,'$1')),z=JSON.stringify(A);n&&(b=g[Object.getOwnPropertyNames(g)[0]].form,g=La(b,A),delete g.fields._length,b=g.fields,g=g.$fields);n=[];var C=0;for(V in b)n[C]=V,C++;n.sort().reverse();for(let ba=0,P=n.length;ba<P;ba++){var V=n[ba].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');V=new RegExp('\\$'+V,'g');C='\\"'+b[n[ba]]+'\\"';var O=V.test(z);O&&'undefined'!=typeof A[n[ba]]?C=W(A,b,n[ba],!0):O&&console.warn('`'+n[ba]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+
n[ba]+'` to `string`.');k=k.replace(V,C)}if(/\$(.*)/.test(k))for(let ba=0,P=n.length;ba<P;ba++)V=n[ba].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'),V=new RegExp('\\$'+V,'g'),C=''!=g[n[ba]].value?'\\"'+g[n[ba]].value+'\\"':'\\"\\"',(O=V.test(z))&&'undefined'!=typeof A[n[ba]]?C=W(A,b,n[ba],!0):O&&console.warn('`'+n[ba]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+n[ba]+'` to `string`.'),k=k.replace(V,C||g[n[ba]].checked);return JSON.parse(k)},Oa=function(k,
b,g,n,A){delete b._length;var z=JSON.stringify(n);b=oa(z,b);/\$(.*)/.test(z)&&(n=!/^form$/i.test(k.tagName)&&1==g.count()&&/true/i.test(k.form.dataset.ginaFormLiveCheckEnabled)?!0:!1,n=ya(z,b,g,n));var C=null,V=z=null,O=!1,ba=0;b.count();var P=!1,r=null,fa=null,ta=null,ka=0,ia=null,Ba=null,za=null,bb=function(Za,jb,ea){if('undefined'==typeof jb[Za]){skipTest=!1;for(var Z in jb)if(!/^_comment$/i.test(Z)&&/^\//.test(Z)&&(ia=Z.match(/\/(.*)\//).pop(),Ba=Z.replace('/'+ia+'/',''),ia=ia.replace(/\[/g,'\\[').replace(/\]/g,
'\\]'),ia=new RegExp(ia,Ba),ia.test(Za))){skipTest=!0;jb[Za]=jb[Z];break}if('undefined'==typeof jb[Za])return}var ha=Object.getOwnPropertyNames(jb)||[];Z=0;var pa=ha.length;if(0<pa)for(;Z<pa;)'undefined'!=typeof jb[ha[Z]].exclude&&/^true$/i.test(jb[ha[Z]].exclude)&&(ha.splice(Z,1),pa--,Z--),Z++;for(var Pa in jb[Za])if('function'==typeof Wa[Za][Pa]){/^((is)\d+|is$)/.test(Pa)&&'undefined'==typeof Wa[Za][Pa]&&(Wa[Za][Pa]=function(){},Wa[Za][Pa]=Y(Wa[Za][Pa],Wa[Za][Pa.replace(/\d+/,'')]),Wa[Za][Pa].setAlias=
function($a){this._currentValidatorAlias=$a}(Pa));try{if(Array.isArray(jb[Za][Pa])){za=JSON.clone(jb[Za][Pa]);if(/\$[\-\w\[\]]*/.test(za[0])){var eb=za[0].match(/\$[\-\w\[\]]*/g);Z=0;for(var hb=eb.length;Z<hb;++Z)za[0]=za[0].replace(eb[Z],Wa[eb[Z].replace('$','')].value)}Wa[Za][Pa].apply(Wa[Za],za)}else if(/^query$/.test(Pa)){r=g[Za];fa=r.getAttribute('id');ta='asyncCompleted.'+fa;var Ma=0,wb=!1;if('undefined'!=typeof gina.events[ta]){console.debug('event `'+ta+'` already added');ka=0;break}++ka;
addListener(gina,r,ta,function($a){$a.preventDefault();Ma++;--ka;var pb=Object.getOwnPropertyNames(jb[Za]);pb[pb.length-1]==Pa&&(P=!0);pb='asyncCompleted.'+$a.target.getAttribute('id');if(!/true/.test(wb)){Wa[Za]=$a.detail;var nb=k;/^form$/i.test(k.tagName)||(nb=k.form);var qb=nb.getAttribute('id');if(P&&0>=ka&&!wb&&(wb=!0,removeListener(gina,$a.target,pb),A._data=Wa.toData(),A._errors=Wa.getErrors(Za),A._errors&&0<A._errors.count())){'undefined'==typeof v.$forms[qb].errors&&(v.$forms[qb].errors=
{});v.$forms[qb].errors[Za]=A._errors[Za];if(!mb&&/^true|false$/i.test(v.$forms[qb].isValidating)||''!=Wa[Za].target.value)x(ib[Za]),F(nb,A._errors,A._data,Za),wa(nb,mb);T&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:qb,errors:v.$forms[qb].errors||{}}));triggerEvent(gina,nb,'validated.'+qb,A);return}$a=!1;var mb=null;1==ha.length||ha[ha.length-1]==Za?(mb=0<A._errors.count()?!1:!0,!mb&&/^true|false$/i.test(v.$forms[qb].isValidating)&&
(v.$forms[qb].errors=U(A._errors,v.$forms[qb].errors),x(ib[Za]),F(nb,A._errors,A._data,Za),wa(nb,mb)),triggerEvent(gina,nb,'validated.'+qb,A)):/^true$/i.test(v.$forms[qb].isValidating)&&1<ha.length&&ha[ha.length-1]!=Za&&($a=!0);$a&&Oa(nb,Mb,ib,jb,function(Qb){v.$forms[qb].isValidating=!1;mb=Qb.isValid();T&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:qb,errors:Qb.error||{}}));F(nb,Qb.error,Qb.data,Za);
wa(nb,mb)})}});Wa[Za][Pa](jb[Za][Pa]);continue}else Wa[Za][Pa](jb[Za][Pa]);delete ea[Za]}catch($a){if('conditions'==Pa)throw Error('[ ginaFormValidator ] could not evaluate `'+Za+'->'+Pa+'()` where `conditions` must be a `collection` (Array)\nStack:\n'+$a);throw Error('[ ginaFormValidator ] could not evaluate `'+Za+'->'+Pa+'()`\nStack:\n'+$a);}}},Wa=null,rb={},Bb=!1;L?/^form$/i.test(k.tagName)?(C=k.getAttribute('id'),z='validated.'+C,v.$forms[C].fields=b,'undefined'!=typeof k.eventData&&'undefined'!=
typeof k.eventData.error&&delete k.eventData.error,Wa=new m(b,g,u)):(Bb=!0,C=k.form.getAttribute('id')||k.form.target.getAttribute('id'),z='validated.'+C,v.$forms[C].fields=b,Wa=new m(b,g,u,v.$forms[C].fieldsSet)):Wa=new m(b,null,u);var Mb=null,ib=null;if(Bb){Bb=k.form.getAttribute('id');var Db=La(v.$forms[Bb].target,v.$forms[Bb].rules,!1);Mb=oa(JSON.stringify(v.$forms[Bb].rules),JSON.clone(Db.fields));ib=Db.$fields}else Mb=JSON.clone(b),ib=g;Bb='undefined'!=typeof n?JSON.clone(n):{};var Wb=function(Za,
jb,ea,Z,ha,pa,Pa,eb){var hb=null;if('undefined'!=typeof pa)for(var Ma in Z)if(L&&'undefined'==typeof ha[Ma])console.warn('field `'+Ma+'` found for your form rule ('+Za.id+'), but not found in $field collection.\nPlease, check your HTML or remove `'+Ma+'` declaration from your rule if this is a mistake.');else{L&&ha[Ma].getAttribute('data-gina-form-element-group')&&'undefined'!=typeof pa[Ma]&&'undefined'!=typeof pa[Ma].exclude&&pa[Ma].exclude&&!ha[Ma].disabled&&(pa[Ma].exclude=!1);var wb='undefined'!=
typeof pa['_case_'+Ma]?!0:!1;if(L&&'input'==ha[Ma].tagName.toLowerCase()&&/(checkbox)/i.test(ha[Ma].getAttribute('type')))if(!ha[Ma].checked&&'undefined'!=typeof pa[Ma]&&'undefined'!=typeof pa[Ma].isRequired&&/^(false)$/i.test(pa[Ma].isRequired)||ha[Ma].disabled)pa[Ma]={exclude:!0};else if(!ha[Ma].checked&&'undefined'==typeof pa[Ma])continue;for(var $a in pa)if(/^_case_/.test($a)&&'undefined'!=typeof pa[$a].conditions&&(!Array.isArray(pa[$a].conditions)||pa[$a].conditions.length)&&'undefined'!=typeof pa[$a].conditions[0].rules&&
'undefined'!=typeof pa[$a].conditions&&Array.isArray(pa[$a].conditions))if(hb=$a.replace('_case_',''),'undefined'==typeof ib[hb])console.warn('Found case `'+$a+'` but field `'+hb+'` is misssing in the dom.\n You should add `'+hb+'` element to your form in order to allow Validator to process this case.');else{'undefined'==typeof jb[hb]&&(jb[hb]=ib[hb].value);var pb=jb[hb];L&&('true'==Z[Ma]?pb=!0:'false'==Z[Ma]&&(pb=!1));for(var nb=0,qb=pa[$a].conditions.length;nb<qb;++nb)if(pa[$a].conditions[nb].case==
pb)for(var mb in pa[$a].conditions[nb].rules)if(!/^_comment$/i.test(mb)&&mb!=hb&&ha[mb])if(Ma==mb||/^\//.test(mb)||'undefined'!=typeof Z[mb]||'undefined'==typeof jb[mb])if(/^\//.test(mb)){if(ia=mb.match(/\/(.*)\//).pop(),Ba=mb.replace('/'+ia+'/',''),ia=ia.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),ia=new RegExp(ia,Ba),ia.test(Ma)){if(pa[$a].conditions[nb].case==pb||/^\//.test(pa[$a].conditions[nb].case)&&(new RegExp(pa[$a].conditions[nb].case)).test(pb))Qb='undefined'!=typeof pa[mb]?pa[mb]:{},pa[mb]=
U(pa[$a].conditions[nb].rules[mb],Qb);hb!=mb&&'undefined'!=typeof pa[mb]&&bb(mb,pa,Z)}}else'undefined'!=typeof pa[$a].conditions[nb].rules[mb]&&(caseField=mb,pb=Z[caseField],'undefined'==typeof ha[caseField]?console.warn('ignoring case `'+caseField+'`: field `NaN'):(L&&/^(true|false)$/i.test(pb)&&'undefined'!=typeof pa[caseField]&&'undefined'!=typeof pa[caseField].isBoolean&&/^(true)$/i.test(pa[caseField].isBoolean)&&(pb=/^(true)$/i.test(pb)?!0:!1),'undefined'!=typeof pa[$a].conditions[nb].rules[mb]&&
(Qb='undefined'!=typeof pa[$a].conditions[nb].rules[mb]?pa[$a].conditions[nb].rules[mb]:{},pa[mb]=Qb),hb!=mb&&'undefined'!=typeof pa[mb]&&'undefined'!=typeof Z[mb]&&bb(mb,pa,Z)));else{Z[mb]=jb[mb];var Qb='undefined'!=typeof pa[mb]?pa[mb]:{};pa[mb]=U(pa[$a].conditions[nb].rules[mb],Qb);bb(mb,pa,Z)}}if(hb!=Ma&&('undefined'!=typeof pa[Ma]&&bb(Ma,pa,jb),wb)){++eb;wb=pa['_case_'+Ma].conditions;if(!wb)throw Error('[ ginaFormValidator ] case `_case_'+Ma+'` found without `condition(s)` !\nPlease, check your delcaration for `_case_'+
Ma+'`');$a=0;for(nb=wb.length;$a<nb;++$a)if(pb=jb[Ma],L&&('true'==Z[Ma]?pb=!0:'false'==Z[Ma]&&(pb=!1)),wb[$a]['case']===pb||Array.isArray(wb[$a]['case'])&&-1<wb[$a]['case'].indexOf(pb)||/^\//.test(wb[$a]['case'])){Qb={};if('undefined'==typeof wb[$a].rules[Ma]&&'undefined'==typeof jb[Ma]||ha[Ma].disabled)wb[$a].rules[Ma]={exclude:!0};for(var Hb in wb[$a].rules)if(!/^_comment$/i.test(Hb))if(/^\//.test(Hb)){ia=Hb.match(/\/(.*)\//).pop();Ba=Hb.replace('/'+ia+'/','');ia=ia.replace(/\[/g,'\\[').replace(/\]/g,
'\\]');ia=new RegExp(ia,Ba);for(var Lb in ha)ia.test(Lb)&&(/^\//.test(wb[$a]['case'])?(ia=wb[$a]['case'].match(/\/(.*)\//).pop(),Ba=wb[$a]['case'].replace('/'+ia+'/',''),ia=new RegExp(ia,Ba),ia.test(pb)&&(Qb[Lb]=wb[$a].rules[Hb])):Qb[Lb]=wb[$a].rules[Hb],'undefined'==typeof Z[Lb]&&'undefined'!=typeof ha[Lb]&&'undefined'!=typeof ha[Lb].value&&(Z[Lb]=ha[Lb].value,L&&/(true|false)/i.test(Z[Lb])&&('true'==Z[Lb]?Z[Lb]=!0:'false'==Z[Lb]&&(Z[Lb]=!1)),Wa.addField(Lb,Z[Lb]),'undefined'!=typeof ea[Lb]&&(Qb[Lb]=
U(Qb[Lb],ea[Lb]))))}else/^\//.test(wb[$a]['case'])?(ia=wb[$a]['case'].match(/\/(.*)\//).pop(),Ba=wb[$a]['case'].replace('/'+ia+'/',''),ia=ia.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),ia=new RegExp(ia,Ba),ia.test(pb)&&(Qb[Hb]=wb[$a].rules[Hb])):Qb[Hb]=wb[$a].rules[Hb],'undefined'==typeof Z[Hb]&&'undefined'!=typeof ha[Hb]&&'undefined'!=typeof ha[Hb].value&&(Z[Hb]=ha[Hb].value,L&&/(true|false)/i.test(Z[Hb])&&('true'==Z[Hb]?Z[Hb]=!0:'false'==Z[Hb]&&(Z[Hb]=!1)),Wa.addField(Hb,Z[Hb]),'undefined'!=typeof ea[Hb]&&
(Qb[Hb]=U(Qb[Hb],ea[Hb])));++ba;if(L)Wb(Za,jb,ea,Z,ha,Qb,Pa,eb);else return Wb(Za,jb,ea,Z,ha,Qb,Pa,eb)}--eb}}--ba;if(0>=eb&&0>ba){jb=Wa.getErrors();for(Ma in jb){for(rule in jb[Ma])rb[Ma]||(rb[Ma]=''),0>rb[Ma].indexOf(rule)&&(rb[Ma]+=rule+' ');L&&ha[Ma].setAttribute('data-gina-form-errors',rb[Ma].substr(0,rb[Ma].length-1))}try{V=Na(Wa.toData()),T&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.validated||(gina.forms.validated={}),gina.forms.validated[C]||(gina.forms.validated[C]=
{}),window.ginaToolbar.update('forms',{id:C,validated:V}))}catch(Bc){throw Bc;}P=!0;if(!O&&0>=ka)if('undefined'!=typeof Pa&&'function'===typeof Pa)Pa._errors=Wa.getErrors(),Pa._data=Wa.toData(),triggerEvent(gina,Za,'validated.'+C,Pa);else return O=!0,{isValid:Wa.isValid,error:jb,data:V}}};L&&addListener(gina,k,z,function(Za){Za.preventDefault();if(!O){O=!0;P=!1;ka=0;var jb=Za.detail,ea=jb._data||Wa.toData(),Z=jb._errors||Wa.getErrors()||null;console.debug('instance errors: ',v.$forms[C].errors,' VS cbErrors: ',
Z,Wa.isValid(),' VS d.getErrors(): ',Wa.getErrors());0<Z.count()&&Wa.isValid()&&(Wa.isValid=function(){return!1});jb({isValid:Wa.isValid,error:Z,data:Na(ea)});removeListener(gina,Za.target,'validated.'+Za.target.id)}});if(L)Wb(k,Mb,Bb,b,g,n,A,0);else return Wb(k,Mb,Bb,b,g,n,A,0)};return L?Ta(E):p(E,M,da)}'undefined'!==typeof module&&module.exports?module.exports=ValidatorPlugin:'function'===typeof define&&define.amd&&define('gina/validator',['utils/events','utils/dom','utils/form-validator'],function(){return ValidatorPlugin});
define('gina/toolbar','require jquery vendor/uuid utils/collection utils/routing gina/storage gina/validator'.split(' '),function(E){var M=E('jquery');M.noConflict();var da=E('utils/routing');E('utils/collection');var Ga=E('gina/storage');return function(){var L=null,T=!1,ra=!1,U=!1,Y,m=(new Ga({bucket:'gina'})).Collection('plugin'),R=null,v=null,qa=!1,Ha=null,Q=null,J=null,u=null,p=null,q='',H=null,I=null,w=null,x='',B=null,F=0,N=0,y=0,S='',X={},xa=null,na=null,Da=null,Ia=null,Ea=null,va=null,Ca=
null,Ta=null,Va=null,Ua=null,zb=null,Ja=null,Na=null,ab=null,Ab=function(){R=M('#gina-toolbar');if(!R.length)return!1;Ha=R.find('.gina-toolbar-tab > a');Q=M('#gina-toolbar-toggle');J=M('#gina-toolbar-panels');u=J.find('.gina-toolbar-panel');H=M('#gina-toolbar-vposition');I=M('#gina-toolbar-hposition');w=H.add(I);B=M('#gina-toolbar-width');R.find('.gina-toolbar-main');xa=M('#gina-toolbar-json');na=M('#gina-toolbar-gina-json');Da=M('#gina-toolbar-toggle-code-raw');$forms=M('form:not(.gina-toolbar-options, .gina-toolbar-content)');
Va=M('#gina-toolbar-data-html');Ua=M('#gina-toolbar-view-html');zb=M('#gina-toolbar-forms-html');Ta=M('#gina-toolbar-configuration-environment-html');Ja=M('#gina-toolbar-code-toggle');R.prepend('<textarea class="gina-toolbar-copy"></textarea>');Na=R.find('.gina-toolbar-copy');v=m.findOne({_name:'toolbar'});v||(v={_name:'toolbar',_version:'1.0.3',_description:'Toolbar settings',_licence:'MIT',_author:[{name:'Fabrice Delaneau',company:'Freelancer'},{name:'Martin-Luther Etouman',company:'Rhinostone'}],
position:'top-right',width:'30',panelId:'#gina-toolbar-data',isCollapsed:!0,isUnfolded:[],debug:{forms:{active:!1,strategy:'frontend'}}},m.insert(v),v=m.findOne({_name:'toolbar'}));'1.0.3'!=v._version&&('1.0.1'>v._version&&(v.isUnfolded||(v.isUnfolded=[]),void 0!=v.codeFolding&&delete v.codeFolding),'undefined'==typeof v.isUnfolded||Array.isArray(v.isUnfolded)||(v.isUnfolded=[]),v._version='1.0.3',v.save(!0));x=v.position;F=v.width;q=v.panelId;qa=v.isCollapsed;R.removeClass('gina-toolbar-hidden');
sb()},db=function(g,n,A){var z=null;try{var C=xa?xa.text():'';''==C||'null'==C?xa.text('Empty'):(Ea=JSON.parse(C),Ca=JSON.parse(na.text()),xa.text(''),Ia||(Ia={jsonObject:JSON.clone(Ea),ginaJsonObject:JSON.clone(Ca)},va={}))}catch(fa){if(C='Could not load'+(g?' [ '+g+' ] ':' ')+'json\n'+(fa.stack||fa.message||fa),xa)xa.text(C);else throw C;}if(Ea){n&&!A?(Ea[g]||(Ea[g]={}),Ea[g]=Ca[g]=n):'data-xhr'==g&&!n&&Ea['data-xhr']?delete Ea['data-xhr']:A&&(Ea=n,Ca=A);b(Ea,'');delete Ea.environment.routing;delete Ca.environment.routing;
delete Ea.environment.reverseRouting;delete Ca.environment.reverseRouting;delete Ea.environment.forms;delete Ca.environment.forms;Ta.html(la(Ea.environment,Ca.environment));z=Ea.data;var V=Ea.view;A=Ea.forms;var O=Ca.data,ba=Ca.view;C=Ca.forms;ra=Y=!1;var P=null,r=!1;/^(view-xhr)$/.test(g)&&(P=!0,V=Ea[g],ba=Ca[g],z=Ea['data-xhr'],O=Ca['data-xhr']);if(!g||/^(data)$/.test(g))Va.html('<ul class="gina-toolbar-code">'+la(z,O,null,P)+'</ul>'),Ua.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),
Ua.html(La(V,ba,null,P,Ua)),z=$forms,zb.html(''),zb.html(oa(A,C,zb,0,z,z.length,P)),zb.find('div.gina-toolbar-section > h2').off('click').on('click',function(fa){fa.preventDefault();M(this).parent().find('ul').first().slideToggle()});if(/^(data-xhr|view-xhr)$/.test(g)){if('undefined'==typeof Ea[g]||!Ea[g]||'null'==Ea[g])return!1;P=!0;r='undefined'!=typeof Ea[g].isXHRViewData?!0:r;r||/^(view-xhr)$/.test(g)||'undefined'==typeof Ea['el-xhr']||(va.data=JSON.clone(Ea[g]));r&&delete Ea[g].isXHRViewData;
/^(data-xhr)$/.test(g)?Va.html('<ul class="gina-toolbar-code">'+la(Ea[g],Ca[g],null,P)+'</ul>'):/^(view-xhr)$/.test(g)&&(Ua.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),Ua.html(La(Ea[g],Ca[g],null,P,Ua)))}/^(el-xhr)$/.test(g)&&(P=!0,z=M('#'+n).find('form:not(.gina-toolbar-options, .gina-toolbar-content)'),zb.html(''),zb.html(oa(A,C,zb,0,z,z.length,
P)),zb.find('div.gina-toolbar-section > h2').off('click').on('click',function(fa){fa.preventDefault();M(this).parent().find('ul').first().slideToggle()}));/^(forms)$/.test(g)&&(ra=P=!0,M('#gina-toolbar-form-'+n.id).length||(z=$forms,zb.html(''),zb.html(oa(A,C,zb,0,z,z.length,P)),zb.find('div.gina-toolbar-section > h2').off('click').on('click',function(fa){fa.preventDefault();M(this).parent().find('ul').first().slideToggle()})),'undefined'!=typeof n.rules&&ya(n.id,'rules',n.rules,P),'undefined'!=typeof n.errors&&
0<n.errors.count()&&ya(n.id,'errors',n.errors,P),'undefined'!=typeof n.sent&&ya(n.id,'sent',n.sent,P));v.currentFile=Ea.file;v.currentFile||(v.currentFile=Ea.file);Ea.file==v.currentFile&&M(document).ready(function(){ra?(T=!0,0<v.isUnfolded.length&&!Y&&(Y=!0,setTimeout(function(){0<v.isUnfolded.length&&cb(v.isUnfolded,v.isUnfolded.length,0)},200))):P?(T=!0,0<v.isUnfolded.length&&!Y&&(Y=!0,cb(v.isUnfolded,v.isUnfolded.length,0))):(T=!1,setTimeout(function(){0<v.isUnfolded.length&&cb(v.isUnfolded,v.isUnfolded.length,
0)},200))})}if(!g||'el-xhr'==g&&!U)U=g&&'el-xhr'==g?!0:!1,W(g)},cb=function(g,n,A){if(A==n)return!1;var z=g[A],C=null;T&&/^xhr-/.test(z)?(z=z.replace(/^xhr-/,''),C=M('.gina-toolbar-xhr-folding-state-'+z)):C=M('.gina-toolbar-folding-state-'+z);Gb(C,function(){A+=1;cb(g,n,A)})},sb=function(){Va.add(Ua).off('click','a').on('click','a',function(n){n.preventDefault();Gb(M(this),null,!0)}).add(zb).off('click','a').on('click','a',function(n){n.preventDefault();Gb(M(this),null,!0)});Ja.off('click').on('click',
function(n){n.preventDefault();Gb('all',null,!0)});Va.add(Ua,zb).off('click','.gina-toolbar-value').on('click','.gina-toolbar-value',function(n){n.preventDefault();try{ab=M(this).text(),Na.text(ab),Na.select(),document.execCommand('copy',!1,null),Na.blur()}catch(A){alert('Please press Ctrl/Cmd+C to copy the value')}});Da.off('click').on('click',function(n){Ea&&window.open('','JSON RAW','width=400,height=100').document.write(JSON.stringify(Ea.data))});Ha.off('click').on('click',function(n){n.preventDefault();
Ha.removeClass('gina-toolbar-active');u.removeClass('gina-toolbar-active');M(this).addClass('gina-toolbar-active');q=M(this).attr('href');p=M(q).addClass('gina-toolbar-active');v.panelId=q;v.save()});Q.off('click').on('click',function(n){n.preventDefault();R.toggleClass('gina-toolbar-collapsed');qa=R.hasClass('gina-toolbar-collapsed');v.isCollapsed=qa;v.save()});w.off('change').on('change',function(n){n.preventDefault();n=H.val();var A=I.val();x=n+'-'+A;Cb(x);v.position=x;v.save()});B.off('change').on('change',
function(n){n.preventDefault();F=B.val();Jb(F);v.width=F;v.save()});M(window).off('resize').on('resize',function(){yb()});M('body').off('keypress').on('keypress',function(n){if(!/INPUT|TEXTAREA/.test(n.target.tagName)){S=n.keyCode?n.keyCode:n.which?n.which:n.charCode;n=new Date;if('undefined'!=typeof X.keynum&&X.keynum==S&&'undefined'!=typeof X.pressTime&&500>n.getTime()-X.pressTime)switch(S){case 103:R.toggle()}X.pressTime=n.getTime();X.keynum=S}});Ha.filter('[href="'+q+'"]').trigger('click');qa||
M('#gina-toolbar-toggle').trigger('click');Cb(x);var g=x.split('-');H.val(g[0]);I.val(g[1]);Jb(F);B.val(F);yb();g=xa?xa.text():'';/^\{\{ (.*) \}\}/.test(g)?k(g,db):db()},Cb=function(g){R.removeClass('gina-toolbar-top-left gina-toolbar-top-right gina-toolbar-bottom-left gina-toolbar-bottom-right').addClass('gina-toolbar-'+g)},Jb=function(g){R.removeClass('gina-toolbar-auto gina-toolbar-100 gina-toolbar-80 gina-toolbar-60 gina-toolbar-50 gina-toolbar-40 gina-toolbar-30').addClass('gina-toolbar-'+g)},
yb=function(){N=window.innerHeight-32;R.find('.gina-toolbar-main').css('max-height',N+'px');var g=p.find('.gina-toolbar-main'),n=g.find('.gina-toolbar-content');y=g.height();y==N?n.addClass('gina-toolbar-content-end'):n.removeClass('gina-toolbar-content-end')},Gb=function(g,n,A){'undefined'==typeof A&&(A=!1);if(void 0!=g&&g.length&&'all'!=g){L=g.attr('class');var z=!1;if(/(gina-toolbar-folding-state-[a-z 0-9_-]+|gina-toolbar-xhr-folding-state-[a-z 0-9_-]+)/i.test(L))if(/gina-toolbar-folding-state-[a-z0-9_-]+/i.test(L)?
L=L.match(/gina-toolbar-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-folding-state-/,''):(z=!0,'undefined'!=typeof L&&(L=L.match(/gina-toolbar-xhr-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-xhr-folding-state-/,'xhr-'))),0>v.isUnfolded.indexOf(L))v.isUnfolded.push(L),v.save(),g.hasClass('gina-toolbar-unfolded')||(g.addClass('gina-toolbar-unfolded'),g.next('ul').slideToggle('fast'));else if(-1<v.isUnfolded.indexOf(L)&&g.hasClass('gina-toolbar-unfolded')){for(var C=new RegExp('^('+
L+')'),V=0,O=v.isUnfolded.length;V<O;++V)C.test(v.isUnfolded[V])&&(!ra&&A||ra&&z||A)&&(v.isUnfolded.splice(V,1),--V);v.save(!0);0>v.isUnfolded.indexOf(L)&&(g.removeClass('gina-toolbar-unfolded'),g.next('ul').slideToggle('fast'))}else g.addClass('gina-toolbar-unfolded'),g.next('ul').slideToggle('fast')}'undefined'!=typeof n&&null!=n&&n()},Kb=function(g){var n={},A=null,z=[],C=0;for(A in g)g.hasOwnProperty(A)&&(z[C]=A,++C);var V=z.length;z.sort();for(C=0;C<V;++C)A=z[C],n[A]=g[A];return n},Ra=function(g,
n){var A='';if('undefined'!=typeof g&&''!=g){var z=g;'string'==typeof g&&(z=g.replace(/(\]\[|\[)/g,'-').replace(/\]/,'').replace(/[^A-Za-z0-9_-]/g,'_'));A+=z+'-'}'undefined'!=typeof n&&''!=n?(g=n,'string'==typeof n&&(g=n.replace(/(\]\[|\[)/g,'-').replace(/\]/,'')),A+=g):A=A.substr(0,A.length-1);return A.trim()},la=function(g,n,A,z,C){var V='';A='undefined'!=typeof A&&null!=A?A.replace(/[^A-Za-z0-9_-]/g,'_'):'';var O='undefined'!=typeof C&&null!=C?C:'',ba='undefined'!=typeof z&&null!=z?'-xhr':'';g=
Kb(g);n=Kb(n);for(var P in g)if('object'!=typeof g[P]||Array.isArray(g[P])||null===g[P])if(Array.isArray(g[P])){A+='-'+P.replace(/[^A-Za-z0-9_-]/g,'_');var r=0<g[P].length||'undefined'!=typeof n[P]&&0<n[P].length?'':' is-empty';V+='<li class="gina-toolbar-collection">';V+='<a href="#" class="gina-toolbar-key gina-toolbar'+ba+'-folding-state-'+Ra(O,P.replace(/[^A-Za-z0-9_-]/g,'_'))+r+'">'+P+' <span>['+g[P].length+']</span></a>';V+='<ul class="gina-toolbar-collection">'+wa(g[P],n[P],A,z,C)+'</ul>';
V+='</li>';A=A.substr(0,A.length-P.length)}else r=null===n[P]?'null':typeof n[P],'undefined'==r?(V+='<li class="gina-toolbar-key-value">',V+='<span class="gina-toolbar-key gina-toolbar-key-added">'+P+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+r+'">'+g[P]+'</span>'):(g[P]!==n[P]&&(V+='<li class="gina-toolbar-key-value gina-toolbar-is-overridden">',V+='<span class="gina-toolbar-key">'+P+':</span> <span class="gina-toolbar-value">'+n[P]+'</span>',V+='</li>'),V+='<li class="gina-toolbar-key-value">',
V+='<span class="gina-toolbar-key">'+P+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+r+'">'+g[P]+'</span>'),V+='</li>';else A+='-'+P.replace(/[^A-Za-z0-9_-]/g,'_'),r=0<g[P].count()||'undefined'!=typeof n[P]&&0<n[P].count()?'':' is-empty',V+='<li class="gina-toolbar-object">',V+='<a href="#" class="gina-toolbar-key gina-toolbar'+ba+'-folding-state-'+Ra(O,P.replace(/[^A-Za-z0-9_-]/g,'_'))+r+'">'+P+' <span>{ }</span></a>',V+='<ul class="gina-toolbar-object">'+la(g[P],n[P],A,
z,C)+'</ul>',V+='</li>',A=A.substr(0,A.length-P.length);return V},wa=function(g,n,A,z,C){var V='';A='undefined'!=typeof A&&null!=A?A:'';var O='undefined'!=typeof C&&null!=C?C:'',ba='undefined'!=typeof z&&null!=z?'-xhr':'';n||=[];for(var P=0,r=g.length;P<r;++P)'object'!=typeof g[P]||Array.isArray(g[P])?Array.isArray(g[P])?(A+='-'+P,''==O&&(O=A),V+='<li class="gina-toolbar-collection">',V+='<a href="#" class="gina-toolbar-key gina-toolbar'+ba+'-folding-state-'+Ra(O,P)+'">'+P+'<span>[ ]</span></a>',
V+='<ul class="gina-toolbar-collection">'+wa(g[P],n[P],A,z,C)+'</ul>',V+='</li>',A=A.substr(0,A.length-P.toString().length)):V+='<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+P+':</span> <span class="gina-toolbar-value">'+g[P]+'</span></li>':(n[P]||(n[P]=g[P]),A+='-'+P,''==O&&(O=A),V+='<li class="gina-toolbar-object">',V+='<a href="#" class="gina-toolbar-key gina-toolbar'+ba+'-folding-state-'+Ra(O,P)+'">'+P+' <span>{ }</span></a>',V+='<ul class="gina-toolbar-object">'+la(g[P],
n[P],A,z,C)+'</ul>',V+='</li>',A=A.substr(0,A.length-P.toString().length-1));return V},La=function(g,n,A,z,C,V){A=null!=A?A.replace(/[^A-Za-z0-9_-]/g,'_'):'';var O='undefined'!=typeof z&&null!=z?'-xhr':'';g=Kb(g);n=Kb(n);V||=C;for(var ba in g){var P=ba;if('object'!=typeof g[ba]||Array.isArray(g[ba])||null===g[ba])if(Array.isArray(g[ba])){var r=M('#gina-toolbar-view-'+A.substr(0,A.length-1));var fa=r.length?!0:!1;!fa||/^html/.test(A)?(r=M('.'+A),fa=A+ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-',r.append('<li class="gina-toolbar-collection"><a href="#" class="gina-toolbar-key gina-toolbar'+
O+'-folding-state-'+Ra(ba.replace(/[^A-Za-z0-9_-]/g,'_'),fa.substr(0,fa.length-1))+'">'+ba+' <span>['+g[ba].length+']</span></a><ul> '+wa(g[ba],n[ba],fa,r.find('li ul.'+A.substr(0,A.length-1)),P)+'</ul></li>')):(fa=A+ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-',r.find('li.'+A.substr(0,A.length-1)+' ul').append('<li class="gina-toolbar-collection"><a class="gina-toolbar-key gina-toolbar'+O+'-folding-state-'+Ra(ba.replace(/[^A-Za-z0-9_-]/g,'_'),fa.substr(0,fa.length-1))+'">'+ba+' <span>['+g[ba].length+']</span></a><ul>'+
wa(g[ba],n[ba],fa,r.find('li ul.'+A.substr(0,A.length-1)),P)+'</ul></li>'));A+=ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-';A=A.substr(0,A.length-ba.length-1)}else if(P=null===n[ba]?'null':typeof n[ba],'undefined'==P)/\-$/.test(A)&&(A=A.substr(0,A.length-1)),A&&C.find('ul.'+A).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key gina-toolbar-key-added">'+ba+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+P+'">'+g[ba]+'</span></li>');else if(g[ba]!==n[ba]){A||(A+=
ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-');try{C.find('ul.'+A).append('<li class="gina-toolbar-key-value gina-toolbar-is-overridden"><span class="gina-toolbar-key">'+ba+':</span> <span class="gina-toolbar-value">'+n[ba]+'</span></li>'),C.find('ul.'+A).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ba+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+P+'">'+g[ba]+'</span></li>')}catch(ta){throw Error('GinaToolbarError: `ul.'+A+'` not found');}}else!A||
/^html\-properties/.test(A)?V.find('.gina-toolbar-properties').append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ba+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+P+'">'+g[ba]+'</span></li>'):V.find('ul.'+A.substr(0,A.length-1)).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ba+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+P+'">'+g[ba]+'</span></li>');else r=M('#gina-toolbar-view-'+A.substr(0,A.length-
1)),(fa=r.length?!0:!1)?(fa=A+ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-',r.find('ul.'+A.substr(0,A.length-1)).append('<li class="gina-toolbar-object"><a href="#" class="gina-toolbar-key gina-toolbar'+O+'-folding-state-'+Ra(ba.replace(/[^A-Za-z0-9_-]/g,'_'),fa.substr(0,fa.length-1))+'">'+ba+' <span>{ }</span></a><ul class="gina-toolbar-object '+fa.substr(0,fa.length-1)+'"></ul></li>'),La(g[ba],n[ba],fa,z,r.find('ul.'+A.substr(0,A.length-1)),V),A+=ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-'):(A+=ba.replace(/[^A-Za-z0-9_-]/g,
'_')+'-','params'==ba?(P='<div id="gina-toolbar-view-'+A.substr(0,A.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+A.substr(0,A.length-1)+'</h2><ul class="'+A.substr(0,A.length-1)+'"></ul></div>',M('#gina-toolbar-view-html-properties').before(P)):/^html/.test(A)||(P='<div id="gina-toolbar-view-'+A.substr(0,A.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+A.substr(0,A.length-1)+'</h2><ul class="'+A.substr(0,A.length-1)+'"></ul></div>',
C.append(P)),La(g[ba],n[ba],A,z,C.find('ul.'+A.substr(0,A.length-1)),V)),A=A.substr(0,A.length-ba.length-1)}return V.html()},W=function(g){g=gina.hasPopinHandler?gina.popin.getActivePopin():null;var n,A=(gina.hasPopinHandler?M('#'+g.id):M('body')).html().match(/404:\[(.+)\](.+)@(.+)"/gm);if(A){var z=0;for(n=A.length;z<n;++z){g=A[z].replace(/"(.*)|"/g,'');var C=g.match(/\[(.*)\]/g,'')[0].replace(/\[|\]/g,'');da.getRouteByUrl(g,C)}}fLen=da.notFound.count();if(0<fLen)for(f in da.notFound)console.warn('(x'+
da.notFound[f].count+') '+f+' => '+da.notFound[f].message)},oa=function(g,n,A,z,C,V,O){if(!V)return!1;for(var ba=C[z].attributes,P,r=C[z].getAttribute('id')||C[z].id,fa=M('<div id="gina-toolbar-form-'+r+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+r+'</h2><ul class="gina-toolbar-section-content gina-toolbar-code" style="display: none;"><li class="gina-toolbar-form-attributes"><h3 class="gina-toolbar-sub-section-title">'+'gina-toolbar-form-attributes'.replace(/gina-toolbar-form-/,
'')+'</h3><ul class="gina-toolbar-code"></ul></li></ul></div>'),ta,ka,ia=null,Ba=0,za=ba.length;Ba<za;++Ba)ta=ba[Ba].name,ka=ba[Ba].nodeValue,/^method$/.test(ta)&&(ka=ka.toUpperCase()),/^class$/.test(ta)&&/\s+/.test(ka)&&(ka='<ul><li>'+ka.replace(/\s+/g,'</li><li>')+'</li></ul>'),/^action$/.test(ta)&&((P='undefined'!=typeof ba.method?ba.method.nodeValue:void 0)||console.warn('[ ToolbarFormHelper::UndefinedMethod : form `'+ba.id.nodeValue+'` method attribute cannot be left undefined !'),P=da.getRouteByUrl(ka,
P),'undefined'!=typeof P&&P||(P={name:'not found',namespace:'not found',param:{control:'not found',file:'not found'}}),ka='<ul><li><span class="gina-toolbar-key">url</span><span class="gina-toolbar-value">'+(ka||'#')+'</span></li><li><span class="gina-toolbar-key">route</span><span class="gina-toolbar-value">'+P.name+'</span></li><li><span class="gina-toolbar-key">namespace</span><span class="gina-toolbar-value">'+(P.namespace||'root controller')+'</span></li><li><span class="gina-toolbar-key">control</span><span class="gina-toolbar-value">'+
P.param.control+'</span></li><li><span class="gina-toolbar-key">file</span><span class="gina-toolbar-value">'+P.param.file+'</span></li><ul>',ia='<li><span class="gina-toolbar-key">'+ta+':</span><span class="gina-toolbar-value">'+ka+'</span></li>'),/^data-gina-form-event/.test(ta)?(P='events',ia=fa.find('.gina-toolbar-form-attributes').find('.gina-toolbar-key-events').length?!0:!1,ta=ta.replace(/^data-gina-form-event-/,''),ia||fa.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+
P+'"><h3 class="gina-toolbar-sub-section-title">'+P+'</h3><ul class="gina-toolbar-code"></ul></li>'),ia='<li><span class="gina-toolbar-key">'+ta+':</span><span class="gina-toolbar-value">'+ka+'</span></li>',fa.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+P+' > ul').append(ia)):(/^action$/.test(ta)||(ia='<li><span class="gina-toolbar-key">'+ta+':</span><span class="gina-toolbar-value">'+ka+'</span></li>'),fa.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-attributes > ul').append(ia));
ba=null;try{var bb=C[z].getAttribute('data-gina-form-rule');ba='undefined'!=typeof bb&&null!=bb?eval('gina.forms.rules.'+bb.replace(/-/g,'.')):eval('gina.forms.rules.'+r.replace(/-/g,'.'))}catch(Wa){}ba&&(P='rules',fa.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+P+'"><h3 class="gina-toolbar-sub-section-title">'+P+'</h3><ul class="gina-toolbar-properties">'+la(ba,ba,r,O,P)+'</ul></li>'));A.append(fa);++z;z<V&&oa(g,n,A,z,C,V,O)},ya=function(g,n,A,z){var C=M('#gina-toolbar-form-'+
g);$section=C.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+n+'> ul');if(0<$section.length){if(0==A.count())return C.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+n).remove(),!1;$section.html(la(A,A,g,z,n))}else C.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+n+'"><h3 class="gina-toolbar-sub-section-title">'+n+'</h3><ul class="gina-toolbar-properties">'+la(A,A,g,z,n)+'</ul></li>');g=C.find('ul.gina-toolbar-section-content');
g.is(':visible')||g.slideToggle()},Oa=function(g,n){return g='<label class="gina-toolbar-input-file"><input type="file" multiple id="'+(g+'">')+n+'</label>'},k=function(g,n){g=Oa('mock','Select your JSON file');Va.html(g);xa.text('');Va.find('input').off('change').on('change',function(A){var z=M(this)[0].files,C=A=null;if(1==z.length)A=M(this)[0].files[0],C=new FileReader,C.addEventListener('load',function(){xa.text(C.result);na.text(C.result);n()},!1),C.readAsBinaryString(A);else{var V=0;C=[];for(var O=
0,ba=z.length;O<ba;++O)switch(A=z[O],!0){case /user/.test(A.name):C[O]=new FileReader;C[O].addEventListener('load',function(P){xa.text(P.currentTarget.result);++V;V==z.length&&n()},!1);C[O].readAsBinaryString(A);break;case /gina/.test(A.name):C[O]=new FileReader,C[O].addEventListener('load',function(P){na.text(P.currentTarget.result);++V;V==z.length&&n()},!1),C[O].readAsBinaryString(A)}}});return!1},b=function(g,n){for(var A in g)'object'==typeof g[A]&&b(g[A],n+A+'-')};this.update=function(g,n){db(g,
n)};this.restore=function(){va&&'undefined'!=typeof va.data&&(Ia.jsonObject.data=va.data);db('data',Ia.jsonObject,Ia.ginaJsonObject);U=!1;da.notFound={}};if('undefined'!=typeof gina.validator)gina.validator.on('initialized',function(){console.log('toolbar validator ready');Ab()});else Ab()}});
define('gina','require vendor/uuid utils/merge utils/events helpers/prototypes helpers/dateFormat gina/toolbar'.split(' '),function(E){E('utils/events');var M=E('utils/merge'),da=E('helpers/dateFormat')();E('helpers/prototypes')({dateFormat:da});var Ga=E('vendor/uuid');window.process||function(L,T,ra,U,Y,m,R){for(m=L[ra]||(L[ra]={});!R&&Y<U.length;)R=L[U[Y++]+'requestAnimationFrame'];m[T]=m[T]||R&&R.bind(L)||L.setImmediate||L.setTimeout}(window,'nextTick','process',['r','webkitR','mozR','msR','oR'],
0);window.getComputedStyle||(window.getComputedStyle=function(L,T){this.el=L;this.getPropertyValue=function(ra){var U=/(\-([a-z]){1})/g;'float'==ra&&(ra='styleFloat');U.test(ra)&&(ra=ra.replace(U,function(Y,m,R){return R.toUpperCase()}));return L.currentStyle[ra]?L.currentStyle[ra]:null};return this});return function(L){this.plugin='gina';var T='gina-'+Ga.v1(),ra=document,U;document.id=T;T={id:T,isFrameworkLoaded:!1,hasValidator:!1,hasPopinHandler:!1,config:{},registeredEvents:{},events:{},setOptions:function(Y){U=
M(U,Y,!0)}};'undefined'!=typeof parent.window.gina&&(window.gina=M(window.gina||{},parent.window.gina));T=M(window.gina||{},T);registerEvents(this.plugin,['ginaloaded','ready']);triggerEvent(L,ra,'ginaloaded',T)}});
!function(E,M){'object'==typeof exports&&'undefined'!=typeof module?module.exports=M():'function'==typeof define&&define.amd?define('vendor/engine.io',M):(E='undefined'!=typeof globalThis?globalThis:E||self).eio=M()}(this,function(){function E(la){return E='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(wa){return typeof wa}:function(wa){return wa&&'function'==typeof Symbol&&wa.constructor===Symbol&&wa!==Symbol.prototype?'symbol':typeof wa},E(la)}function M(la,wa){if(!(la instanceof
wa))throw new TypeError('Cannot call a class as a function');}function da(la,wa){for(var La=0;La<wa.length;La++){var W=wa[La];W.enumerable=W.enumerable||!1;W.configurable=!0;'value'in W&&(W.writable=!0);Object.defineProperty(la,W.key,W)}}function Ga(la,wa,La){return wa&&da(la.prototype,wa),La&&da(la,La),la}function L(){return L=Object.assign||function(la){for(var wa=1;wa<arguments.length;wa++){var La=arguments[wa],W;for(W in La)Object.prototype.hasOwnProperty.call(La,W)&&(la[W]=La[W])}return la},
L.apply(this,arguments)}function T(la,wa){if('function'!=typeof wa&&null!==wa)throw new TypeError('Super expression must either be null or a function');la.prototype=Object.create(wa&&wa.prototype,{constructor:{value:la,writable:!0,configurable:!0}});wa&&U(la,wa)}function ra(la){return ra=Object.setPrototypeOf?Object.getPrototypeOf:function(wa){return wa.__proto__||Object.getPrototypeOf(wa)},ra(la)}function U(la,wa){return U=Object.setPrototypeOf||function(La,W){return La.__proto__=W,La},U(la,wa)}
function Y(la){if(void 0===la)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return la}function m(la){var wa=function(){if('undefined'==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(La){return!1}}();return function(){var La=ra(la);if(wa){var W=ra(this).constructor;La=Reflect.construct(La,arguments,W)}else La=La.apply(this,
arguments);return!La||'object'!=typeof La&&'function'!=typeof La?Y(this):La}}function R(la,wa,La){return R='undefined'!=typeof Reflect&&Reflect.get?Reflect.get:function(W,oa,ya){for(;!Object.prototype.hasOwnProperty.call(W,oa)&&null!==(W=ra(W)););if(W)return oa=Object.getOwnPropertyDescriptor(W,oa),oa.get?oa.get.call(ya):oa.value},R(la,wa,La||la)}function v(la){la=la.xdomain;try{if('undefined'!=typeof XMLHttpRequest&&(!la||I))return new XMLHttpRequest}catch(wa){}if(!la)try{return new (w[['Active'].concat('Object').join('X')])('Microsoft.XMLHTTP')}catch(wa){}}
function qa(la){for(var wa=arguments.length,La=Array(1<wa?wa-1:0),W=1;W<wa;W++)La[W-1]=arguments[W];return La.reduce(function(oa,ya){return la.hasOwnProperty(ya)&&(oa[ya]=la[ya]),oa},{})}function Ha(la,wa){wa.useNativeTimers?(la.setTimeoutFn=x.bind(w),la.clearTimeoutFn=B.bind(w)):(la.setTimeoutFn=setTimeout.bind(w),la.clearTimeoutFn=clearTimeout.bind(w))}function Q(la){if(la){for(var wa in Q.prototype)la[wa]=Q.prototype[wa];return la}}function J(la){var wa='';do wa=Va[la%64]+wa,la=Math.floor(la/64);
while(0<la);return wa}function u(){var la=J(+new Date);return la!==Ia?(zb=0,Ia=la):la+'.'+J(zb++)}function p(){}function q(){for(var la in db.requests)db.requests.hasOwnProperty(la)&&db.requests[la].abort()}var H={};try{H='undefined'!=typeof XMLHttpRequest&&'withCredentials'in new XMLHttpRequest}catch(la){H=!1}var I=H,w='undefined'!=typeof self?self:'undefined'!=typeof window?window:Function('return this')(),x=setTimeout,B=clearTimeout;Q.prototype.on=Q.prototype.addEventListener=function(la,wa){return this._callbacks=
this._callbacks||{},(this._callbacks['$'+la]=this._callbacks['$'+la]||[]).push(wa),this};Q.prototype.once=function(la,wa){function La(){this.off(la,La);wa.apply(this,arguments)}return La.fn=wa,this.on(la,La),this};Q.prototype.off=Q.prototype.removeListener=Q.prototype.removeAllListeners=Q.prototype.removeEventListener=function(la,wa){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var La,W=this._callbacks['$'+la];if(!W)return this;if(1==arguments.length)return delete this._callbacks['$'+
la],this;for(var oa=0;oa<W.length;oa++)if((La=W[oa])===wa||La.fn===wa){W.splice(oa,1);break}return 0===W.length&&delete this._callbacks['$'+la],this};Q.prototype.emit=function(la){this._callbacks=this._callbacks||{};for(var wa=Array(arguments.length-1),La=this._callbacks['$'+la],W=1;W<arguments.length;W++)wa[W-1]=arguments[W];if(La){W=0;for(var oa=(La=La.slice(0)).length;W<oa;++W)La[W].apply(this,wa)}return this};Q.prototype.emitReserved=Q.prototype.emit;Q.prototype.listeners=function(la){return this._callbacks=
this._callbacks||{},this._callbacks['$'+la]||[]};Q.prototype.hasListeners=function(la){return!!this.listeners(la).length};var F=Object.create(null);F.open='0';F.close='1';F.ping='2';F.pong='3';F.message='4';F.upgrade='5';F.noop='6';var N=Object.create(null);Object.keys(F).forEach(function(la){N[F[la]]=la});var y={type:'error',data:'parser error'},S='function'==typeof Blob||'undefined'!=typeof Blob&&'[object BlobConstructor]'===Object.prototype.toString.call(Blob),X='function'==typeof ArrayBuffer,
xa=function(la,wa,La){var W=la.type;la=la.data;return S&&la instanceof Blob?wa?La(la):na(la,La):X&&(la instanceof ArrayBuffer||('function'==typeof ArrayBuffer.isView?ArrayBuffer.isView(la):la&&la.buffer instanceof ArrayBuffer))?wa?La(la):na(new Blob([la]),La):La(F[W]+(la||''))},na=function(la,wa){var La=new FileReader;return La.onload=function(){var W=La.result.split(',')[1];wa('b'+W)},La.readAsDataURL(la)},Da='undefined'==typeof Uint8Array?[]:new Uint8Array(256);for(H=0;64>H;H++)Da['ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.charCodeAt(H)]=
H;var Ia,Ea='function'==typeof ArrayBuffer,va=function(la,wa){if('string'!=typeof la)return{type:'message',data:Ca(la,wa)};var La=la.charAt(0);if('b'===La){la=la.substring(1);if(Ea){var W=.75*la.length;La=la.length;var oa=0;'='===la[la.length-1]&&(W--,'='===la[la.length-2]&&W--);var ya=new ArrayBuffer(W),Oa=new Uint8Array(ya);for(W=0;W<La;W+=4){var k=Da[la.charCodeAt(W)];var b=Da[la.charCodeAt(W+1)];var g=Da[la.charCodeAt(W+2)];var n=Da[la.charCodeAt(W+3)];Oa[oa++]=k<<2|b>>4;Oa[oa++]=(15&b)<<4|g>>
2;Oa[oa++]=(3&g)<<6|63&n}wa=Ca(ya,wa)}else wa={base64:!0,data:la};wa={type:'message',data:wa}}else wa=N[La]?1<la.length?{type:N[La],data:la.substring(1)}:{type:N[La]}:y;return wa},Ca=function(la,wa){return'blob'===wa&&la instanceof ArrayBuffer?new Blob([la]):la},Ta=String.fromCharCode(30);H=function(la){function wa(W){var oa;return M(this,wa),(oa=La.call(this)).writable=!1,Ha(Y(oa),W),oa.opts=W,oa.query=W.query,oa.readyState='',oa.socket=W.socket,oa}T(wa,la);var La=m(wa);return Ga(wa,[{key:'onError',
value:function(W,oa){W=Error(W);return W.type='TransportError',W.description=oa,R(ra(wa.prototype),'emit',this).call(this,'error',W),this}},{key:'open',value:function(){return'closed'!==this.readyState&&''!==this.readyState||(this.readyState='opening',this.doOpen()),this}},{key:'close',value:function(){return'opening'!==this.readyState&&'open'!==this.readyState||(this.doClose(),this.onClose()),this}},{key:'send',value:function(W){'open'===this.readyState&&this.write(W)}},{key:'onOpen',value:function(){this.readyState=
'open';this.writable=!0;R(ra(wa.prototype),'emit',this).call(this,'open')}},{key:'onData',value:function(W){W=va(W,this.socket.binaryType);this.onPacket(W)}},{key:'onPacket',value:function(W){R(ra(wa.prototype),'emit',this).call(this,'packet',W)}},{key:'onClose',value:function(){this.readyState='closed';R(ra(wa.prototype),'emit',this).call(this,'close')}}]),wa}(Q);for(var Va='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''),Ua={},zb=0,Ja=0;64>Ja;Ja++)Ua[Va[Ja]]=Ja;u.encode=
J;u.decode=function(la){var wa=0;for(Ja=0;Ja<la.length;Ja++)wa=64*wa+Ua[la.charAt(Ja)];return wa};var Na={encode:function(la){var wa='',La;for(La in la)la.hasOwnProperty(La)&&(wa.length&&(wa+='&'),wa+=encodeURIComponent(La)+'='+encodeURIComponent(la[La]));return wa},decode:function(la){var wa={};la=la.split('&');for(var La=0,W=la.length;La<W;La++){var oa=la[La].split('=');wa[decodeURIComponent(oa[0])]=decodeURIComponent(oa[1])}return wa}},ab=function(la){function wa(){var W;return M(this,wa),(W=La.apply(this,
arguments)).polling=!1,W}T(wa,la);var La=m(wa);return Ga(wa,[{key:'doOpen',value:function(){this.poll()}},{key:'pause',value:function(W){var oa=this;this.readyState='pausing';var ya=function(){oa.readyState='paused';W()};if(this.polling||!this.writable){var Oa=0;this.polling&&(Oa++,this.once('pollComplete',function(){--Oa||ya()}));this.writable||(Oa++,this.once('drain',function(){--Oa||ya()}))}else ya()}},{key:'poll',value:function(){this.polling=!0;this.doPoll();this.emit('poll')}},{key:'onData',
value:function(W){var oa=this;(function(ya,Oa){ya=ya.split(Ta);for(var k=[],b=0;b<ya.length;b++){var g=va(ya[b],Oa);if(k.push(g),'error'===g.type)break}return k})(W,this.socket.binaryType).forEach(function(ya){if('opening'===oa.readyState&&'open'===ya.type&&oa.onOpen(),'close'===ya.type)return oa.onClose(),!1;oa.onPacket(ya)});'closed'!==this.readyState&&(this.polling=!1,this.emit('pollComplete'),'open'===this.readyState&&this.poll())}},{key:'doClose',value:function(){var W=this,oa=function(){W.write([{type:'close'}])};
'open'===this.readyState?oa():this.once('open',oa)}},{key:'write',value:function(W){var oa=this;this.writable=!1;(function(ya,Oa){var k=ya.length,b=Array(k),g=0;ya.forEach(function(n,A){xa(n,!1,function(z){b[A]=z;++g===k&&Oa(b.join(Ta))})})})(W,function(ya){oa.doWrite(ya,function(){oa.writable=!0;oa.emit('drain')})})}},{key:'uri',value:function(){var W=this.query||{},oa=this.opts.secure?'https':'http',ya='';!1!==this.opts.timestampRequests&&(W[this.opts.timestampParam]=u());this.supportsBinary||W.sid||
(W.b64=1);this.opts.port&&('https'===oa&&443!==Number(this.opts.port)||'http'===oa&&80!==Number(this.opts.port))&&(ya=':'+this.opts.port);W=Na.encode(W);return oa+'://'+(-1!==this.opts.hostname.indexOf(':')?'['+this.opts.hostname+']':this.opts.hostname)+ya+this.opts.path+(W.length?'?'+W:'')}},{key:'name',get:function(){return'polling'}}]),wa}(H),Ab=null!=(new v({xdomain:!1})).responseType;ab=function(la){function wa(W){var oa;if(M(this,wa),oa=La.call(this,W),'undefined'!=typeof location){var ya='https:'===
location.protocol,Oa=location.port;Oa||=ya?'443':'80';oa.xd='undefined'!=typeof location&&W.hostname!==location.hostname||Oa!==W.port;oa.xs=W.secure!==ya}W=W&&W.forceBase64;return oa.supportsBinary=Ab&&!W,oa}T(wa,la);var La=m(wa);return Ga(wa,[{key:'request',value:function(){var W=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return L(W,{xd:this.xd,xs:this.xs},this.opts),new db(this.uri(),W)}},{key:'doWrite',value:function(W,oa){var ya=this;W=this.request({method:'POST',data:W});W.on('success',
oa);W.on('error',function(Oa){ya.onError('xhr post error',Oa)})}},{key:'doPoll',value:function(){var W=this,oa=this.request();oa.on('data',this.onData.bind(this));oa.on('error',function(ya){W.onError('xhr poll error',ya)});this.pollXhr=oa}}]),wa}(ab);var db=function(la){function wa(W,oa){var ya;return M(this,wa),Ha(Y(ya=La.call(this)),oa),ya.opts=oa,ya.method=oa.method||'GET',ya.uri=W,ya.async=!1!==oa.async,ya.data=void 0!==oa.data?oa.data:null,ya.create(),ya}T(wa,la);var La=m(wa);return Ga(wa,[{key:'create',
value:function(){var W=this,oa=qa(this.opts,'agent','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','autoUnref');oa.xdomain=!!this.opts.xd;oa.xscheme=!!this.opts.xs;var ya=this.xhr=new v(oa);try{ya.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var Oa in ya.setDisableHeaderCheck&&ya.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(Oa)&&ya.setRequestHeader(Oa,this.opts.extraHeaders[Oa])}catch(k){}if('POST'===this.method)try{ya.setRequestHeader('Content-type',
'text/plain;charset=UTF-8')}catch(k){}try{ya.setRequestHeader('Accept','*/*')}catch(k){}'withCredentials'in ya&&(ya.withCredentials=this.opts.withCredentials);this.opts.requestTimeout&&(ya.timeout=this.opts.requestTimeout);ya.onreadystatechange=function(){4===ya.readyState&&(200===ya.status||1223===ya.status?W.onLoad():W.setTimeoutFn(function(){W.onError('number'==typeof ya.status?ya.status:0)},0))};ya.send(this.data)}catch(k){return void this.setTimeoutFn(function(){W.onError(k)},0)}'undefined'!=
typeof document&&(this.index=wa.requestsCount++,wa.requests[this.index]=this)}},{key:'onSuccess',value:function(){this.emit('success');this.cleanup()}},{key:'onData',value:function(W){this.emit('data',W);this.onSuccess()}},{key:'onError',value:function(W){this.emit('error',W);this.cleanup(!0)}},{key:'cleanup',value:function(W){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=p,W)try{this.xhr.abort()}catch(oa){}'undefined'!=typeof document&&delete wa.requests[this.index];this.xhr=
null}}},{key:'onLoad',value:function(){var W=this.xhr.responseText;null!==W&&this.onData(W)}},{key:'abort',value:function(){this.cleanup()}}]),wa}(Q);if(db.requestsCount=0,db.requests={},'undefined'!=typeof document)'function'==typeof attachEvent?attachEvent('onunload',q):'function'==typeof addEventListener&&addEventListener('onpagehide'in w?'pagehide':'unload',q,!1);var cb='function'==typeof Promise&&'function'==typeof Promise.resolve?function(la){return Promise.resolve().then(la)}:function(la,wa){return wa(la,
0)},sb=w.WebSocket||w.MozWebSocket,Cb='undefined'!=typeof navigator&&'string'==typeof navigator.product&&'reactnative'===navigator.product.toLowerCase(),Jb={websocket:function(la){function wa(W){var oa;return M(this,wa),(oa=La.call(this,W)).supportsBinary=!W.forceBase64,oa}T(wa,la);var La=m(wa);return Ga(wa,[{key:'doOpen',value:function(){if(this.check()){var W=this.uri(),oa=this.opts.protocols,ya=Cb?{}:qa(this.opts,'agent','perMessageDeflate','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized',
'localAddress','protocolVersion','origin','maxPayload','family','checkServerIdentity');this.opts.extraHeaders&&(ya.headers=this.opts.extraHeaders);try{this.ws=Cb?new sb(W,oa,ya):oa?new sb(W,oa):new sb(W)}catch(Oa){return this.emit('error',Oa)}this.ws.binaryType=this.socket.binaryType||'arraybuffer';this.addEventListeners()}}},{key:'addEventListeners',value:function(){var W=this;this.ws.onopen=function(){W.opts.autoUnref&&W.ws._socket.unref();W.onOpen()};this.ws.onclose=this.onClose.bind(this);this.ws.onmessage=
function(oa){return W.onData(oa.data)};this.ws.onerror=function(oa){return W.onError('websocket error',oa)}}},{key:'write',value:function(W){var oa=this;this.writable=!1;for(var ya=function(k){var b=k===W.length-1;xa(W[k],oa.supportsBinary,function(g){try{oa.ws.send(g)}catch(n){}b&&cb(function(){oa.writable=!0;oa.emit('drain')},oa.setTimeoutFn)})},Oa=0;Oa<W.length;Oa++)ya(Oa)}},{key:'doClose',value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:'uri',value:function(){var W=this.query||
{},oa=this.opts.secure?'wss':'ws',ya='';this.opts.port&&('wss'===oa&&443!==Number(this.opts.port)||'ws'===oa&&80!==Number(this.opts.port))&&(ya=':'+this.opts.port);this.opts.timestampRequests&&(W[this.opts.timestampParam]=u());this.supportsBinary||(W.b64=1);W=Na.encode(W);return oa+'://'+(-1!==this.opts.hostname.indexOf(':')?'['+this.opts.hostname+']':this.opts.hostname)+ya+this.opts.path+(W.length?'?'+W:'')}},{key:'check',value:function(){return!(!sb||'__initialize'in sb&&this.name===wa.prototype.name)}},
{key:'name',get:function(){return'websocket'}}]),wa}(H),polling:ab},yb=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Gb='source protocol authority userInfo user password host port relative path directory file query anchor'.split(' '),Kb=function(la){var wa=la,La=la.indexOf('['),W=la.indexOf(']');-1!=La&&-1!=W&&(la=
la.substring(0,La)+la.substring(La,W).replace(/:/g,';')+la.substring(W,la.length));var oa,ya;la=yb.exec(la||'');for(var Oa={},k=14;k--;)Oa[Gb[k]]=la[k]||'';return-1!=La&&-1!=W&&(Oa.source=wa,Oa.host=Oa.host.substring(1,Oa.host.length-1).replace(/;/g,':'),Oa.authority=Oa.authority.replace('[','').replace(']','').replace(/;/g,':'),Oa.ipv6uri=!0),Oa.pathNames=function(b,g){b=g.replace(/\/{2,9}/g,'/').split('/');'/'!=g.substr(0,1)&&0!==g.length||b.splice(0,1);'/'==g.substr(g.length-1,1)&&b.splice(b.length-
1,1);return b}(0,Oa.path),Oa.queryKey=(oa=Oa.query,ya={},oa.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(b,g,n){g&&(ya[g]=n)}),ya),Oa},Ra=function(la){function wa(W){var oa,ya=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return M(this,wa),oa=La.call(this),W&&'object'===E(W)&&(ya=W,W=null),W?(W=Kb(W),ya.hostname=W.host,ya.secure='https'===W.protocol||'wss'===W.protocol,ya.port=W.port,W.query&&(ya.query=W.query)):ya.host&&(ya.hostname=Kb(ya.host).host),Ha(Y(oa),ya),oa.secure=null!=ya.secure?
ya.secure:'undefined'!=typeof location&&'https:'===location.protocol,ya.hostname&&!ya.port&&(ya.port=oa.secure?'443':'80'),oa.hostname=ya.hostname||('undefined'!=typeof location?location.hostname:'localhost'),oa.port=ya.port||('undefined'!=typeof location&&location.port?location.port:oa.secure?'443':'80'),oa.transports=ya.transports||['polling','websocket'],oa.readyState='',oa.writeBuffer=[],oa.prevBufferLen=0,oa.opts=L({path:'/engine.io',agent:!1,withCredentials:!1,upgrade:!0,timestampParam:'t',
rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},ya),oa.opts.path=oa.opts.path.replace(/\/$/,'')+'/','string'==typeof oa.opts.query&&(oa.opts.query=Na.decode(oa.opts.query)),oa.id=null,oa.upgrades=null,oa.pingInterval=null,oa.pingTimeout=null,oa.pingTimeoutTimer=null,'function'==typeof addEventListener&&(oa.opts.closeOnBeforeunload&&addEventListener('beforeunload',function(){oa.transport&&(oa.transport.removeAllListeners(),oa.transport.close())},
!1),'localhost'!==oa.hostname&&(oa.offlineEventListener=function(){oa.onClose('transport close')},addEventListener('offline',oa.offlineEventListener,!1))),oa.open(),oa}T(wa,la);var La=m(wa);return Ga(wa,[{key:'createTransport',value:function(W){var oa=this.opts.query,ya={},Oa;for(Oa in oa)oa.hasOwnProperty(Oa)&&(ya[Oa]=oa[Oa]);ya.EIO=4;ya.transport=W;this.id&&(ya.sid=this.id);oa=L({},this.opts.transportOptions[W],this.opts,{query:ya,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});
return new Jb[W](oa)}},{key:'open',value:function(){var W=this;if(this.opts.rememberUpgrade&&wa.priorWebsocketSuccess&&-1!==this.transports.indexOf('websocket'))var oa='websocket';else{if(0===this.transports.length)return void this.setTimeoutFn(function(){W.emitReserved('error','No transports available')},0);oa=this.transports[0]}this.readyState='opening';try{oa=this.createTransport(oa)}catch(ya){return this.transports.shift(),void this.open()}oa.open();this.setTransport(oa)}},{key:'setTransport',
value:function(W){var oa=this;this.transport&&this.transport.removeAllListeners();this.transport=W;W.on('drain',this.onDrain.bind(this)).on('packet',this.onPacket.bind(this)).on('error',this.onError.bind(this)).on('close',function(){oa.onClose('transport close')})}},{key:'probe',value:function(W){function oa(){n||(n=!0,C(),g.close(),g=null)}function ya(){z('transport closed')}function Oa(){z('socket closed')}function k(V){g&&V.name!==g.name&&oa()}var b=this,g=this.createTransport(W),n=!1;wa.priorWebsocketSuccess=
!1;var A=function(){n||(g.send([{type:'ping',data:'probe'}]),g.once('packet',function(V){if(!n)if('pong'===V.type&&'probe'===V.data){if(b.upgrading=!0,b.emitReserved('upgrading',g),g)wa.priorWebsocketSuccess='websocket'===g.name,b.transport.pause(function(){n||'closed'!==b.readyState&&(C(),b.setTransport(g),g.send([{type:'upgrade'}]),b.emitReserved('upgrade',g),g=null,b.upgrading=!1,b.flush())})}else V=Error('probe error'),V.transport=g.name,b.emitReserved('upgradeError',V)}))},z=function(V){V=Error('probe error: '+
V);V.transport=g.name;oa();b.emitReserved('upgradeError',V)},C=function(){g.removeListener('open',A);g.removeListener('error',z);g.removeListener('close',ya);b.off('close',Oa);b.off('upgrading',k)};g.once('open',A);g.once('error',z);g.once('close',ya);this.once('close',Oa);this.once('upgrading',k);g.open()}},{key:'onOpen',value:function(){if(this.readyState='open',wa.priorWebsocketSuccess='websocket'===this.transport.name,this.emitReserved('open'),this.flush(),'open'===this.readyState&&this.opts.upgrade&&
this.transport.pause)for(var W=0,oa=this.upgrades.length;W<oa;W++)this.probe(this.upgrades[W])}},{key:'onPacket',value:function(W){if('opening'===this.readyState||'open'===this.readyState||'closing'===this.readyState)switch(this.emitReserved('packet',W),this.emitReserved('heartbeat'),W.type){case 'open':this.onHandshake(JSON.parse(W.data));break;case 'ping':this.resetPingTimeout();this.sendPacket('pong');this.emitReserved('ping');this.emitReserved('pong');break;case 'error':var oa=Error('server error');
oa.code=W.data;this.onError(oa);break;case 'message':this.emitReserved('data',W.data),this.emitReserved('message',W.data)}}},{key:'onHandshake',value:function(W){this.emitReserved('handshake',W);this.id=W.sid;this.transport.query.sid=W.sid;this.upgrades=this.filterUpgrades(W.upgrades);this.pingInterval=W.pingInterval;this.pingTimeout=W.pingTimeout;this.onOpen();'closed'!==this.readyState&&this.resetPingTimeout()}},{key:'resetPingTimeout',value:function(){var W=this;this.clearTimeoutFn(this.pingTimeoutTimer);
this.pingTimeoutTimer=this.setTimeoutFn(function(){W.onClose('ping timeout')},this.pingInterval+this.pingTimeout);this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:'onDrain',value:function(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emitReserved('drain'):this.flush()}},{key:'flush',value:function(){'closed'!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=
this.writeBuffer.length,this.emitReserved('flush'))}},{key:'write',value:function(W,oa,ya){return this.sendPacket('message',W,oa,ya),this}},{key:'send',value:function(W,oa,ya){return this.sendPacket('message',W,oa,ya),this}},{key:'sendPacket',value:function(W,oa,ya,Oa){if('function'==typeof oa&&(Oa=oa,oa=void 0),'function'==typeof ya&&(Oa=ya,ya=null),'closing'!==this.readyState&&'closed'!==this.readyState)(ya=ya||{}).compress=!1!==ya.compress,W={type:W,data:oa,options:ya},this.emitReserved('packetCreate',
W),this.writeBuffer.push(W),Oa&&this.once('flush',Oa),this.flush()}},{key:'close',value:function(){var W=this,oa=function(){W.onClose('forced close');W.transport.close()},ya=function b(){W.off('upgrade',b);W.off('upgradeError',b);oa()},Oa=function(){W.once('upgrade',ya);W.once('upgradeError',ya)};return'opening'!==this.readyState&&'open'!==this.readyState||(this.readyState='closing',this.writeBuffer.length?this.once('drain',function(){W.upgrading?Oa():oa()}):this.upgrading?Oa():oa()),this}},{key:'onError',
value:function(W){wa.priorWebsocketSuccess=!1;this.emitReserved('error',W);this.onClose('transport error',W)}},{key:'onClose',value:function(W,oa){'opening'!==this.readyState&&'open'!==this.readyState&&'closing'!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners('close'),this.transport.close(),this.transport.removeAllListeners(),'function'==typeof removeEventListener&&removeEventListener('offline',this.offlineEventListener,!1),this.readyState='closed',
this.id=null,this.emitReserved('close',W,oa),this.writeBuffer=[],this.prevBufferLen=0)}},{key:'filterUpgrades',value:function(W){for(var oa=[],ya=0,Oa=W.length;ya<Oa;ya++)~this.transports.indexOf(W[ya])&&oa.push(W[ya]);return oa}}]),wa}(Q);Ra.protocol=4;return function(la,wa){return new Ra(la,wa)}});
function BindingHelper(E){var M={};'undefined'!=typeof E&&(M=E);M.process=function(da,Ga,L){if('undefined'==typeof da||!Array.isArray(da))throw Error('`bindings` must be a defined array');'undefined'==typeof Ga&&(Ga=da.length,L=0);if(da[L]){var T=da[L];if('undefined'==typeof T.call)throw Error('`bindings.['+L+'].call` is required !');if('function'!=typeof M[T.call])throw Error('`bindingContext.'+T.call+'` is not a function');var ra=T.call;delete T.call;try{if('undefined'!=typeof T.handler){if(!window[T.handler])throw Error('`'+
T.handler+'` could not be reached. You must expose it to the `window` do object before any call.');var U=T.handler;delete T.handler;window[U].apply(this,Object.values(T));T.handler=U}else M[ra].apply(this,Object.values(T));T.call=ra}catch(Y){console.error('BindingHelper encountered error while trying to execute `'+ra+'`'+Y.stack||Y)}M.process(da,Ga,L+1)}};return M}define('helpers/binding',[],function(){return BindingHelper});
define('gina/link',['require','jquery','vendor/uuid','utils/merge','utils/events'],function(E){E('jquery').noConflict();var M=E('vendor/uuid'),da=E('utils/merge');E('utils/events');return function(Ga){function L(u,p){var q=Q(u),H=q.id,I=document.getElementById(H)||null;(I.getAttribute('data-gina-link-event-on-success')||I.getAttribute('data-gina-link-event-on-error'))&&listenToXhrEvents(q);p='undefined'==typeof p?R:da(p,R);/^(http|https):/.test(u)&&!(new RegExp('^'+window.location.protocol+'//'+window.location.host)).test(u)&&
((new RegExp(window.location.hostname)).test(u)||(u=u.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+u));p.url=u;q&&'undefined'!=typeof q.options&&(p=da(q.options,p));p.withCredentials?'withCredentials'in m?p.isSynchrone?m.open(p.method,p.url,p.isSynchrone):m.open(p.method,p.url):'undefined'!=typeof XDomainRequest?(m=new XDomainRequest,m.open(p.method,p.url)):(m=null,triggerEvent(gina,I,'error.'+H,'CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ')):
p.isSynchrone?m.open(p.method,p.url,p.isSynchrone):m.open(p.method,p.url);if(!m)throw Error('No `xhr` object initiated');p.$link=q;handleXhr(m,I,p,E);m.send()}function T(u,p){if('object'!=typeof p)throw Error('`options` must be an object');u.options=da(p,ra.options);p=document.getElementById(u.id)||null;if('undefined'==typeof U.$links[u.id]){if(-1<v.indexOf(u.id))throw Error('`link '+u.id+'` already exists !');if(!gina.events[evt]){addListener(gina,p,evt,function(I){cancelEvent(I);I=Ha(I.target.id);
var w=I.url;'undefined'==typeof I.options.isSynchrone&&(I.options.isSynchrone=!1);'undefined'==typeof I.options.withCredentials&&(I.options.withCredentials=!1);L(w,I.options)});var q=p.childNodes,H=0;lLen=q.length;if(0<lLen)for(;H<lLen;++H)'undefined'!=typeof q[H].tagName&&qa(q[H],p,evt)}u.request=L;u.getLinkById=Ha;u.getLinkByUrl=Q;U.$links[u.id]=u}}this.plugin='link';registerEvents(this.plugin,'loaded ready open close destroy success error progress'.split(' '));var ra={options:{url:void 0,'class':'gina-link-default'},
authorizedEvents:['ready','success','error'],events:{}},U={plugin:this.plugin,id:'gina-links-'+M.v4(),on,eventData:{},$links:{},target:document,isReady:!1,initialized:!1},Y={plugin:this.plugin,on,eventData:{},target:document,url:null,request:null,$forms:[]},m=null,R={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}},v=[],qa=function(u,p,q){addListener(gina,u,'click',function(H){cancelEvent(H);triggerEvent(gina,p,q)})},Ha=function(u){return'undefined'!=
typeof U.$links[u]?U.$links[u]:null},Q=function(u){var p=null,q;for(q in gina.link.$links)if('undefined'!=typeof gina.link.$links[q].url&&gina.link.$links[q].url==u){p=gina.link.$links[q];break}return p},J=function(u,p){'undefined'==typeof u&&(u=U.target);var q,H=null;u=u.getElementsByTagName('a');for(var I=0,w=u.length;I<w;++I)if(q=u[I].getAttribute('data-gina-link')){q=u[I];var x={type:'a',method:'GET'};var B=q.getAttribute('data-gina-link-url');x.url='undefined'!=typeof B&&null!=B?B:q.getAttribute('href');
B=q.getAttribute('id');if('undefined'==typeof B||null==B||''==B||/popin\.link/.test(B))B='link.click.gina-link-'+U.id+'-'+M.v4();q.id=B;evt=x.id=B;q.setAttribute('id',evt);'A'==q.tagName&&(H=q.getAttribute('onclick'));H?'undefined'==typeof H||/return false/.test(H)||(H=/;$/.test(H)?H+'return false;':H+'; return false;',q.setAttribute('onclick',H)):q.setAttribute('onclick','return false;');'undefined'==typeof U.$links[x.id]&&(x.target=q,q=da(x,Y),T(q,p))}};return function(u){U.bindLinks=J;U.request=
L;U.getLinkById=Ha;U.getLinkByUrl=Q;U.on('init',function(p){if(window.XMLHttpRequest)m=new XMLHttpRequest;else if(window.ActiveXObject)try{m=new ActiveXObject('Msxml2.XMLHTTP')}catch(q){try{m=new ActiveXObject('Microsoft.XMLHTTP')}catch(H){}}evt='click';addListener(gina,U.target,evt,function(q){'undefined'==typeof q.target.id&&(q.target.setAttribute('id',evt+'.'+M.v4()),q.target.id=q.target.getAttribute('id'));if(/^link\.click\./.test(q.target.id)){cancelEvent(q);var H=q.target.id;(new RegExp('^link.click.gina-link-'+
U.id)).test(H)&&triggerEvent(gina,q.target,H,q.detail)}});'undefined'==typeof u&&(u={});U.options=u;J(U.target,u);gina.linkIsBinded=!0;U.isReady=!0;gina.hasLinkHandler=!0;gina.link=da(gina.link,U);triggerEvent(gina,U.target,'ready.'+U.id,U)});U.initialized=!0;return U}(Ga)}});
define('gina/popin','require jquery vendor/uuid utils/merge utils/routing utils/events'.split(' '),function(E){E('jquery').noConflict();var M=E('vendor/uuid'),da=E('utils/merge');E('utils/routing');E('utils/events');return function(Ga){function L(){var y=null,S;for(S in gina.popin.$popins)if('undefined'!=typeof gina.popin.$popins[S].isOpen&&gina.popin.$popins[S].isOpen){y=gina.popin.$popins[S];break}!y&&gina.popin.activePopinId&&(y=gina.popin.$popins[gina.popin.activePopinId]);return y}function T(y,
S){var X=y.target,xa=y.type;'undefined'!=typeof y.detail&&'function'==typeof y.detail.trim&&(X.innerHTML=y.detail.trim());y=function(cb,sb,Cb){var Jb=Cb.getAttribute('data-gina-popin-is-link');Jb=/^true$/i.test(Jb)?!0:!1;'link'!=cb||Jb||(cb='action');addListener(gina,Cb,sb,function(yb){cancelEvent(yb);if('close'!=cb){var Gb=!1,Kb='loaded.'+S.id;'undefined'==typeof gina.events[Kb]&&addListener(gina,X,Kb,function(Ra){Ra.preventDefault();Gb||(Gb=!0,Y(Ra.detail))});Kb={isSynchrone:!1,withCredentials:!1};
Kb=da(S.options,Kb);U(S.name,Cb.href,Kb)}removeListener(gina,yb.target,yb.type)});addListener(gina,Cb,'click',function(yb){cancelEvent(yb);if(null!=yb.target.getAttribute('disabled')&&'false'!=yb.target.getAttribute('disabled'))return!1;if('link'==cb){var Gb=yb.target.getAttribute('target');null!=Gb&&''!=Gb?window.open(linkHref,yb.target.getAttribute('target')):triggerEvent(gina,yb.target,yb.currentTarget.id,S)}else'undefined'==typeof yb.target.id&&(yb.target.setAttribute('id',sb+'.'+M.v4()),yb.target.id=
yb.target.getAttribute('id')),/^popin\.close\./.test(yb.target.id)&&(cancelEvent(yb),S.isRedirecting=!1,qa(S.name)),/^popin\.click\./.test(yb.target.id)&&(cancelEvent(yb),Gb=yb.target.id,(new RegExp('^popin.click.gina-popin-'+J.id)).test(Gb)&&triggerEvent(gina,yb.target,Gb,yb.detail))})};gina.popinIsBinded=!0;var na=null,Da=null,Ia=null;S.isOpen||addListener(gina,J.target.childNodes[0],'mousedown',function(cb){if(/gina-popin-is-active/.test(cb.target.className)){removeListener(gina,cb.target,'mousedown');
cb=[];na=0;var sb=X.getElementsByTagName('button');Da=0;Ia=sb.length;if(0<Ia)for(;Da<Ia;++Da)/gina-popin-close/.test(sb[Da].className)&&(cb[na]=sb[Da],++na);sb=X.getElementsByTagName('div');Da=0;Ia=sb.length;if(0<Ia)for(;Da<Ia;++Da)/gina-popin-close/.test(sb[Da].className)&&(cb[na]=sb[Da],++na);sb=X.getElementsByTagName('a');Da=0;Ia=sb.length;if(0<Ia)for(;Da<Ia;++Da)/gina-popin-close/.test(sb[Da].className)&&(cb[na]=sb[Da],++na);Da=0;for(Ia=cb.length;Da<Ia;++Da){sb=cb[Da];let Cb=sb.getAttribute('id');
for(let Jb=0,yb=Ha.length;Jb<yb;Jb++){let Gb=Ha[Jb];'undefined'!=typeof gina.events[Gb]&&gina.events[Gb]==Cb&&removeListener(gina,sb,Gb);'undefined'!=typeof gina.events[Cb]&&gina.events[Cb]==Cb&&removeListener(gina,sb,Cb);'undefined'!=typeof gina.events[Gb+'.'+Cb]&&gina.events[Gb+'.'+Cb]==Cb&&removeListener(gina,sb,Gb+'.'+Cb);'undefined'!=typeof gina.events[Gb+'.'+Cb]&&gina.events[Gb+'.'+Cb]==Gb+'.'+Cb&&removeListener(gina,sb,Gb+'.'+Cb)}}S.isRedirecting=!1;qa(S.name)}});/<form/i.test(X.innerHTML)&&
'undefined'!=typeof p&&p&&(S.hasForm=!0);var Ea=[],va=[],Ca=[];va=X.getElementsByTagName('button');Da=na=0;Ia=va.length;if(0<va.length)for(;Da<Ia;++Da)/gina-popin-close/.test(va[Da].className)&&(Ea[na]=va[Da],++na);va=X.getElementsByTagName('div');Da=0;Ia=va.length;if(0<Ia)for(;Da<Ia;++Da)/gina-popin-close/.test(va[Da].className)&&(Ea[na]=va[Da],++na);va=X.getElementsByTagName('a');Da=0;Ia=va.length;if(0<Ia)for(;Da<Ia;++Da)/gina-popin-close/.test(va[Da].className)?(Ea[na]=va[Da],++na):('undefined'==
typeof va[Da]||/(#|#.*)$/.test(va[Da].href)||va[Da].id)&&('undefined'==typeof va[Da]||/(#|#.*)$/.test(va[Da].href)||/^(click\.|popin\.link)/.test(va[Da].id))||Ca.push(va[Da]);var Ta=null;va=null;Da=0;for(Ia=Ea.length;Da<Ia;++Da)'A'==Ea[Da].tagName&&(Ta=Ea[Da].getAttribute('onclick')),Ta?'undefined'==typeof Ta||/return false/.test(Ta)||(Ta=/;$/.test(Ta)?Ta+'return false;':Ta+'; return false;'):Ea[Da].setAttribute('onclick','return false;'),Ea[Da].id?va=Ea[Da].id:(va='popin.close.'+M.v4(),Ea[Da].id=
va,Ea[Da].setAttribute('id',va)),'undefined'!=typeof gina.events[va]&&gina.events[va]==Ea[Da].id||y('close',va,Ea[Da]);na=0;Ia=Ca.length;var Va=null,Ua=null,zb=null,Ja={},Na=null,ab=new DOMParser,Ab=null,db=null;for(va=Ea=Ea=null;na<Ia;++na)null==Ca[na].getAttribute('disabled')&&(Ca[na].id=/^null$/i.test(Ca[na].getAttribute('id'))?null:Ca[na].getAttribute('id'),Ca[na].id&&/^popin\.link/.test(Ca[na].id)&&/^popin\.click/.test(Ca[na].id)?va=Ca[na].id:(va=!0,Ea=Ca[na].getAttribute('href'),Ea&&''!=Ea&&
'#'!=Ea||('#'!=Ea&&Ca[na].setAttribute('href','#'),va=!1),/^null$/i.test(Ca[na].id)?va?(va='popin.link.'+M.v4(),Ca[na].setAttribute('data-gina-popin-is-link',!0)):(va='popin.click.'+M.v4(),Ca[na].setAttribute('data-gina-popin-is-link',!1)):va=Ca[na].id,Ca[na].id=va,Ca[na].setAttribute('id',va)),Ea=(Ea=Ca[na].getAttribute('data-gina-form-submit'))&&/^true$/i.test(Ea)?!0:!1,Ea||(/^(null|\s*)$/.test(Ca[na].getAttribute('href'))||addListener(gina,Ca[na],'click',function(cb){cb.preventDefault();S.isRedirecting=
!0;if(S.hasForm){Va=S.target.getElementsByTagName('FORM');Ua=0;for(zb=Va.length;Ua<zb;++Ua)if(Ab=cb.currentTarget.id,db=ab.parseFromString(Va.item(Ua).innerHTML,'text/html').getElementById(Ab)||!1)Na=Va[Ua].getAttribute('data-gina-form-inherits-data')||null,Ja=da(Ja,JSON.parse(decodeURIComponent(Na)));0<Ja.count()&&(/\?/.test(cb.currentTarget.href)?cb.currentTarget.href+='&inheritedData='+encodeURIComponent(JSON.stringify(Ja)):cb.currentTarget.href+='?inheritedData='+encodeURIComponent(JSON.stringify(Ja)))}}),
'undefined'!=typeof gina.events[va]&&gina.events[va]==Ca[na].id||y('link',va,Ca[na])));if(S.hasForm)for(y=null,Ca=X.getElementsByTagName('form'),na=0,Ia=Ca.length;na<Ia;++na)Ca[na].id&&'string'==typeof Ca[na]?y=Ca[na].id:(y=Ca[na].getAttribute('id')||'form.'+M.v4(),Ca[na].setAttribute('id',y),Ca[na].id=y),0>S.$forms.indexOf(y)&&S.$forms.push(y),Ca[na].close=qa,p.isPopinContext=!0,p.validateFormById(Ca[na].getAttribute('id')),removeListener(gina,S.target,xa)}function ra(y,S){var X=L();if(gina&&'undefined'!=
typeof window.ginaToolbar&&window.ginaToolbar&&'undefined'!=typeof y&&'undefined'!=typeof S&&y){var xa=y;try{X=null;!S&&xa.error&&/^(\{|\[)/.test(xa.error)&&(xa.error=JSON.parse(xa.error));if('undefined'!=typeof xa.error&&'object'==typeof xa.error&&'object'==typeof xa.error){X={status:xa.status};for(xErr in xa.error)/^error$/.test(xErr)||(X[xErr]=xa.error[xErr]);X.error=xa.error.error;xa=X}else'undefined'!=typeof xa.error&&'string'==typeof xa.error&&(xa=y);xa.isXHRViewData=!0;ginaToolbar.update('data-xhr',
xa);return}catch(na){throw na;}}try{X=x(J.activePopinId)}catch(na){ginaToolbar.update('data-xhr',na)}xa='string'==typeof y&&/<(.*)>/.test(y)?(new DOMParser).parseFromString(y,'text/html').getElementById('gina-without-layout-xhr-data'):document.getElementById('gina-without-layout-xhr-data');if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&xa)try{'undefined'!=typeof xa.value&&xa.value&&(xa=JSON.parse(decodeURIComponent(xa.value)),xa.isXHRViewData=!0,ginaToolbar.update('data-xhr',
xa))}catch(na){throw na;}y='string'==typeof y&&/<(.*)>/.test(y)?(new DOMParser).parseFromString(y,'text/html').getElementById('gina-without-layout-xhr-view'):document.getElementById('gina-without-layout-xhr-view');if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&y)try{'undefined'!=typeof y.value&&y.value&&(y=JSON.parse(decodeURIComponent(y.value)),ginaToolbar.update('view-xhr',y)),ginaToolbar.update('el-xhr',X.id)}catch(na){throw na;}}function U(y,S,X){if('undefined'==typeof y){if('undefined'==
typeof this.name)throw Error('`$popin.name` needs to be defined !');y=this.name}else'undefined'==typeof this.name&&'undefined'!=y&&(this.name=y);var xa=B(y),na=xa.id;gina.popin.activePopinId||(gina.popin.activePopinId=na);var Da=document.getElementById(na)||null;null==Da&&(y=xa.options.class+' '+na,Da=document.createElement('div'),Da.setAttribute('id',na),Da.setAttribute('class',y),J.target.firstChild.appendChild(Da));'undefined'==typeof X?X=N:(y=N.withCredentials,X=da(X,N),X.withCredentials=y);!/^(http|https):/.test(S)||
(new RegExp('^'+window.location.protocol+'//'+window.location.host)).test(S)||(new RegExp(window.location.hostname)).test(S)||(S=S.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+S,X.withCredentials=!1);X.url=S;xa.options=da(X,xa.options);X.withCredentials?'withCredentials'in q?X.isSynchrone?q.open(X.method,X.url,X.isSynchrone):q.open(X.method,X.url):'undefined'!=typeof XDomainRequest?(q=new XDomainRequest,q.open(X.method,X.url)):(q=null,triggerEvent(gina,Da,'error.'+na,'CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ')):
X.isSynchrone?q.open(X.method,X.url,X.isSynchrone):q.open(X.method,X.url);if(q){q.withCredentials='undefined'!=typeof X.withCredentials?X.withCredentials:!1;q.onerror=function(Ea,va){Ea={status:q.status,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};J.eventData.error=Ea+'/n'+va;ra(Ea,!0);triggerEvent(gina,Da,'error.'+na,Ea)};for(var Ia in X.headers)q.setRequestHeader(Ia,X.headers[Ia]);q.onreadystatechange=function(Ea){if(4==q.readyState)if(/^2/.test(q.status))try{var va=
q.responseText,Ca=q.getResponseHeader('Content-Type'),Ta=/application\/json/.test(Ca)?!0:!1;Ea=!0;Ta&&(va=JSON.parse(q.responseText),va.status=q.status,va.contentType=Ca,Ea=!1);J.eventData.success=va;if(!Ta&&xa.isOpen&&!xa.hasForm||!Ta&&xa.isOpen&&Ea)Y(va,Ea);else{if(Ta&&'undefined'!=typeof va.location||Ta&&'undefined'!=typeof va.reload){Ca=!1;'undefined'!=typeof va.isXhrRedirect&&/^true$/i.test(va.isXhrRedirect)&&(Ca=!0);if('undefined'!=typeof va.location&&Ca){if('undefined'!=typeof va.popin&&'undefined'!=
typeof va.popin.close){xa.isRedirecting=!1;xa.close();var Va=va.popin.reload?va.popin.reload:!1;va.popin.location||va.popin.url||(delete va.popin,Va&&(va.popin={reload:Va}))}Ta='_self';'undefined'!=typeof va.target&&(va.target='_'+va.target,Ta=va.target);if(/^_self$/.test(Ta))return Ta=null,Ta='undefined'!=typeof va.popin?va.popin.location||va.popin.url:va.location,xa.load(xa.name,Ta,xa.options),setTimeout(function(Ua){Ua.isOpen||Ua.open()},50,xa);window.open(va.location,Ta);return}if('undefined'!=
typeof va.location){document.location=va.location;return}if('undefined'!=typeof va.reload){document.location.reload();return}'undefined'!=typeof va.popin&&'undefined'!=typeof va.popin.close&&(xa.isRedirecting=!1,qa(xa.name))}if(!Ta){triggerEvent(gina,Da,'loaded.'+na,va);return}triggerEvent(gina,$forms[0],'success.'+na,va)}GINA_ENV_IS_DEV&&ra(va)}catch(Ua){Ta=!1,va={status:422,error:Ua.description||Ua.stack},/application\/json/.test(q.getResponseHeader('Content-Type'))&&(va.error=JSON.parse(q.responseText),
Ta=!0),J.eventData.error=va,GINA_ENV_IS_DEV&&ra(va,Ta),triggerEvent(gina,Da,'error.'+na,va)}else Ta=!1,va={status:q.status,error:q.responseText},/application\/json/.test(q.getResponseHeader('Content-Type'))&&(va.error=JSON.parse(q.responseText),Ta=!0),J.eventData.error=va,GINA_ENV_IS_DEV&&ra(va,Ta),triggerEvent(gina,Da,'error.'+na,va)};q.send();return{open:function(){var Ea=!1;addListener(gina,Da,'loaded.'+na,function(va){va.preventDefault();Ea||(Ea=!0,J.activePopinId=xa.id,T(va,xa),R(xa.name))})}}}}
function Y(y,S){var X=L();if(X){if(!X.isOpen)throw Error('Popin `'+X.name+'` is not open !');X.isRedirecting='undefined'!=typeof S?S:!1;S=X.target;S.innerHTML=y.trim();v(X.name,!0);T({target:S,type:'loaded.'+X.id},X);X.isRedirecting?triggerEvent(gina,J.target,'loaded.'+X.id,X):triggerEvent(gina,J.target,'open.'+X.id,X)}}function m(y){var S=setupXhr();S.open('GET',y,!0);S.setRequestHeader('Content-Type','text/javascript');S.onload=function(){eval(S.response)};S.send()}function R(y){var S='undefined'!=
typeof y?B(y):x(this.id);if(!S)throw Error('Popin name `'+y+'` not found !');y=document.getElementById(S.id);var X=S.parentScripts,xa=y.getElementsByTagName('script'),na=0,Da=xa.length,Ia=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');for(Ia=new RegExp(Ia+':\\d+|'+Ia);na<Da;++na){if('undefined'==typeof xa[na].src||''==xa[na].src)continue;let Ea=xa[na].src.replace(/(https|http|):\/\//,'').replace(Ia,'');-1<X.indexOf(Ea)||m(xa[na].src)}T({target:y,type:'loaded.'+S.id},S);
/gina-popin-is-active/.test(y.className)||(y.className+=' gina-popin-is-active');/gina-popin-is-active/.test(J.target.firstChild.className)||(J.target.firstChild.className+=' gina-popin-is-active');/gina-popin-is-active/.test(J.target.firstChild.className)&&removeListener(gina,J.target,'open.'+S.id);S.isOpen=!0;S.target=y;J.activePopinId=S.id;GINA_ENV_IS_DEV&&ra();triggerEvent(gina,J.target,'open.'+S.id,S)}function v(y,S){var X='undefined'!=typeof y?B(y):L();if(!X&&'undefined'!=typeof y)throw Error('Popin `'+
y+'` not found !');if('undefined'!=typeof X&&null!=X&&(y=X.target,S='undefined'!=typeof S?S:!1,null!=y&&/gina-popin-is-active/.test(y.className))){S||(J.target.firstChild.className=J.target.firstChild.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,''),y.className=y.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,''),y.innerHTML='');if(p&&(S=0,y=X.$forms.length,p.$forms&&0<y))for(;S<y;++S)'undefined'!=typeof p.$forms[X.$forms[S]]&&
p.$forms[X.$forms[S]].destroy(),X.$forms.splice(S,1);gina.popinIsBinded=!1;removeListener(gina,X.target,'loaded.'+X.id)}}function qa(y){if('undefined'==typeof y&&/^true$/.test(this.isOpen)){y=this.name;var S=this}else{S=B(y)||L();if(!S)return;y=S.name}if(!S&&'undefined'!=typeof y)throw Error('Popin `'+y+'` not found !');if(S.isOpen&&'undefined'!=typeof S&&null!=S&&!S.isRedirecting){var X=S.target;removeListener(gina,S.target,'ready.'+J.id);S.hasForm&&(S.hasForm=!1);if(null!=X&&/gina-popin-is-active/.test(X.className)){v(y);
S.isOpen=!1;gina.popinIsBinded=!1;GINA_ENV_IS_DEV&&gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&ginaToolbar.restore();J.activePopinId=null;if(0<S.$headers.length){y=0;X=S.$headers.length;try{for(;y<X;++y)document.getElementById(S.$headers[y].id).remove()}catch(xa){console.warn('Could not remove script `'+S.$headers[y].id+'`\n'+xa.stack)}S.$headers=[]}triggerEvent(gina,S.target,'close.'+S.id,S)}}}this.plugin='popin';var Ha='init loaded ready open close click destroy success error progress'.split(' ');
registerEvents(this.plugin,Ha);var Q={name:void 0,'class':'gina-popin-default'},J={plugin:this.plugin,id:'gina-popins-'+M.v4(),on,eventData:{},$popins:{},activePopinId:null,getActivePopin:null,target:document,isReady:!1,initialized:!1},u={plugin:this.plugin,on,eventData:{},target:document,name:null,load:null,loadContent:null,open:null,isOpen:!1,isRedirecting:!1,close:null,$forms:[],hasForm:!1,$headers:[]},p=null,q=null,H=[],I=function(){var y=document.createElement('div');y.id=J.id;y.setAttribute('id',
J.id);y.setAttribute('class','gina-popins');var S=document.createElement('div');S.setAttribute('id','gina-popins-overlay');S.setAttribute('class','gina-popins-overlay');y.appendChild(S);document.body.appendChild(y);J.target=y;J.on=on;gina.popinContainer=J.id},w=function(y,S,X){addListener(gina,y,'click',function(xa){cancelEvent(xa);triggerEvent(gina,S,X)})},x=function(y){return'undefined'!=typeof J.$popins[y]?J.$popins[y]:null},B=function(y){var S=null,X;for(X in J.$popins)if(J.$popins[X].name===
y){S=J.$popins[X];break}return S},F=function(y,S){S=getElementsByAttribute('data-gina-popin-name');var X=null,xa=null,na=null,Da=null,Ia=null,Ea=null;Ia=0;for(Ea=S.length;Ia<Ea;++Ia){X=S[Ia];xa=X.getAttribute('data-gina-popin-name');'A'==X.tagName&&(na=X.getAttribute('href'),''==na||'#'==na||/#/.test(na))&&(na=null);na||'undefined'==typeof X.getAttribute('data-gina-popin-url')||(na=X.getAttribute('data-gina-popin-url'));if(!na)throw Error('Found `data-gina-popin-name` without `url` !');X.url||(X.url=
na);X.popinName||(X.popinName=xa);if(xa==y.name&&(Da='popin.click.gina-popin-'+J.id+'-'+M.v4()+'-'+xa,X.id=Da,X.setAttribute('id',Da),!gina.events[Da])){addListener(gina,X,Da,function(Ca){cancelEvent(Ca);var Ta=!1;addListener(gina,y.target,'loaded.'+y.id,function(Ua){Ua.preventDefault();Ta||(Ta=!0,console.debug('active popin should be ',y.id),gina.popin.activePopinId=y.id,T(Ua,y),y.isOpen||R(y.name))});Ca={isSynchrone:!1,withCredentials:!1};Ca=da(y.options,Ca);var Va=this.getAttribute('data-gina-popin-url')||
this.getAttribute('href');if(!Va)throw Error('Popin `url` not defined, please check value for `data-gina-popin-url`');U(y.name,Va,Ca)});xa=X.childNodes;var va=0;lLen=xa.length;if(0<lLen)for(;va<lLen;++va)'undefined'!=typeof xa[va].tagName&&w(xa[va],X,Da)}}Da='click';addListener(gina,document,Da,function(Ca){if(null!=Ca.target.getAttribute('disabled')&&'false'!=Ca.target.getAttribute('disabled'))return!1;'undefined'==typeof Ca.target.id&&(Ca.target.setAttribute('id',Da+'.'+M.v4()),Ca.target.id=Ca.target.getAttribute('id'));
if(/^popin\.close\./.test(Ca.target.id)){cancelEvent(Ca);var Ta=Ca.target.id;triggerEvent(gina,Ca.target,Ta,Ca.detail)}/^popin\.click\./.test(Ca.target.id)&&(cancelEvent(Ca),Ta=Ca.target.id,(new RegExp('^popin.click.gina-popin-'+J.id)).test(Ta)&&triggerEvent(gina,Ca.target,Ta,Ca.detail))});gina.popinIsBinded=!1},N={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}};gina.hasPopinHandler?(J.target=document.getElementById(gina.popinContainer),J.on=on):
I();return function(y){J.getPopinById=x;J.getPopinByName=B;J.load=U;J.loadContent=Y;J.getActivePopin=L;J.open=R;J.close=qa;addListener(gina,J.target,'init.'+J.id,function(S){S=null;if('undefined'==typeof J.$popins['gina-popin-'+J.id+'-'+y.name]){var X=S=da({},u);if('object'!=typeof y)throw Error('`options` must be an object');X.options=da(y,Q);X.id='gina-popin-'+J.id+'-'+X.options.name;if('undefined'==typeof J.$popins[X.id]){if('string'!=typeof X.options.name||''==X.options.name)throw Error('`options.name` can not be left `empty` or `undefined`');
if(-1<H.indexOf(X.options.name))throw Error('`popin '+X.options.name+'` already exists !');'undefined'!=typeof X.options.validator&&(p=X.options.validator,X.validateFormById=p.validateFormById);X.options['class']='gina-popin-container '+X.options['class'];X.name=X.options.name;X.target=J.target;X.load=U;X.loadContent=Y;X.open=R;X.close=qa;GINA_ENV_IS_DEV&&(X.updateToolbar=ra);X.parentScripts=[];X.parentStyles=[];var xa=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');xa=new RegExp(xa+
':\\d+|'+xa);var na=document.getElementsByTagName('script');for(let Ia=0,Ea=na.length;Ia<Ea;Ia++)if(na[Ia].src&&''!=na[Ia].src){var Da=na[Ia].src.replace(/(https|http|):\/\//,'').replace(xa,'');X.parentScripts[Ia]=Da}na=document.getElementsByTagName('link');for(let Ia=0,Ea=na.length;Ia<Ea;Ia++)'undefined'!=typeof na[Ia].rel&&/stylesheet/i.test(na[Ia].rel)&&(Da=na[Ia].href.replace(/(https|http|):\/\//,'').replace(xa,''),X.parentStyles[Ia]=Da);J.$popins[X.id]=X;if(window.XMLHttpRequest)q=new XMLHttpRequest;
else if(window.ActiveXObject)try{q=new ActiveXObject('Msxml2.XMLHTTP')}catch(Ia){try{q=new ActiveXObject('Microsoft.XMLHTTP')}catch(Ea){}}F(X)}}J.isReady=!0;gina.hasPopinHandler=!0;gina.popin=da(gina.popin,J);triggerEvent(gina,J.target,'ready.'+J.id,S)});J.initialized=!0;return J}(Ga)}});function fadeIn(E){var M=.1;E.style.display='block';var da=setInterval(function(){1<=M&&clearInterval(da);E.style.opacity=M;E.style.filter='alpha(opacity='+100*M+')';M+=.1*M},10)}
function fadeOut(E){var M=1,da=setInterval(function(){.1>=M&&(clearInterval(da),E.style.display='none');E.style.opacity=M;E.style.filter='alpha(opacity='+100*M+')';M-=.1*M},50)}define('utils/effects',function(){});
'function'!==typeof Object.assign&&Object.defineProperty(Object,'assign',{value:function(E,M){if(null===E||void 0===E)throw new TypeError('Cannot convert undefined or null to object');for(var da=Object(E),Ga=1;Ga<arguments.length;Ga++){var L=arguments[Ga];if(null!==L&&void 0!==L)for(var T in L)Object.prototype.hasOwnProperty.call(L,T)&&(da[T]=L[T])}return da},writable:!0,configurable:!0});
if('undefined'==typeof JSON.clone){var clone=function(E,M){if(null==E||'object'!=typeof E||E.constructor!=Object&&E.constructor!=Array)return E;if(E.constructor==Date||E.constructor==RegExp||E.constructor==Function||E.constructor==String||E.constructor==Number||E.constructor==Boolean)return new E.constructor(E);M=M||new E.constructor;for(var da=0,Ga=Object.getOwnPropertyNames(E).length||0,L=Object.keys(E);da<Ga;)M[L[da]]='undefined'==typeof M[L[da]]?clone(E[L[da]],null):M[L[da]],da++;return M};JSON.clone=
clone}if('undefined'==typeof JSON.escape){var escape=function(E){try{return E.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(M){throw M;}};JSON.escape=escape}define('utils/polyfill',function(){});
function Inherits(E,M){return function(da,Ga){var L='undefined'==typeof da||'undefined'==typeof Ga?"inherits(a, b): neither [ a ] nor [ b ] can't be undefined or null":!1;if(L)throw Error(L);L=function(){return function(){if(this){this.prototype=da.prototype;this.name||(this.name=da.name);this.prototype.name=this.name;for(var T in Ga.prototype)this[T]||(this[T]=Ga.prototype[T]);Ga.apply(this,arguments);da.apply(this,arguments)}}}(da,Ga);void 0==da.prototype&&(da.prototype={});void 0==Ga.prototype&&
(Ga.prototype={});da.prototype=Object.create(Ga.prototype,{});L.prototype=Object.create(da.prototype,{});return L}}'undefined'!==typeof module&&module.exports?module.exports=Inherits():'function'===typeof define&&define.amd&&define('utils/inherits',[],function(){return Inherits()});var readyList=[{name:'gina',ctx:window.gina,fn:window.onGinaLoaded}],readyFired=!1,readyEventHandlersInstalled=!1;
function ready(){if(!readyFired){readyFired=!0;var E=null,M=function(da,Ga){if(Ga[da])if('gina'==Ga[da].name)var L=window.setInterval(function(T,ra){try{if('undefined'==typeof ra&&(ra=window.readyList),ra[T].ctx=window.gina,E=ra[T].fn.call(window,ra[T].ctx,window.require))window.clearInterval(L),++T,M(T,ra)}catch(U){throw window.clearInterval(L),U;}},50,da,Ga);else window.$||'undefined'==typeof parent.window.$||(window.$=parent.window.$),'undefined'==typeof window.originalContext&&'undefined'!=typeof window.$&&
(window.originalContext=window.$),Ga[da].ctx=window.originalContext||$,Ga[da].fn.call(window,Ga[da].ctx,window.require),++da,M(da,Ga);else Ga=[]};M(0,readyList)}}function readyStateChange(){'complete'===document.readyState&&gina.ready()}
if('undefined'==typeof window.gina){var gina={_global:{register:function(E){if('undefined'!=typeof E)for(let M in E)window[M]=E[M]},unregister:function(E){if('undefined'==typeof E||!Array.isArray(E))throw Error('`variables` needs to ba an array');for(let M=0,da=E.length;M<da;M++)delete window[E[M]]}},ready:function(E,M){readyFired?setTimeout(function(){E(M)},1):(readyList.push({name:'anonymous',fn:E,ctx:M}),'complete'===document.readyState||!document.attachEvent&&'interactive'===document.readyState?
setTimeout(ready,1):readyEventHandlersInstalled||(document.addEventListener?(document.addEventListener('DOMContentLoaded',ready,!1),window.addEventListener('load',ready,!1)):(document.attachEvent('onreadystatechange',readyStateChange),window.attachEvent('onload',ready)),readyEventHandlersInstalled=!0))}};window.gina=gina}define('core',['require','gina'],function(E){E('gina')(window.gina)});require.config({packages:['gina']});require('vendor/uuid vendor/engine.io core helpers/prototypes helpers/binding helpers/dateFormat gina/link gina/validator gina/popin gina/storage utils/dom utils/events utils/effects utils/polyfill utils/inherits utils/form-validator utils/collection utils/routing'.split(' '));
for(var tags=document.getElementsByTagName('script'),t=0,len=tags.length;t<len;++t)if(/gina.min.js|gina.js/.test(tags[t].getAttribute('src'))){tags[t].onload=function(E){if(window.onGinaLoaded)var M=window.onGinaLoaded;document.addEventListener?document.addEventListener('ginaloaded',function(da){window.gina=da.detail;M(da.detail)}):document.attachEvent&&document.attachEvent('ginaloaded',function(da){window.gina=da.detail;M(da.detail)})}();break};
