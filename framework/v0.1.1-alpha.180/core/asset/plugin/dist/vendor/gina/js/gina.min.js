/*
 RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license  @source https://gist.github.com/1129031  Engine.IO v6.2.2
 (c) 2014-2022 Guillermo Rauch
 Released under the MIT License.
*/
var requirejs,require,define;
(function(D,O){function ca(Ia,Ka){return Ka||''}function Ea(Ia){return'[object Function]'===Ga.call(Ia)}function K(Ia){return'[object Array]'===Ga.call(Ia)}function S(Ia,Ka){if(Ia){var Ya;for(Ya=0;Ya<Ia.length&&(!Ia[Ya]||!Ka(Ia[Ya],Ya,Ia));Ya+=1);}}function oa(Ia,Ka){if(Ia){var Ya;for(Ya=Ia.length-1;-1<Ya&&(!Ia[Ya]||!Ka(Ia[Ya],Ya,Ia));--Ya);}}function V(Ia,Ka){return X.call(Ia,Ka)}function U(Ia,Ka){return V(Ia,Ka)&&Ia[Ka]}function l(Ia,Ka){for(var Ya in Ia)if(V(Ia,Ya)&&Ka(Ia[Ya],Ya))break}function T(Ia,
Ka,Ya,pb){Ka&&l(Ka,function($a,jb){if(Ya||!V(Ia,jb))!pb||'object'!==typeof $a||!$a||K($a)||Ea($a)||$a instanceof RegExp?Ia[jb]=$a:(Ia[jb]||(Ia[jb]={}),T(Ia[jb],$a,Ya,pb))});return Ia}function q(Ia,Ka){return function(){return Ka.apply(Ia,arguments)}}function da(Ia){throw Ia;}function za(Ia){if(!Ia)return Ia;var Ka=D;S(Ia.split('.'),function(Ya){Ka=Ka[Ya]});return Ka}function N(Ia,Ka,Ya,pb){Ka=Error(Ka+'\nhttps://requirejs.org/docs/errors.html#'+Ia);Ka.requireType=Ia;Ka.requireModules=pb;Ya&&(Ka.originalError=
Ya);return Ka}function L(){if(z&&'interactive'===z.readyState)return z;oa(document.getElementsByTagName('script'),function(Ia){if('interactive'===Ia.readyState)return z=Ia});return z}var B,H,n,z,y,F,r,v=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,E=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,I=/\.js$/,R=/^\.\//;var sa=Object.prototype;var Ga=sa.toString,X=sa.hasOwnProperty,ia=!('undefined'===typeof window||'undefined'===typeof navigator||!window.document),ea=!ia&&'undefined'!==typeof importScripts,
wa=ia&&'PLAYSTATION 3'===navigator.platform?/^complete$/:/^(complete|loaded)$/,ka='undefined'!==typeof opera&&'[object Opera]'===opera.toString(),ta={},Da={},Qa=[],La=!1;if('undefined'===typeof define){if('undefined'!==typeof requirejs){if(Ea(requirejs))return;Da=requirejs;requirejs=void 0}'undefined'===typeof require||Ea(require)||(Da=require,require=void 0);var Fa=requirejs=function(Ia,Ka,Ya,pb){var $a='_';if(!K(Ia)&&'string'!==typeof Ia){var jb=Ia;K(Ka)?(Ia=Ka,Ka=Ya,Ya=pb):Ia=[]}jb&&jb.context&&
($a=jb.context);(pb=U(ta,$a))||(pb=ta[$a]=Fa.s.newContext($a));jb&&pb.configure(jb);return pb.require(Ia,Ka,Ya)};Fa.config=function(Ia){return Fa(Ia)};Fa.nextTick='undefined'!==typeof O?function(Ia){O(Ia,4)}:function(Ia){Ia()};require||=Fa;Fa.version='2.3.6';Fa.jsExtRegExp=/^\/|:|\?|\.js$/;Fa.isBrowser=ia;sa=Fa.s={contexts:ta,newContext:function(Ia){function Ka(w,ja,ua){var na;ja=ja&&ja.split('/');var la=Ja.map,Ca=la&&la['*'];if(w){w=w.split('/');var Aa=w.length-1;Ja.nodeIdCompat&&I.test(w[Aa])&&
(w[Aa]=w[Aa].replace(I,''));'.'===w[0].charAt(0)&&ja&&(Aa=ja.slice(0,ja.length-1),w=Aa.concat(w));Aa=w;for(na=0;na<Aa.length;na++){var Sa=Aa[na];'.'===Sa?(Aa.splice(na,1),--na):'..'===Sa&&0!==na&&(1!==na||'..'!==Aa[2])&&'..'!==Aa[na-1]&&0<na&&(Aa.splice(na-1,2),na-=2)}w=w.join('/')}if(ua&&la&&(ja||Ca)){Aa=w.split('/');na=Aa.length;a:for(;0<na;--na){var Va=Aa.slice(0,na).join('/');if(ja)for(Sa=ja.length;0<Sa;--Sa)if(ua=U(la,ja.slice(0,Sa).join('/')))if(ua=U(ua,Va)){var qb=ua;var sb=na;break a}if(!Hb&&
Ca&&U(Ca,Va)){var Hb=U(Ca,Va);var Ob=na}}!qb&&Hb&&(qb=Hb,sb=Ob);qb&&(Aa.splice(0,sb,qb),w=Aa.join('/'))}return(qb=U(Ja.pkgs,w))?qb:w}function Ya(w){ia&&S(document.getElementsByTagName('script'),function(ja){if(ja.getAttribute('data-requiremodule')===w&&ja.getAttribute('data-requirecontext')===Q.contextName)return ja.parentNode.removeChild(ja),!0})}function pb(w){var ja=U(Ja.paths,w);if(ja&&K(ja)&&1<ja.length)return ja.shift(),Q.require.undef(w),Q.makeRequire(null,{skipMap:!0})([w]),!0}function $a(w){var ja=
w?w.indexOf('!'):-1;if(-1<ja){var ua=w.substring(0,ja);w=w.substring(ja+1,w.length)}return[ua,w]}function jb(w,ja,ua,na){var la=null,Ca=ja?ja.name:null,Aa=w,Sa=!0,Va='';w||(Sa=!1,w='_@r'+(A+=1));w=$a(w);la=w[0];w=w[1];if(la){la=Ka(la,Ca,na);var qb=U(p,la)}if(w)if(la)Va=ua?w:qb&&qb.normalize?qb.normalize(w,function(Hb){return Ka(Hb,Ca,na)}):-1===w.indexOf('!')?Ka(w,Ca,na):w;else{Va=Ka(w,Ca,na);w=$a(Va);la=w[0];Va=w[1];ua=!0;var sb=Q.nameToUrl(Va)}ua=!la||qb||ua?'':'_unnormalized'+(W+=1);return{prefix:la,
name:Va,parentMap:ja,unnormalized:!!ua,url:sb,originalName:Aa,isDefine:Sa,id:(la?la+'!'+Va:Va)+ua}}function bc(w){var ja=w.id,ua=U(M,ja);ua||=M[ja]=new Q.Module(w);return ua}function $b(w,ja,ua){var na=w.id,la=U(M,na);if(!V(p,na)||la&&!la.defineEmitComplete)if(la=bc(w),la.error&&'error'===ja)ua(la.error);else la.on(ja,ua);else'defined'===ja&&ua(p[na])}function fb(w,ja){var ua=w.requireModules,na=!1;if(ja)ja(w);else if(S(ua,function(la){if(la=U(M,la))la.error=w,la.events.error&&(na=!0,la.emit('error',
w))}),!na)Fa.onError(w)}function Cb(){Qa.length&&(S(Qa,function(w){var ja=w[0];'string'===typeof ja&&(Q.defQueueMap[ja]=!0);h.push(w)}),Qa=[])}function yb(w){delete M[w];delete e[w]}function Gb(w,ja,ua){var na=w.map.id;w.error?w.emit('error',w.error):(ja[na]=!0,S(w.depMaps,function(la,Ca){la=la.id;var Aa=U(M,la);!Aa||w.depMatched[Ca]||ua[la]||(U(ja,la)?(w.defineDep(Ca,p[la]),w.check()):Gb(Aa,ja,ua))}),ua[na]=!0)}function Na(){var w,ja,ua=(w=1E3*Ja.waitSeconds)&&Q.startTime+w<(new Date).getTime(),
na=[],la=[],Ca=!1,Aa=!0;if(!xa){xa=!0;l(e,function(Sa){var Va=Sa.map,qb=Va.id;if(Sa.enabled&&(Va.isDefine||la.push(Sa),!Sa.error))if(!Sa.inited&&ua)pb(qb)?Ca=ja=!0:(na.push(qb),Ya(qb));else if(!Sa.inited&&Sa.fetched&&Va.isDefine&&(Ca=!0,!Va.prefix))return Aa=!1});if(ua&&na.length)return w=N('timeout','Load timeout for modules: '+na,null,na),w.contextName=Q.contextName,fb(w);Aa&&S(la,function(Sa){Gb(Sa,{},{})});ua&&!ja||!Ca||!ia&&!ea||ya||(ya=O(function(){ya=0;Na()},50));xa=!1}}function db(w){V(p,
w[0])||bc(jb(w[0],null,!0)).init(w[1],w[2])}function Eb(w){w=w.currentTarget||w.srcElement;var ja=Q.onScriptLoad;w.detachEvent&&!ka?w.detachEvent('onreadystatechange',ja):w.removeEventListener('load',ja,!1);ja=Q.onScriptError;w.detachEvent&&!ka||w.removeEventListener('error',ja,!1);return{node:w,id:w&&w.getAttribute('data-requiremodule')}}function Pb(){for(Cb();h.length;){var w=h.shift();if(null===w[0])return fb(N('mismatch','Mismatched anonymous define() module: '+w[w.length-1]));db(w)}Q.defQueueMap=
{}}var xa,ya,Ja={waitSeconds:7,baseUrl:'./',paths:{},bundles:{},pkgs:{},shim:{},config:{}},M={},e={},b={},h=[],p={},x={},u={},A=1,W=1;var P={require:function(w){return w.require?w.require:w.require=Q.makeRequire(w.map)},exports:function(w){w.usingExports=!0;if(w.map.isDefine)return w.exports?p[w.map.id]=w.exports:w.exports=p[w.map.id]={}},module:function(w){return w.module?w.module:w.module={id:w.map.id,uri:w.map.url,config:function(){return U(Ja.config,w.map.id)||{}},exports:w.exports||(w.exports=
{})}}};var aa=function(w){this.events=U(b,w.id)||{};this.map=w;this.shim=U(Ja.shim,w.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};aa.prototype={init:function(w,ja,ua,na){na=na||{};if(!this.inited){this.factory=ja;if(ua)this.on('error',ua);else this.events.error&&(ua=q(this,function(la){this.emit('error',la)}));this.depMaps=w&&w.slice(0);this.errback=ua;this.inited=!0;this.ignore=na.ignore;na.enabled||this.enabled?this.enable():this.check()}},defineDep:function(w,
ja){this.depMatched[w]||(this.depMatched[w]=!0,--this.depCount,this.depExports[w]=ja)},fetch:function(){if(!this.fetched){this.fetched=!0;Q.startTime=(new Date).getTime();var w=this.map;if(this.shim)Q.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],q(this,function(){return w.prefix?this.callPlugin():this.load()}));else return w.prefix?this.callPlugin():this.load()}},load:function(){var w=this.map.url;x[w]||(x[w]=!0,Q.load(this.map.id,w))},check:function(){if(this.enabled&&!this.enabling){var w=
this.map.id;var ja=this.depExports;var ua=this.exports,na=this.factory;if(!this.inited)V(Q.defQueueMap,w)||this.fetch();else if(this.error)this.emit('error',this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(Ea(na)){if(this.events.error&&this.map.isDefine||Fa.onError!==da)try{ua=Q.execCb(w,na,ja,ua)}catch(Aa){var la=Aa}else ua=Q.execCb(w,na,ja,ua);this.map.isDefine&&void 0===ua&&((ja=this.module)?ua=ja.exports:this.usingExports&&(ua=this.exports));if(la)return la.requireMap=
this.map,la.requireModules=this.map.isDefine?[this.map.id]:null,la.requireType=this.map.isDefine?'define':'require',fb(this.error=la)}else ua=na;this.exports=ua;if(this.map.isDefine&&!this.ignore&&(p[w]=ua,Fa.onResourceLoad)){var Ca=[];S(this.depMaps,function(Aa){Ca.push(Aa.normalizedMap||Aa)});Fa.onResourceLoad(Q,this.map,Ca)}yb(w);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit('defined',this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var w=
this.map,ja=w.id,ua=jb(w.prefix);this.depMaps.push(ua);$b(ua,'defined',q(this,function(na){var la=U(u,this.map.id),Ca=this.map.name,Aa=this.map.parentMap?this.map.parentMap.name:null,Sa=Q.makeRequire(w.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){na.normalize&&(Ca=na.normalize(Ca,function(sb){return Ka(sb,Aa,!0)})||'');var Va=jb(w.prefix+'!'+Ca,this.map.parentMap,!0);$b(Va,'defined',q(this,function(sb){this.map.normalizedMap=Va;this.init([],function(){return sb},null,{enabled:!0,
ignore:!0})}));if(na=U(M,Va.id)){this.depMaps.push(Va);if(this.events.error)na.on('error',q(this,function(sb){this.emit('error',sb)}));na.enable()}}else if(la)this.map.url=Q.nameToUrl(la),this.load();else{var qb=q(this,function(sb){this.init([],function(){return sb},null,{enabled:!0})});qb.error=q(this,function(sb){this.inited=!0;this.error=sb;sb.requireModules=[ja];l(M,function(Hb){0===Hb.map.id.indexOf(ja+'_unnormalized')&&yb(Hb.map.id)});fb(sb)});qb.fromText=q(this,function(sb,Hb){var Ob=w.name,
zb=jb(Ob),Vb=La;Hb&&(sb=Hb);Vb&&(La=!1);bc(zb);V(Ja.config,ja)&&(Ja.config[Ob]=Ja.config[ja]);try{Fa.exec(sb)}catch(Za){return fb(N('fromtexteval','fromText eval for '+ja+' failed: '+Za,Za,[ja]))}Vb&&(La=!0);this.depMaps.push(zb);Q.completeLoad(Ob);Sa([Ob],qb)});na.load(w.name,Sa,qb,Ja)}}));Q.enable(ua,this);this.pluginMaps[ua.id]=ua},enable:function(){e[this.map.id]=this;this.enabling=this.enabled=!0;S(this.depMaps,q(this,function(w,ja){var ua;if('string'===typeof w){w=jb(w,this.map.isDefine?this.map:
this.map.parentMap,!1,!this.skipMap);this.depMaps[ja]=w;if(ua=U(P,w.id)){this.depExports[ja]=ua(this);return}this.depCount+=1;$b(w,'defined',q(this,function(la){this.undefed||(this.defineDep(ja,la),this.check())}));this.errback?$b(w,'error',q(this,this.errback)):this.events.error&&$b(w,'error',q(this,function(la){this.emit('error',la)}))}ua=w.id;var na=M[ua];V(P,ua)||!na||na.enabled||Q.enable(w,this)}));l(this.pluginMaps,q(this,function(w){var ja=U(M,w.id);ja&&!ja.enabled&&Q.enable(w,this)}));this.enabling=
!1;this.check()},on:function(w,ja){var ua=this.events[w];ua||=this.events[w]=[];ua.push(ja)},emit:function(w,ja){S(this.events[w],function(ua){ua(ja)});'error'===w&&delete this.events[w]}};var Q={config:Ja,contextName:Ia,registry:M,defined:p,urlFetched:x,defQueue:h,defQueueMap:{},Module:aa,makeModuleMap:jb,nextTick:Fa.nextTick,onError:fb,configure:function(w){w.baseUrl&&'/'!==w.baseUrl.charAt(w.baseUrl.length-1)&&(w.baseUrl+='/');if('string'===typeof w.urlArgs){var ja=w.urlArgs;w.urlArgs=function(la,
Ca){return(-1===Ca.indexOf('?')?'?':'&')+ja}}var ua=Ja.shim,na={paths:!0,bundles:!0,config:!0,map:!0};l(w,function(la,Ca){na[Ca]?(Ja[Ca]||(Ja[Ca]={}),T(Ja[Ca],la,!0,!0)):Ja[Ca]=la});w.bundles&&l(w.bundles,function(la,Ca){S(la,function(Aa){Aa!==Ca&&(u[Aa]=Ca)})});w.shim&&(l(w.shim,function(la,Ca){K(la)&&(la={deps:la});!la.exports&&!la.init||la.exportsFn||(la.exportsFn=Q.makeShimExports(la));ua[Ca]=la}),Ja.shim=ua);w.packages&&S(w.packages,function(la){la='string'===typeof la?{name:la}:la;var Ca=la.name;
la.location&&(Ja.paths[Ca]=la.location);Ja.pkgs[Ca]=la.name+'/'+(la.main||'main').replace(R,'').replace(I,'')});l(M,function(la,Ca){la.inited||la.map.unnormalized||(la.map=jb(Ca,null,!0))});(w.deps||w.callback)&&Q.require(w.deps||[],w.callback)},makeShimExports:function(w){return function(){var ja;w.init&&(ja=w.init.apply(D,arguments));return ja||w.exports&&za(w.exports)}},makeRequire:function(w,ja){function ua(na,la,Ca){var Aa;ja.enableBuildCallback&&la&&Ea(la)&&(la.__requireJsBuild=!0);if('string'===
typeof na){if(Ea(la))return fb(N('requireargs','Invalid require call'),Ca);if(w&&V(P,na))return P[na](M[w.id]);if(Fa.get)return Fa.get(Q,na,w,ua);var Sa=jb(na,w,!1,!0);Sa=Sa.id;return V(p,Sa)?p[Sa]:fb(N('notloaded','Module name "'+Sa+'" has not been loaded yet for context: '+Ia+(w?'':'. Use require([])')))}Pb();Q.nextTick(function(){Pb();Aa=bc(jb(null,w));Aa.skipMap=ja.skipMap;Aa.init(na,la,Ca,{enabled:!0});Na()});return ua}ja=ja||{};T(ua,{isBrowser:ia,toUrl:function(na){var la=na.lastIndexOf('.'),
Ca=na.split('/')[0];if(-1!==la&&('.'!==Ca&&'..'!==Ca||1<la)){var Aa=na.substring(la,na.length);na=na.substring(0,la)}return Q.nameToUrl(Ka(na,w&&w.id,!0),Aa,!0)},defined:function(na){return V(p,jb(na,w,!1,!0).id)},specified:function(na){na=jb(na,w,!1,!0).id;return V(p,na)||V(M,na)}});w||(ua.undef=function(na){Cb();var la=jb(na,w,!0),Ca=U(M,na);Ca.undefed=!0;Ya(na);delete p[na];delete x[la.url];delete b[na];oa(h,function(Aa,Sa){Aa[0]===na&&h.splice(Sa,1)});delete Q.defQueueMap[na];Ca&&(Ca.events.defined&&
(b[na]=Ca.events),yb(na))});return ua},enable:function(w){U(M,w.id)&&bc(w).enable()},completeLoad:function(w){var ja=U(Ja.shim,w)||{},ua=ja.exports;for(Cb();h.length;){var na=h.shift();if(null===na[0]){na[0]=w;if(la)break;var la=!0}else na[0]===w&&(la=!0);db(na)}Q.defQueueMap={};na=U(M,w);if(!la&&!V(p,w)&&na&&!na.inited)if(!Ja.enforceDefine||ua&&za(ua))db([w,ja.deps||[],ja.exportsFn]);else return pb(w)?void 0:fb(N('nodefine','No define call for '+w,null,[w]));Na()},nameToUrl:function(w,ja,ua){var na,
la;(na=U(Ja.pkgs,w))&&(w=na);if(na=U(u,w))return Q.nameToUrl(na,ja,ua);if(Fa.jsExtRegExp.test(w))na=w+(ja||'');else{na=Ja.paths;var Ca=w.split('/');for(la=Ca.length;0<la;--la){var Aa=Ca.slice(0,la).join('/');if(Aa=U(na,Aa)){K(Aa)&&(Aa=Aa[0]);Ca.splice(0,la,Aa);break}}na=Ca.join('/');na+=ja||(/^data:|^blob:|\?/.test(na)||ua?'':'.js');na=('/'===na.charAt(0)||na.match(/^[\w\+\.\-]+:/)?'':Ja.baseUrl)+na}return Ja.urlArgs&&!/^blob:/.test(na)?na+Ja.urlArgs(w,na):na},load:function(w,ja){Fa.load(Q,w,ja)},
execCb:function(w,ja,ua,na){return ja.apply(na,ua)},onScriptLoad:function(w){if('load'===w.type||wa.test((w.currentTarget||w.srcElement).readyState))z=null,w=Eb(w),Q.completeLoad(w.id)},onScriptError:function(w){var ja=Eb(w);if(!pb(ja.id)){var ua=[];l(M,function(na,la){0!==la.indexOf('_@r')&&S(na.depMaps,function(Ca){if(Ca.id===ja.id)return ua.push(la),!0})});return fb(N('scripterror','Script error for "'+ja.id+(ua.length?'", needed by: '+ua.join(', '):'"'),w,[ja.id]))}}};Q.require=Q.makeRequire();
return Q}};Fa({});S(['toUrl','undef','defined','specified'],function(Ia){Fa[Ia]=function(){var Ka=ta._;return Ka.require[Ia].apply(Ka,arguments)}});if(ia){var Oa=sa.head=document.getElementsByTagName('head')[0];if(B=document.getElementsByTagName('base')[0])Oa=sa.head=B.parentNode}Fa.onError=da;Fa.createNode=function(Ia,Ka,Ya){Ka=Ia.xhtml?document.createElementNS('http://www.w3.org/1999/xhtml','html:script'):document.createElement('script');Ka.type=Ia.scriptType||'text/javascript';Ka.charset='utf-8';
Ka.async=!0;return Ka};Fa.load=function(Ia,Ka,Ya){var pb=Ia&&Ia.config||{};if(ia){var $a=Fa.createNode(pb,Ka,Ya);$a.setAttribute('data-requirecontext',Ia.contextName);$a.setAttribute('data-requiremodule',Ka);!$a.attachEvent||$a.attachEvent.toString&&0>$a.attachEvent.toString().indexOf('[native code')||ka?($a.addEventListener('load',Ia.onScriptLoad,!1),$a.addEventListener('error',Ia.onScriptError,!1)):(La=!0,$a.attachEvent('onreadystatechange',Ia.onScriptLoad));$a.src=Ya;if(pb.onNodeCreated)pb.onNodeCreated($a,
pb,Ka,Ya);y=$a;B?Oa.insertBefore($a,B):Oa.appendChild($a);y=null;return $a}if(ea)try{O(function(){},0),importScripts(Ya),Ia.completeLoad(Ka)}catch(jb){Ia.onError(N('importscripts','importScripts failed for '+Ka+' at '+Ya,jb,[Ka]))}};ia&&!Da.skipDataMain&&oa(document.getElementsByTagName('script'),function(Ia){Oa||(Oa=Ia.parentNode);if(H=Ia.getAttribute('data-main'))return F=H,Da.baseUrl||-1!==F.indexOf('!')||(n=F.split('/'),F=n.pop(),r=n.length?n.join('/')+'/':'./',Da.baseUrl=r),F=F.replace(I,''),
Fa.jsExtRegExp.test(F)&&(F=H),Da.deps=Da.deps?Da.deps.concat(F):[F],!0});define=function(Ia,Ka,Ya){var pb;'string'!==typeof Ia&&(Ya=Ka,Ka=Ia,Ia=null);K(Ka)||(Ya=Ka,Ka=null);!Ka&&Ea(Ya)&&(Ka=[],Ya.length&&(Ya.toString().replace(v,ca).replace(E,function(jb,bc){Ka.push(bc)}),Ka=(1===Ya.length?['require']:['require','exports','module']).concat(Ka)));if(La&&(pb=y||L())){Ia||=pb.getAttribute('data-requiremodule');var $a=ta[pb.getAttribute('data-requirecontext')]}$a?($a.defQueue.push([Ia,Ka,Ya]),$a.defQueueMap[Ia]=
!0):Qa.push([Ia,Ka,Ya])};define.amd={jQuery:!0};Fa.exec=function(Ia){return eval(Ia)};Fa(Da)}})(this,'undefined'===typeof setTimeout?void 0:setTimeout);define('requireLib',function(){});
!function(D,O){'object'==typeof exports&&'undefined'!=typeof module?O(exports):'function'==typeof define&&define.amd?define('vendor/uuid',['exports'],O):O((D=D||self).uuid={})}(this,function(D){function O(){if(!l)throw Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');return l(T)}function ca(n,z){z=z||0;var y=za;return[y[n[z++]],y[n[z++]],y[n[z++]],y[n[z++]],'-',y[n[z++]],y[n[z++]],'-',y[n[z++]],y[n[z++]],'-',y[n[z++]],y[n[z++]],'-',
y[n[z++]],y[n[z++]],y[n[z++]],y[n[z++]],y[n[z++]],y[n[z++]]].join('')}function Ea(n,z,y){var F=function(r,v,E,I){I=E&&I||0;if('string'==typeof r&&(r=function(R){R=unescape(encodeURIComponent(R));for(var sa=Array(R.length),Ga=0;Ga<R.length;Ga++)sa[Ga]=R.charCodeAt(Ga);return sa}(r)),'string'==typeof v&&(v=function(R){var sa=[];return R.replace(/[a-fA-F0-9]{2}/g,function(Ga){sa.push(parseInt(Ga,16))}),sa}(v)),!Array.isArray(r))throw TypeError('value must be an array of bytes');if(!Array.isArray(v)||
16!==v.length)throw TypeError('namespace must be uuid string or an Array of 16 byte values');r=y(v.concat(r));if(r[6]=15&r[6]|z,r[8]=63&r[8]|128,E)for(v=0;16>v;++v)E[I+v]=r[v];return E||ca(r)};try{F.name=n}catch(r){}return F.DNS='6ba7b810-9dad-11d1-80b4-00c04fd430c8',F.URL='6ba7b811-9dad-11d1-80b4-00c04fd430c8',F}function K(n,z){var y=(65535&n)+(65535&z);return(n>>16)+(z>>16)+(y>>16)<<16|65535&y}function S(n,z,y,F,r,v){return K((E=K(K(z,n),K(F,v)))<<(I=r)|E>>>32-I,y);var E,I}function oa(n,z,y,F,r,
v,E){return S(z&y|~z&F,n,z,r,v,E)}function V(n,z,y,F,r,v,E){return S(z&F|y&~F,n,z,r,v,E)}function U(n,z,y,F,r,v,E){return S(y^(z|~F),n,z,r,v,E)}for(var l='undefined'!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||'undefined'!=typeof msCrypto&&'function'==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),T=new Uint8Array(16),q,da,za=[],N=0;256>N;++N)za[N]=(N+256).toString(16).substr(1);var L=0,B=0;N=Ea('v3',48,function(n){if('string'==typeof n){var z=
unescape(encodeURIComponent(n));n=Array(z.length);for(var y=0;y<z.length;y++)n[y]=z.charCodeAt(y)}return function(F){var r,v=[],E=32*F.length;for(r=0;r<E;r+=8){var I=F[r>>5]>>>r%32&255;I=parseInt('0123456789abcdef'.charAt(I>>>4&15)+'0123456789abcdef'.charAt(15&I),16);v.push(I)}return v}(function(F,r){F[r>>5]|=128<<r%32;F[14+(r+64>>>9<<4)]=r;var v=1732584193,E=-271733879,I=-1732584194,R=271733878;for(r=0;r<F.length;r+=16){var sa=v;var Ga=E;var X=I;var ia=R;v=oa(v,E,I,R,F[r],7,-680876936);R=oa(R,v,
E,I,F[r+1],12,-389564586);I=oa(I,R,v,E,F[r+2],17,606105819);E=oa(E,I,R,v,F[r+3],22,-1044525330);v=oa(v,E,I,R,F[r+4],7,-176418897);R=oa(R,v,E,I,F[r+5],12,1200080426);I=oa(I,R,v,E,F[r+6],17,-1473231341);E=oa(E,I,R,v,F[r+7],22,-45705983);v=oa(v,E,I,R,F[r+8],7,1770035416);R=oa(R,v,E,I,F[r+9],12,-1958414417);I=oa(I,R,v,E,F[r+10],17,-42063);E=oa(E,I,R,v,F[r+11],22,-1990404162);v=oa(v,E,I,R,F[r+12],7,1804603682);R=oa(R,v,E,I,F[r+13],12,-40341101);I=oa(I,R,v,E,F[r+14],17,-1502002290);E=oa(E,I,R,v,F[r+15],
22,1236535329);v=V(v,E,I,R,F[r+1],5,-165796510);R=V(R,v,E,I,F[r+6],9,-1069501632);I=V(I,R,v,E,F[r+11],14,643717713);E=V(E,I,R,v,F[r],20,-373897302);v=V(v,E,I,R,F[r+5],5,-701558691);R=V(R,v,E,I,F[r+10],9,38016083);I=V(I,R,v,E,F[r+15],14,-660478335);E=V(E,I,R,v,F[r+4],20,-405537848);v=V(v,E,I,R,F[r+9],5,568446438);R=V(R,v,E,I,F[r+14],9,-1019803690);I=V(I,R,v,E,F[r+3],14,-187363961);E=V(E,I,R,v,F[r+8],20,1163531501);v=V(v,E,I,R,F[r+13],5,-1444681467);R=V(R,v,E,I,F[r+2],9,-51403784);I=V(I,R,v,E,F[r+7],
14,1735328473);E=V(E,I,R,v,F[r+12],20,-1926607734);v=S(E^I^R,v,E,F[r+5],4,-378558);R=S(v^E^I,R,v,F[r+8],11,-2022574463);I=S(R^v^E,I,R,F[r+11],16,1839030562);E=S(I^R^v,E,I,F[r+14],23,-35309556);v=S(E^I^R,v,E,F[r+1],4,-1530992060);R=S(v^E^I,R,v,F[r+4],11,1272893353);I=S(R^v^E,I,R,F[r+7],16,-155497632);E=S(I^R^v,E,I,F[r+10],23,-1094730640);v=S(E^I^R,v,E,F[r+13],4,681279174);R=S(v^E^I,R,v,F[r],11,-358537222);I=S(R^v^E,I,R,F[r+3],16,-722521979);E=S(I^R^v,E,I,F[r+6],23,76029189);v=S(E^I^R,v,E,F[r+9],4,
-640364487);R=S(v^E^I,R,v,F[r+12],11,-421815835);I=S(R^v^E,I,R,F[r+15],16,530742520);E=S(I^R^v,E,I,F[r+2],23,-995338651);v=U(v,E,I,R,F[r],6,-198630844);R=U(R,v,E,I,F[r+7],10,1126891415);I=U(I,R,v,E,F[r+14],15,-1416354905);E=U(E,I,R,v,F[r+5],21,-57434055);v=U(v,E,I,R,F[r+12],6,1700485571);R=U(R,v,E,I,F[r+3],10,-1894986606);I=U(I,R,v,E,F[r+10],15,-1051523);E=U(E,I,R,v,F[r+1],21,-2054922799);v=U(v,E,I,R,F[r+8],6,1873313359);R=U(R,v,E,I,F[r+15],10,-30611744);I=U(I,R,v,E,F[r+6],15,-1560198380);E=U(E,I,
R,v,F[r+13],21,1309151649);v=U(v,E,I,R,F[r+4],6,-145523070);R=U(R,v,E,I,F[r+11],10,-1120210379);I=U(I,R,v,E,F[r+2],15,718787259);E=U(E,I,R,v,F[r+9],21,-343485551);v=K(v,sa);E=K(E,Ga);I=K(I,X);R=K(R,ia)}return[v,E,I,R]}(function(F){var r,v=[];v[(F.length>>2)-1]=void 0;for(r=0;r<v.length;r+=1)v[r]=0;var E=8*F.length;for(r=0;r<E;r+=8)v[r>>5]|=(255&F[r/8])<<r%32;return v}(n),8*n.length))});var H=Ea('v5',80,function(n){var z=[1518500249,1859775393,2400959708,3395469782],y=[1732584193,4023233417,2562383102,
271733878,3285377520];if('string'==typeof n){var F=unescape(encodeURIComponent(n));n=Array(F.length);for(var r=0;r<F.length;r++)n[r]=F.charCodeAt(r)}n.push(128);F=Math.ceil((n.length/4+2)/16);var v=Array(F);for(r=0;r<F;r++){v[r]=Array(16);for(var E=0;16>E;E++)v[r][E]=n[64*r+4*E]<<24|n[64*r+4*E+1]<<16|n[64*r+4*E+2]<<8|n[64*r+4*E+3]}v[F-1][14]=8*(n.length-1)/Math.pow(2,32);v[F-1][14]=Math.floor(v[F-1][14]);v[F-1][15]=8*(n.length-1)&4294967295;for(r=0;r<F;r++){n=Array(80);for(E=0;16>E;E++)n[E]=v[r][E];
for(E=16;80>E;E++){var I=n[E-3]^n[E-8]^n[E-14]^n[E-16];n[E]=I<<1|I>>>31}I=y[0];var R=y[1],sa=y[2],Ga=y[3],X=y[4];for(E=0;80>E;E++){var ia=Math.floor(E/20),ea=I<<5|I>>>27;a:{switch(ia){case 0:var wa=R&sa^~R&Ga;break a;case 1:wa=R^sa^Ga;break a;case 2:wa=R&sa^R&Ga^sa&Ga;break a;case 3:wa=R^sa^Ga;break a}wa=void 0}ia=ea+wa+X+z[ia]+n[E]>>>0;X=Ga;Ga=sa;sa=(R<<30|R>>>2)>>>0;R=I;I=ia}y[0]=y[0]+I>>>0;y[1]=y[1]+R>>>0;y[2]=y[2]+sa>>>0;y[3]=y[3]+Ga>>>0;y[4]=y[4]+X>>>0}return[y[0]>>24&255,y[0]>>16&255,y[0]>>
8&255,255&y[0],y[1]>>24&255,y[1]>>16&255,y[1]>>8&255,255&y[1],y[2]>>24&255,y[2]>>16&255,y[2]>>8&255,255&y[2],y[3]>>24&255,y[3]>>16&255,y[3]>>8&255,255&y[3],y[4]>>24&255,y[4]>>16&255,y[4]>>8&255,255&y[4]]});D.v1=function(n,z,y){y=z&&y||0;var F=z||[],r=(n=n||{}).node||q,v=void 0!==n.clockseq?n.clockseq:da;if(null==r||null==v){var E=n.random||(n.rng||O)();null==r&&(r=q=[1|E[0],E[1],E[2],E[3],E[4],E[5]]);null==v&&(v=da=16383&(E[6]<<8|E[7]))}E=void 0!==n.msecs?n.msecs:(new Date).getTime();var I=void 0!==
n.nsecs?n.nsecs:B+1,R=E-L+(I-B)/1E4;if(0>R&&void 0===n.clockseq&&(v=v+1&16383),(0>R||E>L)&&void 0===n.nsecs&&(I=0),1E4<=I)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");L=E;B=I;da=v;n=(1E4*(268435455&(E+=122192928E5))+I)%4294967296;F[y++]=n>>>24&255;F[y++]=n>>>16&255;F[y++]=n>>>8&255;F[y++]=255&n;n=E/4294967296*1E4&268435455;F[y++]=n>>>8&255;F[y++]=255&n;F[y++]=n>>>24&15|16;F[y++]=n>>>16&255;F[y++]=v>>>8|128;F[y++]=255&v;for(v=0;6>v;++v)F[y+v]=r[v];return z||ca(F)};D.v3=N;D.v4=function(n,
z,y){y=z&&y||0;'string'==typeof n&&(z='binary'===n?Array(16):null,n=null);var F=(n=n||{}).random||(n.rng||O)();if(F[6]=15&F[6]|64,F[8]=63&F[8]|128,z)for(n=0;16>n;++n)z[y+n]=F[n];return z||ca(F)};D.v5=H;Object.defineProperty(D,'__esModule',{value:!0})});
function Merge(){var D=[],O=function(K,S){'undefined'==typeof K&&(K='undefined'!=typeof S&&Array.isArray(S)?[]:{});var oa=!1;'boolean'==typeof arguments[arguments.length-1]&&(oa=arguments[arguments.length-1]);var V=1,U=arguments.length,l,T;if('object'!==typeof K&&'function'!==typeof K)K=oa?'undefined'==typeof arguments[2]?arguments[1]:arguments[2]:'undefined'==typeof arguments[0]?arguments[1]:arguments[0];else for(;V<U;++V)if('boolean'!=typeof arguments[V]&&null!=(l=arguments[V])){if('object'!=typeof l){K=
l;break}if(Array.isArray(l)&&Array.isArray(K))K=ca(l,K,oa);else for(var q in l){K||={name:null};var da=K[q];var za=l[q];if(K!==za)if(za&&(Ea(za)||(T=Array.isArray(za)))){var N=!1;if(T){T=!1;if(da&&Array.isArray(da))var L=da||[];else if(Ea(da)){L=da||{};K[q]=L;continue}else L=[];D=L;L=ca(za,L,oa);K[q]=L}else{L=da&&Ea(da)?da:null;if(!L){N=!0;L={};for(var B in za)L[B]=za[B]}if(oa){for(B in za)'undefined'!=typeof za[B]?Array.isArray(za[B])&&Array.isArray(L[B])?L[B]=ca(za[B],L[B],oa):L[B]=za[B]:Array.isArray(za[B])&&
Array.isArray(L[B])&&(L[B]=ca(za[B],L[B],oa));K[q]=L}else{for(B in za)'undefined'==typeof L[B]?Array.isArray(za[B])&&Array.isArray(L[B])?L[B]=ca(za[B],L[B],oa):L[B]=za[B]:Array.isArray(za[B])&&Array.isArray(L[B])&&(L[B]=ca(za[B],L[B],oa));'boolean'==typeof da||N?N&&(K[q]=L):K[q]=O(L,za,oa)}}}else void 0!==za&&(K[q]='undefined'==typeof da||null==da||da===za||oa?za:da)}}D=[];return K},ca=function(K,S,oa){D=[];var V=[],U=O.getKeyComparison();if(/^true$/i.test(oa)){if('object'==typeof K[0]&&'undefined'!=
typeof K[0][U]&&'object'==typeof S[0]&&'undefined'!=typeof S[0][U]){D=Array.isArray(S)?Array.from(S):JSON.clone(S);var l=0;for(oa=D.length;l<oa;++l)V.push(D[l][U]);oa=JSON.clone(K);var T=0;l=0;K=oa.length;for(var q=za||0,da=S.length;q<da;++q)a:for(l=l||0;l<K;++l)if(oa[l][U]===S[q][U]){-1<V.indexOf(oa[l][U])?(D[T]=oa[l],++T):-1==V.indexOf(oa[l][U])&&(V.push(oa[l][U]),D[T]=oa[l],++T);break a}else-1==V.indexOf(oa[l][U])&&(V.push(oa[l][U]),D.push(oa[l]));return D}return Array.isArray(K)&&0==K.length||
'undefined'==typeof K?S:K}if(0==K.length&&0<S.length)return D=S;if(0==S.length&&0<K.length)for(l=0;l<K.length;++l)S.push(K[l]);if(0==D.length&&0<S.length)for(l=0;l<S.length;++l)'object'!=typeof S[l]&&-1==D.indexOf(S[l])&&D.push(S[l]);if(0<S.length){if('undefined'!=typeof K[0]&&'object'==typeof K[0]&&null!=K[0]&&'undefined'!=typeof K[0][U]&&'object'==typeof S[0]&&'undefined'!=typeof S[0][U]){D=Array.isArray(S)?Array.from(S):JSON.clone(S);oa=JSON.clone(K);var za=null;l=0;for(K=D.length;l<K;++l)V.push(D[l][U]);
for(l=0;l<K;++l)a:for(q=za||0,da=oa.length;q<da;++q)if(null!=oa[q]&&'undefined'!=typeof oa[q][U]&&oa[q][U]!==D[l][U]){if(-1==V.indexOf(oa[q][U])){D.push(oa[q]);V.push(oa[q][U]);za=q+1;K<da&&++K;break a}}else if(null!=oa[q]&&'undefined'!=typeof oa[q][U]&&oa[q][U]===D[l][U])za=q+1;else break a;return D}for(l=0;l<K.length;++l)if(V='undefined'==typeof K||'object'!=typeof K[l]||Array.isArray(K[l])?null:Object.getOwnPropertyNames(K[l])[0],-1<S.indexOf(K[l])&&oa)S.splice(S.indexOf(K[l]),1,K[l]);else if('undefined'==
typeof D[l]&&'object'==typeof K[l])for(T in D=S,'undefined'==typeof D[l]&&(D[l]={}),K[l])D[l].hasOwnProperty(T)||(D[l][T]=K[l][T]);else!oa&&-1<D.indexOf(K[l])&&/number/i.test(typeof K[l])&&K[l]!==D[l]?D.push(K[l]):'undefined'==typeof S[l]||/null/i.test(S[l])||'undefined'==typeof S[l][U]||'undefined'==typeof K[l]||'undefined'==typeof K[l][U]||S[l][U]!=K[l][U]?-1==D.indexOf(K[l])&&'object'!=typeof K[l]?D.push(K[l]):'undefined'==typeof S[l]||/null/i.test(S[l])||'undefined'==typeof S[l][V]||'undefined'==
typeof K[l]||'undefined'==typeof K[l][V]||S[l][V]!=K[l][V]||(D[l]=oa?K[l]:S[l]):D[l]=oa?K[l]:S[l]}if(0<D.length&&0<S.length||0==D.length&&0==S.length)return D};ca.prototype.setKeyComparison=function(K){this.keyComparison=K};var Ea=function(K){if(!K||'[object Object]'!=={}.toString.call(K)||K.nodeType||K.setInterval)return!1;var S={}.hasOwnProperty,oa=S.call(K,'constructor');S='undefined'!=typeof K.constructor?S.call(K.constructor.prototype,'isPrototypeOf'):!1;return!K.constructor||oa||S?!0:!1};O.setKeyComparison=
function(K){ca.keyComparison=K;return O};O.getKeyComparison=function(){var K=ca.keyComparison||'id';ca.keyComparison='id';return K};return O}'undefined'!==typeof module&&module.exports?('undefined'==typeof JSON.clone&&require('../../../helpers'),module.exports=Merge()):'function'===typeof define&&define.amd&&define('lib/merge',[],function(){return Merge()});function registerEvents(D,O){'undefined'==typeof gina&&'undefined'!=typeof window.gina&&(gina=window.gina);gina.registeredEvents[D]=O}
function mergeEventProps(D,O){for(let ca in O)'undefined'==typeof D[ca]&&(D[ca]=O[ca]);return D}
function addListener(D,O,ca,Ea){var K=function(V,U,l,T){'undefined'!=typeof V.event&&V.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(l)&&-1==V.event[l].indexOf(U)&&(V.event[l][V.event[l].length]=U);'undefined'!=typeof U&&null!=U?U.addEventListener?U.addEventListener(l,T,!1):U.attachEvent&&U.attachEvent('on'+l,T):V.customEvent.addListener(l,T);gina.events[l]='undefined'!=typeof U.id&&'object'!=typeof U.id?U.id:U.getAttribute('id')},S=0,oa=null;if(Array.isArray(ca))for(oa=ca.length;S<oa;S++)K(D,
O,ca[S],Ea);else if(Array.isArray(O))for(S=0,oa=O.length;S<oa;S++){let V=/\.$/.test(ca)?ca+O[S].id:ca;K(D,O[S],V,Ea)}else ca=/\.$/.test(ca)?ca+O.id:ca,K(D,O,ca,Ea)}
function triggerEvent(D,O,ca,Ea,K){if('undefined'!=typeof O&&null!=O){D=!1;if(jQuery){var S=jQuery.fn.jquery.split(/\./);S=2<S.length?S.splice(0,2).join('.'):S.join('.');S='1.7'>=S?jQuery(O).data('events'):jQuery._data(jQuery(O)[0],'events');if(S='undefined'!=typeof S&&'undefined'!=typeof S[ca]?!0:!1)S=jQuery.Event(ca),jQuery(O).trigger(S,Ea),D=S.isDefaultPrevented()}window.CustomEvent||document.createEvent?(window.CustomEvent?S=new CustomEvent(ca,{detail:Ea,bubbles:!0,cancelable:!0,target:O}):(S=
document.createEvent('HTMLEvents'),S.detail=Ea,S.target=O,S.initEvent(ca,!0,!0),S.eventName=ca),K&&(S=mergeEventProps(S,K)),'undefined'!=typeof S.defaultPrevented&&S.defaultPrevented&&(D=S.defaultPrevented),D||O.dispatchEvent(S)):document.createEventObject&&(S=document.createEventObject(),S.srcElement.id=O.id,S.detail=Ea,S.target=O,K&&(S=mergeEventProps(S,K)),O.fireEvent('on'+ca,S))}else D.customEvent.fire(ca,Ea)}
function cancelEvent(D){'undefined'!=typeof D&&null!=D&&(D.cancelBubble=!0,D.preventDefault&&D.preventDefault(),D.stopPropagation&&D.stopPropagation(),D.returnValue=!1)}
function setupXhr(D){var O=null;if(window.XMLHttpRequest)O=new XMLHttpRequest;else if(window.ActiveXObject)try{O=new ActiveXObject('Msxml2.XMLHTTP')}catch(Ea){try{O=new ActiveXObject('Microsoft.XMLHTTP')}catch(K){}}if('undefined'!=typeof D){if(!D.url||'undefined'==typeof D.url)throw Error('Missing `options.url`');'undefined'==typeof D.method&&(D.method='GET');D.method=D.method.toUpperCase();if(D.withCredentials){if('withCredentials'in O)D.isSynchrone?O.open(D.method,D.url,D.isSynchrone):O.open(D.method,
D.url);else if('undefined'!=typeof XDomainRequest)O=new XDomainRequest,O.open(D.method,D.url);else{result='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,$target,'error.'+id,result);return}O.responseType='undefined'!=typeof D.responseType?D.responseType:'';O.withCredentials=!0}else D.isSynchrone?O.open(D.method,D.url,D.isSynchrone):O.open(D.method,D.url);for(var ca in D.headers)'Content-Type'==ca&&'undefined'!=typeof enctype&&null!=
enctype&&''!=enctype||O.setRequestHeader(ca,D.headers[ca])}return O}
function handleXhr(D,O,ca,Ea){if(!D)throw Error('No `xhr` object initiated');var K=null,S=null,oa=null,V=null,U=null,l=ca.$link||null,T=ca.$form||null,q=null;delete ca.$link;delete ca.$form;T||l?l?(l.target=document.getElementById(l.id),q=gina.link.target,U=gina.link.id):(q=T.target,U=q.getAttribute('id')):(q=O,U=q.getAttribute('id'));var da=l&&O.getAttribute('data-gina-link-event-on-success')||l&&O.getAttribute('data-gina-link-event-on-error')?!0:!1,za=T&&q.getAttribute('data-gina-form-event-on-submit-success')||
T&&q.getAttribute('data-gina-form-event-on-submit-error')?!0:!1;za&&T&&listenToXhrEvents(T,'form');O=O.getAttribute('enctype')||ca.headers['Content-Type'];for(var N in ca.headers)'Content-Type'==N&&'undefined'!=typeof O&&null!=O&&''!=O||D.setRequestHeader(N,ca.headers[N]);D.withCredentials='undefined'!=typeof ca.withCredentials?ca.withCredentials:!1;D.onerror=function(L,B){L={status:D.status||500,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};
T&&(T.eventData.error=L);l&&(l.eventData.error=L);window.ginaToolbar.update('data-xhr',L,!0);triggerEvent(gina,q,'error.'+U,L);za&&triggerEvent(gina,q,'error.'+U+'.hform',L);da&&triggerEvent(gina,q,'error.'+U+'.hlink',L)};D.onreadystatechange=function(L){L=/Google Inc/i.test(navigator.vendor)?50:0;2==D.readyState&&(S=/^attachment;/.test(D.getResponseHeader('Content-Disposition'))?!0:!1,!D.responseType&&S&&(D.responseType='blob'));if(4==D.readyState)if(K=null,oa=D.getResponseHeader('Content-Type'),
/^2/.test(D.status)){try{if(/blob/.test(D.responseType)||S){if('undefined'==typeof oa||null==oa)oa='application/octet-stream';K=new Blob([this.response],{type:oa});var B=document.createElement('a');B.style='display: none';document.body.appendChild(B);var H=window.URL.createObjectURL(K);B.href=H;var n=D.getResponseHeader('Content-Disposition');B.download=n.match('=(.*)')[0].substr(1);B.click();window.URL.revokeObjectURL(H);V={status:D.status,statusText:D.statusText,responseType:K.type,type:K.type,
size:K.size}}!V&&/\/json/.test(oa)&&(V=JSON.parse(D.responseText),'undefined'==typeof V.status&&(V.status=D.status||200));if(!V&&/\/html/.test(oa)&&(V={contentType:oa,content:D.responseText},'undefined'==typeof V.status&&(V.status=D.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler)){var z=gina.popin.getActivePopin();if(z){XHRData={};try{XHRData=(new DOMParser).parseFromString(V.content,'text/html').getElementById('gina-without-layout-xhr-data'),XHRData=JSON.parse(decodeURIComponent(XHRData.value)),
XHRView=(new DOMParser).parseFromString(V.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRData&&window.ginaToolbar.update('data-xhr',XHRData),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(v){throw v;}z.loadContent(V.content);V=XHRData;triggerEvent(gina,q,'success.'+U,V);return}}V||(V=D.responseText);T&&
(T.eventData.success=V);XHRData=V;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&/\/html/.test(oa)&&window.ginaToolbar.update('data-xhr',XHRData)}catch(v){throw v;}triggerEvent(gina,q,'success.'+U,V);za&&triggerEvent(gina,q,'success.'+U+'.hform',V);da&&triggerEvent(gina,q,'success.'+U+'.hlink',V)}catch(v){V={status:422,error:v.message,stack:v.stack};T&&(T.eventData.error=V);XHRData=V;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&
window.ginaToolbar.update('data-xhr',XHRData)}catch(E){throw E;}triggerEvent(gina,q,'error.'+U,V);za&&triggerEvent(gina,q,'error.'+U+'.hform',V);da&&triggerEvent(gina,q,'error.'+U+'.hlink',V)}if('undefined'!=typeof V&&'undefined'!=typeof V.location)return window.location.hash='',V.location=/^http/.test(V.location)||/^\//.test(V.location)?V.location:location.protocol+'//'+V.location,setTimeout(()=>{window.location.href=V.location},L)}else if(0!=D.status)if(V={status:D.status,message:''},/blob/.test(D.responseType)){K=
new Blob([this.response],{type:'text/plain'});var y=new FileReader,F='';y.addEventListener('loadend',v=>{/string/i.test(typeof v.srcElement.result)?F+=v.srcElement.result:'object'==typeof v.srcElement.result?V=merge(V,v.srcElement.result):V.message+=v.srcElement.result;if(/^2/.test(y.readyState)){if(/^(\{|\[)/.test(F))try{V=merge(V,JSON.parse(F))}catch(R){V=merge(V,R)}V.message||delete V.message;T&&(T.eventData.error=V);if('undefined'!=typeof V&&'undefined'!=typeof V.error&&V.error.fields&&'object'==
typeof V.error.fields){v={};var E=0,I;for(I in V.error.fields)++E,v[I]={isApplicationValidationError:V.error.fields[I]};0<E&&handleErrorsDisplay(T.target,v)}XHRData=V;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(R){throw R;}triggerEvent(gina,q,'error.'+U,V);za&&triggerEvent(gina,q,'error.'+U+'.hform',V);da&&triggerEvent(gina,q,'error.'+U+'.hlink',V)}});y.readAsText(K)}else{try{V=merge(V,JSON.parse(D.responseText))}catch(v){V=merge(V,
v)}T&&(T.eventData.error=V);if('undefined'!=typeof V&&'undefined'!=typeof V.error&&V.error.fields&&'object'==typeof V.error.fields){B={};H=0;for(var r in V.error.fields)++H,B[r]={isApplicationValidationError:V.error.fields[r]};0<H&&handleErrorsDisplay(T.target,B)}XHRData=V;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(v){throw v;}triggerEvent(gina,q,'error.'+U,V);za&&triggerEvent(gina,q,'error.'+U+'.hform',V);da&&triggerEvent(gina,q,
'error.'+U+'.hlink',V)}};D.onprogress=function(L){var B='0';L.lengthComputable&&(B=L.loaded/L.total,B=parseInt(100*B));L={status:100,progress:B};T&&(T.eventData.onprogress=L);triggerEvent(gina,q,'progress.'+U,L)};D.ontimeout=function(L){V={status:408,error:'Request Timeout'};T&&(T.eventData.ontimeout=V);triggerEvent(gina,q,'error.'+U,V);za&&triggerEvent(gina,q,'error.'+U+'.hform',V);da&&triggerEvent(gina,q,'error.'+U+'.hlink',V)}}
function removeListener(D,O,ca,Ea){'undefined'!=typeof D.event&&D.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(ca)&&-1!=D.event[ca].indexOf(O)&&D.event[ca].splice(D.event[ca].indexOf(O),1);if('undefined'!=typeof O&&null!=O)if(O.removeEventListener)if(Array.isArray(O))for(i=0,len=O.length;i<len;i++)D=/\.$/.test(ca)?ca+O[i].id:ca,O.removeEventListener(D,Ea,!1),'undefined'!=typeof gina.events[D]&&delete gina.events[D];else ca=/\.$/.test(ca)?ca+O.id:ca,O.removeEventListener(ca,Ea,!1);else{if(O.attachEvent)if(Array.isArray(O))for(i=
0,len=O.length;i<len;i++)D=/\.$/.test(ca)?ca+O[i].id:ca,O.detachEvent('on'+D,Ea),'undefined'!=typeof gina.events[D]&&delete gina.events[D];else ca=/\.$/.test(ca)?ca+O.id:ca,O.detachEvent('on'+ca,Ea)}else if(Array.isArray(O))for(i=0,len=O.length;i<len;i++){let K=/\.$/.test(ca)?ca+O[i].id:ca;D.customEvent.removeListener(K,Ea);'undefined'!=typeof gina.events[K]&&delete gina.events[K]}else ca=/\.$/.test(ca)?ca+O.id:ca,D.customEvent.removeListener(ca,Ea);'undefined'!=typeof gina.events[ca]&&delete gina.events[ca];
'undefined'!=typeof Ea&&Ea()}
function on(D,O){if(!this.plugin)throw Error('No `plugin` reference found for this event: `'+D);if(0>gina.registeredEvents[this.plugin].indexOf(D)&&!/^init$/.test(D)&&!/\.hform$/.test(D)&&!/\.hlink$/.test(D))O(Error('Event `'+D+'` not handled by ginaEventHandler'));else{var ca=null,Ea=null;'undefined'!=typeof this.id&&'object'!=typeof this.id?(ca=this.target||this,Ea=this.id):'undefined'!=typeof this.target?((ca=this.target)||(ca=this),Ea='undefined'!=typeof ca.getAttribute?ca.getAttribute('id'):
this.id):(ca=this.target,Ea=instance.id);this.eventData&&!ca.eventData&&(ca.eventData=this.eventData);D=/\.(hform|hlink)$/.test(D)?/\.hform$/.test(D)?D.replace(/\.hform$/,'.'+Ea+'.hform'):D.replace(/\.hlink$/,'.'+Ea+'.hlink'):D+('.'+Ea);gina.events[D]||(addListener(gina,ca,D,function(K){cancelEvent(K);var S=null;K.detail?S=K.detail:'undefined'!=typeof this.eventData.submit?S=this.eventData.submit:'undefined'!=typeof this.eventData.error?S=this.eventData.error:'undefined'!=typeof this.eventData.success&&
(S=this.eventData.success);O&&O(K,S)}),this.initialized&&!this.isReady&&triggerEvent(gina,ca,'init.'+Ea));return this}}define('utils/events',function(){});
function PrototypesHelper(D){var O='undefined'!==typeof module&&module.exports?!1:!0,ca=D||null;D=null;if('undefined'==typeof GINA_DIR&&!O&&'undefined'!=typeof process&&3<process.argv.length)if(/^\{/.test(process.argv[2]))D=JSON.parse(process.argv[2]).envVars;else if(/\.ctx$/.test(process.argv[2])){D=require('fs');var Ea=process.argv[2].split(/\-\-argv\-filename=/)[1];D=JSON.parse(D.readFileSync(Ea).toString()).envVars}if(ca&&'undefined'!=typeof ca&&'undefined'!=typeof ca.dateFormat)for(let K in ca.dateFormat)'undefined'==
typeof Date[K]&&Object.defineProperty(Date.prototype,K,{writable:!1,enumerable:!1,configurable:!0,value:function(){var S={0:this},oa=1,V;for(V in arguments)S[oa]=arguments[V],++oa;S.length=oa;return ca.dateFormat[K].apply(this,S)}});'undefined'==typeof Array.clone&&Object.defineProperty(Array.prototype,'clone',{writable:!1,enumerable:!1,configurable:!0,value:function(){return this.slice(0)}});'undefined'!=typeof JSON.clone||O||('undefined'!=typeof D&&null!=D?JSON.clone=require(D.GINA_DIR+'/utils/prototypes.json_clone'):
(D||(O=process.cwd().match(/.*\/gina/)[0],require(O+'/utils/helper'),setEnvVar('GINA_DIR',O,!0),D=getEnvVars()),JSON.clone=require(getEnvVar('GINA_DIR')+'/utils/prototypes.json_clone')));'undefined'==typeof JSON.escape&&(JSON.escape=function(K){try{return K.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(S){throw S;}});'undefined'==typeof Array.toString&&(Array.prototype.toString=function(){return this.join()});'undefined'==typeof Array.inArray&&Object.defineProperty(Array.prototype,
'inArray',{writable:!1,enumerable:!1,configurable:!0,value:function(K){return-1!=this.indexOf(K)}});'undefined'==typeof Array.from&&Object.defineProperty(Array.prototype,'from',{writable:!1,enumerable:!1,configurable:!0,value:function(K){for(var S={},oa=[],V=K.length,U=0,l=0;l<V;l++){var T=K[l];1!==S[T]&&(S[T]=1,oa[U++]=T)}return oa}});'undefined'==typeof Object.count&&Object.defineProperty(Object.prototype,'count',{writable:!0,enumerable:!1,configurable:!0,value:function(){var K=0;try{this instanceof
String&&JSON.parse(this);for(var S in this)this.hasOwnProperty(S)&&++K;return K}catch(oa){return K}}});'undefined'!=typeof global&&'undefined'==typeof global.__stack&&Object.defineProperty(global,'__stack',{configurable:!0,get:function(){var K=Error.prepareStackTrace;Error.prepareStackTrace=function(oa,V){return V};var S=Error();Error.captureStackTrace(S,arguments.callee);S=S.stack;Error.prepareStackTrace=K;return S}})}
'undefined'!==typeof module&&module.exports?module.exports=PrototypesHelper:'function'===typeof define&&define.amd&&define('helpers/prototypes',[],function(){return PrototypesHelper});
function DateFormatHelper(){var D='undefined'!==typeof module&&module.exports?!1:!0,O=D?require('lib/merge'):require('./../lib/merge');var ca='en-US';var Ea='en';var K={'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy',cookieDate:'GMT:ddd, dd mmm yyyy HH:MM:ss',logger:'yyyy mmm dd HH:MM:ss',shortTime:'h:MM TT',shortTime2:'h:MM',mediumTime:'h:MM:ss TT',mediumTime2:'h:MM:ss',longTime:'h:MM:ss TT Z',
longTime2:'h:MM:ss TT',concatenatedDate:'yyyymmdd',isoDate:'yyyy-mm-dd',isoTime:'HH:MM:ss',shortIsoTime:'HH:MM',longIsoTime:'HH:MM:ss TT',isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",longIsoDateTime:"yyyy-mm-dd'T'HH:MM:ss.L",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};var S={en:{dayNames:'Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday'.split(' '),monthNames:'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December'.split(' '),
masks:{'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy'}},fr:{dayNames:'dim lun mar mer jeu ven sam dimanche lundi mardi mercredi jeudi vendredi samedi'.split(' '),monthNames:'Jan F\u00e9v Mar Avr Mai Jui Juil Ao\u00fb Sep Oct Nov D\u00e9c Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre'.split(' '),masks:{'default':'ddd mmm dd yyyy HH:MM:ss',
shortDate:'d/m/yy',shortDate2:'dd/mm/yyyy',mediumDate:'d mmm, yyyy',longDate:'d mmmm, yyyy',fullDate:'dddd, d mmmm, yyyy'}}};var oa=function(l,T){if(T instanceof Date)return l=l.getTime(),T=T.getTime(),Math.round(Math.abs(l-T)/864E5);throw Error('dateTo is not instance of Date() !');},V=['us','eu','corporate'],U=function(l){d=new Date(l.getFullYear(),l.getMonth(),l.getDate());l=d.getDay()||7;d.setDate(d.getDate()+4-l);l=new Date(Date.parse(d.getFullYear(),0,1));return Math.ceil(((d-l)/864E5+1)/7)};
return{setCulture:function(l,T){/\-/.test(T)?(ca=T,Ea=T.split(/\-/)[0]):Ea=T;return this},format:function(l,T,q){var da=S[Ea]||S.en,za=null;try{za=O(da.masks,K)}catch(R){O=(D='undefined'!==typeof module&&module.exports?!1:!0)?require('lib/merge'):require('./../lib/merge'),za=O(da.masks,K)}'undefined'!=typeof S[ca]&&(da=S[ca],'undefined'!=typeof S[ca].mask&&(za=O(da.masks,K)));var N=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,
L=/[^-+\dA-Z]/g,B=function(R,sa){R=String(R);for(sa=sa||2;R.length<sa;)R='0'+R;return R};1!=arguments.length||'[object String]'!=Object.prototype.toString.call(l)||/\d/.test(l)||(T=l,l=void 0);l=l?new Date(l):new Date;if(isNaN(l))throw SyntaxError('invalid date');T=String(za[T]||T||za['default']);'UTC:'==T.slice(0,4)&&(T=T.slice(4),q=!0);var H=q?'getUTC':'get';za=l[H+'Date']();var n=l[H+'Day'](),z=l[H+'Month'](),y=l[H+'FullYear'](),F=l[H+'Hours'](),r=l[H+'Minutes'](),v=l[H+'Seconds']();H=l[H+'Milliseconds']();
var E=q?0:l.getTimezoneOffset(),I={d:za,dd:B(za),ddd:da.dayNames[n],dddd:da.dayNames[n+7],m:z+1,mm:B(z+1),mmm:da.monthNames[z],mmmm:da.monthNames[z+12],yy:String(y).slice(2),yyyy:y,h:F%12||12,hh:B(F%12||12),H:F,HH:B(F),M:r,MM:B(r),s:v,ss:B(v),l:B(H,3),L:B(H),t:12>F?'a':'p',tt:12>F?'am':'pm',T:12>F?'A':'P',TT:12>F?'AM':'PM',Z:q?'UTC':(String(l).match(N)||['']).pop().replace(L,''),o:(0<E?'-':'+')+B(100*Math.floor(Math.abs(E)/60)+Math.abs(E)%60,4),S:['th','st','nd','rd'][3<za%10?0:(10!=za%100-za%10)*
za%10]};return T.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,function(R){return R in I?I[R]:R.slice(1,R.length-1)})},countDaysTo:oa,getDaysTo:function(l,T,q){if(T instanceof Date){T=oa(l,T);var da=l.getMonth(),za=l.getFullYear();l=l.getDate()+1;l=new Date(za,da,l);da=[];for(za=0;za<T;++za)'undefined'!=typeof q?da.push((new Date(l)).format(q)):da.push(new Date(l)),l.setDate(l.getDate()+1);return da||[]}throw Error('dateTo is not instance of Date() !');},getDaysInMonth:function(l){var T=
l.getMonth();l=l.getFullYear();l=new Date(l,T,1);for(var q=[];l.getMonth()===T;)q.push(new Date(l)),l.setDate(l.getDate()+1);return q},getQuarter:function(l,T){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>V.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');l=new Date;T=arguments[0]}'undefined'==typeof l&&(l=new Date);'undefined'==typeof T&&(T='corporate');T=T.toLowerCase();switch(T){case 'us':var q=[4,1,2,3];break;case 'corportate':case 'eu':q=
[1,2,3,4];break;default:q=[1,2,3,4]}return q[Math.floor(l.getMonth()/3)]},getHalfYear:function(l,T){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>V.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');l=new Date;T=arguments[0]}'undefined'==typeof l&&(l=new Date);'undefined'==typeof T&&(T='corporate');T=T.toLowerCase();return 2>=l.getQuarter(T)?1:2},getWeek:function(l,T){'undefined'==typeof l&&(l=new Date);'undefined'==typeof T&&(T='ISO 8601');
T=T.replace(/\s+/g,'').toLowerCase();switch(T){case 'corporate':case 'eu':case 'iso8601':return U(l);default:return U(l)}},addHours:function(l,T){l=new Date(l.getTime());l.setHours(l.getHours()+T);return l},addDays:function(l,T){l=new Date(l.getTime());l.setHours(l.getHours()+24*T);return l},addYears:function(l,T){l=new Date(l.getTime());l.setFullYear(l.getFullYear()+T);return l}}}
'undefined'!==typeof module&&module.exports?module.exports=DateFormatHelper:'function'===typeof define&&define.amd&&define('helpers/dateFormat',[],function(){return DateFormatHelper});
!function(D,O){'object'==typeof module&&'object'==typeof module.exports?module.exports=D.document?O(D,!0):function(ca){if(!ca.document)throw Error('jQuery requires a window with a document');return O(ca)}:O(D)}('undefined'!=typeof window?window:this,function(D,O){function ca(a){var c=!!a&&'length'in a&&a.length,g=b.type(a);return'function'===g||b.isWindow(a)?!1:'array'===g||0===c||'number'==typeof c&&0<c&&c-1 in a}function Ea(a,c,g){if(b.isFunction(c))return b.grep(a,function(k,m){return!!c.call(k,
m,k)!==g});if(c.nodeType)return b.grep(a,function(k){return k===c!==g});if('string'==typeof c){if(w.test(c))return b.filter(c,a,g);c=b.filter(c,a)}return b.grep(a,function(k){return-1<b.inArray(k,c)!==g})}function K(a,c){do a=a[c];while(a&&1!==a.nodeType);return a}function S(a){var c={};return b.each(a.match(Ca)||[],function(g,k){c[k]=!0}),c}function oa(){Na.addEventListener?(Na.removeEventListener('DOMContentLoaded',V),D.removeEventListener('load',V)):(Na.detachEvent('onreadystatechange',V),D.detachEvent('onload',
V))}function V(){(Na.addEventListener||'load'===D.event.type||'complete'===Na.readyState)&&(oa(),b.ready())}function U(a,c,g){if(void 0===g&&1===a.nodeType){var k='data-'+c.replace(sb,'-$1').toLowerCase();if(g=a.getAttribute(k),'string'==typeof g){try{g='true'===g?!0:'false'===g?!1:'null'===g?null:+g+''===g?+g:qb.test(g)?b.parseJSON(g):g}catch(m){}b.data(a,c,g)}else g=void 0}return g}function l(a){for(var c in a)if(('data'!==c||!b.isEmptyObject(a[c]))&&'toJSON'!==c)return!1;return!0}function T(a,
c,g,k){if(Va(a)){var m,C,G=b.expando,Z=a.nodeType,pa=Z?b.cache:a,Ba=Z?a[G]:a[G]&&G;if(Ba&&pa[Ba]&&(k||pa[Ba].data)||void 0!==g||'string'!=typeof c)return Ba||=Z?a[G]=Gb.pop()||b.guid++:G,pa[Ba]||(pa[Ba]=Z?{}:{toJSON:b.noop}),'object'!=typeof c&&'function'!=typeof c||(k?pa[Ba]=b.extend(pa[Ba],c):pa[Ba].data=b.extend(pa[Ba].data,c)),C=pa[Ba],k||(C.data||(C.data={}),C=C.data),void 0!==g&&(C[b.camelCase(c)]=g),'string'==typeof c?(m=C[c],null==m&&(m=C[b.camelCase(c)])):m=C,m}}function q(a,c,g){if(Va(a)){var k,
m,C=a.nodeType,G=C?b.cache:a,Z=C?a[b.expando]:b.expando;if(G[Z]){if(c&&(k=g?G[Z]:G[Z].data)){b.isArray(c)?c=c.concat(b.map(c,b.camelCase)):c in k?c=[c]:(c=b.camelCase(c),c=c in k?[c]:c.split(' '));for(m=c.length;m--;)delete k[c[m]];if(g?!l(k):!b.isEmptyObject(k))return}(g||(delete G[Z].data,l(G[Z])))&&(C?b.cleanData([a],!0):e.deleteExpando||G!=G.window?delete G[Z]:G[Z]=void 0)}}}function da(a,c,g,k){var m,C=1,G=20,Z=k?function(){return k.cur()}:function(){return b.css(a,c,'')},pa=Z(),Ba=g&&g[3]||
(b.cssNumber[c]?'':'px'),ra=(b.cssNumber[c]||'px'!==Ba&&+pa)&&Ob.exec(b.css(a,c));if(ra&&ra[3]!==Ba){Ba=Ba||ra[3];g=g||[];ra=+pa||1;do C=C||'.5',ra/=C,b.style(a,c,ra+Ba);while(C!==(C=Z()/pa)&&1!==C&&--G)}return g&&(ra=+ra||+pa||0,m=g[1]?ra+(g[1]+1)*g[2]:+g[2],k&&(k.unit=Ba,k.start=ra,k.end=m)),m}function za(a){var c='abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video'.split(' ');
a=a.createDocumentFragment();if(a.createElement)for(;c.length;)a.createElement(c.pop());return a}function N(a,c){var g,k,m=0,C='undefined'!=typeof a.getElementsByTagName?a.getElementsByTagName(c||'*'):'undefined'!=typeof a.querySelectorAll?a.querySelectorAll(c||'*'):void 0;if(!C)for(C=[],g=a.childNodes||a;null!=(k=g[m]);m++)!c||b.nodeName(k,c)?C.push(k):b.merge(C,N(k,c));return void 0===c||c&&b.nodeName(a,c)?b.merge([a],C):C}function L(a,c){for(var g,k=0;null!=(g=a[k]);k++)b._data(g,'globalEval',
!c||b._data(c[k],'globalEval'))}function B(a){gb.test(a.type)&&(a.defaultChecked=a.checked)}function H(a,c,g,k,m){for(var C,G,Z,pa,Ba,ra,Ta,Wa=a.length,wb=za(c),cb=[],Jb=0;Wa>Jb;Jb++)if(G=a[Jb],G||0===G)if('object'===b.type(G))b.merge(cb,G.nodeType?[G]:G);else if(Ra.test(G)){pa=pa||wb.appendChild(c.createElement('div'));Ba=(ha.exec(G)||['',''])[1].toLowerCase();Ta=qa[Ba]||qa._default;pa.innerHTML=Ta[1]+b.htmlPrefilter(G)+Ta[2];for(C=Ta[0];C--;)pa=pa.lastChild;if(!e.leadingWhitespace&&fa.test(G)&&
cb.push(c.createTextNode(fa.exec(G)[0])),!e.tbody)for(C=(G='table'!==Ba||ab.test(G)?'<table>'!==Ta[1]||ab.test(G)?0:pa:pa.firstChild)&&G.childNodes.length;C--;)b.nodeName(ra=G.childNodes[C],'tbody')&&!ra.childNodes.length&&G.removeChild(ra);b.merge(cb,pa.childNodes);for(pa.textContent='';pa.firstChild;)pa.removeChild(pa.firstChild);pa=wb.lastChild}else cb.push(c.createTextNode(G));pa&&wb.removeChild(pa);e.appendChecked||b.grep(N(cb,'input'),B);for(Jb=0;G=cb[Jb++];)if(k&&-1<b.inArray(G,k))m&&m.push(G);
else if(Z=b.contains(G.ownerDocument,G),pa=N(wb.appendChild(G),'script'),Z&&L(pa),g)for(C=0;G=pa[C++];)Y.test(G.type||'')&&g.push(G);return wb}function n(){return!0}function z(){return!1}function y(){try{return Na.activeElement}catch(a){}}function F(a,c,g,k,m,C){var G,Z;if('object'==typeof c){'string'!=typeof g&&(k=k||g,g=void 0);for(Z in c)F(a,Z,g,k,c[Z],C);return a}if(null==k&&null==m?(m=g,k=g=void 0):null==m&&('string'==typeof g?(m=k,k=void 0):(m=k,k=g,g=void 0)),!1===m)m=z;else if(!m)return a;
return 1===C&&(G=m,m=function(pa){return b().off(pa),G.apply(this,arguments)},m.guid=G.guid||(G.guid=b.guid++)),a.each(function(){b.event.add(this,c,m,k,g)})}function r(a,c){return b.nodeName(a,'table')&&b.nodeName(11!==c.nodeType?c:c.firstChild,'tr')?a.getElementsByTagName('tbody')[0]||a.appendChild(a.ownerDocument.createElement('tbody')):a}function v(a){return a.type=(null!==b.find.attr(a,'type'))+'/'+a.type,a}function E(a){var c=Ib.exec(a.type);return c?a.type=c[1]:a.removeAttribute('type'),a}
function I(a,c){if(1===c.nodeType&&b.hasData(a)){var g,k;var m=b._data(a);a=b._data(c,m);var C=m.events;if(C)for(g in delete a.handle,a.events={},C)for(m=0,k=C[g].length;k>m;m++)b.event.add(c,g,C[g][m]);a.data&&(a.data=b.extend({},a.data))}}function R(a,c,g,k){c=Eb.apply([],c);var m,C,G,Z=0,pa=a.length,Ba=pa-1,ra=c[0],Ta=b.isFunction(ra);if(Ta||1<pa&&'string'==typeof ra&&!e.checkClone&&Db.test(ra))return a.each(function(wb){var cb=a.eq(wb);Ta&&(c[0]=ra.call(this,wb,cb.html()));R(cb,c,g,k)});if(pa&&
(G=H(c,a[0].ownerDocument,!1,a,k),m=G.firstChild,1===G.childNodes.length&&(G=m),m||k)){var Wa=b.map(N(G,'script'),v);for(C=Wa.length;pa>Z;Z++)m=G,Z!==Ba&&(m=b.clone(m,!0,!0),C&&b.merge(Wa,N(m,'script'))),g.call(a[Z],m,Z);if(C)for(G=Wa[Wa.length-1].ownerDocument,b.map(Wa,E),Z=0;C>Z;Z++)m=Wa[Z],Y.test(m.type||'')&&!b._data(m,'globalEval')&&b.contains(G,m)&&(m.src?b._evalUrl&&b._evalUrl(m.src):b.globalEval((m.text||m.textContent||m.innerHTML||'').replace(Kb,'')));G=m=null}return a}function sa(a,c,g){for(var k=
c?b.filter(c,a):a,m=0;null!=(c=k[m]);m++)g||1!==c.nodeType||b.cleanData(N(c)),c.parentNode&&(g&&b.contains(c.ownerDocument,c)&&L(N(c,'script')),c.parentNode.removeChild(c));return a}function Ga(a,c){a=b(c.createElement(a)).appendTo(c.body);c=b.css(a[0],'display');return a.detach(),c}function X(a){var c=Na,g=Gc[a];return g||(g=Ga(a,c),'none'!==g&&g||(Wb=(Wb||b("<iframe frameborder='0' width='0' height='0'/>")).appendTo(c.documentElement),c=(Wb[0].contentWindow||Wb[0].contentDocument).document,c.write(),
c.close(),g=Ga(a,c),Wb.detach()),Gc[a]=g),g}function ia(a,c){return{get:function(){return a()?void delete this.get:(this.get=c).apply(this,arguments)}}}function ea(a){if(a in jd)return a;for(var c=a.charAt(0).toUpperCase()+a.slice(1),g=kd.length;g--;)if(a=kd[g]+c,a in jd)return a}function wa(a,c){for(var g,k,m,C=[],G=0,Z=a.length;Z>G;G++)k=a[G],k.style&&(C[G]=b._data(k,'olddisplay'),g=k.style.display,c?(C[G]||'none'!==g||(k.style.display=''),''===k.style.display&&Vb(k)&&(C[G]=b._data(k,'olddisplay',
X(k.nodeName)))):(m=Vb(k),(g&&'none'!==g||!m)&&b._data(k,'olddisplay',m?g:b.css(k,'display'))));for(G=0;Z>G;G++)k=a[G],k.style&&(c&&'none'!==k.style.display&&''!==k.style.display||(k.style.display=c?C[G]||'':'none'));return a}function ka(a,c,g){return(a=wd.exec(c))?Math.max(0,a[1]-(g||0))+(a[2]||'px'):c}function ta(a,c,g,k,m){c=g===(k?'border':'content')?4:'width'===c?1:0;for(var C=0;4>c;c+=2)'margin'===g&&(C+=b.css(a,g+zb[c],!0,m)),k?('content'===g&&(C-=b.css(a,'padding'+zb[c],!0,m)),'margin'!==
g&&(C-=b.css(a,'border'+zb[c]+'Width',!0,m))):(C+=b.css(a,'padding'+zb[c],!0,m),'padding'!==g&&(C+=b.css(a,'border'+zb[c]+'Width',!0,m)));return C}function Da(a,c,g){var k=!0,m='width'===c?a.offsetWidth:a.offsetHeight,C=xc(a),G=e.boxSizing&&'border-box'===b.css(a,'boxSizing',!1,C);if(0>=m||null==m){if(m=sc(a,c,C),(0>m||null==m)&&(m=a.style[c]),Mb.test(m))return m;k=G&&(e.boxSizingReliable()||m===a.style[c]);m=parseFloat(m)||0}return m+ta(a,c,g||(G?'border':'content'),k,C)+'px'}function Qa(a,c,g,k,
m){return new Qa.prototype.init(a,c,g,k,m)}function La(){return D.setTimeout(function(){Hc=void 0}),Hc=b.now()}function Fa(a,c){var g={height:a},k=0;for(c=c?1:0;4>k;k+=2-c){var m=zb[k];g['margin'+m]=g['padding'+m]=a}return c&&(g.opacity=g.width=a),g}function Oa(a,c,g){for(var k,m=(Ka.tweeners[c]||[]).concat(Ka.tweeners['*']),C=0,G=m.length;G>C;C++)if(k=m[C].call(g,c,a))return k}function Ia(a,c){var g,k,m,C,G;for(g in a)if(k=b.camelCase(g),m=c[k],C=a[g],b.isArray(C)&&(m=C[1],C=a[g]=C[0]),g!==k&&(a[k]=
C,delete a[g]),G=b.cssHooks[k],G&&'expand'in G)for(g in C=G.expand(C),delete a[k],C)g in a||(a[g]=C[g],c[g]=m);else c[k]=m}function Ka(a,c,g){var k,m=0,C=Ka.prefilters.length,G=b.Deferred().always(function(){delete Z.elem}),Z=function(){if(k)return!1;var Ba=Hc||La();Ba=Math.max(0,pa.startTime+pa.duration-Ba);for(var ra=1-(Ba/pa.duration||0),Ta=0,Wa=pa.tweens.length;Wa>Ta;Ta++)pa.tweens[Ta].run(ra);return G.notifyWith(a,[pa,ra,Ba]),1>ra&&Wa?Ba:(G.resolveWith(a,[pa]),!1)},pa=G.promise({elem:a,props:b.extend({},
c),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},g),originalProperties:c,originalOptions:g,startTime:Hc||La(),duration:g.duration,tweens:[],createTween:function(Ba,ra){Ba=b.Tween(a,pa.opts,Ba,ra,pa.opts.specialEasing[Ba]||pa.opts.easing);return pa.tweens.push(Ba),Ba},stop:function(Ba){var ra=0,Ta=Ba?pa.tweens.length:0;if(k)return this;for(k=!0;Ta>ra;ra++)pa.tweens[ra].run(1);return Ba?(G.notifyWith(a,[pa,1,0]),G.resolveWith(a,[pa,Ba])):G.rejectWith(a,[pa,Ba]),this}});g=pa.props;for(Ia(g,
pa.opts.specialEasing);C>m;m++)if(c=Ka.prefilters[m].call(pa,a,g,pa.opts))return b.isFunction(c.stop)&&(b._queueHooks(pa.elem,pa.opts.queue).stop=b.proxy(c.stop,c)),c;return b.map(g,Oa,pa),b.isFunction(pa.opts.start)&&pa.opts.start.call(a,pa),b.fx.timer(b.extend(Z,{elem:a,anim:pa,queue:pa.opts.queue})),pa.progress(pa.opts.progress).done(pa.opts.done,pa.opts.complete).fail(pa.opts.fail).always(pa.opts.always)}function Ya(a){return b.attr(a,'class')||''}function pb(a){return function(c,g){'string'!=
typeof c&&(g=c,c='*');var k=0,m=c.toLowerCase().match(Ca)||[];if(b.isFunction(g))for(;c=m[k++];)'+'===c.charAt(0)?(c=c.slice(1)||'*',(a[c]=a[c]||[]).unshift(g)):(a[c]=a[c]||[]).push(g)}}function $a(a,c,g,k){function m(Z){var pa;return C[Z]=!0,b.each(a[Z]||[],function(Ba,ra){Ba=ra(c,g,k);return'string'!=typeof Ba||G||C[Ba]?G?!(pa=Ba):void 0:(c.dataTypes.unshift(Ba),m(Ba),!1)}),pa}var C={},G=a===Xc;return m(c.dataTypes[0])||!C['*']&&m('*')}function jb(a,c){var g,k,m=b.ajaxSettings.flatOptions||{};for(k in c)void 0!==
c[k]&&((m[k]?a:g||={})[k]=c[k]);return g&&b.extend(!0,a,g),a}function bc(a){if(!b.contains(a.ownerDocument||Na,a))return!0;for(;a&&1===a.nodeType;){if('none'===(a.style&&a.style.display||b.css(a,'display'))||'hidden'===a.type)return!0;a=a.parentNode}return!1}function $b(a,c,g,k){var m;if(b.isArray(c))b.each(c,function(C,G){g||xd.test(a)?k(a,G):$b(a+'['+('object'==typeof G&&null!=G?C:'')+']',G,g,k)});else if(g||'object'!==b.type(c))k(a,c);else for(m in c)$b(a+'['+m+']',c[m],g,k)}function fb(){try{return new D.XMLHttpRequest}catch(a){}}
function Cb(){try{return new D.ActiveXObject('Microsoft.XMLHTTP')}catch(a){}}function yb(a){return b.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var Gb=[],Na=D.document,db=Gb.slice,Eb=Gb.concat,Pb=Gb.push,xa=Gb.indexOf,ya={},Ja=ya.toString,M=ya.hasOwnProperty,e={},b=function(a,c){return new b.fn.init(a,c)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,x=/-([\da-z])/gi,u=function(a,c){return c.toUpperCase()};b.fn=b.prototype={jquery:'1.12.4',constructor:b,selector:'',length:0,
toArray:function(){return db.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:db.call(this)},pushStack:function(a){a=b.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a){return b.each(this,a)},map:function(a){return this.pushStack(b.map(this,function(c,g){return a.call(c,g,c)}))},slice:function(){return this.pushStack(db.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var c=
this.length;a=+a+(0>a?c:0);return this.pushStack(0<=a&&c>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Pb,sort:Gb.sort,splice:Gb.splice};b.extend=b.fn.extend=function(){var a,c,g,k,m=arguments[0]||{},C=1,G=arguments.length,Z=!1;'boolean'==typeof m&&(Z=m,m=arguments[C]||{},C++);'object'==typeof m||b.isFunction(m)||(m={});for(C===G&&(m=this,C--);G>C;C++)if(null!=(g=arguments[C]))for(c in g){var pa=m[c];var Ba=g[c];m!==Ba&&(Z&&Ba&&(b.isPlainObject(Ba)||(a=b.isArray(Ba)))?
(a?(a=!1,k=pa&&b.isArray(pa)?pa:[]):k=pa&&b.isPlainObject(pa)?pa:{},m[c]=b.extend(Z,k,Ba)):void 0!==Ba&&(m[c]=Ba))}return m};b.extend({expando:'jQuery'+('1.12.4'+Math.random()).replace(/\D/g,''),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return'function'===b.type(a)},isArray:Array.isArray||function(a){return'array'===b.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var c=a&&a.toString();return!b.isArray(a)&&0<=c-parseFloat(c)+
1},isEmptyObject:function(a){for(var c in a)return!1;return!0},isPlainObject:function(a){var c;if(!a||'object'!==b.type(a)||a.nodeType||b.isWindow(a))return!1;try{if(a.constructor&&!M.call(a,'constructor')&&!M.call(a.constructor.prototype,'isPrototypeOf'))return!1}catch(g){return!1}if(!e.ownFirst)for(c in a)return M.call(a,c);for(c in a);return void 0===c||M.call(a,c)},type:function(a){return null==a?a+'':'object'==typeof a||'function'==typeof a?ya[Ja.call(a)]||'object':typeof a},globalEval:function(a){a&&
b.trim(a)&&(D.execScript||function(c){D.eval.call(D,c)})(a)},camelCase:function(a){return a.replace(p,'ms-').replace(x,u)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()},each:function(a,c){var g,k=0;if(ca(a))for(g=a.length;g>k&&!1!==c.call(a[k],k,a[k]);k++);else for(k in a)if(!1===c.call(a[k],k,a[k]))break;return a},trim:function(a){return null==a?'':(a+'').replace(h,'')},makeArray:function(a,c){c=c||[];return null!=a&&(ca(Object(a))?b.merge(c,'string'==typeof a?
[a]:a):Pb.call(c,a)),c},inArray:function(a,c,g){if(c){if(xa)return xa.call(c,a,g);var k=c.length;for(g=g?0>g?Math.max(0,k+g):g:0;k>g;g++)if(g in c&&c[g]===a)return g}return-1},merge:function(a,c){for(var g=+c.length,k=0,m=a.length;g>k;)a[m++]=c[k++];if(g!==g)for(;void 0!==c[k];)a[m++]=c[k++];return a.length=m,a},grep:function(a,c,g){for(var k=[],m=0,C=a.length,G=!g;C>m;m++)g=!c(a[m],m),g!==G&&k.push(a[m]);return k},map:function(a,c,g){var k,m=0,C=[];if(ca(a))for(k=a.length;k>m;m++){var G=c(a[m],m,
g);null!=G&&C.push(G)}else for(m in a)G=c(a[m],m,g),null!=G&&C.push(G);return Eb.apply([],C)},guid:1,proxy:function(a,c){var g,k,m;return'string'==typeof c&&(m=a[c],c=a,a=m),b.isFunction(a)?(g=db.call(arguments,2),k=function(){return a.apply(c||this,g.concat(db.call(arguments)))},k.guid=a.guid=a.guid||b.guid++,k):void 0},now:function(){return+new Date},support:e});'function'==typeof Symbol&&(b.fn[Symbol.iterator]=Gb[Symbol.iterator]);b.each('Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' '),
function(a,c){ya['[object '+c+']']=c.toLowerCase()});var A=function(a){function c(J,ba,ma,va){var Ha,Ma,Ua,bb,Xa=ba&&ba.ownerDocument,lb=ba?ba.nodeType:9;if(ma=ma||[],'string'!=typeof J||!J||1!==lb&&9!==lb&&11!==lb)return ma;if(!va&&((ba?ba.ownerDocument||ba:cc)!==tb&&Dc(ba),ba=ba||tb,hc)){if(11!==lb&&(bb=yd.exec(J)))if(Ha=bb[1])if(9===lb){if(!(Ma=ba.getElementById(Ha)))return ma;if(Ma.id===Ha)return ma.push(Ma),ma}else{if(Xa&&(Ma=Xa.getElementById(Ha))&&oc(ba,Ma)&&Ma.id===Ha)return ma.push(Ma),ma}else{if(bb[2])return Cc.apply(ma,
ba.getElementsByTagName(J)),ma;if((Ha=bb[3])&&Rb.getElementsByClassName&&ba.getElementsByClassName)return Cc.apply(ma,ba.getElementsByClassName(Ha)),ma}if(!(!Rb.qsa||dc[J+' ']||Xb&&Xb.test(J))){if(1!==lb){Xa=ba;var nb=J}else if('object'!==ba.nodeName.toLowerCase()){(Ua=ba.getAttribute('id'))?Ua=Ua.replace(zd,'\\$&'):ba.setAttribute('id',Ua=Ab);bb=Pc(J);Ha=bb.length;for(Ma=ld.test(Ua)?'#'+Ua:"[id='"+Ua+"']";Ha--;)bb[Ha]=Ma+' '+Wa(bb[Ha]);nb=bb.join(',');Xa=Yc.test(J)&&ra(ba.parentNode)||ba}if(nb)try{return Cc.apply(ma,
Xa.querySelectorAll(nb)),ma}catch(hb){}finally{Ua===Ab&&ba.removeAttribute('id')}}}return ic(J.replace(Qc,'$1'),ba,ma,va)}function g(){function J(ma,va){return ba.push(ma+' ')>Fb.cacheLength&&delete J[ba.shift()],J[ma+' ']=va}var ba=[];return J}function k(J){return J[Ab]=!0,J}function m(J){var ba=tb.createElement('div');try{return!!J(ba)}catch(ma){return!1}finally{ba.parentNode&&ba.parentNode.removeChild(ba)}}function C(J,ba){J=J.split('|');for(var ma=J.length;ma--;)Fb.attrHandle[J[ma]]=ba}function G(J,
ba){var ma=ba&&J,va=ma&&1===J.nodeType&&1===ba.nodeType&&(~ba.sourceIndex||-2147483648)-(~J.sourceIndex||-2147483648);if(va)return va;if(ma)for(;ma=ma.nextSibling;)if(ma===ba)return-1;return J?1:-1}function Z(J){return function(ba){return'input'===ba.nodeName.toLowerCase()&&ba.type===J}}function pa(J){return function(ba){var ma=ba.nodeName.toLowerCase();return('input'===ma||'button'===ma)&&ba.type===J}}function Ba(J){return k(function(ba){return ba=+ba,k(function(ma,va){for(var Ha,Ma=J([],ma.length,
ba),Ua=Ma.length;Ua--;)ma[Ha=Ma[Ua]]&&(ma[Ha]=!(va[Ha]=ma[Ha]))})})}function ra(J){return J&&'undefined'!=typeof J.getElementsByTagName&&J}function Ta(){}function Wa(J){for(var ba=0,ma=J.length,va='';ma>ba;ba++)va+=J[ba].value;return va}function wb(J,ba,ma){var va=ba.dir,Ha=ma&&'parentNode'===va,Ma=Sb++;return ba.first?function(Ua,bb,Xa){for(;Ua=Ua[va];)if(1===Ua.nodeType||Ha)return J(Ua,bb,Xa)}:function(Ua,bb,Xa){var lb,nb,hb,Lb=[Yb,Ma];if(Xa)for(;Ua=Ua[va];){if((1===Ua.nodeType||Ha)&&J(Ua,bb,Xa))return!0}else for(;Ua=
Ua[va];)if(1===Ua.nodeType||Ha){if(hb=Ua[Ab]||(Ua[Ab]={}),nb=hb[Ua.uniqueID]||(hb[Ua.uniqueID]={}),(lb=nb[va])&&lb[0]===Yb&&lb[1]===Ma)return Lb[2]=lb[2];if(nb[va]=Lb,Lb[2]=J(Ua,bb,Xa))return!0}}}function cb(J){return 1<J.length?function(ba,ma,va){for(var Ha=J.length;Ha--;)if(!J[Ha](ba,ma,va))return!1;return!0}:J[0]}function Jb(J,ba,ma,va,Ha){for(var Ma,Ua=[],bb=0,Xa=J.length,lb=null!=ba;Xa>bb;bb++)(Ma=J[bb])&&(ma&&!ma(Ma,va,Ha)||(Ua.push(Ma),lb&&ba.push(bb)));return Ua}function lc(J,ba,ma,va,Ha,
Ma){return va&&!va[Ab]&&(va=lc(va)),Ha&&!Ha[Ab]&&(Ha=lc(Ha,Ma)),k(function(Ua,bb,Xa,lb){var nb,hb=[],Lb=[],ec=bb.length,ac;if(!(ac=Ua)){ac=ba||'*';for(var ub=Xa.nodeType?[Xa]:Xa,tc=[],jc=0,rc=ub.length;rc>jc;jc++)c(ac,ub[jc],tc);ac=tc}ac=!J||!Ua&&ba?ac:Jb(ac,hb,J,Xa,lb);ub=ma?Ha||(Ua?J:ec||va)?[]:bb:ac;if(ma&&ma(ac,ub,Xa,lb),va){var fc=Jb(ub,Lb);va(fc,[],Xa,lb);for(Xa=fc.length;Xa--;)(nb=fc[Xa])&&(ub[Lb[Xa]]=!(ac[Lb[Xa]]=nb))}if(Ua){if(Ha||J){if(Ha){fc=[];for(Xa=ub.length;Xa--;)(nb=ub[Xa])&&fc.push(ac[Xa]=
nb);Ha(null,ub=[],fc,lb)}for(Xa=ub.length;Xa--;)(nb=ub[Xa])&&-1<(fc=Ha?Ec(Ua,nb):hb[Xa])&&(Ua[fc]=!(bb[fc]=nb))}}else ub=Jb(ub===bb?ub.splice(ec,ub.length):ub),Ha?Ha(null,bb,ub,lb):Cc.apply(bb,ub)})}function Ic(J){var ba,ma,va=J.length,Ha=Fb.relative[J[0].type];var Ma=Ha||Fb.relative[' '];for(var Ua=Ha?1:0,bb=wb(function(nb){return nb===ba},Ma,!0),Xa=wb(function(nb){return-1<Ec(ba,nb)},Ma,!0),lb=[function(nb,hb,Lb){nb=!Ha&&(Lb||hb!==Bb)||((ba=hb).nodeType?bb(nb,hb,Lb):Xa(nb,hb,Lb));return ba=null,
nb}];va>Ua;Ua++)if(Ma=Fb.relative[J[Ua].type])lb=[wb(cb(lb),Ma)];else{if(Ma=Fb.filter[J[Ua].type].apply(null,J[Ua].matches),Ma[Ab]){for(ma=++Ua;va>ma&&!Fb.relative[J[ma].type];ma++);return lc(1<Ua&&cb(lb),1<Ua&&Wa(J.slice(0,Ua-1).concat({value:' '===J[Ua-2].type?'*':''})).replace(Qc,'$1'),Ma,ma>Ua&&Ic(J.slice(Ua,ma)),va>ma&&Ic(J=J.slice(ma)),va>ma&&Wa(J))}lb.push(Ma)}return cb(lb)}function mc(J,ba){var ma=0<ba.length,va=0<J.length,Ha=function(Ma,Ua,bb,Xa,lb){var nb,hb,Lb=0,ec='0',ac=Ma&&[],ub=[],
tc=Bb,jc=Ma||va&&Fb.find.TAG('*',lb),rc=Yb+=null==tc?1:Math.random()||.1,fc=jc.length;for(lb&&(Bb=Ua===tb||Ua||lb);ec!==fc&&null!=(nb=jc[ec]);ec++){if(va&&nb){var Zc=0;for(Ua||nb.ownerDocument===tb||(Dc(nb),bb=!hc);hb=J[Zc++];)if(hb(nb,Ua||tb,bb)){Xa.push(nb);break}lb&&(Yb=rc)}ma&&((nb=!hb&&nb)&&Lb--,Ma&&ac.push(nb))}if(Lb+=ec,ma&&ec!==Lb){for(Zc=0;hb=ba[Zc++];)hb(ac,ub,Ua,bb);if(Ma){if(0<Lb)for(;ec--;)ac[ec]||ub[ec]||(ub[ec]=$c.call(Xa));ub=Jb(ub)}Cc.apply(Xa,ub);lb&&!Ma&&0<ub.length&&1<Lb+ba.length&&
c.uniqueSort(Xa)}return lb&&(Yb=rc,Bb=tc),ac};return ma?k(Ha):Ha}var yc,vb,ic,Bb,Qb,Tb,tb,kc,hc,Xb,gc,Ub,oc,Ab='sizzle'+1*new Date,cc=a.document,Yb=0,Sb=0,Jc=g(),pc=g(),dc=g(),uc=function(J,ba){return J===ba&&(Tb=!0),0},vc={}.hasOwnProperty,nc=[],$c=nc.pop,Ad=nc.push,Cc=nc.push,md=nc.slice,Ec=function(J,ba){for(var ma=0,va=J.length;va>ma;ma++)if(J[ma]===ba)return ma;return-1},Bd=RegExp('[\\x20\\t\\r\\n\\f]+','g'),Qc=RegExp('^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$','g'),
Cd=RegExp('^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*'),Dd=RegExp('^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*'),Ed=RegExp('=[\\x20\\t\\r\\n\\f]*([^\\]\'"]*?)[\\x20\\t\\r\\n\\f]*\\]','g'),Fd=RegExp(':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
ld=RegExp('^(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+$'),Rc={ID:RegExp('^#((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),CLASS:RegExp('^\\.((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),TAG:RegExp('^((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+|[*])'),ATTR:RegExp('^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]'),PSEUDO:RegExp('^:((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
CHILD:RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)','i'),bool:RegExp('^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$','i'),needsContext:RegExp('^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)',
'i')},Gd=/^(?:input|select|textarea|button)$/i,Hd=/^h\d$/i,Mc=/^[^{]+\{\s*\[native \w/,yd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Yc=/[+~]/,zd=/'|\\/g,zc=RegExp('\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)','ig'),Ac=function(J,ba,ma){J='0x'+ba-65536;return J!==J||ma?ba:0>J?String.fromCharCode(J+65536):String.fromCharCode(J>>10|55296,1023&J|56320)},nd=function(){Dc()};try{Cc.apply(nc=md.call(cc.childNodes),cc.childNodes),nc[cc.childNodes.length].nodeType}catch(J){Cc={apply:nc.length?
function(ba,ma){Ad.apply(ba,md.call(ma))}:function(ba,ma){for(var va=ba.length,Ha=0;ba[va++]=ma[Ha++];);ba.length=va-1}}}var Rb=c.support={};var Id=c.isXML=function(J){return(J=J&&(J.ownerDocument||J).documentElement)?'HTML'!==J.nodeName:!1};var Dc=c.setDocument=function(J){var ba,ma;J=J?J.ownerDocument||J:cc;return J!==tb&&9===J.nodeType&&J.documentElement?(tb=J,kc=tb.documentElement,hc=!Id(tb),(ma=tb.defaultView)&&ma.top!==ma&&(ma.addEventListener?ma.addEventListener('unload',nd,!1):ma.attachEvent&&
ma.attachEvent('onunload',nd)),Rb.attributes=m(function(va){return va.className='i',!va.getAttribute('className')}),Rb.getElementsByTagName=m(function(va){return va.appendChild(tb.createComment('')),!va.getElementsByTagName('*').length}),Rb.getElementsByClassName=Mc.test(tb.getElementsByClassName),Rb.getById=m(function(va){return kc.appendChild(va).id=Ab,!tb.getElementsByName||!tb.getElementsByName(Ab).length}),Rb.getById?(Fb.find.ID=function(va,Ha){if('undefined'!=typeof Ha.getElementById&&hc)return(va=
Ha.getElementById(va))?[va]:[]},Fb.filter.ID=function(va){var Ha=va.replace(zc,Ac);return function(Ma){return Ma.getAttribute('id')===Ha}}):(delete Fb.find.ID,Fb.filter.ID=function(va){var Ha=va.replace(zc,Ac);return function(Ma){return(Ma='undefined'!=typeof Ma.getAttributeNode&&Ma.getAttributeNode('id'))&&Ma.value===Ha}}),Fb.find.TAG=Rb.getElementsByTagName?function(va,Ha){return'undefined'!=typeof Ha.getElementsByTagName?Ha.getElementsByTagName(va):Rb.qsa?Ha.querySelectorAll(va):void 0}:function(va,
Ha){var Ma=[],Ua=0;Ha=Ha.getElementsByTagName(va);if('*'===va){for(;va=Ha[Ua++];)1===va.nodeType&&Ma.push(va);return Ma}return Ha},Fb.find.CLASS=Rb.getElementsByClassName&&function(va,Ha){return'undefined'!=typeof Ha.getElementsByClassName&&hc?Ha.getElementsByClassName(va):void 0},gc=[],Xb=[],(Rb.qsa=Mc.test(tb.querySelectorAll))&&(m(function(va){kc.appendChild(va).innerHTML="<a id='"+Ab+"'></a><select id='"+Ab+"-\r\\' msallowcapture=''><option selected=''></option></select>";va.querySelectorAll("[msallowcapture^='']").length&&
Xb.push('[*^$]=[\\x20\\t\\r\\n\\f]*(?:\'\'|"")');va.querySelectorAll('[selected]').length||Xb.push('\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)');va.querySelectorAll('[id~='+Ab+'-]').length||Xb.push('~=');va.querySelectorAll(':checked').length||Xb.push(':checked');va.querySelectorAll('a#'+Ab+'+*').length||Xb.push('.#.+[+~]')}),m(function(va){var Ha=tb.createElement('input');Ha.setAttribute('type',
'hidden');va.appendChild(Ha).setAttribute('name','D');va.querySelectorAll('[name=d]').length&&Xb.push('name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=');va.querySelectorAll(':enabled').length||Xb.push(':enabled',':disabled');va.querySelectorAll('*,:x');Xb.push(',.*:')})),(Rb.matchesSelector=Mc.test(Ub=kc.matches||kc.webkitMatchesSelector||kc.mozMatchesSelector||kc.oMatchesSelector||kc.msMatchesSelector))&&m(function(va){Rb.disconnectedMatch=Ub.call(va,'div');Ub.call(va,"[s!='']:x");gc.push('!=',':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)')}),
Xb=Xb.length&&new RegExp(Xb.join('|')),gc=gc.length&&new RegExp(gc.join('|')),ba=Mc.test(kc.compareDocumentPosition),oc=ba||Mc.test(kc.contains)?function(va,Ha){var Ma=9===va.nodeType?va.documentElement:va;Ha=Ha&&Ha.parentNode;return va===Ha||!(!Ha||1!==Ha.nodeType||!(Ma.contains?Ma.contains(Ha):va.compareDocumentPosition&&16&va.compareDocumentPosition(Ha)))}:function(va,Ha){if(Ha)for(;Ha=Ha.parentNode;)if(Ha===va)return!0;return!1},uc=ba?function(va,Ha){if(va===Ha)return Tb=!0,0;var Ma=!va.compareDocumentPosition-
!Ha.compareDocumentPosition;return Ma?Ma:(Ma=(va.ownerDocument||va)===(Ha.ownerDocument||Ha)?va.compareDocumentPosition(Ha):1,1&Ma||!Rb.sortDetached&&Ha.compareDocumentPosition(va)===Ma?va===tb||va.ownerDocument===cc&&oc(cc,va)?-1:Ha===tb||Ha.ownerDocument===cc&&oc(cc,Ha)?1:Qb?Ec(Qb,va)-Ec(Qb,Ha):0:4&Ma?-1:1)}:function(va,Ha){if(va===Ha)return Tb=!0,0;var Ma=0,Ua=va.parentNode,bb=Ha.parentNode,Xa=[va],lb=[Ha];if(!Ua||!bb)return va===tb?-1:Ha===tb?1:Ua?-1:bb?1:Qb?Ec(Qb,va)-Ec(Qb,Ha):0;if(Ua===bb)return G(va,
Ha);for(;va=va.parentNode;)Xa.unshift(va);for(va=Ha;va=va.parentNode;)lb.unshift(va);for(;Xa[Ma]===lb[Ma];)Ma++;return Ma?G(Xa[Ma],lb[Ma]):Xa[Ma]===cc?-1:lb[Ma]===cc?1:0},tb):tb};c.matches=function(J,ba){return c(J,null,null,ba)};c.matchesSelector=function(J,ba){if((J.ownerDocument||J)!==tb&&Dc(J),ba=ba.replace(Ed,"='$1']"),!(!Rb.matchesSelector||!hc||dc[ba+' ']||gc&&gc.test(ba)||Xb&&Xb.test(ba)))try{var ma=Ub.call(J,ba);if(ma||Rb.disconnectedMatch||J.document&&11!==J.document.nodeType)return ma}catch(va){}return 0<
c(ba,tb,null,[J]).length};c.contains=function(J,ba){return(J.ownerDocument||J)!==tb&&Dc(J),oc(J,ba)};c.attr=function(J,ba){(J.ownerDocument||J)!==tb&&Dc(J);var ma=Fb.attrHandle[ba.toLowerCase()];ma=ma&&vc.call(Fb.attrHandle,ba.toLowerCase())?ma(J,ba,!hc):void 0;return void 0!==ma?ma:Rb.attributes||!hc?J.getAttribute(ba):(ma=J.getAttributeNode(ba))&&ma.specified?ma.value:null};c.error=function(J){throw Error('Syntax error, unrecognized expression: '+J);};c.uniqueSort=function(J){var ba,ma=[],va=0,
Ha=0;if(Tb=!Rb.detectDuplicates,Qb=!Rb.sortStable&&J.slice(0),J.sort(uc),Tb){for(;ba=J[Ha++];)ba===J[Ha]&&(va=ma.push(Ha));for(;va--;)J.splice(ma[va],1)}return Qb=null,J};var ad=c.getText=function(J){var ba,ma='',va=0;if(ba=J.nodeType)if(1===ba||9===ba||11===ba){if('string'==typeof J.textContent)return J.textContent;for(J=J.firstChild;J;J=J.nextSibling)ma+=ad(J)}else{if(3===ba||4===ba)return J.nodeValue}else for(;ba=J[va++];)ma+=ad(ba);return ma};var Fb=c.selectors={cacheLength:50,createPseudo:k,
match:Rc,attrHandle:{},find:{},relative:{'>':{dir:'parentNode',first:!0},' ':{dir:'parentNode'},'+':{dir:'previousSibling',first:!0},'~':{dir:'previousSibling'}},preFilter:{ATTR:function(J){return J[1]=J[1].replace(zc,Ac),J[3]=(J[3]||J[4]||J[5]||'').replace(zc,Ac),'~='===J[2]&&(J[3]=' '+J[3]+' '),J.slice(0,4)},CHILD:function(J){return J[1]=J[1].toLowerCase(),'nth'===J[1].slice(0,3)?(J[3]||c.error(J[0]),J[4]=+(J[4]?J[5]+(J[6]||1):2*('even'===J[3]||'odd'===J[3])),J[5]=+(J[7]+J[8]||'odd'===J[3])):J[3]&&
c.error(J[0]),J},PSEUDO:function(J){var ba,ma=!J[6]&&J[2];return Rc.CHILD.test(J[0])?null:(J[3]?J[2]=J[4]||J[5]||'':ma&&Fd.test(ma)&&(ba=Pc(ma,!0))&&(ba=ma.indexOf(')',ma.length-ba)-ma.length)&&(J[0]=J[0].slice(0,ba),J[2]=ma.slice(0,ba)),J.slice(0,3))}},filter:{TAG:function(J){var ba=J.replace(zc,Ac).toLowerCase();return'*'===J?function(){return!0}:function(ma){return ma.nodeName&&ma.nodeName.toLowerCase()===ba}},CLASS:function(J){var ba=Jc[J+' '];return ba||(ba=new RegExp('(^|[\\x20\\t\\r\\n\\f])'+
J+'([\\x20\\t\\r\\n\\f]|$)'),Jc(J,function(ma){return ba.test('string'==typeof ma.className&&ma.className||'undefined'!=typeof ma.getAttribute&&ma.getAttribute('class')||'')}))},ATTR:function(J,ba,ma){return function(va){va=c.attr(va,J);return null==va?'!='===ba:ba?(va+='','='===ba?va===ma:'!='===ba?va!==ma:'^='===ba?ma&&0===va.indexOf(ma):'*='===ba?ma&&-1<va.indexOf(ma):'$='===ba?ma&&va.slice(-ma.length)===ma:'~='===ba?-1<(' '+va.replace(Bd,' ')+' ').indexOf(ma):'|='===ba?va===ma||va.slice(0,ma.length+
1)===ma+'-':!1):!0}},CHILD:function(J,ba,ma,va,Ha){var Ma='nth'!==J.slice(0,3),Ua='last'!==J.slice(-4),bb='of-type'===ba;return 1===va&&0===Ha?function(Xa){return!!Xa.parentNode}:function(Xa,lb,nb){var hb,Lb;lb=Ma!==Ua?'nextSibling':'previousSibling';var ec=Xa.parentNode,ac=bb&&Xa.nodeName.toLowerCase();nb=!nb&&!bb;var ub=!1;if(ec){if(Ma){for(;lb;){for(hb=Xa;hb=hb[lb];)if(bb?hb.nodeName.toLowerCase()===ac:1===hb.nodeType)return!1;var tc=lb='only'===J&&!tc&&'nextSibling'}return!0}if(tc=[Ua?ec.firstChild:
ec.lastChild],Ua&&nb){hb=ec;var jc=hb[Ab]||(hb[Ab]={});var rc=jc[hb.uniqueID]||(jc[hb.uniqueID]={});var fc=rc[J]||[];ub=(Lb=fc[0]===Yb&&fc[1])&&fc[2];for(hb=Lb&&ec.childNodes[Lb];hb=++Lb&&hb&&hb[lb]||(ub=Lb=0)||tc.pop();)if(1===hb.nodeType&&++ub&&hb===Xa){rc[J]=[Yb,Lb,ub];break}}else if(nb&&(hb=Xa,jc=hb[Ab]||(hb[Ab]={}),rc=jc[hb.uniqueID]||(jc[hb.uniqueID]={}),fc=rc[J]||[],Lb=fc[0]===Yb&&fc[1],ub=Lb),!1===ub)for(;(hb=++Lb&&hb&&hb[lb]||(ub=Lb=0)||tc.pop())&&((bb?hb.nodeName.toLowerCase()!==ac:1!==
hb.nodeType)||!++ub||(nb&&(jc=hb[Ab]||(hb[Ab]={}),rc=jc[hb.uniqueID]||(jc[hb.uniqueID]={}),rc[J]=[Yb,ub]),hb!==Xa)););return ub-=Ha,ub===va||0===ub%va&&0<=ub/va}}},PSEUDO:function(J,ba){var ma,va=Fb.pseudos[J]||Fb.setFilters[J.toLowerCase()]||c.error('unsupported pseudo: '+J);return va[Ab]?va(ba):1<va.length?(ma=[J,J,'',ba],Fb.setFilters.hasOwnProperty(J.toLowerCase())?k(function(Ha,Ma){for(var Ua,bb=va(Ha,ba),Xa=bb.length;Xa--;)Ua=Ec(Ha,bb[Xa]),Ha[Ua]=!(Ma[Ua]=bb[Xa])}):function(Ha){return va(Ha,
0,ma)}):va}},pseudos:{not:k(function(J){var ba=[],ma=[],va=vb(J.replace(Qc,'$1'));return va[Ab]?k(function(Ha,Ma,Ua,bb){var Xa;Ua=va(Ha,null,bb,[]);for(bb=Ha.length;bb--;)(Xa=Ua[bb])&&(Ha[bb]=!(Ma[bb]=Xa))}):function(Ha,Ma,Ua){return ba[0]=Ha,va(ba,null,Ua,ma),ba[0]=null,!ma.pop()}}),has:k(function(J){return function(ba){return 0<c(J,ba).length}}),contains:k(function(J){return J=J.replace(zc,Ac),function(ba){return-1<(ba.textContent||ba.innerText||ad(ba)).indexOf(J)}}),lang:k(function(J){return ld.test(J||
'')||c.error('unsupported lang: '+J),J=J.replace(zc,Ac).toLowerCase(),function(ba){var ma;do if(ma=hc?ba.lang:ba.getAttribute('xml:lang')||ba.getAttribute('lang'))return ma=ma.toLowerCase(),ma===J||0===ma.indexOf(J+'-');while((ba=ba.parentNode)&&1===ba.nodeType);return!1}}),target:function(J){var ba=a.location&&a.location.hash;return ba&&ba.slice(1)===J.id},root:function(J){return J===kc},focus:function(J){return J===tb.activeElement&&(!tb.hasFocus||tb.hasFocus())&&!!(J.type||J.href||~J.tabIndex)},
enabled:function(J){return!1===J.disabled},disabled:function(J){return!0===J.disabled},checked:function(J){var ba=J.nodeName.toLowerCase();return'input'===ba&&!!J.checked||'option'===ba&&!!J.selected},selected:function(J){return J.parentNode&&J.parentNode.selectedIndex,!0===J.selected},empty:function(J){for(J=J.firstChild;J;J=J.nextSibling)if(6>J.nodeType)return!1;return!0},parent:function(J){return!Fb.pseudos.empty(J)},header:function(J){return Hd.test(J.nodeName)},input:function(J){return Gd.test(J.nodeName)},
button:function(J){var ba=J.nodeName.toLowerCase();return'input'===ba&&'button'===J.type||'button'===ba},text:function(J){var ba;return'input'===J.nodeName.toLowerCase()&&'text'===J.type&&(null==(ba=J.getAttribute('type'))||'text'===ba.toLowerCase())},first:Ba(function(){return[0]}),last:Ba(function(J,ba){return[ba-1]}),eq:Ba(function(J,ba,ma){return[0>ma?ma+ba:ma]}),even:Ba(function(J,ba){for(var ma=0;ba>ma;ma+=2)J.push(ma);return J}),odd:Ba(function(J,ba){for(var ma=1;ba>ma;ma+=2)J.push(ma);return J}),
lt:Ba(function(J,ba,ma){for(ba=0>ma?ma+ba:ma;0<=--ba;)J.push(ba);return J}),gt:Ba(function(J,ba,ma){for(ma=0>ma?ma+ba:ma;++ma<ba;)J.push(ma);return J})}};Fb.pseudos.nth=Fb.pseudos.eq;for(yc in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Fb.pseudos[yc]=Z(yc);for(yc in{submit:!0,reset:!0})Fb.pseudos[yc]=pa(yc);Ta.prototype=Fb.filters=Fb.pseudos;Fb.setFilters=new Ta;var Pc=c.tokenize=function(J,ba){var ma,va,Ha,Ma,Ua;if(Ma=pc[J+' '])return ba?0:Ma.slice(0);Ma=J;var bb=[];for(Ua=Fb.preFilter;Ma;){Xa&&
!(ma=Cd.exec(Ma))||(ma&&(Ma=Ma.slice(ma[0].length)||Ma),bb.push(va=[]));var Xa=!1;(ma=Dd.exec(Ma))&&(Xa=ma.shift(),va.push({value:Xa,type:ma[0].replace(Qc,' ')}),Ma=Ma.slice(Xa.length));for(Ha in Fb.filter)!(ma=Rc[Ha].exec(Ma))||Ua[Ha]&&!(ma=Ua[Ha](ma))||(Xa=ma.shift(),va.push({value:Xa,type:Ha,matches:ma}),Ma=Ma.slice(Xa.length));if(!Xa)break}return ba?Ma.length:Ma?c.error(J):pc(J,bb).slice(0)};return vb=c.compile=function(J,ba){var ma,va=[],Ha=[],Ma=dc[J+' '];if(!Ma){ba||=Pc(J);for(ma=ba.length;ma--;)Ma=
Ic(ba[ma]),Ma[Ab]?va.push(Ma):Ha.push(Ma);Ma=dc(J,mc(Ha,va));Ma.selector=J}return Ma},ic=c.select=function(J,ba,ma,va){var Ha,Ma,Ua,bb,Xa,lb='function'==typeof J&&J,nb=!va&&Pc(J=lb.selector||J);if(ma=ma||[],1===nb.length){if(Ma=nb[0]=nb[0].slice(0),2<Ma.length&&'ID'===(Ua=Ma[0]).type&&Rb.getById&&9===ba.nodeType&&hc&&Fb.relative[Ma[1].type]){if(ba=(Fb.find.ID(Ua.matches[0].replace(zc,Ac),ba)||[])[0],!ba)return ma;lb&&(ba=ba.parentNode);J=J.slice(Ma.shift().value.length)}for(Ha=Rc.needsContext.test(J)?
0:Ma.length;Ha--&&(Ua=Ma[Ha],!Fb.relative[bb=Ua.type]);)if((Xa=Fb.find[bb])&&(va=Xa(Ua.matches[0].replace(zc,Ac),Yc.test(Ma[0].type)&&ra(ba.parentNode)||ba))){if(Ma.splice(Ha,1),J=va.length&&Wa(Ma),!J)return Cc.apply(ma,va),ma;break}}return(lb||vb(J,nb))(va,ba,!hc,ma,!ba||Yc.test(J)&&ra(ba.parentNode)||ba),ma},Rb.sortStable=Ab.split('').sort(uc).join('')===Ab,Rb.detectDuplicates=!!Tb,Dc(),Rb.sortDetached=m(function(J){return 1&J.compareDocumentPosition(tb.createElement('div'))}),m(function(J){return J.innerHTML=
"<a href='#'></a>",'#'===J.firstChild.getAttribute('href')})||C('type|href|height|width',function(J,ba,ma){return ma?void 0:J.getAttribute(ba,'type'===ba.toLowerCase()?1:2)}),Rb.attributes&&m(function(J){return J.innerHTML='<input/>',J.firstChild.setAttribute('value',''),''===J.firstChild.getAttribute('value')})||C('value',function(J,ba,ma){return ma||'input'!==J.nodeName.toLowerCase()?void 0:J.defaultValue}),m(function(J){return null==J.getAttribute('disabled')})||C('checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',
function(J,ba,ma){var va;return ma?void 0:!0===J[ba]?ba.toLowerCase():(va=J.getAttributeNode(ba))&&va.specified?va.value:null}),c}(D);b.find=A;b.expr=A.selectors;b.expr[':']=b.expr.pseudos;b.uniqueSort=b.unique=A.uniqueSort;b.text=A.getText;b.isXMLDoc=A.isXML;b.contains=A.contains;var W=function(a,c,g){for(var k=[],m=void 0!==g;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(m&&b(a).is(g))break;k.push(a)}return k},P=function(a,c){for(var g=[];a;a=a.nextSibling)1===a.nodeType&&a!==c&&g.push(a);return g},
aa=b.expr.match.needsContext,Q=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;b.filter=function(a,c,g){var k=c[0];return g&&(a=':not('+a+')'),1===c.length&&1===k.nodeType?b.find.matchesSelector(k,a)?[k]:[]:b.find.matches(a,b.grep(c,function(m){return 1===m.nodeType}))};b.fn.extend({find:function(a){var c,g=[],k=this,m=k.length;if('string'!=typeof a)return this.pushStack(b(a).filter(function(){for(c=0;m>c;c++)if(b.contains(k[c],this))return!0}));for(c=0;m>c;c++)b.find(a,k[c],g);return g=this.pushStack(1<
m?b.unique(g):g),g.selector=this.selector?this.selector+' '+a:a,g},filter:function(a){return this.pushStack(Ea(this,a||[],!1))},not:function(a){return this.pushStack(Ea(this,a||[],!0))},is:function(a){return!!Ea(this,'string'==typeof a&&aa.test(a)?b(a):a||[],!1).length}});var ja=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(b.fn.init=function(a,c,g){var k,m;if(!a)return this;if(g=g||ua,'string'==typeof a){if(k='<'===a.charAt(0)&&'>'===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:ja.exec(a),!k||!k[1]&&
c)return!c||c.jquery?(c||g).find(a):this.constructor(c).find(a);if(k[1]){if(c=c instanceof b?c[0]:c,b.merge(this,b.parseHTML(k[1],c&&c.nodeType?c.ownerDocument||c:Na,!0)),Q.test(k[1])&&b.isPlainObject(c))for(k in c)b.isFunction(this[k])?this[k](c[k]):this.attr(k,c[k]);return this}if(m=Na.getElementById(k[2]),m&&m.parentNode){if(m.id!==k[2])return ua.find(a);this.length=1;this[0]=m}return this.context=Na,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):b.isFunction(a)?
'undefined'!=typeof g.ready?g.ready(a):a(b):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),b.makeArray(a,this))}).prototype=b.fn;var ua=b(Na);var na=/^(?:parents|prev(?:Until|All))/,la={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({has:function(a){var c,g=b(a,this),k=g.length;return this.filter(function(){for(c=0;k>c;c++)if(b.contains(this,g[c]))return!0})},closest:function(a,c){for(var g,k=0,m=this.length,C=[],G=aa.test(a)||'string'!=typeof a?b(a,c||this.context):
0;m>k;k++)for(g=this[k];g&&g!==c;g=g.parentNode)if(11>g.nodeType&&(G?-1<G.index(g):1===g.nodeType&&b.find.matchesSelector(g,a))){C.push(g);break}return this.pushStack(1<C.length?b.uniqueSort(C):C)},index:function(a){return a?'string'==typeof a?b.inArray(this[0],b(a)):b.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,c){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(a,c))))},addBack:function(a){return this.add(null==a?this.prevObject:
this.prevObject.filter(a))}});b.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return W(a,'parentNode')},parentsUntil:function(a,c,g){return W(a,'parentNode',g)},next:function(a){return K(a,'nextSibling')},prev:function(a){return K(a,'previousSibling')},nextAll:function(a){return W(a,'nextSibling')},prevAll:function(a){return W(a,'previousSibling')},nextUntil:function(a,c,g){return W(a,'nextSibling',g)},prevUntil:function(a,c,g){return W(a,'previousSibling',
g)},siblings:function(a){return P((a.parentNode||{}).firstChild,a)},children:function(a){return P(a.firstChild)},contents:function(a){return b.nodeName(a,'iframe')?a.contentDocument||a.contentWindow.document:b.merge([],a.childNodes)}},function(a,c){b.fn[a]=function(g,k){var m=b.map(this,c,g);return'Until'!==a.slice(-5)&&(k=g),k&&'string'==typeof k&&(m=b.filter(k,m)),1<this.length&&(la[a]||(m=b.uniqueSort(m)),na.test(a)&&(m=m.reverse())),this.pushStack(m)}});var Ca=/\S+/g;b.Callbacks=function(a){a=
'string'==typeof a?S(a):b.extend({},a);var c,g,k,m,C=[],G=[],Z=-1,pa=function(){m=a.once;for(k=c=!0;G.length;Z=-1)for(g=G.shift();++Z<C.length;)!1===C[Z].apply(g[0],g[1])&&a.stopOnFalse&&(Z=C.length,g=!1);a.memory||(g=!1);c=!1;m&&(C=g?[]:'')},Ba={add:function(){return C&&(g&&!c&&(Z=C.length-1,G.push(g)),function Wa(Ta){b.each(Ta,function(wb,cb){b.isFunction(cb)?a.unique&&Ba.has(cb)||C.push(cb):cb&&cb.length&&'string'!==b.type(cb)&&Wa(cb)})}(arguments),g&&!c&&pa()),this},remove:function(){return b.each(arguments,
function(ra,Ta){for(var Wa;-1<(Wa=b.inArray(Ta,C,Wa));)C.splice(Wa,1),Z>=Wa&&Z--}),this},has:function(ra){return ra?-1<b.inArray(ra,C):0<C.length},empty:function(){return C&&=[],this},disable:function(){return m=G=[],C=g='',this},disabled:function(){return!C},lock:function(){return m=!0,g||Ba.disable(),this},locked:function(){return!!m},fireWith:function(ra,Ta){return m||(Ta=Ta||[],Ta=[ra,Ta.slice?Ta.slice():Ta],G.push(Ta),c||pa()),this},fire:function(){return Ba.fireWith(this,arguments),this},fired:function(){return!!k}};
return Ba};b.extend({Deferred:function(a){var c=[['resolve','done',b.Callbacks('once memory'),'resolved'],['reject','fail',b.Callbacks('once memory'),'rejected'],['notify','progress',b.Callbacks('memory')]],g='pending',k={state:function(){return g},always:function(){return m.done(arguments).fail(arguments),this},then:function(){var C=arguments;return b.Deferred(function(G){b.each(c,function(Z,pa){var Ba=b.isFunction(C[Z])&&C[Z];m[pa[1]](function(){var ra=Ba&&Ba.apply(this,arguments);ra&&b.isFunction(ra.promise)?
ra.promise().progress(G.notify).done(G.resolve).fail(G.reject):G[pa[0]+'With'](this===k?G.promise():this,Ba?[ra]:arguments)})});C=null}).promise()},promise:function(C){return null!=C?b.extend(C,k):k}},m={};return k.pipe=k.then,b.each(c,function(C,G){var Z=G[2],pa=G[3];k[G[1]]=Z.add;pa&&Z.add(function(){g=pa},c[1^C][2].disable,c[2][2].lock);m[G[0]]=function(){return m[G[0]+'With'](this===m?k:this,arguments),this};m[G[0]+'With']=Z.fireWith}),k.promise(m),a&&a.call(m,m),m},when:function(a){var c=0,g=
db.call(arguments),k=g.length,m=1!==k||a&&b.isFunction(a.promise)?k:0,C=1===m?a:b.Deferred(),G=function(ra,Ta,Wa){return function(wb){Ta[ra]=this;Wa[ra]=1<arguments.length?db.call(arguments):wb;Wa===pa?C.notifyWith(Ta,Wa):--m||C.resolveWith(Ta,Wa)}},Z;if(1<k){var pa=Array(k);var Ba=Array(k);for(Z=Array(k);k>c;c++)g[c]&&b.isFunction(g[c].promise)?g[c].promise().progress(G(c,Ba,pa)).done(G(c,Z,g)).fail(C.reject):--m}return m||C.resolveWith(Z,g),C.promise()}});var Aa;b.fn.ready=function(a){return b.ready.promise().done(a),
this};b.extend({isReady:!1,readyWait:1,holdReady:function(a){a?b.readyWait++:b.ready(!0)},ready:function(a){(!0===a?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==a&&0<--b.readyWait||(Aa.resolveWith(Na,[b]),b.fn.triggerHandler&&(b(Na).triggerHandler('ready'),b(Na).off('ready'))))}});b.ready.promise=function(a){if(!Aa)if(Aa=b.Deferred(),'complete'===Na.readyState||'loading'!==Na.readyState&&!Na.documentElement.doScroll)D.setTimeout(b.ready);else if(Na.addEventListener)Na.addEventListener('DOMContentLoaded',
V),D.addEventListener('load',V);else{Na.attachEvent('onreadystatechange',V);D.attachEvent('onload',V);var c=!1;try{c=null==D.frameElement&&Na.documentElement}catch(g){}c&&c.doScroll&&!function k(){if(!b.isReady){try{c.doScroll('left')}catch(m){return D.setTimeout(k,50)}oa();b.ready()}}()}return Aa.promise(a)};b.ready.promise();for(var Sa in b(e))break;e.ownFirst='0'===Sa;e.inlineBlockNeedsLayout=!1;b(function(){var a,c,g,k;(g=Na.getElementsByTagName('body')[0])&&g.style&&(c=Na.createElement('div'),
k=Na.createElement('div'),k.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',g.appendChild(k).appendChild(c),'undefined'!=typeof c.style.zoom&&(c.style.cssText='display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1',e.inlineBlockNeedsLayout=a=3===c.offsetWidth,a&&(g.style.zoom=1)),g.removeChild(k))});(function(){var a=Na.createElement('div');e.deleteExpando=!0;try{delete a.test}catch(c){e.deleteExpando=!1}})();var Va=function(a){var c=b.noData[(a.nodeName+' ').toLowerCase()],
g=+a.nodeType||1;return 1!==g&&9!==g?!1:!c||!0!==c&&a.getAttribute('classid')===c},qb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,sb=/([A-Z])/g;b.extend({cache:{},noData:{'applet ':!0,'embed ':!0,'object ':'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'},hasData:function(a){return a=a.nodeType?b.cache[a[b.expando]]:a[b.expando],!!a&&!l(a)},data:function(a,c,g){return T(a,c,g)},removeData:function(a,c){return q(a,c)},_data:function(a,c,g){return T(a,c,g,!0)},_removeData:function(a,c){return q(a,c,!0)}});b.fn.extend({data:function(a,
c){var g,k,m,C=this[0],G=C&&C.attributes;if(void 0===a){if(this.length&&(m=b.data(C),1===C.nodeType&&!b._data(C,'parsedAttrs'))){for(g=G.length;g--;)G[g]&&(k=G[g].name,0===k.indexOf('data-')&&(k=b.camelCase(k.slice(5)),U(C,k,m[k])));b._data(C,'parsedAttrs',!0)}return m}return'object'==typeof a?this.each(function(){b.data(this,a)}):1<arguments.length?this.each(function(){b.data(this,a,c)}):C?U(C,a,b.data(C,a)):void 0},removeData:function(a){return this.each(function(){b.removeData(this,a)})}});b.extend({queue:function(a,
c,g){var k;return a?(c=(c||'fx')+'queue',k=b._data(a,c),g&&(!k||b.isArray(g)?k=b._data(a,c,b.makeArray(g)):k.push(g)),k||[]):void 0},dequeue:function(a,c){c=c||'fx';var g=b.queue(a,c),k=g.length,m=g.shift(),C=b._queueHooks(a,c),G=function(){b.dequeue(a,c)};'inprogress'===m&&(m=g.shift(),k--);m&&('fx'===c&&g.unshift('inprogress'),delete C.stop,m.call(a,G,C));!k&&C&&C.empty.fire()},_queueHooks:function(a,c){var g=c+'queueHooks';return b._data(a,g)||b._data(a,g,{empty:b.Callbacks('once memory').add(function(){b._removeData(a,
c+'queue');b._removeData(a,g)})})}});b.fn.extend({queue:function(a,c){var g=2;return'string'!=typeof a&&(c=a,a='fx',g--),arguments.length<g?b.queue(this[0],a):void 0===c?this:this.each(function(){var k=b.queue(this,a,c);b._queueHooks(this,a);'fx'===a&&'inprogress'!==k[0]&&b.dequeue(this,a)})},dequeue:function(a){return this.each(function(){b.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||'fx',[])},promise:function(a,c){var g,k=1,m=b.Deferred(),C=this,G=this.length,Z=function(){--k||
m.resolveWith(C,[C])};'string'!=typeof a&&(c=a,a=void 0);for(a=a||'fx';G--;)(g=b._data(C[G],a+'queueHooks'))&&g.empty&&(k++,g.empty.add(Z));return Z(),m.promise(c)}});(function(){var a;e.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var c,g,k;return g=Na.getElementsByTagName('body')[0],g&&g.style?(c=Na.createElement('div'),k=Na.createElement('div'),k.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',g.appendChild(k).appendChild(c),'undefined'!=typeof c.style.zoom&&
(c.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1',c.appendChild(Na.createElement('div')).style.width='5px',a=3!==c.offsetWidth),g.removeChild(k),a):void 0}})();var Hb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ob=new RegExp('^(?:([+-])=|)('+Hb+')([a-z%]*)$','i'),zb=['Top','Right','Bottom','Left'],Vb=function(a,c){return a=c||a,'none'===b.css(a,'display')||!b.contains(a.ownerDocument,a)},
Za=function(a,c,g,k,m,C,G){var Z=0,pa=a.length,Ba=null==g;if('object'===b.type(g))for(Z in m=!0,g)Za(a,c,Z,g[Z],!0,C,G);else if(void 0!==k&&(m=!0,b.isFunction(k)||(G=!0),Ba&&(G?(c.call(a,k),c=null):(Ba=c,c=function(ra,Ta,Wa){return Ba.call(b(ra),Wa)})),c))for(;pa>Z;Z++)c(a[Z],g,G?k:k.call(a[Z],Z,c(a[Z],g)));return m?a:Ba?c.call(a):pa?c(a[0],g):C},gb=/^(?:checkbox|radio)$/i,ha=/<([\w:-]+)/,Y=/^$|\/(?:java|ecma)script/i,fa=/^\s+/;!function(){var a=Na.createElement('div'),c=Na.createDocumentFragment(),
g=Na.createElement('input');a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";e.leadingWhitespace=3===a.firstChild.nodeType;e.tbody=!a.getElementsByTagName('tbody').length;e.htmlSerialize=!!a.getElementsByTagName('link').length;e.html5Clone='<:nav></:nav>'!==Na.createElement('nav').cloneNode(!0).outerHTML;g.type='checkbox';g.checked=!0;c.appendChild(g);e.appendChecked=g.checked;a.innerHTML='<textarea>x</textarea>';e.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue;
c.appendChild(a);g=Na.createElement('input');g.setAttribute('type','radio');g.setAttribute('checked','checked');g.setAttribute('name','t');a.appendChild(g);e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;e.noCloneEvent=!!a.addEventListener;a[b.expando]=1;e.attributes=!a.getAttribute(b.expando)}();var qa={option:[1,"<select multiple='multiple'>",'</select>'],legend:[1,'<fieldset>','</fieldset>'],area:[1,'<map>','</map>'],param:[1,'<object>','</object>'],thead:[1,'<table>','</table>'],
tr:[2,'<table><tbody>','</tbody></table>'],col:[2,'<table><tbody></tbody><colgroup>','</colgroup></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:e.htmlSerialize?[0,'','']:[1,'X<div>','</div>']};qa.optgroup=qa.option;qa.tbody=qa.tfoot=qa.colgroup=qa.caption=qa.thead;qa.th=qa.td;var Ra=/<|&#?\w+;/,ab=/<tbody/i;!function(){var a,c=Na.createElement('div');for(a in{submit:!0,change:!0,focusin:!0}){var g='on'+a;(e[a]=g in D)||(c.setAttribute(g,'t'),e[a]=!1===c.attributes[g].expando)}}();
var eb=/^(?:input|select|textarea)$/i,Pa=/^key/,xb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,kb=/^(?:focusinfocus|focusoutblur)$/,ib=/^([^.]*)(?:\.(.+)|)/;b.event={global:{},add:function(a,c,g,k,m){var C,G,Z,pa,Ba,ra,Ta,Wa;if(G=b._data(a)){g.handler&&(Z=g,g=Z.handler,m=Z.selector);g.guid||(g.guid=b.guid++);(C=G.events)||(C=G.events={});(Ba=G.handle)||(Ba=G.handle=function(Jb){return'undefined'==typeof b||Jb&&b.event.triggered===Jb.type?void 0:b.event.dispatch.apply(Ba.elem,arguments)},Ba.elem=
a);c=(c||'').match(Ca)||[''];for(G=c.length;G--;){var wb=ib.exec(c[G])||[];var cb=Wa=wb[1];wb=(wb[2]||'').split('.').sort();cb&&(pa=b.event.special[cb]||{},cb=(m?pa.delegateType:pa.bindType)||cb,pa=b.event.special[cb]||{},ra=b.extend({type:cb,origType:Wa,data:k,handler:g,guid:g.guid,selector:m,needsContext:m&&b.expr.match.needsContext.test(m),namespace:wb.join('.')},Z),(Ta=C[cb])||(Ta=C[cb]=[],Ta.delegateCount=0,pa.setup&&!1!==pa.setup.call(a,k,wb,Ba)||(a.addEventListener?a.addEventListener(cb,Ba,
!1):a.attachEvent&&a.attachEvent('on'+cb,Ba))),pa.add&&(pa.add.call(a,ra),ra.handler.guid||(ra.handler.guid=g.guid)),m?Ta.splice(Ta.delegateCount++,0,ra):Ta.push(ra),b.event.global[cb]=!0)}a=null}},remove:function(a,c,g,k,m){var C,G,Z,pa,Ba,ra,Ta,Wa,wb=b.hasData(a)&&b._data(a);if(wb&&(Ba=wb.events)){c=(c||'').match(Ca)||[''];for(pa=c.length;pa--;)if(G=ib.exec(c[pa])||[],ra=Wa=G[1],Ta=(G[2]||'').split('.').sort(),ra){var cb=b.event.special[ra]||{};ra=(k?cb.delegateType:cb.bindType)||ra;var Jb=Ba[ra]||
[];G=G[2]&&new RegExp('(^|\\.)'+Ta.join('\\.(?:.*\\.|)')+'(\\.|$)');for(Z=C=Jb.length;C--;){var lc=Jb[C];!m&&Wa!==lc.origType||g&&g.guid!==lc.guid||G&&!G.test(lc.namespace)||k&&k!==lc.selector&&('**'!==k||!lc.selector)||(Jb.splice(C,1),lc.selector&&Jb.delegateCount--,cb.remove&&cb.remove.call(a,lc))}Z&&!Jb.length&&(cb.teardown&&!1!==cb.teardown.call(a,Ta,wb.handle)||b.removeEvent(a,ra,wb.handle),delete Ba[ra])}else for(ra in Ba)b.event.remove(a,ra+c[pa],g,k,!0);b.isEmptyObject(Ba)&&(delete wb.handle,
b._removeData(a,'events'))}},trigger:function(a,c,g,k){var m,C,G,Z,pa=[g||Na],Ba=M.call(a,'type')?a.type:a;var ra=M.call(a,'namespace')?a.namespace.split('.'):[];if(G=m=g=g||Na,3!==g.nodeType&&8!==g.nodeType&&!kb.test(Ba+b.event.triggered)&&(-1<Ba.indexOf('.')&&(ra=Ba.split('.'),Ba=ra.shift(),ra.sort()),C=0>Ba.indexOf(':')&&'on'+Ba,a=a[b.expando]?a:new b.Event(Ba,'object'==typeof a&&a),a.isTrigger=k?2:3,a.namespace=ra.join('.'),a.rnamespace=a.namespace?new RegExp('(^|\\.)'+ra.join('\\.(?:.*\\.|)')+
'(\\.|$)'):null,a.result=void 0,a.target||(a.target=g),c=null==c?[a]:b.makeArray(c,[a]),Z=b.event.special[Ba]||{},k||!Z.trigger||!1!==Z.trigger.apply(g,c))){if(!k&&!Z.noBubble&&!b.isWindow(g)){var Ta=Z.delegateType||Ba;for(kb.test(Ta+Ba)||(G=G.parentNode);G;G=G.parentNode)pa.push(G),m=G;m===(g.ownerDocument||Na)&&pa.push(m.defaultView||m.parentWindow||D)}for(ra=0;(G=pa[ra++])&&!a.isPropagationStopped();)a.type=1<ra?Ta:Z.bindType||Ba,(m=(b._data(G,'events')||{})[a.type]&&b._data(G,'handle'))&&m.apply(G,
c),(m=C&&G[C])&&m.apply&&Va(G)&&(a.result=m.apply(G,c),!1===a.result&&a.preventDefault());if(a.type=Ba,!(k||a.isDefaultPrevented()||Z._default&&!1!==Z._default.apply(pa.pop(),c))&&Va(g)&&C&&g[Ba]&&!b.isWindow(g)){(m=g[C])&&(g[C]=null);b.event.triggered=Ba;try{g[Ba]()}catch(Wa){}b.event.triggered=void 0;m&&(g[C]=m)}return a.result}},dispatch:function(a){a=b.event.fix(a);var c,g,k,m,C=db.call(arguments);var G=(b._data(this,'events')||{})[a.type]||[];var Z=b.event.special[a.type]||{};if(C[0]=a,a.delegateTarget=
this,!Z.preDispatch||!1!==Z.preDispatch.call(this,a)){var pa=b.event.handlers.call(this,a,G);for(G=0;(k=pa[G++])&&!a.isPropagationStopped();)for(a.currentTarget=k.elem,c=0;(m=k.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(m.namespace)||(a.handleObj=m,a.data=m.data,g=((b.event.special[m.origType]||{}).handle||m.handler).apply(k.elem,C),void 0!==g&&!1===(a.result=g)&&(a.preventDefault(),a.stopPropagation()));return Z.postDispatch&&Z.postDispatch.call(this,a),
a.result}},handlers:function(a,c){var g,k=[],m=c.delegateCount,C=a.target;if(m&&C.nodeType&&('click'!==a.type||isNaN(a.button)||1>a.button))for(;C!=this;C=C.parentNode||this)if(1===C.nodeType&&(!0!==C.disabled||'click'!==a.type)){var G=[];for(g=0;m>g;g++){var Z=c[g];var pa=Z.selector+' ';void 0===G[pa]&&(G[pa]=Z.needsContext?-1<b(pa,this).index(C):b.find(pa,this,null,[C]).length);G[pa]&&G.push(Z)}G.length&&k.push({elem:C,handlers:G})}return m<c.length&&k.push({elem:this,handlers:c.slice(m)}),k},fix:function(a){if(a[b.expando])return a;
var c=a.type;var g=a,k=this.fixHooks[c];k||(this.fixHooks[c]=k=xb.test(c)?this.mouseHooks:Pa.test(c)?this.keyHooks:{});var m=k.props?this.props.concat(k.props):this.props;a=new b.Event(g);for(c=m.length;c--;){var C=m[c];a[C]=g[C]}return a.target||(a.target=g.srcElement||Na),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,k.filter?k.filter(a,g):a},props:'altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(' '),
fixHooks:{},keyHooks:{props:['char','charCode','key','keyCode'],filter:function(a,c){return null==a.which&&(a.which=null!=c.charCode?c.charCode:c.keyCode),a}},mouseHooks:{props:'button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement'.split(' '),filter:function(a,c){var g,k,m,C=c.button,G=c.fromElement;return null==a.pageX&&null!=c.clientX&&(k=a.target.ownerDocument||Na,m=k.documentElement,g=k.body,a.pageX=c.clientX+(m&&m.scrollLeft||g&&g.scrollLeft||0)-(m&&
m.clientLeft||g&&g.clientLeft||0),a.pageY=c.clientY+(m&&m.scrollTop||g&&g.scrollTop||0)-(m&&m.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&G&&(a.relatedTarget=G===a.target?c.toElement:G),a.which||void 0===C||(a.which=1&C?1:2&C?3:4&C?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==y()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:'focusin'},blur:{trigger:function(){return this===y()&&this.blur?(this.blur(),!1):void 0},delegateType:'focusout'},click:{trigger:function(){return b.nodeName(this,
'input')&&'checkbox'===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return b.nodeName(a.target,'a')}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,c,g){a=b.extend(new b.Event,g,{type:a,isSimulated:!0});b.event.trigger(a,null,c);a.isDefaultPrevented()&&g.preventDefault()}};b.removeEvent=Na.removeEventListener?function(a,c,g){a.removeEventListener&&a.removeEventListener(c,g)}:function(a,
c,g){c='on'+c;a.detachEvent&&('undefined'==typeof a[c]&&(a[c]=null),a.detachEvent(c,g))};b.Event=function(a,c){return this instanceof b.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?n:z):this.type=a,c&&b.extend(this,c),this.timeStamp=a&&a.timeStamp||b.now(),void(this[b.expando]=!0)):new b.Event(a,c)};b.Event.prototype={constructor:b.Event,isDefaultPrevented:z,isPropagationStopped:z,isImmediatePropagationStopped:z,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=n;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=n;a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=n;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};b.each({mouseenter:'mouseover',
mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},function(a,c){b.event.special[a]={delegateType:c,bindType:c,handle:function(g){var k,m=g.relatedTarget,C=g.handleObj;return m&&(m===this||b.contains(this,m))||(g.type=C.origType,k=C.handler.apply(this,arguments),g.type=c),k}}});e.submit||(b.event.special.submit={setup:function(){return b.nodeName(this,'form')?!1:void b.event.add(this,'click._submit keypress._submit',function(a){a=a.target;(a=b.nodeName(a,'input')||b.nodeName(a,
'button')?b.prop(a,'form'):void 0)&&!b._data(a,'submit')&&(b.event.add(a,'submit._submit',function(c){c._submitBubble=!0}),b._data(a,'submit',!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&b.event.simulate('submit',this.parentNode,a))},teardown:function(){return b.nodeName(this,'form')?!1:void b.event.remove(this,'._submit')}});e.change||(b.event.special.change={setup:function(){return eb.test(this.nodeName)?('checkbox'!==this.type&&'radio'!==
this.type||(b.event.add(this,'propertychange._change',function(a){'checked'===a.originalEvent.propertyName&&(this._justChanged=!0)}),b.event.add(this,'click._change',function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1);b.event.simulate('change',this,a)})),!1):void b.event.add(this,'beforeactivate._change',function(a){a=a.target;eb.test(a.nodeName)&&!b._data(a,'change')&&(b.event.add(a,'change._change',function(c){!this.parentNode||c.isSimulated||c.isTrigger||b.event.simulate('change',
this.parentNode,c)}),b._data(a,'change',!0))})},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||'radio'!==c.type&&'checkbox'!==c.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return b.event.remove(this,'._change'),!eb.test(this.nodeName)}});e.focusin||b.each({focus:'focusin',blur:'focusout'},function(a,c){var g=function(k){b.event.simulate(c,k.target,b.event.fix(k))};b.event.special[c]={setup:function(){var k=this.ownerDocument||this,m=b._data(k,
c);m||k.addEventListener(a,g,!0);b._data(k,c,(m||0)+1)},teardown:function(){var k=this.ownerDocument||this,m=b._data(k,c)-1;m?b._data(k,c,m):(k.removeEventListener(a,g,!0),b._removeData(k,c))}}});b.fn.extend({on:function(a,c,g,k){return F(this,a,c,g,k)},one:function(a,c,g,k){return F(this,a,c,g,k,1)},off:function(a,c,g){var k,m;if(a&&a.preventDefault&&a.handleObj)return k=a.handleObj,b(a.delegateTarget).off(k.namespace?k.origType+'.'+k.namespace:k.origType,k.selector,k.handler),this;if('object'==
typeof a){for(m in a)this.off(m,c,a[m]);return this}return!1!==c&&'function'!=typeof c||(g=c,c=void 0),!1===g&&(g=z),this.each(function(){b.event.remove(this,a,g,c)})},trigger:function(a,c){return this.each(function(){b.event.trigger(a,c,this)})},triggerHandler:function(a,c){var g=this[0];return g?b.event.trigger(a,c,g,!0):void 0}});var ob=/ jQuery\d+="(?:null|\d+)"/g,rb=RegExp('<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video)[\\s/>]',
'i'),mb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Nb=/<script|<style|<link/i,Db=/checked\s*(?:[^=]|=\s*.checked.)/i,Ib=/^true\/(.*)/,Kb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Zb=za(Na).appendChild(Na.createElement('div'));b.extend({htmlPrefilter:function(a){return a.replace(mb,'<$1></$2>')},clone:function(a,c,g){var k,m,C,G=b.contains(a.ownerDocument,a);if(e.html5Clone||b.isXMLDoc(a)||!rb.test('<'+a.nodeName+'>')?m=a.cloneNode(!0):(Zb.innerHTML=a.outerHTML,Zb.removeChild(m=
Zb.firstChild)),!(e.noCloneEvent&&e.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||b.isXMLDoc(a))){var Z=N(m);var pa=N(a);for(C=0;null!=(k=pa[C]);++C)if(Z[C]){var Ba=void 0,ra,Ta=k,Wa=Z[C];if(1===Wa.nodeType){if(ra=Wa.nodeName.toLowerCase(),!e.noCloneEvent&&Wa[b.expando]){k=b._data(Wa);for(Ba in k.events)b.removeEvent(Wa,Ba,k.handle);Wa.removeAttribute(b.expando)}'script'===ra&&Wa.text!==Ta.text?(v(Wa).text=Ta.text,E(Wa)):'object'===ra?(Wa.parentNode&&(Wa.outerHTML=Ta.outerHTML),e.html5Clone&&Ta.innerHTML&&
!b.trim(Wa.innerHTML)&&(Wa.innerHTML=Ta.innerHTML)):'input'===ra&&gb.test(Ta.type)?(Wa.defaultChecked=Wa.checked=Ta.checked,Wa.value!==Ta.value&&(Wa.value=Ta.value)):'option'===ra?Wa.defaultSelected=Wa.selected=Ta.defaultSelected:'input'!==ra&&'textarea'!==ra||(Wa.defaultValue=Ta.defaultValue)}}}if(c)if(g)for(pa=pa||N(a),Z=Z||N(m),C=0;null!=(k=pa[C]);C++)I(k,Z[C]);else I(a,m);return Z=N(m,'script'),0<Z.length&&L(Z,!G&&N(a,'script')),m},cleanData:function(a,c){for(var g,k,m,C,G=0,Z=b.expando,pa=b.cache,
Ba=e.attributes,ra=b.event.special;null!=(g=a[G]);G++)if((c||Va(g))&&(m=g[Z],C=m&&pa[m])){if(C.events)for(k in C.events)ra[k]?b.event.remove(g,k):b.removeEvent(g,k,C.handle);pa[m]&&(delete pa[m],Ba||'undefined'==typeof g.removeAttribute?g[Z]=void 0:g.removeAttribute(Z),Gb.push(m))}}});b.fn.extend({domManip:R,detach:function(a){return sa(this,a,!0)},remove:function(a){return sa(this,a)},text:function(a){return Za(this,function(c){return void 0===c?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||
Na).createTextNode(c))},null,a,arguments.length)},append:function(){return R(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||r(this,a).appendChild(a)})},prepend:function(){return R(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=r(this,a);c.insertBefore(a,c.firstChild)}})},before:function(){return R(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return R(this,arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,c=0;null!=(a=this[c]);c++){for(1===a.nodeType&&b.cleanData(N(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&b.nodeName(a,'select')&&(a.options.length=0)}return this},clone:function(a,c){return a=null==a?!1:a,c=null==c?a:c,this.map(function(){return b.clone(this,a,c)})},html:function(a){return Za(this,function(c){var g=this[0]||{},k=0,m=this.length;if(void 0===c)return 1===g.nodeType?
g.innerHTML.replace(ob,''):void 0;if(!('string'!=typeof c||Nb.test(c)||!e.htmlSerialize&&rb.test(c)||!e.leadingWhitespace&&fa.test(c)||qa[(ha.exec(c)||['',''])[1].toLowerCase()])){c=b.htmlPrefilter(c);try{for(;m>k;k++)g=this[k]||{},1===g.nodeType&&(b.cleanData(N(g,!1)),g.innerHTML=c);g=0}catch(C){}}g&&this.empty().append(c)},null,a,arguments.length)},replaceWith:function(){var a=[];return R(this,arguments,function(c){var g=this.parentNode;0>b.inArray(this,a)&&(b.cleanData(N(this)),g&&g.replaceChild(c,
this))},a)}});b.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},function(a,c){b.fn[a]=function(g){for(var k=0,m=[],C=b(g),G=C.length-1;G>=k;k++)g=k===G?this:this.clone(!0),b(C[k])[c](g),Pb.apply(m,g.get());return this.pushStack(m)}});var Wb,Gc={HTML:'block',BODY:'block'},qc=/^margin/,Mb=new RegExp('^('+Hb+')(?!px)[a-z%]+$','i'),Nc=function(a,c,g,k){var m,C={};for(m in c)C[m]=a.style[m],a.style[m]=c[m];g=g.apply(a,k||[]);for(m in c)a.style[m]=
C[m];return g},wc=Na.documentElement;!function(){var a,c,g,k,m,C,G=Na.createElement('div'),Z=Na.createElement('div');if(Z.style){Z.style.cssText='float:left;opacity:.5';e.opacity='0.5'===Z.style.opacity;e.cssFloat=!!Z.style.cssFloat;Z.style.backgroundClip='content-box';Z.cloneNode(!0).style.backgroundClip='';e.clearCloneStyle='content-box'===Z.style.backgroundClip;G=Na.createElement('div');G.style.cssText='border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute';
Z.innerHTML='';G.appendChild(Z);e.boxSizing=''===Z.style.boxSizing||''===Z.style.MozBoxSizing||''===Z.style.WebkitBoxSizing;b.extend(e,{reliableHiddenOffsets:function(){return null==a&&pa(),k},boxSizingReliable:function(){return null==a&&pa(),g},pixelMarginRight:function(){return null==a&&pa(),c},pixelPosition:function(){return null==a&&pa(),a},reliableMarginRight:function(){return null==a&&pa(),m},reliableMarginLeft:function(){return null==a&&pa(),C}});function pa(){var Ba,ra,Ta=Na.documentElement;
Ta.appendChild(G);Z.style.cssText='-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%';a=g=C=!1;c=m=!0;D.getComputedStyle&&(ra=D.getComputedStyle(Z),a='1%'!==(ra||{}).top,C='2px'===(ra||{}).marginLeft,g='4px'===(ra||{width:'4px'}).width,Z.style.marginRight='50%',c='4px'===(ra||{marginRight:'4px'}).marginRight,Ba=Z.appendChild(Na.createElement('div')),Ba.style.cssText=Z.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0',
Ba.style.marginRight=Ba.style.width='0',Z.style.width='1px',m=!parseFloat((D.getComputedStyle(Ba)||{}).marginRight),Z.removeChild(Ba));Z.style.display='none';(k=0===Z.getClientRects().length)&&(Z.style.display='',Z.innerHTML='<table><tr><td></td><td>t</td></tr></table>',Z.childNodes[0].style.borderCollapse='separate',Ba=Z.getElementsByTagName('td'),Ba[0].style.cssText='margin:0;border:0;padding:0;display:none',k=0===Ba[0].offsetHeight,k&&(Ba[0].style.display='',Ba[1].style.display='none',k=0===Ba[0].offsetHeight));
Ta.removeChild(G)}}}();var xc,sc,Sc=/^(top|right|bottom|left)$/;D.getComputedStyle?(xc=function(a){var c=a.ownerDocument.defaultView;return c&&c.opener||(c=D),c.getComputedStyle(a)},sc=function(a,c,g){var k,m,C,G,Z=a.style;return g=g||xc(a),G=g?g.getPropertyValue(c)||g[c]:void 0,''!==G&&void 0!==G||b.contains(a.ownerDocument,a)||(G=b.style(a,c)),g&&!e.pixelMarginRight()&&Mb.test(G)&&qc.test(c)&&(k=Z.width,m=Z.minWidth,C=Z.maxWidth,Z.minWidth=Z.maxWidth=Z.width=G,G=g.width,Z.width=k,Z.minWidth=m,Z.maxWidth=
C),void 0===G?G:G+''}):wc.currentStyle&&(xc=function(a){return a.currentStyle},sc=function(a,c,g){var k,m,C,G,Z=a.style;return g=g||xc(a),G=g?g[c]:void 0,null==G&&Z&&Z[c]&&(G=Z[c]),Mb.test(G)&&!Sc.test(c)&&(k=Z.left,m=a.runtimeStyle,C=m&&m.left,C&&(m.left=a.currentStyle.left),Z.left='fontSize'===c?'1em':G,G=Z.pixelLeft+'px',Z.left=k,C&&(m.left=C)),void 0===G?G:G+''||'auto'});var Oc=/alpha\([^)]*\)/i,Tc=/opacity\s*=\s*([^)]*)/i,Jd=/^(none|table(?!-c[ea]).+)/,wd=new RegExp('^('+Hb+')(.*)$','i'),Kd=
{position:'absolute',visibility:'hidden',display:'block'},od={letterSpacing:'0',fontWeight:'400'},kd=['Webkit','O','Moz','ms'],jd=Na.createElement('div').style;b.extend({cssHooks:{opacity:{get:function(a,c){if(c)return a=sc(a,'opacity'),''===a?'1':a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{'float':e.cssFloat?'cssFloat':'styleFloat'},style:function(a,
c,g,k){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var m,C,G,Z=b.camelCase(c),pa=a.style;if(c=b.cssProps[Z]||(b.cssProps[Z]=ea(Z)||Z),G=b.cssHooks[c]||b.cssHooks[Z],void 0===g)return G&&'get'in G&&void 0!==(m=G.get(a,!1,k))?m:pa[c];if(C=typeof g,'string'===C&&(m=Ob.exec(g))&&m[1]&&(g=da(a,c,m),C='number'),null!=g&&g===g&&('number'===C&&(g+=m&&m[3]||(b.cssNumber[Z]?'':'px')),e.clearCloneStyle||''!==g||0!==c.indexOf('background')||(pa[c]='inherit'),!(G&&'set'in G&&void 0===(g=G.set(a,g,k)))))try{pa[c]=
g}catch(Ba){}}},css:function(a,c,g,k){var m,C,G,Z=b.camelCase(c);return c=b.cssProps[Z]||(b.cssProps[Z]=ea(Z)||Z),G=b.cssHooks[c]||b.cssHooks[Z],G&&'get'in G&&(C=G.get(a,!0,g)),void 0===C&&(C=sc(a,c,k)),'normal'===C&&c in od&&(C=od[c]),''===g||g?(m=parseFloat(C),!0===g||isFinite(m)?m||0:C):C}});b.each(['height','width'],function(a,c){b.cssHooks[c]={get:function(g,k,m){return k?Jd.test(b.css(g,'display'))&&0===g.offsetWidth?Nc(g,Kd,function(){return Da(g,c,m)}):Da(g,c,m):void 0},set:function(g,k,m){var C=
m&&xc(g);return ka(g,k,m?ta(g,c,m,e.boxSizing&&'border-box'===b.css(g,'boxSizing',!1,C),C):0)}}});e.opacity||(b.cssHooks.opacity={get:function(a,c){return Tc.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||'')?.01*parseFloat(RegExp.$1)+'':c?'1':''},set:function(a,c){var g=a.style;a=a.currentStyle;var k=b.isNumeric(c)?'alpha(opacity='+100*c+')':'',m=a&&a.filter||g.filter||'';g.zoom=1;(1<=c||''===c)&&''===b.trim(m.replace(Oc,''))&&g.removeAttribute&&(g.removeAttribute('filter'),''===
c||a&&!a.filter)||(g.filter=Oc.test(m)?m.replace(Oc,k):m+' '+k)}});b.cssHooks.marginRight=ia(e.reliableMarginRight,function(a,c){return c?Nc(a,{display:'inline-block'},sc,[a,'marginRight']):void 0});b.cssHooks.marginLeft=ia(e.reliableMarginLeft,function(a,c){return c?(parseFloat(sc(a,'marginLeft'))||(b.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Nc(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+'px':void 0});b.each({margin:'',padding:'',border:'Width'},function(a,
c){b.cssHooks[a+c]={expand:function(g){var k=0,m={};for(g='string'==typeof g?g.split(' '):[g];4>k;k++)m[a+zb[k]+c]=g[k]||g[k-2]||g[0];return m}};qc.test(a)||(b.cssHooks[a+c].set=ka)});b.fn.extend({css:function(a,c){return Za(this,function(g,k,m){var C,G={},Z=0;if(b.isArray(k)){m=xc(g);for(C=k.length;C>Z;Z++)G[k[Z]]=b.css(g,k[Z],!1,m);return G}return void 0!==m?b.style(g,k,m):b.css(g,k)},a,c,1<arguments.length)},show:function(){return wa(this,!0)},hide:function(){return wa(this)},toggle:function(a){return'boolean'==
typeof a?a?this.show():this.hide():this.each(function(){Vb(this)?b(this).show():b(this).hide()})}});b.Tween=Qa;Qa.prototype={constructor:Qa,init:function(a,c,g,k,m,C){this.elem=a;this.prop=g;this.easing=m||b.easing._default;this.options=c;this.start=this.now=this.cur();this.end=k;this.unit=C||(b.cssNumber[g]?'':'px')},cur:function(){var a=Qa.propHooks[this.prop];return a&&a.get?a.get(this):Qa.propHooks._default.get(this)},run:function(a){var c,g=Qa.propHooks[this.prop];return this.options.duration?
this.pos=c=b.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=c=a,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):Qa.propHooks._default.set(this),this}};Qa.prototype.init.prototype=Qa.prototype;Qa.propHooks={_default:{get:function(a){var c;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(c=b.css(a.elem,a.prop,''),c&&'auto'!==c?c:0)},set:function(a){b.fx.step[a.prop]?
b.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[b.cssProps[a.prop]]&&!b.cssHooks[a.prop]?a.elem[a.prop]=a.now:b.style(a.elem,a.prop,a.now+a.unit)}}};Qa.propHooks.scrollTop=Qa.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};b.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:'swing'};b.fx=Qa.prototype.init;b.fx.step={};var Hc,bd,Ld=/^(?:toggle|show|hide)$/,Md=/queueHooks$/;b.Animation=b.extend(Ka,
{tweeners:{'*':[function(a,c){var g=this.createTween(a,c);return da(g.elem,a,Ob.exec(c),g),g}]},tweener:function(a,c){b.isFunction(a)?(c=a,a=['*']):a=a.match(Ca);for(var g,k=0,m=a.length;m>k;k++)g=a[k],Ka.tweeners[g]=Ka.tweeners[g]||[],Ka.tweeners[g].unshift(c)},prefilters:[function(a,c,g){var k,m,C,G,Z,pa,Ba,ra=this,Ta={},Wa=a.style,wb=a.nodeType&&Vb(a),cb=b._data(a,'fxshow');g.queue||(G=b._queueHooks(a,'fx'),null==G.unqueued&&(G.unqueued=0,Z=G.empty.fire,G.empty.fire=function(){G.unqueued||Z()}),
G.unqueued++,ra.always(function(){ra.always(function(){G.unqueued--;b.queue(a,'fx').length||G.empty.fire()})}));1===a.nodeType&&('height'in c||'width'in c)&&(g.overflow=[Wa.overflow,Wa.overflowX,Wa.overflowY],pa=b.css(a,'display'),Ba='none'===pa?b._data(a,'olddisplay')||X(a.nodeName):pa,'inline'===Ba&&'none'===b.css(a,'float')&&(e.inlineBlockNeedsLayout&&'inline'!==X(a.nodeName)?Wa.zoom=1:Wa.display='inline-block'));g.overflow&&(Wa.overflow='hidden',e.shrinkWrapBlocks()||ra.always(function(){Wa.overflow=
g.overflow[0];Wa.overflowX=g.overflow[1];Wa.overflowY=g.overflow[2]}));for(k in c)if(m=c[k],Ld.exec(m)){if(delete c[k],C=C||'toggle'===m,m===(wb?'hide':'show')){if('show'!==m||!cb||void 0===cb[k])continue;wb=!0}Ta[k]=cb&&cb[k]||b.style(a,k)}else pa=void 0;if(b.isEmptyObject(Ta))'inline'===('none'===pa?X(a.nodeName):pa)&&(Wa.display=pa);else for(k in cb?'hidden'in cb&&(wb=cb.hidden):cb=b._data(a,'fxshow',{}),C&&(cb.hidden=!wb),wb?b(a).show():ra.done(function(){b(a).hide()}),ra.done(function(){var Jb;
b._removeData(a,'fxshow');for(Jb in Ta)b.style(a,Jb,Ta[Jb])}),Ta)c=Oa(wb?cb[k]:0,k,ra),k in cb||(cb[k]=c.start,wb&&(c.end=c.start,c.start='width'===k||'height'===k?1:0))}],prefilter:function(a,c){c?Ka.prefilters.unshift(a):Ka.prefilters.push(a)}});b.speed=function(a,c,g){var k=a&&'object'==typeof a?b.extend({},a):{complete:g||!g&&c||b.isFunction(a)&&a,duration:a,easing:g&&c||c&&!b.isFunction(c)&&c};return k.duration=b.fx.off?0:'number'==typeof k.duration?k.duration:k.duration in b.fx.speeds?b.fx.speeds[k.duration]:
b.fx.speeds._default,null!=k.queue&&!0!==k.queue||(k.queue='fx'),k.old=k.complete,k.complete=function(){b.isFunction(k.old)&&k.old.call(this);k.queue&&b.dequeue(this,k.queue)},k};b.fn.extend({fadeTo:function(a,c,g,k){return this.filter(Vb).css('opacity',0).show().end().animate({opacity:c},a,g,k)},animate:function(a,c,g,k){var m=b.isEmptyObject(a),C=b.speed(c,g,k);c=function(){var G=Ka(this,b.extend({},a),C);(m||b._data(this,'finish'))&&G.stop(!0)};return c.finish=c,m||!1===C.queue?this.each(c):this.queue(C.queue,
c)},stop:function(a,c,g){var k=function(m){var C=m.stop;delete m.stop;C(g)};return'string'!=typeof a&&(g=c,c=a,a=void 0),c&&!1!==a&&this.queue(a||'fx',[]),this.each(function(){var m=!0,C=null!=a&&a+'queueHooks',G=b.timers,Z=b._data(this);if(C)Z[C]&&Z[C].stop&&k(Z[C]);else for(C in Z)Z[C]&&Z[C].stop&&Md.test(C)&&k(Z[C]);for(C=G.length;C--;)G[C].elem!==this||null!=a&&G[C].queue!==a||(G[C].anim.stop(g),m=!1,G.splice(C,1));!m&&g||b.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||'fx'),this.each(function(){var c=
b._data(this),g=c[a+'queue'];var k=c[a+'queueHooks'];var m=b.timers,C=g?g.length:0;c.finish=!0;b.queue(this,a,[]);k&&k.stop&&k.stop.call(this,!0);for(k=m.length;k--;)m[k].elem===this&&m[k].queue===a&&(m[k].anim.stop(!0),m.splice(k,1));for(k=0;C>k;k++)g[k]&&g[k].finish&&g[k].finish.call(this);delete c.finish})}});b.each(['toggle','show','hide'],function(a,c){var g=b.fn[c];b.fn[c]=function(k,m,C){return null==k||'boolean'==typeof k?g.apply(this,arguments):this.animate(Fa(c,!0),k,m,C)}});b.each({slideDown:Fa('show'),
slideUp:Fa('hide'),slideToggle:Fa('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},function(a,c){b.fn[a]=function(g,k,m){return this.animate(c,g,k,m)}});b.timers=[];b.fx.tick=function(){var a=b.timers,c=0;for(Hc=b.now();c<a.length;c++){var g=a[c];g()||a[c]!==g||a.splice(c--,1)}a.length||b.fx.stop();Hc=void 0};b.fx.timer=function(a){b.timers.push(a);a()?b.fx.start():b.timers.pop()};b.fx.interval=13;b.fx.start=function(){bd||=D.setInterval(b.fx.tick,b.fx.interval)};
b.fx.stop=function(){D.clearInterval(bd);bd=null};b.fx.speeds={slow:600,fast:200,_default:400};b.fn.delay=function(a,c){return a=b.fx?b.fx.speeds[a]||a:a,c=c||'fx',this.queue(c,function(g,k){var m=D.setTimeout(g,a);k.stop=function(){D.clearTimeout(m)}})};(function(){var a=Na.createElement('input');Na.createElement('div');var c=Na.createElement('select'),g=c.appendChild(Na.createElement('option'));var k=Na.createElement('div');k.setAttribute('className','t');k.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
k.getElementsByTagName('a');a.setAttribute('type','checkbox');k.appendChild(a);var m=k.getElementsByTagName('a')[0];m.style.cssText='top:1px';e.getSetAttribute='t'!==k.className;e.style=/top/.test(m.getAttribute('style'));e.hrefNormalized='/a'===m.getAttribute('href');e.checkOn=!!a.value;e.optSelected=g.selected;e.enctype=!!Na.createElement('form').enctype;c.disabled=!0;e.optDisabled=!g.disabled;a=Na.createElement('input');a.setAttribute('value','');e.input=''===a.getAttribute('value');a.value='t';
a.setAttribute('type','radio');e.radioValue='t'===a.value})();var Nd=/\r/g,Od=/[\x20\t\r\n\f]+/g;b.fn.extend({val:function(a){var c,g,k,m=this[0];if(arguments.length)return k=b.isFunction(a),this.each(function(C){var G;1===this.nodeType&&(G=k?a.call(this,C,b(this).val()):a,null==G?G='':'number'==typeof G?G+='':b.isArray(G)&&(G=b.map(G,function(Z){return null==Z?'':Z+''})),c=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],c&&'set'in c&&void 0!==c.set(this,G,'value')||(this.value=G))});
if(m)return c=b.valHooks[m.type]||b.valHooks[m.nodeName.toLowerCase()],c&&'get'in c&&void 0!==(g=c.get(m,'value'))?g:(g=m.value,'string'==typeof g?g.replace(Nd,''):null==g?'':g)}});b.extend({valHooks:{option:{get:function(a){var c=b.find.attr(a,'value');return null!=c?c:b.trim(b.text(a)).replace(Od,' ')}},select:{get:function(a){for(var c,g=a.options,k=a.selectedIndex,m='select-one'===a.type||0>k,C=m?null:[],G=m?k+1:g.length,Z=0>k?G:m?k:0;G>Z;Z++)if(c=g[Z],!(!c.selected&&Z!==k||(e.optDisabled?c.disabled:
null!==c.getAttribute('disabled'))||c.parentNode.disabled&&b.nodeName(c.parentNode,'optgroup'))){if(a=b(c).val(),m)return a;C.push(a)}return C},set:function(a,c){var g,k,m=a.options;c=b.makeArray(c);for(var C=m.length;C--;)if(k=m[C],-1<b.inArray(b.valHooks.option.get(k),c))try{k.selected=g=!0}catch(G){k.scrollHeight}else k.selected=!1;return g||(a.selectedIndex=-1),m}}}});b.each(['radio','checkbox'],function(){b.valHooks[this]={set:function(a,c){return b.isArray(c)?a.checked=-1<b.inArray(b(a).val(),
c):void 0}};e.checkOn||(b.valHooks[this].get=function(a){return null===a.getAttribute('value')?'on':a.value})});var Kc,Bc=b.expr.attrHandle,cd=/^(?:checked|selected)$/i,Fc=e.getSetAttribute,Uc=e.input;b.fn.extend({attr:function(a,c){return Za(this,b.attr,a,c,1<arguments.length)},removeAttr:function(a){return this.each(function(){b.removeAttr(this,a)})}});b.extend({attr:function(a,c,g){var k,m,C=a.nodeType;if(3!==C&&8!==C&&2!==C)return'undefined'==typeof a.getAttribute?b.prop(a,c,g):(1===C&&b.isXMLDoc(a)||
(c=c.toLowerCase(),m=b.attrHooks[c]||(b.expr.match.bool.test(c)?Pd:Kc)),void 0!==g?null===g?void b.removeAttr(a,c):m&&'set'in m&&void 0!==(k=m.set(a,g,c))?k:(a.setAttribute(c,g+''),g):m&&'get'in m&&null!==(k=m.get(a,c))?k:(k=b.find.attr(a,c),null==k?void 0:k))},attrHooks:{type:{set:function(a,c){if(!e.radioValue&&'radio'===c&&b.nodeName(a,'input')){var g=a.value;return a.setAttribute('type',c),g&&(a.value=g),c}}}},removeAttr:function(a,c){var g=0,k=c&&c.match(Ca);if(k&&1===a.nodeType)for(;c=k[g++];){var m=
b.propFix[c]||c;b.expr.match.bool.test(c)?Uc&&Fc||!cd.test(c)?a[m]=!1:a[b.camelCase('default-'+c)]=a[m]=!1:b.attr(a,c,'');a.removeAttribute(Fc?c:m)}}});var Pd={set:function(a,c,g){return!1===c?b.removeAttr(a,g):Uc&&Fc||!cd.test(g)?a.setAttribute(!Fc&&b.propFix[g]||g,g):a[b.camelCase('default-'+g)]=a[g]=!0,g}};b.each(b.expr.match.bool.source.match(/\w+/g),function(a,c){var g=Bc[c]||b.find.attr;Uc&&Fc||!cd.test(c)?Bc[c]=function(k,m,C){var G,Z;return C||(Z=Bc[m],Bc[m]=G,G=null!=g(k,m,C)?m.toLowerCase():
null,Bc[m]=Z),G}:Bc[c]=function(k,m,C){return C?void 0:k[b.camelCase('default-'+m)]?m.toLowerCase():null}});Uc&&Fc||(b.attrHooks.value={set:function(a,c,g){return b.nodeName(a,'input')?void(a.defaultValue=c):Kc&&Kc.set(a,c,g)}});Fc||(Kc={set:function(a,c,g){var k=a.getAttributeNode(g);return k||a.setAttributeNode(k=a.ownerDocument.createAttribute(g)),k.value=c+='','value'===g||c===a.getAttribute(g)?c:void 0}},Bc.id=Bc.name=Bc.coords=function(a,c,g){var k;return g?void 0:(k=a.getAttributeNode(c))&&
''!==k.value?k.value:null},b.valHooks.button={get:function(a,c){return(a=a.getAttributeNode(c))&&a.specified?a.value:void 0},set:Kc.set},b.attrHooks.contenteditable={set:function(a,c,g){Kc.set(a,''===c?!1:c,g)}},b.each(['width','height'],function(a,c){b.attrHooks[c]={set:function(g,k){return''===k?(g.setAttribute(c,'auto'),k):void 0}}}));e.style||(b.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,c){return a.style.cssText=c+''}});var Qd=/^(?:input|select|textarea|button|object)$/i,
Rd=/^(?:a|area)$/i;b.fn.extend({prop:function(a,c){return Za(this,b.prop,a,c,1<arguments.length)},removeProp:function(a){return a=b.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(c){}})}});b.extend({prop:function(a,c,g){var k,m,C=a.nodeType;if(3!==C&&8!==C&&2!==C)return 1===C&&b.isXMLDoc(a)||(c=b.propFix[c]||c,m=b.propHooks[c]),void 0!==g?m&&'set'in m&&void 0!==(k=m.set(a,g,c))?k:a[c]=g:m&&'get'in m&&null!==(k=m.get(a,c))?k:a[c]},propHooks:{tabIndex:{get:function(a){var c=
b.find.attr(a,'tabindex');return c?parseInt(c,10):Qd.test(a.nodeName)||Rd.test(a.nodeName)&&a.href?0:-1}}},propFix:{'for':'htmlFor','class':'className'}});e.hrefNormalized||b.each(['href','src'],function(a,c){b.propHooks[c]={get:function(g){return g.getAttribute(c,4)}}});e.optSelected||(b.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});
b.each('tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable'.split(' '),function(){b.propFix[this.toLowerCase()]=this});e.enctype||(b.propFix.enctype='encoding');var dd=/[\t\r\n\f]/g;b.fn.extend({addClass:function(a){var c,g,k,m,C,G,Z=0;if(b.isFunction(a))return this.each(function(pa){b(this).addClass(a.call(this,pa,Ya(this)))});if('string'==typeof a&&a)for(c=a.match(Ca)||[];g=this[Z++];)if(m=Ya(g),k=1===g.nodeType&&(' '+m+' ').replace(dd,' ')){for(G=
0;C=c[G++];)0>k.indexOf(' '+C+' ')&&(k+=C+' ');k=b.trim(k);m!==k&&b.attr(g,'class',k)}return this},removeClass:function(a){var c,g,k,m,C,G,Z=0;if(b.isFunction(a))return this.each(function(pa){b(this).removeClass(a.call(this,pa,Ya(this)))});if(!arguments.length)return this.attr('class','');if('string'==typeof a&&a)for(c=a.match(Ca)||[];g=this[Z++];)if(m=Ya(g),k=1===g.nodeType&&(' '+m+' ').replace(dd,' ')){for(G=0;C=c[G++];)for(;-1<k.indexOf(' '+C+' ');)k=k.replace(' '+C+' ',' ');k=b.trim(k);m!==k&&
b.attr(g,'class',k)}return this},toggleClass:function(a,c){var g=typeof a;return'boolean'==typeof c&&'string'===g?c?this.addClass(a):this.removeClass(a):b.isFunction(a)?this.each(function(k){b(this).toggleClass(a.call(this,k,Ya(this),c),c)}):this.each(function(){var k,m;if('string'===g){var C=0;var G=b(this);for(m=a.match(Ca)||[];k=m[C++];)G.hasClass(k)?G.removeClass(k):G.addClass(k)}else void 0!==a&&'boolean'!==g||(k=Ya(this),k&&b._data(this,'__className__',k),b.attr(this,'class',k||!1===a?'':b._data(this,
'__className__')||''))})},hasClass:function(a){var c,g=0;for(a=' '+a+' ';c=this[g++];)if(1===c.nodeType&&-1<(' '+Ya(c)+' ').replace(dd,' ').indexOf(a))return!0;return!1}});b.each('blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(' '),function(a,c){b.fn[c]=function(g,k){return 0<arguments.length?this.on(c,null,g,k):this.trigger(c)}});b.fn.extend({hover:function(a,
c){return this.mouseenter(a).mouseleave(c||a)}});var Sd=D.location,ed=b.now(),fd=/\?/,Td=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;b.parseJSON=function(a){if(D.JSON&&D.JSON.parse)return D.JSON.parse(a+'');var c,g=null,k=b.trim(a+'');return k&&!b.trim(k.replace(Td,function(m,C,G,Z){return c&&C&&(g=0),0===g?m:(c=G||C,g+=!Z-!G,'')}))?Function('return '+k)():b.error('Invalid JSON: '+a)};b.parseXML=function(a){var c,
g;if(!a||'string'!=typeof a)return null;try{D.DOMParser?(g=new D.DOMParser,c=g.parseFromString(a,'text/xml')):(c=new D.ActiveXObject('Microsoft.XMLDOM'),c.async='false',c.loadXML(a))}catch(k){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName('parsererror').length||b.error('Invalid XML: '+a),c};var Ud=/#.*$/,pd=/([?&])_=[^&]*/,Vd=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Wd=/^(?:GET|HEAD)$/,Xd=/^\/\//,qd=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,rd={},Xc={},sd='*/'.concat('*'),
gd=Sd.href,Lc=qd.exec(gd.toLowerCase())||[];b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gd,type:'GET',isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Lc[1]),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{'*':sd,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',json:'application/json, text/javascript'},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:'responseXML',
text:'responseText',json:'responseJSON'},converters:{'* text':String,'text html':!0,'text json':b.parseJSON,'text xml':b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,c){return c?jb(jb(a,b.ajaxSettings),c):jb(b.ajaxSettings,a)},ajaxPrefilter:pb(rd),ajaxTransport:pb(Xc),ajax:function(a,c){function g(Bb,Qb,Tb,tb){var kc,hc,Xb,gc=Qb;if(2!==mc){mc=2;G&&D.clearTimeout(G);pa=void 0;C=tb||'';vb.readyState=0<Bb?4:0;tb=200<=Bb&&300>Bb||304===Bb;if(Tb){var Ub=ra;for(var oc=vb,Ab,cc,Yb,Sb,
Jc=Ub.contents,pc=Ub.dataTypes;'*'===pc[0];)pc.shift(),void 0===cc&&(cc=Ub.mimeType||oc.getResponseHeader('Content-Type'));if(cc)for(Sb in Jc)if(Jc[Sb]&&Jc[Sb].test(cc)){pc.unshift(Sb);break}if(pc[0]in Tb)Yb=pc[0];else{for(Sb in Tb){if(!pc[0]||Ub.converters[Sb+' '+pc[0]]){Yb=Sb;break}Ab||=Sb}Yb=Yb||Ab}Ub=Yb?(Yb!==pc[0]&&pc.unshift(Yb),Tb[Yb]):void 0}a:{Tb=ra;Ab=Ub;cc=vb;Yb=tb;var dc,uc,vc;Ub={};oc=Tb.dataTypes.slice();if(oc[1])for(dc in Tb.converters)Ub[dc.toLowerCase()]=Tb.converters[dc];for(Sb=
oc.shift();Sb;)if(Tb.responseFields[Sb]&&(cc[Tb.responseFields[Sb]]=Ab),!vc&&Yb&&Tb.dataFilter&&(Ab=Tb.dataFilter(Ab,Tb.dataType)),vc=Sb,Sb=oc.shift())if('*'===Sb)Sb=vc;else if('*'!==vc&&vc!==Sb){if(dc=Ub[vc+' '+Sb]||Ub['* '+Sb],!dc)for(nc in Ub)if(uc=nc.split(' '),uc[1]===Sb&&(dc=Ub[vc+' '+uc[0]]||Ub['* '+uc[0]])){!0===dc?dc=Ub[nc]:!0!==Ub[nc]&&(Sb=uc[0],oc.unshift(uc[1]));break}if(!0!==dc)if(dc&&Tb['throws'])Ab=dc(Ab);else try{Ab=dc(Ab)}catch($c){var nc={state:'parsererror',error:dc?$c:'No conversion from '+
vc+' to '+Sb};break a}}nc={state:'success',data:Ab}}Ub=nc;tb?(ra.ifModified&&(Xb=vb.getResponseHeader('Last-Modified'),Xb&&(b.lastModified[ic]=Xb),Xb=vb.getResponseHeader('etag'),Xb&&(b.etag[ic]=Xb)),204===Bb||'HEAD'===ra.type?gc='nocontent':304===Bb?gc='notmodified':(gc=Ub.state,kc=Ub.data,hc=Ub.error,tb=!hc)):(hc=gc,!Bb&&gc||(gc='error',0>Bb&&(Bb=0)));vb.status=Bb;vb.statusText=(Qb||gc)+'';tb?wb.resolveWith(Ta,[kc,gc,vb]):wb.rejectWith(Ta,[vb,gc,hc]);vb.statusCode(Jb);Jb=void 0;Z&&Wa.trigger(tb?
'ajaxSuccess':'ajaxError',[vb,ra,tb?kc:hc]);cb.fireWith(Ta,[vb,gc]);Z&&(Wa.trigger('ajaxComplete',[vb,ra]),--b.active||b.event.trigger('ajaxStop'))}}'object'==typeof a&&(c=a,a=void 0);c=c||{};var k,m,C,G,Z,pa,Ba,ra=b.ajaxSetup({},c),Ta=ra.context||ra,Wa=ra.context&&(Ta.nodeType||Ta.jquery)?b(Ta):b.event,wb=b.Deferred(),cb=b.Callbacks('once memory'),Jb=ra.statusCode||{},lc={},Ic={},mc=0,yc='canceled',vb={readyState:0,getResponseHeader:function(Bb){var Qb;if(2===mc){if(!Ba)for(Ba={};Qb=Vd.exec(C);)Ba[Qb[1].toLowerCase()]=
Qb[2];Qb=Ba[Bb.toLowerCase()]}return null==Qb?null:Qb},getAllResponseHeaders:function(){return 2===mc?C:null},setRequestHeader:function(Bb,Qb){var Tb=Bb.toLowerCase();return mc||(Bb=Ic[Tb]=Ic[Tb]||Bb,lc[Bb]=Qb),this},overrideMimeType:function(Bb){return mc||(ra.mimeType=Bb),this},statusCode:function(Bb){var Qb;if(Bb)if(2>mc)for(Qb in Bb)Jb[Qb]=[Jb[Qb],Bb[Qb]];else vb.always(Bb[vb.status]);return this},abort:function(Bb){Bb=Bb||yc;return pa&&pa.abort(Bb),g(0,Bb),this}};if(wb.promise(vb).complete=cb.add,
vb.success=vb.done,vb.error=vb.fail,ra.url=((a||ra.url||gd)+'').replace(Ud,'').replace(Xd,Lc[1]+'//'),ra.type=c.method||c.type||ra.method||ra.type,ra.dataTypes=b.trim(ra.dataType||'*').toLowerCase().match(Ca)||[''],null==ra.crossDomain&&(k=qd.exec(ra.url.toLowerCase()),ra.crossDomain=!(!k||k[1]===Lc[1]&&k[2]===Lc[2]&&(k[3]||('http:'===k[1]?'80':'443'))===(Lc[3]||('http:'===Lc[1]?'80':'443')))),ra.data&&ra.processData&&'string'!=typeof ra.data&&(ra.data=b.param(ra.data,ra.traditional)),$a(rd,ra,c,
vb),2===mc)return vb;(Z=b.event&&ra.global)&&0===b.active++&&b.event.trigger('ajaxStart');ra.type=ra.type.toUpperCase();ra.hasContent=!Wd.test(ra.type);var ic=ra.url;ra.hasContent||(ra.data&&(ic=ra.url+=(fd.test(ic)?'&':'?')+ra.data,delete ra.data),!1===ra.cache&&(ra.url=pd.test(ic)?ic.replace(pd,'$1_='+ed++):ic+(fd.test(ic)?'&':'?')+'_='+ed++));ra.ifModified&&(b.lastModified[ic]&&vb.setRequestHeader('If-Modified-Since',b.lastModified[ic]),b.etag[ic]&&vb.setRequestHeader('If-None-Match',b.etag[ic]));
(ra.data&&ra.hasContent&&!1!==ra.contentType||c.contentType)&&vb.setRequestHeader('Content-Type',ra.contentType);vb.setRequestHeader('Accept',ra.dataTypes[0]&&ra.accepts[ra.dataTypes[0]]?ra.accepts[ra.dataTypes[0]]+('*'!==ra.dataTypes[0]?', '+sd+'; q=0.01':''):ra.accepts['*']);for(m in ra.headers)vb.setRequestHeader(m,ra.headers[m]);if(ra.beforeSend&&(!1===ra.beforeSend.call(Ta,vb,ra)||2===mc))return vb.abort();yc='abort';for(m in{success:1,error:1,complete:1})vb[m](ra[m]);if(pa=$a(Xc,ra,c,vb)){if(vb.readyState=
1,Z&&Wa.trigger('ajaxSend',[vb,ra]),2===mc)return vb;ra.async&&0<ra.timeout&&(G=D.setTimeout(function(){vb.abort('timeout')},ra.timeout));try{mc=1,pa.send(lc,g)}catch(Bb){if(!(2>mc))throw Bb;g(-1,Bb)}}else g(-1,'No Transport');return vb},getJSON:function(a,c,g){return b.get(a,c,g,'json')},getScript:function(a,c){return b.get(a,void 0,c,'script')}});b.each(['get','post'],function(a,c){b[c]=function(g,k,m,C){return b.isFunction(k)&&(C=C||m,m=k,k=void 0),b.ajax(b.extend({url:g,type:c,dataType:C,data:k,
success:m},b.isPlainObject(g)&&g))}});b._evalUrl=function(a){return b.ajax({url:a,type:'GET',dataType:'script',cache:!0,async:!1,global:!1,'throws':!0})};b.fn.extend({wrapAll:function(a){if(b.isFunction(a))return this.each(function(g){b(this).wrapAll(a.call(this,g))});if(this[0]){var c=b(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var g=this;g.firstChild&&1===g.firstChild.nodeType;)g=g.firstChild;return g}).append(this)}return this},wrapInner:function(a){return b.isFunction(a)?
this.each(function(c){b(this).wrapInner(a.call(this,c))}):this.each(function(){var c=b(this),g=c.contents();g.length?g.wrapAll(a):c.append(a)})},wrap:function(a){var c=b.isFunction(a);return this.each(function(g){b(this).wrapAll(c?a.call(this,g):a)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,'body')||b(this).replaceWith(this.childNodes)}).end()}});b.expr.filters.hidden=function(a){return e.reliableHiddenOffsets()?0>=a.offsetWidth&&0>=a.offsetHeight&&!a.getClientRects().length:
bc(a)};b.expr.filters.visible=function(a){return!b.expr.filters.hidden(a)};var Yd=/%20/g,xd=/\[\]$/,td=/\r?\n/g,Zd=/^(?:submit|button|image|reset|file)$/i,$d=/^(?:input|select|textarea|keygen)/i;b.param=function(a,c){var g,k=[],m=function(C,G){G=b.isFunction(G)?G():null==G?'':G;k[k.length]=encodeURIComponent(C)+'='+encodeURIComponent(G)};if(void 0===c&&(c=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(a)||a.jquery&&!b.isPlainObject(a))b.each(a,function(){m(this.name,this.value)});else for(g in a)$b(g,
a[g],c,m);return k.join('&').replace(Yd,'+')};b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=b.prop(this,'elements');return a?b.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!b(this).is(':disabled')&&$d.test(this.nodeName)&&!Zd.test(a)&&(this.checked||!gb.test(a))}).map(function(a,c){a=b(this).val();return null==a?null:b.isArray(a)?b.map(a,function(g){return{name:c.name,value:g.replace(td,
'\r\n')}}):{name:c.name,value:a.replace(td,'\r\n')}}).get()}});b.ajaxSettings.xhr=void 0!==D.ActiveXObject?function(){return this.isLocal?Cb():8<Na.documentMode?fb():/^(get|post|head|put|delete|options)$/i.test(this.type)&&fb()||Cb()}:fb;var ae=0,Vc={},Wc=b.ajaxSettings.xhr();D.attachEvent&&D.attachEvent('onunload',function(){for(var a in Vc)Vc[a](void 0,!0)});e.cors=!!Wc&&'withCredentials'in Wc;(Wc=e.ajax=!!Wc)&&b.ajaxTransport(function(a){if(!a.crossDomain||e.cors){var c;return{send:function(g,
k){var m,C=a.xhr(),G=++ae;if(C.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(m in a.xhrFields)C[m]=a.xhrFields[m];a.mimeType&&C.overrideMimeType&&C.overrideMimeType(a.mimeType);a.crossDomain||g['X-Requested-With']||(g['X-Requested-With']='XMLHttpRequest');for(m in g)void 0!==g[m]&&C.setRequestHeader(m,g[m]+'');C.send(a.hasContent&&a.data||null);c=function(Z,pa){if(c&&(pa||4===C.readyState))if(delete Vc[G],c=void 0,C.onreadystatechange=b.noop,pa)4!==C.readyState&&C.abort();else{var Ba=
{};var ra=C.status;'string'==typeof C.responseText&&(Ba.text=C.responseText);try{var Ta=C.statusText}catch(Wa){Ta=''}ra||!a.isLocal||a.crossDomain?1223===ra&&(ra=204):ra=Ba.text?200:404}Ba&&k(ra,Ta,Ba,C.getAllResponseHeaders())};a.async?4===C.readyState?D.setTimeout(c):C.onreadystatechange=Vc[G]=c:c()},abort:function(){c&&c(void 0,!0)}}}});b.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/\b(?:java|ecma)script\b/},
converters:{'text script':function(a){return b.globalEval(a),a}}});b.ajaxPrefilter('script',function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type='GET',a.global=!1)});b.ajaxTransport('script',function(a){if(a.crossDomain){var c,g=Na.head||b('head')[0]||Na.documentElement;return{send:function(k,m){c=Na.createElement('script');c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(C,G){(G||!c.readyState||/loaded|complete/.test(c.readyState))&&
(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,G||m(200,'success'))};g.insertBefore(c,g.firstChild)},abort:function(){c&&c.onload(void 0,!0)}}}});var ud=[],hd=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:'callback',jsonpCallback:function(){var a=ud.pop()||b.expando+'_'+ed++;return this[a]=!0,a}});b.ajaxPrefilter('json jsonp',function(a,c,g){var k,m,C,G=!1!==a.jsonp&&(hd.test(a.url)?'url':'string'==typeof a.data&&0===(a.contentType||'').indexOf('application/x-www-form-urlencoded')&&
hd.test(a.data)&&'data');return G||'jsonp'===a.dataTypes[0]?(k=a.jsonpCallback=b.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,G?a[G]=a[G].replace(hd,'$1'+k):!1!==a.jsonp&&(a.url+=(fd.test(a.url)?'&':'?')+a.jsonp+'='+k),a.converters['script json']=function(){return C||b.error(k+' was not called'),C[0]},a.dataTypes[0]='json',m=D[k],D[k]=function(){C=arguments},g.always(function(){void 0===m?b(D).removeProp(k):D[k]=m;a[k]&&(a.jsonpCallback=c.jsonpCallback,ud.push(k));C&&b.isFunction(m)&&
m(C[0]);C=m=void 0}),'script'):void 0});b.parseHTML=function(a,c,g){if(!a||'string'!=typeof a)return null;'boolean'==typeof c&&(g=c,c=!1);c=c||Na;var k=Q.exec(a);g=!g&&[];return k?[c.createElement(k[1])]:(k=H([a],c,g),g&&g.length&&b(g).remove(),b.merge([],k.childNodes))};var vd=b.fn.load;b.fn.load=function(a,c,g){if('string'!=typeof a&&vd)return vd.apply(this,arguments);var k,m,C,G=this,Z=a.indexOf(' ');return-1<Z&&(k=b.trim(a.slice(Z,a.length)),a=a.slice(0,Z)),b.isFunction(c)?(g=c,c=void 0):c&&'object'==
typeof c&&(m='POST'),0<G.length&&b.ajax({url:a,type:m||'GET',dataType:'html',data:c}).done(function(pa){C=arguments;G.html(k?b('<div>').append(b.parseHTML(pa)).find(k):pa)}).always(g&&function(pa,Ba){G.each(function(){g.apply(this,C||[pa.responseText,Ba,pa])})}),this};b.each('ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend'.split(' '),function(a,c){b.fn[c]=function(g){return this.on(c,g)}});b.expr.filters.animated=function(a){return b.grep(b.timers,function(c){return a===c.elem}).length};
b.offset={setOffset:function(a,c,g){var k,m,C,G=b.css(a,'position'),Z=b(a),pa={};'static'===G&&(a.style.position='relative');var Ba=Z.offset();var ra=b.css(a,'top');var Ta=b.css(a,'left');('absolute'===G||'fixed'===G)&&-1<b.inArray('auto',[ra,Ta])?(k=Z.position(),C=k.top,m=k.left):(C=parseFloat(ra)||0,m=parseFloat(Ta)||0);b.isFunction(c)&&(c=c.call(a,g,b.extend({},Ba)));null!=c.top&&(pa.top=c.top-Ba.top+C);null!=c.left&&(pa.left=c.left-Ba.left+m);'using'in c?c.using.call(a,pa):Z.css(pa)}};b.fn.extend({offset:function(a){if(arguments.length)return void 0===
a?this:this.each(function(G){b.offset.setOffset(this,a,G)});var c,g,k={top:0,left:0},m=this[0],C=m&&m.ownerDocument;if(C)return c=C.documentElement,b.contains(c,m)?('undefined'!=typeof m.getBoundingClientRect&&(k=m.getBoundingClientRect()),g=yb(C),{top:k.top+(g.pageYOffset||c.scrollTop)-(c.clientTop||0),left:k.left+(g.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):k},position:function(){if(this[0]){var a,c,g={top:0,left:0},k=this[0];return'fixed'===b.css(k,'position')?c=k.getBoundingClientRect():
(a=this.offsetParent(),c=this.offset(),b.nodeName(a[0],'html')||(g=a.offset()),g.top+=b.css(a[0],'borderTopWidth',!0),g.left+=b.css(a[0],'borderLeftWidth',!0)),{top:c.top-g.top-b.css(k,'marginTop',!0),left:c.left-g.left-b.css(k,'marginLeft',!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&!b.nodeName(a,'html')&&'static'===b.css(a,'position');)a=a.offsetParent;return a||wc})}});b.each({scrollLeft:'pageXOffset',scrollTop:'pageYOffset'},function(a,c){var g=/Y/.test(c);
b.fn[a]=function(k){return Za(this,function(m,C,G){var Z=yb(m);return void 0===G?Z?c in Z?Z[c]:Z.document.documentElement[C]:m[C]:void(Z?Z.scrollTo(g?b(Z).scrollLeft():G,g?G:b(Z).scrollTop()):m[C]=G)},a,k,arguments.length,null)}});b.each(['top','left'],function(a,c){b.cssHooks[c]=ia(e.pixelPosition,function(g,k){return k?(k=sc(g,c),Mb.test(k)?b(g).position()[c]+'px':k):void 0})});b.each({Height:'height',Width:'width'},function(a,c){b.each({padding:'inner'+a,content:c,'':'outer'+a},function(g,k){b.fn[k]=
function(m,C){var G=arguments.length&&(g||'boolean'!=typeof m),Z=g||(!0===m||!0===C?'margin':'border');return Za(this,function(pa,Ba,ra){var Ta;return b.isWindow(pa)?pa.document.documentElement['client'+a]:9===pa.nodeType?(Ta=pa.documentElement,Math.max(pa.body['scroll'+a],Ta['scroll'+a],pa.body['offset'+a],Ta['offset'+a],Ta['client'+a])):void 0===ra?b.css(pa,Ba,Z):b.style(pa,Ba,ra,Z)},c,G?m:void 0,G,null)}})});b.fn.extend({bind:function(a,c,g){return this.on(a,null,c,g)},unbind:function(a,c){return this.off(a,
null,c)},delegate:function(a,c,g,k){return this.on(c,a,g,k)},undelegate:function(a,c,g){return 1===arguments.length?this.off(a,'**'):this.off(c,a||'**',g)}});b.fn.size=function(){return this.length};b.fn.andSelf=b.fn.addBack;'function'==typeof define&&define.amd&&define('jquery',[],function(){return b});var be=D.jQuery,ce=D.$;return b.noConflict=function(a){return D.$===b&&(D.$=ce),a&&D.jQuery===b&&(D.jQuery=be),b},O||(D.jQuery=D.$=b),b});if('undefined'!==typeof module&&module.exports)var lib=require('../../index');
function Collection(D,O){var ca='undefined'!==typeof module&&module.exports?!1:!0,Ea=ca?require('vendor/uuid'):require('uuid'),K=ca?require('lib/merge'):require('../../../lib/merge'),S={isCaseSensitive:{false:{re:'^%s$',modifiers:'i'},true:{re:'^%s$'}}},oa=!1,V=!1,U=null;ca={useLocalStorage:!1,locale:'en',searchOptionRules:S};O='object'==typeof O?K(O,ca):ca;var l=['not null'],T=function(B){try{return eval(B)}catch(H){throw Error('Could not evaluate condition `'+B+'`.\n'+H.stack);}};if('undefined'==
typeof D||''==D||null==D)D=[];if(!Array.isArray(D))throw Error('`new Collection([content] [, options] )`: `content` argument must be an Array !');D=D?JSON.clone(D):[];for(var q=[],da=ca=0,za=D.length;da<za;++da)D[da]||(D[da]={}),D[da]._uuid=Ea.v4(),q[ca]=D[da]._uuid,++ca;var N=D;N.setSearchOption=function(){if(!arguments.length)throw Error('searchOption cannot be left blank');if(3<arguments.length||3>arguments.length&&1<arguments.length)throw Error('argument length mismatch');var B=0,H=arguments.length;
if(1==arguments.length){if('object'!=typeof arguments[0])throw Error('searchOption must be an object');for(var n in arguments[0])if('undefined'==typeof S[n])throw Error(arguments[1]+' is not an allowed searchOption !');U=arguments[0]}else for(U||={};B<H;++B){if('undefined'==typeof S[arguments[1]])throw Error(arguments[1]+' is not an allowed searchOption !');'undefined'==typeof U[arguments[0]]&&(U[arguments[0]]={});/true|false/i.test(arguments[2])?U[arguments[0]][arguments[1]]=/true/i.test(arguments[2])?
!0:!1:U[arguments[0]][arguments[1]]=arguments[2]}return N};N.find=function(){oa=!1;'boolean'==typeof arguments[arguments.length-1]&&(oa=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);var B=null,H=null,n=null;try{B=JSON.stringify(arguments),H=JSON.parse(B),n=H.count()}catch(ka){throw Error('filter must be an object\n'+ka.stack);}if('undefined'!=typeof H&&0<n){1<n&&(oa=!0);n=B=null;var z=0,y=Array.isArray(this)?this:JSON.clone(D),F=[],r='',v=null,E=U,I=O.searchOptionRules,
R=null,sa=[],Ga=function(ka,ta,Da,Qa,La){if(null===ka&&null===Da)++Qa;else if(ka&&-1<l.indexOf(r)&&'not null'==r&&'undefined'!=typeof Da&&'object'!==typeof Da&&'null'!=Da&&'undefined'!=Da)0>F.indexOf(Da)&&++Qa;else if('undefined'!=typeof Da&&'object'!==typeof Da&&/(<|>|=)/.test(ka)&&!/undefined|function/.test(typeof Da))ta=ka,La=Da+ka,'string'==typeof ka&&'string'==typeof Da&&(La=ka.replace(/^(<=|>=|!==|!=|===|!==)/g,''),'string'!=typeof Da||/^"(.*)"$/.test(La)||(ka=ka.replace(La,'"'+La+'"')),La=
'"'+Da+'"'+ka,ka=ta),/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Da)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(ka)?T(Da.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+ka.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Qa:T(La)&&++Qa;else if('undefined'!=typeof Da&&'object'!==typeof Da&&Da===ka&&!E||'undefined'!=typeof Da&&'object'!==typeof Da&&Da===ka&&'undefined'==typeof E[ta])++Qa;
else if('undefined'!=typeof Da&&'object'!==typeof Da&&E&&'undefined'!=typeof E[ta]){var Fa=0;var Oa=E[ta].count();for(var Ia in E[ta])La[Ia][E[ta][Ia]].re=La[Ia][E[ta][Ia]].re.replace(/%s/,ka),v=La[Ia][E[ta][Ia]].modifiers?new RegExp(La[Ia][E[ta][Ia]].re,La[Ia][E[ta][Ia]].modifiers):new RegExp(La[Ia][E[ta][Ia]].re),v.test(Da)&&++Fa;Fa==Oa&&++Qa}return{matched:Qa}},X=function(ka,ta,Da,Qa){var La=ta.split(/\./g);La=La[La.length-1];v=new RegExp('("'+La+'":\\w+)');La=null;try{Da&&(La=eval('_content.'+
ta))}catch(Fa){}La&&(Array.isArray(La)?La=La[1].split(/:/)[1]:'string'==typeof La&&/:/.test(La)&&(La=La.split(/:/)[1]),/(<|>|=)/.test(ka)?/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(La)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(ka)?T(La.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+ka.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Qa:T(La+ka)&&++Qa:La==ka&&++Qa);return{matched:Qa}},
ia=function(ka,ta,Da,Qa,La){ta=ta.split(/\[\*\]/g);La=ta[0].replace(/\[\*\]/,'');Da=Da[La];ta=ta[1];/^\./.test(ta)&&(ta=ta.substr(1));La=0;if(Da)for(var Fa=0,Oa=Da.length;Fa<Oa&&!(sa=/\./.test(ta)?X(ka,ta,Da[Fa],La):Ga(ka,ta,Da[Fa],La,I),La=sa.matched,0<La);++Fa);return{matched:Qa+La}},ea;for(ea in y)if(y[ea]||(y[ea]={}),!/undefined|function/.test(typeof y[ea]))for(let ka=0,ta=H.count();ka<ta;++ka){B=H[ka];n=B.count();R=0;for(var wa in B){if('undefined'==typeof B[wa])throw Error('filter `'+wa+'` cannot be left undefined');
r=null===B[wa]||/(boolean|number)/.test(typeof B[wa])?B[wa]:B[wa].toLocaleLowerCase();sa=/\./.test(wa)?/\[\*\]/.test(wa)?ia(B[wa],wa,y[ea],R,0):X(B[wa],wa,y[ea],R):Ga(B[wa],wa,y[ea][wa],R,I);R=sa.matched}if(R==n)if(oa&&V&&0>q.indexOf(y[ea]._uuid)||V||!oa){if(!oa||oa&&0>F.indexOf(y[ea]._uuid)||V)F[z]=y[ea],++z}else oa&&!V&&0>F.indexOf(y[ea]._uuid)&&(F[z]=y[ea],++z)}}else F=D;U=null;F.insert=N.insert;F.notIn=N.notIn;F.find=this.find;F.update=N.update;F.replace=N.replace;F.or=N.or;F.findOne=N.findOne;
F.limit=N.limit;F.orderBy=N.orderBy;F.delete=N.delete;F.toRaw=N.toRaw;F.filter=N.filter;return F};N.findOne=function(){var B=null;'string'==typeof arguments[arguments.length-1]&&(delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(B=arguments);if('undefined'==typeof B||!B||'object'!=typeof B)throw Error('[ Collection ][ findOne ] `filters` argument must be defined: Array or Filter Object(s) expected');B=null;var H=Array.isArray(arguments[0])?arguments[0]:N.find.apply(this,
arguments)||[];0<H.length&&(B=H.limit(1).toRaw()[0]);return B};N.or=function(){arguments[arguments.length]=!0;++arguments.length;return N.find.apply(this,arguments)};N.limit=function(B){if('undefined'==typeof B||'number'!=typeof B)throw Error('[Collection::result->limit(resultLimit)] : `resultLimit` parametter must by a `number`');var H=Array.isArray(this)?this:JSON.clone(D);H=H.splice(0,B);H.insert=N.insert;H.update=N.update;H.replace=N.replace;H.notIn=N.notIn;H.findOne=N.findOne;H.orderBy=N.orderBy;
H.max=N.max;H.delete=N.delete;H.toRaw=N.toRaw;H.filter=N.filter;return H};N.notIn=function(){var B=null,H=null,n=!0;'string'==typeof arguments[arguments.length-1]&&(B=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'boolean'==typeof arguments[arguments.length-1]&&(n=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(H=arguments);if('undefined'==typeof H||!H||'object'!=typeof H)throw Error('[ Collection ][ notIn ] `filters` argument must be defined: Array or Filter Object(s) expected');
var z=JSON.clone(Array.isArray(this)?this:D);if(Array.isArray(arguments[0]))var y=arguments[0];else V=!0,y=N.find.apply(this,arguments)||[],V=!1;if(0<y.length){if(n&&B&&'undefined'==typeof y[0]&&'undefined'==typeof y[0][B])throw Error('[ Collection ][ notIn ] `key` not valid');n&&!B&&'undefined'!=typeof y[0]._uuid?B='_uuid':'undefined'!=typeof y[0].id&&(B='id');if(!B||'undefined'==typeof y[0][B])throw Error('No comparison key defined !');var F=0,r=y.length,v=0,E,I=H.count(),R;if(n&&'undefined'!=typeof z[v]&&
z[v].hasOwnProperty(B))for(;F<r&&z.length;++F)for(v=0,n=z.length;v<n;++v){if('undefined'!=typeof z[v]&&'undefined'!=typeof y[F]&&z[v][B]===y[F][B]){z.splice(v,1);break}}else if('undefined'==typeof z[v])z=JSON.clone(y);else for(;F<r&&z.length;++F)for(v=0,n=z.length;v<n;++v)if('undefined'!=typeof z[v]){for(E=R=0;E<I;++E){if('undefined'==typeof H[E])throw Error('filter `'+E+'` cannot be left undefined');var sa=H[E].count();var Ga=0;for(B in H[E])z[v].hasOwnProperty(B)&&z[v][B]===y[F][B]&&++Ga;Ga==sa&&
++R}if(R){z.splice(v,1);break}}}B=z;B.notIn=N.notIn;B.limit=N.limit;B.find=N.find;B.findOne=N.findOne;B.insert=N.insert;B.replace=N.replace;B.update=N.update;B.orderBy=N.orderBy;B.max=N.max;B.delete=N.delete;B.toRaw=N.toRaw;B.filter=N.filter;return B};N.insert=function(B){if('object'!==typeof B)throw Error('filter must be an object');var H=Array.isArray(this)?this:D;B._uuid=Ea.v4();H.push(B);H.limit=N.limit;H.find=N.find;H.findOne=N.findOne;H.update=N.update;H.replace=N.replace;H.orderBy=N.orderBy;
H.max=N.max;H.notIn=N.notIn;H.delete=N.delete;H.toRaw=N.toRaw;H.filter=N.filter;return H};N.update=function(){var B='_uuid',H,n=H=null;'string'==typeof arguments[arguments.length-1]&&(B=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(n=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(H=arguments);if('undefined'==typeof H||!H||'object'!=typeof H)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');
if('undefined'==typeof n||!n||'object'!=typeof n)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var z=Array.isArray(arguments[0])?arguments[0]:N.find.apply(this,arguments)||[];H=Array.isArray(this)?this:JSON.clone(D);if(0<z.length){z=z.toRaw();for(var y=0,F=z.length;y<F;++y){z[y]=K(JSON.clone(n),z[y]);for(var r=0,v=H.length;r<v;++r)if('undefined'==typeof H[r][B]&&'_uuid'==B&&'undefined'!=typeof H[r].id&&(B='id'),H[r][B]==z[y][B]){H[r]=z[y];break}}}H.limit=
N.limit;H.find=N.find;H.findOne=N.findOne;H.insert=N.insert;H.update=N.update;H.replace=N.replace;H.orderBy=N.orderBy;H.max=N.max;H.notIn=N.notIn;H.delete=N.delete;H.toRaw=N.toRaw;H.filter=N.filter;return H};N.replace=function(){var B='_uuid',H,n=H=null;'string'==typeof arguments[arguments.length-1]&&(B=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(n=arguments[arguments.length-1],delete arguments[arguments.length-
1],--arguments.length);0<arguments.length&&(H=arguments);if('undefined'==typeof H||!H||'object'!=typeof H)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');if('undefined'==typeof n||!n||'object'!=typeof n)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var z=Array.isArray(arguments[0])?arguments[0]:N.find.apply(this,arguments)||[];H=Array.isArray(this)?this:JSON.clone(D);if(0<z.length){z=z.toRaw();
for(var y=0,F=z.length;y<F;++y){z[y]=JSON.clone(n);for(var r=0,v=H.length;r<v;++r){if('undefined'==typeof H[r][B]&&'_uuid'==B&&'undefined'!=typeof H[r].id)B='id';else if('undefined'==typeof H[r][B]&&'_uuid'==B)throw Error('No comparison key defined !');if(H[r][B]==z[y][B]){H[r]=z[y];break}}}}H.limit=N.limit;H.find=N.find;H.findOne=N.findOne;H.insert=N.insert;H.update=N.update;H.replace=N.replace;H.orderBy=N.orderBy;H.max=N.max;H.notIn=N.notIn;H.delete=N.delete;H.toRaw=N.toRaw;H.filter=N.filter;return H};
N['delete']=function(){var B=N.notIn.apply(this,arguments);B.limit=N.limit;B.find=N.find;B.findOne=N.findOne;B.insert=N.insert;B.update=N.update;B.replace=N.replace;B.orderBy=N.orderBy;B.max=N.max;B.notIn=N.notIn;B.toRaw=N.toRaw;B.filter=N.filter;B.delete=this.delete;return B};N.orderBy=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->orderBy(filter) ] where `filter` must not be empty or null');if(1==arguments.length)var B=arguments[0];else{B=Array(arguments.length);
for(var H=0,n=B.length;H<n;++H)B[H]=arguments[H]}H=Array.isArray(this)?this:JSON.clone(D);return L(B,H.toRaw())};N.max=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->max(filter) ] where `filter` must not be empty or null');if(1<arguments.length||Array.isArray(arguments[0])||'object'==typeof arguments[0]&&1<arguments[0].count())throw Error('[ Collection->max(filter) ] only accept one filter length, and fileter count must be equal to 1');var B=arguments[0];
try{var H=Object.keys(B)[0],n={};n[H]='desc';return N.find(B).orderBy(n).limit(1)[0][H]}catch(z){throw z;}};var L=function(B,H){if('object'!=typeof B)throw Error('`filter` parametter must be an object or an array');var n={},z=null,y=null,F=z=null;z=[];if(0==B.count())return null;n.asc=function(r,v){var E=v.map(function(I,R){var sa={};sa.index=R;sa[r]=I[r];return sa});E.sort(function(I,R){var sa=function(Ga,X){/^(true|false)$/i.test(Ga)&&(Ga=/true/i.test(Ga)?1:0);/^(true|false)$/i.test(X)&&(X=/true/i.test(X)?
1:0);return'string'==typeof Ga&&''!=Ga||'string'==typeof X?('number'==typeof Ga&&(Ga=''+Ga),'number'==typeof X&&(X=''+X),Ga.localeCompare(X,void 0,{sensitivity:'case',caseFirst:'upper'})):Ga>X?1:Ga<X?-1:0};return'object'==typeof I?sa(I[r],R[r]):sa(I,R)});return E.map(function(I,R,sa){return v[I.index]})};n.desc=function(r,v){return n.asc(r,v).reverse()};z=function(r,v){var E=[],I=[];if(Array.isArray(v))for(var R=0,sa=v.length;R<sa;++R)E[R]=Object.keys(v[R])[0],I[R]=v[R][E[R]];else for(sa in R=0,v)E[R]=
sa,I[R]=v[sa],++R;y=function(Ga,X,ia,ea,wa){var ka='desc'==ea[wa]?1:0,ta,Da=ta=null;return'string'==typeof Ga[ia[wa]]&&''!=Ga[ia[wa]]?(ta=Ga[ia[wa]].localeCompare(X[ia[wa]]),0==ka&&0!=ta?0>ta?-1:1:0!=ta?0>ta?1:-1:ia.length-1>wa?y(Ga,X,ia,ea,wa+1):0):'number'==typeof Ga[ia[wa]]||'number'==typeof X[ia[wa]]?(ta=(''+Ga[ia[wa]]).localeCompare(''+X[ia[wa]],void 0,{numeric:!0}),0==ka&&0!=ta?0>ta?-1:1:0!=ta?0>ta?1:-1:ia.length-1>wa?y(Ga,X,ia,ea,wa+1):0):'boolean'==typeof Ga[ia[wa]]||'boolean'==typeof X[ia[wa]]?
('boolean'==typeof Ga[ia[wa]]&&(ta=Ga[ia[wa]]?1:0),'boolean'==typeof X[ia[wa]]&&(Da=X[ia[wa]]?1:0),ta>Da?0==ka?1:-1:ta<Da?0==ka?-1:1:ia.length-1>wa?y(Ga,X,ia,ea,wa+1):0):Ga[ia[wa]]>X[ia[wa]]?0==ka?1:-1:Ga[ia[wa]]<X[ia[wa]]?0==ka?-1:1:ia.length-1>wa?y(Ga,X,ia,ea,wa+1):0};return r.sort(function(Ga,X){return y(Ga,X,E,I,0)})};Array.isArray(B)||1<B.count()?z=z(H,B):(F=Object.keys(B)[0],z=B[F],z=n[z](F,H));z.find=N.find;z.findOne=N.findOne;z.limit=N.limit;z.notIn=N.notIn;z.insert=N.insert;z.update=N.update;
z.replace=N.replace;z.delete=N.delete;z.orderBy=N.orderBy;z.max=N.max;z.toRaw=N.toRaw;z.filter=N.filter;return z};N.toRaw=function(){for(var B=Array.isArray(this)?this:D,H=0,n=B.length;H<n;++H)B[H]._uuid&&delete B[H]._uuid;return JSON.clone(B)};N.filter=function(B){if('undefined'==typeof B)throw Error('`filter` parametter must be a string or an array.');var H=Array.isArray(this)?this:D;if(!H.length)return[];var n=0,z=H.length,y=[],F=0;if(Array.isArray(B))for(var r,v=B.length,E;n<z;++n){E=!1;for(r=
0;r<v;++r)'undefined'!=typeof H[n][B[r]]&&('undefined'==typeof y[F]&&(y[F]={}),y[F][B[r]]=H[n][B[r]],E=!0);E&&++F}else for(;n<z;++n)'undefined'!=typeof H[n][B]&&('undefined'==typeof y[F]&&(y[F]={}),y[F][B]=H[n][B],++F);return JSON.clone(y)};return N}'undefined'!==typeof module&&module.exports?module.exports=Collection:'function'===typeof define&&define.amd&&define('lib/collection',[],function(){return Collection});
function FormValidatorUtil(D,O,ca,Ea){var K='undefined'!==typeof module&&module.exports?!1:!0,S=K?require('lib/merge'):require('../../../../../lib/merge');K||require('../../../../../helpers');K&&require('helpers/dateFormat');var oa=K?require('lib/routing'):require('../../../../../lib/routing'),V=function(){var n=!1,z=null;K?K&&'undefined'!=typeof gina.forms&&(z=gina.forms):z=getContext('gina').forms||null;z&&'undefined'!=typeof z.validators&&(n=!0);return n},U={errors:{},keys:{'%l':'label','%n':'name',
'%s':'size'},data:{},excluded:[],errorLabels:{is:'Condition not satisfied',isEmail:'A valid email is required',isRequired:'Cannot be left empty',isBoolean:'Must be a valid boolean',isNumber:'Must be a number: allowed values are integers or floats',isNumberLength:'Must contain %s characters',isNumberMinLength:'Should be at least %s characters',isNumberMaxLength:'Should not be more than %s characters',isInteger:'Must be an integer',isIntegerLength:'Must have %s characters',isIntegerMinLength:'Should be at least %s characters',
isIntegerMaxLength:'Should not be more than %s characters',toInteger:'Could not be converted to integer',isFloat:'Must be a proper float',isFloatException:'Float exception found: %n',toFloat:'Could not be converted to float',toFloatNAN:'Value must be a valid number',isDate:'Must be a valid Date',isString:'Must be a string',isStringLength:'Must have %s characters',isStringMinLength:'Should be at least %s characters',isStringMaxLength:'Should not be more than %s characters',isJsonWebToken:'Must be a valid JSON Web Token',
query:'Must be a valid response',isApiError:'Condition not satisfied'}},l=null;if(D)l=S(JSON.clone(D),l),U.data=S(JSON.clone(D),U.data);else throw Error('missing data param');var T=function(n,z){var y=null;for(let F in Ea)if(Ea[F].name===z){y=(new DOMParser).parseFromString(n.innerHTML,'text/html').getElementById(Ea[F].id);break}if(y)return y;throw Error('Field `'+z+'` not found in fieldsSet');},q=function(n){var z;var y='';var F=n.length;for(z=0;z<F;){var r=n[z++];switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:y+=
String.fromCharCode(r);break;case 12:case 13:var v=n[z++];y+=String.fromCharCode((r&31)<<6|v&63);break;case 14:v=n[z++];var E=n[z++];y+=String.fromCharCode((r&15)<<12|(v&63)<<6|(E&63)<<0)}}return y},da=function(n,z){z=n.match(/\{\{([^{{}}]+)\}\}/g);for(let y=0,F=z.length;y<F;y++){let r=z[y].replace(/\[/g,'["').replace(/\]/g,'"]').replace(/\{|\}/g,'').trim();try{r=eval('data.'+r).replace(/^"|"$/g,''),n=n.replace(new RegExp(z[y].replace(/\{|\[|\]|\}/g,'\\$&'),'g'),r)}catch(v){}}return n},za=function(n,
z){var y=l[this.name].errors||{},F=this.target.id||this.target.getAttribute('id');if(l.isValid()){var r=this.target.dataset.ginaFormValidatorTestedValue;console.debug('[ '+this.name+' ]','TESTED VALUE -> '+this.value+' vs '+r);F='asyncCompleted.'+F;var v=this.target.form.getAttribute('id'),E='undefined'!=typeof gina.validator&&'undefined'!=typeof gina.validator.$forms[v]&&'undefined'!=typeof gina.validator.$forms[v].cachedErrors?gina.validator.$forms[v].cachedErrors:null;if(!r||'undefined'==typeof r||
r!==this.value)this.target.dataset.ginaFormValidatorTestedValue=this.value,E&&'undefined'!=typeof E[this.name]&&'undefined'!=typeof E[this.name].query&&(delete E[this.name].query,'undefined'!=typeof gina.validator.$forms[v]&&'undefined'!=typeof gina.validator.$forms[v].errors&&delete gina.validator.$forms[v].errors.query);else if(r===this.value){var I=!1;E&&'undefined'!=typeof E[this.name]&&'undefined'!=typeof E[this.name].query&&'undefined'!=typeof E[this.name].query[this.value]&&(this.error=z=E[this.name].query[this.value].slice(0),
I=!0);y.query=H(this.error||z||U.errorLabels.query,this);console.debug('[2] potential cached error detected !! ',I,E,' vs ',y.query);I&&(this.errors=y,this.valid=!1);'undefined'!=typeof gina.events[F]&&triggerEvent(gina,this.target,F,l[this.name]);return l[this.name]}var R=null,sa=this;if(window.XMLHttpRequest)R=new XMLHttpRequest;else if(window.ActiveXObject)try{R=new ActiveXObject('Msxml2.XMLHTTP')}catch(wa){try{R=new ActiveXObject('Microsoft.XMLHTTP')}catch(ka){}}z={isSynchrone:!1,headers:{}};
r=n.data||null;y=null;F=/^true$/i.test(this.target.form.dataset.ginaFormLiveCheckEnabled)?!0:!1;y=JSON.stringify(r);if(/\$/.test(y)){r=y.match(/\$[-_\[\]a-z 0-9]+/g)||[];v=E=null;for(let wa=0,ka=r.length;wa<ka;wa++)v=r[wa].replace(/\$/g,''),re=new RegExp('\\'+r[wa].replace(/\[|\]/g,'\\$&'),'g'),E=U.data[v]||null,!E&&F&&(E=T(this.target.form,v).value),y=y.replace(re,E)}r=y.replace(/\\"/g,'');var Ga='undefined'==typeof n.validIf?!0:n.validIf;z=S(z,n,ca);delete z.data;delete z.validIf;y=z.headers['Content-Type'];
var X=null;F=this.target.getAttribute('id');if(!/^http/.test(z.url)&&/@/.test(z.url))try{I=oa.getRoute(z.url),z.url=I.toUrl()}catch(wa){throw wa;}if(z.withCredentials){if('withCredentials'in R)z.isSynchrone?R.open(z.method,z.url,z.isSynchrone):R.open(z.method,z.url);else if('undefined'!=typeof XDomainRequest)R=new XDomainRequest,R.open(z.method,z.url);else throw R=null,X='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ',Error(X);R.responseType='undefined'!=
typeof z.responseType?z.responseType:'';R.withCredentials=!0}else z.isSynchrone?R.open(z.method,z.url,z.isSynchrone):R.open(z.method,z.url);for(var ia in z.headers)'Content-Type'==ia&&'undefined'!=typeof y&&null!=y&&''!=y||R.setRequestHeader(ia,z.headers[ia]);'undefined'!=typeof y&&null!=y&&''!=y&&R.setRequestHeader('Content-Type',y);var ea=function(wa){sa.value=U.data[sa.name]=sa.value?sa.value.toLowerCase():sa.value;var ka=wa.isValid||!1;ka=Ga!=ka?!1:!0;l[sa.name].valid=ka;var ta=l[sa.name].errors||
{},Da='undefined'!=typeof wa.error&&'undefined'!=typeof wa.fields?wa.fields:{};if(0<Da.count()&&!ka||!ka){if(!ka){var Qa=null;'undefined'!=typeof Da[sa.name]?U.errorLabels.query=da(Da[sa.name],n.data):'undefined'!=typeof wa.error&&/^5/.test(wa.status)&&(Qa=wa.error);ta.query=H(Qa||sa.error||U.errorLabels.query||n.error,sa);console.debug('[1] query error detected !! ',wa)}ta.query||''!=sa.value||(ka=!0)}ka&&'undefined'!=typeof ta.query&&delete ta.query;sa.valid=ka;wa=gina.validator.$forms[sa.target.form.getAttribute('id')].cachedErrors||
{};0<ta.count()?(sa.errors=ta,'undefined'==typeof l[sa.name].errors&&(l[sa.name].errors={}),l[sa.name].errors=S(l[sa.name].errors,ta),'undefined'!=typeof ta.query&&ta.query&&('undefined'==typeof wa[sa.name]&&(wa[sa.name]={}),'undefined'==typeof wa[sa.name].query&&(wa[sa.name].query={}),wa[sa.name].query[sa.value]=ta.query.slice(0)),ta=sa.target.getAttribute('data-gina-form-errors'),/query/.test(ta)||sa.target.setAttribute('data-gina-form-errors',ta&&''!=ta?ta+' query':'query')):'undefined'!=typeof wa[sa.name]&&
'undefined'!=typeof wa[sa.name].query&&'undefined'!=typeof wa[sa.name].query[sa.value]&&delete wa[sa.name].query[sa.value];ta=sa.target.id||sa.target.getAttribute('id');console.debug('prematurely completed event `asyncCompleted.'+ta+'`');return triggerEvent(gina,sa.target,'asyncCompleted.'+ta,l[sa.name])};R&&(R.onerror=function(wa,ka){console.debug('query error [2] detected !! ',ka,'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.');isOnException=
!0;wa=this.getResponseHeader('Content-Type');if(/\/json/.test(wa))wa=JSON.parse(this.responseText),'undefined'==typeof wa.status&&(wa.status=this.status);else if(wa={status:R.status,message:''},/^(\{|\[)/.test(R.responseText))try{wa=S(wa,JSON.parse(R.responseText))}catch(ta){wa=S(wa,ta)}return ea(wa)},R.onload=function(){try{X=this.responseText;var wa=this.getResponseHeader('Content-Type');if(/\/json/.test(wa))X=JSON.parse(this.responseText),'undefined'==typeof X.status&&(X.status=this.status);else if(X=
{status:R.status,message:''},/^(\{|\[)/.test(R.responseText))try{X=S(X,JSON.parse(R.responseText))}catch(ka){X=S(X,ka)}return ea(X)}catch(ka){throw ka;}},D?R.send(r):R.send())}else console.debug('stopping on errors ...'),triggerEvent(gina,this.target,'asyncCompleted.'+F,l[this.name])},N=async function(n,z,y,F){var r=(new (require(_(GINA_FRAMEWORK_DIR+'/core/config.js',!0)))).getInstance(),v=null,E=null,I=null,R=getContext('bundle');if(/@/.test(n.url)){var sa=n.url.split(/@/);E=sa[0];I=sa[1];getConfig(R,
'app');try{r.bundle!==I&&(v=getConfig(R,'app').proxy[I])}catch(ea){throw Error('Could not retrieve `proxy` configuration for bundle `'+I+'`. Please check your `/config/app.json`.\n'+ea.stack);}sa=null}else throw Error('external url/domain not  handled at this moment, please contact us if you need support for it.');sa=JSON.clone(oa.getRoute(n.url,n.data));var Ga=r[I][r.env];v||(r.bundle==I&&(v=getConfig(R,'settings').server.credentials,n.ca=v.ca||null,n.hostname=Ga.server.scheme+'://'+Ga.host,n.port=
Ga.port[Ga.server.protocol][Ga.server.scheme],n.protocol=Ga.server.protocol,n.rejectUnauthorized=!1),v={ca:n.ca,hostname:n.hostname,port:n.port,path:n.path},'undefined'!=typeof n.protocol&&(v.protocol=n.protocol),'undefined'!=typeof n.rejectUnauthorized&&(v.rejectUnauthorized=n.rejectUnauthorized));E={method:sa.method,requirements:sa.requirements,namespace:sa.namespace||void 0,url:decodeURI(sa.url),rule:E+'@'+I,param:JSON.clone(sa.param),middleware:JSON.clone(sa.middleware),bundle:sa.bundle,isXMLRequest:z.isXMLRequest,
isWithCredentials:z.isWithCredentials};I=E.rule.replace('@'+I,'')||'_common';I={template:'undefined'!=typeof Ga.content.templates?Ga.content.templates[I]||Ga.content.templates._common:void 0,cacheless:Ga.cacheless};I=S(I,E);Ga=JSON.clone(Ga);I.conf=Ga;I.conf.content.routing[I.rule].param=E.param;I.template&&'undefined'==typeof I.template.ginaLoader&&(I.template.ginaLoader=I.conf.content.templates._common.ginaLoader);I.conf.content.routing[I.rule].param=E.param;delete I.middleware;delete I.param;delete I.requirements;
Ga=new (require(_(GINA_FRAMEWORK_DIR+'/core/controller/controller.js'),!0))(I);Ga.name=sa.param.control;Ga.setOptions(z,y,F,I);z='object'==typeof n.data&&0<n.data.count()?n.data:{};if(/^get|delete|put$/i.test(n.method)){y=0;for(let ea in z)'object'==typeof z[ea]&&encodeRFC5987ValueChars(JSON.stringify(z[ea])),y++}v.method=n.method;v.path=sa.url;n=require('util').promisify;var X={isValid:!1},ia=!1;await n(Ga.query)(v,z).then(function(ea){X=ea}).catch(function(ea){ia=ea});ia&&(console.error(ia),X.error=
ia);return X},L=null;L=K?za:N;var B=function(n,z){var y=null,F=null;'undefined'==typeof l[n]&&'undefined'!=typeof z&&(l[n]=y=z);if('object'==typeof l[n])try{y=JSON.parse(JSON.stringify(l[n]))}catch(r){y=l[n]}else y=l[n];F='';K&&'undefined'!=typeof O&&(F=O[n].getAttribute('data-gina-form-field-label')||'');l[n]={target:K&&'undefined'!=typeof O?O[n]:null,name:n,value:y,valid:!1,label:F,exclude:!1};l[n].is=function(r,v,E){var I=!1,R='undefined'!=typeof window&&'undefined'!=typeof window._currentValidatorAlias?
window._currentValidatorAlias:'is';'undefined'!=typeof window&&window._currentValidatorAlias&&delete window._currentValidatorAlias;var sa=l[this.name].errors||{};U.data[this.name]=l[this.name].value;'undefined'==typeof sa.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value||!sa.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value?I=!0:sa.isRequired||'string'!=typeof this.value||''!=this.value||(I=!0);if(!I&&/^(true|false)$/i.test(r))I=r;else if(!I){var Ga=null,
X=null;if(/[!=>><a-z 0-9]+/i.test(r)){if((X=r.match(/\${0}[-_,.\[\]a-z0-9]+/ig))&&0<X.length){for(var ia=0,ea=X.length;ia<ea;++ia)'undefined'!=typeof l[X[ia]]&&X[ia]&&(Ga=new RegExp('\\$'+X[ia]+'(?!\\S+)','g'),r=''==l[X[ia]].value?r.replace(Ga,'""'):'string'==typeof l[X[ia]].value?r.replace(Ga,'"'+l[X[ia]].value+'"'):r.replace(Ga,l[X[ia]].value));try{r=r.replace(/(\(|\)|return)/g,''),I=/^\//.test(r)?eval(r+'.test("'+this.value+'")'):eval(r)}catch(wa){throw Error(wa.stack||wa.message);}}}else if(r instanceof
RegExp)I=r.test(this.value)?!0:!1;else if('boolean'==typeof r)I=r?!0:!1;else try{/\/(.*)\//.test(r)?(Ga=r.match(/\/(.*)\//).pop(),X=r.replace('/'+Ga+'/',''),I=(new RegExp(Ga,X)).test(this.value)):I=eval(r)}catch(wa){throw Error(wa.stack||wa.message);}}I?I&&'undefined'!=typeof sa[R]&&delete sa[R]:(sa[R]=H(this.error||v||U.errorLabels[R],this),'undefined'!=typeof E&&(sa.stack=E));this.valid=I;0<sa.count()&&(this.errors=sa);return l[this.name]};l[n].set=function(r){this.value=U.data[this.name]=r;this.target.setAttribute('value',
r);return l[this.name]};l[n].isEmail=function(){this.value=U.data[this.name]=this.value?this.value.toLowerCase():this.value;K&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.value)?!0:!1,v=l[this.name].errors||{};v.isRequired||''!=this.value||(r=!0);r?r&&'undefined'!=typeof v.isEmail&&
delete v.isEmail:v.isEmail=H(this.error||U.errorLabels.isEmail,this);this.valid=r;0<v.count()&&(this.errors=v);return l[this.name]};l[n].isJsonWebToken=function(){this.value=U.data[this.name]=this.value?this.value.toLowerCase():this.value;K&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var r=/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/.test(this.value)?!0:!1,v=l[this.name].errors||{};v.isRequired||''!=this.value||(r=!0);r?r&&'undefined'!=
typeof v.isJsonWebToken&&delete v.isJsonWebToken:v.isJsonWebToken=H(this.error||U.errorLabels.isJsonWebToken,this);this.valid=r;0<v.count()&&(this.errors=v);return l[this.name]};l[n].isBoolean=function(){var r=null,v=l[this.name].errors||{};v.isRequired&&0==this.value&&(delete v.isRequired,this.errors=v);switch(this.value){case 'true':case !0:case 1:r=this.value=U.data[this.name]=!0;break;case 'false':case !1:case 0:r=this.value=U.data[this.name]=!1}(r=null!==r?!0:!1)?r&&'undefined'!=typeof v.isBoolean&&
delete v.isBoolean:v.isBoolean=H(this.error||U.errorLabels.isBoolean,this);this.valid=r;0<v.count()&&(this.errors=v);return l[this.name]};l[n].isNumber=function(r,v){var E=this.value,I=!1,R=!0,sa=!0,Ga=l[this.name].errors||{};try{'string'==typeof E&&/,|\./g.test(E)?E=U.data[this.name]=this.value=parseFloat(E.replace(/,/g,'.').replace(/\s+/g,'')):'string'==typeof E&&''!=E&&(E=U.data[this.name]=this.value=parseInt(E.replace(/\s+/g,'')))}catch(ia){Ga.isNumber=H(this.error||U.errorLabels.isNumber,this),
this.valid=!1,0<Ga.count()&&(this.errors=Ga)}if(+E===+E&&(I=!0,!Ga.isRequired&&''!=E)){var X=E.toString().length;r&&'number'==typeof r&&X<r&&(R=!1,this.size=r);v&&'number'==typeof v&&X>v&&(sa=!1,this.size=v)}I&&R&&sa||(I||(Ga.isNumber=H(this.error||U.errorLabels.isNumber,this)),R&&sa||(R||(Ga.isNumberLength=H(this.error||U.errorLabels.isNumberMinLength,this)),sa||(Ga.isNumberLength=H(this.error||U.errorLabels.isNumberMaxLength,this)),r===v&&(Ga.isNumberLength=H(this.error||U.errorLabels.isNumberLength,
this))),I=!1);I&&'undefined'!=typeof Ga.isNumberLength&&delete Ga.isNumberLength;this.valid=I;this.value=U.data[this.name]=''!=E?Number(E):E;0<Ga.count()&&(this.errors=Ga);return l[this.name]};l[n].toInteger=function(){var r=this.value,v=l[this.name].errors||{};if(r)try{this.value=U.data[this.name]=Math.round(r)}catch(E){v.toInteger=H(this.error||U.errorLabels.toInteger,this),this.valid=!1,0<v.count()&&(this.errors=v)}return l[this.name]};l[n].isInteger=function(r,v){var E=this.value,I=!1,R=!0,sa=
!0,Ga=l[this.name].errors||{};+E===+E&&0===E%1&&(I=!0,Ga.isRequired||''==E||(r&&'number'==typeof r&&E.length<r&&(R=!1,this.size=r),v&&'number'==typeof v&&E.length>v&&(sa=!1,this.size=v)));I&&R&&sa||(I||(Ga.isInteger=H(this.error||U.errorLabels.isInteger,this)),R&&sa||(R||(Ga.isIntegerLength=H(this.error||U.errorLabels.isIntegerMinLength,this),I=!1),sa||(Ga.isIntegerLength=H(this.error||U.errorLabels.isIntegerMaxLength,this),I=!1),r===v&&(Ga.isIntegerLength=H(this.error||U.errorLabels.isIntegerLength,
this),I=!1)));this.valid=I;this.value=U.data[this.name]=Number(E);0<Ga.count()&&(this.errors=Ga);return l[this.name]};l[n].toFloat=function(r){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''),/,/.test(this.value)&&!/\./.test(this.value)?this.value=this.value.replace(/,/g,'.'):this.value=this.value.replace(/,/g,''));var v=U.data[this.name]=this.value,E=l[this.name].errors||{},I=!0;r?this.decimals=parseInt(r):'undefined'==typeof this.decimals&&(this.decimals=2);if(v)if(this.isNumber().valid)try{Number.isFinite(v)||
(v=this.value=U.data[this.name]=new Number(parseFloat(v.match(/[0-9.,]+/g).join('').replace(/,/,'.')))),K&&this.target.setAttribute('value',v)}catch(R){I=!1,E.toFloat=H(this.error||U.errorLabels.toFloat,this),this.valid=!1,0<E.count()&&(this.errors=E)}else I=!1,E.toFloat=H(this.error||U.errorLabels.toFloatNAN,this);else return l[this.name];this.decimals&&v&&!E.toFloat&&(this.value=U.data[this.name]=parseFloat(this.value.toFixed(this.decimals)));this.valid=I;0<E.count()&&(this.errors=E);return l[this.name]};
l[n].isFloat=function(r){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''));var v=U.data[this.name]=this.value;r=l[this.name].errors||{};'string'==typeof v&&/\./.test(v)&&Number.isFinite(Number(v));'string'==typeof v&&/,/g.test(v)&&(v=this.value=U.data[this.name]=Number(v.replace(/,/g,'.')));Number(v)===v&&0!==v%1?(this.value=U.data[this.name]=Number(v),v=!0):v=!1;r.isRequired||''!=this.value||(v=!0);v||(r.isFloat=H(this.error||U.errorLabels.isFloat,this));this.valid=v;0<r.count()&&
(this.errors=r);return l[this.name]};l[n].isRequired=function(r){if('boolean'==typeof r&&!r)return this.valid=!0,r=U.excluded.indexOf(this.name),-1<r&&U.excluded.splice(r,1),l[this.name];if(K&&this.target&&'INPUT'==this.target.tagName&&'undefined'!=typeof this.target.type&&'radio'==this.target.type){r=document.getElementsByName(this.name);for(var v=0,E=r.length;v<E;++v)if(r[v].checked){/true|false/.test(r[v].value)?this.value=U.data[this.name]=/true/.test(r[v].value)?!0:!1:this.value=U.data[this.name]=
r[v].value;this.valid=!0;break}}r='undefined'==typeof this.value||null==this.value||''==this.value||/^\s+/.test(this.value)?!1:!0;v=l[this.name].errors||{};r?r&&'undefined'!=typeof v.isRequired&&delete v.isRequired:v.isRequired=H(this.error||U.errorLabels.isRequired,this);this.valid=r;0<v.count()&&(this.errors=v);return l[this.name]};l[n].isString=function(r,v){var E=U.data[this.name]=this.value,I=!1,R=!0,sa=!0,Ga=l[this.name].errors||{};'string'!=typeof E||Ga.isRequired||''==E||(I=!0,r&&'number'==
typeof r&&E.length<r&&(R=!1,this.size=r),v&&'number'==typeof v&&E.length>v&&(sa=!1,this.size=v));I&&R&&sa||(!I&&Ga.isRequired&&''==E?(I=!1,Ga.isString=H(this.error||U.errorLabels.isString,this)):I||Ga.isRequired||(I=!0),R&&sa||(I=!1,R||(Ga.isStringLength=H(this.error||U.errorLabels.isStringMinLength,this)),sa||(Ga.isStringLength=H(this.error||U.errorLabels.isStringMaxLength,this)),r===v&&(Ga.isStringLength=H(this.error||U.errorLabels.isStringLength,this))));this.valid=I;0<Ga.count()&&(this.errors=
Ga);return l[this.name]};l[n].isDate=function(r){var v=this.value,E=!1,I=l[this.name].errors||{},R=null;if(!v||''==v||/NaN|Invalid Date/i.test(v))return/NaN|Invalid Date/i.test(v)&&(console.warn('[FormValidator::isDate] Provided value for field `'+this.name+'` is not allowed: `'+v+'`'),I.isDate=H(this.error||U.errorLabels.isDate,this)),this.valid=E,0<I.count()&&(this.errors=I),l[this.name];if('undefined'==typeof r||'undefined'!=typeof r&&/true/i.test(r))r='yyyy-mm-dd';if(v instanceof Date)v=v.format(r);
else{try{R=r.match(/[^\/\- ]+/g)}catch(ea){throw Error('[FormValidator::isDate] Provided mask not allowed: `'+r+'`');}try{v=v.match(/[^\/\- ]+/g);var sa={},Ga;var X=0;for(Ga=R.length;X<Ga;++X)sa[R[X]]=v[X];for(var ia in sa)r=r.replace(new RegExp(ia,'g'),sa[ia])}catch(ea){throw Error('[FormValidator::isDate] Provided value not allowed: `'+v+'`'+ea);}v=this.value=U.data[this.name]=new Date(r);if(/Invalid Date/i.test(v)||!1===v instanceof Date)return I.isRequired||''!=this.value?I.isDate=H(this.error||
U.errorLabels.isDate,this):E=!0,this.valid=E,0<I.count()&&(this.errors=I),l[this.name];E=!0}this.valid=E;return v};l[n].format=function(r,v){var E=this.value;return E?E.format(r,v):l[this.name]};l[n].setFlash=function(r,v){'undefined'!=typeof v&&''!=v&&(this.error=v);return l[this.name]};l[n].setLabel=function(r){'undefined'!=typeof r&&''!=r&&(this.label=r);return l[this.name]};l[n].trim=function(r){if('boolean'==typeof r&&r)return this.value=this.value.replace(/^\s+|\s+$/,''),U.data[this.name]=U.data[this.name]=
this.value,l[this.name]};l[n].exclude=function(r){if('boolean'==typeof r&&!r)return/^true|false$/i.test(this.value)&&(this.value=/^true$/i.test(this.value)?!0:!1,U.data[this.name]=this.value),l[this.name];this.isExcluded=!1;0>U.excluded.indexOf(this.name)&&(U.excluded.push(this.name),this.isExcluded=!0);return l[this.name]};l[n].query=L;l[n].getValidationContext=function(){return{isGFFCtx:K,self:l,local:U,replace:H}};if(V()){y=z=null;try{for(let r in gina.forms.validators)y='/validators/'+r+'/main.js',
U.errorLabels[r]='Condition not satisfied',K?(z=q(gina.forms.validators[r].data),z=z.replace(/(\)\s+\{|\)\{){1}/,'$&\n\tvar validationContext = this.getValidationContext(),isGFFCtx = validationContext.isGFFCtx,self = validationContext.self,local = validationContext.local,replace = validationContext.replace;')):z=gina.forms.validators[r].toString(),l[n][r]=eval('('+z+')\n//# sourceURL='+r+'.js')}catch(r){throw Error('[UserFormValidator] Could not evaluate: `'+y+'`\n'+r.stack);}}};for(let n in l)B(n,
l[n]);l.addField=function(n,z){'undefined'==typeof l[n]&&B(n,z)};l.isValid=function(){return 0<l.getErrors().count()?!1:!0};l.setErrors=function(n){if(!n)return{};for(var z in l)if('object'==typeof l[z]){for(var y in l[z])'object'==typeof n[z]&&'undefined'!=typeof n[z][y]&&('undefined'!=typeof l[z].valid&&/^true$/i.test(l[z].valid)?delete n[z][y]:('undefined'==typeof l[z].errors&&(l[z].errors={}),l[z].errors[y]=n[z][y]));('undefined'==typeof l[z].errors&&'undefined'!=typeof n[z]||'undefined'!=typeof l[z].errors&&
0==l[z].errors.count()&&'undefined'!=typeof n[z])&&delete n[z]}return n};l.getErrors=function(n){var z={};if('undefined'!=typeof n)return'undefined'!=typeof l[n]&&l[n]&&'undefined'!=typeof l[n].errors&&0<l[n].errors.count()&&(z[n]=l[n].errors),z;for(var y in l)'object'==typeof l[y]&&'undefined'!=typeof l[y].errors&&0<l[y].errors.count()&&(z[y]=l[y].errors);return z};l.toData=function(){if(0<U.excluded.length)for(var n=0,z=U.excluded.length;n<z;++n)'undefined'!=typeof U.data[U.excluded[n]]&&delete U.data[U.excluded[n]];
return U.data};var H=function(n,z){var y=n.match(/%[a-z]+/gi);if(y)for(var F=0,r=y.length;F<r;++F)n=n.replace(new RegExp(y[F],'g'),z[U.keys[y[F]]]);return n};l.setErrorLabels=function(n){'undefined'!=typeof n&&(U.errorLabels=S(n,U.errorLabels))};return l}'undefined'!==typeof module&&module.exports?module.exports=FormValidatorUtil:'function'===typeof define&&define.amd&&define('lib/form-validator',[],function(){return FormValidatorUtil});
function Routing(){var D='undefined'!==typeof module&&module.exports?!1:!0,O={allowedMethods:['get','post','put','delete'],reservedParams:['controle','file','title','namespace','path'],notFound:{}};O.allowedMethodsString=O.allowedMethods.join(',');var ca=null,Ea=null,K=null;D?(Ea&&'function'==typeof Ea||(Ea=require('lib/merge')),K&&'function'==typeof K||(K=require('lib/form-validator'))):(require('fs'),require('util'),require('../../inherits'),Ea=require('../../merge'),ca=require(__dirname+'/../../../core/plugins')||
getContext('gina').plugins,K=ca.Validator);O.getUrlProps=function(l,T){var q={};if(D){var da=window.gina.config;q.hostname=da.hostname;'undefined'!=typeof l&&(l=routing.getRoute('webroot@'+l),q.hostname=l.hostname,q.host=l.host,q.webroot=l.webroot)}else da=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(da.getRouting=getContext('gina').Config.instance.getRouting),'undefined'==typeof l&&(l=da.bundle),'undefined'==typeof T&&(T=da.env),q.hostname=da.envConf[l][T].hostname,
q.host=da.envConf[l][T].host,q.webroot=da.envConf[l][T].server.webroot;return q};O.compareUrls=async function(l,T,q,da,za){'undefined'==typeof q&&(q={routing:{}});if(/,/.test(T)){var N=0;T=T.split(/,/g);for(var L=T.length,B={past:!1,request:q};N<L&&!B.past;)B=await S(l,T[N],q,da,za),++N;return B}return await S(l,T,q,da,za)};var S=async function(l,T,q,da,za){var N=l.url.split(/\//);T=T.split(/\//);var L=0,B=0,H=T.length,n=0,z={},y=0,F=q.method.toLowerCase(),r=l.method.toLowerCase(),v=!1;if('undefined'!=
typeof l.requirements&&/get|delete/i.test(F)&&'undefined'!=typeof q[F]||'undefined'!=typeof l.requirements&&/get/i.test(F)&&/delete/i.test(r)){/get/i.test(F)&&/delete/i.test(r)&&(F=r);if(/^(delete)$/i.test(F)&&N.length===T.length){'undefined'==typeof q[F]&&(q[F]={});for(let R=0,sa=T.length;R<sa;R++)if(N[R]===T[R])++n;else if(r=T[R].substr(1),'undefined'!=typeof l.requirements[r]){r=l.requirements[r];if(/^\//.test(r))r=r.substr(1,r.lastIndexOf('/')-1);else if(/^validator::/.test(r)&&await oa(T[R],
N[R],l,q,da,za)){++n;continue}/^:/.test(T[R])&&'undefined'!=typeof r&&(new RegExp(r)).test(N[R])&&(++n,q[F][T[R].substr(1)]=N[R])}v=!0}for(var E in q[F])'undefined'!=typeof l.requirements[E]&&0>T.indexOf(':'+E)&&(T[B]=':'+E,++B,N[L]=q[F][E],++L,v||N.length!==T.length||++H)}if(!v&&N.length===T.length)for(;y<H;++y)N[y]===T[y]?++n:n==y&&/:/.test(T[y])&&await oa(T[y],N[y],l,q,da,za)&&++n;if('undefined'!=typeof l.requirements&&F==l.method.toLowerCase()&&!v&&n>=H)for(E=Object.getOwnPropertyNames(l.requirements),
L=0,T.join(',').match(/:[-_a-z0-9]+/g);L<E.length;){B=E[L];if('undefined'==typeof l.param[B]&&/^validator::/i.test(l.requirements[B])){if(T.length!=N.length)break;var I=T.join(',').match(/:[-_a-z0-9]+/g);let R=l.requirements[B];y={};r={};v={};try{r=JSON.parse(R.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(sa){throw sa;}if('undefined'!=typeof r.query&&'undefined'!=typeof r.query.data){y=r.query.data;for(let sa in y)0>I.indexOf(y[sa])&&
delete y[sa];for(let sa=0,Ga=T.length;sa<Ga;sa++)/^:/.test(T[sa])&&(I=T[sa].replace(/^:/,''),''!=I&&'undefined'!=typeof N[sa]&&(y[I]=N[sa],'undefined'==typeof q.params[I]&&(q.params[I]=N[sa])))}y=Ea(y,JSON.clone(q[F])||{});'undefined'==typeof y[B]&&(y[B]=null);v[B]=r;_validator=D?new K(y):new K('routing',y,null,v);if(0==r.count()){console.error('Route validation failed '+l.rule);--n;L++;continue}for(let sa in r)if('undefined'!=typeof r[sa].data&&(r[sa].data=y),v=Array.isArray(r[sa])?await _validator[B][sa].apply(_validator[B],
r[sa]):await _validator[B][sa](r[sa],q,da,za),!v.isValid&&(--n,'undefined'!=typeof v.error))throw v.error;}L++}z.past=n===H?!0:!1;z.past&&(q.routing=U(l,q[F]),z.request=q);return z},oa=async function(l,T,q,da,za,N){var L=-1,B=l.match(/:\w+/g);L=new RegExp(l,'g');var H=null,n=null,z=null;H=!1;var y=H=n=n=null,F=null,r=da.method.toLowerCase();if(!B.length)return!1;q.param.path&&L.test(q.param.path)&&(q.param.path=q.param.path.replace(L,T));q.param.namespace&&L.test(q.param.namespace)&&(q.param.namespace=
q.param.namespace.replace(L,T));'undefined'!=typeof q.param.file&&/:/.test(q.param.file)&&(H=new RegExp('(:'+l+'/|:'+l+'$)','g'),V.variable=T,q.param.file=q.param.file.replace(H,V));q.param.title&&L.test(q.param.title)&&(q.param.title=q.param.title.replace(L,T));if(1==B.length){H=new RegExp(B[0]);L=-1<B.indexOf(l)?B.indexOf(l):!1;!1===L&&l.match(H)&&(L=0);if(!1===L)return L;if(q.method.toLowerCase()!==r)return!1;'undefined'==typeof da[r]&&(da[r]={});z=B[L].substr(1);L=q.requirements[z];if(/^\//.test(L))H=
L.match(/\/(.*)\//).pop(),n=L.replace('/'+H+'/',''),H=(new RegExp(H,n)).test(T);else if(/^validator::/.test(L)&&T){n={};H={};y={};F='';l.replace(new RegExp('[^'+z+']','g'),function(sa){F+=sa});n[z]=T.replace(new RegExp(F,'g'),'');try{H=JSON.parse(L.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(sa){throw sa;}'undefined'!=typeof H.query&&'undefined'!=typeof H.query.data&&l==H.query.data[Object.keys(H.query.data)[0]]&&(H.query.data[Object.keys(H.query.data)[0]]=
n[z],da.params[z]=n[z]);y[z]=H;n=new K('routing',n,null,y);if(0==H.count())return console.error('Route validation failed '+q.rule),!1;for(var v in H)Array.isArray(H[v])?await n[z][v].apply(n[z],H[v]):await n[z][v](H[v],da,za,N);H=n.isValid()}else H=(new RegExp(q.requirements[z])).test(T);if('undefined'!=typeof q.param[z]&&'undefined'!=typeof q.requirements&&'undefined'!=typeof q.requirements[z]&&'undefined'!=typeof da.params&&H)return da.params[z]=T,'undefined'==typeof da[r][z]&&(da[r][z]=T),!0}else{za=
q.url;N=da.url;r={};y='';var E=!1,I=0;v=0;for(var R=N.length;v<R;++v)if(N.charAt(v)!=za.charAt(I)||E){if(''==y)E=!0,y+=N.charAt(v);else if(v>za.indexOf(B[0])+B[0].length){L=q.requirements[B[0]];T=y.substr(0,y.length);if(/^\//.test(L))H=L.match(/\/(.*)\//).pop(),n=L.replace('/'+H+'/',''),H=(new RegExp(H,n)).test(T);else if(/^validator::/.test(L)){n={};H={};y={};F='';l.replace(new RegExp('[^'+z[0]+']','g'),function(sa){F+=sa});n[z[0]]=T.replace(new RegExp(F,'g'),'');H=JSON.parse(L.split(/::/).splice(1)[0].replace(/([^\W+ true false])+(\w+)/g,
'"$&"'));y[z[0]]=H;n=new K('routing',n,null,y);for(let sa in H)if(Array.isArray(H[sa]))n[z[0]][sa].apply(n[z[0]],H[sa]);else n[z[0]][sa](H[sa]);H=n.isValid()}else H=(new RegExp(q.requirements[z[0]])).test(T);if(H)r[B[0].substr(1)]=T;else return!1;y='';E=!1;I=za.indexOf(B[0])+B[0].length;--v;B.splice(0,1)}else y+=N.charAt(v),++I;if(v==R-1)if(L=q.requirements[B[0]],T=y.substr(0,y.length),/^\//.test(L)?(H=L.match(/\/(.*)\//).pop(),n=L.replace('/'+H+'/',''),H=(new RegExp(H,n)).test(T)):H=(new RegExp(q.requirements[z])).test(T),
H)r[B[0].substr(1)]=T;else return!1}else++I;if(r.count()==B.length){z=null;for(z in r)da.params[z]=r[z];return!0}}return!1},V=function(l){return/\/$/.test(l)?V.variable+'/':V.variable},U=function(l,T){var q=null,da,za=l.url,N=null;for(N in l.param)if(('undefined'==typeof T||'undefined'!=typeof T[N])&&/^:/.test(l.param[N])){var L=l.param[N].substr(1);if('undefined'!=typeof T&&'undefined'!=typeof T[L]){var B=new RegExp('(:'+L+'/|:'+L+'$)','g');'undefined'!=typeof l.param.path&&/:/.test(l.param.path)&&
(l.param.path=l.param.path.replace(B,T[L]));'undefined'!=typeof l.param.title&&/:/.test(l.param.title)&&(l.param.title=l.param.title.replace(B,T[L]));'undefined'!=typeof l.param.namespace&&/:/.test(l.param.namespace)&&(l.param.namespace=l.param.namespace.replace(B,T[L]));'undefined'!=typeof l.param.file&&/:/.test(l.param.file)&&(V.variable=T[L],l.param.file=l.param.file.replace(B,V));if(/,/.test(l.url)){q=l.url.split(/,/g);var H=0;for(da=q.length;H<da;++H)V.variable=T[L],q[H]=q[H].replace(B,V);l.url=
q.join(',')}else V.variable=T[L],l.url=l.url.replace(B,V)}}if(q){H=0;da=q.length;za=za.split(/,/g);var n=0;for(l.urlIndex=0;H<da;++H)if(q=0,B=za[0].match(/:[-_a-z0-9]+/ig)){N=0;for(L=B.length;N<L;N++){var z=B[N].substr(1);'undefined'!=typeof T[z]&&T[z]&&q++}q>n&&(n=q,l.urlIndex=H)}}return l};O.getRoute=function(l,T,q){var da=null;D?da=window.gina.config:(da=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(da.getRouting=getContext('gina').Config.instance.getRouting));var za=
da.env||GINA_ENV,N=null,L=da.bundle;/@/.test(l)||'undefined'==typeof L||null==L||(l=l.toLowerCase(),l+='@'+L);if(/@/.test(l)){var B=l.replace(/(.*):\/\//,'').split(/@/);L=B[1];/\/(.*)$/.test(l)&&(N=l.replace(/(.*):\/\//,'').split(/\/(.*)$/)[1],L=L.replace(/\/(.*)$/,''),za=N||za);l=B[0].toLowerCase()+'@'+L}N=da.getRouting(L,za);if('undefined'==typeof N[l])throw Error('[ RoutingHelper::getRouting(rule, params) ] : `'+l+'` not found !');da=JSON.clone(N[l]);L=null;da=U(da,T);/,/.test(da.url)&&('undefined'!=
typeof da.urlIndex&&(q=da.urlIndex,delete da.urlIndex),q='undefined'!=typeof q?q:0,da.url=da.url.split(/,/g)[q]);/\/$/.test(da.url)&&'/'!=da.url&&(da.url=da.url.substr(0,da.url.length-1));if(/GET/i.test(da.method)&&'undefined'!=typeof T){q='?';N=N[l].url;for(let H in da.param)-1<O.reservedParams.indexOf(H)||(new RegExp(da.param[H])).test(N)||'undefined'!=typeof T[H]&&(q+=H+'='+encodeRFC5987ValueChars(T[H])+'&');1<q.length&&(q=q.substring(0,q.length-1),da.url+=q)}da.toUrl=function(H){var n=null;/^redirect$/i.test(this.param.control)&&
(n=O.getUrlProps(this.bundle,za||GINA_ENV));var z=this.webroot||n.webroot;n=this.hostname||n.hostname;var y=this.url;this.url='undefined'!=typeof H&&1==H?y.replace(z,'/'):y;return n+this.url};da.request=function(H,n){var z=null,y=null;'function'==typeof arguments[arguments.length-1]&&(z=arguments[arguments.length-1]);'object'==typeof arguments[2]&&(y=arguments[2]);var F=this.webroot||y.webroot,r=this.hostname||y.hostname;y='undefined'!=typeof H&&1==H?path.replace(F,'/'):this.url||y.url;r=/^https/.test(r)?
'https':'http';D?window.open(y,'undefined'!=typeof n&&'undefined'!=typeof n.target?n.target:'_self'):('undefined'==typeof n.agent&&(n.agent=!1),r=require(''+r),F=function(v){var E='',I=!1;v.on('data',function(R){E+=R});v.on('error',function(R){I='Failed to get mail content';R&&'undefined'!=typeof R.stack?I+=R.stack:'string'==typeof R&&(I+='\n'+R)});v.on('end',function(){if(/^\{/.test(E))try{E=JSON.parse(E),'undefined'!=typeof E.error&&(I=JSON.clone(E),E=null)}catch(R){I=R}I?z(I):z(!1,E)})},z?r.get(y,
n,F):r.get(y,n))};/:/.test(da.url)&&(T=da.url.match(/(:(.*)\/|:(.*)$)/g).map(function(H){return H.replace(/\//g,'')}).join(', '),L='[ RoutingHelper::getRoute(rule[, bundle, method]) ] : route [ %r ] param placeholder not defined: `'+da.url+'` !\n Check your route description to compare requirements against param variables [ '+T+']',L=L.replace(/%r/,l),console.warn(Error(L)));return da};O.getRouteByUrl=function(l,T,q,da,za){2==arguments.length&&'undefined'!=typeof arguments[1]&&-1<O.allowedMethods.indexOf(arguments[1].toLowerCase())&&
(q=arguments[1],T=void 0);var N=null,L=null,B=null,H=null,n=null,z=null;if(/#/.test(l)&&1<l.length){var y=l.split(/#/);l=y[0];n='#'+y[1];y=null}1==arguments.length&&'undefined'!=typeof arguments[0]&&(/^(https|http)/i.test(l)||/^\//.test(l)||(l='/'+l),N='/'+l.split(/\//g)[1],D&&(H=gina.config.reverseRouting,B=gina.config.routing),'undefined'!=typeof H[N]&&(y=B[H[N]],T=y.bundle,N=y.webroot,z=y.hostname,y=null));za='boolean'!=typeof arguments[arguments.length-1]?!1:arguments[arguments.length-1];var F=
!1,r=null,v=null,E=r=v=null;y='undefined'!=typeof q?!0:!1;D?(r=window.gina.config,T='undefined'!=typeof T?T:r.bundle,v=r.env,B=B||r.getRouting(T),H=H||r.reverseRouting,isXMLRequest='undefined'!=typeof isXMLRequest?isXMLRequest:!1,z=z||r.hostname,N=N||r.webroot,da={routing:{},method:q,params:{},url:l}):(r=getContext('gina').config,T='undefined'!=typeof T?T:r.bundle,v=r.env,B=r.getRouting(T),z=r.envConf[T][v].hostname,N=r.envConf[T][v].server.webroot,da||={routing:{},isXMLRequest:!1,method:'undefined'!=
typeof q?q.toLowerCase():'get',params:{},url:l},za&&(da.method=q),isXMLRequest=da.isXMLRequest||!1);v=l.replace(new RegExp('^('+z+'|'+z.replace(/:\d+/,'')+')'),'');'undefined'==typeof da.routing.path&&(da.routing.path=decodeURI(v));q='undefined'!=typeof q?q.toLowerCase():'get';y&&(da.originalMethod=da.method,da.method=q,da.routing.path=decodeURI(v));da.method||(da.method=q);r={};N=new RegExp(q,'i');H=null;var I;for(I in B){if('undefined'==typeof B[I].param)break;if(B[I].bundle==T&&(H=B[I].method,
/,/.test(H)&&N.test(H)&&(H=da.method),'undefined'==typeof B[I].method||N.test(H))){r={method:H,requirements:B[I].requirements,namespace:B[I].namespace||void 0,url:decodeURI(v),rule:B[I].originalRule||I,param:B[I].param,middleware:JSON.clone(B[I].middleware),bundle:B[I].bundle,isXMLRequest};try{if(E=O.compareUrls(r,B[I].url,da),E.past){L=JSON.clone(B[I]);L.name=I;F=!0;E={};break}}catch(R){throw Error('Route [ '+I+' ] needs your attention.\n'+R.stack);}}}if(F)return/\/$/.test(l)&&'/'!=l&&(l=l.substr(0,
l.length-1)),n&&(l+=n),L.url=l,L.toUrl=function(R){var sa=this.webroot,Ga=this.hostname,X=this.url;this.url='undefined'!=typeof R&&1==R?X.replace(sa,'/'):X;return Ga+this.url},L;if(D){n=!1;if('#'==l&&/GET/i.test(q)&&y||/^404:/.test(l))l=location.pathname,n=!0;'undefined'==typeof O.notFound&&(O.notFound={});B=null;L='[ RoutingHelper::getRouteByUrl(rule[, bundle, method]) ] : route [ %r ] is called but not found inside your view: `'+l+'` !';if((B=(B=gina.hasPopinHandler&&gina.popinIsBinded?gina.popin.getActivePopin().target.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/):
document.body.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/))&&0<B.length?B[0]:null)&&y&&n)return n=B.match(/\[\w+\]/)[0],B=B.replace('404:'+n,n.replace(/\[|\]/g,'')+'::'),L=L.replace(/%r/,B.replace(/404:\s+/,'')),'undefined'==typeof O.notFound[B]?O.notFound[B]={count:1,message:L}:y&&'undefined'!=typeof O.notFound[B]&&++O.notFound[B].count,!1;if((n=gina.config.reverseRouting[l]||null)&&'undefined'!=typeof n&&n.split(/@(.+)$/)[1]==T)return B=n,'undefined'==typeof O.notFound[B]?(L=L.replace(/%r/,q.toUpperCase()+
'::'+n),O.notFound[B]={count:1,message:L}):y&&'undefined'!=typeof O.notFound[B]&&++O.notFound[B].count,!1;B=O.compareUrls(r,l,da)||null;B.past&&y&&(B=q.toUpperCase()+'::'+B.request.routing.rule,'undefined'==typeof O.notFound[B]?L=L.replace(/%r/,B):++O.notFound[B].count);return!1}console.warn(Error('[ RoutingHelper::getRouteByUrl(rule[, bundle, method, request]) ] : route not found for url: `'+l+'` !').stack);return!1};return O}
'undefined'!==typeof module&&module.exports?module.exports=Routing():'function'===typeof define&&define.amd&&define('lib/routing',['require','lib/form-validator','lib/merge'],function(){return Routing()});
function StoragePlugin(D){function O(L){T=JSON.parse(U.getItem(this.bucket));'undefined'==typeof T[L]&&(T[L]=[],U.setItem(this.bucket,JSON.stringify(T)),T=JSON.parse(U.getItem(this.bucket)));l[L]={_collection:L,_bucket:this.bucket};l[L]=Ea(l[L],za);return l[L]}function ca(L){if('object'!==typeof L)throw Error('filter must be an object');var B=T[this._collection],H=L.count(),n=0,z=null;if(0==H)return null;for(var y in B)for(var F in L){var r='boolean'!=typeof L[F]?L[F].toLocaleLowerCase():L[F];L[F]&&
-1<q.indexOf(r)&&'not null'==r&&'undefined'!=typeof B[y][F]&&'object'!==typeof B[y][F]&&B[y][F]===L[F]&&'null'!=B[y][F]&&'undefined'!=B[y][F]?0>z.indexOf(B[y][F])&&(++n,n===H&&(z=B[y],z._index=y,z._collection=this._collection,z._bucket=this._bucket)):'undefined'!=typeof B[y][F]&&'object'!==typeof B[y][F]&&B[y][F]===L[F]&&(++n,n===H&&(z=B[y],z._index=y,z._collection=this._collection,z._bucket=this._bucket,z._filter=L))}z&&(z.save=N);return z}var Ea=Ea||require('lib/merge');O=O||require('lib/collection');
var K=K||require('vendor/uuid'),S=S||require('helpers/dateFormat'),oa={bucket:'default'},V={},U=null,l={},T={},q=['not null'],da={bucket:void 0,drop:function(){U.removeItem(oa.bucket);V=null;for(var L in this)delete this[L];return V},Collection:O},za={insert:function(L){L._id=K.v1();L._createdAt=(new Date).format('isoDateTime');L._updatedAt=(new Date).format('isoDateTime');T[this._collection][T[this._collection].length]=L;U.setItem(this._bucket,JSON.stringify(T))},find:function(L,B){if(!L)return T[this._collection];
if('object'!==typeof L)throw Error('filter must be an object');B=T[this._collection];L.count();var H=0,n=[],z;for(z in B)for(var y in L){var F='boolean'!=typeof L[y]?L[y].toLocaleLowerCase():L[y];L[y]&&-1<q.indexOf(F)&&'not null'==F&&'undefined'!=typeof B[z][y]&&'object'!==typeof B[z][y]&&'null'!=B[z][y]&&'undefined'!=B[z][y]?0>n.indexOf(B[z][y])&&(n[H]=B[z][y],++H):'undefined'!=typeof B[z][y]&&'object'!==typeof B[z][y]&&B[z][y]===L[y]&&(n[H]=B[z],++H)}return n},findOne:ca,update:null,'delete':function(L){if('object'!==
typeof L)throw Error('filter must be an object');var B=JSON.clone(T[this._collection]),H=0,n=[],z;for(z in B)for(var y in L)L[y]&&-1<q.indexOf(L[y].toLocaleLowerCase())&&'not null'==L[y].toLowerCase()&&'undefined'!=typeof B[z][y]&&'object'!==typeof B[z][y]&&'null'!=B[z][y]&&'undefined'!=B[z][y]?0>n.indexOf(B[z][y])&&(n[H]=B[z][y],delete T[this._collection][z][y],++H):'undefined'!=typeof B[z][y]&&'object'!==typeof B[z][y]&&B[z][y]===L[y]&&(n[H]=B[z],T[this._collection].splice(z,1),++H);return 0<n.length?
(U.setItem(this._bucket,JSON.stringify(T)),!0):!1},drop:function(L){if('undefined'==typeof T[this._collection])throw Error('Collection `'+L+'` not found');delete l[this._collection];delete T[this._collection];U.setItem(this._bucket,JSON.stringify(T))}},N=function(L){L=L||!1;try{var B=JSON.clone(T),H=this._index,n=this._collection,z=this._bucket,y=this._filter;this._updatedAt=(new Date).format('isoDateTime');Ea(B[n][H],this,!0);delete B[n][H]._index;delete B[n][H]._collection;delete B[n][H]._bucket;
delete B[n][H].save;delete B[n][H]._filter;if(L&&'object'==typeof B[n][H]){var F=function(v,E){for(var I=0,R=v.length;I<R;++I)'object'!=typeof E[I]||'undefined'==typeof v[I]||Array.isArray(v[I])?Array.isArray(v[I])?F(v[I],E[I]):'undefined'==typeof v[I]&&delete E[I]:r(v[I],E[I]);return E},r=function(v,E){for(var I in E)'object'!=typeof E[I]||'undefined'==typeof v[I]||Array.isArray(v[I])?Array.isArray(v[I])?F(v[I],E[I]):'undefined'==typeof v[I]&&delete E[I]:r(v[I],E[I]);return E};Array.isArray(B[n][H])?
B[n][H]=F(this,B[n][H]):'object'==typeof B[n][H]?B[n][H]=r(this,B[n][H]):'undefined'==typeof this[prop]&&delete B[n][H]}T[n][H]=B[n][H];U.setItem(z,JSON.stringify(T));return ca(y)}catch(v){throw v;}};(function(L){if(!window.localStorage||window.localStorage&&'undefined'==!typeof window.localStorage.setItem)throw Error('Make sure your browser supports `window.localStorage` to use Gina Storage. See: `https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Browser_compatibility`');if('object'!=
typeof L&&'undefined'!=typeof L)throw Error('`options` must be an object');'undefined'==typeof L&&(L={});oa=Ea(L,oa);U=window.localStorage;L=oa.bucket;if(!U.getItem(L)&&void 0!=L)U.setItem(L,JSON.stringify(T));else if(void 0==L)throw Error('`bucket` name cannot be undefined');V.bucket=L;V=Ea(V,da)})(D);return V}
if('undefined'!==typeof module&&module.exports){var merge=require('lib/merge');Collection=require('lib/collection');var uuid=require('uuid');module.exports=StoragePlugin}else'function'===typeof define&&define.amd&&define('gina/storage',['helpers/dateFormat','helpers/prototypes'],function(){return StoragePlugin});function insertAfter(D,O){D.parentNode.insertBefore(O,D.nextSibling)}
function getElementsByAttribute(D){for(var O=[],ca=0,Ea=document.getElementsByTagName('*'),K=0,S=Ea.length;K<S;++K)null!==Ea[K].getAttribute(D)&&(O[ca]=Ea[K],++ca);return O}
(function(D){var O=D.prototype,ca=O.parseFromString;try{if((new D).parseFromString('','text/html'))return}catch(Ea){}O.parseFromString=function(Ea,K){if(/^\s*text\/html\s*(?:;|$)/i.test(K)){var S=document.implementation.createHTMLDocument('');-1<Ea.toLowerCase().indexOf('<!doctype')?S.documentElement.innerHTML=Ea:S.body.innerHTML=Ea;return S}return ca.apply(this,arguments)}})(DOMParser);define('utils/dom',function(){});
function ValidatorPlugin(D,O,ca){this.plugin='validator';var Ea='init ready registered success error progress submit reset change changed keydown keyup focusout focusin validate validated destroy asyncCompleted'.split(' '),K='undefined'!==typeof module&&module.exports?!1:!0,S=null;K?(require('utils/events'),registerEvents(this.plugin,Ea),require('utils/dom'),require('utils/effects'),S=gina.config.envIsDev):(S=/^true$/i.test(process.env.NODE_ENV_IS_DEV)?!0:!1)&&delete require.cache[require.resolve('./form-validator')];
var oa=K?require('vendor/uuid'):require('uuid'),V=K?require('lib/merge'):require('../../../../../lib/merge'),U=K?require('lib/inherits'):require('../../../../../lib/inherits'),l=K?require('lib/form-validator'):require('./form-validator'),T=K?require('lib/routing'):require('../../../../../lib/routing'),q={id:'validator-'+oa.v4(),plugin:this.plugin,on:K?on:null,eventData:{},target:K?document:null,errors:{},initialized:!1,isReady:!1,rules:{},$forms:{},getFormById:null,validateFormById:null,setOptions:null,
resetErrorsDisplay:null,resetFields:null},da={id:null,plugin:this.plugin,on:K?on:null,eventData:{},target:K?document:null,cachedErrors:{},binded:!1,unbinded:!1,withUserBindings:!1,rules:{},setOptions:null,send:null,isValidating:null,isSubmitting:null,submit:null,destroy:null,resetErrorsDisplay:null,resetFields:null},za={},N={},L=null,B={url:'',method:'GET',isSynchrone:!1,withCredentials:!1,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}},
H=function(e,b,h){h='undefined'!=typeof h?{id:h}:null;var p={},x;for(x in b)p[x]=b[x];if('undefined'!=typeof e&&0<e.count()){try{La(e,''),Da(e)}catch(u){throw u;}return M(h,p,null,q.rules)}return new l(p)},n=function(e){B=e=V(e,B)},z=function(e){var b=null;if(!q.$forms)throw Error('`$forms` collection not found');if('undefined'==typeof e)throw Error('[ FormValidator::getFormById(formId) ] `formId` is missing');e=e.replace(/#/,'');if(null!=document.getElementById(e)&&'undefined'==typeof q.$forms[e]){var h=
document.getElementById(e),p,x=typeof(0<za.count())?za:q.rules;h.getAttribute?(id=h.getAttribute('id')||'form.'+oa.v4(),id!==h.getAttribute('id')&&h.setAttribute('id',id)):(id='form.'+oa.v4(),h.setAttribute('id',id));h.id=da.id=id;if('undefined'!=typeof h.id&&'null'!=h.id&&''!=h.id){da.target=h;q.$forms[h.id]=V({},da);if(p=h.getAttribute('data-gina-form-rule')){p=p.replace(/\-|\//g,'.');if('undefined'==typeof x[p])throw Error('['+h.id+'] no rule found with key: `null`');p=x[p]}'string'==typeof h.id&&
'undefined'!=typeof x[h.id.replace(/\-/g,'.')]?$target=q.$forms[h.id].target:'object'==typeof h.id?(delete q.$forms[h.id],x=h.attributes.getNamedItem('id').nodeValue||'form.'+oa.v4(),h.setAttribute('id',x),h.id=x,da.target=h,q.$forms[x]=V({},da),$target=q.$forms[x].target):$target=q.$forms[h.id].target;p?db($target,p):db($target)}}'undefined'!=typeof q.$forms[e]&&(q.$forms[e].withUserBindings=!0,b='undefined'!=typeof this.$forms&&'undefined'==typeof this.$forms[e]?this.$forms[e]=q.$forms[e]:q.$forms[e]);
if(!b)throw Error('Validator::getFormById(...) exception: could not retrieve form `'+e+'`');b.binded||(db(b.target),b=q.$forms[e]);S&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),h={id:e,rules:q.$forms[e].rules},'undefined'!=typeof q.$forms[e].errors&&(h.errors=q.$forms[e].errors),window.ginaToolbar.update('forms',h));return b},y=function(){var e=!1,b=null;gina.hasPopinHandler&&gina.popinIsBinded&&(b=gina.popin.getActivePopin());b&&b.isOpen&&
(e=!0);return e},F=function(e,b){var h=typeof(0<za.count())?za:q.rules;if(!q.$forms)throw Error('`$forms` collection not found');if('undefined'!=typeof e&&'undefined'!=typeof q.$forms[e])return q.$forms[e];if('undefined'==typeof e)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)e=this.id;else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `formId` is missing');if('string'==typeof e)e=e.replace(/#/,'');else{if('object'!=typeof e||Array.isArray(e))throw Error('[ FormValidator::validateFormById(formId[, customRule]) ] `formId` should be a `string`');
var p=e.form;e=p.getAttribute('id')||'form.'+oa.v4();p.setAttribute('id',e)}var x=document.getElementsByTagName('form');for(var u={},A=0,W=x.length;A<W;++A)p=x[A].getAttribute('id')||null,'undefined'==typeof u[p]?u[p]=!0:'undefined'==typeof q.$forms[p]||q.$forms[p].warned||(gina.popinIsBinded?console.warn('Popin/Validator::bindForm($target, customRule): `'+p+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.\n Check inside your popin content'):console.warn('Validator::bindForm($target, customRule): `'+
p+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.'),q.$forms[p].warned=!0);if('undefined'!=typeof this.$forms&&'undefined'!=typeof q.$forms[e])x=this.$forms[e]=q.$forms[e];else{p=document.getElementById(e);da.id=e;da.target=p;x=this.$forms[e]=q.$forms[e]=V({},da);if('undefined'==typeof b)if(u=e.replace(/\-/g,'.'),'undefined'!=typeof h)x.rule=Fa(u);else{if('undefined'!=typeof x.target&&null!==x.target&&x.target.getAttribute('data-gina-form-rule'))if(u=x.target.getAttribute('data-gina-form-rule').replace(/\-|\//g,
'.'),'undefined'!=typeof h)x.rule=Fa(u);else throw Error('[ FormValidator::validateFormById(formId) ] using `data-gina-form-rule` on form `'+x.target+'`: no matching rule found');}else if(u=b.replace(/\-|\//g,'.'),'undefined'!=typeof h)x.rule=Fa(u);else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+b+'` is not a valid rule');p&&'undefined'!=typeof this.isPopinContext&&/true/i.test(this.isPopinContext)&&(p.isPopinContext=this.isPopinContext);p&&!x.binded&&db(p,u)}if(!x)throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+
e+'` not found');return x||null},r=function(e){var b=e.form.getAttribute('id');if(!/^true$/i.test(q.$forms[b].isValidating)){var h=e.parentNode;e=!1;b=h.getElementsByTagName('div');/form\-item\-warning/.test(h.className)?h.className=h.className.replace(/form\-item\-warning/,'form-item-error'):/form\-item\-error/.test(h.className)&&(h.className=h.className.replace(/form\-item\-error/,'form-item-warning'),e=!0);h=0;for(var p=b.length;h<p;++h)if(/form\-item\-error\-message/.test(b[h].className)){b[h].className=
e?b[h].className+' hidden':b[h].className.replace(/(\s+hidden|hidden)/,'');break}}},v={},E=function(e,b,h,p){if(S)var x=null;var u=!1;if('undefined'!=typeof e.dataset.ginaFormIsResetting&&/^(true)$/i.test(e.dataset.ginaFormIsResetting))b={},v={},e.dataset.ginaFormIsResetting=!1;else if(/^(true)$/i.test(e.dataset.ginaFormLiveCheckEnabled)&&'undefined'!=typeof p){var A='string'!=typeof e.id?e.getAttribute('id'):e.id;'undefined'==typeof v[A]&&(v[A]={});if(0<b.count()){if(v[A][p]={},v[A][p]=V(b[p],v[A][p]),
0==v[A][p].count()&&delete v[A][p],b=v[A],!q.$forms[A].sent||q.$forms[A].isValidating)u=!0}else'undefined'!=typeof v[A][p]&&(delete v[A][p],'undefined'!=typeof window.gina.validator.$forms[A].errors&&'undefined'!=typeof window.gina.validator.$forms[A].errors[p]&&delete window.gina.validator.$forms[A].errors[p]),'undefined'!=typeof q.$forms&&'undefined'!=typeof q.$forms[A]&&'undefined'!=typeof q.$forms[A].errors&&0==q.$forms[A].errors.count()&&Eb(e,!0),'undefined'!=typeof v[A]&&0==v[A].count()?delete v[A]:
b=v[A]}var W=null;A=e.getAttribute('id');h='undefined'!=typeof h?h:{};for(var P=0,aa=e.length;P<aa;++P){var Q=e[P];if('undefined'==typeof p||p==Q.name){if(/form\-item\-wrapper$/.test(Q.parentNode.className)){var w=Q.parentNode.parentNode;var ja=Q.parentNode}else w=Q.parentNode,ja=Q;var ua=Q.getAttribute('name');var na=Q.getAttribute('data-gina-form-errors');if(ua){if('undefined'!=typeof b[ua]&&!/(form\-item\-error|form\-item\-warning)/.test(w.className)){w.className=u?w.className+(''==w.className?
'form-item-warning':' form-item-warning'):w.className+(''==w.className?'form-item-error':' form-item-error');W=document.createElement('div');W.className=u?'form-item-error-message hidden':'form-item-error-message';for(var la in b[ua])'stack'!=la&&(w=document.createElement('p'),w.appendChild(document.createTextNode(b[ua][la])),W.appendChild(w)),S&&(x||={},x[ua]||(x[ua]={}),x[ua][la]=b[ua][la]);'hidden'!=ja.type&&insertAfter(ja,W)}else if('undefined'==typeof b[ua]&&/(form\-item\-error|form\-item\-warning)/.test(w.className)||
'undefined'!=typeof b[ua]&&0==b[ua].count()&&/(form\-item\-error|form\-item\-warning)/.test(w.className)){ua=w.getElementsByTagName('div');ja=0;for(na=ua.length;ja<na;++ja)if(/form\-item\-error\-message/.test(ua[ja].className)){ua[ja].parentElement.removeChild(ua[ja]);break}w.className=w.className.replace(/(\s+form\-item\-error|form\-item\-error|\s+form\-item\-warning|form\-item\-warning)/,'')}else if('undefined'!=typeof b[ua]&&na){w=w.getElementsByTagName('div');na=0;for(var Ca=w.length;na<Ca;++na)if('form-item-error-message'==
w[na].className){w[na].parentElement.removeChild(w[na]);W=document.createElement('div');W.setAttribute('class','form-item-error-message');for(la in b[ua])w=document.createElement('p'),w.appendChild(document.createTextNode(b[ua][la])),W.appendChild(w),S&&(x||={},x[ua]||(x[ua]={}),x[ua][la]=b[ua][la]);break}W&&'hidden'!=ja.type&&insertAfter(ja,W)}if('undefined'!=typeof p&&p===Q.name)break}}}x?(triggerEvent(gina,e,'error.'+A,b),S&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||
(gina.forms.errors={}),e={id:A,errors:x},window.ginaToolbar.update('forms',e))):S&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),e={id:A,errors:{}},K&&window.ginaToolbar.update('forms',e));if(gina&&K&&S&&q.$forms[A].isSubmitting&&/^true$/i.test(q.$forms[A].isSubmitting)&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&h)try{window.ginaToolbar.update('data-xhr',h)}catch(Aa){throw Aa;}},I=function(e){var b=null;'undefined'==typeof e&&
'undefined'!=typeof this.id&&(e=this.id);/^string$/i.test(typeof e)?(b=e.replace(/#/,''),b=document.getElementById(b)):e instanceof HTMLFormElement?b=e:/^object$/i.test(typeof e)&&(b=e.target);if(!b)throw Error('[ FormValidator::resetErrorsDisplay([ formId | <form> ]) ] `'+e+'` not found');b.dataset.ginaFormIsResetting=!0;E(b,{});return b},R=function(e){if('undefined'==typeof e){var b='undefined'!=typeof this.target?this.target.getAttribute('id'):this.getAttribute('id');e=q.$forms[b]}else if('string'==
typeof e){b=e.replace(/#/,'');if('undefined'==typeof q.$forms[b])throw Error('[ FormValidator::resetErrorsDisplay([formId]) ] `'+e+'` not found');e=q.$forms[b]}if(e.fieldsSet){var h;for(h in e.fieldsSet){b=document.getElementById(h);var p=b.tagName.toLowerCase();var x=b.tagName;/textarea/i.test(x)?(x=e.fieldsSet[h].defaultValue,b.value=x,triggerEvent(gina,b,'change')):'input'==p?(x=e.fieldsSet[h].defaultValue,/$(on|true|false)$/i.test(x)&&(x=/$(on|true)$/i.test(x)?!0:!1),/^(checkbox|radio)$/i.test(b.type)?
b.checked=e.fieldsSet[h].defaultChecked:/^(checkbox|radio)$/i.test(b.type)||(b.value=x),triggerEvent(gina,b,'change')):'select'==p&&(x=e.fieldsSet[h].selectedIndex||0,b.selectedIndex=x,b.dataset.value=b.options[b.selectedIndex].value,triggerEvent(gina,b,'change'))}}return e},sa=function(){var e=null,b=null;'undefined'!=typeof this.getAttribute?(e=this.getAttribute('id'),b=this):'undefined'!=typeof this.target&&null!=this.target&&'undefined'!=typeof this.target.getAttribute&&(e=this.target.getAttribute('id'),
b=this.target);if('undefined'==typeof q.$forms[e])throw Error('[ FormValidator::submit() ] not `$form` binded. Use `FormValidator::getFormById(id)` or `FormValidator::validateFormById(id)` first ');triggerEvent(gina,b,'submit');return this},Ga=function(e,b){var h=this.target,p=h.getAttribute('id'),x=q.$forms[p]||this,u=null,A=null,W=null,P=null;if(!('undefined'!=typeof x.isSending&&/^true$/i.test(x.isSending)||'undefined'!=typeof x.sent&&/^true$/i.test(x.sent))){q.$forms[p].isSending=!0;b='undefined'!=
typeof b?V(b,B):B;'undefined'!=typeof x.id&&(b.headers['X-Gina-Form-Id']=x.id,'undefined'!=typeof gina.forms.rules&&0<x.rules.count()&&'undefined'!=typeof x.rules[x.id]&&(b.headers['X-Gina-Form-Rule']=x.id+'@'+gina.config.bundle));'undefined'!=typeof x.target.dataset.ginaFormRule&&(b.headers['X-Gina-Form-Rule']=x.target.dataset.ginaFormRule+'@'+gina.config.bundle);(P=h.getAttribute('data-gina-form-event-on-submit-success')||h.getAttribute('data-gina-form-event-on-submit-error')?!0:!1)&&wa(x);var aa=
h.getAttribute('action')||b.url,Q=h.getAttribute('method')||b.method;Q=Q.toUpperCase();b.method=Q;b.url=aa;L||=setupXhr(b);aa=h.getAttribute('enctype')||b.headers['Content-Type'];if(b.withCredentials){if('withCredentials'in L)b.isSynchrone?L.open(b.method,b.url,b.isSynchrone):L.open(b.method,b.url);else if('undefined'!=typeof XDomainRequest)L=new XDomainRequest,L.open(b.method,b.url);else{L=null;u='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,
h,'error.'+p,u);return}L.responseType='undefined'!=typeof b.responseType?b.responseType:'';L.withCredentials=!0}else b.isSynchrone?L.open(b.method,b.url,b.isSynchrone):L.open(b.method,b.url);for(var w in b.headers)'Content-Type'==w&&'undefined'!=typeof aa&&null!=aa&&''!=aa||L.setRequestHeader(w,b.headers[w]);if(L){L.onreadystatechange=function(Aa){x.isSubmitting=!1;x.isSending=!1;setTimeout(function(){x.sent=!1},1E3);Aa=/Google Inc/i.test(navigator.vendor)?50:0;2==L.readyState&&(W=/^attachment;/.test(L.getResponseHeader('Content-Disposition'))?
!0:!1,!L.responseType&&W&&(L.responseType='blob'));if(4==L.readyState){var Sa=null,Va=null,qb=L.getResponseHeader('Content-Type');if(/^2/.test(L.status)){try{if(/blob/.test(L.responseType)||W){if('undefined'==typeof qb||null==qb)qb='application/octet-stream';Va=new Blob([this.response],{type:qb});var sb=document.createElement('a');sb.style='display: none';document.body.appendChild(sb);var Hb=window.URL.createObjectURL(Va);sb.href=Hb;var Ob=L.getResponseHeader('Content-Disposition');sb.download=Ob.match('=(.*)')[0].substr(1);
sb.click();window.URL.revokeObjectURL(Hb);u={status:L.status,statusText:L.statusText,responseType:Va.type,type:Va.type,size:Va.size}}else u=L.responseText;/\/json/.test(qb)&&(u=JSON.parse(L.responseText),'undefined'==typeof u.status&&(u.status=L.status));if(/\/html/.test(qb)&&(u={contentType:qb,content:L.responseText},'undefined'==typeof u.status&&(u.status=L.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler&&(Sa=gina.popin.getActivePopin()))){A={};try{A=(new DOMParser).parseFromString(u.content,
'text/html').getElementById('gina-without-layout-xhr-data'),A=JSON.parse(decodeURIComponent(A.value)),XHRView=(new DOMParser).parseFromString(u.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&S&&typeof window.ginaToolbar&&'undefined'!=typeof A&&window.ginaToolbar.update('data-xhr',A),gina&&S&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(Y){throw Y;}Sa.loadContent(u.content);
u=A;triggerEvent(gina,h,'success.'+p,u);return}A=x.eventData.success=u;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&A)try{S&&'undefined'!=typeof A&&!/\/html|\/json/.test(qb)&&window.ginaToolbar.update('data-xhr',A)}catch(Y){throw Y;}/^gina\-upload/i.test(p)&&X(gina,h,'success',p,u);var zb=!1;'undefined'!=typeof u.isXhrRedirect&&/^true$/i.test(u.isXhrRedirect)&&(zb=!0);if('undefined'!=typeof gina.popin&&gina.hasPopinHandler&&'undefined'!=typeof u.popin||'undefined'!=typeof gina.popin&&
gina.hasPopinHandler&&'undefined'!=typeof u.location&&zb){Sa=gina.popin.getActivePopin();if(!Sa&&'undefined'!=typeof u.popin){if('undefined'!=typeof u.popin&&'undefined'==typeof u.popin.name)throw Error('To get a `$popin` instance, you need at list a `popin.name`.');Sa=gina.popin.getPopinByName(u.popin.name);if(!Sa)throw Error('Popin with name: `'+u.popin.name+'` not found.');}if('undefined'!=typeof u.popin&&'undefined'!=typeof u.popin.close){Sa.isRedirecting=!1;Sa.close();var Vb=u.popin.reload?u.popin.reload:
!1;u.popin.location||u.popin.url||(delete u.popin,Vb&&(u.popin={reload:Vb}))}if('undefined'!=typeof u.popin&&'undefined'!=typeof u.popin.location||'undefined'!=typeof u.popin&&'undefined'!=typeof u.popin.url||'undefined'!=typeof u.location&&zb){zb=null;Sa&&(zb=Sa.name,Sa.isRedirecting=!0);'undefined'!=typeof u.popin&&'undefined'!=typeof u.popin.target&&(u.popin.target='_'+u.popin.target);var Za=u.location||u.popin.location||u.popin.url;if('undefined'!=typeof u.popin&&'undefined'!=typeof u.popin.name&&
zb!=u.popin.name){Sa&&Sa.isOpen&&Sa.close();zb=u.popin.name;Sa=gina.popin.getPopinByName(zb);if(!Sa)throw Error('Popin with name `'+zb+'` not found !');console.debug('Validator::Popin now redirecting [1-c]');Sa.load(Sa.name,Za,Sa.options)}else Sa&&(console.debug('Validator::Popin now redirecting [1-d]'),Sa&&Sa.isOpen&&Sa.close(),Sa.load(Sa.name,Za,Sa.options));if(Sa&&!Sa.isOpen)return setTimeout(function(Y){Y.isOpen||Y.open()},50,Sa)}}triggerEvent(gina,h,'success.'+p,u);P&&triggerEvent(gina,h,'success.'+
p+'.hform',u)}catch(Y){u={status:422,error:Y.message,stack:Y.stack};A=x.eventData.error=u;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&A)try{S&&'undefined'!=typeof A&&window.ginaToolbar.update('data-xhr',A)}catch(fa){throw fa;}/^gina\-upload/i.test(p)&&X(gina,h,'error',p,u);triggerEvent(gina,h,'error.'+p,u);P&&triggerEvent(gina,h,'error.'+p+'.hform',u)}if('undefined'!=typeof u&&'undefined'!=typeof u.location)return window.location.hash='',u.location=/^http/.test(u.location)||
/^\//.test(u.location)?u.location:location.protocol+'//'+u.location,setTimeout(()=>{window.location.href=u.location},Aa)}else if(0!=L.status)if(u={status:L.status},/blob/.test(L.responseType)){Va=new Blob([this.response],{type:'text/plain'});var gb=new FileReader,ha='';gb.addEventListener('loadend',Y=>{/string/i.test(typeof Y.srcElement.result)?ha+=Y.srcElement.result:'object'==typeof Y.srcElement.result?u=V(u,Y.srcElement.result):u.message+=Y.srcElement.result;if(/2/.test(gb.readyState)){if(/^(\{|\[)/.test(ha))try{u=
V(u,JSON.parse(ha))}catch(fa){u=V(u,fa)}u.message||delete u.message;A=x.eventData.error=u;if(gina&&S&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&A)try{window.ginaToolbar.update('data-xhr',A)}catch(fa){throw fa;}/^gina\-upload/i.test(p)&&X(gina,h,'error',p,u);triggerEvent(gina,h,'error.'+p,u);P&&triggerEvent(gina,h,'error.'+p+'.hform',u)}});gb.readAsText(Va)}else{if(/^(\{|\[)/.test(L.responseText))try{u=V(JSON.parse(L.responseText),u)}catch(Y){u=V(Y,u)}else'object'==typeof L.responseText?
u=V(L.responseText,u):u.message=L.responseText;if('undefined'!=typeof u&&'undefined'!=typeof u.error&&u.fields&&'object'==typeof u.fields){Za='undefined'!=typeof u.message?u.message:null;Aa={};for(zb in u.fields)Sa={},Sa[zb]={},Sa[zb].isApiError=u.fields[zb],Za&&!Sa[zb].isApiError&&(Sa[zb].isApiError=u.error),Aa[zb]=Sa[zb],E(x.target,Sa,e,zb);u.fields=Aa}A=x.eventData.error=u;if(gina&&S&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&A)try{window.ginaToolbar.update('data-xhr',A)}catch(Y){throw Y;
}/^gina\-upload/i.test(p)&&X(gina,h,'error',p,u);triggerEvent(gina,h,'error.'+p,u);P&&triggerEvent(gina,h,'error.'+p+'.hform',u)}}};L.onprogress=function(Aa){var Sa='0';Aa.lengthComputable&&(Sa=Aa.loaded/Aa.total,Sa=parseInt(100*Sa));Aa={status:100,progress:Sa};x.eventData.onprogress=Aa;triggerEvent(gina,h,'progress.'+p,Aa)};L.ontimeout=function(Aa){u={status:408,error:'Request Timeout'};x.eventData.ontimeout=u;/^gina\-upload/i.test(p)&&X(gina,h,'error',p,u);triggerEvent(gina,h,'error.'+p,u);P&&triggerEvent(gina,
h,'error.'+p+'.hform',u)};e||(e=event.detail.data);if(e){b=!1;if('object'==typeof e){w=[];Q=0;var ja={};try{if(e instanceof FormData){var ua=event.currentTarget.getAttribute('data-gina-form-upload-group')||'untagged',na,la;for([na,la]of e.entries())la instanceof File?(b||=!0,w[Q]={key:na,group:ua,file:la,bin:''},++Q):ja[na]=la}else e=JSON.stringify(e);if(b&&0<w.length){var Ca='--ginaWKBoundary'+oa.v4().replace(/\-/g,'');return ea(w,Ca,'',0,function(Aa,Sa,Va){if(Aa)/^gina\-upload/i.test(p)&&X(gina,
h,'error',p,Aa),triggerEvent(gina,h,'error.'+p,Aa),P&&triggerEvent(gina,h,'error.'+p+'.hform',Aa);else return Va&&(L.setRequestHeader('Content-Type','multipart/form-data; boundary='+Ca),L.send(Sa),x.sent=!0,S&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),window.ginaToolbar.update('forms',{id:p,sent:Sa}))),!1})}'undefined'!=typeof ja&&0<ja.count()&&(e=JSON.stringify(ja))}catch(Aa){/^gina\-upload/i.test(p)&&X(gina,h,'error',p,Aa),triggerEvent(gina,
h,'error.'+p,Aa),P&&triggerEvent(gina,h,'error.'+p+'.hform',Aa)}}b||('undefined'!=typeof aa&&null!=aa&&''!=aa&&L.setRequestHeader('Content-Type',aa),L.send(e))}else'undefined'!=typeof aa&&null!=aa&&''!=aa&&L.setRequestHeader('Content-Type',aa),L.send();x.sent=!0;S&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),ua={id:p,sent:'string'==typeof e?JSON.parse(e):e},window.ginaToolbar.update('forms',ua))}}},X=function(e,b,h,p,x){e=b.uploadProperties||
null;if(!e)throw Error('No uploadProperties found !!');b=document.getElementById(e.uploadTriggerId);p=null;var u=x.files||[],A=null;e.hasPreviewContainer&&(p=document.getElementById(e.previewContainer.id))&&(p.innerHTML='');e.errorField&&(A=document.getElementById(e.errorField));A&&(A.style.display='none');if(A&&'success'!=h){var W=x.message||x.error;A.innerHTML='<p>'+W+'</p>';fadeIn(A)}else if(A||'success'==h)for(h=0,x=u.length;h<x;++h){var P=p.id.replace(/\-preview/,'-'+h+'-reset-trigger');W=!1;
A=document.getElementById(P);var aa=['reset','js-upload-reset'];A?(/a/i.test(A.tagName)&&(A.href='#'),A.innerHTML&&''!=A.innerHTML||(A.innerHTML=b.getAttribute('data-gina-form-upload-reset-label')||'Reset'),'undefined'==typeof A.className&&(A.className=''),P=V(A.className.split(/\s+/g),aa),A.className=P.join(' ')):(W=!0,A=document.createElement('A'),A.href='#',A.innerHTML=b.getAttribute('data-gina-form-upload-reset-label')||'Reset',A.className=aa.join(' '),A.id=P);A.style.display='none';if('undefined'==
typeof u[h].preview&&e.hasPreviewContainer&&/^image/.test(u[h].mime)&&''!=u[h].location){P=document.createElement('IMG');P.src=u[h].tmpUri;P.style.display='none';P.setAttribute('data-upload-original-filename',u[h].originalFilename);P.setAttribute('data-upload-reset-link-id',A.id);aa=p.getAttribute('data-preview-max-width')||null;if(P.width&&aa&&P.width>aa){var Q=P.width/aa;P.width=aa;P.height/=Q}else!P.width&&aa&&(P.width=aa);/ul/i.test(e.previewContainer.tagName)?(aa=document.createElement('LI'),
aa.className='item',aa.appendChild(P),p.appendChild(aa)):p.appendChild(P);fadeIn(P)}P=e.uploadFields[h];for(var w in P)if('name'==w&&''!=P[w].value||!u[h][w]||'preview'==w&&'undefined'==typeof u[h][w]||/(height|width)/i.test(w)&&!/^image/.test(u[h].mime))/(preview|height|width)/i.test(w)&&(aa=document.getElementById(P[w].id))&&aa.parentNode.removeChild(aa);else if(P[w].value=u[h][w],'preview'==w)for(var ja in u[h][w])if('undefined'!=typeof u[h][w][ja]&&'undefined'!=typeof P[w][ja]&&(P[w][ja].value=
u[h][w][ja]),'tmpUri'==ja&&e.hasPreviewContainer){Q=document.createElement('IMG');Q.src=u[h][w].tmpUri;Q.style.display='none';Q.setAttribute('data-upload-original-filename',u[h].originalFilename);Q.setAttribute('data-upload-preview-original-filename',u[h][w].originalFilename);Q.setAttribute('data-upload-reset-link-id',A.id);if(aa=p.getAttribute('data-preview-max-width')||null)Q.width=aa;/ul/i.test(e.previewContainer.tagName)?(aa=document.createElement('LI'),aa.className='item',aa.appendChild(Q),p.appendChild(aa)):
p.appendChild(Q);fadeIn(Q)}e.hasPreviewContainer&&(/ul/i.test(e.previewContainer.tagName)?(aa=document.createElement('LI'),aa.className='item',W&&aa.appendChild(A),p.appendChild(aa)):W&&p.appendChild(A));fb('reset',b,h);fadeIn(A)}else throw Error(W);},ia=function(e,b){console.debug(b+' input files');var h=/reset/i.test(b)?!0:!1,p=null,x=null,u=document.getElementById(e.id+'-preview').childNodes,A=null,W=e.customFiles,P=[];for(let aa=0,Q=u.length;aa<Q;aa++)if(/img/i.test(u[aa].tagName)){h?(p=u[aa].getAttribute('data-upload-original-filename'),
P.push(p),(x=u[aa].getAttribute('data-upload-preview-original-filename'))&&P.push(x)):(p=u[aa].src.substr(u[aa].src.lastIndexOf('/')+1),P.push(p));for(let w=0,ja=W.length;w<ja;w++)if(W[w].name==p){A=h?document.getElementById(u[aa].getAttribute('data-upload-'+b+'-link-id')):document.getElementById(W[w].deleteLinkId);A.style.display='none';u[aa].style.display='none';W.splice(w,1);e.customFiles=W;h&&(e.value=W.join(', C:\\fakepath\\'));p=new RegExp('^'+(e.name+'['+w+']').replace(/\-|\[|\]|\./g,'\\$&'));
for(let na=0,la=e.form.length;na<la;na++)if(x=e.form[na].dataset.ginaFormUploadIsLocked||!1,p.test(e.form[na].name)&&!/true/i.test(x)&&(e.form[na].remove(),la--,na--,gina&&S&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar))try{window.ginaToolbar.update('data-xhr',{files:W})}catch(Ca){throw Ca;}x=e.getAttribute('data-gina-form-upload-'+b+'-action');if(!x||'undefined'==typeof x||''==x||/404/.test(x))throw Error('input file `'+e.id+'` error: `data-gina-form-upload-'+b+'-action` is required. You need to provide a valide url.');
(p=e.getAttribute('data-gina-form-upload-'+b+'-method'))&&'undefined'!=typeof p&&''!=p?p=p.toUpperCase():h?p='POST':(p=1<P.length?'POST':'DELETE',console.warn('`data-gina-form-upload-'+b+'-method` was not defined. Switching to `'+p+'` by default.'));let ua=e.getAttribute('data-gina-form-upload-'+b+'-is-synchrone');if(/null/i.test(ua)||'undefined'==typeof p||''==p)ua=!0;x=setupXhr({url:x,method:p,isSynchrone:ua,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}});
/GET|DELETE/i.test(p)?x.send():x.send(JSON.stringify({files:P}));if(/none/i.test(window.getComputedStyle(e).display)){if(/none/i.test(e.parentElement.style.display)){e.parentElement.style.display='block';return}e.style.display='block'}removeListener(gina,$uploadResetTrigger,'click',function(){A.remove();u[aa].remove()});Q--;aa--;break}}},ea=function(e,b,h,p,x){var u=new FileReader;u.addEventListener('load',function(A){A.preventDefault();try{var W=this.result,P=void 0;A='';var aa=null;'undefined'==
typeof P&&(P=8);var Q=P/8;switch(P){case 8:aa=new Uint8Array(W);break;case 16:aa=new Uint16Array(W);break;case 32:aa=new Uint32Array(W);break;default:aa=new Uint8Array(W)}var w=aa.length,ja=Math.pow(2,8)+Q;W=0;for(Q=P=null;W<w;W+=ja)P=Math.min(ja,w-W),Q=aa.subarray(W,W+P),A+=String.fromCharCode.apply(null,Q);e[this.index].bin+=A;e[this.index].file.type||(e[this.index].file.type='application/octet-stream')}catch(ua){return x(ua,null,!0)}h+='--'+b+'\r\n';h+='Content-Disposition: form-data; name="'+
e[this.index].key+'"; group="'+e[this.index].group+'"; filename="'+e[this.index].file.name+'"\r\nContent-Type: '+e[this.index].file.type+'\r\nContent-Length: '+e[this.index].bin.length+'\r\n\r\n';h+=e[this.index].bin+'\r\n';++this.index;this.index==e.length?(h+='--'+b+'--',x(!1,h,!0)):ea(e,b,h,this.index,x)},!1);u.index=p;e[p].bin='';u.readAsArrayBuffer(e[p].file)},wa=function(e){var b=e.target.getAttribute('data-gina-form-event-on-submit-success')||null;if(null!=b)if(/\((.*)\)/.test(b))eval(b);else e.on('success.hform',
window[b]);b=e.target.getAttribute('data-gina-form-event-on-submit-error')||null;if(null!=b)if(/\((.*)\)/.test(b))eval(b);else e.on('error.hform',window[b])},ka=function(e){var b=null,h=e;if(!q.$forms)throw Error('`$forms` collection not found');if('undefined'==typeof h)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)h=this.id;else throw Error('[ FormValidator::destroy(formId) ] `formId` is missing');if('string'==typeof h)h=h.replace(/#/,'');else{if('object'!=typeof h||Array.isArray(h))throw Error('[ FormValidator::destroy(formId) ] `formId` should be a `string`');
e=h.form;h=e.getAttribute('id')||'form.'+oa.v4();e.setAttribute('id',h)}'undefined'!=typeof q.$forms[h]?b=q.$forms[h]:'undefined'!=typeof this.binded&&(b=this);if(b)addListener(gina,b.target,'destroy.'+h,function(p){cancelEvent(p);delete q.$forms[h];removeListener(gina,p.currentTarget,p.type);removeListener(gina,p.currentTarget,'destroy')}),b=Gb(b),triggerEvent(gina,b.target,'destroy.'+h);else throw Error('[ FormValidator::destroy(formId) ] `'+h+'` not found');},ta=function(e){e='undefined'!=typeof e?
e:q.rules;for(let p in e){var b=Object.getOwnPropertyNames(e[p]),h=0;let x=b.length,u=!1,A=null;for(;h<x;){if(/^_case_/.test(b[h])){u=!0;A=b[h];break}h++}u||'object'!=typeof e[p]||ta(e[p]);if(A&&Array.isArray(e[p][A].conditions)&&0<e[p][A].conditions.length)for(b=0,h=e[p][A].conditions.length;b<h;)'undefined'!=typeof e[p][A].conditions[b].rules&&0==e[p][A].conditions[b].rules.count()&&(e[p][A].conditions.splice(b,1),h--,b--),b++}},Da=function(e){var b=JSON.stringify(e),h=b.match(/("@import\s+[-_a-z A-Z 0-9/.]+")/g)||
[],p=[];for(let W=0,P=h.length;W<P;W++)0>p.indexOf(h[W])&&p.push(h[W]);h=p;p=b.match(/("_merging(.*))(\s+:|:)(.*)(",|")/g);q.rules||(q.rules={});if(h&&0<h.length){e={};for(let W=0,P=h.length;W<P;++W){var x=h[W].replace(/(@import\s+|"|')/g,'');var u=x.replace(/(@import\s+|"|')/g,'').split(/\s/g);for(let aa=0,Q=u.length;aa<Q;++aa){var A=u[aa].replace(/\//g,'.').replace(/\-/g,'.');'undefined'!=typeof q.rules[A]?(A=JSON.stringify(q.rules[A]),A=JSON.parse(A),A._comment='undefined'!=typeof A._comment?A._comment+
'\n':'',A._comment+='Imported from `'+x+'`',A=JSON.stringify(A),b=b.replace(new RegExp(h[W],'g'),A),q.rules=JSON.parse(JSON.stringify(q.rules).replace(new RegExp(h[W],'g'),'{}'))):console.warn('[formValidator:rules] <@import error> on `'+h[W]+'`: rule `'+u[aa]+'` not found. Ignoring.')}u=new RegExp(h[W]);if(x=p&&u.test(p.join())?!0:!1)for(let aa=0,Q=p.length;aa<Q;aa++)if(u.test(p[aa])){x=JSON.stringify(e);x=x.substr(1,x.length-1);aa<Q-1&&(x+=',');try{b=b.replace(new RegExp(p[aa],'g'),x),q.rules=JSON.parse(JSON.stringify(q.rules).replace(new RegExp(p[aa],
'g'),'{}'))}catch(w){throw w;}}e={}}e=JSON.parse(b);La(e,'');try{ta()}catch(W){console.error(W.stack)}}return e},Qa=function(e){gina.hasValidator?(q=V(q,gina.validator),q.on('init',function(b){q.isReady=!0;triggerEvent(gina,q.target,'ready.'+q.id,q)})):(q.target=document,q.setOptions=n,q.getFormById=z,q.validateFormById=F,q.resetErrorsDisplay=I,q.resetFields=R,q.handleErrorsDisplay=E,q.send=Ga,q.on('init',function(b){if('undefined'!=typeof e&&e.count())try{La(e,''),e=Da(e),gina.forms.rules='undefined'!=
typeof gina.forms.rules&&gina.forms.rules?V(gina.forms.rules,e,!0):e,q.rules=V(q.rules,JSON.clone(gina.forms.rules),!0)}catch(W){throw W;}za.count()||(za=JSON.clone(q.rules));da.setOptions=n;da.getFormById=z;da.validateFormById=F;da.resetErrorsDisplay=I;da.resetFields=R;da.handleErrorsDisplay=E;da.submit=sa;da.send=Ga;da.unbind=Gb;da.bind=db;da.reBind=yb;da.destroy=ka;b=0;for(var h=document.getElementsByTagName('form'),p=0,x=h.length;p<x;++p){if(h[p].getAttribute){var u=h[p].getAttribute('id')||'form.'+
oa.v4();u!==h[p].getAttribute('id')&&h[p].setAttribute('id',u)}else u='form.'+oa.v4(),h[p].setAttribute('id',u);da.id=u;da.target=h[p];q.$forms[u]=V({},da);var A=h[p].getAttribute('data-gina-form-rule');if(A){A=A.replace(/\-|\//g,'.');'undefined'!=typeof e&&(q.$forms[u].rules[A]=q.rules[A]=za[A]=V(JSON.clone(eval('gina.forms.rules.'+A)),q.rules[A]));if('undefined'==typeof za[A])throw Error('['+u+'] no rule found with key: `'+A+'`. Please check if json is not malformed @ /forms/rules/'+A.replace(/\./g,
'/')+'.json');A=q.rules[A]}'string'==typeof u&&'undefined'!=typeof za[u.replace(/\-/g,'.')]||'object'==typeof A?(u=q.$forms[u].target,A?db(u,A):db(u),++b):('object'==typeof h[p].id?(delete q.$forms[h[p].id],u=h[p].attributes.getNamedItem('id').nodeValue||'form.'+oa.v4(),h[p].setAttribute('id',u),h[p].id=u,da.target=h[p],q.$forms[u]=V({},da),u=q.$forms[u].target):u=q.$forms[h[p].id].target,A?db(u,A):db(u))}if(window.XMLHttpRequest)L=new XMLHttpRequest;else if(window.ActiveXObject)try{L=new ActiveXObject('Msxml2.XMLHTTP')}catch(W){try{L=
new ActiveXObject('Microsoft.XMLHTTP')}catch(P){}}q.isReady=!0;gina.hasValidator=!0;gina.validator=q;triggerEvent(gina,q.target,'ready.'+q.id,q)}));q.initialized=!0;return q},La=function(e,b){var h;for(h in e)if('object'==typeof e[h]&&'undefined'==typeof q.rules[b+h]){var p=h;/\[|\]/.test(h)&&(p=h.replace(/\[/g,'.').replace(/\]/g,''));q.rules[b+p]=e[h];La(e[h],b+p+'.')}},Fa=function(e){if('undefined'!=typeof za[e])return za[e];var b=null;if('undefined'==typeof q.rules[e]){if(La(za,''),za=Da(za),b=
za[e],!b)return{}}else b=q.rules[e];b=JSON.clone(b);var h=new RegExp('^'+e),p=new RegExp('^'+e+'.'),x=null,u=function(W,P,aa,Q,w,ja,ua){if(P.length){var na=Object.getOwnPropertyNames(W)[0],la=P[0];la=''==w?w+=la:w+'['+la+']';1==P.length&&(W[na]=V(W[na],aa,!0));P.splice(0,1);la==na?u(W[na],P,aa,Q,la,ja,ua):'undefined'!=typeof W[na]?u(W[na],P,aa,Q,la,ja,ua):u(W,P,aa,Q,w,ja,ua)}},A;for(A in q.rules)A!=e&&h.test(A)&&(x=A.replace(p,''),/\./.test(x)&&(x=x.split(/\./g),u(b,x,q.rules[A],b,'',0,b.count()-
1)));return za[e]=b},Oa=function(e,b,h,p,x,u,A){var W=window.gina._global;W.register({root:e||null,obj:h||null,value:u||null,rootObj:A||null});if(x==p)return eval(root+'=value'),b=JSON.clone(rootObj),W.unregister(['root','obj','rootObj','value','valueType']),b;e=b[x].replace(/^\[|\]$/g,'');'undefined'!=typeof rootObj&&rootObj?root+=/^\d+$/.test(e)?'['+e+']':'["'+e+'"]':(rootObj={},root='rootObj',root+=/^\d+$/.test(e)?'['+e+']':'["'+e+'"]',eval(root+'=obj'));u=(h='undefined'!=typeof b[x+1]?b[x+1].replace(/^\[|\]$/g,
''):null)&&parseInt(h)==h?[]:{};W.register({valueType:u});h&&eval(root+' = valueType');if('undefined'==typeof obj[e])return/^\d+$/.test(h)?obj[e]=[]:obj[e]={},++x,Oa(root,b,obj[e],p,x,value,rootObj);++x;return Oa(root,b,obj[e],p,x,value,rootObj)},Ia=function(e,b,h,p,x){if(x>=p)return!1;var u=h[x].replace(/^\[|\]$/g,''),A=x<p-1&&'undefined'!=typeof h[x+1]?h[x+1].replace(/^\[|\]$/g,''):null;'undefined'==typeof e[u]&&(A&&/^\d+$/.test(A)?(parseInt(A),e[u]=[]):e[u]={});Array.isArray(e[u])?(A=Oa(u,h,e[u],
h.length,1,b,null),e[u]=V(e[u],A)):x==p-1&&(e[u]=b);Ia(e[u],b,h,p,x+1)},Ka=function(e){var b=null,h={},p=null,x=function(W,P,aa,Q,w){if(w==Q)return W;var ja=P?Object.keys(aa)[w]:w;/\[(.*)\]/.test(ja)?(p=ja,b=ja.match(/(\[[-_\[a-z 0-9]*\]\]|\[[-_\[a-z 0-9]*\])/ig),ja=ja.match(/^[-_a-z 0-9]+\[{0}/ig),'undefined'==typeof W[ja]&&(W[ja]=Array.isArray(aa[p])?[]:{}),Ia(h,aa[p],b,b.length,0),W[ja]=V(W[ja],h),h={}):W[ja]=aa[ja];++w;return x(W,P,aa,Q,w)},u='undefined'==typeof e?0:1,A=!1;Array.isArray(e)?u=
e.length:'object'==typeof e&&(u=e.count(),A=!0);return x({},A,e,u,0)},Ya=function(e){var b=q.$forms[e.form.getAttribute('id')],h=/^true$/i.test(e.disabled)?!0:!1;h&&'undefined'!=typeof b.rule&&'undefined'!=typeof b.rule[e.name]&&'undefined'!=typeof b.rule[e.name].exclude&&/^false$/i.test(b.rule[e.name].exclude)&&(h=!1);if(/^(radio|text|hidden|password|number|date|email)$/i.test(e.type)&&!h){var p=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,'value'),x=p.set;p.set=function(u){Object.defineProperty(this,
'value',{set:x});var A='change.'+this.id;u===this.value&&u===this.defaultValue||u===this.value||(this.value=u,console.debug('Value set: '+u),'undefined'!=typeof gina.events[A]&&(console.debug('trigger event on: ',this.name,A),triggerEvent(gina,this,A,u)));Object.defineProperty(this,'value',p)};Object.defineProperty(e,'value',p)}},pb=function(e,b,h,p){'undefined'==typeof p&&(p=!1);var x=e.rules,u=q.$forms[b.form.getAttribute('id')],A=/^true$/i.test(b.disabled)?!0:!1;A&&'undefined'!=typeof u.rule&&
'undefined'!=typeof u.rule[b.name]&&'undefined'!=typeof u.rule[b.name].exclude&&/^false$/i.test(u.rule[b.name].exclude)&&(A=!1);if(/^(radio|checkbox|text|hidden|password|number|date|email)$/i.test(b.type)&&!A||p&&!A){p=b.name;u=x[p]||null;if(!u&&(Na(x,b),'undefined'==typeof x[p]))return;if(e.target.dataset.ginaFormLiveCheckEnabled&&u&&(p=[],u=null,A=0,/^(radio|checkbox)$/i.test(b.type)?u=/^(radio|checkbox)$/i.test(b.type)?'changed.'+b.id:'change.'+b.id:(addEventListener(gina,b,'focusout.'+b.id,function(P){P.preventDefault();
clearTimeout(h)}),u='change.'+b.id,'undefined'==typeof gina.events[u]&&(p[A]=u,++A),u='keyup.'+b.id,'undefined'==typeof gina.events[u]&&(p[A]=u,++A),u='focusin.'+b.id,'undefined'==typeof gina.events[u]&&(p[A]=u,++A),u='focusout.'+b.id),'undefined'==typeof gina.events[u]&&(p[A]=u,++A),0<p.length)){var W=!1;addListener(gina,b,p,function(P){P.preventDefault();clearTimeout(h);if(!W&&/^changed\./i.test(P.type)||!W&&/^(radio|checkbox)$/i.test(P.target.type))W=!0;else if(W&&/^changed\./i.test(P.type)||W&&
/^(radio|checkbox)$/i.test(P.target.type))return!1;if('undefined'!=typeof q.$forms[P.target.form.getAttribute('id')].isSubmitting&&/true/i.test(q.$forms[P.target.form.getAttribute('id')].isSubmitting))return!1;var aa=function(){console.debug('processing: '+P.target.name+'/'+P.target.id);if(!/^(radio|checkbox)$/i.test(P.target.type)&&P.target.value===P.target.defaultValue&&''!=P.target.value){var Q=q.$forms[P.target.form.getAttribute('id')].errors;if(Q&&0!=Q.count())E(P.target.form,Q,null,P.target.name);
else return E(P.target.form,{},null,P.target.name),cancelEvent(P)}Q={};var w={};Q[P.target.name]=P.target.value;w[P.target.name]=P.target;q.$forms[P.target.form.getAttribute('id')].isValidating=!0;M(P.target,Q,w,e.rules,function(ja){q.$forms[P.target.form.getAttribute('id')].isValidating=!1;ja.isValid()?E(P.target.form,{},ja.data,P.target.name):E(P.target.form,ja.error,ja.data,P.target.name);var ua=P.target.form,na=ja=null,la=null;na=Pb(ua,x);ja=na.fields;na=na.$fields;var Ca=ua.getAttribute('id');
la=q.$forms[Ca].rules;q.$forms[Ca].isValidating=!0;M(ua,ja,na,la,function(Aa){q.$forms[Ca].isValidating=!1;console.debug('['+Ca+'] onSilentGlobalLiveValidation: '+Aa.isValid(),Aa);var Sa=Aa.isValid();S&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:Ca,errors:Aa.error||{}}));Eb(ua,Sa);W=!1})})};if(/^changed\./i.test(P.type)||/^change\./i.test(P.type)&&'radio'==P.target.type)return function(Q,w){if(!(0<
w))return++w,setTimeout(()=>{console.debug(' changed .... '+b.id);aa()},0)}(W,0);/^focusin\./i.test(P.type)?/\-error/.test(b.parentNode.className)&&(console.debug('#1 you just focusin ....'+b.id,b.value),r(b)):/^focusout\./i.test(P.type)?/\-warning/.test(b.parentNode.className)&&(console.debug('#1 you just focusout ....'+b.id,b.value),r(b),E(b.form,q.$forms[b.form.getAttribute('id')].errors,null,b.name)):/^keyup\./i.test(P.type)?(b.ginaFormValidatorTestedValue=b.value,h=setTimeout(function(){-1<['91',
'17'].indexOf(''+P.keyCode)&&0==N.count()||(console.debug(' keyup ('+P.keyCode+') .... '+b.id,b.value,' VS ',b.ginaFormValidatorTestedValue+'(old)'),aa())},1E3)):/^change\./i.test(P.type)&&!/^(checkbox)$/i.test(P.target.type)&&(console.debug(' change .... '+b.id),aa())})}}},$a=function(e,b){e.setSelectionRange?(e.focus(),e.setSelectionRange(b,b)):e.createTextRange&&(e=e.createTextRange(),e.collapse(!0),e.moveEnd('character',b),e.moveStart('character',b),e.select())},jb=function(e,b){if(document.activeElement&&
document.activeElement.form){e=Array.prototype.filter.call(document.activeElement.form.querySelectorAll('a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), select:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])'),function(x){return 0<x.offsetWidth||0<x.offsetHeight||x===document.activeElement});var h=e.indexOf(document.activeElement);if(-1<h){var p=e[h+1];b&&(p=e[h-1]);(p||e[0]).focus()}}},bc=function(e,b){e.setAttribute('readonly','readonly');addListener(gina,
e,'focusout.'+e.id,function(h){h.preventDefault();clearTimeout(b);h=h.currentTarget;triggerEvent(gina,h,'change.'+h.id);h.setAttribute('readonly','readonly')});addListener(gina,e,'focusin.'+e.id,function(h){h.preventDefault();h.currentTarget.removeAttribute('readonly');var p='keydown.'+h.currentTarget.id;'undefined'==typeof gina.events[p]&&addListener(gina,h.currentTarget,p,function(x){x.preventDefault();clearTimeout(b);var u=x.currentTarget,A=x.currentTarget.value,W=u.selectionStart,P=u.selectionEnd;
u.removeAttribute('readonly');switch(x.keyCode){case 46:case 8:W!=P?(u.value=A.substr(0,W)+A.substr(P),0==W&&(u.value=A.substr(P))):u.value=0==W?A.substring(W+1):A.substr(0,W-1)+A.substr(P);x.currentTarget.setAttribute('readonly','readonly');setTimeout(()=>{u.removeAttribute('readonly');setTimeout(()=>{W!=P?$a(u,W):0==W?$a(u,W):$a(u,W-1)},0)},0);break;case 9:N[16]&&N[9]?jb(u,!0):jb(u);break;case 13:case 16:break;case 37:console.debug('moving left ',W-1);$a(u,W-1);break;case 39:W+1<A.length+1&&$a(u,
W+1);break;case 17:case 91:console.debug('CMD hit');x.preventDefault();break;case 67:if(N[67]&&N[91]||N[67]&&N[17]){u.setSelectionRange(W,P);document.execCommand('copy');break}case 86:if(N[86]&&N[91]||N[86]&&N[17]){W!=P&&(u.value=u.value.replace(A.substring(W,P),''));$a(u,W);document.execCommand('paste');break}case 88:if(N[88]&&N[91]||N[88]&&N[17]){u.setSelectionRange(W,P);document.execCommand('cut');break}case 90:if(N[90]&&N[91]||N[90]&&N[17]){u.value=u.defaultValue;break}default:W!=P?(u.value=A.substr(0,
W)+x.key,P-1<A.length&&(u.value+=A.substring(P))):u.value=0==W?x.key+A.substring(W):A.substr(0,W)+x.key+A.substr(P),x.currentTarget.setAttribute('readonly','readonly'),setTimeout(()=>{u.removeAttribute('readonly');setTimeout(()=>{$a(u,W+1)},0)},0)}})})},$b=function(e,b){if(/^(input|textarea)$/i.test(b.tagName)&&'undefined'==typeof gina.events['registered.'+b.id]){/^file$/i.test(b.type)||Ya(b);switch(b.tagName.toLowerCase()){case 'textarea':pb(e,b,null,!0);break;default:pb(e,b,null),e=b.getAttribute('autocomplete'),
/safari/i.test(navigator.userAgent)&&e&&/^(off|false)/i.test(e)&&bc(b,null)}gina.events['registered.'+b.id]=b.id}},fb=function(e,b,h){var p=b.id+'-'+h+'-'+e+'-trigger',x=document.getElementById(p);x||(p=b.getAttribute('data-gina-form-upload--'+h+ +e+'-trigger'),x=document.getElementById(p));x&&'undefined'==typeof x.isBinded||x&&'undefined'!=typeof x.isBinded&&!/true/i.test(x.isBinded)?(addListener(gina,x,'click',function(u){u.preventDefault();ia(b,e)}),x.isBinded=!0):console.warn('[FormValidator::bindForm][upload]['+
b.id+'] : did not find `upload '+e+' trigger`.\nPlease, make sure that your delete element ID is `'+p+'-'+e+'-trigger`, or add to your file input ('+b.id+') -> `data-gina-form-upload-'+e+'-trigger="your-custom-id"` definition.')},Cb=function(e,b){var h=function(p,x,u){var A=null;switch(x){case 'data-gina-form-upload-action':A='upload-to-tmp-xml';break;case 'data-gina-form-upload-reset-action':A='upload-delete-from-tmp-xml'}var W=p.getAttribute(x);if(!W||''==W){A||console.warn('`'+x+'` definition not found for `'+
p.id+'`. Trying to get default route.');var P=null;try{A&&(W=T.getRoute(A))}catch(aa){P=aa}W?(console.info('Ignore previous warnings regarding upload. I have found a default `'+x+'` route: `'+A+'@'+W.bundle+'`'),p.setAttribute('data-gina-form-upload-action',W.toUrl())):(p='`'+x+'` needs to be defined to proceed for your `input[type=file]` with ID `'+p.id+'`\n'+P+'\n',u&&(u.innerHTML+=p.replace(/(\n|\r)/g,'<br>')),console.error(p))}};h(e,'data-gina-form-upload-action',b);h(e,'data-gina-form-upload-reset-action',
b);h(e,'data-gina-form-upload-delete-action',b)},yb=function(e,b,h){e=Gb(e);db(e.target,b);return h?h(e):e},Gb=function(e){var b=null,h=null;try{if(e.getAttribute&&e.getAttribute('id'))if(h=e.getAttribute('id'),'undefined'!=typeof q.$forms[h])b=q.$forms[h];else throw Error('form instance `'+h+'` not found');else if('undefined'!=typeof e.target)b=e,h=b.id;else throw Error('Validator::unbindForm($target): `$target` must be a DOM element\n'+err.stack);}catch(A){throw Error('Validator::unbindForm($target) could not unbind form `'+
e+'`\n'+A.stack);}if('undefined'!=typeof b&&!b.binded)return b;removeListener(gina,b,'success.'+h);removeListener(gina,b,'error.'+h);b.target.getAttribute('data-gina-form-event-on-submit-success')&&removeListener(gina,b,'success.'+h+'.hform');b.target.getAttribute('data-gina-form-event-on-submit-error')&&removeListener(gina,b,'error.'+h+'.hform');removeListener(gina,b,'validate.'+h);removeListener(gina,b,'validated.'+h);removeListener(gina,b,'submit.'+h);removeListener(gina,b,'reset.'+h);e=[];h=b.target.getElementsByTagName('button');
if(0<h.length)for(let A=0,W=h.length;A<W;++A)e.push(h[A]);h=b.target.getElementsByTagName('a');if(0<h.length)for(let A=0,W=h.length;A<W;++A)e.push(h[A]);h=b.target.getElementsByTagName('input');if(0<h.length)for(let A=0,W=h.length;A<W;++A)if(/^(hidden)$/i.test(h[A].type)||e.push(h[A]),/^(file)$/i.test(h[A].type)){var p=h[A].getAttribute('data-gina-form-virtual');if(p){var x=z(p).target;if(x){e.push(x);for(let P=0,aa=Ea.length;P<aa;P++){var u=Ea[P];'undefined'!=typeof gina.events[u+'.'+p+'.hform']&&
gina.events[u+'.'+p+'.hform']==p&&removeListener(gina,x,u+'.'+p+'.hform')}}}}else for(let P=0,aa=Ea.length;P<aa;P++)p=Ea[P]+'.'+h[A].id,'undefined'!=typeof gina.events[p]&&gina.events[p]==h[A].id&&removeListener(gina,h[A],p),p=Ea[P],'undefined'!=typeof gina.events[p]&&gina.events[p]==h[A].id&&removeListener(gina,h[A],p),p=h[A].id,'undefined'!=typeof gina.events[p]&&gina.events[p]==h[A].id&&removeListener(gina,h[A],p);h=b.target.getElementsByTagName('textarea');if(0<h.length)for(let A=0,W=h.length;A<
W;++A)e.push(h[A]);h=b.target.getElementsByTagName('form');if(0<h.length)for(let A=0,W=h.length;A<W;++A)e.push(h[A]);e.push(b.target);for(let A=0,W=e.length;A<W;++A){h=e[A];p=h.getAttribute('id');for(let P=0,aa=Ea.length;P<aa;P++)u=x=Ea[P],'undefined'!=typeof gina.events[u]&&gina.events[u]==p&&removeListener(gina,h,u),u=p,'undefined'!=typeof gina.events[u]&&gina.events[u]==p&&removeListener(gina,h,u),u=x+'.'+p,'undefined'!=typeof gina.events[u]&&gina.events[u]==p&&removeListener(gina,h,u),u=x+'.'+
p,'undefined'!=typeof gina.events[u]&&gina.events[u]==u&&removeListener(gina,h,u),u=x+'.'+p+'.hform','undefined'!=typeof gina.events[u]&&gina.events[u]==p&&removeListener(gina,h,u)}evt=null;b.binded=!1;return b},Na=function(e,b){b=b.name;if(!e[b])for(let h in e)if(/^\//.test(h)&&(re=h.match(/\/(.*)\//).pop(),flags=h.replace('/'+re+'/',''),re=re.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),re=new RegExp(re,flags),re.test(b))){e[b]=e[h];break}},db=function(e,b){var h=null,p=null,x=typeof(0<za.count())?
za:q.rules;try{if(e.getAttribute&&e.getAttribute('id'))if(p=e.getAttribute('id'),'undefined'!=typeof q.$forms[p])h=q.$forms[p];else throw Error('form instance `'+p+'` not found');else throw Error('Validator::bindForm($target, customRule): `$target` must be a DOM element\n'+err.stack);}catch(ha){throw Error('Validator::bindForm($target, customRule) could not bind form `'+e+'`\n'+ha.stack);}if('undefined'!=typeof h&&h.binded)return!1;console.debug('binding for: '+p);var u=!1,A=null,W='',P=null;'undefined'!=
typeof b||'string'==typeof p&&'undefined'!=typeof x[p.replace(/\-|\//g,'.')]?(u=!0,A=b&&'object'==typeof b?b:b&&'string'==typeof b&&'undefined'!=typeof x[b.replace(/\-|\//g,'.')]?Fa(b.replace(/\-|\//g,'.')):Fa(p.replace(/\-|\//g,'.')),h.rules=A,S&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.rules||(gina.forms.rules={}),objCallback={id:p,rules:h.rules},window.ginaToolbar.update('forms',objCallback))):h.rules={};'undefined'==typeof h.target.dataset.ginaFormLiveCheckEnabled&&
0<h.rules.count()?h.target.dataset.ginaFormLiveCheckEnabled=!0:h.target.dataset.ginaFormLiveCheckEnabled='undefined'!=typeof h.target.dataset.ginaFormLiveCheckEnabled?/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)?!0:!1:!1;h.fieldsSet||(h.fieldsSet={});P=null;e.getElementsByTagName('a');b=e.getElementsByTagName('input');var aa=e.getElementsByTagName('textarea');P=e.getElementsByTagName('select');var Q={},w=[],ja={},ua=null,na={},la=null,Ca=null;for(let ha=0,Y=aa.length;ha<Y;++ha)Na(h.rules,
aa[ha]),Ca=aa[ha].getAttribute('id'),Ca&&''!=Ca||(Ca='textareas.'+oa.v4(),aa[ha].setAttribute('id',Ca)),h.fieldsSet[Ca]||(h.fieldsSet[Ca]={id:Ca,name:aa[ha].name||null,value:aa[ha].value||'',defaultValue:aa[ha].value||''}),/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)&&$b(h,aa[ha]);for(let ha=0,Y=b.length;ha<Y;++ha){Na(h.rules,b[ha]);Ca=b[ha].getAttribute('id');Ca&&''!=Ca||(Ca='input.'+oa.v4(),b[ha].setAttribute('id',Ca));h.fieldsSet[Ca]||(ua=b[ha].value,/$(on|true|false)$/i.test(ua)&&
(ua=/$(on|true)$/i.test(ua)?!0:!1),h.fieldsSet[Ca]={id:Ca,name:b[ha].name||null,value:ua||!/^(checkbox|radio)$/i.test(b[ha].type)?'':b[ha].checked,defaultValue:/^(checkbox|radio)$/i.test(b[ha].type)?b[ha].checked:ua},/^(checkbox|radio)$/i.test(b[ha].type)&&'undefined'==typeof h.fieldsSet[Ca].defaultChecked&&(h.fieldsSet[Ca].defaultChecked=/^(true|on)$/i.test(b[ha].checked)||/^(true|on)$/.test(ua)&&/^(checkbox)$/i.test(b[ha].type)?!0:!1,/^radio$/i.test(b[ha].type)&&(h.fieldsSet[Ca].value=b[ha].value,
h.fieldsSet[Ca].defaultValue=b[ha].value)));/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)&&$b(h,b[ha]);if(ua=b[ha].getAttribute('data-gina-form-element-group'))0>w.indexOf(ua)&&w.push(ua),la=b[ha].getAttribute('name')||Ca,la===Ca&&b[ha].setAttribute('name',Ca),Q[Ca]={id:Ca,name:la,group:ua,target:b[ha]},ja[b[ha].name]=new RegExp('^'+ua.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')),u&&('undefined'==typeof h.rules[b[ha].name]&&(h.rules[b[ha].name]={}),'undefined'!=typeof h.rules[b[ha].name].isRequired&&
h.rules[b[ha].name].isRequired||(h.rules[b[ha].name].exclude=!0));if(0<ja.count())for(var Aa in ja)b[ha].name!=Aa&&(b[ha].getAttribute('data-gina-form-element-group'),ja[Aa].test(b[ha].name)&&(b[ha].disabled=!0,'undefined'==typeof na[Aa]&&(na[Aa]={}),na[Aa][b[ha].name]=b[ha]));if(/^file$/i.test(b[ha].type)){Ca=b[ha].getAttribute('data-gina-form-upload-trigger');Ca||(Ca=b[ha].id);ua=null;la=(new DOMParser).parseFromString(e.innerHTML,'text/html');Ca&&(ua=document.getElementById(Ca));aa=document.getElementById(b[ha].id+
'-error');Cb(b[ha],aa);if((aa=la.getElementById(Ca+'-preview'))&&ua&&!/none/i.test(window.getComputedStyle(aa).display)&&!/none/i.test(aa.parentElement.style.display)){la=0;console.debug('preview is visible ...');ua.customFiles=[];ua.form=e;aa=aa.childNodes;for(let fa=0,qa=aa.length;fa<qa;fa++){var Sa=null;if(/ul/i.test(aa[fa].tagName))for(let Ra=0,ab=aa[fa].length;Ra<ab;Ra++){let eb=$$els[fa];for(let Pa=0,xb=eb.length;Pa<xb;Pa++)/img/i.test(eb[Pa])&&(Sa=eb[Pa],Sa.setAttribute(''),la++)}else/img/i.test(aa[fa].tagName)&&
(Sa=aa[fa],deleteLinkId=Ca+'-'+la+'-delete-trigger',Sa=Sa.src.substr(Sa.src.lastIndexOf('/')+1),ua.customFiles.push({name:Sa,deleteLinkId}),fb('delete',ua,la),la++)}}addListener(gina,b[ha],'change',function(fa){fa.preventDefault();var qa=fa.currentTarget;fa=qa.files;qa.customFiles=Array.from(fa);if(!fa.length)return!1;var Ra=qa.getAttribute('data-gina-form-upload-action'),ab=qa.getAttribute('name'),eb='gina-upload-'+ab.replace(/\[/g,'-').replace(/\]/g,'-'+h.id);qa.setAttribute('data-gina-form-virtual',
eb);var Pa=qa.getAttribute('data-gina-form-upload-on-success'),xb=qa.getAttribute('data-gina-form-upload-on-error'),kb=null;if(0<fa.length){var ib=null;if(y()){ib=gina.popin.getActivePopin();ib.$target=(new DOMParser).parseFromString(ib.target.outerHTML,'text/html');ib.$target.getElementById(ib.id).innerHTML=document.getElementById(ib.id).innerHTML;var ob=ib.$target.getElementById(eb)}else ob=document.getElementById(eb);if(!ob){try{ob=z(eb)||null}catch(Tc){}ob||=y()?ib.$target.createElement('form'):
document.createElement('form');ob.id=eb;ob.action=Ra;ob.enctype='multipart/form-data';ob.method='POST';if('undefined'!=typeof qa.form){Ra='files';var rb=qa.getAttribute('data-gina-form-upload-prefix')||qa.name||qa.getAttribute('name'),mb=qa.id||qa.getAttribute('id'),Nb=!1,Db=qa.getAttribute('data-gina-form-upload-preview')||mb+'-preview';Db=y()?ib.$target.getElementById(Db):document.getElementById(Db);'undefined'!=typeof Db&&(Nb=!0);rb&&(Ra=rb);rb=[];for(var Ib='name group originalFilename ext encoding size height width location mime preview'.split(' '),
Kb=qa.form.getElementsByTagName('INPUT'),Zb,Wb,Gc,qc,Mb=0,Nc=fa.length;Mb<Nc;++Mb){fb('reset',qa,Mb);rb[Mb]=null;Zb=Ra+'['+Mb+']';qc=new RegExp('^'+Zb.replace(/\[/g,'\\[').replace(/\]/g,'\\]'));for(var wc=0,xc=Kb.length;wc<xc;++wc)Zb=Kb[wc].getAttribute('type'),kb=Kb[wc].getAttribute('data-gina-form-upload-error')||mb+'-error'||null,Zb&&/hidden/i.test(Zb)&&(Wb=Kb[wc],Zb=/\[\w+\]$/i.test(Wb.name)?Wb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Wb.name,Gc=/\[\w+\]$/i.test(Wb.name)?Wb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,
''):Wb.name,Wb&&'undefiend'!=typeof Zb&&-1<Ib.indexOf(Zb)&&qc.test(Wb.name)?(rb[Mb]||(rb[Mb]={}),/\[preview\]/i.test(Wb.name)?('undefined'==typeof rb[Mb].preview&&(rb[Mb].preview={}),rb[Mb].preview[Zb]=Wb):rb[Mb][Zb]=Wb):Wb&&'undefiend'!=typeof Zb&&0>Ib.indexOf(Zb)&&qc.test(Wb.name)&&(rb[Mb]||(rb[Mb]={}),/\[preview\]/i.test(Wb.name)?('undefined'==typeof rb[Mb].preview&&(rb[Mb].preview={}),rb[Mb].preview[Gc]=Wb):rb[Mb][Gc]=Wb));qc=0;for(wc=Ib.length;qc<wc;++qc)rb[Mb]||(rb[Mb]={}),'undefined'==typeof rb[Mb][Ib[qc]]&&
(Zb=Ra+'['+Mb+']['+Ib[qc]+']',$newVirtualField=document.createElement('input'),$newVirtualField.type='hidden',$newVirtualField.id='input.'+oa.v4(),$newVirtualField.name=Zb,$newVirtualField.value='',qa.form.appendChild($newVirtualField),rb[Mb][Ib[qc]]=qa.form[qa.form.length-1])}ob.uploadProperties={id:qa.form.id||qa.getAttribute('id'),uploadTriggerId:qa.id,$form:qa.form,errorField:kb,mandatoryFields:Ib,uploadFields:rb,hasPreviewContainer:Nb,isPopinContext:y()};Nb&&(ob.uploadProperties.previewContainer=
Db)}Pa?ob.setAttribute('data-gina-form-event-on-submit-success',Pa):ob.setAttribute('data-gina-form-event-on-submit-success','onGenericXhrResponse');xb?ob.setAttribute('data-gina-form-event-on-submit-error',xb):ob.setAttribute('data-gina-form-event-on-submit-error','onGenericXhrResponse');y()?document.getElementById(ib.id).appendChild(ob):document.body.appendChild(ob)}try{var sc=z(eb),Sc=new FormData;qa=null;eb=0;for(var Oc=fa.length;eb<Oc;++eb)qa=fa[eb],Sc.append(ab,qa,qa.name);sc.send(Sc,{withCredentials:!0})}catch(Tc){throw Tc;
}}})}}var Va=function(ha,Y){ha.setAttribute('data-value',ha.value);if(/^(true)$/i.test(Y.target.dataset.ginaFormLiveCheckEnabled&&0<Y.rules.count())){var fa={},qa={},Ra=null;Ra=ha.form;fa[event.target.name]=event.target.value;qa[event.target.name]=event.target;q.$forms[Ra.getAttribute('id')].isValidating=!0;M(event.target,fa,qa,Y.rules,function(ab){q.$forms[Ra.getAttribute('id')].isValidating=!1;ab.isValid()?E(Ra,{},ab.data,event.target.name):E(Ra,ab.error,ab.data,event.target.name);var eb=Ra,Pa=
ab=null,xb=null;Pa=Pb(eb,x);ab=Pa.fields;Pa=Pa.$fields;var kb=eb.getAttribute('id');xb=q.$forms[kb].rules;q.$forms[kb].isValidating=!0;M(eb,ab,Pa,xb,function(ib){q.$forms[kb].isValidating=!1;console.debug('[updateSelect]: onSilentGlobalLiveValidation: '+ib.isValid(),ib);ib=ib.isValid();Eb(eb,ib);once=!1})})}};ua=na=null;Aa=0;for(ja=P.length;Aa<ja;++Aa)if(Na(h.rules,P[Aa]),Ca=P[Aa].getAttribute('id'),!Ca||!/^gina\-toolbar/.test(Ca)){Ca&&''!=Ca||(Ca='select.'+oa.v4(),P[Aa].setAttribute('id',Ca));if(ua=
P[Aa].getAttribute('data-gina-form-element-group'))na=P[Aa].getAttribute('name')||Ca,na===Ca&&P[Aa].setAttribute('name',Ca),Q[Ca]={id:Ca,name:na,group:ua,target:P[Aa]};addListener(gina,P[Aa],'change',function(ha){ha=ha.target;/select/i.test(ha.type)&&Va(ha,h)});if(P[Aa].options&&!h.fieldsSet[Ca]){na=0;if(ua=P[Aa].getAttribute('data-value')||null)for(la=0,aa=P[Aa].options.length;la<aa;++la)if(P[Aa].options[la].value==ua){na=la;P[Aa].selectedIndex=na;break}'undefined'!=typeof P[Aa].options[P[Aa].selectedIndex]&&
P[Aa].options[P[Aa].selectedIndex].index&&(na=P[Aa].options[P[Aa].selectedIndex].index);h.fieldsSet[Ca]={id:Ca,name:P[Aa].name||null,value:P[Aa].options[na].value||ua||null,selectedIndex:na||0};'undefined'!=typeof P[Aa].selectedIndex&&(P[Aa].options[na].selected=!0,P[Aa].setAttribute('data-value',P[Aa].options[na].value))}}var qb=function(ha,Y,fa,qa){'undefined'==typeof qa&&(qa=!1);if('undefined'==typeof Q[ha])throw Error('Radio & Checkbox dependencies not met: you must use the ID attribue of the `master element` as the `data-gina-form-element-group`');
var Ra=ha.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');ha=Q[ha].target.checked;for(let Pa in Q)if(!/radio|checkbox/i.test(Q[Pa].target.type)){var ab=new RegExp(Ra);var eb=new RegExp(Y);if(ab.test(Q[Pa].group)&&eb.test(Q[Pa].group)||ab.test(Q[Pa].group))Q[Pa].target.disabled=!0,'undefined'==typeof h.rules[Q[Pa].name]&&(h.rules[Q[Pa].name]={}),h.rules[Q[Pa].name].exclude=!0,qa?(Q[Pa].target.disabled=ha?!1:!0,h.rules[Q[Pa].name].exclude=ha?!1:!0):(Q[Pa].target.disabled=fa,h.rules[Q[Pa].name].exclude=fa)}},sb=
function(ha,Y,fa,qa){'undefined'==typeof qa&&(qa=!1);if(qa&&'undefined'!=typeof Q[Y.id])return ha=/true/i.test(Y.checked)?!1:!0,qb(Y.id,Q[Y.id].group,ha,qa);fa=Y.name;u&&'undefined'==typeof ha.rules[fa]&&(ha.rules[fa]={});/^true$/i.test(Y.checked)?u&&(ha.rules[fa].exclude=!1,'undefined'!=typeof Q[Y.id]&&qb(Y.id,Q[Y.id].group,!1,qa)):u&&(ha.rules[fa].exclude=!0,'undefined'!=typeof Q[Y.id]&&qb(Y.id,Q[Y.id].group,!0,qa))},Hb=function(ha,Y){'undefined'==typeof Y&&(Y=!1);var fa=function(Pa,xb,kb){if(xb)sb(h,
Pa,xb);else for(let ib in Q)if(eb.test(Q[ib].group)||eb.test(Q[ib].target.getAttribute('data-gina-form-element-group')))Q[ib].target.disabled=kb};Y&&/^(on)$/i.test(ha.value)&&!ha.checked&&(ha.value=!1);var qa=ha.getAttribute('data-value')||ha.getAttribute('value')||ha.value;qa=/^(true|on)$/.test(qa)?!0:qa;''===qa&&(qa=!1);var Ra=/^(true|on|false)$/i.test(qa)?!0:!1;Y&&Ra&&(/^true$/i.test(qa)&&!ha.checked?ha.checked=!0:/^false$/i.test(qa)&&ha.checked&&(ha.checked=!1));qa=ha.checked;var ab=ha.getAttribute('data-gina-form-element-group')||
null,eb=new RegExp(ha.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));qa&&'null'!=qa&&'false'!=qa&&''!=qa?(Y?Ob(ha):(setTimeout(function(){ha.checked=!0;fa(ha,ab,!1);Ob(ha)},0),ha.setAttribute('checked','checked')),Ra&&(ha.value=!0,ha.setAttribute('value',!0),typeof('undefined'!=ha.getAttribute('data-value'))&&ha.setAttribute('data-value',!0))):(Y?Ob(ha):setTimeout(function(){ha.checked=!1;fa(ha,ab,!0);Ob(ha)},0),ha.removeAttribute('checked'),Ra&&(ha.value=!1,ha.setAttribute('value','false'),typeof('undefined'!=
ha.getAttribute('data-value'))&&ha.setAttribute('data-value','false')))},Ob=function(ha){ha=new RegExp(ha.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(let Y in Q)(/checkbox/i.test(Q[Y].target.type)&&ha.test(Q[Y].group)||/checkbox/i.test(Q[Y].target.type)&&ha.test(Q[Y].target.getAttribute('data-gina-form-element-group')))&&sb(h,Q[Y].target,Q[Y].group,!0)},zb=function(ha,Y){Y=ha.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');Y=new RegExp(Y);for(let fa in Q)if(/checkbox|radio/i.test(Q[fa].target.type)||(Q[fa].target.disabled=
!0,'undefined'==typeof h.rules[Q[fa].name]&&(h.rules[Q[fa].name]={}),h.rules[Q[fa].name].exclude=!0),Y.test(Q[fa].group)||Y.test(Q[fa].target.getAttribute('data-gina-form-element-group').replace(/\-|_|@|#|\.|\[|\]/g,'\\$&')))Q[fa].target.disabled=!0,'undefined'==typeof h.rules[Q[fa].name]&&(h.rules[Q[fa].name]={}),/^(true|on)$/i.test(ha.checked)?(Q[fa].target.disabled=!1,h.rules[Q[fa].name].exclude=!1):(Q[fa].target.disabled=!0,h.rules[Q[fa].name].exclude=!0);Ob(ha)},Vb=null,Za=function(ha,Y,fa){Y=
'undefined'!=typeof Y&&Y?!0:!1;fa='undefined'!=typeof fa&&fa?!0:!1;var qa=ha.checked,Ra=/^(true|false)$/i.test(ha.value);Vb=document.getElementsByName(ha.name);for(let ab=0,eb=Vb.length;ab<eb;++ab)Vb[ab].id!==ha.id&&qa&&(Vb[ab].checked=!1,Vb[ab].removeAttribute('checked'),zb(Vb[ab],!0));Y?zb(ha):(qa&&'null'!=qa&&'false'!=qa&&''!=qa?setTimeout(function(){fa?zb(ha):(ha.checked=!1,ha.removeAttribute('checked'))},0):setTimeout(function(){fa?zb(ha):(ha.checked=!0,ha.setAttribute('checked','checked'))},
0),Ra&&(ha.value=/^true$/.test(ha.value)?!0:!1))};Aa=0;for(ja=b.length;Aa<ja;++Aa){P=b[Aa].getAttribute('type');if('undefined'==typeof b[Aa].id||''==b[Aa].id)b[Aa].id=P+'-'+oa.v4(),b[Aa].setAttribute('id',b[Aa].id);if('undefined'!=typeof P&&/^checkbox$/i.test(P)){if(b[Aa].disabled&&-1<w.indexOf(b[Aa].id)||!b[Aa].checked&&-1<w.indexOf(b[Aa].id)){P=new RegExp(b[Aa].id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(var gb in Q)P.test(Q[gb].group)&&(Q[gb].target.disabled=!0)}W='change.'+b[Aa].id;P=function(ha,
Y){addListener(gina,ha,Y,function(fa){Hb(fa.target);triggerEvent(gina,fa.target,'changed.'+fa.target.id)});Hb(ha,!0)};'undefined'!=typeof gina.events[W]&&gina.events[W]==b[Aa].id&&removeListener(gina,b[Aa],W);P(b[Aa],W)}else'undefined'!=typeof P&&/^radio$/i.test(P)&&(W=b[Aa].id,P=function(ha,Y){addListener(gina,ha,Y,function(fa){Za(fa.target);triggerEvent(gina,fa.target,'changed.'+fa.target.id)});Za(ha,!0)},'undefined'!=typeof gina.events[W]&&gina.events[W]==b[Aa].id&&removeListener(gina,b[Aa],W),
P(b[Aa],W))}W='click';P=function(){var ha=null;ha='reset.'+e.id;'undefined'==typeof gina.events[ha]&&addListener(gina,e,ha,function(Y){Y.preventDefault();var fa=q.$forms[Y.currentTarget.id||Y.target.id];fa.target.dataset.ginaFormIsResetting=!0;R(fa);Y=Pb(fa.target,fa.rules,!0);M(fa.target,Y.fields,Y.$fields,fa.rules,function(qa){var Ra=qa.isValid();console.debug('silent reset validation result[isValid:'+Ra+']: ',qa);E(fa.target,{});Eb(fa.target,Ra);fa.target.dataset.ginaFormIsResetting=!1})});addListener(gina,
e,'reset',function(Y){var fa=Y.target;if('undefined'!=typeof Y.defaultPrevented&&Y.defaultPrevented)return!1;Y.preventDefault();var qa=fa.id;if(!qa)return!1;/^reset\./.test(qa)||(qa='reset.'+fa.id);gina.events[qa]&&triggerEvent(gina,fa,qa,Y.detail)});addListener(gina,e,'keydown',function(Y){var fa=Y.target;if('undefined'!=typeof Y.defaultPrevented&&Y.defaultPrevented)return!1;N[Y.keyCode]='keydown'==Y.type;var qa=fa.id;if(!qa)return!1;/^keydown\./.test(qa)||(qa='keydown.'+fa.id);gina.events[qa]&&
(cancelEvent(Y),triggerEvent(gina,fa,qa,Y.detail,Y))});addListener(gina,e,'keyup',function(Y){var fa=Y.target;if('undefined'!=typeof Y.defaultPrevented&&Y.defaultPrevented)return!1;N[Y.keyCode]&&delete N[Y.keyCode];var qa=fa.id;if(!qa)return!1;/^keyup\./.test(qa)||(qa='keyup.'+fa.id);gina.events[qa]&&(cancelEvent(Y),triggerEvent(gina,fa,qa,Y.detail,Y))});addListener(gina,e,'focusin',function(Y){var fa=Y.target;if('undefined'!=typeof Y.defaultPrevented&&Y.defaultPrevented)return!1;var qa=fa.id;if(!qa)return!1;
/^focusin\./.test(qa)||(qa='focusin.'+fa.id);gina.events[qa]&&(cancelEvent(Y),triggerEvent(gina,fa,qa,Y.detail))});addListener(gina,e,'focusout',function(Y){var fa=Y.target;if('undefined'!=typeof Y.defaultPrevented&&Y.defaultPrevented)return!1;var qa=fa.id;if(!qa)return!1;/^focusout\./.test(qa)||(qa='focusout.'+fa.id);gina.events[qa]&&(cancelEvent(Y),triggerEvent(gina,fa,qa,Y.detail))});addListener(gina,e,'change',function(Y){var fa=Y.target;if('undefined'!=typeof Y.defaultPrevented&&Y.defaultPrevented)return!1;
var qa=fa.id;if(!qa)return!1;/^change\./.test(qa)||(qa='change.'+fa.id);gina.events[qa]&&(cancelEvent(Y),triggerEvent(gina,fa,qa,Y.detail))});addListener(gina,e,'click',function(Y){var fa=Y.target,qa=!1,Ra=!1;if(/(label)/i.test(Y.target.tagName)&&'undefined'!=typeof Y.target.control&&null!=Y.target.control&&/(checkbox|radio)/i.test(Y.target.control.type)||/(label)/i.test(Y.target.parentNode.tagName)&&'undefined'!=typeof Y.target.parentNode.control&&null!=Y.target.parentNode.control&&/(checkbox|radio)/i.test(Y.target.parentNode.control.type))Ra=
Y.target.getAttribute('for')||Y.target.parentNode.getAttribute('for')?!0:!1,fa=Y.target.control||Y.target.parentNode.control;if(!fa.disabled&&/(checkbox|radio)/i.test(fa.type)&&!Ra){if(/checkbox/i.test(fa.type))return Hb(fa);if(/radio/i.test(fa.type))return Za(fa,!1,!0)}if(/(button|input)/i.test(fa.tagName)&&/(submit|checkbox|radio)/i.test(fa.type)||/a/i.test(fa.tagName)&&fa.attributes.getNamedItem('data-gina-form-submit')||/a/i.test(fa.parentNode.tagName)&&fa.parentNode.attributes.getNamedItem('data-gina-form-submit')){Ra=
fa.attributes.getNamedItem('data-gina-form-submit');var ab=fa.parentNode.attributes.getNamedItem('data-gina-form-submit');if(Ra||ab)qa=!0,(ab=Ra?fa.getAttribute('data-gina-form-submit-method')||Y.currentTarget.getAttribute('method'):fa.parentNode.getAttribute('data-gina-form-submit-method')||Y.currentTarget.getAttribute('method'))&&(Ra&&fa.form?fa.form.setAttribute?fa.form.setAttribute('method',ab):Y.currentTarget.setAttribute('method',ab):fa.parentNode.form&&(fa.parentNode.form.setAttribute?fa.parentNode.form.setAttribute('method',
ab):Y.currentTarget.setAttribute('method',ab)));'undefined'!=typeof fa.id&&fa.getAttribute('id')||fa.setAttribute('id','click.'+oa.v4());fa.id=fa.getAttribute('id');if(/^click\./.test(fa.id)||u){Ra=fa.id;if(!Ra)return!1;/^click\./.test(Ra)||(Ra=fa.id);if(!fa.disabled&&/(checkbox|radio)/i.test(fa.type)){if(/checkbox/i.test(fa.type))return Hb(fa);if(/radio/i.test(fa.type))return Za(fa,!1,!0)}if('undefined'!=typeof Y.defaultPrevented&&Y.defaultPrevented)return!1;if('submit'==fa.type&&!/^submit\./i.test(Ra)||
qa&&!/^submit\./i.test(Ra))Ra='submit.'+Ra;'reset'!=fa.type||/^reset\./i.test(Ra)||(Ra='reset.'+Ra);gina.events[Ra]?(cancelEvent(Y),triggerEvent(gina,fa,Ra,Y.detail)):qa&&'undefined'!=typeof this.id&&''!=this.id&&'undefined'!=typeof gina.validator.$forms[this.id]&&(gina.validator.getFormById(this.id).submit(),cancelEvent(Y))}}})};P();W='validate.'+p;P=function(){addListener(gina,e,W,function(ha){cancelEvent(ha);var Y=h.eventData.error||h.eventData.validation||ha.detail;E(ha.target,Y.fields||Y.error,
Y.data);ha=ha.target.getAttribute('id');if('undefined'!=typeof Y.isValid&&Y.isValid()){var fa=q.$forms[ha].target.getAttribute('data-gina-form-inherits-data')||null;fa&&(Y.data=V(Y.data,JSON.parse(decodeURIComponent(fa))));q.$forms[ha]?q.$forms[ha].send(Y.data):h&&h.send(Y.data)}})};'undefined'!=typeof gina.events[W]&&gina.events[W]=='validate.'+p&&removeListener(gina,h,W,P);P();gb=function(ha,Y){/^submit\./i.test(ha)||(ha='submit.'+ha);addListener(gina,Y,ha,function(fa){cancelEvent(fa);var qa={};
fa={_length:0};var Ra=e.getAttribute('id'),ab='undefined'!=typeof q.$forms[Ra]?q.$forms[Ra].rules:null;q.$forms[Ra].sent||(qa=Pb(e,ab),fa=qa.fields,qa=qa.$fields,ab=q.$forms[Ra].rules,0==fa._length?(delete fa._length,fa={error:[],isValid:function(){return!0},data:Ka(fa)},triggerEvent(gina,e,'validate.'+p,fa)):(p=e.getAttribute('id'),A=(ab=e.getAttribute('data-gina-form-rule'))?Fa(ab.replace(/\-|\//g,'.')):Fa(p.replace(/\-/g,'.')),q.$forms[Ra].isSubmitting=!0,q.$forms[Ra].isSending=!1,M(e,fa,qa,A,
function(eb){triggerEvent(gina,e,'validate.'+p,eb)})))})};w=null;b=[];w=[];P=null;w=e.getElementsByTagName('button');if(0<w.length)for(let ha=0,Y=w.length;ha<Y;++ha)'submit'==w[ha].type&&b.push(w[ha]);w=e.getElementsByTagName('a');if(0<w.length)for(let ha=0,Y=w.length;ha<Y;++ha)w[ha].attributes.getNamedItem('data-gina-form-submit')?b.push(w[ha]):w[ha].getAttribute('id')||/gina\-popin/.test(w[ha].className)||gina.popinIsBinded||/gina\-link/.test(w[ha].className)||(P='link.'+oa.v4(),w[ha].id=P);P=null;
Aa=!1;for(let ha=0,Y=b.length;ha<Y;++ha){w=b[ha];if(/button/i.test(w.tagName)&&'undefined'!=typeof w.type&&/submit/i.test(w.type)||/a/i.test(w.tagName)&&'undefined'!=typeof w.dataset.ginaFormSubmit&&/^true$/i.test(w.dataset.ginaFormSubmit)||/a/i.test(w.parentNode.tagName)&&'undefined'!=typeof w.parentNode.dataset.ginaFormSubmit&&/^true$/i.test(w.parentNode.dataset.ginaFormSubmit)){/a/i.test(w.parentNode.tagName)&&(w=w.parentNode);if('undefined'==typeof w.id||'undefined'!=typeof w.id&&''==w.id)w.id=
'click.'+oa.v4(),w.setAttribute('id',w.id);/a/i.test(w.tagName)&&'undefined'==typeof w.form&&(w.form={id:h.id});'undefined'==typeof w.dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof q.$forms[h.id]&&'undefined'==typeof q.$forms[h.id].submitTrigger&&'undefined'!=typeof w.form.id&&h.id==w.form.id&&(console.debug('attching submitTrigger: '+w.id,'  form id: '+h.id),q.$forms[h.id].submitTrigger=h.submitTrigger=w.id||w.getAttribute('id'),w.dataset.ginaFormSubmitTriggerFor=h.id)}'A'==w.tagName&&(P=
w.getAttribute('onclick'),Aa=w.getAttribute('data-gina-form-submit'),P||Aa?/return false/i.test(P)||Aa||(P=/;$/.test(P)?P+'return false;':P+'; return false;'):w.setAttribute('onclick','return false;'));w.id?W=w.id:(W='click.'+oa.v4(),w.id=W,w.setAttribute('id',W));'undefined'!=typeof gina.events[W]&&gina.events[W]==w.id||gb(W,w)}W='submit';addListener(gina,e,W,function(ha){var Y=ha.target,fa=Y.getAttribute('id'),qa=q.$forms[fa],Ra=h.binded;(qa=(new DOMParser).parseFromString(Y.innerHTML,'text/html').getElementById(qa.submitTrigger))&&
qa.disabled&&cancelEvent(ha);if('undefined'!=typeof ha.defaultPrevented&&ha.defaultPrevented)return!1;(u||Ra)&&cancelEvent(ha);ha={};Ra={_length:0};qa='undefined'!=typeof gina.validator.$forms[fa]?gina.validator.$forms[fa].rules:null;for(var ab=null,eb=null,Pa=0,xb=Y.length;Pa<xb;++Pa)ab=Y[Pa].getAttribute('name'),eb=Y[Pa].disabled||Y[Pa].getAttribute('disabled'),eb=/disabled|true/i.test(eb)?!0:!1,ab&&!eb&&('undefined'!=typeof Y[Pa].type&&'radio'==Y[Pa].type||'undefined'!=typeof Y[Pa].type&&'checkbox'==
Y[Pa].type?Y[Pa].checked?/^(true|false)$/.test(Y[Pa].value)?Ra[ab]=Y[Pa].value=/^true$/.test(Y[Pa].value)?!0:!1:Ra[ab]=Y[Pa].value:qa&&'undefined'!=typeof qa[ab]&&'undefined'!=typeof qa[ab].isBoolean&&'checkbox'==Y[Pa].type&&!/^(true|false)$/.test(Y[Pa].value)&&(Ra[ab]=!1):Ra[ab]=Y[Pa].value,ha[ab]=Y[Pa],ha[ab].setAttribute('data-gina-form-errors',''));Ra._length=Ra.count();0==Ra._length?(delete Ra._length,ha={error:[],isValid:function(){return!0},data:Ka(Ra)},'undefined'!=typeof gina.events['submit.'+
fa]?triggerEvent(gina,Y,'submit.'+fa,ha):triggerEvent(gina,Y,'validate.'+fa,ha)):(A=(qa=Y.getAttribute('data-gina-form-rule'))?Fa(qa.replace(/\-|\//g,'.')):Fa(fa.replace(/\-/g,'.')),q.$forms[fa].isValidating=!0,M(Y,Ra,ha,A,function(kb){q.$forms[fa].isValidating=!1;'undefined'!=typeof gina.events['submit.'+fa]?triggerEvent(gina,Y,'submit.'+fa,kb):triggerEvent(gina,Y,'validate.'+fa,kb)}))});q.$forms[p].binded=!0;/^(true)$/i.test(h.target.dataset.ginaFormLiveCheckEnabled&&0<h.rules.count())?(console.debug('silent validation mode on'),
gb=Pb(h.target,h.rules),M(h.target,gb.fields,gb.$fields,h.rules,function(ha){console.debug('silent validation result[isValid:'+ha.isValid()+']: ',ha);S&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:p,errors:ha.error}));Eb(h,ha.isValid())})):/^(true)$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)||Eb(h,!0)},Eb=function(e,b){$formInstance=null;e instanceof HTMLFormElement?(e=e.getAttribute('id'),$formInstance=
q.$forms[e]):$formInstance=e;'undefined'==typeof $formInstance.submitTrigger?console.warn('This might be normal, so do not worry if this form is handled by your javascript: `'+$formInstance.id+'`\nGina could not complete `updateSubmitTriggerState()`: `submitTrigger` might not be attached to form instance `'+$formInstance.id+'`\nTo disable this warning, You just need to disable `Form Live Checking on your form by adding to your <form>: `data-gina-form-live-check-enabled=false``'):document.getElementById($formInstance.submitTrigger)&&
(/true/i.test(b)?document.getElementById($formInstance.submitTrigger).disabled=!1:document.getElementById($formInstance.submitTrigger).disabled=!0)},Pb=function(e,b,h){'undefined'==typeof h&&(h=!1);var p={},x={},u=e.id||e.getAttribute('id');'undefined'==typeof b&&(b='undefined'!=typeof q.$forms[u].rules&&0<q.$forms[u].rules.count()?q.$forms[u].rules:null,b||'undefined'==typeof gina.validator.$forms[u]||(b=gina.validator.$forms[u].rules));for(var A=0,W=e.length;A<W;++A){if(h)switch(e[A].tagName.toLowerCase()){case 'input':/^(hidden|text)$/i.test(e[A].type)&&
(e[A].value=e[A].defaultValue)}if(/button/i.test(e[A].tagName)&&'undefined'!=typeof e[A].type&&/submit/i.test(e[A].type)||/a/i.test(e[A].tagName)&&'undefined'!=typeof e[A].dataset.ginaFormSubmit&&/^true$/i.test(e[A].dataset.ginaFormSubmit))/a/i.test(e[A].tagName)&&'undefined'==typeof e[A].form&&(e[A].form={id:u}),'undefined'==typeof e[A].dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof q.$forms[u]&&'undefined'==typeof q.$forms[u].submitTrigger&&'undefined'!=typeof e[A].form.id&&u==e[A].form.id&&
(q.$forms[u].submitTrigger=e[A].id||e[A].getAttribute('id'),e[A].dataset.ginaFormSubmitTriggerFor=u);var P=e[A].getAttribute('name');var aa=e[A].disabled||e[A].getAttribute('disabled');aa=/disabled|true/i.test(aa)?!0:!1;if(P&&!aa){if('undefined'!=typeof e[A].type&&'radio'==e[A].type||'undefined'!=typeof e[A].type&&'checkbox'==e[A].type)if(e[A].checked||'undefined'==typeof b[P]&&'undefined'!=e[A].value&&/^(true|false)$/.test(e[A].value)||!e[A].checked&&'undefined'!=typeof b[P]&&'undefined'!=typeof b[P].isBoolean&&
/^(true|false)$/.test(e[A].value))if(/^(true|false)$/.test(e[A].value))if('undefined'==typeof b[P]?b[P]={isBoolean:!0}:'undefined'!=typeof b[P]&&'undefined'==typeof b[P].isBoolean&&(b[P].isBoolean=!0,b[P].isRequired=!0),'radio'==e[A].type){if('undefined'==typeof b[P])throw Error('rule '+P+' is not defined');/^true$/.test(b[P].isBoolean)&&e[A].checked&&(x[P]=/^true$/.test(e[A].value)?!0:!1)}else x[P]=e[A].value=/^true$/.test(e[A].value)?!0:!1;else x[P]=e[A].value;else b&&'undefined'!=typeof b[P]&&
'undefined'!=typeof b[P].isBoolean&&'undefined'!=typeof b[P].isRequired&&!/^(true|false)$/.test(e[A].value)&&(x[P]=!1);else x[P]=e[A].value;'undefined'==typeof p[P]&&(p[P]=e[A],p[P].setAttribute('data-gina-form-errors',''))}}x._length=x.count()||0;return{$fields:p,fields:x,rules:b}},xa=function(e,b,h,p){return'undefined'==typeof e[h]||/^(null|NaN|undefined|\s*)$/i.test(b[h])?b[h]:'undefined'!=typeof e[h].isNumber||'undefined'!=typeof e[h].isInteger||'undefined'!=typeof e[h].isFloat||'undefined'!=
typeof e[h].toFloat||'undefined'!=typeof e[h].toInteger?(/,/.test(b[h])&&(b[h]=b[h].replace(/,/g,'.').replace(/\s+/g,'')),b[h]):'boolean'==typeof b[h]?b[h]:e[h].isBoolean?/^true$/i.test(b[h])?!0:!1:'undefined'!=typeof p&&/^true$/i.test(p)?'\\"'+b[h]+'\\"':b[h]},ya=function(e,b){'string'!=typeof e&&(e=JSON.stringify(JSON.clone(e)));e=JSON.parse(e.replace(/"(true|false)"/gi,'$1'));for(let h in b)b[h]=xa(e,b,h);return b},Ja=function(e,b,h,p){var x=JSON.parse(e.replace(/"(true|false)"/gi,'$1')),u=JSON.stringify(x);
p&&(b=h[Object.getOwnPropertyNames(h)[0]].form,h=Pb(b,x),delete h.fields._length,b=h.fields,h=h.$fields);p=[];var A=0;for(W in b)p[A]=W,A++;p.sort().reverse();for(let aa=0,Q=p.length;aa<Q;aa++){var W=p[aa].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');W=new RegExp('\\$'+W,'g');A='\\"'+b[p[aa]]+'\\"';var P=W.test(u);P&&'undefined'!=typeof x[p[aa]]?A=xa(x,b,p[aa],!0):P&&console.warn('`'+p[aa]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+p[aa]+'` to `string`.');
e=e.replace(W,A)}if(/\$(.*)/.test(e))for(let aa=0,Q=p.length;aa<Q;aa++)W=p[aa].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'),W=new RegExp('\\$'+W,'g'),A=''!=h[p[aa]].value?'\\"'+h[p[aa]].value+'\\"':'\\"\\"',(P=W.test(u))&&'undefined'!=typeof x[p[aa]]?A=xa(x,b,p[aa],!0):P&&console.warn('`'+p[aa]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+p[aa]+'` to `string`.'),e=e.replace(W,A||h[p[aa]].checked);return JSON.parse(e)},M=function(e,b,h,p,x){delete b._length;
var u=JSON.stringify(p);b=ya(u,b);/\$(.*)/.test(u)&&(p=!/^form$/i.test(e.tagName)&&1==h.count()&&/true/i.test(e.form.dataset.ginaFormLiveCheckEnabled)?!0:!1,p=Ja(u,b,h,p));var A=null,W=u=null,P=!1,aa=0;b.count();var Q=!1,w=null,ja=null,ua=null,na=0,la=null,Ca=null,Aa=null,Sa=function(Za,gb,ha){if('undefined'==typeof gb[Za]){skipTest=!1;for(var Y in gb)if(!/^_comment$/i.test(Y)&&/^\//.test(Y)&&(la=Y.match(/\/(.*)\//).pop(),Ca=Y.replace('/'+la+'/',''),la=la.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),
la=new RegExp(la,Ca),la.test(Za))){skipTest=!0;gb[Za]=gb[Y];break}if('undefined'==typeof gb[Za])return}var fa=Object.getOwnPropertyNames(gb)||[];Y=0;var qa=fa.length;if(0<qa)for(;Y<qa;)'undefined'!=typeof gb[fa[Y]].exclude&&/^true$/i.test(gb[fa[Y]].exclude)&&(fa.splice(Y,1),qa--,Y--),Y++;for(var Ra in gb[Za])if('function'==typeof Va[Za][Ra]){/^((is)\d+|is$)/.test(Ra)&&'undefined'==typeof Va[Za][Ra]&&(Va[Za][Ra]=function(){},Va[Za][Ra]=U(Va[Za][Ra],Va[Za][Ra.replace(/\d+/,'')]),Va[Za][Ra].setAlias=
function(kb){this._currentValidatorAlias=kb}(Ra));try{if(Array.isArray(gb[Za][Ra])){Aa=JSON.clone(gb[Za][Ra]);if(/\$[\-\w\[\]]*/.test(Aa[0])){var ab=Aa[0].match(/\$[\-\w\[\]]*/g);Y=0;for(var eb=ab.length;Y<eb;++Y)Aa[0]=Aa[0].replace(ab[Y],Va[ab[Y].replace('$','')].value)}Va[Za][Ra].apply(Va[Za],Aa)}else if(/^query$/.test(Ra)){w=h[Za];ja=w.getAttribute('id');ua='asyncCompleted.'+ja;var Pa=0,xb=!1;if('undefined'!=typeof gina.events[ua]){console.debug('event `'+ua+'` already added');na=0;break}++na;
addListener(gina,w,ua,function(kb){kb.preventDefault();Pa++;--na;var ib=Object.getOwnPropertyNames(gb[Za]);ib[ib.length-1]==Ra&&(Q=!0);ib='asyncCompleted.'+kb.target.getAttribute('id');if(!/true/.test(xb)){Va[Za]=kb.detail;var ob=e;/^form$/i.test(e.tagName)||(ob=e.form);var rb=ob.getAttribute('id');if(Q&&0>=na&&!xb&&(xb=!0,removeListener(gina,kb.target,ib),x._data=Va.toData(),x._errors=Va.getErrors(Za),x._errors&&0<x._errors.count())){'undefined'==typeof q.$forms[rb].errors&&(q.$forms[rb].errors=
{});q.$forms[rb].errors[Za]=x._errors[Za];if(!mb&&/^true|false$/i.test(q.$forms[rb].isValidating)||''!=Va[Za].target.value)r(Ob[Za]),E(ob,x._errors,x._data,Za),Eb(ob,mb);S&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:rb,errors:q.$forms[rb].errors||{}}));triggerEvent(gina,ob,'validated.'+rb,x);return}kb=!1;var mb=null;1==fa.length||fa[fa.length-1]==Za?(mb=0<x._errors.count()?!1:!0,!mb&&/^true|false$/i.test(q.$forms[rb].isValidating)&&
(q.$forms[rb].errors=V(x._errors,q.$forms[rb].errors),r(Ob[Za]),E(ob,x._errors,x._data,Za),Eb(ob,mb)),triggerEvent(gina,ob,'validated.'+rb,x)):/^true$/i.test(q.$forms[rb].isValidating)&&1<fa.length&&fa[fa.length-1]!=Za&&(kb=!0);kb&&M(ob,Hb,Ob,gb,function(Nb){q.$forms[rb].isValidating=!1;mb=Nb.isValid();S&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:rb,errors:Nb.error||{}}));E(ob,Nb.error,Nb.data,Za);
Eb(ob,mb)})}});Va[Za][Ra](gb[Za][Ra]);continue}else Va[Za][Ra](gb[Za][Ra]);delete ha[Za]}catch(kb){if('conditions'==Ra)throw Error('[ ginaFormValidator ] could not evaluate `'+Za+'->'+Ra+'()` where `conditions` must be a `collection` (Array)\nStack:\n'+kb);throw Error('[ ginaFormValidator ] could not evaluate `'+Za+'->'+Ra+'()`\nStack:\n'+kb);}}},Va=null,qb={},sb=!1;K?/^form$/i.test(e.tagName)?(A=e.getAttribute('id'),u='validated.'+A,q.$forms[A].fields=b,'undefined'!=typeof e.eventData&&'undefined'!=
typeof e.eventData.error&&delete e.eventData.error,Va=new l(b,h,B)):(sb=!0,A=e.form.getAttribute('id')||e.form.target.getAttribute('id'),u='validated.'+A,q.$forms[A].fields=b,Va=new l(b,h,B,q.$forms[A].fieldsSet)):Va=new l(b,null,B);var Hb=null,Ob=null;if(sb){sb=e.form.getAttribute('id');var zb=Pb(q.$forms[sb].target,q.$forms[sb].rules,!1);Hb=ya(JSON.stringify(q.$forms[sb].rules),JSON.clone(zb.fields));Ob=zb.$fields}else Hb=JSON.clone(b),Ob=h;sb='undefined'!=typeof p?JSON.clone(p):{};var Vb=function(Za,
gb,ha,Y,fa,qa,Ra,ab){var eb=null;if('undefined'!=typeof qa)for(var Pa in Y){var xb=fa[Pa].getAttribute('type');if(K&&'undefined'==typeof fa[Pa])console.warn('field `'+Pa+'` found for your form rule ('+Za.id+'), but not found in $field collection.\nPlease, check your HTML or remove `'+Pa+'` declaration from your rule if this is a mistake.');else{K&&fa[Pa].getAttribute('data-gina-form-element-group')&&'undefined'!=typeof qa[Pa]&&'undefined'!=typeof qa[Pa].exclude&&qa[Pa].exclude&&!fa[Pa].disabled&&
(qa[Pa].exclude=!1);var kb='undefined'!=typeof qa['_case_'+Pa]?!0:!1;if(K&&'input'==fa[Pa].tagName.toLowerCase()&&/^(checkbox)$/i.test(xb))if(!fa[Pa].checked&&'undefined'!=typeof qa[Pa]&&'undefined'!=typeof qa[Pa].isRequired&&/^(false)$/i.test(qa[Pa].isRequired)||fa[Pa].disabled)qa[Pa]={exclude:!0};else{if(!fa[Pa].checked&&'undefined'==typeof qa[Pa])continue}else K&&'input'==fa[Pa].tagName.toLowerCase()&&/^(radio)$/i.test(xb)&&console.debug('Radio: ',fa[Pa].id,fa[Pa].checked,fa[Pa].value);for(var ib in qa)if(/^_case_/.test(ib)&&
'undefined'!=typeof qa[ib].conditions&&(!Array.isArray(qa[ib].conditions)||qa[ib].conditions.length)&&'undefined'!=typeof qa[ib].conditions[0].rules&&'undefined'!=typeof qa[ib].conditions&&Array.isArray(qa[ib].conditions))if(eb=ib.replace('_case_',''),'undefined'==typeof Ob[eb])console.warn('Found case `'+ib+'` but field `'+eb+'` is misssing in the dom.\n You should add `'+eb+'` element to your form in order to allow Validator to process this case.');else{'undefined'==typeof gb[eb]&&(gb[eb]=Ob[eb].value);
xb=gb[eb];K&&('true'==Y[Pa]?xb=!0:'false'==Y[Pa]&&(xb=!1));for(var ob=0,rb=qa[ib].conditions.length;ob<rb;++ob)if(qa[ib].conditions[ob].case==xb)for(var mb in qa[ib].conditions[ob].rules)if(!/^_comment$/i.test(mb)&&mb!=eb&&fa[mb])if(Pa==mb||/^\//.test(mb)||'undefined'!=typeof Y[mb]||'undefined'==typeof gb[mb])if(/^\//.test(mb)){if(la=mb.match(/\/(.*)\//).pop(),Ca=mb.replace('/'+la+'/',''),la=la.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),la=new RegExp(la,Ca),la.test(Pa)){if(qa[ib].conditions[ob].case==
xb||/^\//.test(qa[ib].conditions[ob].case)&&(new RegExp(qa[ib].conditions[ob].case)).test(xb))Nb='undefined'!=typeof qa[mb]?qa[mb]:{},qa[mb]=V(qa[ib].conditions[ob].rules[mb],Nb);eb!=mb&&'undefined'!=typeof qa[mb]&&Sa(mb,qa,Y)}}else'undefined'!=typeof qa[ib].conditions[ob].rules[mb]&&(caseField=mb,xb=Y[caseField],'undefined'==typeof fa[caseField]?console.warn('ignoring case `'+caseField+'`: field `NaN'):(K&&/^(true|false)$/i.test(xb)&&'undefined'!=typeof qa[caseField]&&'undefined'!=typeof qa[caseField].isBoolean&&
/^(true)$/i.test(qa[caseField].isBoolean)&&(xb=/^(true)$/i.test(xb)?!0:!1),'undefined'!=typeof qa[ib].conditions[ob].rules[mb]&&(Nb='undefined'!=typeof qa[ib].conditions[ob].rules[mb]?qa[ib].conditions[ob].rules[mb]:{},qa[mb]=Nb),eb!=mb&&'undefined'!=typeof qa[mb]&&'undefined'!=typeof Y[mb]&&Sa(mb,qa,Y)));else{Y[mb]=gb[mb];var Nb='undefined'!=typeof qa[mb]?qa[mb]:{};qa[mb]=V(qa[ib].conditions[ob].rules[mb],Nb);Sa(mb,qa,Y)}}if(eb!=Pa&&('undefined'!=typeof qa[Pa]&&Sa(Pa,qa,gb),kb)){++ab;kb=qa['_case_'+
Pa].conditions;if(!kb)throw Error('[ ginaFormValidator ] case `_case_'+Pa+'` found without `condition(s)` !\nPlease, check your delcaration for `_case_'+Pa+'`');for(let Kb=0,Zb=kb.length;Kb<Zb;++Kb)if(xb=gb[Pa],K&&('true'==Y[Pa]?xb=!0:'false'==Y[Pa]&&(xb=!1)),kb[Kb]['case']===xb||Array.isArray(kb[Kb]['case'])&&-1<kb[Kb]['case'].indexOf(xb)||/^\//.test(kb[Kb]['case'])){Nb={};if('undefined'==typeof kb[Kb].rules[Pa]&&'undefined'==typeof gb[Pa]||fa[Pa].disabled)kb[Kb].rules[Pa]={exclude:!0};for(var Db in kb[Kb].rules)if(!/^_comment$/i.test(Db))if(/^\//.test(Db)){la=
Db.match(/\/(.*)\//).pop();Ca=Db.replace('/'+la+'/','');la=la.replace(/\[/g,'\\[').replace(/\]/g,'\\]');la=new RegExp(la,Ca);for(var Ib in fa)la.test(Ib)&&(/^\//.test(kb[Kb]['case'])?(la=kb[Kb]['case'].match(/\/(.*)\//).pop(),Ca=kb[Kb]['case'].replace('/'+la+'/',''),la=new RegExp(la,Ca),la.test(xb)&&(Nb[Ib]=kb[Kb].rules[Db])):Nb[Ib]=kb[Kb].rules[Db],'undefined'==typeof Y[Ib]&&'undefined'!=typeof fa[Ib]&&'undefined'!=typeof fa[Ib].value&&(Y[Ib]=fa[Ib].value,K&&/(true|false)/i.test(Y[Ib])&&('true'==
Y[Ib]?Y[Ib]=!0:'false'==Y[Ib]&&(Y[Ib]=!1)),Va.addField(Ib,Y[Ib]),'undefined'!=typeof ha[Ib]&&(Nb[Ib]=V(Nb[Ib],ha[Ib]))))}else/^\//.test(kb[Kb]['case'])?(la=kb[Kb]['case'].match(/\/(.*)\//).pop(),Ca=kb[Kb]['case'].replace('/'+la+'/',''),la=la.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),la=new RegExp(la,Ca),la.test(xb)&&(Nb[Db]=kb[Kb].rules[Db])):Nb[Db]=kb[Kb].rules[Db],'undefined'==typeof Y[Db]&&'undefined'!=typeof fa[Db]&&'undefined'!=typeof fa[Db].value&&(Y[Db]=fa[Db].value,K&&/(true|false)/i.test(Y[Db])&&
('true'==Y[Db]?Y[Db]=!0:'false'==Y[Db]&&(Y[Db]=!1)),Va.addField(Db,Y[Db]),'undefined'!=typeof ha[Db]&&(Nb[Db]=V(Nb[Db],ha[Db])));++aa;if(K)Vb(Za,gb,ha,Y,fa,Nb,Ra,ab);else return Vb(Za,gb,ha,Y,fa,Nb,Ra,ab)}--ab}}}--aa;if(0>=ab&&0>aa){gb=Va.getErrors();for(Pa in gb){for(rule in gb[Pa])qb[Pa]||(qb[Pa]=''),0>qb[Pa].indexOf(rule)&&(qb[Pa]+=rule+' ');K&&fa[Pa].setAttribute('data-gina-form-errors',qb[Pa].substr(0,qb[Pa].length-1))}try{W=Ka(Va.toData()),S&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&
(gina.forms.validated||(gina.forms.validated={}),gina.forms.validated[A]||(gina.forms.validated[A]={}),window.ginaToolbar.update('forms',{id:A,validated:W}))}catch(Kb){throw Kb;}Q=!0;if(!P&&0>=na)if('undefined'!=typeof Ra&&'function'===typeof Ra)Ra._errors=Va.getErrors(),Ra._data=Va.toData(),triggerEvent(gina,Za,'validated.'+A,Ra);else return P=!0,{isValid:Va.isValid,error:gb,data:W}}};K&&addListener(gina,e,u,function(Za){Za.preventDefault();if(!P){P=!0;Q=!1;na=0;var gb=Za.detail,ha=gb._data||Va.toData(),
Y=gb._errors||Va.getErrors()||null;console.debug('instance errors: ',q.$forms[A].errors,' VS cbErrors: ',Y,Va.isValid(),' VS d.getErrors(): ',Va.getErrors());0<Y.count()&&Va.isValid()&&(Va.isValid=function(){return!1});gb({isValid:Va.isValid,error:Y,data:Ka(ha)});removeListener(gina,Za.target,'validated.'+Za.target.id)}});if(K)Vb(e,Hb,sb,b,h,p,x,0);else return Vb(e,Hb,sb,b,h,p,x,0)};return K?Qa(D):H(D,O,ca)}
'undefined'!==typeof module&&module.exports?module.exports=ValidatorPlugin:'function'===typeof define&&define.amd&&define('gina/validator',['utils/events','utils/dom','lib/form-validator'],function(){return ValidatorPlugin});
define('gina/toolbar','require jquery vendor/uuid lib/collection lib/routing gina/storage gina/validator'.split(' '),function(D){var O=D('jquery');O.noConflict();var ca=D('lib/routing');D('lib/collection');var Ea=D('gina/storage');return function(){var K=null,S=!1,oa=!1,V=!1,U,l=(new Ea({bucket:'gina'})).Collection('plugin'),T=null,q=null,da=!1,za=null,N=null,L=null,B=null,H=null,n='',z=null,y=null,F=null,r='',v=null,E=0,I=0,R=0,sa='',Ga={},X=null,ia=null,ea=null,wa=null,ka=null,ta=null,Da=null,Qa=
null,La=null,Fa=null,Oa=null,Ia=null,Ka=null,Ya=null,pb=function(){T=O('#gina-toolbar');if(!T.length)return!1;za=T.find('.gina-toolbar-tab > a');N=O('#gina-toolbar-toggle');L=O('#gina-toolbar-panels');B=L.find('.gina-toolbar-panel');z=O('#gina-toolbar-vposition');y=O('#gina-toolbar-hposition');F=z.add(y);v=O('#gina-toolbar-width');T.find('.gina-toolbar-main');X=O('#gina-toolbar-json');ia=O('#gina-toolbar-gina-json');ea=O('#gina-toolbar-toggle-code-raw');$forms=O('form:not(.gina-toolbar-options, .gina-toolbar-content)');
La=O('#gina-toolbar-data-html');Fa=O('#gina-toolbar-view-html');Oa=O('#gina-toolbar-forms-html');Qa=O('#gina-toolbar-configuration-environment-html');Ia=O('#gina-toolbar-code-toggle');T.prepend('<textarea class="gina-toolbar-copy"></textarea>');Ka=T.find('.gina-toolbar-copy');q=l.findOne({_name:'toolbar'});q||(q={_name:'toolbar',_version:'1.0.3',_description:'Toolbar settings',_licence:'MIT',_author:[{name:'Fabrice Delaneau',company:'Freelancer'},{name:'Martin-Luther Etouman',company:'Rhinostone'}],
position:'top-right',width:'30',panelId:'#gina-toolbar-data',isCollapsed:!0,isUnfolded:[],debug:{forms:{active:!1,strategy:'frontend'}}},l.insert(q),q=l.findOne({_name:'toolbar'}));'1.0.3'!=q._version&&('1.0.1'>q._version&&(q.isUnfolded||(q.isUnfolded=[]),void 0!=q.codeFolding&&delete q.codeFolding),'undefined'==typeof q.isUnfolded||Array.isArray(q.isUnfolded)||(q.isUnfolded=[]),q._version='1.0.3',q.save(!0));r=q.position;E=q.width;n=q.panelId;da=q.isCollapsed;T.removeClass('gina-toolbar-hidden');
bc()},$a=function(h,p,x){var u=null,A=null;try{A=X?X.text():'',''==A||'null'==A?X.text('{}'):(ka=JSON.parse(A),Da=JSON.parse(ia.text()),X.text(''),wa||(wa={jsonObject:JSON.clone(ka),ginaJsonObject:JSON.clone(Da)},ta={}))}catch(ja){console.error('Could not load'+(h?' [ '+h+' ] ':' ')+'json\n'+ja.message+'\n'+ja.stack)}if(ka){p&&!x?(ka[h]||(ka[h]={}),ka[h]=Da[h]=p):'data-xhr'==h&&!p&&ka['data-xhr']?delete ka['data-xhr']:x&&(ka=p,Da=x);b(ka,'');Da.environment&&(delete Da.environment.routing,delete Da.environment.reverseRouting,
delete Da.environment.forms);ka.environment&&(delete ka.environment.routing,delete ka.environment.reverseRouting,delete ka.environment.forms);Qa.html(db(ka.environment,Da.environment));u=ka.data;var W=ka.view;x=ka.forms;var P=Da.data,aa=Da.view;A=Da.forms;oa=U=!1;var Q=null,w=!1;/^(view-xhr)$/.test(h)&&(Q=!0,W=ka[h],aa=Da[h],u=ka['data-xhr'],P=Da['data-xhr']);if(!h||/^(data)$/.test(h))La.html('<ul class="gina-toolbar-code">'+db(u,P,null,Q)+'</ul>'),Fa.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),
Fa.html(Pb(W,aa,null,Q,Fa)),u=$forms,Oa.html(''),Oa.html(ya(x,A,Oa,0,u,u.length,Q)),Oa.find('div.gina-toolbar-section > h2').off('click').on('click',function(ja){ja.preventDefault();O(this).parent().find('ul').first().slideToggle()});if(/^(data-xhr|view-xhr)$/.test(h)){if('undefined'==typeof ka[h]||!ka[h]||'null'==ka[h])return!1;Q=!0;w='undefined'!=typeof ka[h].isXHRViewData?!0:w;w||/^(view-xhr)$/.test(h)||'undefined'==typeof ka['el-xhr']||(ta.data=JSON.clone(ka[h]));w&&delete ka[h].isXHRViewData;
/^(data-xhr)$/.test(h)?La.html('<ul class="gina-toolbar-code">'+db(ka[h],Da[h],null,Q)+'</ul>'):/^(view-xhr)$/.test(h)&&(Fa.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),Fa.html(Pb(ka[h],Da[h],null,Q,Fa)))}/^(el-xhr)$/.test(h)&&(Q=!0,u=O('#'+p).find('form:not(.gina-toolbar-options, .gina-toolbar-content)'),Oa.html(''),Oa.html(ya(x,A,Oa,0,u,u.length,
Q)),Oa.find('div.gina-toolbar-section > h2').off('click').on('click',function(ja){ja.preventDefault();O(this).parent().find('ul').first().slideToggle()}));/^(forms)$/.test(h)&&(oa=Q=!0,O('#gina-toolbar-form-'+p.id).length||(u=$forms,Oa.html(''),Oa.html(ya(x,A,Oa,0,u,u.length,Q)),Oa.find('div.gina-toolbar-section > h2').off('click').on('click',function(ja){ja.preventDefault();O(this).parent().find('ul').first().slideToggle()})),'undefined'!=typeof p.rules&&Ja(p.id,'rules',p.rules,Q),'undefined'!=typeof p.errors&&
0<p.errors.count()&&Ja(p.id,'errors',p.errors,Q),'undefined'!=typeof p.sent&&Ja(p.id,'sent',p.sent,Q));q.currentFile=ka.file;q.currentFile||(q.currentFile=ka.file);ka.file==q.currentFile&&O(document).ready(function(){oa?(S=!0,0<q.isUnfolded.length&&!U&&(U=!0,setTimeout(function(){0<q.isUnfolded.length&&jb(q.isUnfolded,q.isUnfolded.length,0)},200))):Q?(S=!0,0<q.isUnfolded.length&&!U&&(U=!0,jb(q.isUnfolded,q.isUnfolded.length,0))):(S=!1,setTimeout(function(){0<q.isUnfolded.length&&jb(q.isUnfolded,q.isUnfolded.length,
0)},200))})}if(!h||'el-xhr'==h&&!V)V=h&&'el-xhr'==h?!0:!1,xa(h)},jb=function(h,p,x){if(x==p)return!1;var u=h[x],A=null;S&&/^xhr-/.test(u)?(u=u.replace(/^xhr-/,''),A=O('.gina-toolbar-xhr-folding-state-'+u)):A=O('.gina-toolbar-folding-state-'+u);yb(A,function(){x+=1;jb(h,p,x)})},bc=function(){La.add(Fa).off('click','a').on('click','a',function(p){p.preventDefault();yb(O(this),null,!0)}).add(Oa).off('click','a').on('click','a',function(p){p.preventDefault();yb(O(this),null,!0)});Ia.off('click').on('click',
function(p){p.preventDefault();yb('all',null,!0)});La.add(Fa,Oa).off('click','.gina-toolbar-value').on('click','.gina-toolbar-value',function(p){p.preventDefault();try{Ya=O(this).text(),Ka.text(Ya),Ka.select(),document.execCommand('copy',!1,null),Ka.blur()}catch(x){alert('Please press Ctrl/Cmd+C to copy the value')}});ea.off('click').on('click',function(p){ka&&window.open('','JSON RAW','width=400,height=100').document.write(JSON.stringify(ka.data))});za.off('click').on('click',function(p){p.preventDefault();
za.removeClass('gina-toolbar-active');B.removeClass('gina-toolbar-active');O(this).addClass('gina-toolbar-active');n=O(this).attr('href');H=O(n).addClass('gina-toolbar-active');q.panelId=n;q.save()});N.off('click').on('click',function(p){p.preventDefault();T.toggleClass('gina-toolbar-collapsed');da=T.hasClass('gina-toolbar-collapsed');q.isCollapsed=da;q.save()});F.off('change').on('change',function(p){p.preventDefault();p=z.val();var x=y.val();r=p+'-'+x;$b(r);q.position=r;q.save()});v.off('change').on('change',
function(p){p.preventDefault();E=v.val();fb(E);q.width=E;q.save()});O(window).off('resize').on('resize',function(){Cb()});O('body').off('keypress').on('keypress',function(p){if(!/INPUT|TEXTAREA/.test(p.target.tagName)){sa=p.keyCode?p.keyCode:p.which?p.which:p.charCode;p=new Date;if('undefined'!=typeof Ga.keynum&&Ga.keynum==sa&&'undefined'!=typeof Ga.pressTime&&500>p.getTime()-Ga.pressTime)switch(sa){case 103:T.toggle()}Ga.pressTime=p.getTime();Ga.keynum=sa}});za.filter('[href="'+n+'"]').trigger('click');
da||O('#gina-toolbar-toggle').trigger('click');$b(r);var h=r.split('-');z.val(h[0]);y.val(h[1]);fb(E);v.val(E);Cb();h=X?X.text():'';/^\{\{ (.*) \}\}/.test(h)?e(h,$a):$a()},$b=function(h){T.removeClass('gina-toolbar-top-left gina-toolbar-top-right gina-toolbar-bottom-left gina-toolbar-bottom-right').addClass('gina-toolbar-'+h)},fb=function(h){T.removeClass('gina-toolbar-auto gina-toolbar-100 gina-toolbar-80 gina-toolbar-60 gina-toolbar-50 gina-toolbar-40 gina-toolbar-30').addClass('gina-toolbar-'+
h)},Cb=function(){I=window.innerHeight-32;T.find('.gina-toolbar-main').css('max-height',I+'px');var h=H.find('.gina-toolbar-main'),p=h.find('.gina-toolbar-content');R=h.height();R==I?p.addClass('gina-toolbar-content-end'):p.removeClass('gina-toolbar-content-end')},yb=function(h,p,x){'undefined'==typeof x&&(x=!1);if(void 0!=h&&h.length&&'all'!=h){K=h.attr('class');var u=!1;if(/(gina-toolbar-folding-state-[a-z 0-9_-]+|gina-toolbar-xhr-folding-state-[a-z 0-9_-]+)/i.test(K))if(/gina-toolbar-folding-state-[a-z0-9_-]+/i.test(K)?
K=K.match(/gina-toolbar-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-folding-state-/,''):(u=!0,'undefined'!=typeof K&&(K=K.match(/gina-toolbar-xhr-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-xhr-folding-state-/,'xhr-'))),0>q.isUnfolded.indexOf(K))q.isUnfolded.push(K),q.save(),h.hasClass('gina-toolbar-unfolded')||(h.addClass('gina-toolbar-unfolded'),h.next('ul').slideToggle('fast'));else if(-1<q.isUnfolded.indexOf(K)&&h.hasClass('gina-toolbar-unfolded')){for(var A=new RegExp('^('+
K+')'),W=0,P=q.isUnfolded.length;W<P;++W)A.test(q.isUnfolded[W])&&(!oa&&x||oa&&u||x)&&(q.isUnfolded.splice(W,1),--W);q.save(!0);0>q.isUnfolded.indexOf(K)&&(h.removeClass('gina-toolbar-unfolded'),h.next('ul').slideToggle('fast'))}else h.addClass('gina-toolbar-unfolded'),h.next('ul').slideToggle('fast')}'undefined'!=typeof p&&null!=p&&p()},Gb=function(h){var p={},x=null,u=[],A=0;for(x in h)h.hasOwnProperty(x)&&(u[A]=x,++A);var W=u.length;u.sort();for(A=0;A<W;++A)x=u[A],p[x]=h[x];return p},Na=function(h,
p){var x='';if('undefined'!=typeof h&&''!=h){var u=h;'string'==typeof h&&(u=h.replace(/(\]\[|\[)/g,'-').replace(/\]/,'').replace(/[^A-Za-z0-9_-]/g,'_'));x+=u+'-'}'undefined'!=typeof p&&''!=p?(h=p,'string'==typeof p&&(h=p.replace(/(\]\[|\[)/g,'-').replace(/\]/,'')),x+=h):x=x.substr(0,x.length-1);return x.trim()},db=function(h,p,x,u,A){var W='';x='undefined'!=typeof x&&null!=x?x.replace(/[^A-Za-z0-9_-]/g,'_'):'';var P='undefined'!=typeof A&&null!=A?A:'',aa='undefined'!=typeof u&&null!=u?'-xhr':'';h=
Gb(h);p=Gb(p);for(var Q in h)if('object'!=typeof h[Q]||Array.isArray(h[Q])||null===h[Q])if(Array.isArray(h[Q])){x+='-'+Q.replace(/[^A-Za-z0-9_-]/g,'_');var w=0<h[Q].length||'undefined'!=typeof p[Q]&&0<p[Q].length?'':' is-empty';W+='<li class="gina-toolbar-collection">';W+='<a href="#" class="gina-toolbar-key gina-toolbar'+aa+'-folding-state-'+Na(P,Q.replace(/[^A-Za-z0-9_-]/g,'_'))+w+'">'+Q+' <span>['+h[Q].length+']</span></a>';W+='<ul class="gina-toolbar-collection">'+Eb(h[Q],p[Q],x,u,A)+'</ul>';
W+='</li>';x=x.substr(0,x.length-Q.length)}else w=null===p[Q]?'null':typeof p[Q],'undefined'==w?(W+='<li class="gina-toolbar-key-value">',W+='<span class="gina-toolbar-key gina-toolbar-key-added">'+Q+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+w+'">'+h[Q]+'</span>'):(h[Q]!==p[Q]&&(W+='<li class="gina-toolbar-key-value gina-toolbar-is-overridden">',W+='<span class="gina-toolbar-key">'+Q+':</span> <span class="gina-toolbar-value">'+p[Q]+'</span>',W+='</li>'),W+='<li class="gina-toolbar-key-value">',
W+='<span class="gina-toolbar-key">'+Q+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+w+'">'+h[Q]+'</span>'),W+='</li>';else x+='-'+Q.replace(/[^A-Za-z0-9_-]/g,'_'),w=0<h[Q].count()||'undefined'!=typeof p[Q]&&0<p[Q].count()?'':' is-empty',W+='<li class="gina-toolbar-object">',W+='<a href="#" class="gina-toolbar-key gina-toolbar'+aa+'-folding-state-'+Na(P,Q.replace(/[^A-Za-z0-9_-]/g,'_'))+w+'">'+Q+' <span>{ }</span></a>',W+='<ul class="gina-toolbar-object">'+db(h[Q],p[Q],x,
u,A)+'</ul>',W+='</li>',x=x.substr(0,x.length-Q.length);return W},Eb=function(h,p,x,u,A){var W='';x='undefined'!=typeof x&&null!=x?x:'';var P='undefined'!=typeof A&&null!=A?A:'',aa='undefined'!=typeof u&&null!=u?'-xhr':'';p||=[];for(var Q=0,w=h.length;Q<w;++Q)'object'!=typeof h[Q]||Array.isArray(h[Q])?Array.isArray(h[Q])?(x+='-'+Q,''==P&&(P=x),W+='<li class="gina-toolbar-collection">',W+='<a href="#" class="gina-toolbar-key gina-toolbar'+aa+'-folding-state-'+Na(P,Q)+'">'+Q+'<span>[ ]</span></a>',
W+='<ul class="gina-toolbar-collection">'+Eb(h[Q],p[Q],x,u,A)+'</ul>',W+='</li>',x=x.substr(0,x.length-Q.toString().length)):W+='<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+Q+':</span> <span class="gina-toolbar-value">'+h[Q]+'</span></li>':(p[Q]||(p[Q]=h[Q]),x+='-'+Q,''==P&&(P=x),W+='<li class="gina-toolbar-object">',W+='<a href="#" class="gina-toolbar-key gina-toolbar'+aa+'-folding-state-'+Na(P,Q)+'">'+Q+' <span>{ }</span></a>',W+='<ul class="gina-toolbar-object">'+db(h[Q],
p[Q],x,u,A)+'</ul>',W+='</li>',x=x.substr(0,x.length-Q.toString().length-1));return W},Pb=function(h,p,x,u,A,W){x=null!=x?x.replace(/[^A-Za-z0-9_-]/g,'_'):'';var P='undefined'!=typeof u&&null!=u?'-xhr':'';h=Gb(h);p=Gb(p);W||=A;for(var aa in h){var Q=aa;if('object'!=typeof h[aa]||Array.isArray(h[aa])||null===h[aa])if(Array.isArray(h[aa])){var w=O('#gina-toolbar-view-'+x.substr(0,x.length-1));var ja=w.length?!0:!1;!ja||/^html/.test(x)?(w=O('.'+x),ja=x+aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-',w.append('<li class="gina-toolbar-collection"><a href="#" class="gina-toolbar-key gina-toolbar'+
P+'-folding-state-'+Na(aa.replace(/[^A-Za-z0-9_-]/g,'_'),ja.substr(0,ja.length-1))+'">'+aa+' <span>['+h[aa].length+']</span></a><ul> '+Eb(h[aa],p[aa],ja,w.find('li ul.'+x.substr(0,x.length-1)),Q)+'</ul></li>')):(ja=x+aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-',w.find('li.'+x.substr(0,x.length-1)+' ul').append('<li class="gina-toolbar-collection"><a class="gina-toolbar-key gina-toolbar'+P+'-folding-state-'+Na(aa.replace(/[^A-Za-z0-9_-]/g,'_'),ja.substr(0,ja.length-1))+'">'+aa+' <span>['+h[aa].length+']</span></a><ul>'+
Eb(h[aa],p[aa],ja,w.find('li ul.'+x.substr(0,x.length-1)),Q)+'</ul></li>'));x+=aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-';x=x.substr(0,x.length-aa.length-1)}else if(Q=null===p[aa]?'null':typeof p[aa],'undefined'==Q)/\-$/.test(x)&&(x=x.substr(0,x.length-1)),x&&A.find('ul.'+x).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key gina-toolbar-key-added">'+aa+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+h[aa]+'</span></li>');else if(h[aa]!==p[aa]){x||(x+=
aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-');try{A.find('ul.'+x).append('<li class="gina-toolbar-key-value gina-toolbar-is-overridden"><span class="gina-toolbar-key">'+aa+':</span> <span class="gina-toolbar-value">'+p[aa]+'</span></li>'),A.find('ul.'+x).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+aa+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+h[aa]+'</span></li>')}catch(ua){throw Error('GinaToolbarError: `ul.'+x+'` not found');}}else!x||
/^html\-properties/.test(x)?W.find('.gina-toolbar-properties').append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+aa+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+h[aa]+'</span></li>'):W.find('ul.'+x.substr(0,x.length-1)).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+aa+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+h[aa]+'</span></li>');else w=O('#gina-toolbar-view-'+x.substr(0,x.length-
1)),(ja=w.length?!0:!1)?(ja=x+aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-',w.find('ul.'+x.substr(0,x.length-1)).append('<li class="gina-toolbar-object"><a href="#" class="gina-toolbar-key gina-toolbar'+P+'-folding-state-'+Na(aa.replace(/[^A-Za-z0-9_-]/g,'_'),ja.substr(0,ja.length-1))+'">'+aa+' <span>{ }</span></a><ul class="gina-toolbar-object '+ja.substr(0,ja.length-1)+'"></ul></li>'),Pb(h[aa],p[aa],ja,u,w.find('ul.'+x.substr(0,x.length-1)),W),x+=aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-'):(x+=aa.replace(/[^A-Za-z0-9_-]/g,
'_')+'-','params'==aa?(Q='<div id="gina-toolbar-view-'+x.substr(0,x.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+x.substr(0,x.length-1)+'</h2><ul class="'+x.substr(0,x.length-1)+'"></ul></div>',O('#gina-toolbar-view-html-properties').before(Q)):/^html/.test(x)||(Q='<div id="gina-toolbar-view-'+x.substr(0,x.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+x.substr(0,x.length-1)+'</h2><ul class="'+x.substr(0,x.length-1)+'"></ul></div>',
A.append(Q)),Pb(h[aa],p[aa],x,u,A.find('ul.'+x.substr(0,x.length-1)),W)),x=x.substr(0,x.length-aa.length-1)}return W.html()},xa=function(h){h=gina.hasPopinHandler?gina.popin.getActivePopin():null;var p,x=(gina.hasPopinHandler?O('#'+h.id):O('body')).html().match(/404:\[(.+)\](.+)@(.+)"/gm);if(x){var u=0;for(p=x.length;u<p;++u){h=x[u].replace(/"(.*)|"/g,'');var A=h.match(/\[(.*)\]/g,'')[0].replace(/\[|\]/g,'');ca.getRouteByUrl(h,A)}}fLen=ca.notFound.count();if(0<fLen)for(f in ca.notFound)console.warn('(x'+
ca.notFound[f].count+') '+f+' => '+ca.notFound[f].message)},ya=function(h,p,x,u,A,W,P){if(!W)return!1;for(var aa=A[u].attributes,Q,w=A[u].getAttribute('id')||A[u].id,ja=O('<div id="gina-toolbar-form-'+w+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+w+'</h2><ul class="gina-toolbar-section-content gina-toolbar-code" style="display: none;"><li class="gina-toolbar-form-attributes"><h3 class="gina-toolbar-sub-section-title">'+'gina-toolbar-form-attributes'.replace(/gina-toolbar-form-/,
'')+'</h3><ul class="gina-toolbar-code"></ul></li></ul></div>'),ua,na,la=null,Ca=0,Aa=aa.length;Ca<Aa;++Ca)ua=aa[Ca].name,na=aa[Ca].nodeValue,/^method$/.test(ua)&&(na=na.toUpperCase()),/^class$/.test(ua)&&/\s+/.test(na)&&(na='<ul><li>'+na.replace(/\s+/g,'</li><li>')+'</li></ul>'),/^action$/.test(ua)&&((Q='undefined'!=typeof aa.method?aa.method.nodeValue:void 0)||console.warn('[ ToolbarFormHelper::UndefinedMethod : form `'+aa.id.nodeValue+'` method attribute cannot be left undefined !'),Q=ca.getRouteByUrl(na,
Q),'undefined'!=typeof Q&&Q||(Q={name:'not found',namespace:'not found',param:{control:'not found',file:'not found'}}),na='<ul><li><span class="gina-toolbar-key">url</span><span class="gina-toolbar-value">'+(na||'#')+'</span></li><li><span class="gina-toolbar-key">route</span><span class="gina-toolbar-value">'+Q.name+'</span></li><li><span class="gina-toolbar-key">namespace</span><span class="gina-toolbar-value">'+(Q.namespace||'root controller')+'</span></li><li><span class="gina-toolbar-key">control</span><span class="gina-toolbar-value">'+
Q.param.control+'</span></li><li><span class="gina-toolbar-key">file</span><span class="gina-toolbar-value">'+Q.param.file+'</span></li><ul>',la='<li><span class="gina-toolbar-key">'+ua+':</span><span class="gina-toolbar-value">'+na+'</span></li>'),/^data-gina-form-event/.test(ua)?(Q='events',la=ja.find('.gina-toolbar-form-attributes').find('.gina-toolbar-key-events').length?!0:!1,ua=ua.replace(/^data-gina-form-event-/,''),la||ja.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+
Q+'"><h3 class="gina-toolbar-sub-section-title">'+Q+'</h3><ul class="gina-toolbar-code"></ul></li>'),la='<li><span class="gina-toolbar-key">'+ua+':</span><span class="gina-toolbar-value">'+na+'</span></li>',ja.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+Q+' > ul').append(la)):(/^action$/.test(ua)||(la='<li><span class="gina-toolbar-key">'+ua+':</span><span class="gina-toolbar-value">'+na+'</span></li>'),ja.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-attributes > ul').append(la));
aa=null;try{var Sa=A[u].getAttribute('data-gina-form-rule');aa='undefined'!=typeof Sa&&null!=Sa?eval('gina.forms.rules.'+Sa.replace(/-/g,'.')):eval('gina.forms.rules.'+w.replace(/-/g,'.'))}catch(Va){}aa&&(Q='rules',ja.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+Q+'"><h3 class="gina-toolbar-sub-section-title">'+Q+'</h3><ul class="gina-toolbar-properties">'+db(aa,aa,w,P,Q)+'</ul></li>'));x.append(ja);++u;u<W&&ya(h,p,x,u,A,W,P)},Ja=function(h,p,x,u){var A=O('#gina-toolbar-form-'+
h);$section=A.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+p+'> ul');if(0<$section.length){if(0==x.count())return A.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+p).remove(),!1;$section.html(db(x,x,h,u,p))}else A.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+p+'"><h3 class="gina-toolbar-sub-section-title">'+p+'</h3><ul class="gina-toolbar-properties">'+db(x,x,h,u,p)+'</ul></li>');h=A.find('ul.gina-toolbar-section-content');
h.is(':visible')||h.slideToggle()},M=function(h,p){return h='<label class="gina-toolbar-input-file"><input type="file" multiple id="'+(h+'">')+p+'</label>'},e=function(h,p){h=M('mock','Select your JSON file');La.html(h);X.text('');La.find('input').off('change').on('change',function(x){var u=O(this)[0].files,A=x=null;if(1==u.length)x=O(this)[0].files[0],A=new FileReader,A.addEventListener('load',function(){X.text(A.result);ia.text(A.result);p()},!1),A.readAsBinaryString(x);else{var W=0;A=[];for(var P=
0,aa=u.length;P<aa;++P)switch(x=u[P],!0){case /user/.test(x.name):A[P]=new FileReader;A[P].addEventListener('load',function(Q){X.text(Q.currentTarget.result);++W;W==u.length&&p()},!1);A[P].readAsBinaryString(x);break;case /gina/.test(x.name):A[P]=new FileReader,A[P].addEventListener('load',function(Q){ia.text(Q.currentTarget.result);++W;W==u.length&&p()},!1),A[P].readAsBinaryString(x)}}});return!1},b=function(h,p){for(var x in h)'object'==typeof h[x]&&b(h[x],p+x+'-')};this.update=function(h,p){$a(h,
p)};this.restore=function(){ta&&'undefined'!=typeof ta.data&&(wa.jsonObject.data=ta.data);$a('data',wa.jsonObject,wa.ginaJsonObject);V=!1;ca.notFound={}};if('undefined'!=typeof gina.validator)gina.validator.on('initialized',function(){console.log('toolbar validator ready');pb()});else pb()}});
define('gina','require vendor/uuid lib/merge utils/events helpers/prototypes helpers/dateFormat gina/toolbar'.split(' '),function(D){D('utils/events');var O=D('lib/merge'),ca=D('helpers/dateFormat')();D('helpers/prototypes')({dateFormat:ca});var Ea=D('vendor/uuid');window.process||function(K,S,oa,V,U,l,T){for(l=K[oa]||(K[oa]={});!T&&U<V.length;)T=K[V[U++]+'requestAnimationFrame'];l[S]=l[S]||T&&T.bind(K)||K.setImmediate||K.setTimeout}(window,'nextTick','process',['r','webkitR','mozR','msR','oR'],0);
window.getComputedStyle||(window.getComputedStyle=function(K,S){this.el=K;this.getPropertyValue=function(oa){var V=/(\-([a-z]){1})/g;'float'==oa&&(oa='styleFloat');V.test(oa)&&(oa=oa.replace(V,function(U,l,T){return T.toUpperCase()}));return K.currentStyle[oa]?K.currentStyle[oa]:null};return this});return function(K){this.plugin='gina';var S='gina-'+Ea.v1(),oa=document,V;document.id=S;S={id:S,isFrameworkLoaded:!1,hasValidator:!1,hasPopinHandler:!1,config:{},registeredEvents:{},events:{},setOptions:function(U){V=
O(V,U,!0)}};'undefined'!=typeof parent.window.gina&&(window.gina=O(window.gina||{},parent.window.gina));S=O(window.gina||{},S);registerEvents(this.plugin,['ginaloaded','ready']);triggerEvent(K,oa,'ginaloaded',S)}});
!function(D,O){'object'==typeof exports&&'undefined'!=typeof module?module.exports=O():'function'==typeof define&&define.amd?define('vendor/engine.io',O):(D='undefined'!=typeof globalThis?globalThis:D||self).eio=O()}(this,function(){function D(xa){return D='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(ya){return typeof ya}:function(ya){return ya&&'function'==typeof Symbol&&ya.constructor===Symbol&&ya!==Symbol.prototype?'symbol':typeof ya},D(xa)}function O(xa,ya){if(!(xa instanceof
ya))throw new TypeError('Cannot call a class as a function');}function ca(xa,ya){for(var Ja=0;Ja<ya.length;Ja++){var M=ya[Ja];M.enumerable=M.enumerable||!1;M.configurable=!0;'value'in M&&(M.writable=!0);Object.defineProperty(xa,M.key,M)}}function Ea(xa,ya,Ja){return ya&&ca(xa.prototype,ya),Ja&&ca(xa,Ja),xa}function K(){return K=Object.assign||function(xa){for(var ya=1;ya<arguments.length;ya++){var Ja=arguments[ya],M;for(M in Ja)Object.prototype.hasOwnProperty.call(Ja,M)&&(xa[M]=Ja[M])}return xa},
K.apply(this,arguments)}function S(xa,ya){if('function'!=typeof ya&&null!==ya)throw new TypeError('Super expression must either be null or a function');xa.prototype=Object.create(ya&&ya.prototype,{constructor:{value:xa,writable:!0,configurable:!0}});ya&&V(xa,ya)}function oa(xa){return oa=Object.setPrototypeOf?Object.getPrototypeOf:function(ya){return ya.__proto__||Object.getPrototypeOf(ya)},oa(xa)}function V(xa,ya){return V=Object.setPrototypeOf||function(Ja,M){return Ja.__proto__=M,Ja},V(xa,ya)}
function U(){if('undefined'==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(xa){return!1}}function l(xa,ya,Ja){return l=U()?Reflect.construct:function(M,e,b){var h=[null];h.push.apply(h,e);M=new (Function.bind.apply(M,h));return b&&V(M,b.prototype),M},l.apply(null,arguments)}function T(xa){var ya='function'==typeof Map?new Map:void 0;return T=function(Ja){function M(){return l(Ja,
arguments,oa(this).constructor)}if(null===Ja||(e=Ja,-1===Function.toString.call(e).indexOf('[native code]')))return Ja;var e;if('function'!=typeof Ja)throw new TypeError('Super expression must either be null or a function');if(void 0!==ya){if(ya.has(Ja))return ya.get(Ja);ya.set(Ja,M)}return M.prototype=Object.create(Ja.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),V(M,Ja)},T(xa)}function q(xa){if(void 0===xa)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return xa}function da(xa){var ya=U();return function(){var Ja=oa(xa);if(ya){var M=oa(this).constructor;Ja=Reflect.construct(Ja,arguments,M)}else Ja=Ja.apply(this,arguments);return!Ja||'object'!=typeof Ja&&'function'!=typeof Ja?q(this):Ja}}function za(xa,ya,Ja){return za='undefined'!=typeof Reflect&&Reflect.get?Reflect.get:function(M,e,b){for(;!Object.prototype.hasOwnProperty.call(M,e)&&null!==(M=oa(M)););if(M)return e=Object.getOwnPropertyDescriptor(M,e),e.get?e.get.call(b):e.value},za(xa,ya,Ja||
xa)}function N(xa){if(xa){for(var ya in N.prototype)xa[ya]=N.prototype[ya];return xa}}function L(xa){for(var ya=arguments.length,Ja=Array(1<ya?ya-1:0),M=1;M<ya;M++)Ja[M-1]=arguments[M];return Ja.reduce(function(e,b){return xa.hasOwnProperty(b)&&(e[b]=xa[b]),e},{})}function B(xa,ya){ya.useNativeTimers?(xa.setTimeoutFn=Oa.bind(Fa),xa.clearTimeoutFn=Ia.bind(Fa)):(xa.setTimeoutFn=setTimeout.bind(Fa),xa.clearTimeoutFn=clearTimeout.bind(Fa))}function H(xa){var ya='';do ya=pb[xa%64]+ya,xa=Math.floor(xa/
64);while(0<xa);return ya}function n(){var xa=H(+new Date);return xa!==Ka?($a=0,Ka=xa):xa+'.'+H($a++)}function z(xa){var ya='',Ja;for(Ja in xa)xa.hasOwnProperty(Ja)&&(ya.length&&(ya+='&'),ya+=encodeURIComponent(Ja)+'='+encodeURIComponent(xa[Ja]));return ya}function y(xa){var ya={};xa=xa.split('&');for(var Ja=0,M=xa.length;Ja<M;Ja++){var e=xa[Ja].split('=');ya[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return ya}function F(xa){xa=xa.xdomain;try{if('undefined'!=typeof XMLHttpRequest&&(!xa||
bc))return new XMLHttpRequest}catch(ya){}if(!xa)try{return new (Fa[['Active'].concat('Object').join('X')])('Microsoft.XMLHTTP')}catch(ya){}}function r(){}function v(){for(var xa in fb.requests)fb.requests.hasOwnProperty(xa)&&fb.requests[xa].abort()}function E(xa){var ya=xa,Ja=xa.indexOf('['),M=xa.indexOf(']');-1!=Ja&&-1!=M&&(xa=xa.substring(0,Ja)+xa.substring(Ja,M).replace(/:/g,';')+xa.substring(M,xa.length));var e,b;xa=db.exec(xa||'');for(var h={},p=14;p--;)h[Eb[p]]=xa[p]||'';return-1!=Ja&&-1!=M&&
(h.source=ya,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,':'),h.authority=h.authority.replace('[','').replace(']','').replace(/;/g,':'),h.ipv6uri=!0),h.pathNames=function(x,u){x=u.replace(/\/{2,9}/g,'/').split('/');'/'!=u.substr(0,1)&&0!==u.length||x.splice(0,1);'/'==u.substr(u.length-1,1)&&x.splice(x.length-1,1);return x}(0,h.path),h.queryKey=(e=h.query,b={},e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(x,u,A){u&&(b[u]=A)}),b),h}var I=Object.create(null);I.open='0';I.close='1';I.ping=
'2';I.pong='3';I.message='4';I.upgrade='5';I.noop='6';var R=Object.create(null);Object.keys(I).forEach(function(xa){R[I[xa]]=xa});for(var sa={type:'error',data:'parser error'},Ga='function'==typeof Blob||'undefined'!=typeof Blob&&'[object BlobConstructor]'===Object.prototype.toString.call(Blob),X='function'==typeof ArrayBuffer,ia=function(xa,ya,Ja){var M=xa.type;xa=xa.data;return Ga&&xa instanceof Blob?ya?Ja(xa):ea(xa,Ja):X&&(xa instanceof ArrayBuffer||('function'==typeof ArrayBuffer.isView?ArrayBuffer.isView(xa):
xa&&xa.buffer instanceof ArrayBuffer))?ya?Ja(xa):ea(new Blob([xa]),Ja):Ja(I[M]+(xa||''))},ea=function(xa,ya){var Ja=new FileReader;return Ja.onload=function(){var M=Ja.result.split(',')[1];ya('b'+M)},Ja.readAsDataURL(xa)},wa='undefined'==typeof Uint8Array?[]:new Uint8Array(256),ka=0;64>ka;ka++)wa['ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.charCodeAt(ka)]=ka;var ta='function'==typeof ArrayBuffer,Da=function(xa,ya){if('string'!=typeof xa)return{type:'message',data:Qa(xa,ya)};
var Ja=xa.charAt(0);if('b'===Ja){xa=xa.substring(1);if(ta){var M=.75*xa.length;Ja=xa.length;var e=0;'='===xa[xa.length-1]&&(M--,'='===xa[xa.length-2]&&M--);var b=new ArrayBuffer(M),h=new Uint8Array(b);for(M=0;M<Ja;M+=4){var p=wa[xa.charCodeAt(M)];var x=wa[xa.charCodeAt(M+1)];var u=wa[xa.charCodeAt(M+2)];var A=wa[xa.charCodeAt(M+3)];h[e++]=p<<2|x>>4;h[e++]=(15&x)<<4|u>>2;h[e++]=(3&u)<<6|63&A}ya=Qa(b,ya)}else ya={base64:!0,data:xa};ya={type:'message',data:ya}}else ya=R[Ja]?1<xa.length?{type:R[Ja],data:xa.substring(1)}:
{type:R[Ja]}:sa;return ya},Qa=function(xa,ya){return'blob'===ya&&xa instanceof ArrayBuffer?new Blob([xa]):xa},La=String.fromCharCode(30);N.prototype.on=N.prototype.addEventListener=function(xa,ya){return this._callbacks=this._callbacks||{},(this._callbacks['$'+xa]=this._callbacks['$'+xa]||[]).push(ya),this};N.prototype.once=function(xa,ya){function Ja(){this.off(xa,Ja);ya.apply(this,arguments)}return Ja.fn=ya,this.on(xa,Ja),this};N.prototype.off=N.prototype.removeListener=N.prototype.removeAllListeners=
N.prototype.removeEventListener=function(xa,ya){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var Ja,M=this._callbacks['$'+xa];if(!M)return this;if(1==arguments.length)return delete this._callbacks['$'+xa],this;for(var e=0;e<M.length;e++)if((Ja=M[e])===ya||Ja.fn===ya){M.splice(e,1);break}return 0===M.length&&delete this._callbacks['$'+xa],this};N.prototype.emit=function(xa){this._callbacks=this._callbacks||{};for(var ya=Array(arguments.length-1),Ja=this._callbacks['$'+
xa],M=1;M<arguments.length;M++)ya[M-1]=arguments[M];if(Ja){M=0;for(var e=(Ja=Ja.slice(0)).length;M<e;++M)Ja[M].apply(this,ya)}return this};N.prototype.emitReserved=N.prototype.emit;N.prototype.listeners=function(xa){return this._callbacks=this._callbacks||{},this._callbacks['$'+xa]||[]};N.prototype.hasListeners=function(xa){return!!this.listeners(xa).length};var Fa='undefined'!=typeof self?self:'undefined'!=typeof window?window:Function('return this')(),Oa=setTimeout,Ia=clearTimeout,Ka,Ya=function(xa){function ya(M,
e,b){var h;return O(this,ya),(h=Ja.call(this,M)).description=e,h.context=b,h.type='TransportError',h}S(ya,xa);var Ja=da(ya);return ya}(T(Error));ka=function(xa){function ya(M){var e;return O(this,ya),(e=Ja.call(this)).writable=!1,B(q(e),M),e.opts=M,e.query=M.query,e.readyState='',e.socket=M.socket,e}S(ya,xa);var Ja=da(ya);return Ea(ya,[{key:'onError',value:function(M,e,b){return za(oa(ya.prototype),'emitReserved',this).call(this,'error',new Ya(M,e,b)),this}},{key:'open',value:function(){return'closed'!==
this.readyState&&''!==this.readyState||(this.readyState='opening',this.doOpen()),this}},{key:'close',value:function(){return'opening'!==this.readyState&&'open'!==this.readyState||(this.doClose(),this.onClose()),this}},{key:'send',value:function(M){'open'===this.readyState&&this.write(M)}},{key:'onOpen',value:function(){this.readyState='open';this.writable=!0;za(oa(ya.prototype),'emitReserved',this).call(this,'open')}},{key:'onData',value:function(M){M=Da(M,this.socket.binaryType);this.onPacket(M)}},
{key:'onPacket',value:function(M){za(oa(ya.prototype),'emitReserved',this).call(this,'packet',M)}},{key:'onClose',value:function(M){this.readyState='closed';za(oa(ya.prototype),'emitReserved',this).call(this,'close',M)}}]),ya}(N);for(var pb='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''),$a=0,jb=0;64>jb;jb++);jb=!1;try{jb='undefined'!=typeof XMLHttpRequest&&'withCredentials'in new XMLHttpRequest}catch(xa){}var bc=jb,$b=null!=(new F({xdomain:!1})).responseType;jb=function(xa){function ya(M){var e;
if(O(this,ya),(e=Ja.call(this,M)).polling=!1,'undefined'!=typeof location){var b='https:'===location.protocol,h=location.port;h||=b?'443':'80';e.xd='undefined'!=typeof location&&M.hostname!==location.hostname||h!==M.port;e.xs=M.secure!==b}M=M&&M.forceBase64;return e.supportsBinary=$b&&!M,e}S(ya,xa);var Ja=da(ya);return Ea(ya,[{key:'doOpen',value:function(){this.poll()}},{key:'pause',value:function(M){var e=this;this.readyState='pausing';var b=function(){e.readyState='paused';M()};if(this.polling||
!this.writable){var h=0;this.polling&&(h++,this.once('pollComplete',function(){--h||b()}));this.writable||(h++,this.once('drain',function(){--h||b()}))}else b()}},{key:'poll',value:function(){this.polling=!0;this.doPoll();this.emitReserved('poll')}},{key:'onData',value:function(M){var e=this;(function(b,h){b=b.split(La);for(var p=[],x=0;x<b.length;x++){var u=Da(b[x],h);if(p.push(u),'error'===u.type)break}return p})(M,this.socket.binaryType).forEach(function(b){if('opening'===e.readyState&&'open'===
b.type&&e.onOpen(),'close'===b.type)return e.onClose({description:'transport closed by the server'}),!1;e.onPacket(b)});'closed'!==this.readyState&&(this.polling=!1,this.emitReserved('pollComplete'),'open'===this.readyState&&this.poll())}},{key:'doClose',value:function(){var M=this,e=function(){M.write([{type:'close'}])};'open'===this.readyState?e():this.once('open',e)}},{key:'write',value:function(M){var e=this;this.writable=!1;(function(b,h){var p=b.length,x=Array(p),u=0;b.forEach(function(A,W){ia(A,
!1,function(P){x[W]=P;++u===p&&h(x.join(La))})})})(M,function(b){e.doWrite(b,function(){e.writable=!0;e.emitReserved('drain')})})}},{key:'uri',value:function(){var M=this.query||{},e=this.opts.secure?'https':'http',b='';!1!==this.opts.timestampRequests&&(M[this.opts.timestampParam]=n());this.supportsBinary||M.sid||(M.b64=1);this.opts.port&&('https'===e&&443!==Number(this.opts.port)||'http'===e&&80!==Number(this.opts.port))&&(b=':'+this.opts.port);M=z(M);return e+'://'+(-1!==this.opts.hostname.indexOf(':')?
'['+this.opts.hostname+']':this.opts.hostname)+b+this.opts.path+(M.length?'?'+M:'')}},{key:'request',value:function(){var M=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return K(M,{xd:this.xd,xs:this.xs},this.opts),new fb(this.uri(),M)}},{key:'doWrite',value:function(M,e){var b=this;M=this.request({method:'POST',data:M});M.on('success',e);M.on('error',function(h,p){b.onError('xhr post error',h,p)})}},{key:'doPoll',value:function(){var M=this,e=this.request();e.on('data',this.onData.bind(this));
e.on('error',function(b,h){M.onError('xhr poll error',b,h)});this.pollXhr=e}},{key:'name',get:function(){return'polling'}}]),ya}(ka);var fb=function(xa){function ya(M,e){var b;return O(this,ya),B(q(b=Ja.call(this)),e),b.opts=e,b.method=e.method||'GET',b.uri=M,b.async=!1!==e.async,b.data=void 0!==e.data?e.data:null,b.create(),b}S(ya,xa);var Ja=da(ya);return Ea(ya,[{key:'create',value:function(){var M=this,e=L(this.opts,'agent','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','autoUnref');
e.xdomain=!!this.opts.xd;e.xscheme=!!this.opts.xs;var b=this.xhr=new F(e);try{b.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var h in b.setDisableHeaderCheck&&b.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(h)&&b.setRequestHeader(h,this.opts.extraHeaders[h])}catch(p){}if('POST'===this.method)try{b.setRequestHeader('Content-type','text/plain;charset=UTF-8')}catch(p){}try{b.setRequestHeader('Accept','*/*')}catch(p){}'withCredentials'in
b&&(b.withCredentials=this.opts.withCredentials);this.opts.requestTimeout&&(b.timeout=this.opts.requestTimeout);b.onreadystatechange=function(){4===b.readyState&&(200===b.status||1223===b.status?M.onLoad():M.setTimeoutFn(function(){M.onError('number'==typeof b.status?b.status:0)},0))};b.send(this.data)}catch(p){return void this.setTimeoutFn(function(){M.onError(p)},0)}'undefined'!=typeof document&&(this.index=ya.requestsCount++,ya.requests[this.index]=this)}},{key:'onError',value:function(M){this.emitReserved('error',
M,this.xhr);this.cleanup(!0)}},{key:'cleanup',value:function(M){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=r,M)try{this.xhr.abort()}catch(e){}'undefined'!=typeof document&&delete ya.requests[this.index];this.xhr=null}}},{key:'onLoad',value:function(){var M=this.xhr.responseText;null!==M&&(this.emitReserved('data',M),this.emitReserved('success'),this.cleanup())}},{key:'abort',value:function(){this.cleanup()}}]),ya}(N);if(fb.requestsCount=0,fb.requests={},'undefined'!=typeof document)'function'==
typeof attachEvent?attachEvent('onunload',v):'function'==typeof addEventListener&&addEventListener('onpagehide'in Fa?'pagehide':'unload',v,!1);var Cb='function'==typeof Promise&&'function'==typeof Promise.resolve?function(xa){return Promise.resolve().then(xa)}:function(xa,ya){return ya(xa,0)},yb=Fa.WebSocket||Fa.MozWebSocket,Gb='undefined'!=typeof navigator&&'string'==typeof navigator.product&&'reactnative'===navigator.product.toLowerCase(),Na={websocket:function(xa){function ya(M){var e;return O(this,
ya),(e=Ja.call(this,M)).supportsBinary=!M.forceBase64,e}S(ya,xa);var Ja=da(ya);return Ea(ya,[{key:'doOpen',value:function(){if(this.check()){var M=this.uri(),e=this.opts.protocols,b=Gb?{}:L(this.opts,'agent','perMessageDeflate','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','localAddress','protocolVersion','origin','maxPayload','family','checkServerIdentity');this.opts.extraHeaders&&(b.headers=this.opts.extraHeaders);try{this.ws=Gb?new yb(M,e,b):e?new yb(M,e):new yb(M)}catch(h){return this.emitReserved('error',
h)}this.ws.binaryType=this.socket.binaryType||'arraybuffer';this.addEventListeners()}}},{key:'addEventListeners',value:function(){var M=this;this.ws.onopen=function(){M.opts.autoUnref&&M.ws._socket.unref();M.onOpen()};this.ws.onclose=function(e){return M.onClose({description:'websocket connection closed',context:e})};this.ws.onmessage=function(e){return M.onData(e.data)};this.ws.onerror=function(e){return M.onError('websocket error',e)}}},{key:'write',value:function(M){var e=this;this.writable=!1;
for(var b=function(p){var x=p===M.length-1;ia(M[p],e.supportsBinary,function(u){try{e.ws.send(u)}catch(A){}x&&Cb(function(){e.writable=!0;e.emitReserved('drain')},e.setTimeoutFn)})},h=0;h<M.length;h++)b(h)}},{key:'doClose',value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:'uri',value:function(){var M=this.query||{},e=this.opts.secure?'wss':'ws',b='';this.opts.port&&('wss'===e&&443!==Number(this.opts.port)||'ws'===e&&80!==Number(this.opts.port))&&(b=':'+this.opts.port);this.opts.timestampRequests&&
(M[this.opts.timestampParam]=n());this.supportsBinary||(M.b64=1);M=z(M);return e+'://'+(-1!==this.opts.hostname.indexOf(':')?'['+this.opts.hostname+']':this.opts.hostname)+b+this.opts.path+(M.length?'?'+M:'')}},{key:'check',value:function(){return!!yb}},{key:'name',get:function(){return'websocket'}}]),ya}(ka),polling:jb},db=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
Eb='source protocol authority userInfo user password host port relative path directory file query anchor'.split(' '),Pb=function(xa){function ya(M){var e,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return O(this,ya),e=Ja.call(this),M&&'object'===D(M)&&(b=M,M=null),M?(M=E(M),b.hostname=M.host,b.secure='https'===M.protocol||'wss'===M.protocol,b.port=M.port,M.query&&(b.query=M.query)):b.host&&(b.hostname=E(b.host).host),B(q(e),b),e.secure=null!=b.secure?b.secure:'undefined'!=typeof location&&
'https:'===location.protocol,b.hostname&&!b.port&&(b.port=e.secure?'443':'80'),e.hostname=b.hostname||('undefined'!=typeof location?location.hostname:'localhost'),e.port=b.port||('undefined'!=typeof location&&location.port?location.port:e.secure?'443':'80'),e.transports=b.transports||['polling','websocket'],e.readyState='',e.writeBuffer=[],e.prevBufferLen=0,e.opts=K({path:'/engine.io',agent:!1,withCredentials:!1,upgrade:!0,timestampParam:'t',rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},
transportOptions:{},closeOnBeforeunload:!0},b),e.opts.path=e.opts.path.replace(/\/$/,'')+'/','string'==typeof e.opts.query&&(e.opts.query=y(e.opts.query)),e.id=null,e.upgrades=null,e.pingInterval=null,e.pingTimeout=null,e.pingTimeoutTimer=null,'function'==typeof addEventListener&&(e.opts.closeOnBeforeunload&&addEventListener('beforeunload',function(){e.transport&&(e.transport.removeAllListeners(),e.transport.close())},!1),'localhost'!==e.hostname&&(e.offlineEventListener=function(){e.onClose('transport close',
{description:'network connection lost'})},addEventListener('offline',e.offlineEventListener,!1))),e.open(),e}S(ya,xa);var Ja=da(ya);return Ea(ya,[{key:'createTransport',value:function(M){var e=K({},this.opts.query);e.EIO=4;e.transport=M;this.id&&(e.sid=this.id);e=K({},this.opts.transportOptions[M],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Na[M](e)}},{key:'open',value:function(){var M=this;if(this.opts.rememberUpgrade&&ya.priorWebsocketSuccess&&
-1!==this.transports.indexOf('websocket'))var e='websocket';else{if(0===this.transports.length)return void this.setTimeoutFn(function(){M.emitReserved('error','No transports available')},0);e=this.transports[0]}this.readyState='opening';try{e=this.createTransport(e)}catch(b){return this.transports.shift(),void this.open()}e.open();this.setTransport(e)}},{key:'setTransport',value:function(M){var e=this;this.transport&&this.transport.removeAllListeners();this.transport=M;M.on('drain',this.onDrain.bind(this)).on('packet',
this.onPacket.bind(this)).on('error',this.onError.bind(this)).on('close',function(b){return e.onClose('transport close',b)})}},{key:'probe',value:function(M){function e(){A||(A=!0,aa(),u.close(),u=null)}function b(){P('transport closed')}function h(){P('socket closed')}function p(Q){u&&Q.name!==u.name&&e()}var x=this,u=this.createTransport(M),A=!1;ya.priorWebsocketSuccess=!1;var W=function(){A||(u.send([{type:'ping',data:'probe'}]),u.once('packet',function(Q){if(!A)if('pong'===Q.type&&'probe'===Q.data){if(x.upgrading=
!0,x.emitReserved('upgrading',u),u)ya.priorWebsocketSuccess='websocket'===u.name,x.transport.pause(function(){A||'closed'!==x.readyState&&(aa(),x.setTransport(u),u.send([{type:'upgrade'}]),x.emitReserved('upgrade',u),u=null,x.upgrading=!1,x.flush())})}else Q=Error('probe error'),Q.transport=u.name,x.emitReserved('upgradeError',Q)}))},P=function(Q){Q=Error('probe error: '+Q);Q.transport=u.name;e();x.emitReserved('upgradeError',Q)},aa=function(){u.removeListener('open',W);u.removeListener('error',P);
u.removeListener('close',b);x.off('close',h);x.off('upgrading',p)};u.once('open',W);u.once('error',P);u.once('close',b);this.once('close',h);this.once('upgrading',p);u.open()}},{key:'onOpen',value:function(){if(this.readyState='open',ya.priorWebsocketSuccess='websocket'===this.transport.name,this.emitReserved('open'),this.flush(),'open'===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var M=0,e=this.upgrades.length;M<e;M++)this.probe(this.upgrades[M])}},{key:'onPacket',value:function(M){if('opening'===
this.readyState||'open'===this.readyState||'closing'===this.readyState)switch(this.emitReserved('packet',M),this.emitReserved('heartbeat'),M.type){case 'open':this.onHandshake(JSON.parse(M.data));break;case 'ping':this.resetPingTimeout();this.sendPacket('pong');this.emitReserved('ping');this.emitReserved('pong');break;case 'error':var e=Error('server error');e.code=M.data;this.onError(e);break;case 'message':this.emitReserved('data',M.data),this.emitReserved('message',M.data)}}},{key:'onHandshake',
value:function(M){this.emitReserved('handshake',M);this.id=M.sid;this.transport.query.sid=M.sid;this.upgrades=this.filterUpgrades(M.upgrades);this.pingInterval=M.pingInterval;this.pingTimeout=M.pingTimeout;this.maxPayload=M.maxPayload;this.onOpen();'closed'!==this.readyState&&this.resetPingTimeout()}},{key:'resetPingTimeout',value:function(){var M=this;this.clearTimeoutFn(this.pingTimeoutTimer);this.pingTimeoutTimer=this.setTimeoutFn(function(){M.onClose('ping timeout')},this.pingInterval+this.pingTimeout);
this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:'onDrain',value:function(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emitReserved('drain'):this.flush()}},{key:'flush',value:function(){if('closed'!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var M=this.getWritablePackets();this.transport.send(M);this.prevBufferLen=M.length;this.emitReserved('flush')}}},{key:'getWritablePackets',value:function(){if(!(this.maxPayload&&
'polling'===this.transport.name&&1<this.writeBuffer.length))return this.writeBuffer;for(var M,e=1,b=0;b<this.writeBuffer.length;b++){if(M=this.writeBuffer[b].data){if('string'==typeof M){for(var h=0,p=0,x=0,u=M.length;x<u;x++)128>(h=M.charCodeAt(x))?p+=1:2048>h?p+=2:55296>h||57344<=h?p+=3:(x++,p+=4);M=p}else M=Math.ceil(1.33*(M.byteLength||M.size));e+=M}if(0<b&&e>this.maxPayload)return this.writeBuffer.slice(0,b);e+=2}return this.writeBuffer}},{key:'write',value:function(M,e,b){return this.sendPacket('message',
M,e,b),this}},{key:'send',value:function(M,e,b){return this.sendPacket('message',M,e,b),this}},{key:'sendPacket',value:function(M,e,b,h){if('function'==typeof e&&(h=e,e=void 0),'function'==typeof b&&(h=b,b=null),'closing'!==this.readyState&&'closed'!==this.readyState)(b=b||{}).compress=!1!==b.compress,M={type:M,data:e,options:b},this.emitReserved('packetCreate',M),this.writeBuffer.push(M),h&&this.once('flush',h),this.flush()}},{key:'close',value:function(){var M=this,e=function(){M.onClose('forced close');
M.transport.close()},b=function x(){M.off('upgrade',x);M.off('upgradeError',x);e()},h=function(){M.once('upgrade',b);M.once('upgradeError',b)};return'opening'!==this.readyState&&'open'!==this.readyState||(this.readyState='closing',this.writeBuffer.length?this.once('drain',function(){M.upgrading?h():e()}):this.upgrading?h():e()),this}},{key:'onError',value:function(M){ya.priorWebsocketSuccess=!1;this.emitReserved('error',M);this.onClose('transport error',M)}},{key:'onClose',value:function(M,e){'opening'!==
this.readyState&&'open'!==this.readyState&&'closing'!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners('close'),this.transport.close(),this.transport.removeAllListeners(),'function'==typeof removeEventListener&&removeEventListener('offline',this.offlineEventListener,!1),this.readyState='closed',this.id=null,this.emitReserved('close',M,e),this.writeBuffer=[],this.prevBufferLen=0)}},{key:'filterUpgrades',value:function(M){for(var e=[],b=0,h=M.length;b<
h;b++)~this.transports.indexOf(M[b])&&e.push(M[b]);return e}}]),ya}(N);Pb.protocol=4;return function(xa,ya){return new Pb(xa,ya)}});
function BindingHelper(D){var O={};'undefined'!=typeof D&&(O=D);O.process=function(ca,Ea,K){if('undefined'==typeof ca||!Array.isArray(ca))throw Error('`bindings` must be a defined array');'undefined'==typeof Ea&&(Ea=ca.length,K=0);if(ca[K]){var S=ca[K];if('undefined'==typeof S.call)throw Error('`bindings.['+K+'].call` is required !');if('function'!=typeof O[S.call])throw Error('`bindingContext.'+S.call+'` is not a function');var oa=S.call;delete S.call;try{if('undefined'!=typeof S.handler){if(!window[S.handler])throw Error('`'+
S.handler+'` could not be reached. You must expose it to the `window` do object before any call.');var V=S.handler;delete S.handler;window[V].apply(this,Object.values(S));S.handler=V}else O[oa].apply(this,Object.values(S));S.call=oa}catch(U){console.error('BindingHelper encountered error while trying to execute `'+oa+'`'+U.stack||U)}O.process(ca,Ea,K+1)}};return O}define('helpers/binding',[],function(){return BindingHelper});
if('undefined'!==typeof module&&module.exports){var fs=require('fs'),execSync=require('child_process').execSync,util=require('util'),promisify=util.promisify;try{var console=require('../../logger')}catch(D){}}
function Domain(D,O){var ca='undefined'!==typeof module&&module.exports?!1:!0,Ea=!1;ca&&(Ea=!!window.MSInputMethodContext&&!!document.documentMode);'function'==typeof D&&(O=D,D=void 0);var K={filename:'../dist/public_suffix_list.dat',url:'https://publicsuffix.org/list/public_suffix_list.dat',alternativeUrl:'https://raw.githubusercontent.com/publicsuffix/list/master/public_suffix_list.dat',isCachingRrequired:!1,isUpdating:!1},S=null,oa=null,V=function(q,da,za){if('undefined'==typeof da)da=K;else for(let N in K)'undefined'==
typeof da[N]&&(da[N]=K[N]);ca||(da.filename=__dirname+'/'+da.filename);ca&&da.isCachingRrequired&&(console.warn('[DOMAIN] `options.isCachingRrequired` is only available for backend'),da.isCachingRrequired=!1);S=da;if(za)return U(da,function(N){N?za(N):(console.debug('[DOMAIN] PSL Loaded'),za(N,q))});U(da);console.debug('[DOMAIN] PSL Loaded');return q},U=async function(q,da){var za=ca||q.isCachingRrequired?q.url:q.filename,N='undefined'!=typeof q.isUpdating?q.isUpdating:!1,L=null;if(ca)if(oa&&!N)da(!1);
else if(window.fetch){L=N=null;try{N=await fetch(za),oa=L=await N.text()}catch(H){L=Error('[DOMAIN] Could not load PSL\n'+(H.stack||H.message||H));da(L);return}q.isUpdating=!1;da(!1)}else L=Error('[DOMAIN] Fetch API not supported'),da(L);else{za=!1;if('undefined'!=typeof fs.accessSync)try{fs.accessSync(q.filename,fs.constants.F_OK),za=!0}catch(H){za=!1;try{fs.lstatSync(q.filename).isSymbolicLink()&&(za=!0)}catch(n){}}else za=fs.existsSync(q.filename);za||(q.isCachingRrequired=!0);if(q.isCachingRrequired){za=
'curl -o '+q.filename+' '+q.url+' >/dev/null 2>&1';console.debug('[DOMAIN] Running: '+za);try{execSync(za)}catch(H){console.warn('[DOMAIN] could not fetch from `'+q.url+'`. Trying with `'+q.alternativeUrl+'`');za='curl -o '+q.filename+' '+q.alternativeUrl+' >/dev/null 2>&1';try{execSync(za)}catch(n){da(n);return}}var B=!1;nIntervId=setInterval(()=>{if('undefined'!=typeof fs.accessSync)try{fs.accessSync(q.filename,fs.constants.F_OK),B=!0}catch(H){B=!1;try{fs.lstatSync(q.filename).isSymbolicLink()&&
(B=!0)}catch(n){}}else B=fs.existsSync(q.filename);B&&(clearInterval(nIntervId),oa=fs.readFileSync(q.filename).toString(),da(!1))},200)}try{oa=fs.readFileSync(q.filename).toString(),da&&da(!1)}catch(H){console.warn('[DOMAIN] could not read from `'+q.filename+'`'),U(D,da)}}},l=function(q){S.isUpdating=!0;U(S,q)},T={getRootDomain:function(q,da){'undefined'==typeof da&&(da=!1);var za=!1,N=!1,L=q.replace(/^(.*):\/\/|\/(.*)/g,''),B=L.split(/\./g).reverse(),H=B.length?B.length-1:0,n=oa.replace(/\/\/\s*(.*)\n|^\s*\n/gm,
'').split(/\n/).filter(function(z,y,F){/[^a-z 0-9.]+/.test(z)&&(z=z.replace(/[^a-z 0-9.]+/g,'').replace(/^\./g,''));return/\./.test(z)&&!za&&(new RegExp('.'+z+'$')).test(L)?(za=!0,H=z.split(/\./g).length,F.splice(0,F.length),!1):z});L=B[H];0<H&&(B=B.splice(0,H),N=B[0],/:(.*)$/.test(N)&&(N=N.replace(/:(.*)$/,'')),(N=za||!za&&-1<n.indexOf(N)?!0:!1)?1<H&&!za?(B.splice(2),L=B.reverse().join('.')):L+='.'+B.reverse().join('.'):1<H?(B.splice(2),L=B.reverse().join('.')):L+='.'+B.reverse().join('.'));/:(.*)$/.test(L)&&
(L=L.replace(/:(.*)$/,''));console.debug('[DOMAIN] isSLD: '+za,q,' -> ',L);/^true$/i.test(da);return{value:L,isSLD:za,isRegisteredTldOrSld:N}}};ca?T.onReady=function(){}:T.updatePSL=l;return ca&&Ea&&!window.fetch?(Ea=document.createElement('script'),Ea.type='text/javascript',Ea.src='https://cdn.jsdelivr.net/npm/promise-polyfill@8.1.3/dist/polyfill.min.js',l=document.createElement('script'),l.type='text/javascript',l.src='https://cdn.jsdelivr.net/npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js',document.head.appendChild(Ea),
document.head.appendChild(l),setTimeout(()=>V(T,D,O),500)):V(T,D,O)}'undefined'!==typeof module&&module.exports?module.exports=Domain:'function'===typeof define&&define.amd&&define('lib/domain',[],function(){return Domain});
define('gina/link','require jquery vendor/uuid lib/domain lib/merge utils/events'.split(' '),function(D){D('jquery').noConflict();var O=D('vendor/uuid'),ca=D('lib/domain'),Ea=null,K=D('lib/merge');D('utils/events');return function(S){function oa(n,z){var y=B(n),F=y.id,r=document.getElementById(F)||null;(r.getAttribute('data-gina-link-event-on-success')||r.getAttribute('data-gina-link-event-on-error'))&&listenToXhrEvents(y);z='undefined'==typeof z?da:K(z,da);if(/^(http|https):/.test(n)&&!(new RegExp('^'+
window.location.protocol+'//'+window.location.host)).test(n)){var v=Ea.getRootDomain(window.location.hostname).value,E=Ea.getRootDomain(n).value;v=v===E?!0:!1;gina.config.envIsDev&&(console.debug('Checking CORS from Popin plugin...TODO - local CORS Proxy'),console.debug('Is request from same domain ? ',v));v||(n=n.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+n)}z.url=n;y&&'undefined'!=typeof y.options&&(z=K(y.options,z));z.withCredentials?'withCredentials'in q?z.isSynchrone?q.open(z.method,
z.url,z.isSynchrone):q.open(z.method,z.url):'undefined'!=typeof XDomainRequest?(q=new XDomainRequest,q.open(z.method,z.url)):(q=null,triggerEvent(gina,r,'error.'+F,'CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ')):z.isSynchrone?q.open(z.method,z.url,z.isSynchrone):q.open(z.method,z.url);if(!q)throw Error('No `xhr` object initiated');z.$link=y;handleXhr(q,r,z,D);q.send()}function V(n,z){if('object'!=typeof z)throw Error('`options` must be an object');
n.options=K(z,U.options);z=document.getElementById(n.id)||null;if('undefined'==typeof l.$links[n.id]){if(-1<za.indexOf(n.id))throw Error('`link '+n.id+'` already exists !');if(!gina.events[evt]){addListener(gina,z,evt,function(r){cancelEvent(r);r=L(r.target.id);var v=r.url;'undefined'==typeof r.options.isSynchrone&&(r.options.isSynchrone=!1);'undefined'==typeof r.options.withCredentials&&(r.options.withCredentials=!1);oa(v,r.options)});var y=z.childNodes,F=0;lLen=y.length;if(0<lLen)for(;F<lLen;++F)'undefined'!=
typeof y[F].tagName&&N(y[F],z,evt)}n.request=oa;n.getLinkById=L;n.getLinkByUrl=B;l.$links[n.id]=n}}this.plugin='link';registerEvents(this.plugin,'loaded ready open close destroy success error progress'.split(' '));var U={options:{url:void 0,'class':'gina-link-default'},authorizedEvents:['ready','success','error'],events:{}},l={plugin:this.plugin,id:'gina-links-'+O.v4(),on,eventData:{},$links:{},target:document,isReady:!1,initialized:!1},T={plugin:this.plugin,on,eventData:{},target:document,url:null,
request:null,$forms:[]},q=null,da={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}},za=[],N=function(n,z,y){addListener(gina,n,'click',function(F){cancelEvent(F);triggerEvent(gina,z,y)})},L=function(n){return'undefined'!=typeof l.$links[n]?l.$links[n]:null},B=function(n){var z=null,y;for(y in gina.link.$links)if('undefined'!=typeof gina.link.$links[y].url&&gina.link.$links[y].url==n){z=gina.link.$links[y];break}return z},H=function(n,z){'undefined'==
typeof n&&(n=l.target);var y,F=null;n=n.getElementsByTagName('a');for(var r=0,v=n.length;r<v;++r)if(((y=n[r].getAttribute('data-gina-link'))||''==y)&&!/^false$/i.test(y)){y=n[r];var E={type:'a',method:'GET'};var I=y.getAttribute('data-gina-link-url');E.url='undefined'!=typeof I&&null!=I?I:y.getAttribute('href');I=y.getAttribute('id');if('undefined'==typeof I||null==I||''==I||/popin\.link/.test(I))I='link.click.gina-link-'+l.id+'-'+O.v4();y.id=I;evt=E.id=I;y.setAttribute('id',evt);'A'==y.tagName&&
(F=y.getAttribute('onclick'));F?'undefined'==typeof F||/return false/.test(F)||(F=/;$/.test(F)?F+'return false;':F+'; return false;',y.setAttribute('onclick',F)):y.setAttribute('onclick','return false;');'undefined'==typeof l.$links[E.id]&&(E.target=y,y=K(E,T),V(y,z))}};new ca(function(n,z){if(n)throw n;Ea=z});return function(n){l.bindLinks=H;l.request=oa;l.getLinkById=L;l.getLinkByUrl=B;l.on('init',function(z){if(window.XMLHttpRequest)q=new XMLHttpRequest;else if(window.ActiveXObject)try{q=new ActiveXObject('Msxml2.XMLHTTP')}catch(y){try{q=
new ActiveXObject('Microsoft.XMLHTTP')}catch(F){}}evt='click';addListener(gina,l.target,evt,function(y){'undefined'==typeof y.target.id&&(y.target.setAttribute('id',evt+'.'+O.v4()),y.target.id=y.target.getAttribute('id'));if(/^link\.click\./.test(y.target.id)){cancelEvent(y);var F=y.target.id;(new RegExp('^link.click.gina-link-'+l.id)).test(F)&&triggerEvent(gina,y.target,F,y.detail)}});'undefined'==typeof n&&(n={});l.options=n;H(l.target,n);gina.linkIsBinded=!0;l.isReady=!0;gina.hasLinkHandler=!0;
gina.link=K(gina.link,l);triggerEvent(gina,l.target,'ready.'+l.id,l)});l.initialized=!0;return l}(S)}});
define('gina/popin','require vendor/uuid jquery lib/domain lib/merge utils/events'.split(' '),function(D){D('jquery').noConflict();var O=D('vendor/uuid'),ca=D('lib/domain'),Ea=null,K=D('lib/merge');D('utils/events');return function(S){function oa(){var X=null,ia;for(ia in gina.popin.$popins)if('undefined'!=typeof gina.popin.$popins[ia].isOpen&&gina.popin.$popins[ia].isOpen){X=gina.popin.$popins[ia];break}!X&&gina.popin.activePopinId&&(X=gina.popin.$popins[gina.popin.activePopinId]);return X}function V(X,
ia){var ea=X.target,wa=X.type;'undefined'!=typeof X.detail&&'function'==typeof X.detail.trim&&(ea.innerHTML=X.detail.trim());X=function(fb,Cb,yb){var Gb=yb.getAttribute('data-gina-popin-is-link');Gb=/^true$/i.test(Gb)?!0:!1;'link'!=fb||Gb||(fb='action');addListener(gina,yb,Cb,function(Na){cancelEvent(Na);if('close'!=fb){var db=!1,Eb='loaded.'+ia.id;'undefined'==typeof gina.events[Eb]&&addListener(gina,ea,Eb,function(Pb){Pb.preventDefault();db||(db=!0,T(Pb.detail))});Eb={isSynchrone:!1,withCredentials:!1};
Eb=K(ia.options,Eb);l(ia.name,yb.href,Eb)}removeListener(gina,Na.target,Na.type)});addListener(gina,yb,'click',function(Na){cancelEvent(Na);if(null!=Na.target.getAttribute('disabled')&&'false'!=Na.target.getAttribute('disabled'))return!1;if('link'==fb){var db=Na.target.getAttribute('href')||null,Eb=Na.target.getAttribute('target');null!=Eb&&''!=Eb?window.open(db,Eb):triggerEvent(gina,Na.target,Na.currentTarget.id,ia)}else'undefined'==typeof Na.target.id&&(Na.target.setAttribute('id',Cb+'.'+O.v4()),
Na.target.id=Na.target.getAttribute('id')),/^popin\.close\./.test(Na.target.id)&&(cancelEvent(Na),ia.isRedirecting=!1,L(ia.name)),/^popin\.click\./.test(Na.target.id)&&(cancelEvent(Na),db=Na.target.id,(new RegExp('^popin.click.gina-popin-'+n.id)).test(db)&&triggerEvent(gina,Na.target,db,Na.detail))})};gina.popinIsBinded=!0;var ka=null,ta=null,Da=null;if(!ia.isOpen&&H.options.cancelOnOverlayClick){var Qa=ia.target;if(!H.options.useDialogMode||gina.config.envIsDev)Qa=n.target.childNodes[0];addListener(gina,
Qa,'mousedown',function(fb){if(/gina-popin-is-active/.test(fb.target.className)){removeListener(gina,fb.target,'mousedown');fb=[];ka=0;var Cb=ea.getElementsByTagName('button');ta=0;Da=Cb.length;if(0<Da)for(;ta<Da;++ta)/gina-popin-close/.test(Cb[ta].className)&&(fb[ka]=Cb[ta],++ka);Cb=ea.getElementsByTagName('div');ta=0;Da=Cb.length;if(0<Da)for(;ta<Da;++ta)/gina-popin-close/.test(Cb[ta].className)&&(fb[ka]=Cb[ta],++ka);Cb=ea.getElementsByTagName('a');ta=0;Da=Cb.length;if(0<Da)for(;ta<Da;++ta)/gina-popin-close/.test(Cb[ta].className)&&
(fb[ka]=Cb[ta],++ka);ta=0;for(Da=fb.length;ta<Da;++ta){Cb=fb[ta];let yb=Cb.getAttribute('id');for(let Gb=0,Na=B.length;Gb<Na;Gb++){let db=B[Gb];'undefined'!=typeof gina.events[db]&&gina.events[db]==yb&&removeListener(gina,Cb,db);'undefined'!=typeof gina.events[yb]&&gina.events[yb]==yb&&removeListener(gina,Cb,yb);'undefined'!=typeof gina.events[db+'.'+yb]&&gina.events[db+'.'+yb]==yb&&removeListener(gina,Cb,db+'.'+yb);'undefined'!=typeof gina.events[db+'.'+yb]&&gina.events[db+'.'+yb]==db+'.'+yb&&removeListener(gina,
Cb,db+'.'+yb)}}ia.isRedirecting=!1;L(ia.name)}})}/<form/i.test(ea.innerHTML)&&'undefined'!=typeof y&&y&&(ia.hasForm=!0);var La=[],Fa=[];Qa=[];Fa=ea.getElementsByTagName('button');ta=ka=0;Da=Fa.length;if(0<Fa.length)for(;ta<Da;++ta)/gina-popin-close/.test(Fa[ta].className)&&(La[ka]=Fa[ta],++ka);Fa=ea.getElementsByTagName('div');ta=0;Da=Fa.length;if(0<Da)for(;ta<Da;++ta)/gina-popin-close/.test(Fa[ta].className)&&(La[ka]=Fa[ta],++ka);Fa=ea.getElementsByTagName('a');ta=0;Da=Fa.length;if(0<Da)for(;ta<
Da;++ta)/gina-popin-close/.test(Fa[ta].className)?(La[ka]=Fa[ta],++ka):('undefined'==typeof Fa[ta]||/(#|#.*)$/.test(Fa[ta].href)||Fa[ta].id)&&('undefined'==typeof Fa[ta]||/(#|#.*)$/.test(Fa[ta].href)||/^(click\.|popin\.link)/.test(Fa[ta].id))||Qa.push(Fa[ta]);var Oa=null;Fa=null;ta=0;for(Da=La.length;ta<Da;++ta)'A'==La[ta].tagName&&(Oa=La[ta].getAttribute('onclick')),Oa?'undefined'==typeof Oa||/return false/.test(Oa)||(Oa=/;$/.test(Oa)?Oa+'return false;':Oa+'; return false;'):La[ta].setAttribute('onclick',
'return false;'),La[ta].id?Fa=La[ta].id:(Fa='popin.close.'+O.v4(),La[ta].id=Fa,La[ta].setAttribute('id',Fa)),'undefined'!=typeof gina.events[Fa]&&gina.events[Fa]==La[ta].id||X('close',Fa,La[ta]);ka=0;Da=Qa.length;var Ia=null,Ka=null,Ya=null,pb={},$a=null,jb=new DOMParser,bc=null,$b=null;for(Fa=La=La=null;ka<Da;++ka)null==Qa[ka].getAttribute('disabled')&&(Qa[ka].id=/^null$/i.test(Qa[ka].getAttribute('id'))?null:Qa[ka].getAttribute('id'),Qa[ka].id&&/^popin\.link/.test(Qa[ka].id)&&/^popin\.click/.test(Qa[ka].id)?
Fa=Qa[ka].id:(Fa=!0,La=Qa[ka].getAttribute('href'),La&&''!=La&&'#'!=La||('#'!=La&&Qa[ka].setAttribute('href','#'),Fa=!1),/^null$/i.test(Qa[ka].id)?Fa?(Fa='popin.link.'+O.v4(),Qa[ka].setAttribute('data-gina-popin-is-link',!0)):(Fa='popin.click.'+O.v4(),Qa[ka].setAttribute('data-gina-popin-is-link',!1)):Fa=Qa[ka].id,Qa[ka].id=Fa,Qa[ka].setAttribute('id',Fa)),La=(La=Qa[ka].getAttribute('data-gina-form-submit'))&&/^true$/i.test(La)?!0:!1,La||(/^(null|\s*)$/.test(Qa[ka].getAttribute('href'))||addListener(gina,
Qa[ka],'click',function(fb){fb.preventDefault();ia.isRedirecting=!0;if(ia.hasForm){Ia=ia.target.getElementsByTagName('FORM');Ka=0;for(Ya=Ia.length;Ka<Ya;++Ka)if(bc=fb.currentTarget.id,$b=jb.parseFromString(Ia.item(Ka).innerHTML,'text/html').getElementById(bc)||!1)$a=Ia[Ka].getAttribute('data-gina-form-inherits-data')||null,pb=K(pb,JSON.parse(decodeURIComponent($a)));0<pb.count()&&(/\?/.test(fb.currentTarget.href)?fb.currentTarget.href+='&inheritedData='+encodeRFC5987ValueChars(JSON.stringify(pb)):
fb.currentTarget.href+='?inheritedData='+encodeRFC5987ValueChars(JSON.stringify(pb)))}}),'undefined'!=typeof gina.events[Fa]&&gina.events[Fa]==Qa[ka].id||X('link',Fa,Qa[ka])));if(ia.hasForm)for(X=null,Qa=ea.getElementsByTagName('form'),ka=0,Da=Qa.length;ka<Da;++ka)Qa[ka].id&&'string'==typeof Qa[ka]?X=Qa[ka].id:(X=Qa[ka].getAttribute('id')||'form.'+O.v4(),Qa[ka].setAttribute('id',X),Qa[ka].id=X),0>ia.$forms.indexOf(X)&&ia.$forms.push(X),Qa[ka].close=L,y.isPopinContext=!0,y.validateFormById(Qa[ka].getAttribute('id')),
removeListener(gina,ia.target,wa)}function U(X,ia){var ea=oa();if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&'undefined'!=typeof X&&'undefined'!=typeof ia&&X){ea=X;try{var wa=null;!ia&&ea.error&&/^(\{|\[)/.test(ea.error)&&(ea.error=JSON.parse(ea.error));if('undefined'!=typeof ea.error&&'object'==typeof ea.error&&'object'==typeof ea.error){wa={status:ea.status};for(xErr in ea.error)/^error$/.test(xErr)||(wa[xErr]=ea.error[xErr]);wa.error=ea.error.error;ea=wa}else'undefined'!=
typeof ea.error&&'string'==typeof ea.error&&(ea=X);ea.isXHRViewData=!0;ginaToolbar.update('data-xhr',ea);return}catch(ka){throw ka;}}try{ea=I(n.activePopinId)}catch(ka){ea&&ginaToolbar.update('data-xhr',ka)}ea||(new DOMParser).parseFromString(X,'text/html').getElementsByClassName('popin')[0]||(new DOMParser).parseFromString(X,'text/html').getElementsByTagName('div');ea='string'==typeof X&&/<(.*)>/.test(X)?(new DOMParser).parseFromString(X,'text/html').getElementById('gina-without-layout-xhr-data'):
document.getElementById('gina-without-layout-xhr-data');if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&ea)try{'undefined'!=typeof ea.value&&ea.value&&(ea=JSON.parse(decodeURIComponent(ea.value)),ea.isXHRViewData=!0,ginaToolbar.update('data-xhr',ea))}catch(ka){throw ka;}X='string'==typeof X&&/<(.*)>/.test(X)?(new DOMParser).parseFromString(X,'text/html').getElementById('gina-without-layout-xhr-view'):document.getElementById('gina-without-layout-xhr-view');if(gina&&'undefined'!=
typeof window.ginaToolbar&&window.ginaToolbar&&X)try{'undefined'!=typeof X.value&&X.value&&(X=JSON.parse(decodeURIComponent(X.value)),ginaToolbar.update('view-xhr',X))}catch(ka){throw ka;}}function l(X,ia,ea){if('undefined'==typeof X){if('undefined'==typeof this.name)throw Error('`$popin.name` needs to be defined !');X=this.name}else'undefined'==typeof this.name&&'undefined'!=X&&(this.name=X);var wa=R(X),ka=wa.id;gina.popin.activePopinId||(gina.popin.activePopinId=ka);var ta=document.getElementById(ka)||
null;if(null==ta){var Da=null;H.options.useDialogMode?(Da=wa.options.class+' '+ka,ta=document.createElement('dialog'),ta.setAttribute('id',ka),ta.setAttribute('class',Da),ta.setAttribute('data-type','modal'),ta.setAttribute('aria-labelledby',X),($overlay=document.getElementById('gina-popins-overlay'))?$overlay.appendChild(ta):n.target.appendChild(ta)):(Da=wa.options.class+' '+ka,ta=document.createElement('div'),ta.setAttribute('id',ka),ta.setAttribute('class',Da),n.target.firstChild.appendChild(ta))}'undefined'==
typeof ea?ea=Ga:(X=Ga.withCredentials,ea=K(ea,Ga),ea.withCredentials=X);/^(http|https):/.test(ia)&&!(new RegExp('^'+window.location.protocol+'//'+window.location.host)).test(ia)&&(X=Ea.getRootDomain(window.location.hostname).value,Da=Ea.getRootDomain(ia).value,X=X===Da?!0:!1,gina.config.envIsDev&&(console.debug('Checking CORS from Popin plugin...TODO - local CORS Proxy'),console.debug('Is request from same domain ? ',X)),X||(ia=ia.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+ia,ea.withCredentials=
!1));ea.url=ia;wa.options=K(ea,wa.options);var Qa=null;ea.withCredentials?'withCredentials'in F?ea.isSynchrone?F.open(ea.method,ea.url,ea.isSynchrone):F.open(ea.method,ea.url):'undefined'!=typeof XDomainRequest?(F=new XDomainRequest,F.open(ea.method,ea.url)):(F=null,Qa='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ',triggerEvent(gina,ta,'error.'+ka,Qa)):ea.isSynchrone?F.open(ea.method,ea.url,ea.isSynchrone):F.open(ea.method,ea.url);var La=!1;if(F){F.withCredentials=
'undefined'!=typeof ea.withCredentials?ea.withCredentials:!1;F.onerror=function(Oa,Ia){Qa={status:F.status,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};La=!0;n.eventData.error=Qa+'\n'+Ia;U(Qa,La);triggerEvent(gina,ta,'error.'+ka,Qa)};for(var Fa in ea.headers)F.setRequestHeader(Fa,ea.headers[Fa]);F.onreadystatechange=function(Oa){if(4==F.readyState)if(Oa=null,/^2/.test(F.status))try{Oa=F.responseText;var Ia=F.getResponseHeader('Content-Type'),
Ka=/application\/json/.test(Ia)?!0:!1,Ya=!0;Ka&&(Oa=JSON.parse(F.responseText),Oa.status=F.status,Oa.contentType=Ia,Ya=!1);n.eventData.success=Oa;if(!Ka&&wa.isOpen&&!wa.hasForm||!Ka&&wa.isOpen&&Ya)T(Oa,Ya);else{if(Ka&&'undefined'!=typeof Oa.location||Ka&&'undefined'!=typeof Oa.reload){Ia=!1;'undefined'!=typeof Oa.isXhrRedirect&&/^true$/i.test(Oa.isXhrRedirect)&&(Ia=!0);if('undefined'!=typeof Oa.location&&Ia){if('undefined'!=typeof Oa.popin&&'undefined'!=typeof Oa.popin.close){wa.isRedirecting=!1;
wa.close();var pb=Oa.popin.reload?Oa.popin.reload:!1;Oa.popin.location||Oa.popin.url||(delete Oa.popin,pb&&(Oa.popin={reload:pb}))}Ka='_self';'undefined'!=typeof Oa.target&&(Oa.target='_'+Oa.target,Ka=Oa.target);if(/^_self$/.test(Ka))return Ka=null,Ka='undefined'!=typeof Oa.popin?Oa.popin.location||Oa.popin.url:Oa.location,wa.load(wa.name,Ka,wa.options),setTimeout(function($a){$a.isOpen||$a.open()},50,wa);window.open(Oa.location,Ka);return}if('undefined'!=typeof Oa.location){document.location=Oa.location;
return}if('undefined'!=typeof Oa.reload){document.location.reload();return}'undefined'!=typeof Oa.popin&&'undefined'!=typeof Oa.popin.close&&(wa.isRedirecting=!1,L(wa.name))}if(!Ka){GINA_ENV_IS_DEV&&U(Oa);triggerEvent(gina,ta,'loaded.'+ka,Oa);return}GINA_ENV_IS_DEV&&U(Oa);triggerEvent(gina,$forms[0],'success.'+ka,Oa)}GINA_ENV_IS_DEV&&U(Oa)}catch($a){La=!1,Oa={status:422,error:$a.description||$a.stack},/application\/json/.test(F.getResponseHeader('Content-Type'))&&(Oa.error=JSON.parse(F.responseText),
La=!0),n.eventData.error=Oa,GINA_ENV_IS_DEV&&U(Oa,La),triggerEvent(gina,ta,'error.'+ka,Oa)}else La=!1,Oa={status:F.status,error:F.responseText},/application\/json/.test(F.getResponseHeader('Content-Type'))&&(Oa.error=JSON.parse(F.responseText),La=!0),n.eventData.error=Oa,GINA_ENV_IS_DEV&&U(Oa,La),triggerEvent(gina,ta,'error.'+ka,Oa)};F.send();return{open:function(){var Oa=!1;addListener(gina,ta,'loaded.'+ka,function(Ia){Ia.preventDefault();Oa||(Oa=!0,n.activePopinId=wa.id,V(Ia,wa),za(wa.name))})}}}}
function T(X,ia){var ea=oa();if(ea){if(!ea.isOpen)throw Error('Popin `'+ea.name+'` is not open !');ea.isRedirecting='undefined'!=typeof ia?ia:!1;ia=ea.target;ia.innerHTML=X.trim();N(ea.name,!0);V({target:ia,type:'loaded.'+ea.id},ea);if(!H.options.useDialogMode&&/safari/i.test(window.navigator.userAgent))for(X=document.getElementsByTagName('link'),ia=0;ia<X.length;ia++)if('stylesheet'==X[ia].getAttribute('rel')){var wa=X[ia].getAttribute('href').split('?')[0];/gina\.min\.css|gina\.css/.test(wa)&&(wa=
wa+'?version='+(new Date).getMilliseconds(),X[ia].setAttribute('href',wa))}ea.isRedirecting?triggerEvent(gina,n.target,'loaded.'+ea.id,ea):triggerEvent(gina,n.target,'open.'+ea.id,ea);if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar)try{ginaToolbar.update('el-xhr',ea.id)}catch(ka){throw ka;}}}function q(X){var ia=setupXhr();ia.open('GET',X,!0);ia.setRequestHeader('Content-Type','text/javascript');ia.onload=function(){eval(ia.response)};ia.send()}function da(X){var ia=setupXhr();
ia.open('GET',X,!0);ia.setRequestHeader('Content-Type','text/css');ia.onload=function(){eval(ia.response)};ia.send()}function za(X){var ia='undefined'!=typeof X?R(X):I(this.id);if(!ia)throw Error('Popin name `'+X+'` not found !');X=document.getElementById(ia.id);var ea=ia.parentScripts,wa=X.getElementsByTagName('script'),ka=ia.parentStyles,ta=X.getElementsByTagName('link'),Da=0,Qa=wa.length,La=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');for(La=new RegExp(La+':\\d+|'+
La);Da<Qa;++Da){if('undefined'==typeof wa[Da].src||''==wa[Da].src)continue;let Fa=wa[Da].src.replace(/(https|http|):\/\//,'').replace(La,'');-1<ea.indexOf(Fa)||q(wa[Da].src)}Da=0;for(Qa=ta.length;Da<Qa;++Da)'undefined'!=typeof ta[Da].href&&''!=ta[Da].href&&(ea=ta[Da].href.replace(/(https|http|):\/\//,'').replace(La,''),-1<ka.indexOf(ea)||da(ta[Da].href));V({target:X,type:'loaded.'+ia.id},ia);/gina-popin-is-active/.test(X.className)||(X.className+=' gina-popin-is-active');if(!H.options.useDialogMode||
gina.config.envIsDev)/gina-popin-is-active/.test(n.target.firstChild.className)||(n.target.firstChild.className+=' gina-popin-is-active'),/gina-popin-is-active/.test(n.target.firstChild.className)&&removeListener(gina,n.target,'open.'+ia.id);H.options.useDialogMode&&!X.getAttribute('open')&&('function'===typeof X.showModal?gina.config.envIsDev?X.show():X.showModal():X.setAttribute('open',!0));ia.isOpen=!0;ia.target=X;n.activePopinId=ia.id;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar)try{ginaToolbar.update('el-xhr',
ia.id)}catch(Fa){throw Fa;}triggerEvent(gina,n.target,'open.'+ia.id,ia)}function N(X,ia){var ea='undefined'!=typeof X?R(X):oa();if(!ea&&'undefined'!=typeof X)throw Error('Popin `'+X+'` not found !');if('undefined'!=typeof ea&&null!=ea&&(X=ea.target,ia='undefined'!=typeof ia?ia:!1,null!=X&&/gina-popin-is-active/.test(X.className))){ia||(n.target.firstChild.className=n.target.firstChild.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,''),X.className=X.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,
''),X.innerHTML='');if(y&&(ia=0,X=ea.$forms.length,y.$forms&&0<X))for(;ia<X;++ia)'undefined'!=typeof y.$forms[ea.$forms[ia]]&&y.$forms[ea.$forms[ia]].destroy(),ea.$forms.splice(ia,1);gina.popinIsBinded=!1;removeListener(gina,ea.target,'loaded.'+ea.id)}}function L(X){if('undefined'==typeof X&&/^true$/.test(this.isOpen)){X=this.name;var ia=this}else{ia=R(X)||oa();if(!ia)return;X=ia.name}if(!ia&&'undefined'!=typeof X)throw Error('Popin `'+X+'` not found !');if(ia.isOpen&&'undefined'!=typeof ia&&null!=
ia&&!ia.isRedirecting){var ea=ia.target;'function'===typeof ea.close?ea.close():ea.removeAttribute('open');removeListener(gina,ia.target,'ready.'+n.id);ia.hasForm&&(ia.hasForm=!1);if(null!=ea&&/gina-popin-is-active/.test(ea.className)){N(X);ia.isOpen=!1;gina.popinIsBinded=!1;GINA_ENV_IS_DEV&&gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&ginaToolbar.restore();n.activePopinId=null;if(0<ia.$headers.length){X=0;ea=ia.$headers.length;try{for(;X<ea;++X)document.getElementById(ia.$headers[X].id).remove()}catch(wa){console.warn('Could not remove script `'+
ia.$headers[X].id+'`\n'+wa.stack)}ia.$headers=[]}triggerEvent(gina,ia.target,'close.'+ia.id,ia)}}}this.plugin='popin';var B='init loaded ready open close click destroy success error progress'.split(' ');registerEvents(this.plugin,B);var H={options:{name:void 0,'class':'gina-popin-default',useDialogMode:!0,cancelOnOverlayClick:!1},authorizedEvents:['ready','error'],events:{}},n={plugin:this.plugin,id:'gina-popins-'+O.v4(),on,eventData:{},$popins:{},activePopinId:null,getActivePopin:null,target:document,
isReady:!1,initialized:!1},z={plugin:this.plugin,on,eventData:{},target:document,name:null,load:null,loadContent:null,open:null,isOpen:!1,isRedirecting:!1,close:null,$forms:[],hasForm:!1,$headers:[]},y=null,F=null,r=[],v=function(){var X=document.createElement('div');X.id=n.id;X.setAttribute('id',n.id);X.setAttribute('class','gina-popins');if(!H.options.useDialogMode||gina.config.envIsDev){var ia=document.createElement('div');ia.setAttribute('id','gina-popins-overlay');ia.setAttribute('class','gina-popins-overlay');
X.appendChild(ia)}document.body.appendChild(X);n.target=X;n.on=on;gina.popinContainer=n.id},E=function(X,ia,ea){addListener(gina,X,'click',function(wa){cancelEvent(wa);triggerEvent(gina,ia,ea)})},I=function(X){return'undefined'!=typeof n.$popins[X]?n.$popins[X]:null},R=function(X){var ia=null,ea;for(ea in n.$popins)if(n.$popins[ea].name===X){ia=n.$popins[ea];break}return ia},sa=function(X,ia){ia=getElementsByAttribute('data-gina-popin-name');var ea=null,wa=null,ka=null,ta=null,Da=null,Qa=null;Da=
0;for(Qa=ia.length;Da<Qa;++Da){ea=ia[Da];wa=ea.getAttribute('data-gina-popin-name');'A'==ea.tagName&&(ka=ea.getAttribute('href'),''==ka||'#'==ka||/#/.test(ka))&&(ka=null);ka||'undefined'==typeof ea.getAttribute('data-gina-popin-url')||(ka=ea.getAttribute('data-gina-popin-url'));if(!ka)throw Error('Found `data-gina-popin-name` without `url` !');ea.url||(ea.url=ka);ea.popinName||(ea.popinName=wa);if(wa==X.name&&(ta='popin.click.gina-popin-'+n.id+'-'+O.v4()+'-'+wa,ea.id=ta,ea.setAttribute('id',ta),!gina.events[ta])){addListener(gina,
ea,ta,function(Fa){cancelEvent(Fa);var Oa=!1;addListener(gina,X.target,'loaded.'+X.id,function(Ka){Ka.preventDefault();Oa||(Oa=!0,console.debug('active popin should be ',X.id),gina.popin.activePopinId=X.id,V(Ka,X),X.isOpen||za(X.name))});Fa={isSynchrone:!1,withCredentials:!1};Fa=K(X.options,Fa);var Ia=this.getAttribute('data-gina-popin-url')||this.getAttribute('href');if(!Ia)throw Error('Popin `url` not defined, please check value for `data-gina-popin-url`');l(X.name,Ia,Fa)});wa=ea.childNodes;var La=
0;lLen=wa.length;if(0<lLen)for(;La<lLen;++La)'undefined'!=typeof wa[La].tagName&&E(wa[La],ea,ta)}}ta='click';addListener(gina,document,ta,function(Fa){if(null!=Fa.target.getAttribute('disabled')&&'false'!=Fa.target.getAttribute('disabled'))return!1;'undefined'==typeof Fa.target.id&&(Fa.target.setAttribute('id',ta+'.'+O.v4()),Fa.target.id=Fa.target.getAttribute('id'));if(/^popin\.close\./.test(Fa.target.id)){cancelEvent(Fa);var Oa=Fa.target.id;triggerEvent(gina,Fa.target,Oa,Fa.detail)}/^popin\.click\./.test(Fa.target.id)&&
(cancelEvent(Fa),Oa=Fa.target.id,(new RegExp('^popin.click.gina-popin-'+n.id)).test(Oa)&&triggerEvent(gina,Fa.target,Oa,Fa.detail))});gina.popinIsBinded=!1},Ga={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}};gina.hasPopinHandler?(n.target=document.getElementById(gina.popinContainer),n.on=on):v();new ca(function(X,ia){if(X)throw X;Ea=ia});return function(X){n.getPopinById=I;n.getPopinByName=R;n.load=l;n.loadContent=T;n.getActivePopin=oa;n.open=
za;n.close=L;addListener(gina,n.target,'init.'+n.id,function(ia){ia=null;if('undefined'==typeof n.$popins['gina-popin-'+n.id+'-'+X.name]){var ea=ia=K({},z);if('object'!=typeof X)throw Error('`options` must be an object');ea.options=K(X,H.options);ea.id='gina-popin-'+n.id+'-'+ea.options.name;if('undefined'==typeof n.$popins[ea.id]){if('string'!=typeof ea.options.name||''==ea.options.name)throw Error('`options.name` can not be left `empty` or `undefined`');if(-1<r.indexOf(ea.options.name))throw Error('`popin '+
ea.options.name+'` already exists !');'undefined'!=typeof ea.options.validator&&(y=ea.options.validator,ea.validateFormById=y.validateFormById);ea.options['class']='gina-popin-container '+ea.options['class'];ea.name=ea.options.name;ea.target=n.target;ea.load=l;ea.loadContent=T;ea.open=za;ea.close=L;GINA_ENV_IS_DEV&&(ea.updateToolbar=U);ea.parentScripts=[];ea.parentStyles=[];var wa=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');wa=new RegExp(wa+':\\d+|'+wa);var ka=document.getElementsByTagName('script');
for(let Da=0,Qa=ka.length;Da<Qa;Da++)if(ka[Da].src&&''!=ka[Da].src){var ta=ka[Da].src.replace(/(https|http|):\/\//,'').replace(wa,'');ea.parentScripts[Da]=ta}ka=document.getElementsByTagName('link');for(let Da=0,Qa=ka.length;Da<Qa;Da++)'undefined'!=typeof ka[Da].rel&&/stylesheet/i.test(ka[Da].rel)&&(ta=ka[Da].href.replace(/(https|http|):\/\//,'').replace(wa,''),ea.parentStyles[Da]=ta);n.$popins[ea.id]=ea;if(window.XMLHttpRequest)F=new XMLHttpRequest;else if(window.ActiveXObject)try{F=new ActiveXObject('Msxml2.XMLHTTP')}catch(Da){try{F=
new ActiveXObject('Microsoft.XMLHTTP')}catch(Qa){}}sa(ea)}}n.isReady=!0;gina.hasPopinHandler=!0;gina.popin=K(gina.popin,n);triggerEvent(gina,n.target,'ready.'+n.id,ia)});n.initialized=!0;return n}(S)}});function fadeIn(D){var O=.1;D.style.display='block';var ca=setInterval(function(){1<=O&&clearInterval(ca);D.style.opacity=O;D.style.filter='alpha(opacity='+100*O+')';O+=.1*O},10)}
function fadeOut(D){var O=1,ca=setInterval(function(){.1>=O&&(clearInterval(ca),D.style.display='none');D.style.opacity=O;D.style.filter='alpha(opacity='+100*O+')';O-=.1*O},50)}define('utils/effects',function(){});
'function'!==typeof Object.assign&&Object.defineProperty(Object,'assign',{value:function(D,O){if(null===D||void 0===D)throw new TypeError('Cannot convert undefined or null to object');for(var ca=Object(D),Ea=1;Ea<arguments.length;Ea++){var K=arguments[Ea];if(null!==K&&void 0!==K)for(var S in K)Object.prototype.hasOwnProperty.call(K,S)&&(ca[S]=K[S])}return ca},writable:!0,configurable:!0});
if('undefined'==typeof JSON.clone){var clone=function(D,O){if(null==D||'object'!=typeof D||D.constructor!=Object&&D.constructor!=Array)return D;if(D.constructor==Date||D.constructor==RegExp||D.constructor==Function||D.constructor==String||D.constructor==Number||D.constructor==Boolean)return new D.constructor(D);O=O||new D.constructor;for(var ca=0,Ea=Object.getOwnPropertyNames(D).length||0,K=Object.keys(D);ca<Ea;)O[K[ca]]='undefined'==typeof O[K[ca]]?clone(D[K[ca]],null):O[K[ca]],ca++;return O};JSON.clone=
clone}if('undefined'==typeof JSON.escape){var escape=function(D){try{return D.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(O){throw O;}};JSON.escape=escape}define('utils/polyfill',function(){});
function Inherits(D,O){return function(ca,Ea){var K='undefined'==typeof ca||'undefined'==typeof Ea?"inherits(a, b): neither [ a ] nor [ b ] can't be undefined or null":!1;if(K)throw Error(K);K=function(){return function(){if(this){this.prototype=ca.prototype;this.name||(this.name=ca.name);this.prototype.name=this.name;for(var S in Ea.prototype)this[S]||(this[S]=Ea.prototype[S]);Ea.apply(this,arguments);ca.apply(this,arguments)}}}(ca,Ea);void 0==ca.prototype&&(ca.prototype={});void 0==Ea.prototype&&
(Ea.prototype={});ca.prototype=Object.create(Ea.prototype,{});K.prototype=Object.create(ca.prototype,{});return K}}'undefined'!==typeof module&&module.exports?module.exports=Inherits():'function'===typeof define&&define.amd&&define('lib/inherits',[],function(){return Inherits()});var readyList=[{name:'gina',ctx:window.gina,fn:window.onGinaLoaded}],readyFired=!1,readyEventHandlersInstalled=!1;
function ready(){if(!readyFired){readyFired=!0;var D=null,O=function(ca,Ea){if(Ea[ca])if('gina'==Ea[ca].name)var K=window.setInterval(function(S,oa){try{if('undefined'==typeof oa&&(oa=window.readyList),oa[S].ctx=window.gina,D=oa[S].fn.call(window,oa[S].ctx,window.require))window.clearInterval(K),++S,O(S,oa)}catch(V){throw window.clearInterval(K),V;}},50,ca,Ea);else window.$||'undefined'==typeof parent.window.$||(window.$=parent.window.$),'undefined'==typeof window.originalContext&&'undefined'!=typeof window.$&&
(window.originalContext=window.$),Ea[ca].ctx=window.originalContext||$,Ea[ca].fn.call(window,Ea[ca].ctx,window.require),++ca,O(ca,Ea);else Ea=[]};O(0,readyList)}}function readyStateChange(){'complete'===document.readyState&&gina.ready()}
if('undefined'==typeof window.gina){var gina={_global:{register:function(D){if('undefined'!=typeof D)for(let O in D)window[O]=D[O]},unregister:function(D){if('undefined'==typeof D||!Array.isArray(D))throw Error('`variables` needs to ba an array');for(let O=0,ca=D.length;O<ca;O++)delete window[D[O]]}},ready:function(D,O){readyFired?setTimeout(function(){D(O)},1):(readyList.push({name:'anonymous',fn:D,ctx:O}),'complete'===document.readyState||!document.attachEvent&&'interactive'===document.readyState?
setTimeout(ready,1):readyEventHandlersInstalled||(document.addEventListener?(document.addEventListener('DOMContentLoaded',ready,!1),window.addEventListener('load',ready,!1)):(document.attachEvent('onreadystatechange',readyStateChange),window.attachEvent('onload',ready)),readyEventHandlersInstalled=!0))}};window.gina=gina}define('core',['require','gina'],function(D){D('gina')(window.gina)});require.config({packages:['gina']});require('vendor/uuid vendor/engine.io core helpers/prototypes helpers/binding helpers/dateFormat gina/link gina/validator gina/popin gina/storage utils/dom utils/events utils/effects utils/polyfill lib/inherits lib/form-validator lib/collection lib/domain lib/routing'.split(' '));
for(var tags=document.getElementsByTagName('script'),t=0,len=tags.length;t<len;++t)if(/gina.min.js|gina.js/.test(tags[t].getAttribute('src'))){tags[t].onload=function(D){if(window.onGinaLoaded)var O=window.onGinaLoaded;document.addEventListener?document.addEventListener('ginaloaded',function(ca){window.gina=ca.detail;O(ca.detail)}):document.attachEvent&&document.attachEvent('ginaloaded',function(ca){window.gina=ca.detail;O(ca.detail)})}();break};
