/*
 RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license  @source https://gist.github.com/1129031  Engine.IO v6.2.2
 (c) 2014-2022 Guillermo Rauch
 Released under the MIT License.
*/
var requirejs,require,define;
(function(B,P){function V(Ia,Ja){return Ja||''}function ma(Ia){return'[object Function]'===Fa.call(Ia)}function U(Ia){return'[object Array]'===Fa.call(Ia)}function N(Ia,Ja){if(Ia){var Ua;for(Ua=0;Ua<Ia.length&&(!Ia[Ua]||!Ja(Ia[Ua],Ua,Ia));Ua+=1);}}function ba(Ia,Ja){if(Ia){var Ua;for(Ua=Ia.length-1;-1<Ua&&(!Ia[Ua]||!Ja(Ia[Ua],Ua,Ia));--Ua);}}function Q(Ia,Ja){return W.call(Ia,Ja)}function S(Ia,Ja){return Q(Ia,Ja)&&Ia[Ja]}function r(Ia,Ja){for(var Ua in Ia)if(Q(Ia,Ua)&&Ja(Ia[Ua],Ua))break}function H(Ia,
Ja,Ua,pb){Ja&&r(Ja,function(ab,gb){if(Ua||!Q(Ia,gb))!pb||'object'!==typeof ab||!ab||U(ab)||ma(ab)||ab instanceof RegExp?Ia[gb]=ab:(Ia[gb]||(Ia[gb]={}),H(Ia[gb],ab,Ua,pb))});return Ia}function w(Ia,Ja){return function(){return Ja.apply(Ia,arguments)}}function oa(Ia){throw Ia;}function Aa(Ia){if(!Ia)return Ia;var Ja=B;N(Ia.split('.'),function(Ua){Ja=Ja[Ua]});return Ja}function M(Ia,Ja,Ua,pb){Ja=Error(Ja+'\nhttps://requirejs.org/docs/errors.html#'+Ia);Ja.requireType=Ia;Ja.requireModules=pb;Ua&&(Ja.originalError=
Ua);return Ja}function O(){if(z&&'interactive'===z.readyState)return z;ba(document.getElementsByTagName('script'),function(Ia){if('interactive'===Ia.readyState)return z=Ia});return z}var D,A,m,z,y,G,u,v=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,F=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,J=/\.js$/,T=/^\.\//;var ta=Object.prototype;var Fa=ta.toString,W=ta.hasOwnProperty,ka=!('undefined'===typeof window||'undefined'===typeof navigator||!window.document),ha=!ka&&'undefined'!==typeof importScripts,
xa=ka&&'PLAYSTATION 3'===navigator.platform?/^complete$/:/^(complete|loaded)$/,la='undefined'!==typeof opera&&'[object Opera]'===opera.toString(),ua={},Da={},Qa=[],La=!1;if('undefined'===typeof define){if('undefined'!==typeof requirejs){if(ma(requirejs))return;Da=requirejs;requirejs=void 0}'undefined'===typeof require||ma(require)||(Da=require,require=void 0);var Ea=requirejs=function(Ia,Ja,Ua,pb){var ab='_';if(!U(Ia)&&'string'!==typeof Ia){var gb=Ia;U(Ja)?(Ia=Ja,Ja=Ua,Ua=pb):Ia=[]}gb&&gb.context&&
(ab=gb.context);(pb=S(ua,ab))||(pb=ua[ab]=Ea.s.newContext(ab));gb&&pb.configure(gb);return pb.require(Ia,Ja,Ua)};Ea.config=function(Ia){return Ea(Ia)};Ea.nextTick='undefined'!==typeof P?function(Ia){P(Ia,4)}:function(Ia){Ia()};require||=Ea;Ea.version='2.3.6';Ea.jsExtRegExp=/^\/|:|\?|\.js$/;Ea.isBrowser=ka;ta=Ea.s={contexts:ua,newContext:function(Ia){function Ja(E,na,ra){var ia;na=na&&na.split('/');var Z=l.map,Ga=Z&&Z['*'];if(E){E=E.split('/');var Pa=E.length-1;l.nodeIdCompat&&J.test(E[Pa])&&(E[Pa]=
E[Pa].replace(J,''));'.'===E[0].charAt(0)&&na&&(Pa=na.slice(0,na.length-1),E=Pa.concat(E));Pa=E;for(ia=0;ia<Pa.length;ia++){var $a=Pa[ia];'.'===$a?(Pa.splice(ia,1),--ia):'..'===$a&&0!==ia&&(1!==ia||'..'!==Pa[2])&&'..'!==Pa[ia-1]&&0<ia&&(Pa.splice(ia-1,2),ia-=2)}E=E.join('/')}if(ra&&Z&&(na||Ga)){Pa=E.split('/');ia=Pa.length;a:for(;0<ia;--ia){var ib=Pa.slice(0,ia).join('/');if(na)for($a=na.length;0<$a;--$a)if(ra=S(Z,na.slice(0,$a).join('/')))if(ra=S(ra,ib)){var Cb=ra;var zb=ia;break a}if(!qb&&Ga&&S(Ga,
ib)){var qb=S(Ga,ib);var Mb=ia}}!Cb&&qb&&(Cb=qb,zb=Mb);Cb&&(Pa.splice(0,zb,Cb),E=Pa.join('/'))}return(Cb=S(l.pkgs,E))?Cb:E}function Ua(E){ka&&N(document.getElementsByTagName('script'),function(na){if(na.getAttribute('data-requiremodule')===E&&na.getAttribute('data-requirecontext')===da.contextName)return na.parentNode.removeChild(na),!0})}function pb(E){var na=S(l.paths,E);if(na&&U(na)&&1<na.length)return na.shift(),da.require.undef(E),da.makeRequire(null,{skipMap:!0})([E]),!0}function ab(E){var na=
E?E.indexOf('!'):-1;if(-1<na){var ra=E.substring(0,na);E=E.substring(na+1,E.length)}return[ra,E]}function gb(E,na,ra,ia){var Z=null,Ga=na?na.name:null,Pa=E,$a=!0,ib='';E||($a=!1,E='_@r'+(K+=1));E=ab(E);Z=E[0];E=E[1];if(Z){Z=Ja(Z,Ga,ia);var Cb=S(q,Z)}if(E)if(Z)ib=ra?E:Cb&&Cb.normalize?Cb.normalize(E,function(qb){return Ja(qb,Ga,ia)}):-1===E.indexOf('!')?Ja(E,Ga,ia):E;else{ib=Ja(E,Ga,ia);E=ab(ib);Z=E[0];ib=E[1];ra=!0;var zb=da.nameToUrl(ib)}ra=!Z||Cb||ra?'':'_unnormalized'+(fa+=1);return{prefix:Z,name:ib,
parentMap:na,unnormalized:!!ra,url:zb,originalName:Pa,isDefine:$a,id:(Z?Z+'!'+ib:ib)+ra}}function Ub(E){var na=E.id,ra=S(g,na);ra||=g[na]=new da.Module(E);return ra}function Zb(E,na,ra){var ia=E.id,Z=S(g,ia);if(!Q(q,ia)||Z&&!Z.defineEmitComplete)if(Z=Ub(E),Z.error&&'error'===na)ra(Z.error);else Z.on(na,ra);else'defined'===na&&ra(q[ia])}function jb(E,na){var ra=E.requireModules,ia=!1;if(na)na(E);else if(N(ra,function(Z){if(Z=S(g,Z))Z.error=E,Z.events.error&&(ia=!0,Z.emit('error',E))}),!ia)Ea.onError(E)}
function Db(){Qa.length&&(N(Qa,function(E){var na=E[0];'string'===typeof na&&(da.defQueueMap[na]=!0);x.push(E)}),Qa=[])}function rb(E){delete g[E];delete h[E]}function xb(E,na,ra){var ia=E.map.id;E.error?E.emit('error',E.error):(na[ia]=!0,N(E.depMaps,function(Z,Ga){Z=Z.id;var Pa=S(g,Z);!Pa||E.depMatched[Ga]||ra[Z]||(S(na,Z)?(E.defineDep(Ga,q[Z]),E.check()):xb(Pa,na,ra))}),ra[ia]=!0)}function Ka(){var E,na,ra=(E=1E3*l.waitSeconds)&&da.startTime+E<(new Date).getTime(),ia=[],Z=[],Ga=!1,Pa=!0;if(!ya){ya=
!0;r(h,function($a){var ib=$a.map,Cb=ib.id;if($a.enabled&&(ib.isDefine||Z.push($a),!$a.error))if(!$a.inited&&ra)pb(Cb)?Ga=na=!0:(ia.push(Cb),Ua(Cb));else if(!$a.inited&&$a.fetched&&ib.isDefine&&(Ga=!0,!ib.prefix))return Pa=!1});if(ra&&ia.length)return E=M('timeout','Load timeout for modules: '+ia,null,ia),E.contextName=da.contextName,jb(E);Pa&&N(Z,function($a){xb($a,{},{})});ra&&!na||!Ga||!ka&&!ha||za||(za=P(function(){za=0;Ka()},50));ya=!1}}function db(E){Q(q,E[0])||Ub(gb(E[0],null,!0)).init(E[1],
E[2])}function Lb(E){E=E.currentTarget||E.srcElement;var na=da.onScriptLoad;E.detachEvent&&!la?E.detachEvent('onreadystatechange',na):E.removeEventListener('load',na,!1);na=da.onScriptError;E.detachEvent&&!la||E.removeEventListener('error',na,!1);return{node:E,id:E&&E.getAttribute('data-requiremodule')}}function Vb(){for(Db();x.length;){var E=x.shift();if(null===E[0])return jb(M('mismatch','Mismatched anonymous define() module: '+E[E.length-1]));db(E)}da.defQueueMap={}}var ya,za,l={waitSeconds:7,
baseUrl:'./',paths:{},bundles:{},pkgs:{},shim:{},config:{}},g={},h={},b={},x=[],q={},p={},R={},K=1,fa=1;var Ba={require:function(E){return E.require?E.require:E.require=da.makeRequire(E.map)},exports:function(E){E.usingExports=!0;if(E.map.isDefine)return E.exports?q[E.map.id]=E.exports:E.exports=q[E.map.id]={}},module:function(E){return E.module?E.module:E.module={id:E.map.id,uri:E.map.url,config:function(){return S(l.config,E.map.id)||{}},exports:E.exports||(E.exports={})}}};var ea=function(E){this.events=
S(b,E.id)||{};this.map=E;this.shim=S(l.shim,E.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};ea.prototype={init:function(E,na,ra,ia){ia=ia||{};if(!this.inited){this.factory=na;if(ra)this.on('error',ra);else this.events.error&&(ra=w(this,function(Z){this.emit('error',Z)}));this.depMaps=E&&E.slice(0);this.errback=ra;this.inited=!0;this.ignore=ia.ignore;ia.enabled||this.enabled?this.enable():this.check()}},defineDep:function(E,na){this.depMatched[E]||(this.depMatched[E]=
!0,--this.depCount,this.depExports[E]=na)},fetch:function(){if(!this.fetched){this.fetched=!0;da.startTime=(new Date).getTime();var E=this.map;if(this.shim)da.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],w(this,function(){return E.prefix?this.callPlugin():this.load()}));else return E.prefix?this.callPlugin():this.load()}},load:function(){var E=this.map.url;p[E]||(p[E]=!0,da.load(this.map.id,E))},check:function(){if(this.enabled&&!this.enabling){var E=this.map.id;var na=this.depExports;
var ra=this.exports,ia=this.factory;if(!this.inited)Q(da.defQueueMap,E)||this.fetch();else if(this.error)this.emit('error',this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(ma(ia)){if(this.events.error&&this.map.isDefine||Ea.onError!==oa)try{ra=da.execCb(E,ia,na,ra)}catch(Pa){var Z=Pa}else ra=da.execCb(E,ia,na,ra);this.map.isDefine&&void 0===ra&&((na=this.module)?ra=na.exports:this.usingExports&&(ra=this.exports));if(Z)return Z.requireMap=this.map,Z.requireModules=
this.map.isDefine?[this.map.id]:null,Z.requireType=this.map.isDefine?'define':'require',jb(this.error=Z)}else ra=ia;this.exports=ra;if(this.map.isDefine&&!this.ignore&&(q[E]=ra,Ea.onResourceLoad)){var Ga=[];N(this.depMaps,function(Pa){Ga.push(Pa.normalizedMap||Pa)});Ea.onResourceLoad(da,this.map,Ga)}rb(E);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit('defined',this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var E=this.map,na=
E.id,ra=gb(E.prefix);this.depMaps.push(ra);Zb(ra,'defined',w(this,function(ia){var Z=S(R,this.map.id),Ga=this.map.name,Pa=this.map.parentMap?this.map.parentMap.name:null,$a=da.makeRequire(E.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){ia.normalize&&(Ga=ia.normalize(Ga,function(zb){return Ja(zb,Pa,!0)})||'');var ib=gb(E.prefix+'!'+Ga,this.map.parentMap,!0);Zb(ib,'defined',w(this,function(zb){this.map.normalizedMap=ib;this.init([],function(){return zb},null,{enabled:!0,ignore:!0})}));
if(ia=S(g,ib.id)){this.depMaps.push(ib);if(this.events.error)ia.on('error',w(this,function(zb){this.emit('error',zb)}));ia.enable()}}else if(Z)this.map.url=da.nameToUrl(Z),this.load();else{var Cb=w(this,function(zb){this.init([],function(){return zb},null,{enabled:!0})});Cb.error=w(this,function(zb){this.inited=!0;this.error=zb;zb.requireModules=[na];r(g,function(qb){0===qb.map.id.indexOf(na+'_unnormalized')&&rb(qb.map.id)});jb(zb)});Cb.fromText=w(this,function(zb,qb){var Mb=E.name,Ya=gb(Mb),cb=La;
qb&&(zb=qb);cb&&(La=!1);Ub(Ya);Q(l.config,na)&&(l.config[Mb]=l.config[na]);try{Ea.exec(zb)}catch(ca){return jb(M('fromtexteval','fromText eval for '+na+' failed: '+ca,ca,[na]))}cb&&(La=!0);this.depMaps.push(Ya);da.completeLoad(Mb);$a([Mb],Cb)});ia.load(E.name,$a,Cb,l)}}));da.enable(ra,this);this.pluginMaps[ra.id]=ra},enable:function(){h[this.map.id]=this;this.enabling=this.enabled=!0;N(this.depMaps,w(this,function(E,na){var ra;if('string'===typeof E){E=gb(E,this.map.isDefine?this.map:this.map.parentMap,
!1,!this.skipMap);this.depMaps[na]=E;if(ra=S(Ba,E.id)){this.depExports[na]=ra(this);return}this.depCount+=1;Zb(E,'defined',w(this,function(Z){this.undefed||(this.defineDep(na,Z),this.check())}));this.errback?Zb(E,'error',w(this,this.errback)):this.events.error&&Zb(E,'error',w(this,function(Z){this.emit('error',Z)}))}ra=E.id;var ia=g[ra];Q(Ba,ra)||!ia||ia.enabled||da.enable(E,this)}));r(this.pluginMaps,w(this,function(E){var na=S(g,E.id);na&&!na.enabled&&da.enable(E,this)}));this.enabling=!1;this.check()},
on:function(E,na){var ra=this.events[E];ra||=this.events[E]=[];ra.push(na)},emit:function(E,na){N(this.events[E],function(ra){ra(na)});'error'===E&&delete this.events[E]}};var da={config:l,contextName:Ia,registry:g,defined:q,urlFetched:p,defQueue:x,defQueueMap:{},Module:ea,makeModuleMap:gb,nextTick:Ea.nextTick,onError:jb,configure:function(E){E.baseUrl&&'/'!==E.baseUrl.charAt(E.baseUrl.length-1)&&(E.baseUrl+='/');if('string'===typeof E.urlArgs){var na=E.urlArgs;E.urlArgs=function(Z,Ga){return(-1===
Ga.indexOf('?')?'?':'&')+na}}var ra=l.shim,ia={paths:!0,bundles:!0,config:!0,map:!0};r(E,function(Z,Ga){ia[Ga]?(l[Ga]||(l[Ga]={}),H(l[Ga],Z,!0,!0)):l[Ga]=Z});E.bundles&&r(E.bundles,function(Z,Ga){N(Z,function(Pa){Pa!==Ga&&(R[Pa]=Ga)})});E.shim&&(r(E.shim,function(Z,Ga){U(Z)&&(Z={deps:Z});!Z.exports&&!Z.init||Z.exportsFn||(Z.exportsFn=da.makeShimExports(Z));ra[Ga]=Z}),l.shim=ra);E.packages&&N(E.packages,function(Z){Z='string'===typeof Z?{name:Z}:Z;var Ga=Z.name;Z.location&&(l.paths[Ga]=Z.location);
l.pkgs[Ga]=Z.name+'/'+(Z.main||'main').replace(T,'').replace(J,'')});r(g,function(Z,Ga){Z.inited||Z.map.unnormalized||(Z.map=gb(Ga,null,!0))});(E.deps||E.callback)&&da.require(E.deps||[],E.callback)},makeShimExports:function(E){return function(){var na;E.init&&(na=E.init.apply(B,arguments));return na||E.exports&&Aa(E.exports)}},makeRequire:function(E,na){function ra(ia,Z,Ga){var Pa;na.enableBuildCallback&&Z&&ma(Z)&&(Z.__requireJsBuild=!0);if('string'===typeof ia){if(ma(Z))return jb(M('requireargs',
'Invalid require call'),Ga);if(E&&Q(Ba,ia))return Ba[ia](g[E.id]);if(Ea.get)return Ea.get(da,ia,E,ra);var $a=gb(ia,E,!1,!0);$a=$a.id;return Q(q,$a)?q[$a]:jb(M('notloaded','Module name "'+$a+'" has not been loaded yet for context: '+Ia+(E?'':'. Use require([])')))}Vb();da.nextTick(function(){Vb();Pa=Ub(gb(null,E));Pa.skipMap=na.skipMap;Pa.init(ia,Z,Ga,{enabled:!0});Ka()});return ra}na=na||{};H(ra,{isBrowser:ka,toUrl:function(ia){var Z=ia.lastIndexOf('.'),Ga=ia.split('/')[0];if(-1!==Z&&('.'!==Ga&&'..'!==
Ga||1<Z)){var Pa=ia.substring(Z,ia.length);ia=ia.substring(0,Z)}return da.nameToUrl(Ja(ia,E&&E.id,!0),Pa,!0)},defined:function(ia){return Q(q,gb(ia,E,!1,!0).id)},specified:function(ia){ia=gb(ia,E,!1,!0).id;return Q(q,ia)||Q(g,ia)}});E||(ra.undef=function(ia){Db();var Z=gb(ia,E,!0),Ga=S(g,ia);Ga.undefed=!0;Ua(ia);delete q[ia];delete p[Z.url];delete b[ia];ba(x,function(Pa,$a){Pa[0]===ia&&x.splice($a,1)});delete da.defQueueMap[ia];Ga&&(Ga.events.defined&&(b[ia]=Ga.events),rb(ia))});return ra},enable:function(E){S(g,
E.id)&&Ub(E).enable()},completeLoad:function(E){var na=S(l.shim,E)||{},ra=na.exports;for(Db();x.length;){var ia=x.shift();if(null===ia[0]){ia[0]=E;if(Z)break;var Z=!0}else ia[0]===E&&(Z=!0);db(ia)}da.defQueueMap={};ia=S(g,E);if(!Z&&!Q(q,E)&&ia&&!ia.inited)if(!l.enforceDefine||ra&&Aa(ra))db([E,na.deps||[],na.exportsFn]);else return pb(E)?void 0:jb(M('nodefine','No define call for '+E,null,[E]));Ka()},nameToUrl:function(E,na,ra){var ia,Z;(ia=S(l.pkgs,E))&&(E=ia);if(ia=S(R,E))return da.nameToUrl(ia,
na,ra);if(Ea.jsExtRegExp.test(E))ia=E+(na||'');else{ia=l.paths;var Ga=E.split('/');for(Z=Ga.length;0<Z;--Z){var Pa=Ga.slice(0,Z).join('/');if(Pa=S(ia,Pa)){U(Pa)&&(Pa=Pa[0]);Ga.splice(0,Z,Pa);break}}ia=Ga.join('/');ia+=na||(/^data:|^blob:|\?/.test(ia)||ra?'':'.js');ia=('/'===ia.charAt(0)||ia.match(/^[\w\+\.\-]+:/)?'':l.baseUrl)+ia}return l.urlArgs&&!/^blob:/.test(ia)?ia+l.urlArgs(E,ia):ia},load:function(E,na){Ea.load(da,E,na)},execCb:function(E,na,ra,ia){return na.apply(ia,ra)},onScriptLoad:function(E){if('load'===
E.type||xa.test((E.currentTarget||E.srcElement).readyState))z=null,E=Lb(E),da.completeLoad(E.id)},onScriptError:function(E){var na=Lb(E);if(!pb(na.id)){var ra=[];r(g,function(ia,Z){0!==Z.indexOf('_@r')&&N(ia.depMaps,function(Ga){if(Ga.id===na.id)return ra.push(Z),!0})});return jb(M('scripterror','Script error for "'+na.id+(ra.length?'", needed by: '+ra.join(', '):'"'),E,[na.id]))}}};da.require=da.makeRequire();return da}};Ea({});N(['toUrl','undef','defined','specified'],function(Ia){Ea[Ia]=function(){var Ja=
ua._;return Ja.require[Ia].apply(Ja,arguments)}});if(ka){var Na=ta.head=document.getElementsByTagName('head')[0];if(D=document.getElementsByTagName('base')[0])Na=ta.head=D.parentNode}Ea.onError=oa;Ea.createNode=function(Ia,Ja,Ua){Ja=Ia.xhtml?document.createElementNS('http://www.w3.org/1999/xhtml','html:script'):document.createElement('script');Ja.type=Ia.scriptType||'text/javascript';Ja.charset='utf-8';Ja.async=!0;return Ja};Ea.load=function(Ia,Ja,Ua){var pb=Ia&&Ia.config||{};if(ka){var ab=Ea.createNode(pb,
Ja,Ua);ab.setAttribute('data-requirecontext',Ia.contextName);ab.setAttribute('data-requiremodule',Ja);!ab.attachEvent||ab.attachEvent.toString&&0>ab.attachEvent.toString().indexOf('[native code')||la?(ab.addEventListener('load',Ia.onScriptLoad,!1),ab.addEventListener('error',Ia.onScriptError,!1)):(La=!0,ab.attachEvent('onreadystatechange',Ia.onScriptLoad));ab.src=Ua;if(pb.onNodeCreated)pb.onNodeCreated(ab,pb,Ja,Ua);y=ab;D?Na.insertBefore(ab,D):Na.appendChild(ab);y=null;return ab}if(ha)try{P(function(){},
0),importScripts(Ua),Ia.completeLoad(Ja)}catch(gb){Ia.onError(M('importscripts','importScripts failed for '+Ja+' at '+Ua,gb,[Ja]))}};ka&&!Da.skipDataMain&&ba(document.getElementsByTagName('script'),function(Ia){Na||(Na=Ia.parentNode);if(A=Ia.getAttribute('data-main'))return G=A,Da.baseUrl||-1!==G.indexOf('!')||(m=G.split('/'),G=m.pop(),u=m.length?m.join('/')+'/':'./',Da.baseUrl=u),G=G.replace(J,''),Ea.jsExtRegExp.test(G)&&(G=A),Da.deps=Da.deps?Da.deps.concat(G):[G],!0});define=function(Ia,Ja,Ua){var pb;
'string'!==typeof Ia&&(Ua=Ja,Ja=Ia,Ia=null);U(Ja)||(Ua=Ja,Ja=null);!Ja&&ma(Ua)&&(Ja=[],Ua.length&&(Ua.toString().replace(v,V).replace(F,function(gb,Ub){Ja.push(Ub)}),Ja=(1===Ua.length?['require']:['require','exports','module']).concat(Ja)));if(La&&(pb=y||O())){Ia||=pb.getAttribute('data-requiremodule');var ab=ua[pb.getAttribute('data-requirecontext')]}ab?(ab.defQueue.push([Ia,Ja,Ua]),ab.defQueueMap[Ia]=!0):Qa.push([Ia,Ja,Ua])};define.amd={jQuery:!0};Ea.exec=function(Ia){return eval(Ia)};Ea(Da)}})(this,
'undefined'===typeof setTimeout?void 0:setTimeout);define('requireLib',function(){});
!function(B,P){'object'==typeof exports&&'undefined'!=typeof module?P(exports):'function'==typeof define&&define.amd?define('vendor/uuid',['exports'],P):P((B=B||self).uuid={})}(this,function(B){function P(){if(!r)throw Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');return r(H)}function V(m,z){z=z||0;var y=Aa;return[y[m[z++]],y[m[z++]],y[m[z++]],y[m[z++]],'-',y[m[z++]],y[m[z++]],'-',y[m[z++]],y[m[z++]],'-',y[m[z++]],y[m[z++]],'-',y[m[z++]],
y[m[z++]],y[m[z++]],y[m[z++]],y[m[z++]],y[m[z++]]].join('')}function ma(m,z,y){var G=function(u,v,F,J){J=F&&J||0;if('string'==typeof u&&(u=function(T){T=unescape(encodeURIComponent(T));for(var ta=Array(T.length),Fa=0;Fa<T.length;Fa++)ta[Fa]=T.charCodeAt(Fa);return ta}(u)),'string'==typeof v&&(v=function(T){var ta=[];return T.replace(/[a-fA-F0-9]{2}/g,function(Fa){ta.push(parseInt(Fa,16))}),ta}(v)),!Array.isArray(u))throw TypeError('value must be an array of bytes');if(!Array.isArray(v)||16!==v.length)throw TypeError('namespace must be uuid string or an Array of 16 byte values');
u=y(v.concat(u));if(u[6]=15&u[6]|z,u[8]=63&u[8]|128,F)for(v=0;16>v;++v)F[J+v]=u[v];return F||V(u)};try{G.name=m}catch(u){}return G.DNS='6ba7b810-9dad-11d1-80b4-00c04fd430c8',G.URL='6ba7b811-9dad-11d1-80b4-00c04fd430c8',G}function U(m,z){var y=(65535&m)+(65535&z);return(m>>16)+(z>>16)+(y>>16)<<16|65535&y}function N(m,z,y,G,u,v){return U((F=U(U(z,m),U(G,v)))<<(J=u)|F>>>32-J,y);var F,J}function ba(m,z,y,G,u,v,F){return N(z&y|~z&G,m,z,u,v,F)}function Q(m,z,y,G,u,v,F){return N(z&G|y&~G,m,z,u,v,F)}function S(m,
z,y,G,u,v,F){return N(y^(z|~G),m,z,u,v,F)}for(var r='undefined'!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||'undefined'!=typeof msCrypto&&'function'==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),H=new Uint8Array(16),w,oa,Aa=[],M=0;256>M;++M)Aa[M]=(M+256).toString(16).substr(1);var O=0,D=0;M=ma('v3',48,function(m){if('string'==typeof m){var z=unescape(encodeURIComponent(m));m=Array(z.length);for(var y=0;y<z.length;y++)m[y]=z.charCodeAt(y)}return function(G){var u,
v=[],F=32*G.length;for(u=0;u<F;u+=8){var J=G[u>>5]>>>u%32&255;J=parseInt('0123456789abcdef'.charAt(J>>>4&15)+'0123456789abcdef'.charAt(15&J),16);v.push(J)}return v}(function(G,u){G[u>>5]|=128<<u%32;G[14+(u+64>>>9<<4)]=u;var v=1732584193,F=-271733879,J=-1732584194,T=271733878;for(u=0;u<G.length;u+=16){var ta=v;var Fa=F;var W=J;var ka=T;v=ba(v,F,J,T,G[u],7,-680876936);T=ba(T,v,F,J,G[u+1],12,-389564586);J=ba(J,T,v,F,G[u+2],17,606105819);F=ba(F,J,T,v,G[u+3],22,-1044525330);v=ba(v,F,J,T,G[u+4],7,-176418897);
T=ba(T,v,F,J,G[u+5],12,1200080426);J=ba(J,T,v,F,G[u+6],17,-1473231341);F=ba(F,J,T,v,G[u+7],22,-45705983);v=ba(v,F,J,T,G[u+8],7,1770035416);T=ba(T,v,F,J,G[u+9],12,-1958414417);J=ba(J,T,v,F,G[u+10],17,-42063);F=ba(F,J,T,v,G[u+11],22,-1990404162);v=ba(v,F,J,T,G[u+12],7,1804603682);T=ba(T,v,F,J,G[u+13],12,-40341101);J=ba(J,T,v,F,G[u+14],17,-1502002290);F=ba(F,J,T,v,G[u+15],22,1236535329);v=Q(v,F,J,T,G[u+1],5,-165796510);T=Q(T,v,F,J,G[u+6],9,-1069501632);J=Q(J,T,v,F,G[u+11],14,643717713);F=Q(F,J,T,v,G[u],
20,-373897302);v=Q(v,F,J,T,G[u+5],5,-701558691);T=Q(T,v,F,J,G[u+10],9,38016083);J=Q(J,T,v,F,G[u+15],14,-660478335);F=Q(F,J,T,v,G[u+4],20,-405537848);v=Q(v,F,J,T,G[u+9],5,568446438);T=Q(T,v,F,J,G[u+14],9,-1019803690);J=Q(J,T,v,F,G[u+3],14,-187363961);F=Q(F,J,T,v,G[u+8],20,1163531501);v=Q(v,F,J,T,G[u+13],5,-1444681467);T=Q(T,v,F,J,G[u+2],9,-51403784);J=Q(J,T,v,F,G[u+7],14,1735328473);F=Q(F,J,T,v,G[u+12],20,-1926607734);v=N(F^J^T,v,F,G[u+5],4,-378558);T=N(v^F^J,T,v,G[u+8],11,-2022574463);J=N(T^v^F,J,
T,G[u+11],16,1839030562);F=N(J^T^v,F,J,G[u+14],23,-35309556);v=N(F^J^T,v,F,G[u+1],4,-1530992060);T=N(v^F^J,T,v,G[u+4],11,1272893353);J=N(T^v^F,J,T,G[u+7],16,-155497632);F=N(J^T^v,F,J,G[u+10],23,-1094730640);v=N(F^J^T,v,F,G[u+13],4,681279174);T=N(v^F^J,T,v,G[u],11,-358537222);J=N(T^v^F,J,T,G[u+3],16,-722521979);F=N(J^T^v,F,J,G[u+6],23,76029189);v=N(F^J^T,v,F,G[u+9],4,-640364487);T=N(v^F^J,T,v,G[u+12],11,-421815835);J=N(T^v^F,J,T,G[u+15],16,530742520);F=N(J^T^v,F,J,G[u+2],23,-995338651);v=S(v,F,J,T,
G[u],6,-198630844);T=S(T,v,F,J,G[u+7],10,1126891415);J=S(J,T,v,F,G[u+14],15,-1416354905);F=S(F,J,T,v,G[u+5],21,-57434055);v=S(v,F,J,T,G[u+12],6,1700485571);T=S(T,v,F,J,G[u+3],10,-1894986606);J=S(J,T,v,F,G[u+10],15,-1051523);F=S(F,J,T,v,G[u+1],21,-2054922799);v=S(v,F,J,T,G[u+8],6,1873313359);T=S(T,v,F,J,G[u+15],10,-30611744);J=S(J,T,v,F,G[u+6],15,-1560198380);F=S(F,J,T,v,G[u+13],21,1309151649);v=S(v,F,J,T,G[u+4],6,-145523070);T=S(T,v,F,J,G[u+11],10,-1120210379);J=S(J,T,v,F,G[u+2],15,718787259);F=S(F,
J,T,v,G[u+9],21,-343485551);v=U(v,ta);F=U(F,Fa);J=U(J,W);T=U(T,ka)}return[v,F,J,T]}(function(G){var u,v=[];v[(G.length>>2)-1]=void 0;for(u=0;u<v.length;u+=1)v[u]=0;var F=8*G.length;for(u=0;u<F;u+=8)v[u>>5]|=(255&G[u/8])<<u%32;return v}(m),8*m.length))});var A=ma('v5',80,function(m){var z=[1518500249,1859775393,2400959708,3395469782],y=[1732584193,4023233417,2562383102,271733878,3285377520];if('string'==typeof m){var G=unescape(encodeURIComponent(m));m=Array(G.length);for(var u=0;u<G.length;u++)m[u]=
G.charCodeAt(u)}m.push(128);G=Math.ceil((m.length/4+2)/16);var v=Array(G);for(u=0;u<G;u++){v[u]=Array(16);for(var F=0;16>F;F++)v[u][F]=m[64*u+4*F]<<24|m[64*u+4*F+1]<<16|m[64*u+4*F+2]<<8|m[64*u+4*F+3]}v[G-1][14]=8*(m.length-1)/Math.pow(2,32);v[G-1][14]=Math.floor(v[G-1][14]);v[G-1][15]=8*(m.length-1)&4294967295;for(u=0;u<G;u++){m=Array(80);for(F=0;16>F;F++)m[F]=v[u][F];for(F=16;80>F;F++){var J=m[F-3]^m[F-8]^m[F-14]^m[F-16];m[F]=J<<1|J>>>31}J=y[0];var T=y[1],ta=y[2],Fa=y[3],W=y[4];for(F=0;80>F;F++){var ka=
Math.floor(F/20),ha=J<<5|J>>>27;a:{switch(ka){case 0:var xa=T&ta^~T&Fa;break a;case 1:xa=T^ta^Fa;break a;case 2:xa=T&ta^T&Fa^ta&Fa;break a;case 3:xa=T^ta^Fa;break a}xa=void 0}ka=ha+xa+W+z[ka]+m[F]>>>0;W=Fa;Fa=ta;ta=(T<<30|T>>>2)>>>0;T=J;J=ka}y[0]=y[0]+J>>>0;y[1]=y[1]+T>>>0;y[2]=y[2]+ta>>>0;y[3]=y[3]+Fa>>>0;y[4]=y[4]+W>>>0}return[y[0]>>24&255,y[0]>>16&255,y[0]>>8&255,255&y[0],y[1]>>24&255,y[1]>>16&255,y[1]>>8&255,255&y[1],y[2]>>24&255,y[2]>>16&255,y[2]>>8&255,255&y[2],y[3]>>24&255,y[3]>>16&255,y[3]>>
8&255,255&y[3],y[4]>>24&255,y[4]>>16&255,y[4]>>8&255,255&y[4]]});B.v1=function(m,z,y){y=z&&y||0;var G=z||[],u=(m=m||{}).node||w,v=void 0!==m.clockseq?m.clockseq:oa;if(null==u||null==v){var F=m.random||(m.rng||P)();null==u&&(u=w=[1|F[0],F[1],F[2],F[3],F[4],F[5]]);null==v&&(v=oa=16383&(F[6]<<8|F[7]))}F=void 0!==m.msecs?m.msecs:(new Date).getTime();var J=void 0!==m.nsecs?m.nsecs:D+1,T=F-O+(J-D)/1E4;if(0>T&&void 0===m.clockseq&&(v=v+1&16383),(0>T||F>O)&&void 0===m.nsecs&&(J=0),1E4<=J)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");
O=F;D=J;oa=v;m=(1E4*(268435455&(F+=122192928E5))+J)%4294967296;G[y++]=m>>>24&255;G[y++]=m>>>16&255;G[y++]=m>>>8&255;G[y++]=255&m;m=F/4294967296*1E4&268435455;G[y++]=m>>>8&255;G[y++]=255&m;G[y++]=m>>>24&15|16;G[y++]=m>>>16&255;G[y++]=v>>>8|128;G[y++]=255&v;for(v=0;6>v;++v)G[y+v]=u[v];return z||V(G)};B.v3=M;B.v4=function(m,z,y){y=z&&y||0;'string'==typeof m&&(z='binary'===m?Array(16):null,m=null);var G=(m=m||{}).random||(m.rng||P)();if(G[6]=15&G[6]|64,G[8]=63&G[8]|128,z)for(m=0;16>m;++m)z[y+m]=G[m];
return z||V(G)};B.v5=A;Object.defineProperty(B,'__esModule',{value:!0})});
function Merge(){var B=[],P=!1,V=function(N,ba){var Q=N;P||('object'==typeof N&&Array.isArray(N),P=!0);'undefined'==typeof Q&&(Q='undefined'!=typeof ba&&Array.isArray(ba)?[]:{});var S=!1;'boolean'==typeof arguments[arguments.length-1]&&(S=arguments[arguments.length-1]);var r=1,H=arguments.length,w,oa;if('object'!==typeof Q&&'function'!==typeof Q)Q=S?'undefined'==typeof arguments[2]?arguments[1]:arguments[2]:'undefined'==typeof arguments[0]?arguments[1]:arguments[0];else for(;r<H;++r)if('boolean'!=
typeof arguments[r]&&null!=(w=arguments[r])){if('object'!=typeof w){Q=w;break}if(Array.isArray(w)&&Array.isArray(Q))Q=ma(w,Q,S);else for(var Aa in w){Q||={name:null};var M=Q[Aa];var O=w[Aa];if(Q!==O)if(O&&(U(O)||(oa=Array.isArray(O)))){var D=!1;if(oa){oa=!1;if(M&&Array.isArray(M))var A=M||[];else if(U(M)){A=M||{};Q[Aa]=A;continue}else A=[];B=A;A=ma(O,A,S);Q[Aa]=A}else{A=M&&U(M)?M:null;if(!A){D=!0;A={};for(var m in O)A[m]=O[m]}if(S){for(m in O)'undefined'!=typeof O[m]?Array.isArray(O[m])&&Array.isArray(A[m])?
A[m]=ma(O[m],A[m],S):A[m]=O[m]:Array.isArray(O[m])&&Array.isArray(A[m])&&(A[m]=ma(O[m],A[m],S));Q[Aa]=A}else{for(m in O)'undefined'==typeof A[m]?Array.isArray(O[m])&&Array.isArray(A[m])?A[m]=ma(O[m],A[m],S):A[m]=O[m]:Array.isArray(O[m])&&Array.isArray(A[m])&&(A[m]=ma(O[m],A[m],S));'boolean'==typeof M||D?D&&(Q[Aa]=A):Q[Aa]=V(A,O,S)}}}else void 0!==O&&(Q[Aa]='undefined'==typeof M||null==M||M===O||S?O:M)}}B=[];P=!1;return Q},ma=function(N,ba,Q){B=[];var S=[],r=V.getKeyComparison();if(/^true$/i.test(Q)){if('object'==
typeof N[0]&&null!=N[0]&&'undefined'!=typeof N[0][r]&&'object'==typeof ba[0]&&'undefined'!=typeof ba[0][r]){B=Array.isArray(ba)?Array.from(ba):JSON.clone(ba);var H=0;for(Q=B.length;H<Q;++H)S.push(B[H][r]);Q=JSON.clone(N);var w=0;H=0;N=Q.length;for(var oa=M||0,Aa=ba.length;oa<Aa;++oa)a:for(H=H||0;H<N;++H)if(Q[H][r]===ba[oa][r]){-1<S.indexOf(Q[H][r])?(B[w]=Q[H],++w):-1==S.indexOf(Q[H][r])&&(S.push(Q[H][r]),B[w]=Q[H],++w);break a}else-1==S.indexOf(Q[H][r])&&(S.push(Q[H][r]),B.push(Q[H]));return B}return Array.isArray(N)&&
0==N.length||'undefined'==typeof N?/^true$/i.test(Q)?N:ba:N}if(0==N.length&&0<ba.length)return B=ba;if(0==ba.length&&0<N.length)for(H=0;H<N.length;++H)ba.push(N[H]);if(0==B.length&&0<ba.length)for(H=0;H<ba.length;++H)'object'!=typeof ba[H]&&-1==B.indexOf(ba[H])&&B.push(ba[H]);if(0<ba.length){if('undefined'!=typeof N[0]&&'object'==typeof N[0]&&null!=N[0]&&'undefined'!=typeof N[0][r]&&'object'==typeof ba[0]&&'undefined'!=typeof ba[0][r]){B=Array.isArray(ba)?Array.from(ba):JSON.clone(ba);Q=JSON.clone(N);
var M=null;H=0;for(N=B.length;H<N;++H)S.push(B[H][r]);for(H=0;H<N;++H)a:for(oa=M||0,Aa=Q.length;oa<Aa;++oa)if(null!=Q[oa]&&'undefined'!=typeof Q[oa][r]&&Q[oa][r]!==B[H][r]){if(-1==S.indexOf(Q[oa][r])){B.push(Q[oa]);S.push(Q[oa][r]);M=oa+1;N<Aa&&++N;break a}}else if(null!=Q[oa]&&'undefined'!=typeof Q[oa][r]&&Q[oa][r]===B[H][r])M=oa+1;else break a;return B}for(H=0;H<N.length;++H)if(S=null,'undefined'==typeof N||'object'!=typeof N[H]||Array.isArray(N[H])||null==N[H]||(S=Object.getOwnPropertyNames(N[H])),
'undefined'!=typeof S&&null!=S&&(S=S[0]||null),-1<ba.indexOf(N[H])&&Q)ba.splice(ba.indexOf(N[H]),1,N[H]);else if('undefined'==typeof B[H]&&'object'==typeof N[H])for(w in B=ba,'undefined'==typeof B[H]&&(B[H]={}),N[H])B[H].hasOwnProperty(w)||(B[H][w]=N[H][w]);else!Q&&-1<B.indexOf(N[H])&&/number/i.test(typeof N[H])&&N[H]!==B[H]?B.push(N[H]):'undefined'==typeof ba[H]||/null/i.test(ba[H])||'undefined'==typeof ba[H][r]||'undefined'==typeof N[H]||'undefined'==typeof N[H][r]||ba[H][r]!=N[H][r]?-1==B.indexOf(N[H])&&
'object'!=typeof N[H]?B.push(N[H]):'undefined'==typeof ba[H]||/null/i.test(ba[H])||'undefined'==typeof ba[H][S]||'undefined'==typeof N[H]||'undefined'==typeof N[H][S]||ba[H][S]!=N[H][S]||(B[H]=Q?N[H]:ba[H]):B[H]=Q?N[H]:ba[H]}if(0<B.length&&0<ba.length||0==B.length&&0==ba.length)return B};ma.prototype.setKeyComparison=function(N){this.keyComparison=N};var U=function(N){if(!N||'[object Object]'!=={}.toString.call(N)||N.nodeType||N.setInterval)return!1;var ba={}.hasOwnProperty,Q=ba.call(N,'constructor');
ba='undefined'!=typeof N.constructor?ba.call(N.constructor.prototype,'isPrototypeOf'):!1;return!N.constructor||Q||ba?!0:!1};V.setKeyComparison=function(N){ma.keyComparison=N;return V};V.getKeyComparison=function(){var N=ma.keyComparison||'id';ma.keyComparison='id';return N};return V}'undefined'!==typeof module&&module.exports?('undefined'==typeof JSON.clone&&require('../../../helpers'),module.exports=Merge()):'function'===typeof define&&define.amd&&define('lib/merge',[],function(){return Merge()});
function registerEvents(B,P){'undefined'==typeof gina&&'undefined'!=typeof window.gina&&(gina=window.gina);gina.registeredEvents[B]=P}function mergeEventProps(B,P){for(let V in P)'undefined'==typeof B[V]&&(B[V]=P[V]);return B}
function addListener(B,P,V,ma){var U=function(Q,S,r,H){'undefined'!=typeof Q.event&&Q.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(r)&&-1==Q.event[r].indexOf(S)&&(Q.event[r][Q.event[r].length]=S);'undefined'!=typeof S&&null!=S?S.addEventListener?S.addEventListener(r,H,!1):S.attachEvent&&S.attachEvent('on'+r,H):Q.customEvent.addListener(r,H);gina.events[r]='undefined'!=typeof S.id&&'object'!=typeof S.id?S.id:S.getAttribute('id')},N=0,ba=null;if(Array.isArray(V))for(ba=V.length;N<ba;N++)U(B,
P,V[N],ma);else if(Array.isArray(P))for(N=0,ba=P.length;N<ba;N++){let Q=/\.$/.test(V)?V+P[N].id:V;U(B,P[N],Q,ma)}else V=/\.$/.test(V)?V+P.id:V,U(B,P,V,ma)}
function triggerEvent(B,P,V,ma,U){if('undefined'!=typeof P&&null!=P){B=!1;if(jQuery){var N=jQuery.fn.jquery.split(/\./);N=2<N.length?N.splice(0,2).join('.'):N.join('.');N='1.7'>=N?jQuery(P).data('events'):jQuery._data(jQuery(P)[0],'events');if(N='undefined'!=typeof N&&'undefined'!=typeof N[V]?!0:!1)N=jQuery.Event(V),jQuery(P).trigger(N,ma),B=N.isDefaultPrevented()}window.CustomEvent||document.createEvent?(window.CustomEvent?N=new CustomEvent(V,{detail:ma,bubbles:!0,cancelable:!0,target:P}):(N=document.createEvent('HTMLEvents'),
N.detail=ma,N.target=P,N.initEvent(V,!0,!0),N.eventName=V),U&&(N=mergeEventProps(N,U)),'undefined'!=typeof N.defaultPrevented&&N.defaultPrevented&&(B=N.defaultPrevented),B||P.dispatchEvent(N)):document.createEventObject&&(N=document.createEventObject(),N.srcElement.id=P.id,N.detail=ma,N.target=P,U&&(N=mergeEventProps(N,U)),P.fireEvent('on'+V,N))}else B.customEvent.fire(V,ma)}
function cancelEvent(B){'undefined'!=typeof B&&null!=B&&(B.cancelBubble=!0,B.preventDefault&&B.preventDefault(),B.stopPropagation&&B.stopPropagation(),B.returnValue=!1)}
function setupXhr(B){var P=null;if(window.XMLHttpRequest)P=new XMLHttpRequest;else if(window.ActiveXObject)try{P=new ActiveXObject('Msxml2.XMLHTTP')}catch(ma){try{P=new ActiveXObject('Microsoft.XMLHTTP')}catch(U){}}if('undefined'!=typeof B){if(!B.url||'undefined'==typeof B.url)throw Error('Missing `options.url`');'undefined'==typeof B.method&&(B.method='GET');B.method=B.method.toUpperCase();if(B.withCredentials){if('withCredentials'in P)B.isSynchrone?P.open(B.method,B.url,B.isSynchrone):P.open(B.method,
B.url);else if('undefined'!=typeof XDomainRequest)P=new XDomainRequest,P.open(B.method,B.url);else{result='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,$target,'error.'+id,result);return}P.responseType='undefined'!=typeof B.responseType?B.responseType:'';P.withCredentials=!0}else B.isSynchrone?P.open(B.method,B.url,B.isSynchrone):P.open(B.method,B.url);for(var V in B.headers)'Content-Type'==V&&'undefined'!=typeof enctype&&null!=
enctype&&''!=enctype||P.setRequestHeader(V,B.headers[V])}return P}
function handleXhr(B,P,V,ma){if(!B)throw Error('No `xhr` object initiated');var U=null,N=null,ba=null,Q=null,S=null,r=V.$link||null,H=V.$form||null,w=null;delete V.$link;delete V.$form;H||r?r?(r.target=document.getElementById(r.id),w=gina.link.target,S=gina.link.id):(w=H.target,S=w.getAttribute('id')):(w=P,S=w.getAttribute('id'));var oa=r&&P.getAttribute('data-gina-link-event-on-success')||r&&P.getAttribute('data-gina-link-event-on-error')?!0:!1,Aa=H&&w.getAttribute('data-gina-form-event-on-submit-success')||
H&&w.getAttribute('data-gina-form-event-on-submit-error')?!0:!1;Aa&&H&&listenToXhrEvents(H,'form');P=P.getAttribute('enctype')||V.headers['Content-Type'];for(var M in V.headers)'Content-Type'==M&&'undefined'!=typeof P&&null!=P&&''!=P||B.setRequestHeader(M,V.headers[M]);B.withCredentials='undefined'!=typeof V.withCredentials?V.withCredentials:!1;B.onerror=function(O,D){O={status:B.status||500,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};
H&&(H.eventData.error=O);r&&(r.eventData.error=O);window.ginaToolbar.update('data-xhr',O,!0);triggerEvent(gina,w,'error.'+S,O);Aa&&triggerEvent(gina,w,'error.'+S+'.hform',O);oa&&triggerEvent(gina,w,'error.'+S+'.hlink',O)};B.onreadystatechange=function(O){O=/Google Inc/i.test(navigator.vendor)?50:0;2==B.readyState&&(N=/^attachment;/.test(B.getResponseHeader('Content-Disposition'))?!0:!1,!B.responseType&&N&&(B.responseType='blob'));if(4==B.readyState)if(U=null,ba=B.getResponseHeader('Content-Type'),
/^2/.test(B.status)){try{if(/blob/.test(B.responseType)||N){if('undefined'==typeof ba||null==ba)ba='application/octet-stream';U=new Blob([this.response],{type:ba});var D=document.createElement('a');D.style='display: none';document.body.appendChild(D);var A=window.URL.createObjectURL(U);D.href=A;var m=B.getResponseHeader('Content-Disposition');D.download=m.match('=(.*)')[0].substr(1);D.click();window.URL.revokeObjectURL(A);Q={status:B.status,statusText:B.statusText,responseType:U.type,type:U.type,
size:U.size}}!Q&&/\/json/.test(ba)&&(Q=JSON.parse(B.responseText),'undefined'==typeof Q.status&&(Q.status=B.status||200));if(!Q&&/\/html/.test(ba)&&(Q={contentType:ba,content:B.responseText},'undefined'==typeof Q.status&&(Q.status=B.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler)){var z=gina.popin.getActivePopin();if(z){XHRData={};try{XHRData=(new DOMParser).parseFromString(Q.content,'text/html').getElementById('gina-without-layout-xhr-data'),XHRData=JSON.parse(decodeURIComponent(XHRData.value)),
XHRView=(new DOMParser).parseFromString(Q.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRData&&window.ginaToolbar.update('data-xhr',XHRData),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(v){throw v;}z.loadContent(Q.content);Q=XHRData;triggerEvent(gina,w,'success.'+S,Q);return}}Q||(Q=B.responseText);H&&
(H.eventData.success=Q);XHRData=Q;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&/\/html/.test(ba)&&window.ginaToolbar.update('data-xhr',XHRData)}catch(v){throw v;}triggerEvent(gina,w,'success.'+S,Q);Aa&&triggerEvent(gina,w,'success.'+S+'.hform',Q);oa&&triggerEvent(gina,w,'success.'+S+'.hlink',Q)}catch(v){Q={status:422,error:v.message,stack:v.stack};H&&(H.eventData.error=Q);XHRData=Q;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&
window.ginaToolbar.update('data-xhr',XHRData)}catch(F){throw F;}triggerEvent(gina,w,'error.'+S,Q);Aa&&triggerEvent(gina,w,'error.'+S+'.hform',Q);oa&&triggerEvent(gina,w,'error.'+S+'.hlink',Q)}if('undefined'!=typeof Q&&'undefined'!=typeof Q.location)return window.location.hash='',Q.location=/^http/.test(Q.location)||/^\//.test(Q.location)?Q.location:location.protocol+'//'+Q.location,setTimeout(()=>{window.location.href=Q.location},O)}else if(0!=B.status)if(Q={status:B.status,message:''},/blob/.test(B.responseType)){U=
new Blob([this.response],{type:'text/plain'});var y=new FileReader,G='';y.addEventListener('loadend',v=>{/string/i.test(typeof v.srcElement.result)?G+=v.srcElement.result:'object'==typeof v.srcElement.result?Q=merge(Q,v.srcElement.result):Q.message+=v.srcElement.result;if(/^2/.test(y.readyState)){if(/^(\{|\[)/.test(G))try{Q=merge(Q,JSON.parse(G))}catch(T){Q=merge(Q,T)}Q.message||delete Q.message;H&&(H.eventData.error=Q);if('undefined'!=typeof Q&&'undefined'!=typeof Q.error&&Q.error.fields&&'object'==
typeof Q.error.fields){v={};var F=0,J;for(J in Q.error.fields)++F,v[J]={isApplicationValidationError:Q.error.fields[J]};0<F&&handleErrorsDisplay(H.target,v)}XHRData=Q;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(T){throw T;}triggerEvent(gina,w,'error.'+S,Q);Aa&&triggerEvent(gina,w,'error.'+S+'.hform',Q);oa&&triggerEvent(gina,w,'error.'+S+'.hlink',Q)}});y.readAsText(U)}else{try{Q=merge(Q,JSON.parse(B.responseText))}catch(v){Q=merge(Q,
v)}H&&(H.eventData.error=Q);if('undefined'!=typeof Q&&'undefined'!=typeof Q.error&&Q.error.fields&&'object'==typeof Q.error.fields){D={};A=0;for(var u in Q.error.fields)++A,D[u]={isApplicationValidationError:Q.error.fields[u]};0<A&&handleErrorsDisplay(H.target,D)}XHRData=Q;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(v){throw v;}triggerEvent(gina,w,'error.'+S,Q);Aa&&triggerEvent(gina,w,'error.'+S+'.hform',Q);oa&&triggerEvent(gina,w,
'error.'+S+'.hlink',Q)}};B.onprogress=function(O){var D='0';O.lengthComputable&&(D=O.loaded/O.total,D=parseInt(100*D));O={status:100,progress:D};H&&(H.eventData.onprogress=O);triggerEvent(gina,w,'progress.'+S,O)};B.ontimeout=function(O){Q={status:408,error:'Request Timeout'};H&&(H.eventData.ontimeout=Q);triggerEvent(gina,w,'error.'+S,Q);Aa&&triggerEvent(gina,w,'error.'+S+'.hform',Q);oa&&triggerEvent(gina,w,'error.'+S+'.hlink',Q)}}
function removeListener(B,P,V,ma){'undefined'!=typeof B.event&&B.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(V)&&-1!=B.event[V].indexOf(P)&&B.event[V].splice(B.event[V].indexOf(P),1);if('undefined'!=typeof P&&null!=P)if(P.removeEventListener)if(Array.isArray(P))for(i=0,len=P.length;i<len;i++)B=/\.$/.test(V)?V+P[i].id:V,P.removeEventListener(B,ma,!1),'undefined'!=typeof gina.events[B]&&delete gina.events[B];else V=/\.$/.test(V)?V+P.id:V,P.removeEventListener(V,ma,!1);else{if(P.attachEvent)if(Array.isArray(P))for(i=
0,len=P.length;i<len;i++)B=/\.$/.test(V)?V+P[i].id:V,P.detachEvent('on'+B,ma),'undefined'!=typeof gina.events[B]&&delete gina.events[B];else V=/\.$/.test(V)?V+P.id:V,P.detachEvent('on'+V,ma)}else if(Array.isArray(P))for(i=0,len=P.length;i<len;i++){let U=/\.$/.test(V)?V+P[i].id:V;B.customEvent.removeListener(U,ma);'undefined'!=typeof gina.events[U]&&delete gina.events[U]}else V=/\.$/.test(V)?V+P.id:V,B.customEvent.removeListener(V,ma);'undefined'!=typeof gina.events[V]&&delete gina.events[V];'undefined'!=
typeof ma&&ma()}
function on(B,P){if(!this.plugin)throw Error('No `plugin` reference found for this event: `'+B);if(0>gina.registeredEvents[this.plugin].indexOf(B)&&!/^init$/.test(B)&&!/\.hform$/.test(B)&&!/\.hlink$/.test(B))P(Error('Event `'+B+'` not handled by ginaEventHandler'));else{var V=null,ma=null;'undefined'!=typeof this.id&&'object'!=typeof this.id?(V=this.target||this,ma=this.id):'undefined'!=typeof this.target?((V=this.target)||(V=this),ma='undefined'!=typeof V.getAttribute?V.getAttribute('id'):this.id):
(V=this.target,ma=instance.id);this.eventData&&!V.eventData&&(V.eventData=this.eventData);B=/\.(hform|hlink)$/.test(B)?/\.hform$/.test(B)?B.replace(/\.hform$/,'.'+ma+'.hform'):B.replace(/\.hlink$/,'.'+ma+'.hlink'):B+('.'+ma);gina.events[B]||(addListener(gina,V,B,function(U){cancelEvent(U);var N=null;U.detail?N=U.detail:'undefined'!=typeof this.eventData.submit?N=this.eventData.submit:'undefined'!=typeof this.eventData.error?N=this.eventData.error:'undefined'!=typeof this.eventData.success&&(N=this.eventData.success);
P&&P(U,N)}),this.initialized&&!this.isReady&&triggerEvent(gina,V,'init.'+ma));return this}}define('utils/events',function(){});
function PrototypesHelper(B){var P='undefined'!==typeof module&&module.exports?!1:!0,V=B||null;B=null;if('undefined'==typeof GINA_DIR&&!P&&'undefined'!=typeof process&&3<process.argv.length)if(/^\{/.test(process.argv[2]))B=JSON.parse(process.argv[2]).envVars;else if(/\.ctx$/.test(process.argv[2])){B=require('fs');var ma=process.argv[2].split(/\-\-argv\-filename=/)[1];B=JSON.parse(B.readFileSync(ma).toString()).envVars}if(V&&'undefined'!=typeof V&&'undefined'!=typeof V.dateFormat)for(let U in V.dateFormat)'undefined'==
typeof Date[U]&&Object.defineProperty(Date.prototype,U,{writable:!1,enumerable:!1,configurable:!0,value:function(){var N={0:this},ba=1,Q;for(Q in arguments)N[ba]=arguments[Q],++ba;N.length=ba;return V.dateFormat[U].apply(this,N)}});'undefined'==typeof Array.clone&&Object.defineProperty(Array.prototype,'clone',{writable:!1,enumerable:!1,configurable:!0,value:function(){return this.slice(0)}});'undefined'!=typeof JSON.clone||P||('undefined'!=typeof B&&null!=B?JSON.clone=require(B.GINA_DIR+'/utils/prototypes.json_clone'):
(B||(P=process.cwd().match(/.*\/gina/)[0],require(P+'/utils/helper'),setEnvVar('GINA_DIR',P,!0),B=getEnvVars()),JSON.clone=require(getEnvVar('GINA_DIR')+'/utils/prototypes.json_clone')));'undefined'==typeof JSON.escape&&(JSON.escape=function(U){try{return U.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(N){throw N;}});'undefined'==typeof Array.toString&&(Array.prototype.toString=function(){return this.join()});'undefined'==typeof Array.inArray&&Object.defineProperty(Array.prototype,
'inArray',{writable:!1,enumerable:!1,configurable:!0,value:function(U){return-1!=this.indexOf(U)}});'undefined'==typeof Array.from&&Object.defineProperty(Array.prototype,'from',{writable:!1,enumerable:!1,configurable:!0,value:function(U){for(var N={},ba=[],Q=U.length,S=0,r=0;r<Q;r++){var H=U[r];1!==N[H]&&(N[H]=1,ba[S++]=H)}return ba}});'undefined'==typeof Object.count&&Object.defineProperty(Object.prototype,'count',{writable:!0,enumerable:!1,configurable:!0,value:function(){var U=0;try{this instanceof
String&&JSON.parse(this);for(var N in this)this.hasOwnProperty(N)&&++U;return U}catch(ba){return U}}});'undefined'!=typeof global&&'undefined'==typeof global.__stack&&Object.defineProperty(global,'__stack',{configurable:!0,get:function(){var U=Error.prepareStackTrace;Error.prepareStackTrace=function(ba,Q){return Q};var N=Error();Error.captureStackTrace(N,arguments.callee);N=N.stack;Error.prepareStackTrace=U;return N}})}
'undefined'!==typeof module&&module.exports?module.exports=PrototypesHelper:'function'===typeof define&&define.amd&&define('helpers/prototypes',[],function(){return PrototypesHelper});
function DateFormatHelper(){var B='undefined'!==typeof module&&module.exports?!1:!0,P=B?require('lib/merge'):require('./../lib/merge');var V='en-US';var ma='en';var U={'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy',cookieDate:'GMT:ddd, dd mmm yyyy HH:MM:ss',logger:'yyyy mmm dd HH:MM:ss',shortTime:'h:MM TT',shortTime2:'h:MM',mediumTime:'h:MM:ss TT',mediumTime2:'h:MM:ss',longTime:'h:MM:ss TT Z',
longTime2:'h:MM:ss TT',concatenatedDate:'yyyymmdd',isoDate:'yyyy-mm-dd',isoTime:'HH:MM:ss',shortIsoTime:'HH:MM',longIsoTime:'HH:MM:ss TT',isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",longIsoDateTime:"yyyy-mm-dd'T'HH:MM:ss.L",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};var N={en:{dayNames:'Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday'.split(' '),monthNames:'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December'.split(' '),
masks:{'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy'}},fr:{dayNames:'dim lun mar mer jeu ven sam dimanche lundi mardi mercredi jeudi vendredi samedi'.split(' '),monthNames:'Jan F\u00e9v Mar Avr Mai Jui Juil Ao\u00fb Sep Oct Nov D\u00e9c Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre'.split(' '),masks:{'default':'ddd mmm dd yyyy HH:MM:ss',
shortDate:'d/m/yy',shortDate2:'dd/mm/yyyy',mediumDate:'d mmm, yyyy',longDate:'d mmmm, yyyy',fullDate:'dddd, d mmmm, yyyy'}}};var ba=function(r,H){if(H instanceof Date)return r=r.getTime(),H=H.getTime(),Math.round(Math.abs(r-H)/864E5);throw Error('dateTo is not instance of Date() !');},Q=['us','eu','corporate'],S=function(r){d=new Date(r.getFullYear(),r.getMonth(),r.getDate());r=d.getDay()||7;d.setDate(d.getDate()+4-r);r=new Date(Date.parse(d.getFullYear(),0,1));return Math.ceil(((d-r)/864E5+1)/7)};
return{setCulture:function(r,H){/\-/.test(H)?(V=H,ma=H.split(/\-/)[0]):ma=H;return this},format:function(r,H,w){var oa=N[ma]||N.en,Aa=null;try{Aa=P(oa.masks,U)}catch(T){P=(B='undefined'!==typeof module&&module.exports?!1:!0)?require('lib/merge'):require('./../lib/merge'),Aa=P(oa.masks,U)}'undefined'!=typeof N[V]&&(oa=N[V],'undefined'!=typeof N[V].mask&&(Aa=P(oa.masks,U)));var M=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,
O=/[^-+\dA-Z]/g,D=function(T,ta){T=String(T);for(ta=ta||2;T.length<ta;)T='0'+T;return T};1!=arguments.length||'[object String]'!=Object.prototype.toString.call(r)||/\d/.test(r)||(H=r,r=void 0);r=r?new Date(r):new Date;if(isNaN(r))throw SyntaxError('invalid date');H=String(Aa[H]||H||Aa['default']);'UTC:'==H.slice(0,4)&&(H=H.slice(4),w=!0);var A=w?'getUTC':'get';Aa=r[A+'Date']();var m=r[A+'Day'](),z=r[A+'Month'](),y=r[A+'FullYear'](),G=r[A+'Hours'](),u=r[A+'Minutes'](),v=r[A+'Seconds']();A=r[A+'Milliseconds']();
var F=w?0:r.getTimezoneOffset(),J={d:Aa,dd:D(Aa),ddd:oa.dayNames[m],dddd:oa.dayNames[m+7],m:z+1,mm:D(z+1),mmm:oa.monthNames[z],mmmm:oa.monthNames[z+12],yy:String(y).slice(2),yyyy:y,h:G%12||12,hh:D(G%12||12),H:G,HH:D(G),M:u,MM:D(u),s:v,ss:D(v),l:D(A,3),L:D(A),t:12>G?'a':'p',tt:12>G?'am':'pm',T:12>G?'A':'P',TT:12>G?'AM':'PM',Z:w?'UTC':(String(r).match(M)||['']).pop().replace(O,''),o:(0<F?'-':'+')+D(100*Math.floor(Math.abs(F)/60)+Math.abs(F)%60,4),S:['th','st','nd','rd'][3<Aa%10?0:(10!=Aa%100-Aa%10)*
Aa%10]};return H.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,function(T){return T in J?J[T]:T.slice(1,T.length-1)})},countDaysTo:ba,getDaysTo:function(r,H,w){if(H instanceof Date){H=ba(r,H);var oa=r.getMonth(),Aa=r.getFullYear();r=r.getDate()+1;r=new Date(Aa,oa,r);oa=[];for(Aa=0;Aa<H;++Aa)'undefined'!=typeof w?oa.push((new Date(r)).format(w)):oa.push(new Date(r)),r.setDate(r.getDate()+1);return oa||[]}throw Error('dateTo is not instance of Date() !');},getDaysInMonth:function(r){var H=
r.getMonth();r=r.getFullYear();r=new Date(r,H,1);for(var w=[];r.getMonth()===H;)w.push(new Date(r)),r.setDate(r.getDate()+1);return w},getQuarter:function(r,H){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>Q.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');r=new Date;H=arguments[0]}'undefined'==typeof r&&(r=new Date);'undefined'==typeof H&&(H='corporate');H=H.toLowerCase();switch(H){case 'us':var w=[4,1,2,3];break;case 'corportate':case 'eu':w=
[1,2,3,4];break;default:w=[1,2,3,4]}return w[Math.floor(r.getMonth()/3)]},getHalfYear:function(r,H){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>Q.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');r=new Date;H=arguments[0]}'undefined'==typeof r&&(r=new Date);'undefined'==typeof H&&(H='corporate');H=H.toLowerCase();return 2>=r.getQuarter(H)?1:2},getWeek:function(r,H){'undefined'==typeof r&&(r=new Date);'undefined'==typeof H&&(H='ISO 8601');
H=H.replace(/\s+/g,'').toLowerCase();switch(H){case 'corporate':case 'eu':case 'iso8601':return S(r);default:return S(r)}},addHours:function(r,H){r=new Date(r.getTime());r.setHours(r.getHours()+H);return r},addDays:function(r,H){r=new Date(r.getTime());r.setHours(r.getHours()+24*H);return r},addYears:function(r,H){r=new Date(r.getTime());r.setFullYear(r.getFullYear()+H);return r}}}
'undefined'!==typeof module&&module.exports?module.exports=DateFormatHelper:'function'===typeof define&&define.amd&&define('helpers/dateFormat',[],function(){return DateFormatHelper});
!function(B,P){'object'==typeof module&&'object'==typeof module.exports?module.exports=B.document?P(B,!0):function(V){if(!V.document)throw Error('jQuery requires a window with a document');return P(V)}:P(B)}('undefined'!=typeof window?window:this,function(B,P){function V(a){var c=!!a&&'length'in a&&a.length,e=b.type(a);return'function'===e||b.isWindow(a)?!1:'array'===e||0===c||'number'==typeof c&&0<c&&c-1 in a}function ma(a,c,e){if(b.isFunction(c))return b.grep(a,function(k,n){return!!c.call(k,n,
k)!==e});if(c.nodeType)return b.grep(a,function(k){return k===c!==e});if('string'==typeof c){if(E.test(c))return b.filter(c,a,e);c=b.filter(c,a)}return b.grep(a,function(k){return-1<b.inArray(k,c)!==e})}function U(a,c){do a=a[c];while(a&&1!==a.nodeType);return a}function N(a){var c={};return b.each(a.match(Ga)||[],function(e,k){c[k]=!0}),c}function ba(){Ka.addEventListener?(Ka.removeEventListener('DOMContentLoaded',Q),B.removeEventListener('load',Q)):(Ka.detachEvent('onreadystatechange',Q),B.detachEvent('onload',
Q))}function Q(){(Ka.addEventListener||'load'===B.event.type||'complete'===Ka.readyState)&&(ba(),b.ready())}function S(a,c,e){if(void 0===e&&1===a.nodeType){var k='data-'+c.replace(zb,'-$1').toLowerCase();if(e=a.getAttribute(k),'string'==typeof e){try{e='true'===e?!0:'false'===e?!1:'null'===e?null:+e+''===e?+e:Cb.test(e)?b.parseJSON(e):e}catch(n){}b.data(a,c,e)}else e=void 0}return e}function r(a){for(var c in a)if(('data'!==c||!b.isEmptyObject(a[c]))&&'toJSON'!==c)return!1;return!0}function H(a,
c,e,k){if(ib(a)){var n,C,I=b.expando,Y=a.nodeType,qa=Y?b.cache:a,Ca=Y?a[I]:a[I]&&I;if(Ca&&qa[Ca]&&(k||qa[Ca].data)||void 0!==e||'string'!=typeof c)return Ca||=Y?a[I]=xb.pop()||b.guid++:I,qa[Ca]||(qa[Ca]=Y?{}:{toJSON:b.noop}),'object'!=typeof c&&'function'!=typeof c||(k?qa[Ca]=b.extend(qa[Ca],c):qa[Ca].data=b.extend(qa[Ca].data,c)),C=qa[Ca],k||(C.data||(C.data={}),C=C.data),void 0!==e&&(C[b.camelCase(c)]=e),'string'==typeof c?(n=C[c],null==n&&(n=C[b.camelCase(c)])):n=C,n}}function w(a,c,e){if(ib(a)){var k,
n,C=a.nodeType,I=C?b.cache:a,Y=C?a[b.expando]:b.expando;if(I[Y]){if(c&&(k=e?I[Y]:I[Y].data)){b.isArray(c)?c=c.concat(b.map(c,b.camelCase)):c in k?c=[c]:(c=b.camelCase(c),c=c in k?[c]:c.split(' '));for(n=c.length;n--;)delete k[c[n]];if(e?!r(k):!b.isEmptyObject(k))return}(e||(delete I[Y].data,r(I[Y])))&&(C?b.cleanData([a],!0):h.deleteExpando||I!=I.window?delete I[Y]:I[Y]=void 0)}}}function oa(a,c,e,k){var n,C=1,I=20,Y=k?function(){return k.cur()}:function(){return b.css(a,c,'')},qa=Y(),Ca=e&&e[3]||
(b.cssNumber[c]?'':'px'),sa=(b.cssNumber[c]||'px'!==Ca&&+qa)&&Mb.exec(b.css(a,c));if(sa&&sa[3]!==Ca){Ca=Ca||sa[3];e=e||[];sa=+qa||1;do C=C||'.5',sa/=C,b.style(a,c,sa+Ca);while(C!==(C=Y()/qa)&&1!==C&&--I)}return e&&(sa=+sa||+qa||0,n=e[1]?sa+(e[1]+1)*e[2]:+e[2],k&&(k.unit=Ca,k.start=sa,k.end=n)),n}function Aa(a){var c='abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video'.split(' ');
a=a.createDocumentFragment();if(a.createElement)for(;c.length;)a.createElement(c.pop());return a}function M(a,c){var e,k,n=0,C='undefined'!=typeof a.getElementsByTagName?a.getElementsByTagName(c||'*'):'undefined'!=typeof a.querySelectorAll?a.querySelectorAll(c||'*'):void 0;if(!C)for(C=[],e=a.childNodes||a;null!=(k=e[n]);n++)!c||b.nodeName(k,c)?C.push(k):b.merge(C,M(k,c));return void 0===c||c&&b.nodeName(a,c)?b.merge([a],C):C}function O(a,c){for(var e,k=0;null!=(e=a[k]);k++)b._data(e,'globalEval',
!c||b._data(c[k],'globalEval'))}function D(a){X.test(a.type)&&(a.defaultChecked=a.checked)}function A(a,c,e,k,n){for(var C,I,Y,qa,Ca,sa,Sa,Va=a.length,yb=Aa(c),bb=[],Hb=0;Va>Hb;Hb++)if(I=a[Hb],I||0===I)if('object'===b.type(I))b.merge(bb,I.nodeType?[I]:I);else if(eb.test(I)){qa=qa||yb.appendChild(c.createElement('div'));Ca=(ja.exec(I)||['',''])[1].toLowerCase();Sa=Xa[Ca]||Xa._default;qa.innerHTML=Sa[1]+b.htmlPrefilter(I)+Sa[2];for(C=Sa[0];C--;)qa=qa.lastChild;if(!h.leadingWhitespace&&Ra.test(I)&&bb.push(c.createTextNode(Ra.exec(I)[0])),
!h.tbody)for(C=(I='table'!==Ca||Oa.test(I)?'<table>'!==Sa[1]||Oa.test(I)?0:qa:qa.firstChild)&&I.childNodes.length;C--;)b.nodeName(sa=I.childNodes[C],'tbody')&&!sa.childNodes.length&&I.removeChild(sa);b.merge(bb,qa.childNodes);for(qa.textContent='';qa.firstChild;)qa.removeChild(qa.firstChild);qa=yb.lastChild}else bb.push(c.createTextNode(I));qa&&yb.removeChild(qa);h.appendChecked||b.grep(M(bb,'input'),D);for(Hb=0;I=bb[Hb++];)if(k&&-1<b.inArray(I,k))n&&n.push(I);else if(Y=b.contains(I.ownerDocument,
I),qa=M(yb.appendChild(I),'script'),Y&&O(qa),e)for(C=0;I=qa[C++];)va.test(I.type||'')&&e.push(I);return yb}function m(){return!0}function z(){return!1}function y(){try{return Ka.activeElement}catch(a){}}function G(a,c,e,k,n,C){var I,Y;if('object'==typeof c){'string'!=typeof e&&(k=k||e,e=void 0);for(Y in c)G(a,Y,e,k,c[Y],C);return a}if(null==k&&null==n?(n=e,k=e=void 0):null==n&&('string'==typeof e?(n=k,k=void 0):(n=k,k=e,e=void 0)),!1===n)n=z;else if(!n)return a;return 1===C&&(I=n,n=function(qa){return b().off(qa),
I.apply(this,arguments)},n.guid=I.guid||(I.guid=b.guid++)),a.each(function(){b.event.add(this,c,n,k,e)})}function u(a,c){return b.nodeName(a,'table')&&b.nodeName(11!==c.nodeType?c:c.firstChild,'tr')?a.getElementsByTagName('tbody')[0]||a.appendChild(a.ownerDocument.createElement('tbody')):a}function v(a){return a.type=(null!==b.find.attr(a,'type'))+'/'+a.type,a}function F(a){var c=$b.exec(a.type);return c?a.type=c[1]:a.removeAttribute('type'),a}function J(a,c){if(1===c.nodeType&&b.hasData(a)){var e,
k;var n=b._data(a);a=b._data(c,n);var C=n.events;if(C)for(e in delete a.handle,a.events={},C)for(n=0,k=C[e].length;k>n;n++)b.event.add(c,e,C[e][n]);a.data&&(a.data=b.extend({},a.data))}}function T(a,c,e,k){c=Lb.apply([],c);var n,C,I,Y=0,qa=a.length,Ca=qa-1,sa=c[0],Sa=b.isFunction(sa);if(Sa||1<qa&&'string'==typeof sa&&!h.checkClone&&Ib.test(sa))return a.each(function(yb){var bb=a.eq(yb);Sa&&(c[0]=sa.call(this,yb,bb.html()));T(bb,c,e,k)});if(qa&&(I=A(c,a[0].ownerDocument,!1,a,k),n=I.firstChild,1===
I.childNodes.length&&(I=n),n||k)){var Va=b.map(M(I,'script'),v);for(C=Va.length;qa>Y;Y++)n=I,Y!==Ca&&(n=b.clone(n,!0,!0),C&&b.merge(Va,M(n,'script'))),e.call(a[Y],n,Y);if(C)for(I=Va[Va.length-1].ownerDocument,b.map(Va,F),Y=0;C>Y;Y++)n=Va[Y],va.test(n.type||'')&&!b._data(n,'globalEval')&&b.contains(I,n)&&(n.src?b._evalUrl&&b._evalUrl(n.src):b.globalEval((n.text||n.textContent||n.innerHTML||'').replace(Xb,'')));I=n=null}return a}function ta(a,c,e){for(var k=c?b.filter(c,a):a,n=0;null!=(c=k[n]);n++)e||
1!==c.nodeType||b.cleanData(M(c)),c.parentNode&&(e&&b.contains(c.ownerDocument,c)&&O(M(c,'script')),c.parentNode.removeChild(c));return a}function Fa(a,c){a=b(c.createElement(a)).appendTo(c.body);c=b.css(a[0],'display');return a.detach(),c}function W(a){var c=Ka,e=Nb[a];return e||(e=Fa(a,c),'none'!==e&&e||(gc=(gc||b("<iframe frameborder='0' width='0' height='0'/>")).appendTo(c.documentElement),c=(gc[0].contentWindow||gc[0].contentDocument).document,c.write(),c.close(),e=Fa(a,c),gc.detach()),Nb[a]=
e),e}function ka(a,c){return{get:function(){return a()?void delete this.get:(this.get=c).apply(this,arguments)}}}function ha(a){if(a in hd)return a;for(var c=a.charAt(0).toUpperCase()+a.slice(1),e=jd.length;e--;)if(a=jd[e]+c,a in hd)return a}function xa(a,c){for(var e,k,n,C=[],I=0,Y=a.length;Y>I;I++)k=a[I],k.style&&(C[I]=b._data(k,'olddisplay'),e=k.style.display,c?(C[I]||'none'!==e||(k.style.display=''),''===k.style.display&&cb(k)&&(C[I]=b._data(k,'olddisplay',W(k.nodeName)))):(n=cb(k),(e&&'none'!==
e||!n)&&b._data(k,'olddisplay',n?e:b.css(k,'display'))));for(I=0;Y>I;I++)k=a[I],k.style&&(c&&'none'!==k.style.display&&''!==k.style.display||(k.style.display=c?C[I]||'':'none'));return a}function la(a,c,e){return(a=vd.exec(c))?Math.max(0,a[1]-(e||0))+(a[2]||'px'):c}function ua(a,c,e,k,n){c=e===(k?'border':'content')?4:'width'===c?1:0;for(var C=0;4>c;c+=2)'margin'===e&&(C+=b.css(a,e+Ya[c],!0,n)),k?('content'===e&&(C-=b.css(a,'padding'+Ya[c],!0,n)),'margin'!==e&&(C-=b.css(a,'border'+Ya[c]+'Width',!0,
n))):(C+=b.css(a,'padding'+Ya[c],!0,n),'padding'!==e&&(C+=b.css(a,'border'+Ya[c]+'Width',!0,n)));return C}function Da(a,c,e){var k=!0,n='width'===c?a.offsetWidth:a.offsetHeight,C=rc(a),I=h.boxSizing&&'border-box'===b.css(a,'boxSizing',!1,C);if(0>=n||null==n){if(n=sc(a,c,C),(0>n||null==n)&&(n=a.style[c]),nc.test(n))return n;k=I&&(h.boxSizingReliable()||n===a.style[c]);n=parseFloat(n)||0}return n+ua(a,c,e||(I?'border':'content'),k,C)+'px'}function Qa(a,c,e,k,n){return new Qa.prototype.init(a,c,e,k,
n)}function La(){return B.setTimeout(function(){Fc=void 0}),Fc=b.now()}function Ea(a,c){var e={height:a},k=0;for(c=c?1:0;4>k;k+=2-c){var n=Ya[k];e['margin'+n]=e['padding'+n]=a}return c&&(e.opacity=e.width=a),e}function Na(a,c,e){for(var k,n=(Ja.tweeners[c]||[]).concat(Ja.tweeners['*']),C=0,I=n.length;I>C;C++)if(k=n[C].call(e,c,a))return k}function Ia(a,c){var e,k,n,C,I;for(e in a)if(k=b.camelCase(e),n=c[k],C=a[e],b.isArray(C)&&(n=C[1],C=a[e]=C[0]),e!==k&&(a[k]=C,delete a[e]),I=b.cssHooks[k],I&&'expand'in
I)for(e in C=I.expand(C),delete a[k],C)e in a||(a[e]=C[e],c[e]=n);else c[k]=n}function Ja(a,c,e){var k,n=0,C=Ja.prefilters.length,I=b.Deferred().always(function(){delete Y.elem}),Y=function(){if(k)return!1;var Ca=Fc||La();Ca=Math.max(0,qa.startTime+qa.duration-Ca);for(var sa=1-(Ca/qa.duration||0),Sa=0,Va=qa.tweens.length;Va>Sa;Sa++)qa.tweens[Sa].run(sa);return I.notifyWith(a,[qa,sa,Ca]),1>sa&&Va?Ca:(I.resolveWith(a,[qa]),!1)},qa=I.promise({elem:a,props:b.extend({},c),opts:b.extend(!0,{specialEasing:{},
easing:b.easing._default},e),originalProperties:c,originalOptions:e,startTime:Fc||La(),duration:e.duration,tweens:[],createTween:function(Ca,sa){Ca=b.Tween(a,qa.opts,Ca,sa,qa.opts.specialEasing[Ca]||qa.opts.easing);return qa.tweens.push(Ca),Ca},stop:function(Ca){var sa=0,Sa=Ca?qa.tweens.length:0;if(k)return this;for(k=!0;Sa>sa;sa++)qa.tweens[sa].run(1);return Ca?(I.notifyWith(a,[qa,1,0]),I.resolveWith(a,[qa,Ca])):I.rejectWith(a,[qa,Ca]),this}});e=qa.props;for(Ia(e,qa.opts.specialEasing);C>n;n++)if(c=
Ja.prefilters[n].call(qa,a,e,qa.opts))return b.isFunction(c.stop)&&(b._queueHooks(qa.elem,qa.opts.queue).stop=b.proxy(c.stop,c)),c;return b.map(e,Na,qa),b.isFunction(qa.opts.start)&&qa.opts.start.call(a,qa),b.fx.timer(b.extend(Y,{elem:a,anim:qa,queue:qa.opts.queue})),qa.progress(qa.opts.progress).done(qa.opts.done,qa.opts.complete).fail(qa.opts.fail).always(qa.opts.always)}function Ua(a){return b.attr(a,'class')||''}function pb(a){return function(c,e){'string'!=typeof c&&(e=c,c='*');var k=0,n=c.toLowerCase().match(Ga)||
[];if(b.isFunction(e))for(;c=n[k++];)'+'===c.charAt(0)?(c=c.slice(1)||'*',(a[c]=a[c]||[]).unshift(e)):(a[c]=a[c]||[]).push(e)}}function ab(a,c,e,k){function n(Y){var qa;return C[Y]=!0,b.each(a[Y]||[],function(Ca,sa){Ca=sa(c,e,k);return'string'!=typeof Ca||I||C[Ca]?I?!(qa=Ca):void 0:(c.dataTypes.unshift(Ca),n(Ca),!1)}),qa}var C={},I=a===Vc;return n(c.dataTypes[0])||!C['*']&&n('*')}function gb(a,c){var e,k,n=b.ajaxSettings.flatOptions||{};for(k in c)void 0!==c[k]&&((n[k]?a:e||={})[k]=c[k]);return e&&
b.extend(!0,a,e),a}function Ub(a){if(!b.contains(a.ownerDocument||Ka,a))return!0;for(;a&&1===a.nodeType;){if('none'===(a.style&&a.style.display||b.css(a,'display'))||'hidden'===a.type)return!0;a=a.parentNode}return!1}function Zb(a,c,e,k){var n;if(b.isArray(c))b.each(c,function(C,I){e||wd.test(a)?k(a,I):Zb(a+'['+('object'==typeof I&&null!=I?C:'')+']',I,e,k)});else if(e||'object'!==b.type(c))k(a,c);else for(n in c)Zb(a+'['+n+']',c[n],e,k)}function jb(){try{return new B.XMLHttpRequest}catch(a){}}function Db(){try{return new B.ActiveXObject('Microsoft.XMLHTTP')}catch(a){}}
function rb(a){return b.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var xb=[],Ka=B.document,db=xb.slice,Lb=xb.concat,Vb=xb.push,ya=xb.indexOf,za={},l=za.toString,g=za.hasOwnProperty,h={},b=function(a,c){return new b.fn.init(a,c)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,q=/^-ms-/,p=/-([\da-z])/gi,R=function(a,c){return c.toUpperCase()};b.fn=b.prototype={jquery:'1.12.4',constructor:b,selector:'',length:0,toArray:function(){return db.call(this)},get:function(a){return null!=a?0>a?this[a+
this.length]:this[a]:db.call(this)},pushStack:function(a){a=b.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a){return b.each(this,a)},map:function(a){return this.pushStack(b.map(this,function(c,e){return a.call(c,e,c)}))},slice:function(){return this.pushStack(db.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var c=this.length;a=+a+(0>a?c:0);return this.pushStack(0<=a&&c>a?[this[a]]:[])},
end:function(){return this.prevObject||this.constructor()},push:Vb,sort:xb.sort,splice:xb.splice};b.extend=b.fn.extend=function(){var a,c,e,k,n=arguments[0]||{},C=1,I=arguments.length,Y=!1;'boolean'==typeof n&&(Y=n,n=arguments[C]||{},C++);'object'==typeof n||b.isFunction(n)||(n={});for(C===I&&(n=this,C--);I>C;C++)if(null!=(e=arguments[C]))for(c in e){var qa=n[c];var Ca=e[c];n!==Ca&&(Y&&Ca&&(b.isPlainObject(Ca)||(a=b.isArray(Ca)))?(a?(a=!1,k=qa&&b.isArray(qa)?qa:[]):k=qa&&b.isPlainObject(qa)?qa:{},
n[c]=b.extend(Y,k,Ca)):void 0!==Ca&&(n[c]=Ca))}return n};b.extend({expando:'jQuery'+('1.12.4'+Math.random()).replace(/\D/g,''),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return'function'===b.type(a)},isArray:Array.isArray||function(a){return'array'===b.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var c=a&&a.toString();return!b.isArray(a)&&0<=c-parseFloat(c)+1},isEmptyObject:function(a){for(var c in a)return!1;return!0},
isPlainObject:function(a){var c;if(!a||'object'!==b.type(a)||a.nodeType||b.isWindow(a))return!1;try{if(a.constructor&&!g.call(a,'constructor')&&!g.call(a.constructor.prototype,'isPrototypeOf'))return!1}catch(e){return!1}if(!h.ownFirst)for(c in a)return g.call(a,c);for(c in a);return void 0===c||g.call(a,c)},type:function(a){return null==a?a+'':'object'==typeof a||'function'==typeof a?za[l.call(a)]||'object':typeof a},globalEval:function(a){a&&b.trim(a)&&(B.execScript||function(c){B.eval.call(B,c)})(a)},
camelCase:function(a){return a.replace(q,'ms-').replace(p,R)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()},each:function(a,c){var e,k=0;if(V(a))for(e=a.length;e>k&&!1!==c.call(a[k],k,a[k]);k++);else for(k in a)if(!1===c.call(a[k],k,a[k]))break;return a},trim:function(a){return null==a?'':(a+'').replace(x,'')},makeArray:function(a,c){c=c||[];return null!=a&&(V(Object(a))?b.merge(c,'string'==typeof a?[a]:a):Vb.call(c,a)),c},inArray:function(a,c,e){if(c){if(ya)return ya.call(c,
a,e);var k=c.length;for(e=e?0>e?Math.max(0,k+e):e:0;k>e;e++)if(e in c&&c[e]===a)return e}return-1},merge:function(a,c){for(var e=+c.length,k=0,n=a.length;e>k;)a[n++]=c[k++];if(e!==e)for(;void 0!==c[k];)a[n++]=c[k++];return a.length=n,a},grep:function(a,c,e){for(var k=[],n=0,C=a.length,I=!e;C>n;n++)e=!c(a[n],n),e!==I&&k.push(a[n]);return k},map:function(a,c,e){var k,n=0,C=[];if(V(a))for(k=a.length;k>n;n++){var I=c(a[n],n,e);null!=I&&C.push(I)}else for(n in a)I=c(a[n],n,e),null!=I&&C.push(I);return Lb.apply([],
C)},guid:1,proxy:function(a,c){var e,k,n;return'string'==typeof c&&(n=a[c],c=a,a=n),b.isFunction(a)?(e=db.call(arguments,2),k=function(){return a.apply(c||this,e.concat(db.call(arguments)))},k.guid=a.guid=a.guid||b.guid++,k):void 0},now:function(){return+new Date},support:h});'function'==typeof Symbol&&(b.fn[Symbol.iterator]=xb[Symbol.iterator]);b.each('Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' '),function(a,c){za['[object '+c+']']=c.toLowerCase()});var K=function(a){function c(L,
aa,pa,wa){var Ha,Ma,Ta,Za,Wa=aa&&aa.ownerDocument,kb=aa?aa.nodeType:9;if(pa=pa||[],'string'!=typeof L||!L||1!==kb&&9!==kb&&11!==kb)return pa;if(!wa&&((aa?aa.ownerDocument||aa:ac)!==tb&&Bc(aa),aa=aa||tb,fc)){if(11!==kb&&(Za=xd.exec(L)))if(Ha=Za[1])if(9===kb){if(!(Ma=aa.getElementById(Ha)))return pa;if(Ma.id===Ha)return pa.push(Ma),pa}else{if(Wa&&(Ma=Wa.getElementById(Ha))&&oc(aa,Ma)&&Ma.id===Ha)return pa.push(Ma),pa}else{if(Za[2])return Ac.apply(pa,aa.getElementsByTagName(L)),pa;if((Ha=Za[3])&&Pb.getElementsByClassName&&
aa.getElementsByClassName)return Ac.apply(pa,aa.getElementsByClassName(Ha)),pa}if(!(!Pb.qsa||bc[L+' ']||Tb&&Tb.test(L))){if(1!==kb){Wa=aa;var nb=L}else if('object'!==aa.nodeName.toLowerCase()){(Ta=aa.getAttribute('id'))?Ta=Ta.replace(yd,'\\$&'):aa.setAttribute('id',Ta=Ab);Za=Mc(L);Ha=Za.length;for(Ma=kd.test(Ta)?'#'+Ta:"[id='"+Ta+"']";Ha--;)Za[Ha]=Ma+' '+Va(Za[Ha]);nb=Za.join(',');Wa=Wc.test(L)&&sa(aa.parentNode)||aa}if(nb)try{return Ac.apply(pa,Wa.querySelectorAll(nb)),pa}catch(fb){}finally{Ta===
Ab&&aa.removeAttribute('id')}}}return hc(L.replace(Nc,'$1'),aa,pa,wa)}function e(){function L(pa,wa){return aa.push(pa+' ')>Fb.cacheLength&&delete L[aa.shift()],L[pa+' ']=wa}var aa=[];return L}function k(L){return L[Ab]=!0,L}function n(L){var aa=tb.createElement('div');try{return!!L(aa)}catch(pa){return!1}finally{aa.parentNode&&aa.parentNode.removeChild(aa)}}function C(L,aa){L=L.split('|');for(var pa=L.length;pa--;)Fb.attrHandle[L[pa]]=aa}function I(L,aa){var pa=aa&&L,wa=pa&&1===L.nodeType&&1===aa.nodeType&&
(~aa.sourceIndex||-2147483648)-(~L.sourceIndex||-2147483648);if(wa)return wa;if(pa)for(;pa=pa.nextSibling;)if(pa===aa)return-1;return L?1:-1}function Y(L){return function(aa){return'input'===aa.nodeName.toLowerCase()&&aa.type===L}}function qa(L){return function(aa){var pa=aa.nodeName.toLowerCase();return('input'===pa||'button'===pa)&&aa.type===L}}function Ca(L){return k(function(aa){return aa=+aa,k(function(pa,wa){for(var Ha,Ma=L([],pa.length,aa),Ta=Ma.length;Ta--;)pa[Ha=Ma[Ta]]&&(pa[Ha]=!(wa[Ha]=
pa[Ha]))})})}function sa(L){return L&&'undefined'!=typeof L.getElementsByTagName&&L}function Sa(){}function Va(L){for(var aa=0,pa=L.length,wa='';pa>aa;aa++)wa+=L[aa].value;return wa}function yb(L,aa,pa){var wa=aa.dir,Ha=pa&&'parentNode'===wa,Ma=Qb++;return aa.first?function(Ta,Za,Wa){for(;Ta=Ta[wa];)if(1===Ta.nodeType||Ha)return L(Ta,Za,Wa)}:function(Ta,Za,Wa){var kb,nb,fb,Jb=[Wb,Ma];if(Wa)for(;Ta=Ta[wa];){if((1===Ta.nodeType||Ha)&&L(Ta,Za,Wa))return!0}else for(;Ta=Ta[wa];)if(1===Ta.nodeType||Ha){if(fb=
Ta[Ab]||(Ta[Ab]={}),nb=fb[Ta.uniqueID]||(fb[Ta.uniqueID]={}),(kb=nb[wa])&&kb[0]===Wb&&kb[1]===Ma)return Jb[2]=kb[2];if(nb[wa]=Jb,Jb[2]=L(Ta,Za,Wa))return!0}}}function bb(L){return 1<L.length?function(aa,pa,wa){for(var Ha=L.length;Ha--;)if(!L[Ha](aa,pa,wa))return!1;return!0}:L[0]}function Hb(L,aa,pa,wa,Ha){for(var Ma,Ta=[],Za=0,Wa=L.length,kb=null!=aa;Wa>Za;Za++)(Ma=L[Za])&&(pa&&!pa(Ma,wa,Ha)||(Ta.push(Ma),kb&&aa.push(Za)));return Ta}function kc(L,aa,pa,wa,Ha,Ma){return wa&&!wa[Ab]&&(wa=kc(wa)),Ha&&
!Ha[Ab]&&(Ha=kc(Ha,Ma)),k(function(Ta,Za,Wa,kb){var nb,fb=[],Jb=[],cc=Za.length,Yb;if(!(Yb=Ta)){Yb=aa||'*';for(var ub=Wa.nodeType?[Wa]:Wa,tc=[],ic=0,qc=ub.length;qc>ic;ic++)c(Yb,ub[ic],tc);Yb=tc}Yb=!L||!Ta&&aa?Yb:Hb(Yb,fb,L,Wa,kb);ub=pa?Ha||(Ta?L:cc||wa)?[]:Za:Yb;if(pa&&pa(Yb,ub,Wa,kb),wa){var dc=Hb(ub,Jb);wa(dc,[],Wa,kb);for(Wa=dc.length;Wa--;)(nb=dc[Wa])&&(ub[Jb[Wa]]=!(Yb[Jb[Wa]]=nb))}if(Ta){if(Ha||L){if(Ha){dc=[];for(Wa=ub.length;Wa--;)(nb=ub[Wa])&&dc.push(Yb[Wa]=nb);Ha(null,ub=[],dc,kb)}for(Wa=
ub.length;Wa--;)(nb=ub[Wa])&&-1<(dc=Ha?Cc(Ta,nb):fb[Wa])&&(Ta[dc]=!(Za[dc]=nb))}}else ub=Hb(ub===Za?ub.splice(cc,ub.length):ub),Ha?Ha(null,Za,ub,kb):Ac.apply(Za,ub)})}function Gc(L){var aa,pa,wa=L.length,Ha=Fb.relative[L[0].type];var Ma=Ha||Fb.relative[' '];for(var Ta=Ha?1:0,Za=yb(function(nb){return nb===aa},Ma,!0),Wa=yb(function(nb){return-1<Cc(aa,nb)},Ma,!0),kb=[function(nb,fb,Jb){nb=!Ha&&(Jb||fb!==Bb)||((aa=fb).nodeType?Za(nb,fb,Jb):Wa(nb,fb,Jb));return aa=null,nb}];wa>Ta;Ta++)if(Ma=Fb.relative[L[Ta].type])kb=
[yb(bb(kb),Ma)];else{if(Ma=Fb.filter[L[Ta].type].apply(null,L[Ta].matches),Ma[Ab]){for(pa=++Ta;wa>pa&&!Fb.relative[L[pa].type];pa++);return kc(1<Ta&&bb(kb),1<Ta&&Va(L.slice(0,Ta-1).concat({value:' '===L[Ta-2].type?'*':''})).replace(Nc,'$1'),Ma,pa>Ta&&Gc(L.slice(Ta,pa)),wa>pa&&Gc(L=L.slice(pa)),wa>pa&&Va(L))}kb.push(Ma)}return bb(kb)}function lc(L,aa){var pa=0<aa.length,wa=0<L.length,Ha=function(Ma,Ta,Za,Wa,kb){var nb,fb,Jb=0,cc='0',Yb=Ma&&[],ub=[],tc=Bb,ic=Ma||wa&&Fb.find.TAG('*',kb),qc=Wb+=null==
tc?1:Math.random()||.1,dc=ic.length;for(kb&&(Bb=Ta===tb||Ta||kb);cc!==dc&&null!=(nb=ic[cc]);cc++){if(wa&&nb){var Xc=0;for(Ta||nb.ownerDocument===tb||(Bc(nb),Za=!fc);fb=L[Xc++];)if(fb(nb,Ta||tb,Za)){Wa.push(nb);break}kb&&(Wb=qc)}pa&&((nb=!fb&&nb)&&Jb--,Ma&&Yb.push(nb))}if(Jb+=cc,pa&&cc!==Jb){for(Xc=0;fb=aa[Xc++];)fb(Yb,ub,Ta,Za);if(Ma){if(0<Jb)for(;cc--;)Yb[cc]||ub[cc]||(ub[cc]=Yc.call(Wa));ub=Hb(ub)}Ac.apply(Wa,ub);kb&&!Ma&&0<ub.length&&1<Jb+aa.length&&c.uniqueSort(Wa)}return kb&&(Wb=qc,Bb=tc),Yb};
return pa?k(Ha):Ha}var wc,vb,hc,Bb,Ob,Rb,tb,jc,fc,Tb,ec,Sb,oc,Ab='sizzle'+1*new Date,ac=a.document,Wb=0,Qb=0,Hc=e(),pc=e(),bc=e(),uc=function(L,aa){return L===aa&&(Rb=!0),0},vc={}.hasOwnProperty,mc=[],Yc=mc.pop,zd=mc.push,Ac=mc.push,ld=mc.slice,Cc=function(L,aa){for(var pa=0,wa=L.length;wa>pa;pa++)if(L[pa]===aa)return pa;return-1},Ad=RegExp('[\\x20\\t\\r\\n\\f]+','g'),Nc=RegExp('^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$','g'),Bd=RegExp('^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*'),
Cd=RegExp('^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*'),Dd=RegExp('=[\\x20\\t\\r\\n\\f]*([^\\]\'"]*?)[\\x20\\t\\r\\n\\f]*\\]','g'),Ed=RegExp(':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
kd=RegExp('^(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+$'),Oc={ID:RegExp('^#((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),CLASS:RegExp('^\\.((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),TAG:RegExp('^((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+|[*])'),ATTR:RegExp('^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]'),PSEUDO:RegExp('^:((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
CHILD:RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)','i'),bool:RegExp('^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$','i'),needsContext:RegExp('^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)',
'i')},Fd=/^(?:input|select|textarea|button)$/i,Gd=/^h\d$/i,Kc=/^[^{]+\{\s*\[native \w/,xd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Wc=/[+~]/,yd=/'|\\/g,xc=RegExp('\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)','ig'),yc=function(L,aa,pa){L='0x'+aa-65536;return L!==L||pa?aa:0>L?String.fromCharCode(L+65536):String.fromCharCode(L>>10|55296,1023&L|56320)},md=function(){Bc()};try{Ac.apply(mc=ld.call(ac.childNodes),ac.childNodes),mc[ac.childNodes.length].nodeType}catch(L){Ac={apply:mc.length?
function(aa,pa){zd.apply(aa,ld.call(pa))}:function(aa,pa){for(var wa=aa.length,Ha=0;aa[wa++]=pa[Ha++];);aa.length=wa-1}}}var Pb=c.support={};var Hd=c.isXML=function(L){return(L=L&&(L.ownerDocument||L).documentElement)?'HTML'!==L.nodeName:!1};var Bc=c.setDocument=function(L){var aa,pa;L=L?L.ownerDocument||L:ac;return L!==tb&&9===L.nodeType&&L.documentElement?(tb=L,jc=tb.documentElement,fc=!Hd(tb),(pa=tb.defaultView)&&pa.top!==pa&&(pa.addEventListener?pa.addEventListener('unload',md,!1):pa.attachEvent&&
pa.attachEvent('onunload',md)),Pb.attributes=n(function(wa){return wa.className='i',!wa.getAttribute('className')}),Pb.getElementsByTagName=n(function(wa){return wa.appendChild(tb.createComment('')),!wa.getElementsByTagName('*').length}),Pb.getElementsByClassName=Kc.test(tb.getElementsByClassName),Pb.getById=n(function(wa){return jc.appendChild(wa).id=Ab,!tb.getElementsByName||!tb.getElementsByName(Ab).length}),Pb.getById?(Fb.find.ID=function(wa,Ha){if('undefined'!=typeof Ha.getElementById&&fc)return(wa=
Ha.getElementById(wa))?[wa]:[]},Fb.filter.ID=function(wa){var Ha=wa.replace(xc,yc);return function(Ma){return Ma.getAttribute('id')===Ha}}):(delete Fb.find.ID,Fb.filter.ID=function(wa){var Ha=wa.replace(xc,yc);return function(Ma){return(Ma='undefined'!=typeof Ma.getAttributeNode&&Ma.getAttributeNode('id'))&&Ma.value===Ha}}),Fb.find.TAG=Pb.getElementsByTagName?function(wa,Ha){return'undefined'!=typeof Ha.getElementsByTagName?Ha.getElementsByTagName(wa):Pb.qsa?Ha.querySelectorAll(wa):void 0}:function(wa,
Ha){var Ma=[],Ta=0;Ha=Ha.getElementsByTagName(wa);if('*'===wa){for(;wa=Ha[Ta++];)1===wa.nodeType&&Ma.push(wa);return Ma}return Ha},Fb.find.CLASS=Pb.getElementsByClassName&&function(wa,Ha){return'undefined'!=typeof Ha.getElementsByClassName&&fc?Ha.getElementsByClassName(wa):void 0},ec=[],Tb=[],(Pb.qsa=Kc.test(tb.querySelectorAll))&&(n(function(wa){jc.appendChild(wa).innerHTML="<a id='"+Ab+"'></a><select id='"+Ab+"-\r\\' msallowcapture=''><option selected=''></option></select>";wa.querySelectorAll("[msallowcapture^='']").length&&
Tb.push('[*^$]=[\\x20\\t\\r\\n\\f]*(?:\'\'|"")');wa.querySelectorAll('[selected]').length||Tb.push('\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)');wa.querySelectorAll('[id~='+Ab+'-]').length||Tb.push('~=');wa.querySelectorAll(':checked').length||Tb.push(':checked');wa.querySelectorAll('a#'+Ab+'+*').length||Tb.push('.#.+[+~]')}),n(function(wa){var Ha=tb.createElement('input');Ha.setAttribute('type',
'hidden');wa.appendChild(Ha).setAttribute('name','D');wa.querySelectorAll('[name=d]').length&&Tb.push('name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=');wa.querySelectorAll(':enabled').length||Tb.push(':enabled',':disabled');wa.querySelectorAll('*,:x');Tb.push(',.*:')})),(Pb.matchesSelector=Kc.test(Sb=jc.matches||jc.webkitMatchesSelector||jc.mozMatchesSelector||jc.oMatchesSelector||jc.msMatchesSelector))&&n(function(wa){Pb.disconnectedMatch=Sb.call(wa,'div');Sb.call(wa,"[s!='']:x");ec.push('!=',':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)')}),
Tb=Tb.length&&new RegExp(Tb.join('|')),ec=ec.length&&new RegExp(ec.join('|')),aa=Kc.test(jc.compareDocumentPosition),oc=aa||Kc.test(jc.contains)?function(wa,Ha){var Ma=9===wa.nodeType?wa.documentElement:wa;Ha=Ha&&Ha.parentNode;return wa===Ha||!(!Ha||1!==Ha.nodeType||!(Ma.contains?Ma.contains(Ha):wa.compareDocumentPosition&&16&wa.compareDocumentPosition(Ha)))}:function(wa,Ha){if(Ha)for(;Ha=Ha.parentNode;)if(Ha===wa)return!0;return!1},uc=aa?function(wa,Ha){if(wa===Ha)return Rb=!0,0;var Ma=!wa.compareDocumentPosition-
!Ha.compareDocumentPosition;return Ma?Ma:(Ma=(wa.ownerDocument||wa)===(Ha.ownerDocument||Ha)?wa.compareDocumentPosition(Ha):1,1&Ma||!Pb.sortDetached&&Ha.compareDocumentPosition(wa)===Ma?wa===tb||wa.ownerDocument===ac&&oc(ac,wa)?-1:Ha===tb||Ha.ownerDocument===ac&&oc(ac,Ha)?1:Ob?Cc(Ob,wa)-Cc(Ob,Ha):0:4&Ma?-1:1)}:function(wa,Ha){if(wa===Ha)return Rb=!0,0;var Ma=0,Ta=wa.parentNode,Za=Ha.parentNode,Wa=[wa],kb=[Ha];if(!Ta||!Za)return wa===tb?-1:Ha===tb?1:Ta?-1:Za?1:Ob?Cc(Ob,wa)-Cc(Ob,Ha):0;if(Ta===Za)return I(wa,
Ha);for(;wa=wa.parentNode;)Wa.unshift(wa);for(wa=Ha;wa=wa.parentNode;)kb.unshift(wa);for(;Wa[Ma]===kb[Ma];)Ma++;return Ma?I(Wa[Ma],kb[Ma]):Wa[Ma]===ac?-1:kb[Ma]===ac?1:0},tb):tb};c.matches=function(L,aa){return c(L,null,null,aa)};c.matchesSelector=function(L,aa){if((L.ownerDocument||L)!==tb&&Bc(L),aa=aa.replace(Dd,"='$1']"),!(!Pb.matchesSelector||!fc||bc[aa+' ']||ec&&ec.test(aa)||Tb&&Tb.test(aa)))try{var pa=Sb.call(L,aa);if(pa||Pb.disconnectedMatch||L.document&&11!==L.document.nodeType)return pa}catch(wa){}return 0<
c(aa,tb,null,[L]).length};c.contains=function(L,aa){return(L.ownerDocument||L)!==tb&&Bc(L),oc(L,aa)};c.attr=function(L,aa){(L.ownerDocument||L)!==tb&&Bc(L);var pa=Fb.attrHandle[aa.toLowerCase()];pa=pa&&vc.call(Fb.attrHandle,aa.toLowerCase())?pa(L,aa,!fc):void 0;return void 0!==pa?pa:Pb.attributes||!fc?L.getAttribute(aa):(pa=L.getAttributeNode(aa))&&pa.specified?pa.value:null};c.error=function(L){throw Error('Syntax error, unrecognized expression: '+L);};c.uniqueSort=function(L){var aa,pa=[],wa=0,
Ha=0;if(Rb=!Pb.detectDuplicates,Ob=!Pb.sortStable&&L.slice(0),L.sort(uc),Rb){for(;aa=L[Ha++];)aa===L[Ha]&&(wa=pa.push(Ha));for(;wa--;)L.splice(pa[wa],1)}return Ob=null,L};var Zc=c.getText=function(L){var aa,pa='',wa=0;if(aa=L.nodeType)if(1===aa||9===aa||11===aa){if('string'==typeof L.textContent)return L.textContent;for(L=L.firstChild;L;L=L.nextSibling)pa+=Zc(L)}else{if(3===aa||4===aa)return L.nodeValue}else for(;aa=L[wa++];)pa+=Zc(aa);return pa};var Fb=c.selectors={cacheLength:50,createPseudo:k,
match:Oc,attrHandle:{},find:{},relative:{'>':{dir:'parentNode',first:!0},' ':{dir:'parentNode'},'+':{dir:'previousSibling',first:!0},'~':{dir:'previousSibling'}},preFilter:{ATTR:function(L){return L[1]=L[1].replace(xc,yc),L[3]=(L[3]||L[4]||L[5]||'').replace(xc,yc),'~='===L[2]&&(L[3]=' '+L[3]+' '),L.slice(0,4)},CHILD:function(L){return L[1]=L[1].toLowerCase(),'nth'===L[1].slice(0,3)?(L[3]||c.error(L[0]),L[4]=+(L[4]?L[5]+(L[6]||1):2*('even'===L[3]||'odd'===L[3])),L[5]=+(L[7]+L[8]||'odd'===L[3])):L[3]&&
c.error(L[0]),L},PSEUDO:function(L){var aa,pa=!L[6]&&L[2];return Oc.CHILD.test(L[0])?null:(L[3]?L[2]=L[4]||L[5]||'':pa&&Ed.test(pa)&&(aa=Mc(pa,!0))&&(aa=pa.indexOf(')',pa.length-aa)-pa.length)&&(L[0]=L[0].slice(0,aa),L[2]=pa.slice(0,aa)),L.slice(0,3))}},filter:{TAG:function(L){var aa=L.replace(xc,yc).toLowerCase();return'*'===L?function(){return!0}:function(pa){return pa.nodeName&&pa.nodeName.toLowerCase()===aa}},CLASS:function(L){var aa=Hc[L+' '];return aa||(aa=new RegExp('(^|[\\x20\\t\\r\\n\\f])'+
L+'([\\x20\\t\\r\\n\\f]|$)'),Hc(L,function(pa){return aa.test('string'==typeof pa.className&&pa.className||'undefined'!=typeof pa.getAttribute&&pa.getAttribute('class')||'')}))},ATTR:function(L,aa,pa){return function(wa){wa=c.attr(wa,L);return null==wa?'!='===aa:aa?(wa+='','='===aa?wa===pa:'!='===aa?wa!==pa:'^='===aa?pa&&0===wa.indexOf(pa):'*='===aa?pa&&-1<wa.indexOf(pa):'$='===aa?pa&&wa.slice(-pa.length)===pa:'~='===aa?-1<(' '+wa.replace(Ad,' ')+' ').indexOf(pa):'|='===aa?wa===pa||wa.slice(0,pa.length+
1)===pa+'-':!1):!0}},CHILD:function(L,aa,pa,wa,Ha){var Ma='nth'!==L.slice(0,3),Ta='last'!==L.slice(-4),Za='of-type'===aa;return 1===wa&&0===Ha?function(Wa){return!!Wa.parentNode}:function(Wa,kb,nb){var fb,Jb;kb=Ma!==Ta?'nextSibling':'previousSibling';var cc=Wa.parentNode,Yb=Za&&Wa.nodeName.toLowerCase();nb=!nb&&!Za;var ub=!1;if(cc){if(Ma){for(;kb;){for(fb=Wa;fb=fb[kb];)if(Za?fb.nodeName.toLowerCase()===Yb:1===fb.nodeType)return!1;var tc=kb='only'===L&&!tc&&'nextSibling'}return!0}if(tc=[Ta?cc.firstChild:
cc.lastChild],Ta&&nb){fb=cc;var ic=fb[Ab]||(fb[Ab]={});var qc=ic[fb.uniqueID]||(ic[fb.uniqueID]={});var dc=qc[L]||[];ub=(Jb=dc[0]===Wb&&dc[1])&&dc[2];for(fb=Jb&&cc.childNodes[Jb];fb=++Jb&&fb&&fb[kb]||(ub=Jb=0)||tc.pop();)if(1===fb.nodeType&&++ub&&fb===Wa){qc[L]=[Wb,Jb,ub];break}}else if(nb&&(fb=Wa,ic=fb[Ab]||(fb[Ab]={}),qc=ic[fb.uniqueID]||(ic[fb.uniqueID]={}),dc=qc[L]||[],Jb=dc[0]===Wb&&dc[1],ub=Jb),!1===ub)for(;(fb=++Jb&&fb&&fb[kb]||(ub=Jb=0)||tc.pop())&&((Za?fb.nodeName.toLowerCase()!==Yb:1!==
fb.nodeType)||!++ub||(nb&&(ic=fb[Ab]||(fb[Ab]={}),qc=ic[fb.uniqueID]||(ic[fb.uniqueID]={}),qc[L]=[Wb,ub]),fb!==Wa)););return ub-=Ha,ub===wa||0===ub%wa&&0<=ub/wa}}},PSEUDO:function(L,aa){var pa,wa=Fb.pseudos[L]||Fb.setFilters[L.toLowerCase()]||c.error('unsupported pseudo: '+L);return wa[Ab]?wa(aa):1<wa.length?(pa=[L,L,'',aa],Fb.setFilters.hasOwnProperty(L.toLowerCase())?k(function(Ha,Ma){for(var Ta,Za=wa(Ha,aa),Wa=Za.length;Wa--;)Ta=Cc(Ha,Za[Wa]),Ha[Ta]=!(Ma[Ta]=Za[Wa])}):function(Ha){return wa(Ha,
0,pa)}):wa}},pseudos:{not:k(function(L){var aa=[],pa=[],wa=vb(L.replace(Nc,'$1'));return wa[Ab]?k(function(Ha,Ma,Ta,Za){var Wa;Ta=wa(Ha,null,Za,[]);for(Za=Ha.length;Za--;)(Wa=Ta[Za])&&(Ha[Za]=!(Ma[Za]=Wa))}):function(Ha,Ma,Ta){return aa[0]=Ha,wa(aa,null,Ta,pa),aa[0]=null,!pa.pop()}}),has:k(function(L){return function(aa){return 0<c(L,aa).length}}),contains:k(function(L){return L=L.replace(xc,yc),function(aa){return-1<(aa.textContent||aa.innerText||Zc(aa)).indexOf(L)}}),lang:k(function(L){return kd.test(L||
'')||c.error('unsupported lang: '+L),L=L.replace(xc,yc).toLowerCase(),function(aa){var pa;do if(pa=fc?aa.lang:aa.getAttribute('xml:lang')||aa.getAttribute('lang'))return pa=pa.toLowerCase(),pa===L||0===pa.indexOf(L+'-');while((aa=aa.parentNode)&&1===aa.nodeType);return!1}}),target:function(L){var aa=a.location&&a.location.hash;return aa&&aa.slice(1)===L.id},root:function(L){return L===jc},focus:function(L){return L===tb.activeElement&&(!tb.hasFocus||tb.hasFocus())&&!!(L.type||L.href||~L.tabIndex)},
enabled:function(L){return!1===L.disabled},disabled:function(L){return!0===L.disabled},checked:function(L){var aa=L.nodeName.toLowerCase();return'input'===aa&&!!L.checked||'option'===aa&&!!L.selected},selected:function(L){return L.parentNode&&L.parentNode.selectedIndex,!0===L.selected},empty:function(L){for(L=L.firstChild;L;L=L.nextSibling)if(6>L.nodeType)return!1;return!0},parent:function(L){return!Fb.pseudos.empty(L)},header:function(L){return Gd.test(L.nodeName)},input:function(L){return Fd.test(L.nodeName)},
button:function(L){var aa=L.nodeName.toLowerCase();return'input'===aa&&'button'===L.type||'button'===aa},text:function(L){var aa;return'input'===L.nodeName.toLowerCase()&&'text'===L.type&&(null==(aa=L.getAttribute('type'))||'text'===aa.toLowerCase())},first:Ca(function(){return[0]}),last:Ca(function(L,aa){return[aa-1]}),eq:Ca(function(L,aa,pa){return[0>pa?pa+aa:pa]}),even:Ca(function(L,aa){for(var pa=0;aa>pa;pa+=2)L.push(pa);return L}),odd:Ca(function(L,aa){for(var pa=1;aa>pa;pa+=2)L.push(pa);return L}),
lt:Ca(function(L,aa,pa){for(aa=0>pa?pa+aa:pa;0<=--aa;)L.push(aa);return L}),gt:Ca(function(L,aa,pa){for(pa=0>pa?pa+aa:pa;++pa<aa;)L.push(pa);return L})}};Fb.pseudos.nth=Fb.pseudos.eq;for(wc in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Fb.pseudos[wc]=Y(wc);for(wc in{submit:!0,reset:!0})Fb.pseudos[wc]=qa(wc);Sa.prototype=Fb.filters=Fb.pseudos;Fb.setFilters=new Sa;var Mc=c.tokenize=function(L,aa){var pa,wa,Ha,Ma,Ta;if(Ma=pc[L+' '])return aa?0:Ma.slice(0);Ma=L;var Za=[];for(Ta=Fb.preFilter;Ma;){Wa&&
!(pa=Bd.exec(Ma))||(pa&&(Ma=Ma.slice(pa[0].length)||Ma),Za.push(wa=[]));var Wa=!1;(pa=Cd.exec(Ma))&&(Wa=pa.shift(),wa.push({value:Wa,type:pa[0].replace(Nc,' ')}),Ma=Ma.slice(Wa.length));for(Ha in Fb.filter)!(pa=Oc[Ha].exec(Ma))||Ta[Ha]&&!(pa=Ta[Ha](pa))||(Wa=pa.shift(),wa.push({value:Wa,type:Ha,matches:pa}),Ma=Ma.slice(Wa.length));if(!Wa)break}return aa?Ma.length:Ma?c.error(L):pc(L,Za).slice(0)};return vb=c.compile=function(L,aa){var pa,wa=[],Ha=[],Ma=bc[L+' '];if(!Ma){aa||=Mc(L);for(pa=aa.length;pa--;)Ma=
Gc(aa[pa]),Ma[Ab]?wa.push(Ma):Ha.push(Ma);Ma=bc(L,lc(Ha,wa));Ma.selector=L}return Ma},hc=c.select=function(L,aa,pa,wa){var Ha,Ma,Ta,Za,Wa,kb='function'==typeof L&&L,nb=!wa&&Mc(L=kb.selector||L);if(pa=pa||[],1===nb.length){if(Ma=nb[0]=nb[0].slice(0),2<Ma.length&&'ID'===(Ta=Ma[0]).type&&Pb.getById&&9===aa.nodeType&&fc&&Fb.relative[Ma[1].type]){if(aa=(Fb.find.ID(Ta.matches[0].replace(xc,yc),aa)||[])[0],!aa)return pa;kb&&(aa=aa.parentNode);L=L.slice(Ma.shift().value.length)}for(Ha=Oc.needsContext.test(L)?
0:Ma.length;Ha--&&(Ta=Ma[Ha],!Fb.relative[Za=Ta.type]);)if((Wa=Fb.find[Za])&&(wa=Wa(Ta.matches[0].replace(xc,yc),Wc.test(Ma[0].type)&&sa(aa.parentNode)||aa))){if(Ma.splice(Ha,1),L=wa.length&&Va(Ma),!L)return Ac.apply(pa,wa),pa;break}}return(kb||vb(L,nb))(wa,aa,!fc,pa,!aa||Wc.test(L)&&sa(aa.parentNode)||aa),pa},Pb.sortStable=Ab.split('').sort(uc).join('')===Ab,Pb.detectDuplicates=!!Rb,Bc(),Pb.sortDetached=n(function(L){return 1&L.compareDocumentPosition(tb.createElement('div'))}),n(function(L){return L.innerHTML=
"<a href='#'></a>",'#'===L.firstChild.getAttribute('href')})||C('type|href|height|width',function(L,aa,pa){return pa?void 0:L.getAttribute(aa,'type'===aa.toLowerCase()?1:2)}),Pb.attributes&&n(function(L){return L.innerHTML='<input/>',L.firstChild.setAttribute('value',''),''===L.firstChild.getAttribute('value')})||C('value',function(L,aa,pa){return pa||'input'!==L.nodeName.toLowerCase()?void 0:L.defaultValue}),n(function(L){return null==L.getAttribute('disabled')})||C('checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',
function(L,aa,pa){var wa;return pa?void 0:!0===L[aa]?aa.toLowerCase():(wa=L.getAttributeNode(aa))&&wa.specified?wa.value:null}),c}(B);b.find=K;b.expr=K.selectors;b.expr[':']=b.expr.pseudos;b.uniqueSort=b.unique=K.uniqueSort;b.text=K.getText;b.isXMLDoc=K.isXML;b.contains=K.contains;var fa=function(a,c,e){for(var k=[],n=void 0!==e;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(n&&b(a).is(e))break;k.push(a)}return k},Ba=function(a,c){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==c&&e.push(a);return e},
ea=b.expr.match.needsContext,da=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;b.filter=function(a,c,e){var k=c[0];return e&&(a=':not('+a+')'),1===c.length&&1===k.nodeType?b.find.matchesSelector(k,a)?[k]:[]:b.find.matches(a,b.grep(c,function(n){return 1===n.nodeType}))};b.fn.extend({find:function(a){var c,e=[],k=this,n=k.length;if('string'!=typeof a)return this.pushStack(b(a).filter(function(){for(c=0;n>c;c++)if(b.contains(k[c],this))return!0}));for(c=0;n>c;c++)b.find(a,k[c],e);return e=this.pushStack(1<
n?b.unique(e):e),e.selector=this.selector?this.selector+' '+a:a,e},filter:function(a){return this.pushStack(ma(this,a||[],!1))},not:function(a){return this.pushStack(ma(this,a||[],!0))},is:function(a){return!!ma(this,'string'==typeof a&&ea.test(a)?b(a):a||[],!1).length}});var na=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(b.fn.init=function(a,c,e){var k,n;if(!a)return this;if(e=e||ra,'string'==typeof a){if(k='<'===a.charAt(0)&&'>'===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:na.exec(a),!k||!k[1]&&
c)return!c||c.jquery?(c||e).find(a):this.constructor(c).find(a);if(k[1]){if(c=c instanceof b?c[0]:c,b.merge(this,b.parseHTML(k[1],c&&c.nodeType?c.ownerDocument||c:Ka,!0)),da.test(k[1])&&b.isPlainObject(c))for(k in c)b.isFunction(this[k])?this[k](c[k]):this.attr(k,c[k]);return this}if(n=Ka.getElementById(k[2]),n&&n.parentNode){if(n.id!==k[2])return ra.find(a);this.length=1;this[0]=n}return this.context=Ka,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):b.isFunction(a)?
'undefined'!=typeof e.ready?e.ready(a):a(b):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),b.makeArray(a,this))}).prototype=b.fn;var ra=b(Ka);var ia=/^(?:parents|prev(?:Until|All))/,Z={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({has:function(a){var c,e=b(a,this),k=e.length;return this.filter(function(){for(c=0;k>c;c++)if(b.contains(this,e[c]))return!0})},closest:function(a,c){for(var e,k=0,n=this.length,C=[],I=ea.test(a)||'string'!=typeof a?b(a,c||this.context):
0;n>k;k++)for(e=this[k];e&&e!==c;e=e.parentNode)if(11>e.nodeType&&(I?-1<I.index(e):1===e.nodeType&&b.find.matchesSelector(e,a))){C.push(e);break}return this.pushStack(1<C.length?b.uniqueSort(C):C)},index:function(a){return a?'string'==typeof a?b.inArray(this[0],b(a)):b.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,c){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(a,c))))},addBack:function(a){return this.add(null==a?this.prevObject:
this.prevObject.filter(a))}});b.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return fa(a,'parentNode')},parentsUntil:function(a,c,e){return fa(a,'parentNode',e)},next:function(a){return U(a,'nextSibling')},prev:function(a){return U(a,'previousSibling')},nextAll:function(a){return fa(a,'nextSibling')},prevAll:function(a){return fa(a,'previousSibling')},nextUntil:function(a,c,e){return fa(a,'nextSibling',e)},prevUntil:function(a,c,e){return fa(a,'previousSibling',
e)},siblings:function(a){return Ba((a.parentNode||{}).firstChild,a)},children:function(a){return Ba(a.firstChild)},contents:function(a){return b.nodeName(a,'iframe')?a.contentDocument||a.contentWindow.document:b.merge([],a.childNodes)}},function(a,c){b.fn[a]=function(e,k){var n=b.map(this,c,e);return'Until'!==a.slice(-5)&&(k=e),k&&'string'==typeof k&&(n=b.filter(k,n)),1<this.length&&(Z[a]||(n=b.uniqueSort(n)),ia.test(a)&&(n=n.reverse())),this.pushStack(n)}});var Ga=/\S+/g;b.Callbacks=function(a){a=
'string'==typeof a?N(a):b.extend({},a);var c,e,k,n,C=[],I=[],Y=-1,qa=function(){n=a.once;for(k=c=!0;I.length;Y=-1)for(e=I.shift();++Y<C.length;)!1===C[Y].apply(e[0],e[1])&&a.stopOnFalse&&(Y=C.length,e=!1);a.memory||(e=!1);c=!1;n&&(C=e?[]:'')},Ca={add:function(){return C&&(e&&!c&&(Y=C.length-1,I.push(e)),function Va(Sa){b.each(Sa,function(yb,bb){b.isFunction(bb)?a.unique&&Ca.has(bb)||C.push(bb):bb&&bb.length&&'string'!==b.type(bb)&&Va(bb)})}(arguments),e&&!c&&qa()),this},remove:function(){return b.each(arguments,
function(sa,Sa){for(var Va;-1<(Va=b.inArray(Sa,C,Va));)C.splice(Va,1),Y>=Va&&Y--}),this},has:function(sa){return sa?-1<b.inArray(sa,C):0<C.length},empty:function(){return C&&=[],this},disable:function(){return n=I=[],C=e='',this},disabled:function(){return!C},lock:function(){return n=!0,e||Ca.disable(),this},locked:function(){return!!n},fireWith:function(sa,Sa){return n||(Sa=Sa||[],Sa=[sa,Sa.slice?Sa.slice():Sa],I.push(Sa),c||qa()),this},fire:function(){return Ca.fireWith(this,arguments),this},fired:function(){return!!k}};
return Ca};b.extend({Deferred:function(a){var c=[['resolve','done',b.Callbacks('once memory'),'resolved'],['reject','fail',b.Callbacks('once memory'),'rejected'],['notify','progress',b.Callbacks('memory')]],e='pending',k={state:function(){return e},always:function(){return n.done(arguments).fail(arguments),this},then:function(){var C=arguments;return b.Deferred(function(I){b.each(c,function(Y,qa){var Ca=b.isFunction(C[Y])&&C[Y];n[qa[1]](function(){var sa=Ca&&Ca.apply(this,arguments);sa&&b.isFunction(sa.promise)?
sa.promise().progress(I.notify).done(I.resolve).fail(I.reject):I[qa[0]+'With'](this===k?I.promise():this,Ca?[sa]:arguments)})});C=null}).promise()},promise:function(C){return null!=C?b.extend(C,k):k}},n={};return k.pipe=k.then,b.each(c,function(C,I){var Y=I[2],qa=I[3];k[I[1]]=Y.add;qa&&Y.add(function(){e=qa},c[1^C][2].disable,c[2][2].lock);n[I[0]]=function(){return n[I[0]+'With'](this===n?k:this,arguments),this};n[I[0]+'With']=Y.fireWith}),k.promise(n),a&&a.call(n,n),n},when:function(a){var c=0,e=
db.call(arguments),k=e.length,n=1!==k||a&&b.isFunction(a.promise)?k:0,C=1===n?a:b.Deferred(),I=function(sa,Sa,Va){return function(yb){Sa[sa]=this;Va[sa]=1<arguments.length?db.call(arguments):yb;Va===qa?C.notifyWith(Sa,Va):--n||C.resolveWith(Sa,Va)}},Y;if(1<k){var qa=Array(k);var Ca=Array(k);for(Y=Array(k);k>c;c++)e[c]&&b.isFunction(e[c].promise)?e[c].promise().progress(I(c,Ca,qa)).done(I(c,Y,e)).fail(C.reject):--n}return n||C.resolveWith(Y,e),C.promise()}});var Pa;b.fn.ready=function(a){return b.ready.promise().done(a),
this};b.extend({isReady:!1,readyWait:1,holdReady:function(a){a?b.readyWait++:b.ready(!0)},ready:function(a){(!0===a?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==a&&0<--b.readyWait||(Pa.resolveWith(Ka,[b]),b.fn.triggerHandler&&(b(Ka).triggerHandler('ready'),b(Ka).off('ready'))))}});b.ready.promise=function(a){if(!Pa)if(Pa=b.Deferred(),'complete'===Ka.readyState||'loading'!==Ka.readyState&&!Ka.documentElement.doScroll)B.setTimeout(b.ready);else if(Ka.addEventListener)Ka.addEventListener('DOMContentLoaded',
Q),B.addEventListener('load',Q);else{Ka.attachEvent('onreadystatechange',Q);B.attachEvent('onload',Q);var c=!1;try{c=null==B.frameElement&&Ka.documentElement}catch(e){}c&&c.doScroll&&!function k(){if(!b.isReady){try{c.doScroll('left')}catch(n){return B.setTimeout(k,50)}ba();b.ready()}}()}return Pa.promise(a)};b.ready.promise();for(var $a in b(h))break;h.ownFirst='0'===$a;h.inlineBlockNeedsLayout=!1;b(function(){var a,c,e,k;(e=Ka.getElementsByTagName('body')[0])&&e.style&&(c=Ka.createElement('div'),
k=Ka.createElement('div'),k.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',e.appendChild(k).appendChild(c),'undefined'!=typeof c.style.zoom&&(c.style.cssText='display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1',h.inlineBlockNeedsLayout=a=3===c.offsetWidth,a&&(e.style.zoom=1)),e.removeChild(k))});(function(){var a=Ka.createElement('div');h.deleteExpando=!0;try{delete a.test}catch(c){h.deleteExpando=!1}})();var ib=function(a){var c=b.noData[(a.nodeName+' ').toLowerCase()],
e=+a.nodeType||1;return 1!==e&&9!==e?!1:!c||!0!==c&&a.getAttribute('classid')===c},Cb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,zb=/([A-Z])/g;b.extend({cache:{},noData:{'applet ':!0,'embed ':!0,'object ':'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'},hasData:function(a){return a=a.nodeType?b.cache[a[b.expando]]:a[b.expando],!!a&&!r(a)},data:function(a,c,e){return H(a,c,e)},removeData:function(a,c){return w(a,c)},_data:function(a,c,e){return H(a,c,e,!0)},_removeData:function(a,c){return w(a,c,!0)}});b.fn.extend({data:function(a,
c){var e,k,n,C=this[0],I=C&&C.attributes;if(void 0===a){if(this.length&&(n=b.data(C),1===C.nodeType&&!b._data(C,'parsedAttrs'))){for(e=I.length;e--;)I[e]&&(k=I[e].name,0===k.indexOf('data-')&&(k=b.camelCase(k.slice(5)),S(C,k,n[k])));b._data(C,'parsedAttrs',!0)}return n}return'object'==typeof a?this.each(function(){b.data(this,a)}):1<arguments.length?this.each(function(){b.data(this,a,c)}):C?S(C,a,b.data(C,a)):void 0},removeData:function(a){return this.each(function(){b.removeData(this,a)})}});b.extend({queue:function(a,
c,e){var k;return a?(c=(c||'fx')+'queue',k=b._data(a,c),e&&(!k||b.isArray(e)?k=b._data(a,c,b.makeArray(e)):k.push(e)),k||[]):void 0},dequeue:function(a,c){c=c||'fx';var e=b.queue(a,c),k=e.length,n=e.shift(),C=b._queueHooks(a,c),I=function(){b.dequeue(a,c)};'inprogress'===n&&(n=e.shift(),k--);n&&('fx'===c&&e.unshift('inprogress'),delete C.stop,n.call(a,I,C));!k&&C&&C.empty.fire()},_queueHooks:function(a,c){var e=c+'queueHooks';return b._data(a,e)||b._data(a,e,{empty:b.Callbacks('once memory').add(function(){b._removeData(a,
c+'queue');b._removeData(a,e)})})}});b.fn.extend({queue:function(a,c){var e=2;return'string'!=typeof a&&(c=a,a='fx',e--),arguments.length<e?b.queue(this[0],a):void 0===c?this:this.each(function(){var k=b.queue(this,a,c);b._queueHooks(this,a);'fx'===a&&'inprogress'!==k[0]&&b.dequeue(this,a)})},dequeue:function(a){return this.each(function(){b.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||'fx',[])},promise:function(a,c){var e,k=1,n=b.Deferred(),C=this,I=this.length,Y=function(){--k||
n.resolveWith(C,[C])};'string'!=typeof a&&(c=a,a=void 0);for(a=a||'fx';I--;)(e=b._data(C[I],a+'queueHooks'))&&e.empty&&(k++,e.empty.add(Y));return Y(),n.promise(c)}});(function(){var a;h.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var c,e,k;return e=Ka.getElementsByTagName('body')[0],e&&e.style?(c=Ka.createElement('div'),k=Ka.createElement('div'),k.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',e.appendChild(k).appendChild(c),'undefined'!=typeof c.style.zoom&&
(c.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1',c.appendChild(Ka.createElement('div')).style.width='5px',a=3!==c.offsetWidth),e.removeChild(k),a):void 0}})();var qb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mb=new RegExp('^(?:([+-])=|)('+qb+')([a-z%]*)$','i'),Ya=['Top','Right','Bottom','Left'],cb=function(a,c){return a=c||a,'none'===b.css(a,'display')||!b.contains(a.ownerDocument,a)},
ca=function(a,c,e,k,n,C,I){var Y=0,qa=a.length,Ca=null==e;if('object'===b.type(e))for(Y in n=!0,e)ca(a,c,Y,e[Y],!0,C,I);else if(void 0!==k&&(n=!0,b.isFunction(k)||(I=!0),Ca&&(I?(c.call(a,k),c=null):(Ca=c,c=function(sa,Sa,Va){return Ca.call(b(sa),Va)})),c))for(;qa>Y;Y++)c(a[Y],e,I?k:k.call(a[Y],Y,c(a[Y],e)));return n?a:Ca?c.call(a):qa?c(a[0],e):C},X=/^(?:checkbox|radio)$/i,ja=/<([\w:-]+)/,va=/^$|\/(?:java|ecma)script/i,Ra=/^\s+/;!function(){var a=Ka.createElement('div'),c=Ka.createDocumentFragment(),
e=Ka.createElement('input');a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";h.leadingWhitespace=3===a.firstChild.nodeType;h.tbody=!a.getElementsByTagName('tbody').length;h.htmlSerialize=!!a.getElementsByTagName('link').length;h.html5Clone='<:nav></:nav>'!==Ka.createElement('nav').cloneNode(!0).outerHTML;e.type='checkbox';e.checked=!0;c.appendChild(e);h.appendChecked=e.checked;a.innerHTML='<textarea>x</textarea>';h.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue;
c.appendChild(a);e=Ka.createElement('input');e.setAttribute('type','radio');e.setAttribute('checked','checked');e.setAttribute('name','t');a.appendChild(e);h.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;h.noCloneEvent=!!a.addEventListener;a[b.expando]=1;h.attributes=!a.getAttribute(b.expando)}();var Xa={option:[1,"<select multiple='multiple'>",'</select>'],legend:[1,'<fieldset>','</fieldset>'],area:[1,'<map>','</map>'],param:[1,'<object>','</object>'],thead:[1,'<table>','</table>'],
tr:[2,'<table><tbody>','</tbody></table>'],col:[2,'<table><tbody></tbody><colgroup>','</colgroup></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:h.htmlSerialize?[0,'','']:[1,'X<div>','</div>']};Xa.optgroup=Xa.option;Xa.tbody=Xa.tfoot=Xa.colgroup=Xa.caption=Xa.thead;Xa.th=Xa.td;var eb=/<|&#?\w+;/,Oa=/<tbody/i;!function(){var a,c=Ka.createElement('div');for(a in{submit:!0,change:!0,focusin:!0}){var e='on'+a;(h[a]=e in B)||(c.setAttribute(e,'t'),h[a]=!1===c.attributes[e].expando)}}();
var wb=/^(?:input|select|textarea)$/i,lb=/^key/,hb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ob=/^(?:focusinfocus|focusoutblur)$/,sb=/^([^.]*)(?:\.(.+)|)/;b.event={global:{},add:function(a,c,e,k,n){var C,I,Y,qa,Ca,sa,Sa,Va;if(I=b._data(a)){e.handler&&(Y=e,e=Y.handler,n=Y.selector);e.guid||(e.guid=b.guid++);(C=I.events)||(C=I.events={});(Ca=I.handle)||(Ca=I.handle=function(Hb){return'undefined'==typeof b||Hb&&b.event.triggered===Hb.type?void 0:b.event.dispatch.apply(Ca.elem,arguments)},Ca.elem=
a);c=(c||'').match(Ga)||[''];for(I=c.length;I--;){var yb=sb.exec(c[I])||[];var bb=Va=yb[1];yb=(yb[2]||'').split('.').sort();bb&&(qa=b.event.special[bb]||{},bb=(n?qa.delegateType:qa.bindType)||bb,qa=b.event.special[bb]||{},sa=b.extend({type:bb,origType:Va,data:k,handler:e,guid:e.guid,selector:n,needsContext:n&&b.expr.match.needsContext.test(n),namespace:yb.join('.')},Y),(Sa=C[bb])||(Sa=C[bb]=[],Sa.delegateCount=0,qa.setup&&!1!==qa.setup.call(a,k,yb,Ca)||(a.addEventListener?a.addEventListener(bb,Ca,
!1):a.attachEvent&&a.attachEvent('on'+bb,Ca))),qa.add&&(qa.add.call(a,sa),sa.handler.guid||(sa.handler.guid=e.guid)),n?Sa.splice(Sa.delegateCount++,0,sa):Sa.push(sa),b.event.global[bb]=!0)}a=null}},remove:function(a,c,e,k,n){var C,I,Y,qa,Ca,sa,Sa,Va,yb=b.hasData(a)&&b._data(a);if(yb&&(Ca=yb.events)){c=(c||'').match(Ga)||[''];for(qa=c.length;qa--;)if(I=sb.exec(c[qa])||[],sa=Va=I[1],Sa=(I[2]||'').split('.').sort(),sa){var bb=b.event.special[sa]||{};sa=(k?bb.delegateType:bb.bindType)||sa;var Hb=Ca[sa]||
[];I=I[2]&&new RegExp('(^|\\.)'+Sa.join('\\.(?:.*\\.|)')+'(\\.|$)');for(Y=C=Hb.length;C--;){var kc=Hb[C];!n&&Va!==kc.origType||e&&e.guid!==kc.guid||I&&!I.test(kc.namespace)||k&&k!==kc.selector&&('**'!==k||!kc.selector)||(Hb.splice(C,1),kc.selector&&Hb.delegateCount--,bb.remove&&bb.remove.call(a,kc))}Y&&!Hb.length&&(bb.teardown&&!1!==bb.teardown.call(a,Sa,yb.handle)||b.removeEvent(a,sa,yb.handle),delete Ca[sa])}else for(sa in Ca)b.event.remove(a,sa+c[qa],e,k,!0);b.isEmptyObject(Ca)&&(delete yb.handle,
b._removeData(a,'events'))}},trigger:function(a,c,e,k){var n,C,I,Y,qa=[e||Ka],Ca=g.call(a,'type')?a.type:a;var sa=g.call(a,'namespace')?a.namespace.split('.'):[];if(I=n=e=e||Ka,3!==e.nodeType&&8!==e.nodeType&&!ob.test(Ca+b.event.triggered)&&(-1<Ca.indexOf('.')&&(sa=Ca.split('.'),Ca=sa.shift(),sa.sort()),C=0>Ca.indexOf(':')&&'on'+Ca,a=a[b.expando]?a:new b.Event(Ca,'object'==typeof a&&a),a.isTrigger=k?2:3,a.namespace=sa.join('.'),a.rnamespace=a.namespace?new RegExp('(^|\\.)'+sa.join('\\.(?:.*\\.|)')+
'(\\.|$)'):null,a.result=void 0,a.target||(a.target=e),c=null==c?[a]:b.makeArray(c,[a]),Y=b.event.special[Ca]||{},k||!Y.trigger||!1!==Y.trigger.apply(e,c))){if(!k&&!Y.noBubble&&!b.isWindow(e)){var Sa=Y.delegateType||Ca;for(ob.test(Sa+Ca)||(I=I.parentNode);I;I=I.parentNode)qa.push(I),n=I;n===(e.ownerDocument||Ka)&&qa.push(n.defaultView||n.parentWindow||B)}for(sa=0;(I=qa[sa++])&&!a.isPropagationStopped();)a.type=1<sa?Sa:Y.bindType||Ca,(n=(b._data(I,'events')||{})[a.type]&&b._data(I,'handle'))&&n.apply(I,
c),(n=C&&I[C])&&n.apply&&ib(I)&&(a.result=n.apply(I,c),!1===a.result&&a.preventDefault());if(a.type=Ca,!(k||a.isDefaultPrevented()||Y._default&&!1!==Y._default.apply(qa.pop(),c))&&ib(e)&&C&&e[Ca]&&!b.isWindow(e)){(n=e[C])&&(e[C]=null);b.event.triggered=Ca;try{e[Ca]()}catch(Va){}b.event.triggered=void 0;n&&(e[C]=n)}return a.result}},dispatch:function(a){a=b.event.fix(a);var c,e,k,n,C=db.call(arguments);var I=(b._data(this,'events')||{})[a.type]||[];var Y=b.event.special[a.type]||{};if(C[0]=a,a.delegateTarget=
this,!Y.preDispatch||!1!==Y.preDispatch.call(this,a)){var qa=b.event.handlers.call(this,a,I);for(I=0;(k=qa[I++])&&!a.isPropagationStopped();)for(a.currentTarget=k.elem,c=0;(n=k.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(n.namespace)||(a.handleObj=n,a.data=n.data,e=((b.event.special[n.origType]||{}).handle||n.handler).apply(k.elem,C),void 0!==e&&!1===(a.result=e)&&(a.preventDefault(),a.stopPropagation()));return Y.postDispatch&&Y.postDispatch.call(this,a),
a.result}},handlers:function(a,c){var e,k=[],n=c.delegateCount,C=a.target;if(n&&C.nodeType&&('click'!==a.type||isNaN(a.button)||1>a.button))for(;C!=this;C=C.parentNode||this)if(1===C.nodeType&&(!0!==C.disabled||'click'!==a.type)){var I=[];for(e=0;n>e;e++){var Y=c[e];var qa=Y.selector+' ';void 0===I[qa]&&(I[qa]=Y.needsContext?-1<b(qa,this).index(C):b.find(qa,this,null,[C]).length);I[qa]&&I.push(Y)}I.length&&k.push({elem:C,handlers:I})}return n<c.length&&k.push({elem:this,handlers:c.slice(n)}),k},fix:function(a){if(a[b.expando])return a;
var c=a.type;var e=a,k=this.fixHooks[c];k||(this.fixHooks[c]=k=hb.test(c)?this.mouseHooks:lb.test(c)?this.keyHooks:{});var n=k.props?this.props.concat(k.props):this.props;a=new b.Event(e);for(c=n.length;c--;){var C=n[c];a[C]=e[C]}return a.target||(a.target=e.srcElement||Ka),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,k.filter?k.filter(a,e):a},props:'altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(' '),
fixHooks:{},keyHooks:{props:['char','charCode','key','keyCode'],filter:function(a,c){return null==a.which&&(a.which=null!=c.charCode?c.charCode:c.keyCode),a}},mouseHooks:{props:'button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement'.split(' '),filter:function(a,c){var e,k,n,C=c.button,I=c.fromElement;return null==a.pageX&&null!=c.clientX&&(k=a.target.ownerDocument||Ka,n=k.documentElement,e=k.body,a.pageX=c.clientX+(n&&n.scrollLeft||e&&e.scrollLeft||0)-(n&&
n.clientLeft||e&&e.clientLeft||0),a.pageY=c.clientY+(n&&n.scrollTop||e&&e.scrollTop||0)-(n&&n.clientTop||e&&e.clientTop||0)),!a.relatedTarget&&I&&(a.relatedTarget=I===a.target?c.toElement:I),a.which||void 0===C||(a.which=1&C?1:2&C?3:4&C?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==y()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:'focusin'},blur:{trigger:function(){return this===y()&&this.blur?(this.blur(),!1):void 0},delegateType:'focusout'},click:{trigger:function(){return b.nodeName(this,
'input')&&'checkbox'===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return b.nodeName(a.target,'a')}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,c,e){a=b.extend(new b.Event,e,{type:a,isSimulated:!0});b.event.trigger(a,null,c);a.isDefaultPrevented()&&e.preventDefault()}};b.removeEvent=Ka.removeEventListener?function(a,c,e){a.removeEventListener&&a.removeEventListener(c,e)}:function(a,
c,e){c='on'+c;a.detachEvent&&('undefined'==typeof a[c]&&(a[c]=null),a.detachEvent(c,e))};b.Event=function(a,c){return this instanceof b.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?m:z):this.type=a,c&&b.extend(this,c),this.timeStamp=a&&a.timeStamp||b.now(),void(this[b.expando]=!0)):new b.Event(a,c)};b.Event.prototype={constructor:b.Event,isDefaultPrevented:z,isPropagationStopped:z,isImmediatePropagationStopped:z,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=m;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=m;a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=m;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};b.each({mouseenter:'mouseover',
mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},function(a,c){b.event.special[a]={delegateType:c,bindType:c,handle:function(e){var k,n=e.relatedTarget,C=e.handleObj;return n&&(n===this||b.contains(this,n))||(e.type=C.origType,k=C.handler.apply(this,arguments),e.type=c),k}}});h.submit||(b.event.special.submit={setup:function(){return b.nodeName(this,'form')?!1:void b.event.add(this,'click._submit keypress._submit',function(a){a=a.target;(a=b.nodeName(a,'input')||b.nodeName(a,
'button')?b.prop(a,'form'):void 0)&&!b._data(a,'submit')&&(b.event.add(a,'submit._submit',function(c){c._submitBubble=!0}),b._data(a,'submit',!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&b.event.simulate('submit',this.parentNode,a))},teardown:function(){return b.nodeName(this,'form')?!1:void b.event.remove(this,'._submit')}});h.change||(b.event.special.change={setup:function(){return wb.test(this.nodeName)?('checkbox'!==this.type&&'radio'!==
this.type||(b.event.add(this,'propertychange._change',function(a){'checked'===a.originalEvent.propertyName&&(this._justChanged=!0)}),b.event.add(this,'click._change',function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1);b.event.simulate('change',this,a)})),!1):void b.event.add(this,'beforeactivate._change',function(a){a=a.target;wb.test(a.nodeName)&&!b._data(a,'change')&&(b.event.add(a,'change._change',function(c){!this.parentNode||c.isSimulated||c.isTrigger||b.event.simulate('change',
this.parentNode,c)}),b._data(a,'change',!0))})},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||'radio'!==c.type&&'checkbox'!==c.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return b.event.remove(this,'._change'),!wb.test(this.nodeName)}});h.focusin||b.each({focus:'focusin',blur:'focusout'},function(a,c){var e=function(k){b.event.simulate(c,k.target,b.event.fix(k))};b.event.special[c]={setup:function(){var k=this.ownerDocument||this,n=b._data(k,
c);n||k.addEventListener(a,e,!0);b._data(k,c,(n||0)+1)},teardown:function(){var k=this.ownerDocument||this,n=b._data(k,c)-1;n?b._data(k,c,n):(k.removeEventListener(a,e,!0),b._removeData(k,c))}}});b.fn.extend({on:function(a,c,e,k){return G(this,a,c,e,k)},one:function(a,c,e,k){return G(this,a,c,e,k,1)},off:function(a,c,e){var k,n;if(a&&a.preventDefault&&a.handleObj)return k=a.handleObj,b(a.delegateTarget).off(k.namespace?k.origType+'.'+k.namespace:k.origType,k.selector,k.handler),this;if('object'==
typeof a){for(n in a)this.off(n,c,a[n]);return this}return!1!==c&&'function'!=typeof c||(e=c,c=void 0),!1===e&&(e=z),this.each(function(){b.event.remove(this,a,e,c)})},trigger:function(a,c){return this.each(function(){b.event.trigger(a,c,this)})},triggerHandler:function(a,c){var e=this[0];return e?b.event.trigger(a,c,e,!0):void 0}});var mb=/ jQuery\d+="(?:null|\d+)"/g,Kb=RegExp('<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video)[\\s/>]',
'i'),Eb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Gb=/<script|<style|<link/i,Ib=/checked\s*(?:[^=]|=\s*.checked.)/i,$b=/^true\/(.*)/,Xb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Dc=Aa(Ka).appendChild(Ka.createElement('div'));b.extend({htmlPrefilter:function(a){return a.replace(Eb,'<$1></$2>')},clone:function(a,c,e){var k,n,C,I=b.contains(a.ownerDocument,a);if(h.html5Clone||b.isXMLDoc(a)||!Kb.test('<'+a.nodeName+'>')?n=a.cloneNode(!0):(Dc.innerHTML=a.outerHTML,Dc.removeChild(n=
Dc.firstChild)),!(h.noCloneEvent&&h.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||b.isXMLDoc(a))){var Y=M(n);var qa=M(a);for(C=0;null!=(k=qa[C]);++C)if(Y[C]){var Ca=void 0,sa,Sa=k,Va=Y[C];if(1===Va.nodeType){if(sa=Va.nodeName.toLowerCase(),!h.noCloneEvent&&Va[b.expando]){k=b._data(Va);for(Ca in k.events)b.removeEvent(Va,Ca,k.handle);Va.removeAttribute(b.expando)}'script'===sa&&Va.text!==Sa.text?(v(Va).text=Sa.text,F(Va)):'object'===sa?(Va.parentNode&&(Va.outerHTML=Sa.outerHTML),h.html5Clone&&Sa.innerHTML&&
!b.trim(Va.innerHTML)&&(Va.innerHTML=Sa.innerHTML)):'input'===sa&&X.test(Sa.type)?(Va.defaultChecked=Va.checked=Sa.checked,Va.value!==Sa.value&&(Va.value=Sa.value)):'option'===sa?Va.defaultSelected=Va.selected=Sa.defaultSelected:'input'!==sa&&'textarea'!==sa||(Va.defaultValue=Sa.defaultValue)}}}if(c)if(e)for(qa=qa||M(a),Y=Y||M(n),C=0;null!=(k=qa[C]);C++)J(k,Y[C]);else J(a,n);return Y=M(n,'script'),0<Y.length&&O(Y,!I&&M(a,'script')),n},cleanData:function(a,c){for(var e,k,n,C,I=0,Y=b.expando,qa=b.cache,
Ca=h.attributes,sa=b.event.special;null!=(e=a[I]);I++)if((c||ib(e))&&(n=e[Y],C=n&&qa[n])){if(C.events)for(k in C.events)sa[k]?b.event.remove(e,k):b.removeEvent(e,k,C.handle);qa[n]&&(delete qa[n],Ca||'undefined'==typeof e.removeAttribute?e[Y]=void 0:e.removeAttribute(Y),xb.push(n))}}});b.fn.extend({domManip:T,detach:function(a){return ta(this,a,!0)},remove:function(a){return ta(this,a)},text:function(a){return ca(this,function(c){return void 0===c?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||
Ka).createTextNode(c))},null,a,arguments.length)},append:function(){return T(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||u(this,a).appendChild(a)})},prepend:function(){return T(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=u(this,a);c.insertBefore(a,c.firstChild)}})},before:function(){return T(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return T(this,arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,c=0;null!=(a=this[c]);c++){for(1===a.nodeType&&b.cleanData(M(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&b.nodeName(a,'select')&&(a.options.length=0)}return this},clone:function(a,c){return a=null==a?!1:a,c=null==c?a:c,this.map(function(){return b.clone(this,a,c)})},html:function(a){return ca(this,function(c){var e=this[0]||{},k=0,n=this.length;if(void 0===c)return 1===e.nodeType?
e.innerHTML.replace(mb,''):void 0;if(!('string'!=typeof c||Gb.test(c)||!h.htmlSerialize&&Kb.test(c)||!h.leadingWhitespace&&Ra.test(c)||Xa[(ja.exec(c)||['',''])[1].toLowerCase()])){c=b.htmlPrefilter(c);try{for(;n>k;k++)e=this[k]||{},1===e.nodeType&&(b.cleanData(M(e,!1)),e.innerHTML=c);e=0}catch(C){}}e&&this.empty().append(c)},null,a,arguments.length)},replaceWith:function(){var a=[];return T(this,arguments,function(c){var e=this.parentNode;0>b.inArray(this,a)&&(b.cleanData(M(this)),e&&e.replaceChild(c,
this))},a)}});b.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},function(a,c){b.fn[a]=function(e){for(var k=0,n=[],C=b(e),I=C.length-1;I>=k;k++)e=k===I?this:this.clone(!0),b(C[k])[c](e),Vb.apply(n,e.get());return this.pushStack(n)}});var gc,Nb={HTML:'block',BODY:'block'},Pc=/^margin/,nc=new RegExp('^('+qb+')(?!px)[a-z%]+$','i'),Lc=function(a,c,e,k){var n,C={};for(n in c)C[n]=a.style[n],a.style[n]=c[n];e=e.apply(a,k||[]);for(n in c)a.style[n]=
C[n];return e},Qc=Ka.documentElement;!function(){var a,c,e,k,n,C,I=Ka.createElement('div'),Y=Ka.createElement('div');if(Y.style){Y.style.cssText='float:left;opacity:.5';h.opacity='0.5'===Y.style.opacity;h.cssFloat=!!Y.style.cssFloat;Y.style.backgroundClip='content-box';Y.cloneNode(!0).style.backgroundClip='';h.clearCloneStyle='content-box'===Y.style.backgroundClip;I=Ka.createElement('div');I.style.cssText='border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute';
Y.innerHTML='';I.appendChild(Y);h.boxSizing=''===Y.style.boxSizing||''===Y.style.MozBoxSizing||''===Y.style.WebkitBoxSizing;b.extend(h,{reliableHiddenOffsets:function(){return null==a&&qa(),k},boxSizingReliable:function(){return null==a&&qa(),e},pixelMarginRight:function(){return null==a&&qa(),c},pixelPosition:function(){return null==a&&qa(),a},reliableMarginRight:function(){return null==a&&qa(),n},reliableMarginLeft:function(){return null==a&&qa(),C}});function qa(){var Ca,sa,Sa=Ka.documentElement;
Sa.appendChild(I);Y.style.cssText='-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%';a=e=C=!1;c=n=!0;B.getComputedStyle&&(sa=B.getComputedStyle(Y),a='1%'!==(sa||{}).top,C='2px'===(sa||{}).marginLeft,e='4px'===(sa||{width:'4px'}).width,Y.style.marginRight='50%',c='4px'===(sa||{marginRight:'4px'}).marginRight,Ca=Y.appendChild(Ka.createElement('div')),Ca.style.cssText=Y.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0',
Ca.style.marginRight=Ca.style.width='0',Y.style.width='1px',n=!parseFloat((B.getComputedStyle(Ca)||{}).marginRight),Y.removeChild(Ca));Y.style.display='none';(k=0===Y.getClientRects().length)&&(Y.style.display='',Y.innerHTML='<table><tr><td></td><td>t</td></tr></table>',Y.childNodes[0].style.borderCollapse='separate',Ca=Y.getElementsByTagName('td'),Ca[0].style.cssText='margin:0;border:0;padding:0;display:none',k=0===Ca[0].offsetHeight,k&&(Ca[0].style.display='',Ca[1].style.display='none',k=0===Ca[0].offsetHeight));
Sa.removeChild(I)}}}();var rc,sc,Rc=/^(top|right|bottom|left)$/;B.getComputedStyle?(rc=function(a){var c=a.ownerDocument.defaultView;return c&&c.opener||(c=B),c.getComputedStyle(a)},sc=function(a,c,e){var k,n,C,I,Y=a.style;return e=e||rc(a),I=e?e.getPropertyValue(c)||e[c]:void 0,''!==I&&void 0!==I||b.contains(a.ownerDocument,a)||(I=b.style(a,c)),e&&!h.pixelMarginRight()&&nc.test(I)&&Pc.test(c)&&(k=Y.width,n=Y.minWidth,C=Y.maxWidth,Y.minWidth=Y.maxWidth=Y.width=I,I=e.width,Y.width=k,Y.minWidth=n,Y.maxWidth=
C),void 0===I?I:I+''}):Qc.currentStyle&&(rc=function(a){return a.currentStyle},sc=function(a,c,e){var k,n,C,I,Y=a.style;return e=e||rc(a),I=e?e[c]:void 0,null==I&&Y&&Y[c]&&(I=Y[c]),nc.test(I)&&!Rc.test(c)&&(k=Y.left,n=a.runtimeStyle,C=n&&n.left,C&&(n.left=a.currentStyle.left),Y.left='fontSize'===c?'1em':I,I=Y.pixelLeft+'px',Y.left=k,C&&(n.left=C)),void 0===I?I:I+''||'auto'});var $c=/alpha\([^)]*\)/i,Id=/opacity\s*=\s*([^)]*)/i,Jd=/^(none|table(?!-c[ea]).+)/,vd=new RegExp('^('+qb+')(.*)$','i'),Kd=
{position:'absolute',visibility:'hidden',display:'block'},nd={letterSpacing:'0',fontWeight:'400'},jd=['Webkit','O','Moz','ms'],hd=Ka.createElement('div').style;b.extend({cssHooks:{opacity:{get:function(a,c){if(c)return a=sc(a,'opacity'),''===a?'1':a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{'float':h.cssFloat?'cssFloat':'styleFloat'},style:function(a,
c,e,k){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var n,C,I,Y=b.camelCase(c),qa=a.style;if(c=b.cssProps[Y]||(b.cssProps[Y]=ha(Y)||Y),I=b.cssHooks[c]||b.cssHooks[Y],void 0===e)return I&&'get'in I&&void 0!==(n=I.get(a,!1,k))?n:qa[c];if(C=typeof e,'string'===C&&(n=Mb.exec(e))&&n[1]&&(e=oa(a,c,n),C='number'),null!=e&&e===e&&('number'===C&&(e+=n&&n[3]||(b.cssNumber[Y]?'':'px')),h.clearCloneStyle||''!==e||0!==c.indexOf('background')||(qa[c]='inherit'),!(I&&'set'in I&&void 0===(e=I.set(a,e,k)))))try{qa[c]=
e}catch(Ca){}}},css:function(a,c,e,k){var n,C,I,Y=b.camelCase(c);return c=b.cssProps[Y]||(b.cssProps[Y]=ha(Y)||Y),I=b.cssHooks[c]||b.cssHooks[Y],I&&'get'in I&&(C=I.get(a,!0,e)),void 0===C&&(C=sc(a,c,k)),'normal'===C&&c in nd&&(C=nd[c]),''===e||e?(n=parseFloat(C),!0===e||isFinite(n)?n||0:C):C}});b.each(['height','width'],function(a,c){b.cssHooks[c]={get:function(e,k,n){return k?Jd.test(b.css(e,'display'))&&0===e.offsetWidth?Lc(e,Kd,function(){return Da(e,c,n)}):Da(e,c,n):void 0},set:function(e,k,n){var C=
n&&rc(e);return la(e,k,n?ua(e,c,n,h.boxSizing&&'border-box'===b.css(e,'boxSizing',!1,C),C):0)}}});h.opacity||(b.cssHooks.opacity={get:function(a,c){return Id.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||'')?.01*parseFloat(RegExp.$1)+'':c?'1':''},set:function(a,c){var e=a.style;a=a.currentStyle;var k=b.isNumeric(c)?'alpha(opacity='+100*c+')':'',n=a&&a.filter||e.filter||'';e.zoom=1;(1<=c||''===c)&&''===b.trim(n.replace($c,''))&&e.removeAttribute&&(e.removeAttribute('filter'),''===
c||a&&!a.filter)||(e.filter=$c.test(n)?n.replace($c,k):n+' '+k)}});b.cssHooks.marginRight=ka(h.reliableMarginRight,function(a,c){return c?Lc(a,{display:'inline-block'},sc,[a,'marginRight']):void 0});b.cssHooks.marginLeft=ka(h.reliableMarginLeft,function(a,c){return c?(parseFloat(sc(a,'marginLeft'))||(b.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Lc(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+'px':void 0});b.each({margin:'',padding:'',border:'Width'},function(a,
c){b.cssHooks[a+c]={expand:function(e){var k=0,n={};for(e='string'==typeof e?e.split(' '):[e];4>k;k++)n[a+Ya[k]+c]=e[k]||e[k-2]||e[0];return n}};Pc.test(a)||(b.cssHooks[a+c].set=la)});b.fn.extend({css:function(a,c){return ca(this,function(e,k,n){var C,I={},Y=0;if(b.isArray(k)){n=rc(e);for(C=k.length;C>Y;Y++)I[k[Y]]=b.css(e,k[Y],!1,n);return I}return void 0!==n?b.style(e,k,n):b.css(e,k)},a,c,1<arguments.length)},show:function(){return xa(this,!0)},hide:function(){return xa(this)},toggle:function(a){return'boolean'==
typeof a?a?this.show():this.hide():this.each(function(){cb(this)?b(this).show():b(this).hide()})}});b.Tween=Qa;Qa.prototype={constructor:Qa,init:function(a,c,e,k,n,C){this.elem=a;this.prop=e;this.easing=n||b.easing._default;this.options=c;this.start=this.now=this.cur();this.end=k;this.unit=C||(b.cssNumber[e]?'':'px')},cur:function(){var a=Qa.propHooks[this.prop];return a&&a.get?a.get(this):Qa.propHooks._default.get(this)},run:function(a){var c,e=Qa.propHooks[this.prop];return this.options.duration?
this.pos=c=b.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=c=a,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),e&&e.set?e.set(this):Qa.propHooks._default.set(this),this}};Qa.prototype.init.prototype=Qa.prototype;Qa.propHooks={_default:{get:function(a){var c;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(c=b.css(a.elem,a.prop,''),c&&'auto'!==c?c:0)},set:function(a){b.fx.step[a.prop]?
b.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[b.cssProps[a.prop]]&&!b.cssHooks[a.prop]?a.elem[a.prop]=a.now:b.style(a.elem,a.prop,a.now+a.unit)}}};Qa.propHooks.scrollTop=Qa.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};b.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:'swing'};b.fx=Qa.prototype.init;b.fx.step={};var Fc,ad,Ld=/^(?:toggle|show|hide)$/,Md=/queueHooks$/;b.Animation=b.extend(Ja,
{tweeners:{'*':[function(a,c){var e=this.createTween(a,c);return oa(e.elem,a,Mb.exec(c),e),e}]},tweener:function(a,c){b.isFunction(a)?(c=a,a=['*']):a=a.match(Ga);for(var e,k=0,n=a.length;n>k;k++)e=a[k],Ja.tweeners[e]=Ja.tweeners[e]||[],Ja.tweeners[e].unshift(c)},prefilters:[function(a,c,e){var k,n,C,I,Y,qa,Ca,sa=this,Sa={},Va=a.style,yb=a.nodeType&&cb(a),bb=b._data(a,'fxshow');e.queue||(I=b._queueHooks(a,'fx'),null==I.unqueued&&(I.unqueued=0,Y=I.empty.fire,I.empty.fire=function(){I.unqueued||Y()}),
I.unqueued++,sa.always(function(){sa.always(function(){I.unqueued--;b.queue(a,'fx').length||I.empty.fire()})}));1===a.nodeType&&('height'in c||'width'in c)&&(e.overflow=[Va.overflow,Va.overflowX,Va.overflowY],qa=b.css(a,'display'),Ca='none'===qa?b._data(a,'olddisplay')||W(a.nodeName):qa,'inline'===Ca&&'none'===b.css(a,'float')&&(h.inlineBlockNeedsLayout&&'inline'!==W(a.nodeName)?Va.zoom=1:Va.display='inline-block'));e.overflow&&(Va.overflow='hidden',h.shrinkWrapBlocks()||sa.always(function(){Va.overflow=
e.overflow[0];Va.overflowX=e.overflow[1];Va.overflowY=e.overflow[2]}));for(k in c)if(n=c[k],Ld.exec(n)){if(delete c[k],C=C||'toggle'===n,n===(yb?'hide':'show')){if('show'!==n||!bb||void 0===bb[k])continue;yb=!0}Sa[k]=bb&&bb[k]||b.style(a,k)}else qa=void 0;if(b.isEmptyObject(Sa))'inline'===('none'===qa?W(a.nodeName):qa)&&(Va.display=qa);else for(k in bb?'hidden'in bb&&(yb=bb.hidden):bb=b._data(a,'fxshow',{}),C&&(bb.hidden=!yb),yb?b(a).show():sa.done(function(){b(a).hide()}),sa.done(function(){var Hb;
b._removeData(a,'fxshow');for(Hb in Sa)b.style(a,Hb,Sa[Hb])}),Sa)c=Na(yb?bb[k]:0,k,sa),k in bb||(bb[k]=c.start,yb&&(c.end=c.start,c.start='width'===k||'height'===k?1:0))}],prefilter:function(a,c){c?Ja.prefilters.unshift(a):Ja.prefilters.push(a)}});b.speed=function(a,c,e){var k=a&&'object'==typeof a?b.extend({},a):{complete:e||!e&&c||b.isFunction(a)&&a,duration:a,easing:e&&c||c&&!b.isFunction(c)&&c};return k.duration=b.fx.off?0:'number'==typeof k.duration?k.duration:k.duration in b.fx.speeds?b.fx.speeds[k.duration]:
b.fx.speeds._default,null!=k.queue&&!0!==k.queue||(k.queue='fx'),k.old=k.complete,k.complete=function(){b.isFunction(k.old)&&k.old.call(this);k.queue&&b.dequeue(this,k.queue)},k};b.fn.extend({fadeTo:function(a,c,e,k){return this.filter(cb).css('opacity',0).show().end().animate({opacity:c},a,e,k)},animate:function(a,c,e,k){var n=b.isEmptyObject(a),C=b.speed(c,e,k);c=function(){var I=Ja(this,b.extend({},a),C);(n||b._data(this,'finish'))&&I.stop(!0)};return c.finish=c,n||!1===C.queue?this.each(c):this.queue(C.queue,
c)},stop:function(a,c,e){var k=function(n){var C=n.stop;delete n.stop;C(e)};return'string'!=typeof a&&(e=c,c=a,a=void 0),c&&!1!==a&&this.queue(a||'fx',[]),this.each(function(){var n=!0,C=null!=a&&a+'queueHooks',I=b.timers,Y=b._data(this);if(C)Y[C]&&Y[C].stop&&k(Y[C]);else for(C in Y)Y[C]&&Y[C].stop&&Md.test(C)&&k(Y[C]);for(C=I.length;C--;)I[C].elem!==this||null!=a&&I[C].queue!==a||(I[C].anim.stop(e),n=!1,I.splice(C,1));!n&&e||b.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||'fx'),this.each(function(){var c=
b._data(this),e=c[a+'queue'];var k=c[a+'queueHooks'];var n=b.timers,C=e?e.length:0;c.finish=!0;b.queue(this,a,[]);k&&k.stop&&k.stop.call(this,!0);for(k=n.length;k--;)n[k].elem===this&&n[k].queue===a&&(n[k].anim.stop(!0),n.splice(k,1));for(k=0;C>k;k++)e[k]&&e[k].finish&&e[k].finish.call(this);delete c.finish})}});b.each(['toggle','show','hide'],function(a,c){var e=b.fn[c];b.fn[c]=function(k,n,C){return null==k||'boolean'==typeof k?e.apply(this,arguments):this.animate(Ea(c,!0),k,n,C)}});b.each({slideDown:Ea('show'),
slideUp:Ea('hide'),slideToggle:Ea('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},function(a,c){b.fn[a]=function(e,k,n){return this.animate(c,e,k,n)}});b.timers=[];b.fx.tick=function(){var a=b.timers,c=0;for(Fc=b.now();c<a.length;c++){var e=a[c];e()||a[c]!==e||a.splice(c--,1)}a.length||b.fx.stop();Fc=void 0};b.fx.timer=function(a){b.timers.push(a);a()?b.fx.start():b.timers.pop()};b.fx.interval=13;b.fx.start=function(){ad||=B.setInterval(b.fx.tick,b.fx.interval)};
b.fx.stop=function(){B.clearInterval(ad);ad=null};b.fx.speeds={slow:600,fast:200,_default:400};b.fn.delay=function(a,c){return a=b.fx?b.fx.speeds[a]||a:a,c=c||'fx',this.queue(c,function(e,k){var n=B.setTimeout(e,a);k.stop=function(){B.clearTimeout(n)}})};(function(){var a=Ka.createElement('input');Ka.createElement('div');var c=Ka.createElement('select'),e=c.appendChild(Ka.createElement('option'));var k=Ka.createElement('div');k.setAttribute('className','t');k.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
k.getElementsByTagName('a');a.setAttribute('type','checkbox');k.appendChild(a);var n=k.getElementsByTagName('a')[0];n.style.cssText='top:1px';h.getSetAttribute='t'!==k.className;h.style=/top/.test(n.getAttribute('style'));h.hrefNormalized='/a'===n.getAttribute('href');h.checkOn=!!a.value;h.optSelected=e.selected;h.enctype=!!Ka.createElement('form').enctype;c.disabled=!0;h.optDisabled=!e.disabled;a=Ka.createElement('input');a.setAttribute('value','');h.input=''===a.getAttribute('value');a.value='t';
a.setAttribute('type','radio');h.radioValue='t'===a.value})();var Nd=/\r/g,Od=/[\x20\t\r\n\f]+/g;b.fn.extend({val:function(a){var c,e,k,n=this[0];if(arguments.length)return k=b.isFunction(a),this.each(function(C){var I;1===this.nodeType&&(I=k?a.call(this,C,b(this).val()):a,null==I?I='':'number'==typeof I?I+='':b.isArray(I)&&(I=b.map(I,function(Y){return null==Y?'':Y+''})),c=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],c&&'set'in c&&void 0!==c.set(this,I,'value')||(this.value=I))});
if(n)return c=b.valHooks[n.type]||b.valHooks[n.nodeName.toLowerCase()],c&&'get'in c&&void 0!==(e=c.get(n,'value'))?e:(e=n.value,'string'==typeof e?e.replace(Nd,''):null==e?'':e)}});b.extend({valHooks:{option:{get:function(a){var c=b.find.attr(a,'value');return null!=c?c:b.trim(b.text(a)).replace(Od,' ')}},select:{get:function(a){for(var c,e=a.options,k=a.selectedIndex,n='select-one'===a.type||0>k,C=n?null:[],I=n?k+1:e.length,Y=0>k?I:n?k:0;I>Y;Y++)if(c=e[Y],!(!c.selected&&Y!==k||(h.optDisabled?c.disabled:
null!==c.getAttribute('disabled'))||c.parentNode.disabled&&b.nodeName(c.parentNode,'optgroup'))){if(a=b(c).val(),n)return a;C.push(a)}return C},set:function(a,c){var e,k,n=a.options;c=b.makeArray(c);for(var C=n.length;C--;)if(k=n[C],-1<b.inArray(b.valHooks.option.get(k),c))try{k.selected=e=!0}catch(I){k.scrollHeight}else k.selected=!1;return e||(a.selectedIndex=-1),n}}}});b.each(['radio','checkbox'],function(){b.valHooks[this]={set:function(a,c){return b.isArray(c)?a.checked=-1<b.inArray(b(a).val(),
c):void 0}};h.checkOn||(b.valHooks[this].get=function(a){return null===a.getAttribute('value')?'on':a.value})});var Ic,zc=b.expr.attrHandle,bd=/^(?:checked|selected)$/i,Ec=h.getSetAttribute,Sc=h.input;b.fn.extend({attr:function(a,c){return ca(this,b.attr,a,c,1<arguments.length)},removeAttr:function(a){return this.each(function(){b.removeAttr(this,a)})}});b.extend({attr:function(a,c,e){var k,n,C=a.nodeType;if(3!==C&&8!==C&&2!==C)return'undefined'==typeof a.getAttribute?b.prop(a,c,e):(1===C&&b.isXMLDoc(a)||
(c=c.toLowerCase(),n=b.attrHooks[c]||(b.expr.match.bool.test(c)?Pd:Ic)),void 0!==e?null===e?void b.removeAttr(a,c):n&&'set'in n&&void 0!==(k=n.set(a,e,c))?k:(a.setAttribute(c,e+''),e):n&&'get'in n&&null!==(k=n.get(a,c))?k:(k=b.find.attr(a,c),null==k?void 0:k))},attrHooks:{type:{set:function(a,c){if(!h.radioValue&&'radio'===c&&b.nodeName(a,'input')){var e=a.value;return a.setAttribute('type',c),e&&(a.value=e),c}}}},removeAttr:function(a,c){var e=0,k=c&&c.match(Ga);if(k&&1===a.nodeType)for(;c=k[e++];){var n=
b.propFix[c]||c;b.expr.match.bool.test(c)?Sc&&Ec||!bd.test(c)?a[n]=!1:a[b.camelCase('default-'+c)]=a[n]=!1:b.attr(a,c,'');a.removeAttribute(Ec?c:n)}}});var Pd={set:function(a,c,e){return!1===c?b.removeAttr(a,e):Sc&&Ec||!bd.test(e)?a.setAttribute(!Ec&&b.propFix[e]||e,e):a[b.camelCase('default-'+e)]=a[e]=!0,e}};b.each(b.expr.match.bool.source.match(/\w+/g),function(a,c){var e=zc[c]||b.find.attr;Sc&&Ec||!bd.test(c)?zc[c]=function(k,n,C){var I,Y;return C||(Y=zc[n],zc[n]=I,I=null!=e(k,n,C)?n.toLowerCase():
null,zc[n]=Y),I}:zc[c]=function(k,n,C){return C?void 0:k[b.camelCase('default-'+n)]?n.toLowerCase():null}});Sc&&Ec||(b.attrHooks.value={set:function(a,c,e){return b.nodeName(a,'input')?void(a.defaultValue=c):Ic&&Ic.set(a,c,e)}});Ec||(Ic={set:function(a,c,e){var k=a.getAttributeNode(e);return k||a.setAttributeNode(k=a.ownerDocument.createAttribute(e)),k.value=c+='','value'===e||c===a.getAttribute(e)?c:void 0}},zc.id=zc.name=zc.coords=function(a,c,e){var k;return e?void 0:(k=a.getAttributeNode(c))&&
''!==k.value?k.value:null},b.valHooks.button={get:function(a,c){return(a=a.getAttributeNode(c))&&a.specified?a.value:void 0},set:Ic.set},b.attrHooks.contenteditable={set:function(a,c,e){Ic.set(a,''===c?!1:c,e)}},b.each(['width','height'],function(a,c){b.attrHooks[c]={set:function(e,k){return''===k?(e.setAttribute(c,'auto'),k):void 0}}}));h.style||(b.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,c){return a.style.cssText=c+''}});var Qd=/^(?:input|select|textarea|button|object)$/i,
Rd=/^(?:a|area)$/i;b.fn.extend({prop:function(a,c){return ca(this,b.prop,a,c,1<arguments.length)},removeProp:function(a){return a=b.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(c){}})}});b.extend({prop:function(a,c,e){var k,n,C=a.nodeType;if(3!==C&&8!==C&&2!==C)return 1===C&&b.isXMLDoc(a)||(c=b.propFix[c]||c,n=b.propHooks[c]),void 0!==e?n&&'set'in n&&void 0!==(k=n.set(a,e,c))?k:a[c]=e:n&&'get'in n&&null!==(k=n.get(a,c))?k:a[c]},propHooks:{tabIndex:{get:function(a){var c=
b.find.attr(a,'tabindex');return c?parseInt(c,10):Qd.test(a.nodeName)||Rd.test(a.nodeName)&&a.href?0:-1}}},propFix:{'for':'htmlFor','class':'className'}});h.hrefNormalized||b.each(['href','src'],function(a,c){b.propHooks[c]={get:function(e){return e.getAttribute(c,4)}}});h.optSelected||(b.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});
b.each('tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable'.split(' '),function(){b.propFix[this.toLowerCase()]=this});h.enctype||(b.propFix.enctype='encoding');var cd=/[\t\r\n\f]/g;b.fn.extend({addClass:function(a){var c,e,k,n,C,I,Y=0;if(b.isFunction(a))return this.each(function(qa){b(this).addClass(a.call(this,qa,Ua(this)))});if('string'==typeof a&&a)for(c=a.match(Ga)||[];e=this[Y++];)if(n=Ua(e),k=1===e.nodeType&&(' '+n+' ').replace(cd,' ')){for(I=
0;C=c[I++];)0>k.indexOf(' '+C+' ')&&(k+=C+' ');k=b.trim(k);n!==k&&b.attr(e,'class',k)}return this},removeClass:function(a){var c,e,k,n,C,I,Y=0;if(b.isFunction(a))return this.each(function(qa){b(this).removeClass(a.call(this,qa,Ua(this)))});if(!arguments.length)return this.attr('class','');if('string'==typeof a&&a)for(c=a.match(Ga)||[];e=this[Y++];)if(n=Ua(e),k=1===e.nodeType&&(' '+n+' ').replace(cd,' ')){for(I=0;C=c[I++];)for(;-1<k.indexOf(' '+C+' ');)k=k.replace(' '+C+' ',' ');k=b.trim(k);n!==k&&
b.attr(e,'class',k)}return this},toggleClass:function(a,c){var e=typeof a;return'boolean'==typeof c&&'string'===e?c?this.addClass(a):this.removeClass(a):b.isFunction(a)?this.each(function(k){b(this).toggleClass(a.call(this,k,Ua(this),c),c)}):this.each(function(){var k,n;if('string'===e){var C=0;var I=b(this);for(n=a.match(Ga)||[];k=n[C++];)I.hasClass(k)?I.removeClass(k):I.addClass(k)}else void 0!==a&&'boolean'!==e||(k=Ua(this),k&&b._data(this,'__className__',k),b.attr(this,'class',k||!1===a?'':b._data(this,
'__className__')||''))})},hasClass:function(a){var c,e=0;for(a=' '+a+' ';c=this[e++];)if(1===c.nodeType&&-1<(' '+Ua(c)+' ').replace(cd,' ').indexOf(a))return!0;return!1}});b.each('blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(' '),function(a,c){b.fn[c]=function(e,k){return 0<arguments.length?this.on(c,null,e,k):this.trigger(c)}});b.fn.extend({hover:function(a,
c){return this.mouseenter(a).mouseleave(c||a)}});var Sd=B.location,dd=b.now(),ed=/\?/,Td=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;b.parseJSON=function(a){if(B.JSON&&B.JSON.parse)return B.JSON.parse(a+'');var c,e=null,k=b.trim(a+'');return k&&!b.trim(k.replace(Td,function(n,C,I,Y){return c&&C&&(e=0),0===e?n:(c=I||C,e+=!Y-!I,'')}))?Function('return '+k)():b.error('Invalid JSON: '+a)};b.parseXML=function(a){var c,
e;if(!a||'string'!=typeof a)return null;try{B.DOMParser?(e=new B.DOMParser,c=e.parseFromString(a,'text/xml')):(c=new B.ActiveXObject('Microsoft.XMLDOM'),c.async='false',c.loadXML(a))}catch(k){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName('parsererror').length||b.error('Invalid XML: '+a),c};var Ud=/#.*$/,od=/([?&])_=[^&]*/,Vd=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Wd=/^(?:GET|HEAD)$/,Xd=/^\/\//,pd=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,qd={},Vc={},rd='*/'.concat('*'),
fd=Sd.href,Jc=pd.exec(fd.toLowerCase())||[];b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fd,type:'GET',isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Jc[1]),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{'*':rd,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',json:'application/json, text/javascript'},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:'responseXML',
text:'responseText',json:'responseJSON'},converters:{'* text':String,'text html':!0,'text json':b.parseJSON,'text xml':b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,c){return c?gb(gb(a,b.ajaxSettings),c):gb(b.ajaxSettings,a)},ajaxPrefilter:pb(qd),ajaxTransport:pb(Vc),ajax:function(a,c){function e(Bb,Ob,Rb,tb){var jc,fc,Tb,ec=Ob;if(2!==lc){lc=2;I&&B.clearTimeout(I);qa=void 0;C=tb||'';vb.readyState=0<Bb?4:0;tb=200<=Bb&&300>Bb||304===Bb;if(Rb){var Sb=sa;for(var oc=vb,Ab,ac,Wb,Qb,
Hc=Sb.contents,pc=Sb.dataTypes;'*'===pc[0];)pc.shift(),void 0===ac&&(ac=Sb.mimeType||oc.getResponseHeader('Content-Type'));if(ac)for(Qb in Hc)if(Hc[Qb]&&Hc[Qb].test(ac)){pc.unshift(Qb);break}if(pc[0]in Rb)Wb=pc[0];else{for(Qb in Rb){if(!pc[0]||Sb.converters[Qb+' '+pc[0]]){Wb=Qb;break}Ab||=Qb}Wb=Wb||Ab}Sb=Wb?(Wb!==pc[0]&&pc.unshift(Wb),Rb[Wb]):void 0}a:{Rb=sa;Ab=Sb;ac=vb;Wb=tb;var bc,uc,vc;Sb={};oc=Rb.dataTypes.slice();if(oc[1])for(bc in Rb.converters)Sb[bc.toLowerCase()]=Rb.converters[bc];for(Qb=
oc.shift();Qb;)if(Rb.responseFields[Qb]&&(ac[Rb.responseFields[Qb]]=Ab),!vc&&Wb&&Rb.dataFilter&&(Ab=Rb.dataFilter(Ab,Rb.dataType)),vc=Qb,Qb=oc.shift())if('*'===Qb)Qb=vc;else if('*'!==vc&&vc!==Qb){if(bc=Sb[vc+' '+Qb]||Sb['* '+Qb],!bc)for(mc in Sb)if(uc=mc.split(' '),uc[1]===Qb&&(bc=Sb[vc+' '+uc[0]]||Sb['* '+uc[0]])){!0===bc?bc=Sb[mc]:!0!==Sb[mc]&&(Qb=uc[0],oc.unshift(uc[1]));break}if(!0!==bc)if(bc&&Rb['throws'])Ab=bc(Ab);else try{Ab=bc(Ab)}catch(Yc){var mc={state:'parsererror',error:bc?Yc:'No conversion from '+
vc+' to '+Qb};break a}}mc={state:'success',data:Ab}}Sb=mc;tb?(sa.ifModified&&(Tb=vb.getResponseHeader('Last-Modified'),Tb&&(b.lastModified[hc]=Tb),Tb=vb.getResponseHeader('etag'),Tb&&(b.etag[hc]=Tb)),204===Bb||'HEAD'===sa.type?ec='nocontent':304===Bb?ec='notmodified':(ec=Sb.state,jc=Sb.data,fc=Sb.error,tb=!fc)):(fc=ec,!Bb&&ec||(ec='error',0>Bb&&(Bb=0)));vb.status=Bb;vb.statusText=(Ob||ec)+'';tb?yb.resolveWith(Sa,[jc,ec,vb]):yb.rejectWith(Sa,[vb,ec,fc]);vb.statusCode(Hb);Hb=void 0;Y&&Va.trigger(tb?
'ajaxSuccess':'ajaxError',[vb,sa,tb?jc:fc]);bb.fireWith(Sa,[vb,ec]);Y&&(Va.trigger('ajaxComplete',[vb,sa]),--b.active||b.event.trigger('ajaxStop'))}}'object'==typeof a&&(c=a,a=void 0);c=c||{};var k,n,C,I,Y,qa,Ca,sa=b.ajaxSetup({},c),Sa=sa.context||sa,Va=sa.context&&(Sa.nodeType||Sa.jquery)?b(Sa):b.event,yb=b.Deferred(),bb=b.Callbacks('once memory'),Hb=sa.statusCode||{},kc={},Gc={},lc=0,wc='canceled',vb={readyState:0,getResponseHeader:function(Bb){var Ob;if(2===lc){if(!Ca)for(Ca={};Ob=Vd.exec(C);)Ca[Ob[1].toLowerCase()]=
Ob[2];Ob=Ca[Bb.toLowerCase()]}return null==Ob?null:Ob},getAllResponseHeaders:function(){return 2===lc?C:null},setRequestHeader:function(Bb,Ob){var Rb=Bb.toLowerCase();return lc||(Bb=Gc[Rb]=Gc[Rb]||Bb,kc[Bb]=Ob),this},overrideMimeType:function(Bb){return lc||(sa.mimeType=Bb),this},statusCode:function(Bb){var Ob;if(Bb)if(2>lc)for(Ob in Bb)Hb[Ob]=[Hb[Ob],Bb[Ob]];else vb.always(Bb[vb.status]);return this},abort:function(Bb){Bb=Bb||wc;return qa&&qa.abort(Bb),e(0,Bb),this}};if(yb.promise(vb).complete=bb.add,
vb.success=vb.done,vb.error=vb.fail,sa.url=((a||sa.url||fd)+'').replace(Ud,'').replace(Xd,Jc[1]+'//'),sa.type=c.method||c.type||sa.method||sa.type,sa.dataTypes=b.trim(sa.dataType||'*').toLowerCase().match(Ga)||[''],null==sa.crossDomain&&(k=pd.exec(sa.url.toLowerCase()),sa.crossDomain=!(!k||k[1]===Jc[1]&&k[2]===Jc[2]&&(k[3]||('http:'===k[1]?'80':'443'))===(Jc[3]||('http:'===Jc[1]?'80':'443')))),sa.data&&sa.processData&&'string'!=typeof sa.data&&(sa.data=b.param(sa.data,sa.traditional)),ab(qd,sa,c,
vb),2===lc)return vb;(Y=b.event&&sa.global)&&0===b.active++&&b.event.trigger('ajaxStart');sa.type=sa.type.toUpperCase();sa.hasContent=!Wd.test(sa.type);var hc=sa.url;sa.hasContent||(sa.data&&(hc=sa.url+=(ed.test(hc)?'&':'?')+sa.data,delete sa.data),!1===sa.cache&&(sa.url=od.test(hc)?hc.replace(od,'$1_='+dd++):hc+(ed.test(hc)?'&':'?')+'_='+dd++));sa.ifModified&&(b.lastModified[hc]&&vb.setRequestHeader('If-Modified-Since',b.lastModified[hc]),b.etag[hc]&&vb.setRequestHeader('If-None-Match',b.etag[hc]));
(sa.data&&sa.hasContent&&!1!==sa.contentType||c.contentType)&&vb.setRequestHeader('Content-Type',sa.contentType);vb.setRequestHeader('Accept',sa.dataTypes[0]&&sa.accepts[sa.dataTypes[0]]?sa.accepts[sa.dataTypes[0]]+('*'!==sa.dataTypes[0]?', '+rd+'; q=0.01':''):sa.accepts['*']);for(n in sa.headers)vb.setRequestHeader(n,sa.headers[n]);if(sa.beforeSend&&(!1===sa.beforeSend.call(Sa,vb,sa)||2===lc))return vb.abort();wc='abort';for(n in{success:1,error:1,complete:1})vb[n](sa[n]);if(qa=ab(Vc,sa,c,vb)){if(vb.readyState=
1,Y&&Va.trigger('ajaxSend',[vb,sa]),2===lc)return vb;sa.async&&0<sa.timeout&&(I=B.setTimeout(function(){vb.abort('timeout')},sa.timeout));try{lc=1,qa.send(kc,e)}catch(Bb){if(!(2>lc))throw Bb;e(-1,Bb)}}else e(-1,'No Transport');return vb},getJSON:function(a,c,e){return b.get(a,c,e,'json')},getScript:function(a,c){return b.get(a,void 0,c,'script')}});b.each(['get','post'],function(a,c){b[c]=function(e,k,n,C){return b.isFunction(k)&&(C=C||n,n=k,k=void 0),b.ajax(b.extend({url:e,type:c,dataType:C,data:k,
success:n},b.isPlainObject(e)&&e))}});b._evalUrl=function(a){return b.ajax({url:a,type:'GET',dataType:'script',cache:!0,async:!1,global:!1,'throws':!0})};b.fn.extend({wrapAll:function(a){if(b.isFunction(a))return this.each(function(e){b(this).wrapAll(a.call(this,e))});if(this[0]){var c=b(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(a){return b.isFunction(a)?
this.each(function(c){b(this).wrapInner(a.call(this,c))}):this.each(function(){var c=b(this),e=c.contents();e.length?e.wrapAll(a):c.append(a)})},wrap:function(a){var c=b.isFunction(a);return this.each(function(e){b(this).wrapAll(c?a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,'body')||b(this).replaceWith(this.childNodes)}).end()}});b.expr.filters.hidden=function(a){return h.reliableHiddenOffsets()?0>=a.offsetWidth&&0>=a.offsetHeight&&!a.getClientRects().length:
Ub(a)};b.expr.filters.visible=function(a){return!b.expr.filters.hidden(a)};var Yd=/%20/g,wd=/\[\]$/,sd=/\r?\n/g,Zd=/^(?:submit|button|image|reset|file)$/i,$d=/^(?:input|select|textarea|keygen)/i;b.param=function(a,c){var e,k=[],n=function(C,I){I=b.isFunction(I)?I():null==I?'':I;k[k.length]=encodeURIComponent(C)+'='+encodeURIComponent(I)};if(void 0===c&&(c=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(a)||a.jquery&&!b.isPlainObject(a))b.each(a,function(){n(this.name,this.value)});else for(e in a)Zb(e,
a[e],c,n);return k.join('&').replace(Yd,'+')};b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=b.prop(this,'elements');return a?b.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!b(this).is(':disabled')&&$d.test(this.nodeName)&&!Zd.test(a)&&(this.checked||!X.test(a))}).map(function(a,c){a=b(this).val();return null==a?null:b.isArray(a)?b.map(a,function(e){return{name:c.name,value:e.replace(sd,
'\r\n')}}):{name:c.name,value:a.replace(sd,'\r\n')}}).get()}});b.ajaxSettings.xhr=void 0!==B.ActiveXObject?function(){return this.isLocal?Db():8<Ka.documentMode?jb():/^(get|post|head|put|delete|options)$/i.test(this.type)&&jb()||Db()}:jb;var ae=0,Tc={},Uc=b.ajaxSettings.xhr();B.attachEvent&&B.attachEvent('onunload',function(){for(var a in Tc)Tc[a](void 0,!0)});h.cors=!!Uc&&'withCredentials'in Uc;(Uc=h.ajax=!!Uc)&&b.ajaxTransport(function(a){if(!a.crossDomain||h.cors){var c;return{send:function(e,
k){var n,C=a.xhr(),I=++ae;if(C.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(n in a.xhrFields)C[n]=a.xhrFields[n];a.mimeType&&C.overrideMimeType&&C.overrideMimeType(a.mimeType);a.crossDomain||e['X-Requested-With']||(e['X-Requested-With']='XMLHttpRequest');for(n in e)void 0!==e[n]&&C.setRequestHeader(n,e[n]+'');C.send(a.hasContent&&a.data||null);c=function(Y,qa){if(c&&(qa||4===C.readyState))if(delete Tc[I],c=void 0,C.onreadystatechange=b.noop,qa)4!==C.readyState&&C.abort();else{var Ca=
{};var sa=C.status;'string'==typeof C.responseText&&(Ca.text=C.responseText);try{var Sa=C.statusText}catch(Va){Sa=''}sa||!a.isLocal||a.crossDomain?1223===sa&&(sa=204):sa=Ca.text?200:404}Ca&&k(sa,Sa,Ca,C.getAllResponseHeaders())};a.async?4===C.readyState?B.setTimeout(c):C.onreadystatechange=Tc[I]=c:c()},abort:function(){c&&c(void 0,!0)}}}});b.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/\b(?:java|ecma)script\b/},
converters:{'text script':function(a){return b.globalEval(a),a}}});b.ajaxPrefilter('script',function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type='GET',a.global=!1)});b.ajaxTransport('script',function(a){if(a.crossDomain){var c,e=Ka.head||b('head')[0]||Ka.documentElement;return{send:function(k,n){c=Ka.createElement('script');c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(C,I){(I||!c.readyState||/loaded|complete/.test(c.readyState))&&
(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,I||n(200,'success'))};e.insertBefore(c,e.firstChild)},abort:function(){c&&c.onload(void 0,!0)}}}});var td=[],gd=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:'callback',jsonpCallback:function(){var a=td.pop()||b.expando+'_'+dd++;return this[a]=!0,a}});b.ajaxPrefilter('json jsonp',function(a,c,e){var k,n,C,I=!1!==a.jsonp&&(gd.test(a.url)?'url':'string'==typeof a.data&&0===(a.contentType||'').indexOf('application/x-www-form-urlencoded')&&
gd.test(a.data)&&'data');return I||'jsonp'===a.dataTypes[0]?(k=a.jsonpCallback=b.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,I?a[I]=a[I].replace(gd,'$1'+k):!1!==a.jsonp&&(a.url+=(ed.test(a.url)?'&':'?')+a.jsonp+'='+k),a.converters['script json']=function(){return C||b.error(k+' was not called'),C[0]},a.dataTypes[0]='json',n=B[k],B[k]=function(){C=arguments},e.always(function(){void 0===n?b(B).removeProp(k):B[k]=n;a[k]&&(a.jsonpCallback=c.jsonpCallback,td.push(k));C&&b.isFunction(n)&&
n(C[0]);C=n=void 0}),'script'):void 0});b.parseHTML=function(a,c,e){if(!a||'string'!=typeof a)return null;'boolean'==typeof c&&(e=c,c=!1);c=c||Ka;var k=da.exec(a);e=!e&&[];return k?[c.createElement(k[1])]:(k=A([a],c,e),e&&e.length&&b(e).remove(),b.merge([],k.childNodes))};var ud=b.fn.load;b.fn.load=function(a,c,e){if('string'!=typeof a&&ud)return ud.apply(this,arguments);var k,n,C,I=this,Y=a.indexOf(' ');return-1<Y&&(k=b.trim(a.slice(Y,a.length)),a=a.slice(0,Y)),b.isFunction(c)?(e=c,c=void 0):c&&
'object'==typeof c&&(n='POST'),0<I.length&&b.ajax({url:a,type:n||'GET',dataType:'html',data:c}).done(function(qa){C=arguments;I.html(k?b('<div>').append(b.parseHTML(qa)).find(k):qa)}).always(e&&function(qa,Ca){I.each(function(){e.apply(this,C||[qa.responseText,Ca,qa])})}),this};b.each('ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend'.split(' '),function(a,c){b.fn[c]=function(e){return this.on(c,e)}});b.expr.filters.animated=function(a){return b.grep(b.timers,function(c){return a===
c.elem}).length};b.offset={setOffset:function(a,c,e){var k,n,C,I=b.css(a,'position'),Y=b(a),qa={};'static'===I&&(a.style.position='relative');var Ca=Y.offset();var sa=b.css(a,'top');var Sa=b.css(a,'left');('absolute'===I||'fixed'===I)&&-1<b.inArray('auto',[sa,Sa])?(k=Y.position(),C=k.top,n=k.left):(C=parseFloat(sa)||0,n=parseFloat(Sa)||0);b.isFunction(c)&&(c=c.call(a,e,b.extend({},Ca)));null!=c.top&&(qa.top=c.top-Ca.top+C);null!=c.left&&(qa.left=c.left-Ca.left+n);'using'in c?c.using.call(a,qa):Y.css(qa)}};
b.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(I){b.offset.setOffset(this,a,I)});var c,e,k={top:0,left:0},n=this[0],C=n&&n.ownerDocument;if(C)return c=C.documentElement,b.contains(c,n)?('undefined'!=typeof n.getBoundingClientRect&&(k=n.getBoundingClientRect()),e=rb(C),{top:k.top+(e.pageYOffset||c.scrollTop)-(c.clientTop||0),left:k.left+(e.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):k},position:function(){if(this[0]){var a,c,e={top:0,left:0},k=this[0];
return'fixed'===b.css(k,'position')?c=k.getBoundingClientRect():(a=this.offsetParent(),c=this.offset(),b.nodeName(a[0],'html')||(e=a.offset()),e.top+=b.css(a[0],'borderTopWidth',!0),e.left+=b.css(a[0],'borderLeftWidth',!0)),{top:c.top-e.top-b.css(k,'marginTop',!0),left:c.left-e.left-b.css(k,'marginLeft',!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&!b.nodeName(a,'html')&&'static'===b.css(a,'position');)a=a.offsetParent;return a||Qc})}});b.each({scrollLeft:'pageXOffset',
scrollTop:'pageYOffset'},function(a,c){var e=/Y/.test(c);b.fn[a]=function(k){return ca(this,function(n,C,I){var Y=rb(n);return void 0===I?Y?c in Y?Y[c]:Y.document.documentElement[C]:n[C]:void(Y?Y.scrollTo(e?b(Y).scrollLeft():I,e?I:b(Y).scrollTop()):n[C]=I)},a,k,arguments.length,null)}});b.each(['top','left'],function(a,c){b.cssHooks[c]=ka(h.pixelPosition,function(e,k){return k?(k=sc(e,c),nc.test(k)?b(e).position()[c]+'px':k):void 0})});b.each({Height:'height',Width:'width'},function(a,c){b.each({padding:'inner'+
a,content:c,'':'outer'+a},function(e,k){b.fn[k]=function(n,C){var I=arguments.length&&(e||'boolean'!=typeof n),Y=e||(!0===n||!0===C?'margin':'border');return ca(this,function(qa,Ca,sa){var Sa;return b.isWindow(qa)?qa.document.documentElement['client'+a]:9===qa.nodeType?(Sa=qa.documentElement,Math.max(qa.body['scroll'+a],Sa['scroll'+a],qa.body['offset'+a],Sa['offset'+a],Sa['client'+a])):void 0===sa?b.css(qa,Ca,Y):b.style(qa,Ca,sa,Y)},c,I?n:void 0,I,null)}})});b.fn.extend({bind:function(a,c,e){return this.on(a,
null,c,e)},unbind:function(a,c){return this.off(a,null,c)},delegate:function(a,c,e,k){return this.on(c,a,e,k)},undelegate:function(a,c,e){return 1===arguments.length?this.off(a,'**'):this.off(c,a||'**',e)}});b.fn.size=function(){return this.length};b.fn.andSelf=b.fn.addBack;'function'==typeof define&&define.amd&&define('jquery',[],function(){return b});var be=B.jQuery,ce=B.$;return b.noConflict=function(a){return B.$===b&&(B.$=ce),a&&B.jQuery===b&&(B.jQuery=be),b},P||(B.jQuery=B.$=b),b});
if('undefined'!==typeof module&&module.exports)var lib=require('../../index');
function Collection(B,P){var V='undefined'!==typeof module&&module.exports?!1:!0,ma=V?require('vendor/uuid'):require('uuid'),U=V?require('lib/merge'):require('../../../lib/merge'),N={isCaseSensitive:{false:{re:'^%s$',modifiers:'i'},true:{re:'^%s$'}}},ba=!1,Q=!1,S=null;V={useLocalStorage:!1,locale:'en',searchOptionRules:N};P='object'==typeof P?U(P,V):V;var r=['not null'],H=function(D){try{return eval(D)}catch(A){throw Error('Could not evaluate condition `'+D+'`.\n'+A.stack);}};if('undefined'==typeof B||
''==B||null==B)B=[];if(!Array.isArray(B))throw Error('`new Collection([content] [, options] )`: `content` argument must be an Array !');B=B?JSON.clone(B):[];for(var w=[],oa=V=0,Aa=B.length;oa<Aa;++oa)B[oa]||(B[oa]={}),B[oa]._uuid=ma.v4(),w[V]=B[oa]._uuid,++V;var M=B;M.setSearchOption=function(){if(!arguments.length)throw Error('searchOption cannot be left blank');if(3<arguments.length||3>arguments.length&&1<arguments.length)throw Error('argument length mismatch');var D=0,A=arguments.length;if(1==
arguments.length){if('object'!=typeof arguments[0])throw Error('searchOption must be an object');for(var m in arguments[0])if('undefined'==typeof N[m])throw Error(arguments[1]+' is not an allowed searchOption !');S=arguments[0]}else for(S||={};D<A;++D){if('undefined'==typeof N[arguments[1]])throw Error(arguments[1]+' is not an allowed searchOption !');'undefined'==typeof S[arguments[0]]&&(S[arguments[0]]={});/true|false/i.test(arguments[2])?S[arguments[0]][arguments[1]]=/true/i.test(arguments[2])?
!0:!1:S[arguments[0]][arguments[1]]=arguments[2]}return M};M.find=function(){ba=!1;'boolean'==typeof arguments[arguments.length-1]&&(ba=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);var D=null,A=null,m=null;try{D=JSON.stringify(arguments),A=JSON.parse(D),m=A.count()}catch(la){throw Error('filter must be an object\n'+la.stack);}if('undefined'!=typeof A&&0<m){1<m&&(ba=!0);m=D=null;var z=0,y=Array.isArray(this)?this:JSON.clone(B),G=[],u='',v=null,F=S,J=P.searchOptionRules,
T=null,ta=[],Fa=function(la,ua,Da,Qa,La){if(null===la&&null===Da)++Qa;else if(la&&-1<r.indexOf(u)&&'not null'==u&&'undefined'!=typeof Da&&'object'!==typeof Da&&'null'!=Da&&'undefined'!=Da)0>G.indexOf(Da)&&++Qa;else if('undefined'!=typeof Da&&'object'!==typeof Da&&/(<|>|=)/.test(la)&&!/undefined|function/.test(typeof Da))ua=la,La=Da+la,'string'==typeof la&&'string'==typeof Da&&(La=la.replace(/^(<=|>=|!==|!=|===|!==)/g,''),'string'!=typeof Da||/^"(.*)"$/.test(La)||(la=la.replace(La,'"'+La+'"')),La=
'"'+Da+'"'+la,la=ua),/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Da)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(la)?H(Da.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+la.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Qa:H(La)&&++Qa;else if('undefined'!=typeof Da&&'object'!==typeof Da&&Da===la&&!F||'undefined'!=typeof Da&&'object'!==typeof Da&&Da===la&&'undefined'==typeof F[ua])++Qa;
else if('undefined'!=typeof Da&&'object'!==typeof Da&&F&&'undefined'!=typeof F[ua]){var Ea=0;var Na=F[ua].count();for(var Ia in F[ua])La[Ia][F[ua][Ia]].re=La[Ia][F[ua][Ia]].re.replace(/%s/,la),v=La[Ia][F[ua][Ia]].modifiers?new RegExp(La[Ia][F[ua][Ia]].re,La[Ia][F[ua][Ia]].modifiers):new RegExp(La[Ia][F[ua][Ia]].re),v.test(Da)&&++Ea;Ea==Na&&++Qa}return{matched:Qa}},W=function(la,ua,Da,Qa){var La=ua.split(/\./g);La=La[La.length-1];v=new RegExp('("'+La+'":\\w+)');La=null;try{Da&&(La=eval('_content.'+
ua))}catch(Ea){}La&&(Array.isArray(La)?La=La[1].split(/:/)[1]:'string'==typeof La&&/:/.test(La)&&(La=La.split(/:/)[1]),/(<|>|=)/.test(la)?/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(La)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(la)?H(La.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+la.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Qa:H(La+la)&&++Qa:La==la&&++Qa);return{matched:Qa}},
ka=function(la,ua,Da,Qa,La){ua=ua.split(/\[\*\]/g);La=ua[0].replace(/\[\*\]/,'');Da=Da[La];ua=ua[1];/^\./.test(ua)&&(ua=ua.substr(1));La=0;if(Da)for(var Ea=0,Na=Da.length;Ea<Na&&!(ta=/\./.test(ua)?W(la,ua,Da[Ea],La):Fa(la,ua,Da[Ea],La,J),La=ta.matched,0<La);++Ea);return{matched:Qa+La}},ha;for(ha in y)if(y[ha]||(y[ha]={}),!/undefined|function/.test(typeof y[ha]))for(let la=0,ua=A.count();la<ua;++la){D=A[la];m=D.count();T=0;for(var xa in D){if('undefined'==typeof D[xa])throw Error('filter `'+xa+'` cannot be left undefined');
u=null===D[xa]||/(boolean|number)/.test(typeof D[xa])?D[xa]:D[xa].toLocaleLowerCase();ta=/\./.test(xa)?/\[\*\]/.test(xa)?ka(D[xa],xa,y[ha],T,0):W(D[xa],xa,y[ha],T):Fa(D[xa],xa,y[ha][xa],T,J);T=ta.matched}if(T==m)if(ba&&Q&&0>w.indexOf(y[ha]._uuid)||Q||!ba){if(!ba||ba&&0>G.indexOf(y[ha]._uuid)||Q)G[z]=y[ha],++z}else ba&&!Q&&0>G.indexOf(y[ha]._uuid)&&(G[z]=y[ha],++z)}}else G=B;S=null;G.insert=M.insert;G.notIn=M.notIn;G.find=this.find;G.update=M.update;G.replace=M.replace;G.or=M.or;G.findOne=M.findOne;
G.limit=M.limit;G.orderBy=M.orderBy;G.delete=M.delete;G.toRaw=M.toRaw;G.filter=M.filter;return G};M.findOne=function(){var D=null;'string'==typeof arguments[arguments.length-1]&&(delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(D=arguments);if('undefined'==typeof D||!D||'object'!=typeof D)throw Error('[ Collection ][ findOne ] `filters` argument must be defined: Array or Filter Object(s) expected');D=null;var A=Array.isArray(arguments[0])?arguments[0]:M.find.apply(this,
arguments)||[];0<A.length&&(D=A.limit(1).toRaw()[0]);return D};M.or=function(){arguments[arguments.length]=!0;++arguments.length;return M.find.apply(this,arguments)};M.limit=function(D){if('undefined'==typeof D||'number'!=typeof D)throw Error('[Collection::result->limit(resultLimit)] : `resultLimit` parametter must by a `number`');var A=Array.isArray(this)?this:JSON.clone(B);A=A.splice(0,D);A.insert=M.insert;A.update=M.update;A.replace=M.replace;A.notIn=M.notIn;A.findOne=M.findOne;A.orderBy=M.orderBy;
A.max=M.max;A.delete=M.delete;A.toRaw=M.toRaw;A.filter=M.filter;return A};M.notIn=function(){var D=null,A=null,m=!0;'string'==typeof arguments[arguments.length-1]&&(D=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'boolean'==typeof arguments[arguments.length-1]&&(m=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(A=arguments);if('undefined'==typeof A||!A||'object'!=typeof A)throw Error('[ Collection ][ notIn ] `filters` argument must be defined: Array or Filter Object(s) expected');
var z=JSON.clone(Array.isArray(this)?this:B);if(Array.isArray(arguments[0]))var y=arguments[0];else Q=!0,y=M.find.apply(this,arguments)||[],Q=!1;if(0<y.length){if(m&&D&&'undefined'==typeof y[0]&&'undefined'==typeof y[0][D])throw Error('[ Collection ][ notIn ] `key` not valid');m&&!D&&'undefined'!=typeof y[0]._uuid?D='_uuid':'undefined'!=typeof y[0].id&&(D='id');if(!D||'undefined'==typeof y[0][D])throw Error('No comparison key defined !');var G=0,u=y.length,v=0,F,J=A.count(),T;if(m&&'undefined'!=typeof z[v]&&
z[v].hasOwnProperty(D))for(;G<u&&z.length;++G)for(v=0,m=z.length;v<m;++v){if('undefined'!=typeof z[v]&&'undefined'!=typeof y[G]&&z[v][D]===y[G][D]){z.splice(v,1);break}}else if('undefined'==typeof z[v])z=JSON.clone(y);else for(;G<u&&z.length;++G)for(v=0,m=z.length;v<m;++v)if('undefined'!=typeof z[v]){for(F=T=0;F<J;++F){if('undefined'==typeof A[F])throw Error('filter `'+F+'` cannot be left undefined');var ta=A[F].count();var Fa=0;for(D in A[F])z[v].hasOwnProperty(D)&&z[v][D]===y[G][D]&&++Fa;Fa==ta&&
++T}if(T){z.splice(v,1);break}}}D=z;D.notIn=M.notIn;D.limit=M.limit;D.find=M.find;D.findOne=M.findOne;D.insert=M.insert;D.replace=M.replace;D.update=M.update;D.orderBy=M.orderBy;D.max=M.max;D.delete=M.delete;D.toRaw=M.toRaw;D.filter=M.filter;return D};M.insert=function(D){if('object'!==typeof D)throw Error('filter must be an object');var A=Array.isArray(this)?this:B;D._uuid=ma.v4();A.push(D);A.limit=M.limit;A.find=M.find;A.findOne=M.findOne;A.update=M.update;A.replace=M.replace;A.orderBy=M.orderBy;
A.max=M.max;A.notIn=M.notIn;A.delete=M.delete;A.toRaw=M.toRaw;A.filter=M.filter;return A};M.update=function(){var D='_uuid',A,m=A=null;'string'==typeof arguments[arguments.length-1]&&(D=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(m=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(A=arguments);if('undefined'==typeof A||!A||'object'!=typeof A)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');
if('undefined'==typeof m||!m||'object'!=typeof m)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var z=Array.isArray(arguments[0])?arguments[0]:M.find.apply(this,arguments)||[];A=Array.isArray(this)?this:JSON.clone(B);if(0<z.length){z=z.toRaw();for(var y=0,G=z.length;y<G;++y){z[y]=U(JSON.clone(m),z[y]);for(var u=0,v=A.length;u<v;++u)if('undefined'==typeof A[u][D]&&'_uuid'==D&&'undefined'!=typeof A[u].id&&(D='id'),A[u][D]==z[y][D]){A[u]=z[y];break}}}A.limit=
M.limit;A.find=M.find;A.findOne=M.findOne;A.insert=M.insert;A.update=M.update;A.replace=M.replace;A.orderBy=M.orderBy;A.max=M.max;A.notIn=M.notIn;A.delete=M.delete;A.toRaw=M.toRaw;A.filter=M.filter;return A};M.replace=function(){var D='_uuid',A,m=A=null;'string'==typeof arguments[arguments.length-1]&&(D=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(m=arguments[arguments.length-1],delete arguments[arguments.length-
1],--arguments.length);0<arguments.length&&(A=arguments);if('undefined'==typeof A||!A||'object'!=typeof A)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');if('undefined'==typeof m||!m||'object'!=typeof m)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var z=Array.isArray(arguments[0])?arguments[0]:M.find.apply(this,arguments)||[];A=Array.isArray(this)?this:JSON.clone(B);if(0<z.length){z=z.toRaw();
for(var y=0,G=z.length;y<G;++y){z[y]=JSON.clone(m);for(var u=0,v=A.length;u<v;++u){if('undefined'==typeof A[u][D]&&'_uuid'==D&&'undefined'!=typeof A[u].id)D='id';else if('undefined'==typeof A[u][D]&&'_uuid'==D)throw Error('No comparison key defined !');if(A[u][D]==z[y][D]){A[u]=z[y];break}}}}A.limit=M.limit;A.find=M.find;A.findOne=M.findOne;A.insert=M.insert;A.update=M.update;A.replace=M.replace;A.orderBy=M.orderBy;A.max=M.max;A.notIn=M.notIn;A.delete=M.delete;A.toRaw=M.toRaw;A.filter=M.filter;return A};
M['delete']=function(){var D=M.notIn.apply(this,arguments);D.limit=M.limit;D.find=M.find;D.findOne=M.findOne;D.insert=M.insert;D.update=M.update;D.replace=M.replace;D.orderBy=M.orderBy;D.max=M.max;D.notIn=M.notIn;D.toRaw=M.toRaw;D.filter=M.filter;D.delete=this.delete;return D};M.orderBy=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->orderBy(filter) ] where `filter` must not be empty or null');if(1==arguments.length)var D=arguments[0];else{D=Array(arguments.length);
for(var A=0,m=D.length;A<m;++A)D[A]=arguments[A]}A=Array.isArray(this)?this:JSON.clone(B);return O(D,A.toRaw())};M.max=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->max(filter) ] where `filter` must not be empty or null');if(1<arguments.length||Array.isArray(arguments[0])||'object'==typeof arguments[0]&&1<arguments[0].count())throw Error('[ Collection->max(filter) ] only accept one filter length, and fileter count must be equal to 1');var D=arguments[0];
try{var A=Object.keys(D)[0],m={};m[A]='desc';return M.find(D).orderBy(m).limit(1)[0][A]}catch(z){throw z;}};var O=function(D,A){if('object'!=typeof D)throw Error('`filter` parametter must be an object or an array');var m={},z=null,y=null,G=z=null;z=[];if(0==D.count())return null;m.asc=function(u,v){var F=v.map(function(J,T){var ta={};ta.index=T;ta[u]=J[u];return ta});F.sort(function(J,T){var ta=function(Fa,W){/^(true|false)$/i.test(Fa)&&(Fa=/true/i.test(Fa)?1:0);/^(true|false)$/i.test(W)&&(W=/true/i.test(W)?
1:0);return'string'==typeof Fa&&''!=Fa||'string'==typeof W?('number'==typeof Fa&&(Fa=''+Fa),'number'==typeof W&&(W=''+W),Fa.localeCompare(W,void 0,{sensitivity:'case',caseFirst:'upper'})):Fa>W?1:Fa<W?-1:0};return'object'==typeof J?ta(J[u],T[u]):ta(J,T)});return F.map(function(J,T,ta){return v[J.index]})};m.desc=function(u,v){return m.asc(u,v).reverse()};z=function(u,v){var F=[],J=[];if(Array.isArray(v))for(var T=0,ta=v.length;T<ta;++T)F[T]=Object.keys(v[T])[0],J[T]=v[T][F[T]];else for(ta in T=0,v)F[T]=
ta,J[T]=v[ta],++T;y=function(Fa,W,ka,ha,xa){var la='desc'==ha[xa]?1:0,ua,Da=ua=null;return'string'==typeof Fa[ka[xa]]&&''!=Fa[ka[xa]]?(ua=Fa[ka[xa]].localeCompare(W[ka[xa]]),0==la&&0!=ua?0>ua?-1:1:0!=ua?0>ua?1:-1:ka.length-1>xa?y(Fa,W,ka,ha,xa+1):0):'number'==typeof Fa[ka[xa]]||'number'==typeof W[ka[xa]]?(ua=(''+Fa[ka[xa]]).localeCompare(''+W[ka[xa]],void 0,{numeric:!0}),0==la&&0!=ua?0>ua?-1:1:0!=ua?0>ua?1:-1:ka.length-1>xa?y(Fa,W,ka,ha,xa+1):0):'boolean'==typeof Fa[ka[xa]]||'boolean'==typeof W[ka[xa]]?
('boolean'==typeof Fa[ka[xa]]&&(ua=Fa[ka[xa]]?1:0),'boolean'==typeof W[ka[xa]]&&(Da=W[ka[xa]]?1:0),ua>Da?0==la?1:-1:ua<Da?0==la?-1:1:ka.length-1>xa?y(Fa,W,ka,ha,xa+1):0):Fa[ka[xa]]>W[ka[xa]]?0==la?1:-1:Fa[ka[xa]]<W[ka[xa]]?0==la?-1:1:ka.length-1>xa?y(Fa,W,ka,ha,xa+1):0};return u.sort(function(Fa,W){return y(Fa,W,F,J,0)})};Array.isArray(D)||1<D.count()?z=z(A,D):(G=Object.keys(D)[0],z=D[G],z=m[z](G,A));z.find=M.find;z.findOne=M.findOne;z.limit=M.limit;z.notIn=M.notIn;z.insert=M.insert;z.update=M.update;
z.replace=M.replace;z.delete=M.delete;z.orderBy=M.orderBy;z.max=M.max;z.toRaw=M.toRaw;z.filter=M.filter;return z};M.toRaw=function(){for(var D=Array.isArray(this)?this.slice():B.slice(),A=0,m=D.length;A<m;++A)D[A]._uuid&&delete D[A]._uuid;return D};M.filter=function(D){if('undefined'==typeof D)throw Error('`filter` parametter must be a string or an array.');var A=Array.isArray(this)?this:B;if(!A.length)return[];var m=0,z=A.length,y=[],G=0;if(Array.isArray(D))for(var u,v=D.length,F;m<z;++m){F=!1;for(u=
0;u<v;++u)'undefined'!=typeof A[m][D[u]]&&('undefined'==typeof y[G]&&(y[G]={}),y[G][D[u]]=A[m][D[u]],F=!0);F&&++G}else for(;m<z;++m)'undefined'!=typeof A[m][D]&&('undefined'==typeof y[G]&&(y[G]={}),y[G][D]=A[m][D],++G);return JSON.clone(y)};return M}'undefined'!==typeof module&&module.exports?module.exports=Collection:'function'===typeof define&&define.amd&&define('lib/collection',[],function(){return Collection});
function FormValidatorUtil(B,P,V,ma){var U='undefined'!==typeof module&&module.exports?!1:!0,N=U?require('lib/merge'):require('../../../../../lib/merge');U||require('../../../../../helpers');U&&require('helpers/dateFormat');var ba=U?require('lib/routing'):require('../../../../../lib/routing'),Q=function(){var m=!1,z=null;U?U&&'undefined'!=typeof gina.forms&&(z=gina.forms):z=getContext('gina').forms||null;z&&'undefined'!=typeof z.validators&&(m=!0);return m},S={errors:{},keys:{'%l':'label','%n':'name',
'%s':'size'},data:{},excluded:[],errorLabels:{is:'Condition not satisfied',isEmail:'A valid email is required',isRequired:'Cannot be left empty',isBoolean:'Must be a valid boolean',isNumber:'Must be a number: allowed values are integers or floats',isNumberLength:'Must contain %s characters',isNumberMinLength:'Should be at least %s characters',isNumberMaxLength:'Should not be more than %s characters',isInteger:'Must be an integer',isIntegerLength:'Must have %s characters',isIntegerMinLength:'Should be at least %s characters',
isIntegerMaxLength:'Should not be more than %s characters',toInteger:'Could not be converted to integer',isFloat:'Must be a proper float',isFloatException:'Float exception found: %n',toFloat:'Could not be converted to float',toFloatNAN:'Value must be a valid number',isDate:'Must be a valid Date',isString:'Must be a string',isStringLength:'Must have %s characters',isStringMinLength:'Should be at least %s characters',isStringMaxLength:'Should not be more than %s characters',isJsonWebToken:'Must be a valid JSON Web Token',
query:'Must be a valid response',isApiError:'Condition not satisfied'}},r=null;if(B)r=N(JSON.clone(B),r),S.data=N(JSON.clone(B),S.data);else throw Error('missing data param');var H=function(m,z){var y=null;for(let G in ma)if(ma[G].name===z){y=(new DOMParser).parseFromString(m.innerHTML,'text/html').getElementById(ma[G].id);break}if(y)return y;throw Error('Field `'+z+'` not found in fieldsSet');},w=function(m){var z;var y='';var G=m.length;for(z=0;z<G;){var u=m[z++];switch(u>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:y+=
String.fromCharCode(u);break;case 12:case 13:var v=m[z++];y+=String.fromCharCode((u&31)<<6|v&63);break;case 14:v=m[z++];var F=m[z++];y+=String.fromCharCode((u&15)<<12|(v&63)<<6|(F&63)<<0)}}return y},oa=function(m,z){z=m.match(/\{\{([^{{}}]+)\}\}/g);for(let y=0,G=z.length;y<G;y++){let u=z[y].replace(/\[/g,'["').replace(/\]/g,'"]').replace(/\{|\}/g,'').trim();try{u=eval('data.'+u).replace(/^"|"$/g,''),m=m.replace(new RegExp(z[y].replace(/\{|\[|\]|\}/g,'\\$&'),'g'),u)}catch(v){}}return m},Aa=function(m,
z){var y=r[this.name].errors||{},G=this.target.id||this.target.getAttribute('id');if(r.isValid()){var u=this.target.dataset.ginaFormValidatorTestedValue;console.debug('[ '+this.name+' ]','TESTED VALUE -> '+this.value+' vs '+u);G='asyncCompleted.'+G;var v=this.target.form.getAttribute('id'),F='undefined'!=typeof gina.validator&&'undefined'!=typeof gina.validator.$forms[v]&&'undefined'!=typeof gina.validator.$forms[v].cachedErrors?gina.validator.$forms[v].cachedErrors:null;if(!u||'undefined'==typeof u||
u!==this.value)this.target.dataset.ginaFormValidatorTestedValue=this.value,F&&'undefined'!=typeof F[this.name]&&'undefined'!=typeof F[this.name].query&&(delete F[this.name].query,'undefined'!=typeof gina.validator.$forms[v]&&'undefined'!=typeof gina.validator.$forms[v].errors&&delete gina.validator.$forms[v].errors.query);else if(u===this.value){var J=!1;F&&'undefined'!=typeof F[this.name]&&'undefined'!=typeof F[this.name].query&&'undefined'!=typeof F[this.name].query[this.value]&&(this.error=z=F[this.name].query[this.value].slice(0),
J=!0);y.query=A(this.error||z||S.errorLabels.query,this);console.debug('[2] potential cached error detected !! ',J,F,' vs ',y.query);J&&(this.errors=y,this.valid=!1);'undefined'!=typeof gina.events[G]&&triggerEvent(gina,this.target,G,r[this.name]);return r[this.name]}var T=null,ta=this;if(window.XMLHttpRequest)T=new XMLHttpRequest;else if(window.ActiveXObject)try{T=new ActiveXObject('Msxml2.XMLHTTP')}catch(xa){try{T=new ActiveXObject('Microsoft.XMLHTTP')}catch(la){}}z={isSynchrone:!1,headers:{}};
u=m.data||null;y=null;G=/^true$/i.test(this.target.form.dataset.ginaFormLiveCheckEnabled)?!0:!1;y=JSON.stringify(u);if(/\$/.test(y)){u=y.match(/\$[-_\[\]a-z 0-9]+/g)||[];v=F=null;for(let xa=0,la=u.length;xa<la;xa++)v=u[xa].replace(/\$/g,''),re=new RegExp('\\'+u[xa].replace(/\[|\]/g,'\\$&'),'g'),F=S.data[v]||null,!F&&G&&(F=H(this.target.form,v).value),y=y.replace(re,F)}u=y.replace(/\\"/g,'');var Fa='undefined'==typeof m.validIf?!0:m.validIf;z=N(z,m,V);delete z.data;delete z.validIf;y=z.headers['Content-Type'];
var W=null;G=this.target.getAttribute('id');if(!/^http/.test(z.url)&&/@/.test(z.url))try{J=ba.getRoute(z.url),z.url=J.toUrl()}catch(xa){throw xa;}if(z.withCredentials){if('withCredentials'in T)z.isSynchrone?T.open(z.method,z.url,z.isSynchrone):T.open(z.method,z.url);else if('undefined'!=typeof XDomainRequest)T=new XDomainRequest,T.open(z.method,z.url);else throw T=null,W='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ',Error(W);T.responseType='undefined'!=
typeof z.responseType?z.responseType:'';T.withCredentials=!0}else z.isSynchrone?T.open(z.method,z.url,z.isSynchrone):T.open(z.method,z.url);for(var ka in z.headers)'Content-Type'==ka&&'undefined'!=typeof y&&null!=y&&''!=y||T.setRequestHeader(ka,z.headers[ka]);'undefined'!=typeof y&&null!=y&&''!=y&&T.setRequestHeader('Content-Type',y);var ha=function(xa){ta.value=S.data[ta.name]=ta.value?ta.value.toLowerCase():ta.value;var la=xa.isValid||!1;la=Fa!=la?!1:!0;r[ta.name].valid=la;var ua=r[ta.name].errors||
{},Da='undefined'!=typeof xa.error&&'undefined'!=typeof xa.fields?xa.fields:{};if(0<Da.count()&&!la||!la){if(!la){var Qa=null;'undefined'!=typeof Da[ta.name]?S.errorLabels.query=oa(Da[ta.name],m.data):'undefined'!=typeof xa.error&&/^5/.test(xa.status)&&(Qa=xa.error);Da='undefined'!=typeof m.error?m.error:null;ua.query=A(Qa||ta.error||Da||S.errorLabels.query,ta);console.debug('[1] query error detected !! ',xa)}ua.query||''!=ta.value||(la=!0)}la&&'undefined'!=typeof ua.query&&delete ua.query;ta.valid=
la;xa=gina.validator.$forms[ta.target.form.getAttribute('id')].cachedErrors||{};0<ua.count()?(ta.errors=ua,'undefined'==typeof r[ta.name].errors&&(r[ta.name].errors={}),r[ta.name].errors=N(r[ta.name].errors,ua),'undefined'!=typeof ua.query&&ua.query&&('undefined'==typeof xa[ta.name]&&(xa[ta.name]={}),'undefined'==typeof xa[ta.name].query&&(xa[ta.name].query={}),xa[ta.name].query[ta.value]=ua.query.slice(0)),ua=ta.target.getAttribute('data-gina-form-errors'),/query/.test(ua)||ta.target.setAttribute('data-gina-form-errors',
ua&&''!=ua?ua+' query':'query')):'undefined'!=typeof xa[ta.name]&&'undefined'!=typeof xa[ta.name].query&&'undefined'!=typeof xa[ta.name].query[ta.value]&&delete xa[ta.name].query[ta.value];ua=ta.target.id||ta.target.getAttribute('id');console.debug('prematurely completed event `asyncCompleted.'+ua+'`');return triggerEvent(gina,ta.target,'asyncCompleted.'+ua,r[ta.name])};T&&(T.onerror=function(xa,la){console.debug('query error [2] detected !! ',la,'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.');
isOnException=!0;xa=this.getResponseHeader('Content-Type');if(/\/json/.test(xa))xa=JSON.parse(this.responseText),'undefined'==typeof xa.status&&(xa.status=this.status);else if(xa={status:T.status,message:''},/^(\{|\[)/.test(T.responseText))try{xa=N(xa,JSON.parse(T.responseText))}catch(ua){xa=N(xa,ua)}return ha(xa)},T.onload=function(){try{W=this.responseText;var xa=this.getResponseHeader('Content-Type');if(/\/json/.test(xa))W=JSON.parse(this.responseText),'undefined'==typeof W.status&&(W.status=this.status);
else if(W={status:T.status,message:''},/^(\{|\[)/.test(T.responseText))try{W=N(W,JSON.parse(T.responseText))}catch(la){W=N(W,la)}return ha(W)}catch(la){throw la;}},B?T.send(u):T.send())}else console.debug('stopping on errors ...'),triggerEvent(gina,this.target,'asyncCompleted.'+G,r[this.name])},M=async function(m,z,y,G){var u=(new (require(_(GINA_FRAMEWORK_DIR+'/core/config.js',!0)))).getInstance(),v=null,F=null,J=null,T=getContext('bundle');if(/@/.test(m.url)){var ta=m.url.split(/@/);F=ta[0];J=ta[1];
getConfig(T,'app');try{u.bundle!==J&&(v=getConfig(T,'app').proxy[J])}catch(ha){throw Error('Could not retrieve `proxy` configuration for bundle `'+J+'`. Please check your `/config/app.json`.\n'+ha.stack);}ta=null}else throw Error('external url/domain not  handled at this moment, please contact us if you need support for it.');ta=JSON.clone(ba.getRoute(m.url,m.data));var Fa=u[J][u.env];v||(u.bundle==J&&(v=getConfig(T,'settings').server.credentials,m.ca=v.ca||null,m.hostname=Fa.server.scheme+'://'+
Fa.host,m.port=Fa.port[Fa.server.protocol][Fa.server.scheme],m.protocol=Fa.server.protocol,m.rejectUnauthorized=!1),v={ca:m.ca,hostname:m.hostname,port:m.port,path:m.path},'undefined'!=typeof m.protocol&&(v.protocol=m.protocol),'undefined'!=typeof m.rejectUnauthorized&&(v.rejectUnauthorized=m.rejectUnauthorized));F={method:ta.method,requirements:ta.requirements,namespace:ta.namespace||void 0,url:decodeURI(ta.url),rule:F+'@'+J,param:JSON.clone(ta.param),middleware:JSON.clone(ta.middleware),bundle:ta.bundle,
isXMLRequest:z.isXMLRequest,isWithCredentials:z.isWithCredentials};J=F.rule.replace('@'+J,'')||'_common';J={template:'undefined'!=typeof Fa.content.templates?Fa.content.templates[J]||Fa.content.templates._common:void 0,cacheless:Fa.cacheless};J=N(J,F);Fa=JSON.clone(Fa);J.conf=Fa;J.conf.content.routing[J.rule].param=F.param;J.template&&'undefined'==typeof J.template.ginaLoader&&(J.template.ginaLoader=J.conf.content.templates._common.ginaLoader);J.conf.content.routing[J.rule].param=F.param;delete J.middleware;
delete J.param;delete J.requirements;Fa=new (require(_(GINA_FRAMEWORK_DIR+'/core/controller/controller.js'),!0))(J);Fa.name=ta.param.control;Fa.setOptions(z,y,G,J);z='object'==typeof m.data&&0<m.data.count()?m.data:{};if(/^get|delete|put$/i.test(m.method)){y=0;for(let ha in z)'object'==typeof z[ha]&&encodeRFC5987ValueChars(JSON.stringify(z[ha])),y++}v.method=m.method;v.path=ta.url;m=require('util').promisify;var W={isValid:!1},ka=!1;await m(Fa.query)(v,z).then(function(ha){W=ha}).catch(function(ha){ka=
ha});ka&&(console.error(ka),W.error=ka);return W},O=null;O=U?Aa:M;var D=function(m,z){var y=null,G=null;'undefined'==typeof r[m]&&'undefined'!=typeof z&&(r[m]=y=z);if('object'==typeof r[m])try{y=JSON.parse(JSON.stringify(r[m]))}catch(u){y=r[m]}else y=r[m];G='';U&&'undefined'!=typeof P&&(G=P[m].getAttribute('data-gina-form-field-label')||'');r[m]={target:U&&'undefined'!=typeof P?P[m]:null,name:m,value:y,valid:!1,label:G,exclude:!1};r[m].is=function(u,v,F){var J=!1,T='undefined'!=typeof window&&'undefined'!=
typeof window._currentValidatorAlias?window._currentValidatorAlias:'is';'undefined'!=typeof window&&window._currentValidatorAlias&&delete window._currentValidatorAlias;var ta=r[this.name].errors||{};S.data[this.name]=r[this.name].value;'undefined'==typeof ta.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value||!ta.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value?J=!0:ta.isRequired||'string'!=typeof this.value||''!=this.value||(J=!0);if(!J&&/^(true|false)$/i.test(u))J=
u;else if(!J){var Fa=null,W=null;if(/[!=>><a-z 0-9]+/i.test(u)){if((W=u.match(/\${0}[-_,.\[\]a-z0-9]+/ig))&&0<W.length){for(var ka=0,ha=W.length;ka<ha;++ka)'undefined'!=typeof r[W[ka]]&&W[ka]&&(Fa=new RegExp('\\$'+W[ka]+'(?!\\S+)','g'),u=''==r[W[ka]].value?u.replace(Fa,'""'):'string'==typeof r[W[ka]].value?u.replace(Fa,'"'+r[W[ka]].value+'"'):u.replace(Fa,r[W[ka]].value));try{u=u.replace(/(\(|\)|return)/g,''),J=/^\//.test(u)?eval(u+'.test("'+this.value+'")'):eval(u)}catch(xa){throw Error(xa.stack||
xa.message);}}}else if(u instanceof RegExp)J=u.test(this.value)?!0:!1;else if('boolean'==typeof u)J=u?!0:!1;else try{/\/(.*)\//.test(u)?(Fa=u.match(/\/(.*)\//).pop(),W=u.replace('/'+Fa+'/',''),J=(new RegExp(Fa,W)).test(this.value)):J=eval(u)}catch(xa){throw Error(xa.stack||xa.message);}}J?J&&'undefined'!=typeof ta[T]&&delete ta[T]:(ta[T]=A(this.error||v||S.errorLabels[T],this),'undefined'!=typeof F&&(ta.stack=F));this.valid=J;0<ta.count()&&(this.errors=ta);return r[this.name]};r[m].set=function(u){this.value=
S.data[this.name]=u;this.target.setAttribute('value',u);return r[this.name]};r[m].isEmail=function(){this.value=S.data[this.name]=this.value?this.value.toLowerCase():this.value;U&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var u=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.value)?!0:!1,v=r[this.name].errors||{};v.isRequired||
''!=this.value||(u=!0);u?u&&'undefined'!=typeof v.isEmail&&delete v.isEmail:v.isEmail=A(this.error||S.errorLabels.isEmail,this);this.valid=u;0<v.count()&&(this.errors=v);return r[this.name]};r[m].isJsonWebToken=function(){this.value=S.data[this.name]=this.value?this.value.toLowerCase():this.value;U&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var u=/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/.test(this.value)?!0:!1,v=r[this.name].errors||
{};v.isRequired||''!=this.value||(u=!0);u?u&&'undefined'!=typeof v.isJsonWebToken&&delete v.isJsonWebToken:v.isJsonWebToken=A(this.error||S.errorLabels.isJsonWebToken,this);this.valid=u;0<v.count()&&(this.errors=v);return r[this.name]};r[m].isBoolean=function(){var u=null,v=r[this.name].errors||{};v.isRequired&&0==this.value&&(delete v.isRequired,this.errors=v);switch(this.value){case 'true':case !0:case 1:u=this.value=S.data[this.name]=!0;break;case 'false':case !1:case 0:u=this.value=S.data[this.name]=
!1}(u=null!==u?!0:!1)?u&&'undefined'!=typeof v.isBoolean&&delete v.isBoolean:v.isBoolean=A(this.error||S.errorLabels.isBoolean,this);this.valid=u;0<v.count()&&(this.errors=v);return r[this.name]};r[m].isNumber=function(u,v){var F=this.value,J=!1,T=!0,ta=!0,Fa=r[this.name].errors||{};try{'string'==typeof F&&/,|\./g.test(F)?F=S.data[this.name]=this.value=parseFloat(F.replace(/,/g,'.').replace(/\s+/g,'')):'string'==typeof F&&''!=F&&(F=S.data[this.name]=this.value=parseInt(F.replace(/\s+/g,'')))}catch(ka){Fa.isNumber=
A(this.error||S.errorLabels.isNumber,this),this.valid=!1,0<Fa.count()&&(this.errors=Fa)}if(+F===+F&&(J=!0,!Fa.isRequired&&''!=F)){var W=F.toString().length;u&&'number'==typeof u&&W<u&&(T=!1,this.size=u);v&&'number'==typeof v&&W>v&&(ta=!1,this.size=v)}J&&T&&ta||(J||(Fa.isNumber=A(this.error||S.errorLabels.isNumber,this)),T&&ta||(T||(Fa.isNumberLength=A(this.error||S.errorLabels.isNumberMinLength,this)),ta||(Fa.isNumberLength=A(this.error||S.errorLabels.isNumberMaxLength,this)),u===v&&(Fa.isNumberLength=
A(this.error||S.errorLabels.isNumberLength,this))),J=!1);J&&'undefined'!=typeof Fa.isNumberLength&&delete Fa.isNumberLength;this.valid=J;this.value=S.data[this.name]=''!=F?Number(F):F;0<Fa.count()&&(this.errors=Fa);return r[this.name]};r[m].toInteger=function(){var u=this.value,v=r[this.name].errors||{};if(u)try{this.value=S.data[this.name]=Math.round(u)}catch(F){v.toInteger=A(this.error||S.errorLabels.toInteger,this),this.valid=!1,0<v.count()&&(this.errors=v)}return r[this.name]};r[m].isInteger=
function(u,v){var F=this.value,J=!1,T=!0,ta=!0,Fa=r[this.name].errors||{};+F===+F&&0===F%1&&(J=!0,Fa.isRequired||''==F||(u&&'number'==typeof u&&F.length<u&&(T=!1,this.size=u),v&&'number'==typeof v&&F.length>v&&(ta=!1,this.size=v)));J&&T&&ta||(J||(Fa.isInteger=A(this.error||S.errorLabels.isInteger,this)),T&&ta||(T||(Fa.isIntegerLength=A(this.error||S.errorLabels.isIntegerMinLength,this),J=!1),ta||(Fa.isIntegerLength=A(this.error||S.errorLabels.isIntegerMaxLength,this),J=!1),u===v&&(Fa.isIntegerLength=
A(this.error||S.errorLabels.isIntegerLength,this),J=!1)));this.valid=J;this.value=S.data[this.name]=Number(F);0<Fa.count()&&(this.errors=Fa);return r[this.name]};r[m].toFloat=function(u){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''),/,/.test(this.value)&&!/\./.test(this.value)?this.value=this.value.replace(/,/g,'.'):this.value=this.value.replace(/,/g,''));var v=S.data[this.name]=this.value,F=r[this.name].errors||{},J=!0;u?this.decimals=parseInt(u):'undefined'==typeof this.decimals&&
(this.decimals=2);if(v)if(this.isNumber().valid)try{Number.isFinite(v)||(v=this.value=S.data[this.name]=new Number(parseFloat(v.match(/[0-9.,]+/g).join('').replace(/,/,'.')))),U&&this.target.setAttribute('value',v)}catch(T){J=!1,F.toFloat=A(this.error||S.errorLabels.toFloat,this),this.valid=!1,0<F.count()&&(this.errors=F)}else J=!1,F.toFloat=A(this.error||S.errorLabels.toFloatNAN,this);else return r[this.name];this.decimals&&v&&!F.toFloat&&(this.value=S.data[this.name]=parseFloat(this.value.toFixed(this.decimals)));
this.valid=J;0<F.count()&&(this.errors=F);return r[this.name]};r[m].isFloat=function(u){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''));var v=S.data[this.name]=this.value;u=r[this.name].errors||{};'string'==typeof v&&/\./.test(v)&&Number.isFinite(Number(v));'string'==typeof v&&/,/g.test(v)&&(v=this.value=S.data[this.name]=Number(v.replace(/,/g,'.')));Number(v)===v&&0!==v%1?(this.value=S.data[this.name]=Number(v),v=!0):v=!1;u.isRequired||''!=this.value||(v=!0);v||(u.isFloat=
A(this.error||S.errorLabels.isFloat,this));this.valid=v;0<u.count()&&(this.errors=u);return r[this.name]};r[m].isRequired=function(u){if('boolean'==typeof u&&!u)return this.valid=!0,u=S.excluded.indexOf(this.name),-1<u&&S.excluded.splice(u,1),r[this.name];if(U&&this.target&&'INPUT'==this.target.tagName&&'undefined'!=typeof this.target.type&&'radio'==this.target.type){u=document.getElementsByName(this.name);for(var v=0,F=u.length;v<F;++v)if(u[v].checked){/true|false/.test(u[v].value)?this.value=S.data[this.name]=
/true/.test(u[v].value)?!0:!1:this.value=S.data[this.name]=u[v].value;this.valid=!0;break}}u='undefined'==typeof this.value||null==this.value||''==this.value||/^\s+/.test(this.value)?!1:!0;v=r[this.name].errors||{};u?u&&'undefined'!=typeof v.isRequired&&delete v.isRequired:v.isRequired=A(this.error||S.errorLabels.isRequired,this);this.valid=u;0<v.count()&&(this.errors=v);return r[this.name]};r[m].isString=function(u,v){var F=S.data[this.name]=this.value,J=!1,T=!0,ta=!0,Fa=r[this.name].errors||{};
'string'!=typeof F||Fa.isRequired||''==F||(J=!0,u&&'number'==typeof u&&F.length<u&&(T=!1,this.size=u),v&&'number'==typeof v&&F.length>v&&(ta=!1,this.size=v));J&&T&&ta||(!J&&Fa.isRequired&&''==F?(J=!1,Fa.isString=A(this.error||S.errorLabels.isString,this)):J||Fa.isRequired||(J=!0),T&&ta||(J=!1,T||(Fa.isStringLength=A(this.error||S.errorLabels.isStringMinLength,this)),ta||(Fa.isStringLength=A(this.error||S.errorLabels.isStringMaxLength,this)),u===v&&(Fa.isStringLength=A(this.error||S.errorLabels.isStringLength,
this))));this.valid=J;0<Fa.count()&&(this.errors=Fa);return r[this.name]};r[m].isDate=function(u){var v=this.value,F=!1,J=r[this.name].errors||{},T=null;if(!v||''==v||/NaN|Invalid Date/i.test(v))return/NaN|Invalid Date/i.test(v)&&(console.warn('[FormValidator::isDate] Provided value for field `'+this.name+'` is not allowed: `'+v+'`'),J.isDate=A(this.error||S.errorLabels.isDate,this)),this.valid=F,0<J.count()&&(this.errors=J),r[this.name];if('undefined'==typeof u||'undefined'!=typeof u&&/true/i.test(u))u=
'yyyy-mm-dd';if(v instanceof Date)v=v.format(u);else{try{T=u.match(/[^\/\- ]+/g)}catch(ha){throw Error('[FormValidator::isDate] Provided mask not allowed: `'+u+'`');}try{v=v.match(/[^\/\- ]+/g);var ta={},Fa;var W=0;for(Fa=T.length;W<Fa;++W)ta[T[W]]=v[W];for(var ka in ta)u=u.replace(new RegExp(ka,'g'),ta[ka])}catch(ha){throw Error('[FormValidator::isDate] Provided value not allowed: `'+v+'`'+ha);}v=this.value=S.data[this.name]=new Date(u);if(/Invalid Date/i.test(v)||!1===v instanceof Date)return J.isRequired||
''!=this.value?J.isDate=A(this.error||S.errorLabels.isDate,this):F=!0,this.valid=F,0<J.count()&&(this.errors=J),r[this.name];F=!0}this.valid=F;return v};r[m].format=function(u,v){var F=this.value;return F?F.format(u,v):r[this.name]};r[m].setFlash=function(u,v){'undefined'!=typeof v&&''!=v&&(this.error=v);return r[this.name]};r[m].setLabel=function(u){'undefined'!=typeof u&&''!=u&&(this.label=u);return r[this.name]};r[m].trim=function(u){if('boolean'==typeof u&&u)return this.value=this.value.replace(/^\s+|\s+$/,
''),S.data[this.name]=S.data[this.name]=this.value,r[this.name]};r[m].exclude=function(u){if('boolean'==typeof u&&!u)return/^true|false$/i.test(this.value)&&(this.value=/^true$/i.test(this.value)?!0:!1,S.data[this.name]=this.value),r[this.name];this.isExcluded=!1;0>S.excluded.indexOf(this.name)&&(S.excluded.push(this.name),this.isExcluded=!0);return r[this.name]};r[m].query=O;r[m].getValidationContext=function(){return{isGFFCtx:U,self:r,local:S,replace:A}};if(Q()){y=z=null;try{for(let u in gina.forms.validators)y=
'/validators/'+u+'/main.js',S.errorLabels[u]='Condition not satisfied',U?(z=w(gina.forms.validators[u].data),z=z.replace(/(\)\s+\{|\)\{){1}/,'$&\n\tvar validationContext = this.getValidationContext(),isGFFCtx = validationContext.isGFFCtx,self = validationContext.self,local = validationContext.local,replace = validationContext.replace;')):z=gina.forms.validators[u].toString(),r[m][u]=eval('('+z+')\n//# sourceURL='+u+'.js')}catch(u){throw Error('[UserFormValidator] Could not evaluate: `'+y+'`\n'+u.stack);
}}};for(let m in r)D(m,r[m]);r.addField=function(m,z){'undefined'==typeof r[m]&&D(m,z)};r.isValid=function(){return 0<r.getErrors().count()?!1:!0};r.setErrors=function(m){if(!m)return{};for(var z in r)if('object'==typeof r[z]){for(var y in r[z])'object'==typeof m[z]&&'undefined'!=typeof m[z][y]&&('undefined'!=typeof r[z].valid&&/^true$/i.test(r[z].valid)?delete m[z][y]:('undefined'==typeof r[z].errors&&(r[z].errors={}),r[z].errors[y]=m[z][y]));('undefined'==typeof r[z].errors&&'undefined'!=typeof m[z]||
'undefined'!=typeof r[z].errors&&0==r[z].errors.count()&&'undefined'!=typeof m[z])&&delete m[z]}return m};r.getErrors=function(m){var z={};if('undefined'!=typeof m)return'undefined'!=typeof r[m]&&r[m]&&'undefined'!=typeof r[m].errors&&0<r[m].errors.count()&&(z[m]=r[m].errors),z;for(var y in r)'object'==typeof r[y]&&'undefined'!=typeof r[y].errors&&0<r[y].errors.count()&&(z[y]=r[y].errors);return z};r.toData=function(){if(0<S.excluded.length)for(var m=0,z=S.excluded.length;m<z;++m)'undefined'!=typeof S.data[S.excluded[m]]&&
delete S.data[S.excluded[m]];return S.data};var A=function(m,z){var y=m.match(/%[a-z]+/gi);if(y)for(var G=0,u=y.length;G<u;++G)m=m.replace(new RegExp(y[G],'g'),z[S.keys[y[G]]]);return m};r.setErrorLabels=function(m){'undefined'!=typeof m&&(S.errorLabels=N(m,S.errorLabels))};return r}'undefined'!==typeof module&&module.exports?module.exports=FormValidatorUtil:'function'===typeof define&&define.amd&&define('lib/form-validator',[],function(){return FormValidatorUtil});
function Routing(){var B='undefined'!==typeof module&&module.exports?!1:!0,P={allowedMethods:['get','post','put','delete'],reservedParams:['controle','file','title','namespace','path'],notFound:{}};P.allowedMethodsString=P.allowedMethods.join(',');var V=null,ma=null,U=null;B?(ma&&'function'==typeof ma||(ma=require('lib/merge')),U&&'function'==typeof U||(U=require('lib/form-validator'))):(require('fs'),require('util'),require('../../inherits'),ma=require('../../merge'),V=require(__dirname+'/../../../core/plugins')||
getContext('gina').plugins,U=V.Validator);P.getUrlProps=function(r,H){var w={};if(B){var oa=window.gina.config;w.hostname=oa.hostname;'undefined'!=typeof r&&(r=routing.getRoute('webroot@'+r),w.hostname=r.hostname,w.host=r.host,w.webroot=r.webroot)}else oa=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(oa.getRouting=getContext('gina').Config.instance.getRouting),'undefined'==typeof r&&(r=oa.bundle),'undefined'==typeof H&&(H=oa.env),w.hostname=oa.envConf[r][H].hostname,w.host=
oa.envConf[r][H].host,w.webroot=oa.envConf[r][H].server.webroot;return w};P.compareUrls=async function(r,H,w,oa,Aa){'undefined'==typeof w&&(w={routing:{}});if(/,/.test(H)){var M=0;H=H.split(/,/g);for(var O=H.length,D={past:!1,request:w};M<O&&!D.past;)D=await N(r,H[M],w,oa,Aa),++M;return D}return await N(r,H,w,oa,Aa)};var N=async function(r,H,w,oa,Aa){var M=null;try{M=r.url.split(/\//)}catch(T){console.warn(T),M=['']}H=H.split(/\//);var O=0,D=0,A=H.length,m=0,z={},y=0,G=w.method.toLowerCase(),u='get';
try{u=r.method.toLowerCase()}catch(T){}var v=!1;if('undefined'!=typeof r.requirements&&/get|delete/i.test(G)&&'undefined'!=typeof w[G]||'undefined'!=typeof r.requirements&&/get/i.test(G)&&/delete/i.test(u)){/get/i.test(G)&&/delete/i.test(u)&&(G=u);if(/^(delete)$/i.test(G)&&M.length===H.length){'undefined'==typeof w[G]&&(w[G]={});for(let T=0,ta=H.length;T<ta;T++)if(M[T]===H[T])++m;else if(u=H[T].substr(1),'undefined'!=typeof r.requirements[u]){u=r.requirements[u];if(/^\//.test(u))u=u.substr(1,u.lastIndexOf('/')-
1);else if(/^validator::/.test(u)&&await ba(H[T],M[T],r,w,oa,Aa)){++m;continue}/^:/.test(H[T])&&'undefined'!=typeof u&&(new RegExp(u)).test(M[T])&&(++m,w[G][H[T].substr(1)]=M[T])}v=!0}for(var F in w[G])'undefined'!=typeof r.requirements[F]&&0>H.indexOf(':'+F)&&(H[D]=':'+F,++D,M[O]=w[G][F],++O,v||M.length!==H.length||++A)}if(!v&&M.length===H.length)for(;y<A;++y)M[y]===H[y]?++m:m==y&&/:/.test(H[y])&&await ba(H[y],M[y],r,w,oa,Aa)&&++m;if('undefined'!=typeof r.requirements&&G==r.method.toLowerCase()&&
!v&&m>=A)for(F=Object.getOwnPropertyNames(r.requirements),O=0,H.join(',').match(/:[-_a-z0-9]+/g);O<F.length;){D=F[O];if('undefined'==typeof r.param[D]&&/^validator::/i.test(r.requirements[D])){if(H.length!=M.length)break;var J=H.join(',').match(/:[-_a-z0-9]+/g);let T=r.requirements[D];y={};u={};v={};try{u=JSON.parse(T.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(ta){throw ta;}if('undefined'!=typeof u.query&&'undefined'!=typeof u.query.data){y=
u.query.data;for(let ta in y)0>J.indexOf(y[ta])&&delete y[ta];for(let ta=0,Fa=H.length;ta<Fa;ta++)/^:/.test(H[ta])&&(J=H[ta].replace(/^:/,''),''!=J&&'undefined'!=typeof M[ta]&&(y[J]=M[ta],'undefined'==typeof w.params[J]&&(w.params[J]=M[ta])))}y=ma(y,JSON.clone(w[G])||{});'undefined'==typeof y[D]&&(y[D]=null);v[D]=u;_validator=B?new U(y):new U('routing',y,null,v);if(0==u.count()){console.error('Route validation failed '+r.rule);--m;O++;continue}for(let ta in u)if('undefined'!=typeof u[ta].data&&(u[ta].data=
y),v=Array.isArray(u[ta])?await _validator[D][ta].apply(_validator[D],u[ta]):await _validator[D][ta](u[ta],w,oa,Aa),!v.isValid&&(--m,'undefined'!=typeof v.error))throw v.error;}O++}z.past=m===A?!0:!1;z.past&&(w.routing=S(r,w[G]),z.request=w);return z},ba=async function(r,H,w,oa,Aa,M){var O=-1,D=r.match(/:\w+/g);O=new RegExp(r,'g');var A=null,m=null,z=null;A=!1;var y=A=m=m=null,G=null,u=oa.method.toLowerCase();if(!D.length)return!1;w.param.path&&O.test(w.param.path)&&(w.param.path=w.param.path.replace(O,
H));w.param.namespace&&O.test(w.param.namespace)&&(w.param.namespace=w.param.namespace.replace(O,H));'undefined'!=typeof w.param.file&&/:/.test(w.param.file)&&(A=new RegExp('(:'+r+'/|:'+r+'$)','g'),Q.variable=H,w.param.file=w.param.file.replace(A,Q),A=null);w.param.title&&O.test(w.param.title)&&(w.param.title=w.param.title.replace(O,H));if(1==D.length){A=new RegExp(D[0]);O=-1<D.indexOf(r)?D.indexOf(r):!1;!1===O&&r.match(A)&&(O=0);if(!1===O)return O;if(w.method.toLowerCase()!==u)return!1;'undefined'==
typeof oa[u]&&(oa[u]={});z=D[O].substr(1);O=w.requirements[z];if(/^\//.test(O))A=O.match(/\/(.*)\//).pop(),m=O.replace('/'+A+'/',''),A=(new RegExp(A,m)).test(H);else if(/^validator::/.test(O)&&H){m={};A={};y={};G='';r.replace(new RegExp('[^'+z+']','g'),function(ta){G+=ta});m[z]=H.replace(new RegExp(G,'g'),'');try{A=JSON.parse(O.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(ta){throw ta;}'undefined'!=typeof A.query&&'undefined'!=typeof A.query.data&&
r==A.query.data[Object.keys(A.query.data)[0]]&&(A.query.data[Object.keys(A.query.data)[0]]=m[z],oa.params[z]=m[z]);y[z]=A;m=new U('routing',m,null,y);if(0==A.count())return console.error('Route validation failed '+w.rule),!1;for(var v in A)Array.isArray(A[v])?await m[z][v].apply(m[z],A[v]):await m[z][v](A[v],oa,Aa,M);A=m.isValid()}else A=(new RegExp(w.requirements[z])).test(H);if('undefined'!=typeof w.param[z]&&'undefined'!=typeof w.requirements&&'undefined'!=typeof w.requirements[z]&&'undefined'!=
typeof oa.params&&A)return oa.params[z]=H,'undefined'==typeof oa[u][z]&&(oa[u][z]=H),!0}else{Aa=w.url;M=oa.url;u={};y='';var F=!1,J=0;v=0;for(var T=M.length;v<T;++v)if(M.charAt(v)!=Aa.charAt(J)||F){if(''==y)F=!0,y+=M.charAt(v);else if(v>Aa.indexOf(D[0])+D[0].length){O=w.requirements[D[0]];H=y.substr(0,y.length);if(/^\//.test(O))A=O.match(/\/(.*)\//).pop(),m=O.replace('/'+A+'/',''),A=(new RegExp(A,m)).test(H);else if(/^validator::/.test(O)){m={};A={};y={};G='';r.replace(new RegExp('[^'+z[0]+']','g'),
function(ta){G+=ta});m[z[0]]=H.replace(new RegExp(G,'g'),'');A=JSON.parse(O.split(/::/).splice(1)[0].replace(/([^\W+ true false])+(\w+)/g,'"$&"'));y[z[0]]=A;m=new U('routing',m,null,y);for(let ta in A)if(Array.isArray(A[ta]))m[z[0]][ta].apply(m[z[0]],A[ta]);else m[z[0]][ta](A[ta]);A=m.isValid()}else A=(new RegExp(w.requirements[z[0]])).test(H);if(A)u[D[0].substr(1)]=H;else return!1;y='';F=!1;J=Aa.indexOf(D[0])+D[0].length;--v;D.splice(0,1)}else y+=M.charAt(v),++J;if(v==T-1)if(O=w.requirements[D[0]],
H=y.substr(0,y.length),/^\//.test(O)?(A=O.match(/\/(.*)\//).pop(),m=O.replace('/'+A+'/',''),A=(new RegExp(A,m)).test(H)):A=(new RegExp(w.requirements[z])).test(H),A)u[D[0].substr(1)]=H;else return!1}else++J;if(u.count()==D.length){z=null;for(z in u)oa.params[z]=u[z];return!0}}return!1},Q=function(r){return/\/$/.test(r)?Q.variable+'/':Q.variable},S=function(r,H){var w=null,oa,Aa=r.url,M=null;for(M in r.param)if(('undefined'==typeof H||'undefined'!=typeof H[M])&&/^:/.test(r.param[M])){var O=r.param[M].substr(1);
if('undefined'!=typeof H&&'undefined'!=typeof H[O]){var D=new RegExp('(:'+O+'/|:'+O+'$)','g');'undefined'!=typeof r.param.path&&/:/.test(r.param.path)&&(r.param.path=r.param.path.replace(D,H[O]));'undefined'!=typeof r.param.title&&/:/.test(r.param.title)&&(r.param.title=r.param.title.replace(D,H[O]));'undefined'!=typeof r.param.namespace&&/:/.test(r.param.namespace)&&(r.param.namespace=r.param.namespace.replace(D,H[O]));'undefined'!=typeof r.param.file&&/:/.test(r.param.file)&&(Q.variable=H[O],r.param.file=
r.param.file.replace(D,Q));if(/,/.test(r.url)){w=r.url.split(/,/g);var A=0;for(oa=w.length;A<oa;++A)Q.variable=H[O],w[A]=w[A].replace(D,Q);r.url=w.join(',')}else Q.variable=H[O],r.url=r.url.replace(D,Q)}}if(w){A=0;oa=w.length;Aa=Aa.split(/,/g);var m=0;for(r.urlIndex=0;A<oa;++A)if(w=0,D=Aa[0].match(/:[-_a-z0-9]+/ig)){M=0;for(O=D.length;M<O;M++){var z=D[M].substr(1);'undefined'!=typeof H[z]&&H[z]&&w++}w>m&&(m=w,r.urlIndex=A)}}return r};P.getRoute=function(r,H,w){var oa=null;B?oa=window.gina.config:
(oa=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(oa.getRouting=getContext('gina').Config.instance.getRouting));var Aa=oa.env||GINA_ENV,M=null,O=oa.bundle;/@/.test(r)||'undefined'==typeof O||null==O||(r=r.toLowerCase(),r+='@'+O);if(/@/.test(r)){var D=r.replace(/(.*):\/\//,'').split(/@/);O=D[1];/\/(.*)$/.test(r)&&(M=r.replace(/(.*):\/\//,'').split(/\/(.*)$/)[1],O=O.replace(/\/(.*)$/,''),Aa=M||Aa);r=D[0].toLowerCase()+'@'+O}M=oa.getRouting(O,Aa);if('undefined'==typeof M[r])throw Error('[ RoutingHelper::getRouting(rule, params) ] : `'+
r+'` not found !');oa=JSON.clone(M[r]);O=null;oa=S(oa,H);/,/.test(oa.url)&&('undefined'!=typeof oa.urlIndex&&(w=oa.urlIndex,delete oa.urlIndex),w='undefined'!=typeof w?w:0,oa.url=oa.url.split(/,/g)[w]);/\/$/.test(oa.url)&&'/'!=oa.url&&(oa.url=oa.url.substr(0,oa.url.length-1));if(/GET/i.test(oa.method)&&'undefined'!=typeof H){w='?';M=M[r].url;O=[];D=0;for(let A in oa.param)-1<P.reservedParams.indexOf(A)||(new RegExp(oa.param[A])).test(M)||'undefined'==typeof H[A]||(w+=A+'='+encodeRFC5987ValueChars(H[A])+
'&',O[D]=H[A],++D);for(let A in H)-1<P.reservedParams.indexOf(A)||'undefined'!=typeof oa.requirements[A]||-1<O.indexOf(A)||(w='object'==typeof H[A]?w+(A+'='+encodeRFC5987ValueChars(JSON.stringify(H[A]))+'&'):w+(A+'='+H[A]+'&'));D=O=M=null;1<w.length&&(w=w.substring(0,w.length-1),oa.url+=w);w=null}oa.toUrl=function(A){var m=null;/^redirect$/i.test(this.param.control)&&(m=P.getUrlProps(this.bundle,Aa||GINA_ENV));var z=this.webroot||m.webroot;m=this.hostname||m.hostname;var y=this.url;this.url='undefined'!=
typeof A&&1==A?y.replace(z,'/'):y;return m+this.url};oa.request=function(A,m){var z=null,y=null;'function'==typeof arguments[arguments.length-1]&&(z=arguments[arguments.length-1]);'object'==typeof arguments[2]&&(y=arguments[2]);var G=this.webroot||y.webroot,u=this.hostname||y.hostname;y='undefined'!=typeof A&&1==A?path.replace(G,'/'):this.url||y.url;u=/^https/.test(u)?'https':'http';B?window.open(y,'undefined'!=typeof m&&'undefined'!=typeof m.target?m.target:'_self'):('undefined'==typeof m.agent&&
(m.agent=!1),u=require(''+u),G=function(v){var F='',J=!1;v.on('data',function(T){F+=T});v.on('error',function(T){J='Failed to get mail content';T&&'undefined'!=typeof T.stack?J+=T.stack:'string'==typeof T&&(J+='\n'+T)});v.on('end',function(){if(/^\{/.test(F))try{F=JSON.parse(F),'undefined'!=typeof F.error&&(J=JSON.clone(F),F=null)}catch(T){J=T}J?z(J):z(!1,F)})},z?u.get(y,m,G):u.get(y,m))};!/:/.test(oa.url)||/:d+\//.test(oa.url)||/:\/\//.test(oa.url)||(H=oa.url.match(/(:(.*)\/|:(.*)$)/g).map(function(A){return A.replace(/\//g,
'')}).join(', '),O='[ RoutingHelper::getRoute(rule[, bundle, method]) ] : route [ %r ] param placeholder not defined: `'+oa.url+'` !\n Check your route description to compare requirements against param variables [ '+H+']',O=O.replace(/%r/,r),r=Error(O),console.warn(r),O=r=H=null);return oa};P.getRouteByUrl=function(r,H,w,oa,Aa){2==arguments.length&&'undefined'!=typeof arguments[1]&&arguments[1]&&-1<P.allowedMethods.indexOf(arguments[1].toLowerCase())&&(w=arguments[1],H=void 0);var M=null,O=null,D=
null,A=null,m=null,z=null;if(/#/.test(r)&&1<r.length){var y=r.split(/#/);r=y[0];m='#'+y[1];y=null}1==arguments.length&&'undefined'!=typeof arguments[0]&&(/^(https|http)/i.test(r)||/^\//.test(r)||(r='/'+r),M='/'+r.split(/\//g)[1],B&&(A=gina.config.reverseRouting,D=gina.config.routing),'undefined'!=typeof A[M]&&(y=D[A[M]],H=y.bundle,M=y.webroot,z=y.hostname,y=null));Aa='boolean'!=typeof arguments[arguments.length-1]?!1:arguments[arguments.length-1];var G=!1,u=null,v=null,F=u=v=null;y='undefined'!=typeof w?
!0:!1;B?(u=window.gina.config,H='undefined'!=typeof H?H:u.bundle,v=u.env,D=D||u.getRouting(H),A=A||u.reverseRouting,isXMLRequest='undefined'!=typeof isXMLRequest?isXMLRequest:!1,z=z||u.hostname,M=M||u.webroot,oa={routing:{},method:w,params:{},url:r}):(u=getContext('gina').config,H='undefined'!=typeof H?H:u.bundle,v=u.env,D=u.getRouting(H),z=u.envConf[H][v].hostname,M=u.envConf[H][v].server.webroot,oa||={routing:{},isXMLRequest:!1,method:'undefined'!=typeof w?w.toLowerCase():'get',params:{},url:r},
Aa&&(oa.method=w),isXMLRequest=oa.isXMLRequest||!1);v=r.replace(new RegExp('^('+z+'|'+z.replace(/:\d+/,'')+')'),'');'undefined'==typeof oa.routing.path&&(oa.routing.path=decodeURI(v));w='undefined'!=typeof w?w.toLowerCase():'get';y&&(oa.originalMethod=oa.method,oa.method=w,oa.routing.path=decodeURI(v));oa.method||(oa.method=w);u={};M=new RegExp(w,'i');A=null;var J;for(J in D){if('undefined'==typeof D[J].param)break;if(D[J].bundle==H&&(A=D[J].method,/,/.test(A)&&M.test(A)&&(A=oa.method),'undefined'==
typeof D[J].method||M.test(A))){u={method:A,requirements:D[J].requirements,namespace:D[J].namespace||void 0,url:decodeURI(v),rule:D[J].originalRule||J,param:D[J].param,middleware:JSON.clone(D[J].middleware),bundle:D[J].bundle,isXMLRequest};try{if(F=P.compareUrls(u,D[J].url,oa),F.past){O=JSON.clone(D[J]);O.name=J;G=!0;F={};break}}catch(T){throw Error('Route [ '+J+' ] needs your attention.\n'+T.stack);}}}if(G)return/\/$/.test(r)&&'/'!=r&&(r=r.substr(0,r.length-1)),m&&(r+=m),O.url=r,O.toUrl=function(T){var ta=
this.webroot,Fa=this.hostname,W=this.url;this.url='undefined'!=typeof T&&1==T?W.replace(ta,'/'):W;return Fa+this.url},O;if(B){m=!1;if('#'==r&&/GET/i.test(w)&&y||/^404:/.test(r))r=location.pathname,m=!0;'undefined'==typeof P.notFound&&(P.notFound={});D=null;O='[ RoutingHelper::getRouteByUrl(rule[, bundle, method]) ] : route [ %r ] is called but not found inside your view: `'+r+'` !';if((D=(D=gina.hasPopinHandler&&gina.popinIsBinded?gina.popin.getActivePopin().target.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/):
document.body.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/))&&0<D.length?D[0]:null)&&y&&m)return m=D.match(/\[\w+\]/)[0],D=D.replace('404:'+m,m.replace(/\[|\]/g,'')+'::'),O=O.replace(/%r/,D.replace(/404:\s+/,'')),'undefined'==typeof P.notFound[D]?P.notFound[D]={count:1,message:O}:y&&'undefined'!=typeof P.notFound[D]&&++P.notFound[D].count,!1;if((m=gina.config.reverseRouting[r]||null)&&'undefined'!=typeof m&&m.split(/@(.+)$/)[1]==H)return D=m,'undefined'==typeof P.notFound[D]?(O=O.replace(/%r/,w.toUpperCase()+
'::'+m),P.notFound[D]={count:1,message:O}):y&&'undefined'!=typeof P.notFound[D]&&++P.notFound[D].count,!1;D=P.compareUrls(u,r,oa)||null;D.past&&y&&(D=w.toUpperCase()+'::'+D.request.routing.rule,'undefined'==typeof P.notFound[D]?O=O.replace(/%r/,D):++P.notFound[D].count);return!1}console.warn(Error('[ RoutingHelper::getRouteByUrl(rule[, bundle, method, request]) ] : route not found for url: `'+r+'` !').stack);return!1};return P}
'undefined'!==typeof module&&module.exports?module.exports=Routing():'function'===typeof define&&define.amd&&define('lib/routing',['require','lib/form-validator','lib/merge'],function(){return Routing()});
function StoragePlugin(B){function P(O){H=JSON.parse(S.getItem(this.bucket));'undefined'==typeof H[O]&&(H[O]=[],S.setItem(this.bucket,JSON.stringify(H)),H=JSON.parse(S.getItem(this.bucket)));r[O]={_collection:O,_bucket:this.bucket};r[O]=ma(r[O],Aa);return r[O]}function V(O){if('object'!==typeof O)throw Error('filter must be an object');var D=H[this._collection],A=O.count(),m=0,z=null;if(0==A)return null;for(var y in D)for(var G in O){var u='boolean'!=typeof O[G]?O[G].toLocaleLowerCase():O[G];O[G]&&
-1<w.indexOf(u)&&'not null'==u&&'undefined'!=typeof D[y][G]&&'object'!==typeof D[y][G]&&D[y][G]===O[G]&&'null'!=D[y][G]&&'undefined'!=D[y][G]?0>z.indexOf(D[y][G])&&(++m,m===A&&(z=D[y],z._index=y,z._collection=this._collection,z._bucket=this._bucket)):'undefined'!=typeof D[y][G]&&'object'!==typeof D[y][G]&&D[y][G]===O[G]&&(++m,m===A&&(z=D[y],z._index=y,z._collection=this._collection,z._bucket=this._bucket,z._filter=O))}z&&(z.save=M);return z}var ma=ma||require('lib/merge');P=P||require('lib/collection');
var U=U||require('vendor/uuid'),N=N||require('helpers/dateFormat'),ba={bucket:'default'},Q={},S=null,r={},H={},w=['not null'],oa={bucket:void 0,drop:function(){S.removeItem(ba.bucket);Q=null;for(var O in this)delete this[O];return Q},Collection:P},Aa={insert:function(O){O._id=U.v1();O._createdAt=(new Date).format('isoDateTime');O._updatedAt=(new Date).format('isoDateTime');H[this._collection][H[this._collection].length]=O;S.setItem(this._bucket,JSON.stringify(H))},find:function(O,D){if(!O)return H[this._collection];
if('object'!==typeof O)throw Error('filter must be an object');D=H[this._collection];O.count();var A=0,m=[],z;for(z in D)for(var y in O){var G='boolean'!=typeof O[y]?O[y].toLocaleLowerCase():O[y];O[y]&&-1<w.indexOf(G)&&'not null'==G&&'undefined'!=typeof D[z][y]&&'object'!==typeof D[z][y]&&'null'!=D[z][y]&&'undefined'!=D[z][y]?0>m.indexOf(D[z][y])&&(m[A]=D[z][y],++A):'undefined'!=typeof D[z][y]&&'object'!==typeof D[z][y]&&D[z][y]===O[y]&&(m[A]=D[z],++A)}return m},findOne:V,update:null,'delete':function(O){if('object'!==
typeof O)throw Error('filter must be an object');var D=JSON.clone(H[this._collection]),A=0,m=[],z;for(z in D)for(var y in O)O[y]&&-1<w.indexOf(O[y].toLocaleLowerCase())&&'not null'==O[y].toLowerCase()&&'undefined'!=typeof D[z][y]&&'object'!==typeof D[z][y]&&'null'!=D[z][y]&&'undefined'!=D[z][y]?0>m.indexOf(D[z][y])&&(m[A]=D[z][y],delete H[this._collection][z][y],++A):'undefined'!=typeof D[z][y]&&'object'!==typeof D[z][y]&&D[z][y]===O[y]&&(m[A]=D[z],H[this._collection].splice(z,1),++A);return 0<m.length?
(S.setItem(this._bucket,JSON.stringify(H)),!0):!1},drop:function(O){if('undefined'==typeof H[this._collection])throw Error('Collection `'+O+'` not found');delete r[this._collection];delete H[this._collection];S.setItem(this._bucket,JSON.stringify(H))}},M=function(O){O=O||!1;try{var D=JSON.clone(H),A=this._index,m=this._collection,z=this._bucket,y=this._filter;this._updatedAt=(new Date).format('isoDateTime');D[m][A]=ma(D[m][A],this,!0);delete D[m][A]._index;delete D[m][A]._collection;delete D[m][A]._bucket;
delete D[m][A].save;delete D[m][A]._filter;if(O&&'object'==typeof D[m][A]){var G=function(v,F){for(var J=0,T=v.length;J<T;++J)'object'!=typeof F[J]||'undefined'==typeof v[J]||Array.isArray(v[J])?Array.isArray(v[J])?G(v[J],F[J]):'undefined'==typeof v[J]&&delete F[J]:u(v[J],F[J]);return F},u=function(v,F){for(var J in F)'object'!=typeof F[J]||'undefined'==typeof v[J]||Array.isArray(v[J])?Array.isArray(v[J])?G(v[J],F[J]):'undefined'==typeof v[J]&&delete F[J]:u(v[J],F[J]);return F};Array.isArray(D[m][A])?
D[m][A]=G(this,D[m][A]):'object'==typeof D[m][A]?D[m][A]=u(this,D[m][A]):'undefined'==typeof this[prop]&&delete D[m][A]}H[m][A]=D[m][A];S.setItem(z,JSON.stringify(H));return V(y)}catch(v){throw v;}};(function(O){if(!window.localStorage||window.localStorage&&'undefined'==!typeof window.localStorage.setItem)throw Error('Make sure your browser supports `window.localStorage` to use Gina Storage. See: `https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Browser_compatibility`');if('object'!=
typeof O&&'undefined'!=typeof O)throw Error('`options` must be an object');'undefined'==typeof O&&(O={});ba=ma(O,ba);S=window.localStorage;O=ba.bucket;if(!S.getItem(O)&&void 0!=O)S.setItem(O,JSON.stringify(H));else if(void 0==O)throw Error('`bucket` name cannot be undefined');Q.bucket=O;Q=ma(Q,oa)})(B);return Q}
if('undefined'!==typeof module&&module.exports){var merge=require('lib/merge');Collection=require('lib/collection');var uuid=require('uuid');module.exports=StoragePlugin}else'function'===typeof define&&define.amd&&define('gina/storage',['helpers/dateFormat','helpers/prototypes'],function(){return StoragePlugin});function insertAfter(B,P){B.parentNode.insertBefore(P,B.nextSibling)}
function getElementsByAttribute(B){for(var P=[],V=0,ma=document.getElementsByTagName('*'),U=0,N=ma.length;U<N;++U)null!==ma[U].getAttribute(B)&&(P[V]=ma[U],++V);return P}
(function(B){var P=B.prototype,V=P.parseFromString;try{if((new B).parseFromString('','text/html'))return}catch(ma){}P.parseFromString=function(ma,U){if(/^\s*text\/html\s*(?:;|$)/i.test(U)){var N=document.implementation.createHTMLDocument('');-1<ma.toLowerCase().indexOf('<!doctype')?N.documentElement.innerHTML=ma:N.body.innerHTML=ma;return N}return V.apply(this,arguments)}})(DOMParser);define('utils/dom',function(){});
function fadeIn(B){var P=.1;B.style.display='block';var V=setInterval(function(){1<=P&&clearInterval(V);B.style.opacity=P;B.style.filter='alpha(opacity='+100*P+')';P+=.1*P},10)}function fadeOut(B){var P=1,V=setInterval(function(){.1>=P&&(clearInterval(V),B.style.display='none');B.style.opacity=P;B.style.filter='alpha(opacity='+100*P+')';P-=.1*P},50)}define('utils/effects',function(){});
function DataHelper(){encodeRFC5987ValueChars=function(V){return encodeURIComponent(V).replace(/['()]/g,escape).replace(/\*/g,'%2A').replace(/%(?:7C|60|5E)/g,unescape)};formatDataFromString=function(V){'object'==typeof V&&(V=JSON.stringify(V));try{V=decodeURIComponent(V)}catch(r){}/("false"|"true"|"on")/.test(V)&&(V=V.replace(/"false"/g,!1).replace(/"true"/g,!0).replace(/"on"/g,!0));/("null")/i.test(V)&&(V=V.replace(/"null"/ig,null));a:{var ma=V,U=V=null,N=null;if(/^(\{|\[|%7B|%5B)/.test(ma)){try{V=
(N=/^(\{|%7B)/.test(ma)?!1:!0)?[]:{};U=/^(%7B|%5B)/.test(ma)?JSON.parse(decodeURIComponent(ma)):JSON.parse(ma);if(Array.isArray(U)){N=0;for(var ba=U.length;N<ba;++N)V[N]=B(U[N],V);var Q=V}else Q=B(U,V);var S=Q;break a}catch(r){console.error('[365] could not parse body:\n'+ma)}S=void 0}else{V={};S=ma.split(/&/g);/("false"|"true"|"on")/.test(ma)&&ma.replace(/"false"/g,!1).replace(/"true"/g,!0).replace(/"on"/g,!0);ma={};ba=0;for(U=S.length;ba<U;++ba)if(S[ba])if(S[ba]=decodeURIComponent(S[ba]),/^\{/.test(S[ba])||
/=\{/.test(S[ba])||/=\[/.test(S[ba]))try{if(/^\{/.test(S[ba])){V=JSON.parse(S[ba]);break}else ma=S[ba].match(/=(.*)/),ma[0]=S[ba].split(/=/)[0],V[ma[0]]=JSON.parse(ma[1])}catch(r){console.error('[parseBody#1] could not parse body:\n'+S[ba])}else{ma=S[ba].split(/=/);if(/\{\}":/.test(ma[1]))try{ma[1]=JSON.parse(ma[1])}catch(r){console.error('[parseBody#2] could not parse body:\n'+ma[1])}'string'!=typeof ma[1]||/\[object /.test(ma[1])||(ma[0]=decodeURIComponent(ma[0]),ma[1]=decodeURIComponent(ma[1]),
/^(.*)\[(.*)\]/.test(ma[0])?(Q=ma[0].replace(/\]/g,'').split(/\[/g),V=P(V,Q,0,ma[1])):V[ma[0]]=ma[1])}S=V}}return S};var B=function(V,ma){var U=[];ma||={};for(let ba in V)if(U[0]=ba,U[1]=V[ba],/^(.*)\[(.*)\]/.test(U[0])){var N=U[0].replace(/\]/g,'').split(/\[/g);ma=P(ma,N,0,U[1])}else ma[U[0]]=U[1];return ma},P=function(V,ma,U,N){for(let ba=0,Q=ma.length;ba<Q;ba++){let S=ma[U];if(ba==U){if('undefined'==typeof V[ma[U]]||'string'==typeof V[ma[U]])Array.isArray(V)?(S=~~ma[U],V[S]=/^\d+$/.test(ma[U+1])?
[]:{}):V[ma[U]]=/^\d+$/.test(ma[U+1])?[]:{};if(U==ma.length-1){N='undefined'!=typeof N?N:'';Array.isArray(V[ma[U]])?V[ma[U]].push(N):V[ma[U]]=N;break}else/^\d+$/.test(ma[U])&&!Array.isArray(V)&&(V=[]),'undefined'==typeof V[S]&&(V[S]=null),P(V[S],ma,U+1,N)}}return V}}'undefined'!==typeof module&&module.exports?module.exports=DataHelper:'function'===typeof define&&define.amd&&define('utils/data',[],function(){return DataHelper()});
function ValidatorPlugin(B,P,V){this.plugin='validator';var ma='init ready registered success error progress submit reset change changed keydown keyup focusout focusin validate validated destroy asyncCompleted'.split(' '),U='undefined'!==typeof module&&module.exports?!1:!0,N=null;if(U)require('utils/events'),registerEvents(this.plugin,ma),require('utils/dom'),require('utils/effects'),require('utils/data'),N=gina.config.envIsDev;else{if(N=/^true$/i.test(process.env.NODE_ENV_IS_DEV)?!0:!1)delete require.cache[require.resolve('./form-validator')],
delete require.cache[require.resolve('../../../../../helpers/data')];require('../../../../../helpers/data')}var ba=U?require('vendor/uuid'):require('uuid'),Q=U?require('lib/merge'):require('../../../../../lib/merge'),S=U?require('lib/inherits'):require('../../../../../lib/inherits'),r=U?require('lib/form-validator'):require('./form-validator'),H=U?require('lib/routing'):require('../../../../../lib/routing'),w={id:'validator-'+ba.v4(),plugin:this.plugin,on:U?on:null,eventData:{},target:U?document:
null,errors:{},initialized:!1,isReady:!1,rules:{},$forms:{},getFormById:null,validateFormById:null,setOptions:null,resetErrorsDisplay:null,resetFields:null},oa={id:null,plugin:this.plugin,on:U?on:null,eventData:{},target:U?document:null,cachedErrors:{},binded:!1,unbinded:!1,withUserBindings:!1,rules:{},setOptions:null,send:null,isValidating:null,isSubmitting:null,submit:null,destroy:null,resetErrorsDisplay:null,resetFields:null},Aa={},M={},O=null,D={url:'',method:'GET',isSynchrone:!1,withCredentials:!1,
headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}},A=function(l,g,h){h='undefined'!=typeof h?{id:h}:null;var b={},x;for(x in g)b[x]=g[x];if('undefined'!=typeof l&&0<l.count()){try{La(l,''),Da(l)}catch(q){throw q;}return za(h,b,null,w.rules)}return new r(b)},m=function(l){D=l=Q(l,D)},z=function(l){var g=null;if(!w.$forms)throw Error('`$forms` collection not found');if('undefined'==typeof l)throw Error('[ FormValidator::getFormById(formId) ] `formId` is missing');
l=l.replace(/#/,'');if(null!=document.getElementById(l)&&'undefined'==typeof w.$forms[l]){var h=document.getElementById(l),b,x=typeof(0<Aa.count())?Aa:w.rules;h.getAttribute?(id=h.getAttribute('id')||'form.'+ba.v4(),id!==h.getAttribute('id')&&h.setAttribute('id',id)):(id='form.'+ba.v4(),h.setAttribute('id',id));h.id=oa.id=id;if('undefined'!=typeof h.id&&'null'!=h.id&&''!=h.id){oa.target=h;w.$forms[h.id]=Q({},oa);if(b=h.getAttribute('data-gina-form-rule')){b=b.replace(/\-|\//g,'.');if('undefined'==
typeof x[b])throw Error('['+h.id+'] no rule found with key: `null`');b=x[b]}'string'==typeof h.id&&'undefined'!=typeof x[h.id.replace(/\-/g,'.')]?$target=w.$forms[h.id].target:'object'==typeof h.id?(delete w.$forms[h.id],x=h.attributes.getNamedItem('id').nodeValue||'form.'+ba.v4(),h.setAttribute('id',x),h.id=x,oa.target=h,w.$forms[x]=Q({},oa),$target=w.$forms[x].target):$target=w.$forms[h.id].target;b?xb($target,b):xb($target)}}'undefined'!=typeof w.$forms[l]&&(w.$forms[l].withUserBindings=!0,g='undefined'!=
typeof this.$forms&&'undefined'==typeof this.$forms[l]?this.$forms[l]=w.$forms[l]:w.$forms[l]);if(!g)throw Error('Validator::getFormById(...) exception: could not retrieve form `'+l+'`');g.binded||(xb(g.target),g=w.$forms[l]);N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),h={id:l,rules:w.$forms[l].rules},'undefined'!=typeof w.$forms[l].errors&&(h.errors=w.$forms[l].errors),window.ginaToolbar.update('forms',h));return g},y=function(){var l=
!1,g=null;gina.hasPopinHandler&&gina.popinIsBinded&&(g=gina.popin.getActivePopin());g&&g.isOpen&&(l=!0);return l},G=function(l,g){var h=typeof(0<Aa.count())?Aa:w.rules;if(!w.$forms)throw Error('`$forms` collection not found');if('undefined'!=typeof l&&'undefined'!=typeof w.$forms[l])return w.$forms[l];if('undefined'==typeof l)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)l=this.id;else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `formId` is missing');if('string'==
typeof l)l=l.replace(/#/,'');else{if('object'!=typeof l||Array.isArray(l))throw Error('[ FormValidator::validateFormById(formId[, customRule]) ] `formId` should be a `string`');var b=l.form;l=b.getAttribute('id')||'form.'+ba.v4();b.setAttribute('id',l)}var x=document.getElementsByTagName('form');for(var q={},p=0,R=x.length;p<R;++p)b=x[p].getAttribute('id')||null,'undefined'==typeof q[b]?q[b]=!0:'undefined'==typeof w.$forms[b]||w.$forms[b].warned||(gina.popinIsBinded?console.warn('Popin/Validator::bindForm($target, customRule): `'+
b+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.\n Check inside your popin content'):console.warn('Validator::bindForm($target, customRule): `'+b+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.'),w.$forms[b].warned=!0);if('undefined'!=typeof this.$forms&&'undefined'!=typeof w.$forms[l])x=this.$forms[l]=w.$forms[l];else{b=document.getElementById(l);oa.id=l;oa.target=b;x=this.$forms[l]=w.$forms[l]=Q({},oa);if('undefined'==
typeof g)if(q=l.replace(/\-/g,'.'),'undefined'!=typeof h)x.rule=Ea(q);else{if('undefined'!=typeof x.target&&null!==x.target&&x.target.getAttribute('data-gina-form-rule'))if(q=x.target.getAttribute('data-gina-form-rule').replace(/\-|\//g,'.'),'undefined'!=typeof h)x.rule=Ea(q);else throw Error('[ FormValidator::validateFormById(formId) ] using `data-gina-form-rule` on form `'+x.target+'`: no matching rule found');}else if(q=g.replace(/\-|\//g,'.'),'undefined'!=typeof h)x.rule=Ea(q);else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+
g+'` is not a valid rule');b&&'undefined'!=typeof this.isPopinContext&&/true/i.test(this.isPopinContext)&&(b.isPopinContext=this.isPopinContext);b&&!x.binded&&xb(b,q)}if(!x)throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+l+'` not found');return x||null},u=function(l){var g=l.form.getAttribute('id');if(!/^true$/i.test(w.$forms[g].isValidating)){var h=l.parentNode;l=!1;g=h.getElementsByTagName('div');/form\-item\-warning/.test(h.className)?h.className=h.className.replace(/form\-item\-warning/,
'form-item-error'):/form\-item\-error/.test(h.className)&&(h.className=h.className.replace(/form\-item\-error/,'form-item-warning'),l=!0);h=0;for(var b=g.length;h<b;++h)if(/form\-item\-error\-message/.test(g[h].className)){g[h].className=l?g[h].className+' hidden':g[h].className.replace(/(\s+hidden|hidden)/,'');break}}},v={},F=function(l,g,h,b){if(N)var x=null;var q=!1;if('undefined'!=typeof l.dataset.ginaFormIsResetting&&/^(true)$/i.test(l.dataset.ginaFormIsResetting))g={},v={},l.dataset.ginaFormIsResetting=
!1;else if(/^(true)$/i.test(l.dataset.ginaFormLiveCheckEnabled)&&'undefined'!=typeof b){var p='string'!=typeof l.id?l.getAttribute('id'):l.id;'undefined'==typeof v[p]&&(v[p]={});if(0<g.count()){if(v[p][b]={},v[p][b]=Q(g[b],v[p][b]),0==v[p][b].count()&&delete v[p][b],g=v[p],!w.$forms[p].sent||w.$forms[p].isValidating)q=!0}else'undefined'!=typeof v[p][b]&&(delete v[p][b],'undefined'!=typeof window.gina.validator.$forms[p].errors&&'undefined'!=typeof window.gina.validator.$forms[p].errors[b]&&delete window.gina.validator.$forms[p].errors[b]),
('undefined'!=typeof w.$forms&&'undefined'!=typeof w.$forms[p]&&'undefined'!=typeof w.$forms[p].errors&&0==w.$forms[p].errors.count()||'undefined'!=typeof w.$forms&&'undefined'!=typeof w.$forms[p]&&!w.$forms[p].errors)&&Ka(l,!0),'undefined'!=typeof v[p]&&0==v[p].count()?delete v[p]:g=v[p]}var R=null;p=l.getAttribute('id');h='undefined'!=typeof h?h:{};for(var K=0,fa=l.length;K<fa;++K){var Ba=l[K];if('undefined'==typeof b||b==Ba.name){if(/form\-item\-wrapper$/.test(Ba.parentNode.className)){var ea=
Ba.parentNode.parentNode;var da=Ba.parentNode}else ea=Ba.parentNode,da=Ba;var E=Ba.getAttribute('name');var na=Ba.getAttribute('data-gina-form-errors');if(E){if('undefined'!=typeof g[E]&&!/(form\-item\-error|form\-item\-warning)/.test(ea.className)){ea.className=q?ea.className+(''==ea.className?'form-item-warning':' form-item-warning'):ea.className+(''==ea.className?'form-item-error':' form-item-error');R=document.createElement('div');R.className=q?'form-item-error-message hidden':'form-item-error-message';
for(var ra in g[E])'stack'!=ra&&(ea=document.createElement('p'),ea.appendChild(document.createTextNode(g[E][ra])),R.appendChild(ea)),N&&(x||={},x[E]||(x[E]={}),x[E][ra]=g[E][ra]);'hidden'!=da.type&&insertAfter(da,R)}else if('undefined'==typeof g[E]&&/(form\-item\-error|form\-item\-warning)/.test(ea.className)||'undefined'!=typeof g[E]&&0==g[E].count()&&/(form\-item\-error|form\-item\-warning)/.test(ea.className)){E=ea.getElementsByTagName('div');da=0;for(na=E.length;da<na;++da)if(/form\-item\-error\-message/.test(E[da].className)){E[da].parentElement.removeChild(E[da]);
break}ea.className=ea.className.replace(/(\s+form\-item\-error|form\-item\-error|\s+form\-item\-warning|form\-item\-warning)/,'')}else if('undefined'!=typeof g[E]&&na){ea=ea.getElementsByTagName('div');na=0;for(var ia=ea.length;na<ia;++na)if('form-item-error-message'==ea[na].className){ea[na].parentElement.removeChild(ea[na]);R=document.createElement('div');R.setAttribute('class','form-item-error-message');for(ra in g[E])ea=document.createElement('p'),ea.appendChild(document.createTextNode(g[E][ra])),
R.appendChild(ea),N&&(x||={},x[E]||(x[E]={}),x[E][ra]=g[E][ra]);break}R&&'hidden'!=da.type&&insertAfter(da,R)}if('undefined'!=typeof b&&b===Ba.name)break}}}x?(triggerEvent(gina,l,'error.'+p,g),N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),l={id:p,errors:x},window.ginaToolbar.update('forms',l))):N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),l={id:p,errors:{}},U&&window.ginaToolbar.update('forms',
l));if(gina&&U&&N&&w.$forms[p].isSubmitting&&/^true$/i.test(w.$forms[p].isSubmitting)&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&h)try{window.ginaToolbar.update('data-xhr',h)}catch(Z){throw Z;}},J=function(l){var g=null;'undefined'==typeof l&&'undefined'!=typeof this.id&&(l=this.id);/^string$/i.test(typeof l)?(g=l.replace(/#/,''),g=document.getElementById(g)):l instanceof HTMLFormElement?g=l:/^object$/i.test(typeof l)&&(g=l.target);if(!g)throw Error('[ FormValidator::resetErrorsDisplay([ formId | <form> ]) ] `'+
l+'` not found');g.dataset.ginaFormIsResetting=!0;F(g,{});return g},T=function(l){if('undefined'==typeof l){var g='undefined'!=typeof this.target?this.target.getAttribute('id'):this.getAttribute('id');l=w.$forms[g]}else if('string'==typeof l){g=l.replace(/#/,'');if('undefined'==typeof w.$forms[g])throw Error('[ FormValidator::resetErrorsDisplay([formId]) ] `'+l+'` not found');l=w.$forms[g]}if(l.fieldsSet){var h;for(h in l.fieldsSet){g=document.getElementById(h);var b=g.tagName.toLowerCase();var x=
g.tagName;/textarea/i.test(x)?(x=l.fieldsSet[h].defaultValue,g.value=x,triggerEvent(gina,g,'change')):'input'==b?(x=l.fieldsSet[h].defaultValue,/$(on|true|false)$/i.test(x)&&(x=/$(on|true)$/i.test(x)?!0:!1),/^(checkbox|radio)$/i.test(g.type)?g.checked=l.fieldsSet[h].defaultChecked:/^(checkbox|radio)$/i.test(g.type)||(g.value=x),triggerEvent(gina,g,'change')):'select'==b&&(x=l.fieldsSet[h].selectedIndex||0,g.selectedIndex=x,g.dataset.value=g.options[g.selectedIndex].value,triggerEvent(gina,g,'change'))}}return l},
ta=function(){var l=null,g=null;'undefined'!=typeof this.getAttribute?(l=this.getAttribute('id'),g=this):'undefined'!=typeof this.target&&null!=this.target&&'undefined'!=typeof this.target.getAttribute&&(l=this.target.getAttribute('id'),g=this.target);if('undefined'==typeof w.$forms[l])throw Error('[ FormValidator::submit() ] not `$form` binded. Use `FormValidator::getFormById(id)` or `FormValidator::validateFormById(id)` first ');triggerEvent(gina,g,'submit');return this},Fa=function(l,g){var h=
this.target,b=h.getAttribute('id'),x=w.$forms[b]||this,q=null,p=null,R=null,K=null;if(!('undefined'!=typeof x.isSending&&/^true$/i.test(x.isSending)||'undefined'!=typeof x.sent&&/^true$/i.test(x.sent))){w.$forms[b].isSending=!0;g='undefined'!=typeof g?Q(g,D):D;'undefined'!=typeof x.id&&(g.headers['X-Gina-Form-Id']=x.id,'undefined'!=typeof gina.forms.rules&&0<x.rules.count()&&'undefined'!=typeof x.rules[x.id]&&(g.headers['X-Gina-Form-Rule']=x.id+'@'+gina.config.bundle));'undefined'!=typeof x.target.dataset.ginaFormRule&&
(g.headers['X-Gina-Form-Rule']=x.target.dataset.ginaFormRule+'@'+gina.config.bundle);y()&&($activePopin=gina.popin.getActivePopin(),$activePopin.isOpen&&('undefined'!=typeof $activePopin.id&&(g.headers['X-Gina-Popin-Id']=$activePopin.id),'undefined'!=typeof $activePopin.name&&(g.headers['X-Gina-Popin-Name']=$activePopin.name)));(K=h.getAttribute('data-gina-form-event-on-submit-success')||h.getAttribute('data-gina-form-event-on-submit-error')?!0:!1)&&xa(x);var fa=h.getAttribute('action')||g.url,Ba=
h.getAttribute('method')||g.method;Ba=Ba.toUpperCase();g.method=Ba;g.url=fa;O||=setupXhr(g);fa=h.getAttribute('enctype')||g.headers['Content-Type'];if(g.withCredentials){if('withCredentials'in O)g.isSynchrone?O.open(g.method,g.url,g.isSynchrone):O.open(g.method,g.url);else if('undefined'!=typeof XDomainRequest)O=new XDomainRequest,O.open(g.method,g.url);else{O=null;q='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,h,'error.'+b,q);
return}O.responseType='undefined'!=typeof g.responseType?g.responseType:'';O.withCredentials=!0}else g.isSynchrone?O.open(g.method,g.url,g.isSynchrone):O.open(g.method,g.url);for(var ea in g.headers)'Content-Type'==ea&&'undefined'!=typeof fa&&null!=fa&&''!=fa||O.setRequestHeader(ea,g.headers[ea]);if(O){O.onreadystatechange=function(Z){x.isSubmitting=!1;x.isSending=!1;setTimeout(function(){x.sent=!1},1E3);Z=/Google Inc/i.test(navigator.vendor)?50:0;2==O.readyState&&(R=/^attachment;/.test(O.getResponseHeader('Content-Disposition'))?
!0:!1,!O.responseType&&R&&(O.responseType='blob'));if(4==O.readyState){var Ga=null,Pa=null,$a=O.getResponseHeader('Content-Type');if(/^2/.test(O.status)){try{if(/blob/.test(O.responseType)||R){if('undefined'==typeof $a||null==$a)$a='application/octet-stream';Pa=new Blob([this.response],{type:$a});var ib=document.createElement('a');ib.style='display: none';document.body.appendChild(ib);var Cb=window.URL.createObjectURL(Pa);ib.href=Cb;var zb=O.getResponseHeader('Content-Disposition');ib.download=zb.match('=(.*)')[0].substr(1);
ib.click();window.URL.revokeObjectURL(Cb);q={status:O.status,statusText:O.statusText,responseType:Pa.type,type:Pa.type,size:Pa.size}}else q=O.responseText;/\/json/.test($a)&&(q=JSON.parse(O.responseText),'undefined'==typeof q.status&&(q.status=O.status));if(/\/html/.test($a)&&(q={contentType:$a,content:O.responseText},'undefined'==typeof q.status&&(q.status=O.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler&&(Ga=gina.popin.getActivePopin()))){p={};try{p=(new DOMParser).parseFromString(q.content,
'text/html').getElementById('gina-without-layout-xhr-data'),p=JSON.parse(decodeURIComponent(p.value)),XHRView=(new DOMParser).parseFromString(q.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&N&&typeof window.ginaToolbar&&'undefined'!=typeof p&&window.ginaToolbar.update('data-xhr',p),gina&&N&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(X){throw X;}Ga.loadContent(q.content);
q=p;triggerEvent(gina,h,'success.'+b,q);return}p=x.eventData.success=q;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&p)try{N&&'undefined'!=typeof p&&!/\/html|\/json/.test($a)&&window.ginaToolbar.update('data-xhr',p)}catch(X){throw X;}/^gina\-upload/i.test(b)&&W(gina,h,'success',b,q);var qb=!1;'undefined'!=typeof q.isXhrRedirect&&/^true$/i.test(q.isXhrRedirect)&&(qb=!0);if('undefined'!=typeof gina.popin&&gina.hasPopinHandler&&'undefined'!=typeof q.popin||'undefined'!=typeof gina.popin&&
gina.hasPopinHandler&&'undefined'!=typeof q.location&&qb){Ga=gina.popin.getActivePopin();if(!Ga&&'undefined'!=typeof q.popin){if('undefined'!=typeof q.popin&&'undefined'==typeof q.popin.name)throw Error('To get a `$popin` instance, you need at list a `popin.name`.');Ga=gina.popin.getPopinByName(q.popin.name);if(!Ga)throw Error('Popin with name: `'+q.popin.name+'` not found.');}if('undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.close){Ga.isRedirecting=!1;Ga.close();var Mb=q.popin.reload?q.popin.reload:
!1;q.popin.location||q.popin.url||(delete q.popin,Mb&&(q.popin={reload:Mb}))}if('undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.location||'undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.url||'undefined'!=typeof q.location&&qb){qb=null;Ga&&(qb=Ga.name,Ga.isRedirecting=!0);'undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.target&&(q.popin.target='_'+q.popin.target);var Ya=q.location||q.popin.location||q.popin.url;if('undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.name&&
qb!=q.popin.name){Ga&&Ga.isOpen&&Ga.close();qb=q.popin.name;Ga=gina.popin.getPopinByName(qb);if(!Ga)throw Error('Popin with name `'+qb+'` not found !');console.debug('Validator::Popin now redirecting [1-c]');Ga.load(Ga.name,Ya,Ga.options)}else Ga&&(console.debug('Validator::Popin now redirecting [1-d]'),Ga&&Ga.isOpen&&Ga.close(),Ga.load(Ga.name,Ya,Ga.options));if(Ga&&!Ga.isOpen)return setTimeout(function(X){X.isOpen||X.open()},50,Ga)}}triggerEvent(gina,h,'success.'+b,q);K&&triggerEvent(gina,h,'success.'+
b+'.hform',q)}catch(X){q={status:422,error:X.message,stack:X.stack};p=x.eventData.error=q;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&p)try{N&&'undefined'!=typeof p&&window.ginaToolbar.update('data-xhr',p)}catch(ja){throw ja;}/^gina\-upload/i.test(b)&&W(gina,h,'error',b,q);triggerEvent(gina,h,'error.'+b,q);K&&triggerEvent(gina,h,'error.'+b+'.hform',q)}if('undefined'!=typeof q&&'undefined'!=typeof q.location)return window.location.hash='',q.location=/^http/.test(q.location)||
/^\//.test(q.location)?q.location:location.protocol+'//'+q.location,setTimeout(()=>{window.location.href=q.location},Z)}else if(0!=O.status)if(q={status:O.status},/blob/.test(O.responseType)){Pa=new Blob([this.response],{type:'text/plain'});var cb=new FileReader,ca='';cb.addEventListener('loadend',X=>{/string/i.test(typeof X.srcElement.result)?ca+=X.srcElement.result:'object'==typeof X.srcElement.result?q=Q(q,X.srcElement.result):q.message+=X.srcElement.result;if(/2/.test(cb.readyState)){if(/^(\{|\[)/.test(ca))try{q=
Q(q,JSON.parse(ca))}catch(ja){q=Q(q,ja)}q.message||delete q.message;p=x.eventData.error=q;if(gina&&N&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&p)try{window.ginaToolbar.update('data-xhr',p)}catch(ja){throw ja;}/^gina\-upload/i.test(b)&&W(gina,h,'error',b,q);triggerEvent(gina,h,'error.'+b,q);K&&triggerEvent(gina,h,'error.'+b+'.hform',q)}});cb.readAsText(Pa)}else{if(/^(\{|\[)/.test(O.responseText))try{q=Q(JSON.parse(O.responseText),q)}catch(X){q=Q(X,q)}else'object'==typeof O.responseText?
q=Q(O.responseText,q):q.message=O.responseText;if('undefined'!=typeof q&&'undefined'!=typeof q.error&&q.fields&&'object'==typeof q.fields){Ya='undefined'!=typeof q.message?q.message:null;Z={};for(qb in q.fields)Ga={},Ga[qb]={},Ga[qb].isApiError=q.fields[qb],Ya&&!Ga[qb].isApiError&&(Ga[qb].isApiError=q.error),Z[qb]=Ga[qb],F(x.target,Ga,l,qb);q.fields=Z}p=x.eventData.error=q;if(gina&&N&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&p)try{window.ginaToolbar.update('data-xhr',p)}catch(X){throw X;
}/^gina\-upload/i.test(b)&&W(gina,h,'error',b,q);triggerEvent(gina,h,'error.'+b,q);K&&triggerEvent(gina,h,'error.'+b+'.hform',q)}}};O.onprogress=function(Z){var Ga='0';Z.lengthComputable&&(Ga=Z.loaded/Z.total,Ga=parseInt(100*Ga));Z={status:100,progress:Ga};x.eventData.onprogress=Z;triggerEvent(gina,h,'progress.'+b,Z)};O.ontimeout=function(Z){q={status:408,error:'Request Timeout'};x.eventData.ontimeout=q;/^gina\-upload/i.test(b)&&W(gina,h,'error',b,q);triggerEvent(gina,h,'error.'+b,q);K&&triggerEvent(gina,
h,'error.'+b+'.hform',q)};l||(l=event.detail.data);if(l){g=!1;if('object'==typeof l){ea=[];Ba=0;var da={};try{if(l instanceof FormData){var E=event.currentTarget.getAttribute('data-gina-form-upload-group')||'untagged',na,ra;for([na,ra]of l.entries())ra instanceof File?(g||=!0,ea[Ba]={key:na,group:E,file:ra,bin:''},++Ba):da[na]=ra}else l=JSON.stringify(l);if(g&&0<ea.length){var ia='--ginaWKBoundary'+ba.v4().replace(/\-/g,'');return ha(ea,ia,'',0,function(Z,Ga,Pa){if(Z)/^gina\-upload/i.test(b)&&W(gina,
h,'error',b,Z),triggerEvent(gina,h,'error.'+b,Z),K&&triggerEvent(gina,h,'error.'+b+'.hform',Z);else return Pa&&(O.setRequestHeader('Content-Type','multipart/form-data; boundary='+ia),O.send(Ga),x.sent=!0,N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),window.ginaToolbar.update('forms',{id:b,sent:Ga}))),!1})}'undefined'!=typeof da&&0<da.count()&&(l=JSON.stringify(da))}catch(Z){/^gina\-upload/i.test(b)&&W(gina,h,'error',b,Z),triggerEvent(gina,
h,'error.'+b,Z),K&&triggerEvent(gina,h,'error.'+b+'.hform',Z)}}g||('undefined'!=typeof fa&&null!=fa&&''!=fa&&O.setRequestHeader('Content-Type',fa),O.send(l))}else'undefined'!=typeof fa&&null!=fa&&''!=fa&&O.setRequestHeader('Content-Type',fa),O.send();x.sent=!0;N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),E={id:b,sent:'string'==typeof l?JSON.parse(l):l},window.ginaToolbar.update('forms',E))}}},W=function(l,g,h,b,x){l=g.uploadProperties||null;
if(!l)throw Error('No uploadProperties found !!');g=document.getElementById(l.uploadTriggerId);b=null;var q=x.files||[],p=null;l.hasPreviewContainer&&(b=document.getElementById(l.previewContainer.id))&&(b.innerHTML='');l.errorField&&(p=document.getElementById(l.errorField));p&&(p.style.display='none');if(p&&'success'!=h){var R=x.message||x.error;p.innerHTML='<p>'+R+'</p>';fadeIn(p)}else if(p||'success'==h)for(h=0,x=q.length;h<x;++h){var K=b.id.replace(/\-preview/,'-'+h+'-reset-trigger');R=!1;p=document.getElementById(K);
var fa=['reset','js-upload-reset'];p?(/a/i.test(p.tagName)&&(p.href='#'),p.innerHTML&&''!=p.innerHTML||(p.innerHTML=g.getAttribute('data-gina-form-upload-reset-label')||'Reset'),'undefined'==typeof p.className&&(p.className=''),K=Q(p.className.split(/\s+/g),fa),p.className=K.join(' ')):(R=!0,p=document.createElement('A'),p.href='#',p.innerHTML=g.getAttribute('data-gina-form-upload-reset-label')||'Reset',p.className=fa.join(' '),p.id=K);p.style.display='none';if('undefined'==typeof q[h].preview&&l.hasPreviewContainer&&
/^image/.test(q[h].mime)&&''!=q[h].location){K=document.createElement('IMG');K.src=q[h].tmpUri;K.style.display='none';K.setAttribute('data-upload-original-filename',q[h].originalFilename);K.setAttribute('data-upload-reset-link-id',p.id);fa=b.getAttribute('data-preview-max-width')||null;if(K.width&&fa&&K.width>fa){var Ba=K.width/fa;K.width=fa;K.height/=Ba}else!K.width&&fa&&(K.width=fa);/ul/i.test(l.previewContainer.tagName)?(fa=document.createElement('LI'),fa.className='item',fa.appendChild(K),b.appendChild(fa)):
b.appendChild(K);fadeIn(K)}K=l.uploadFields[h];for(var ea in K)if('name'==ea&&''!=K[ea].value||!q[h][ea]||'preview'==ea&&'undefined'==typeof q[h][ea]||/(height|width)/i.test(ea)&&!/^image/.test(q[h].mime))/(preview|height|width)/i.test(ea)&&(fa=document.getElementById(K[ea].id))&&fa.parentNode.removeChild(fa);else if(K[ea].value=q[h][ea],'preview'==ea)for(var da in q[h][ea])if('undefined'!=typeof q[h][ea][da]&&'undefined'!=typeof K[ea][da]&&(K[ea][da].value=q[h][ea][da]),'tmpUri'==da&&l.hasPreviewContainer){Ba=
document.createElement('IMG');Ba.src=q[h][ea].tmpUri;Ba.style.display='none';Ba.setAttribute('data-upload-original-filename',q[h].originalFilename);Ba.setAttribute('data-upload-preview-original-filename',q[h][ea].originalFilename);Ba.setAttribute('data-upload-reset-link-id',p.id);if(fa=b.getAttribute('data-preview-max-width')||null)Ba.width=fa;/ul/i.test(l.previewContainer.tagName)?(fa=document.createElement('LI'),fa.className='item',fa.appendChild(Ba),b.appendChild(fa)):b.appendChild(Ba);fadeIn(Ba)}l.hasPreviewContainer&&
(/ul/i.test(l.previewContainer.tagName)?(fa=document.createElement('LI'),fa.className='item',R&&fa.appendChild(p),b.appendChild(fa)):R&&b.appendChild(p));Ub('reset',g,h);fadeIn(p)}else throw Error(R);},ka=function(l,g){console.debug(g+' input files');var h=/reset/i.test(g)?!0:!1,b=null,x=null,q=document.getElementById(l.id+'-preview').childNodes,p=null,R=l.customFiles,K=[];for(let fa=0,Ba=q.length;fa<Ba;fa++)if(/img/i.test(q[fa].tagName)){h?(b=q[fa].getAttribute('data-upload-original-filename'),K.push(b),
(x=q[fa].getAttribute('data-upload-preview-original-filename'))&&K.push(x)):(b=q[fa].src.substr(q[fa].src.lastIndexOf('/')+1),K.push(b));for(let ea=0,da=R.length;ea<da;ea++)if(R[ea].name==b){p=h?document.getElementById(q[fa].getAttribute('data-upload-'+g+'-link-id')):document.getElementById(R[ea].deleteLinkId);p.style.display='none';q[fa].style.display='none';R.splice(ea,1);l.customFiles=R;h&&(l.value=R.join(', C:\\fakepath\\'));b=new RegExp('^'+(l.name+'['+ea+']').replace(/\-|\[|\]|\./g,'\\$&'));
for(let na=0,ra=l.form.length;na<ra;na++)if(x=l.form[na].dataset.ginaFormUploadIsLocked||!1,b.test(l.form[na].name)&&!/true/i.test(x)&&(l.form[na].remove(),ra--,na--,gina&&N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar))try{window.ginaToolbar.update('data-xhr',{files:R})}catch(ia){throw ia;}x=l.getAttribute('data-gina-form-upload-'+g+'-action');if(!x||'undefined'==typeof x||''==x||/404/.test(x))throw Error('input file `'+l.id+'` error: `data-gina-form-upload-'+g+'-action` is required. You need to provide a valide url.');
(b=l.getAttribute('data-gina-form-upload-'+g+'-method'))&&'undefined'!=typeof b&&''!=b?b=b.toUpperCase():h?b='POST':(b=1<K.length?'POST':'DELETE',console.warn('`data-gina-form-upload-'+g+'-method` was not defined. Switching to `'+b+'` by default.'));let E=l.getAttribute('data-gina-form-upload-'+g+'-is-synchrone');if(/null/i.test(E)||'undefined'==typeof b||''==b)E=!0;x=setupXhr({url:x,method:b,isSynchrone:E,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}});
/GET|DELETE/i.test(b)?x.send():x.send(JSON.stringify({files:K}));if(/none/i.test(window.getComputedStyle(l).display)){if(/none/i.test(l.parentElement.style.display)){l.parentElement.style.display='block';return}l.style.display='block'}removeListener(gina,$uploadResetTrigger,'click',function(){p.remove();q[fa].remove()});Ba--;fa--;break}}},ha=function(l,g,h,b,x){var q=new FileReader;q.addEventListener('load',function(p){p.preventDefault();try{var R=this.result,K=void 0;p='';var fa=null;'undefined'==
typeof K&&(K=8);var Ba=K/8;switch(K){case 8:fa=new Uint8Array(R);break;case 16:fa=new Uint16Array(R);break;case 32:fa=new Uint32Array(R);break;default:fa=new Uint8Array(R)}var ea=fa.length,da=Math.pow(2,8)+Ba;R=0;for(Ba=K=null;R<ea;R+=da)K=Math.min(da,ea-R),Ba=fa.subarray(R,R+K),p+=String.fromCharCode.apply(null,Ba);l[this.index].bin+=p;l[this.index].file.type||(l[this.index].file.type='application/octet-stream')}catch(E){return x(E,null,!0)}h+='--'+g+'\r\n';h+='Content-Disposition: form-data; name="'+
l[this.index].key+'"; group="'+l[this.index].group+'"; filename="'+l[this.index].file.name+'"\r\nContent-Type: '+l[this.index].file.type+'\r\nContent-Length: '+l[this.index].bin.length+'\r\n\r\n';h+=l[this.index].bin+'\r\n';++this.index;this.index==l.length?(h+='--'+g+'--',x(!1,h,!0)):ha(l,g,h,this.index,x)},!1);q.index=b;l[b].bin='';q.readAsArrayBuffer(l[b].file)},xa=function(l){var g=l.target.getAttribute('data-gina-form-event-on-submit-success')||null;if(null!=g)if(/\((.*)\)/.test(g))eval(g);else l.on('success.hform',
window[g]);g=l.target.getAttribute('data-gina-form-event-on-submit-error')||null;if(null!=g)if(/\((.*)\)/.test(g))eval(g);else l.on('error.hform',window[g])},la=function(l){var g=null,h=l;if(!w.$forms)throw Error('`$forms` collection not found');if('undefined'==typeof h)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)h=this.id;else throw Error('[ FormValidator::destroy(formId) ] `formId` is missing');if('string'==typeof h)h=h.replace(/#/,'');else{if('object'!=typeof h||Array.isArray(h))throw Error('[ FormValidator::destroy(formId) ] `formId` should be a `string`');
l=h.form;h=l.getAttribute('id')||'form.'+ba.v4();l.setAttribute('id',h)}'undefined'!=typeof w.$forms[h]?g=w.$forms[h]:'undefined'!=typeof this.binded&&(g=this);if(g)addListener(gina,g.target,'destroy.'+h,function(b){cancelEvent(b);delete w.$forms[h];removeListener(gina,b.currentTarget,b.type);removeListener(gina,b.currentTarget,'destroy')}),g=Db(g),triggerEvent(gina,g.target,'destroy.'+h);else throw Error('[ FormValidator::destroy(formId) ] `'+h+'` not found');},ua=function(l){l='undefined'!=typeof l?
l:w.rules;for(let b in l){var g=Object.getOwnPropertyNames(l[b]),h=0;let x=g.length,q=!1,p=null;for(;h<x;){if(/^_case_/.test(g[h])){q=!0;p=g[h];break}h++}q||'object'!=typeof l[b]||ua(l[b]);if(p&&Array.isArray(l[b][p].conditions)&&0<l[b][p].conditions.length)for(g=0,h=l[b][p].conditions.length;g<h;)'undefined'!=typeof l[b][p].conditions[g].rules&&0==l[b][p].conditions[g].rules.count()&&(l[b][p].conditions.splice(g,1),h--,g--),g++}},Da=function(l){var g=JSON.stringify(l),h=g.match(/("@import\s+[-_a-z A-Z 0-9/.]+")/g)||
[],b=[];for(let R=0,K=h.length;R<K;R++)0>b.indexOf(h[R])&&b.push(h[R]);h=b;b=g.match(/("_merging(.*))(\s+:|:)(.*)(",|")/g);w.rules||(w.rules={});if(h&&0<h.length){l={};for(let R=0,K=h.length;R<K;++R){var x=h[R].replace(/(@import\s+|"|')/g,'');var q=x.replace(/(@import\s+|"|')/g,'').split(/\s/g);for(let fa=0,Ba=q.length;fa<Ba;++fa){var p=q[fa].replace(/\//g,'.').replace(/\-/g,'.');'undefined'!=typeof w.rules[p]?(p=JSON.stringify(w.rules[p]),p=JSON.parse(p),p._comment='undefined'!=typeof p._comment?
p._comment+'\n':'',p._comment+='Imported from `'+x+'`',p=JSON.stringify(p),g=g.replace(new RegExp(h[R],'g'),p),w.rules=JSON.parse(JSON.stringify(w.rules).replace(new RegExp(h[R],'g'),'{}'))):console.warn('[formValidator:rules] <@import error> on `'+h[R]+'`: rule `'+q[fa]+'` not found. Ignoring.')}q=new RegExp(h[R]);if(x=b&&q.test(b.join())?!0:!1)for(let fa=0,Ba=b.length;fa<Ba;fa++)if(q.test(b[fa])){x=JSON.stringify(l);x=x.substr(1,x.length-1);fa<Ba-1&&(x+=',');try{g=g.replace(new RegExp(b[fa],'g'),
x),w.rules=JSON.parse(JSON.stringify(w.rules).replace(new RegExp(b[fa],'g'),'{}'))}catch(ea){throw ea;}}l={}}l=JSON.parse(g);La(l,'');try{ua()}catch(R){console.error(R.stack)}}return l},Qa=function(l){gina.hasValidator?(w=Q(w,gina.validator),w.on('init',function(g){w.isReady=!0;triggerEvent(gina,w.target,'ready.'+w.id,w)})):(w.target=document,w.setOptions=m,w.getFormById=z,w.validateFormById=G,w.resetErrorsDisplay=J,w.resetFields=T,w.handleErrorsDisplay=F,w.send=Fa,w.on('init',function(g){if('undefined'!=
typeof l&&l.count())try{La(l,''),l=Da(l),gina.forms.rules='undefined'!=typeof gina.forms.rules&&gina.forms.rules?Q(gina.forms.rules,l,!0):l,w.rules=Q(w.rules,JSON.clone(gina.forms.rules),!0)}catch(R){throw R;}Aa.count()||(Aa=JSON.clone(w.rules));oa.setOptions=m;oa.getFormById=z;oa.validateFormById=G;oa.resetErrorsDisplay=J;oa.resetFields=T;oa.handleErrorsDisplay=F;oa.submit=ta;oa.send=Fa;oa.unbind=Db;oa.bind=xb;oa.reBind=jb;oa.destroy=la;g=0;for(var h=document.getElementsByTagName('form'),b=0,x=h.length;b<
x;++b){if(h[b].getAttribute){var q=h[b].getAttribute('id')||'form.'+ba.v4();q!==h[b].getAttribute('id')&&h[b].setAttribute('id',q)}else q='form.'+ba.v4(),h[b].setAttribute('id',q);oa.id=q;oa.target=h[b];w.$forms[q]=Q({},oa);var p=h[b].getAttribute('data-gina-form-rule');if(p){p=p.replace(/\-|\//g,'.');'undefined'!=typeof l&&(w.$forms[q].rules[p]=w.rules[p]=Aa[p]=Q(JSON.clone(eval('gina.forms.rules.'+p)),w.rules[p]));if('undefined'==typeof Aa[p])throw Error('['+q+'] no rule found with key: `'+p+'`. Please check if json is not malformed @ /forms/rules/'+
p.replace(/\./g,'/')+'.json');p=w.rules[p]}'string'==typeof q&&'undefined'!=typeof Aa[q.replace(/\-/g,'.')]||'object'==typeof p?(q=w.$forms[q].target,p?xb(q,p):xb(q),++g):('object'==typeof h[b].id?(delete w.$forms[h[b].id],q=h[b].attributes.getNamedItem('id').nodeValue||'form.'+ba.v4(),h[b].setAttribute('id',q),h[b].id=q,oa.target=h[b],w.$forms[q]=Q({},oa),q=w.$forms[q].target):q=w.$forms[h[b].id].target,p?xb(q,p):xb(q))}if(window.XMLHttpRequest)O=new XMLHttpRequest;else if(window.ActiveXObject)try{O=
new ActiveXObject('Msxml2.XMLHTTP')}catch(R){try{O=new ActiveXObject('Microsoft.XMLHTTP')}catch(K){}}w.isReady=!0;gina.hasValidator=!0;gina.validator=w;triggerEvent(gina,w.target,'ready.'+w.id,w)}));w.initialized=!0;return w},La=function(l,g){var h;for(h in l)if('object'==typeof l[h]&&'undefined'==typeof w.rules[g+h]){var b=h;/\[|\]/.test(h)&&(b=h.replace(/\[/g,'.').replace(/\]/g,''));w.rules[g+b]=l[h];La(l[h],g+b+'.')}},Ea=function(l){if('undefined'!=typeof Aa[l])return Aa[l];var g=null;if('undefined'==
typeof w.rules[l]){if(La(Aa,''),Aa=Da(Aa),g=Aa[l],!g)return{}}else g=w.rules[l];g=JSON.clone(g);var h=new RegExp('^'+l),b=new RegExp('^'+l+'.'),x=null,q=function(R,K,fa,Ba,ea,da,E){if(K.length){var na=Object.getOwnPropertyNames(R)[0],ra=K[0];ra=''==ea?ea+=ra:ea+'['+ra+']';1==K.length&&(R[na]=Q(R[na],fa,!0));K.splice(0,1);ra==na?q(R[na],K,fa,Ba,ra,da,E):'undefined'!=typeof R[na]?q(R[na],K,fa,Ba,ra,da,E):q(R,K,fa,Ba,ea,da,E)}},p;for(p in w.rules)p!=l&&h.test(p)&&(x=p.replace(b,''),/\./.test(x)&&(x=
x.split(/\./g),q(g,x,w.rules[p],g,'',0,g.count()-1)));return Aa[l]=g},Na=formatDataFromString,Ia=function(l){var g=w.$forms[l.form.getAttribute('id')],h=/^true$/i.test(l.disabled)?!0:!1;h&&'undefined'!=typeof g.rule&&'undefined'!=typeof g.rule[l.name]&&'undefined'!=typeof g.rule[l.name].exclude&&/^false$/i.test(g.rule[l.name].exclude)&&(h=!1);if(/^(radio|text|hidden|password|number|date|email)$/i.test(l.type)&&!h){var b=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,'value'),x=b.set;b.set=
function(q){Object.defineProperty(this,'value',{set:x});var p='change.'+this.id;q===this.value&&q===this.defaultValue||q===this.value||(this.value=q,console.debug('Value set: '+q),'undefined'!=typeof gina.events[p]&&(console.debug('trigger event on: ',this.name,p),triggerEvent(gina,this,p,q)));Object.defineProperty(this,'value',b)};Object.defineProperty(l,'value',b)}},Ja=function(l,g,h,b){'undefined'==typeof b&&(b=!1);var x=l.rules,q=w.$forms[g.form.getAttribute('id')],p=/^true$/i.test(g.disabled)?
!0:!1;p&&'undefined'!=typeof q.rule&&'undefined'!=typeof q.rule[g.name]&&'undefined'!=typeof q.rule[g.name].exclude&&/^false$/i.test(q.rule[g.name].exclude)&&(p=!1);if(/^(radio|checkbox|text|hidden|password|number|date|email)$/i.test(g.type)&&!p||b&&!p){b=g.name;q=x[b]||null;if(!q&&(rb(x,g),'undefined'==typeof x[b]))return;if(l.target.dataset.ginaFormLiveCheckEnabled&&q&&(b=[],q=null,p=0,/^(radio|checkbox)$/i.test(g.type)?q=/^(radio|checkbox)$/i.test(g.type)?'changed.'+g.id:'change.'+g.id:(addEventListener(gina,
g,'focusout.'+g.id,function(K){K.preventDefault();clearTimeout(h)}),q='change.'+g.id,'undefined'==typeof gina.events[q]&&(b[p]=q,++p),q='keyup.'+g.id,'undefined'==typeof gina.events[q]&&(b[p]=q,++p),q='focusin.'+g.id,'undefined'==typeof gina.events[q]&&(b[p]=q,++p),q='focusout.'+g.id),'undefined'==typeof gina.events[q]&&(b[p]=q,++p),0<b.length)){var R=!1;addListener(gina,g,b,function(K){K.preventDefault();clearTimeout(h);if(!R&&/^changed\./i.test(K.type)||!R&&/^(radio|checkbox)$/i.test(K.target.type))R=
!0;else if(R&&/^changed\./i.test(K.type)||R&&/^(radio|checkbox)$/i.test(K.target.type))return!1;if('undefined'!=typeof w.$forms[K.target.form.getAttribute('id')].isSubmitting&&/true/i.test(w.$forms[K.target.form.getAttribute('id')].isSubmitting))return!1;var fa=function(){console.debug('processing: '+K.target.name+'/'+K.target.id);if(!/^(radio|checkbox)$/i.test(K.target.type)&&K.target.value===K.target.defaultValue&&''!=K.target.value){var Ba=w.$forms[K.target.form.getAttribute('id')].errors;if(Ba&&
0!=Ba.count())F(K.target.form,Ba,null,K.target.name);else return F(K.target.form,{},null,K.target.name),cancelEvent(K)}Ba={};var ea={};Ba[K.target.name]=K.target.value;ea[K.target.name]=K.target;w.$forms[K.target.form.getAttribute('id')].isValidating=!0;za(K.target,Ba,ea,l.rules,function(da){w.$forms[K.target.form.getAttribute('id')].isValidating=!1;da.isValid()?F(K.target.form,{},da.data,K.target.name):F(K.target.form,da.error,da.data,K.target.name);var E=K.target.form,na=da=null,ra=null;na=db(E,
x);da=na.fields;na=na.$fields;var ia=E.getAttribute('id');ra=w.$forms[ia].rules;w.$forms[ia].isValidating=!0;za(E,da,na,ra,function(Z){w.$forms[ia].isValidating=!1;console.debug('['+ia+'] onSilentGlobalLiveValidation: '+Z.isValid(),Z);var Ga=Z.isValid();N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:ia,errors:Z.error||{}}));Ka(E,Ga);R=!1})})};if(/^changed\./i.test(K.type)||/^change\./i.test(K.type)&&
'radio'==K.target.type)return function(Ba,ea){if(!(0<ea))return++ea,setTimeout(()=>{console.debug(' changed .... '+g.id);fa()},0)}(R,0);/^focusin\./i.test(K.type)?/\-error/.test(g.parentNode.className)&&(console.debug('#1 you just focusin ....'+g.id,g.value),u(g)):/^focusout\./i.test(K.type)?/\-warning/.test(g.parentNode.className)&&(console.debug('#1 you just focusout ....'+g.id,g.value),u(g),F(g.form,w.$forms[g.form.getAttribute('id')].errors,null,g.name)):/^keyup\./i.test(K.type)?(g.ginaFormValidatorTestedValue=
g.value,h=setTimeout(function(){-1<['91','17'].indexOf(''+K.keyCode)&&0==M.count()||(console.debug(' keyup ('+K.keyCode+') .... '+g.id,g.value,' VS ',g.ginaFormValidatorTestedValue+'(old)'),fa())},1E3)):/^change\./i.test(K.type)&&!/^(checkbox)$/i.test(K.target.type)&&(console.debug(' change .... '+g.id),fa())})}}},Ua=function(l,g){l.setSelectionRange?(l.focus(),l.setSelectionRange(g,g)):l.createTextRange&&(l=l.createTextRange(),l.collapse(!0),l.moveEnd('character',g),l.moveStart('character',g),l.select())},
pb=function(l,g){if(document.activeElement&&document.activeElement.form){l=Array.prototype.filter.call(document.activeElement.form.querySelectorAll('a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), select:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])'),function(x){return 0<x.offsetWidth||0<x.offsetHeight||x===document.activeElement});var h=l.indexOf(document.activeElement);if(-1<h){var b=l[h+1];g&&(b=l[h-1]);(b||l[0]).focus()}}},ab=function(l,g){l.setAttribute('readonly',
'readonly');addListener(gina,l,'focusout.'+l.id,function(h){h.preventDefault();clearTimeout(g);h=h.currentTarget;triggerEvent(gina,h,'change.'+h.id);h.setAttribute('readonly','readonly')});addListener(gina,l,'focusin.'+l.id,function(h){h.preventDefault();h.currentTarget.removeAttribute('readonly');var b='keydown.'+h.currentTarget.id;'undefined'==typeof gina.events[b]&&addListener(gina,h.currentTarget,b,function(x){x.preventDefault();clearTimeout(g);var q=x.currentTarget,p=x.currentTarget.value,R=
q.selectionStart,K=q.selectionEnd;q.removeAttribute('readonly');switch(x.keyCode){case 46:case 8:R!=K?(q.value=p.substr(0,R)+p.substr(K),0==R&&(q.value=p.substr(K))):q.value=0==R?p.substring(R+1):p.substr(0,R-1)+p.substr(K);x.currentTarget.setAttribute('readonly','readonly');setTimeout(()=>{q.removeAttribute('readonly');setTimeout(()=>{R!=K?Ua(q,R):0==R?Ua(q,R):Ua(q,R-1)},0)},0);break;case 9:M[16]&&M[9]?pb(q,!0):pb(q);break;case 13:case 16:break;case 37:console.debug('moving left ',R-1);Ua(q,R-1);
break;case 39:R+1<p.length+1&&Ua(q,R+1);break;case 17:case 91:console.debug('CMD hit');x.preventDefault();break;case 67:if(M[67]&&M[91]||M[67]&&M[17]){q.setSelectionRange(R,K);document.execCommand('copy');break}case 86:if(M[86]&&M[91]||M[86]&&M[17]){R!=K&&(q.value=q.value.replace(p.substring(R,K),''));Ua(q,R);document.execCommand('paste');break}case 88:if(M[88]&&M[91]||M[88]&&M[17]){q.setSelectionRange(R,K);document.execCommand('cut');break}case 90:if(M[90]&&M[91]||M[90]&&M[17]){q.value=q.defaultValue;
break}default:R!=K?(q.value=p.substr(0,R)+x.key,K-1<p.length&&(q.value+=p.substring(K))):q.value=0==R?x.key+p.substring(R):p.substr(0,R)+x.key+p.substr(K),x.currentTarget.setAttribute('readonly','readonly'),setTimeout(()=>{q.removeAttribute('readonly');setTimeout(()=>{Ua(q,R+1)},0)},0)}})})},gb=function(l,g){if(/^(input|textarea)$/i.test(g.tagName)&&'undefined'==typeof gina.events['registered.'+g.id]){/^file$/i.test(g.type)||Ia(g);switch(g.tagName.toLowerCase()){case 'textarea':Ja(l,g,null,!0);break;
default:Ja(l,g,null),l=g.getAttribute('autocomplete'),/safari/i.test(navigator.userAgent)&&l&&/^(off|false)/i.test(l)&&ab(g,null)}gina.events['registered.'+g.id]=g.id}},Ub=function(l,g,h){var b=g.id+'-'+h+'-'+l+'-trigger',x=document.getElementById(b);x||(b=g.getAttribute('data-gina-form-upload--'+h+ +l+'-trigger'),x=document.getElementById(b));x&&'undefined'==typeof x.isBinded||x&&'undefined'!=typeof x.isBinded&&!/true/i.test(x.isBinded)?(addListener(gina,x,'click',function(q){q.preventDefault();
ka(g,l)}),x.isBinded=!0):console.warn('[FormValidator::bindForm][upload]['+g.id+'] : did not find `upload '+l+' trigger`.\nPlease, make sure that your delete element ID is `'+b+'-'+l+'-trigger`, or add to your file input ('+g.id+') -> `data-gina-form-upload-'+l+'-trigger="your-custom-id"` definition.')},Zb=function(l,g){var h=function(b,x,q){var p=null;switch(x){case 'data-gina-form-upload-action':p='upload-to-tmp-xml';break;case 'data-gina-form-upload-reset-action':p='upload-delete-from-tmp-xml'}var R=
b.getAttribute(x);if(!R||''==R){p||console.warn('`'+x+'` definition not found for `'+b.id+'`. Trying to get default route.');var K=null;try{p&&(R=H.getRoute(p))}catch(fa){K=fa}R?(console.info('Ignore previous warnings regarding upload. I have found a default `'+x+'` route: `'+p+'@'+R.bundle+'`'),b.setAttribute('data-gina-form-upload-action',R.toUrl())):(b='`'+x+'` needs to be defined to proceed for your `input[type=file]` with ID `'+b.id+'`\n'+K+'\n',q&&(q.innerHTML+=b.replace(/(\n|\r)/g,'<br>')),
console.error(b))}};h(l,'data-gina-form-upload-action',g);h(l,'data-gina-form-upload-reset-action',g);h(l,'data-gina-form-upload-delete-action',g)},jb=function(l,g,h){l=Db(l);xb(l.target,g);return h?h(l):l},Db=function(l){var g=null,h=null;try{if(l.getAttribute&&l.getAttribute('id'))if(h=l.getAttribute('id'),'undefined'!=typeof w.$forms[h])g=w.$forms[h];else throw Error('form instance `'+h+'` not found');else if('undefined'!=typeof l.target)g=l,h=g.id;else throw Error('Validator::unbindForm($target): `$target` must be a DOM element\n'+
err.stack);}catch(p){throw Error('Validator::unbindForm($target) could not unbind form `'+l+'`\n'+p.stack);}if('undefined'!=typeof g&&!g.binded)return g;removeListener(gina,g,'success.'+h);removeListener(gina,g,'error.'+h);g.target.getAttribute('data-gina-form-event-on-submit-success')&&removeListener(gina,g,'success.'+h+'.hform');g.target.getAttribute('data-gina-form-event-on-submit-error')&&removeListener(gina,g,'error.'+h+'.hform');removeListener(gina,g,'validate.'+h);removeListener(gina,g,'validated.'+
h);removeListener(gina,g,'submit.'+h);removeListener(gina,g,'reset.'+h);l=[];h=g.target.getElementsByTagName('button');if(0<h.length)for(let p=0,R=h.length;p<R;++p)l.push(h[p]);h=g.target.getElementsByTagName('a');if(0<h.length)for(let p=0,R=h.length;p<R;++p)l.push(h[p]);h=g.target.getElementsByTagName('input');if(0<h.length)for(let p=0,R=h.length;p<R;++p)if(/^(hidden)$/i.test(h[p].type)||l.push(h[p]),/^(file)$/i.test(h[p].type)){var b=h[p].getAttribute('data-gina-form-virtual');if(b){var x=z(b).target;
if(x){l.push(x);for(let K=0,fa=ma.length;K<fa;K++){var q=ma[K];'undefined'!=typeof gina.events[q+'.'+b+'.hform']&&gina.events[q+'.'+b+'.hform']==b&&removeListener(gina,x,q+'.'+b+'.hform')}}}}else for(let K=0,fa=ma.length;K<fa;K++)b=ma[K]+'.'+h[p].id,'undefined'!=typeof gina.events[b]&&gina.events[b]==h[p].id&&removeListener(gina,h[p],b),b=ma[K],'undefined'!=typeof gina.events[b]&&gina.events[b]==h[p].id&&removeListener(gina,h[p],b),b=h[p].id,'undefined'!=typeof gina.events[b]&&gina.events[b]==h[p].id&&
removeListener(gina,h[p],b);h=g.target.getElementsByTagName('textarea');if(0<h.length)for(let p=0,R=h.length;p<R;++p)l.push(h[p]);h=g.target.getElementsByTagName('form');if(0<h.length)for(let p=0,R=h.length;p<R;++p)l.push(h[p]);l.push(g.target);for(let p=0,R=l.length;p<R;++p){h=l[p];b=h.getAttribute('id');for(let K=0,fa=ma.length;K<fa;K++)q=x=ma[K],'undefined'!=typeof gina.events[q]&&gina.events[q]==b&&removeListener(gina,h,q),q=b,'undefined'!=typeof gina.events[q]&&gina.events[q]==b&&removeListener(gina,
h,q),q=x+'.'+b,'undefined'!=typeof gina.events[q]&&gina.events[q]==b&&removeListener(gina,h,q),q=x+'.'+b,'undefined'!=typeof gina.events[q]&&gina.events[q]==q&&removeListener(gina,h,q),q=x+'.'+b+'.hform','undefined'!=typeof gina.events[q]&&gina.events[q]==b&&removeListener(gina,h,q)}evt=null;g.binded=!1;return g},rb=function(l,g){g=g.name;if(!l[g])for(let h in l)if(/^\//.test(h)&&(re=h.match(/\/(.*)\//).pop(),flags=h.replace('/'+re+'/',''),re=re.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),re=new RegExp(re,
flags),re.test(g))){l[g]=l[h];break}},xb=function(l,g){var h=null,b=null,x=typeof(0<Aa.count())?Aa:w.rules;try{if(l.getAttribute&&l.getAttribute('id'))if(b=l.getAttribute('id'),'undefined'!=typeof w.$forms[b])h=w.$forms[b];else throw Error('form instance `'+b+'` not found');else throw Error('Validator::bindForm($target, customRule): `$target` must be a DOM element\n'+err.stack);}catch(ca){throw Error('Validator::bindForm($target, customRule) could not bind form `'+l+'`\n'+ca.stack);}if('undefined'!=
typeof h&&h.binded)return!1;console.debug('binding for: '+b);var q=!1,p=null,R='',K=null;'undefined'!=typeof g||'string'==typeof b&&'undefined'!=typeof x[b.replace(/\-|\//g,'.')]?(q=!0,p=g&&'object'==typeof g?g:g&&'string'==typeof g&&'undefined'!=typeof x[g.replace(/\-|\//g,'.')]?Ea(g.replace(/\-|\//g,'.')):Ea(b.replace(/\-|\//g,'.')),h.rules=p,N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.rules||(gina.forms.rules={}),objCallback={id:b,rules:h.rules},window.ginaToolbar.update('forms',
objCallback))):h.rules={};'undefined'==typeof h.target.dataset.ginaFormLiveCheckEnabled&&0<h.rules.count()?h.target.dataset.ginaFormLiveCheckEnabled=!0:h.target.dataset.ginaFormLiveCheckEnabled='undefined'!=typeof h.target.dataset.ginaFormLiveCheckEnabled?/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)?!0:!1:!1;h.fieldsSet||(h.fieldsSet={});K=null;l.getElementsByTagName('a');g=l.getElementsByTagName('input');var fa=l.getElementsByTagName('textarea');K=l.getElementsByTagName('select');var Ba=
{},ea=[],da={},E=null,na={},ra=null,ia=null;for(let ca=0,X=fa.length;ca<X;++ca)rb(h.rules,fa[ca]),ia=fa[ca].getAttribute('id'),ia&&''!=ia||(ia='textareas.'+ba.v4(),fa[ca].setAttribute('id',ia)),h.fieldsSet[ia]||(h.fieldsSet[ia]={id:ia,name:fa[ca].name||null,value:fa[ca].value||'',defaultValue:fa[ca].value||''}),/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)&&gb(h,fa[ca]);for(let ca=0,X=g.length;ca<X;++ca){rb(h.rules,g[ca]);ia=g[ca].getAttribute('id');ia&&''!=ia||(ia='input.'+ba.v4(),g[ca].setAttribute('id',
ia));h.fieldsSet[ia]||(E=g[ca].value,/$(on|true|false)$/i.test(E)&&(E=/$(on|true)$/i.test(E)?!0:!1),h.fieldsSet[ia]={id:ia,name:g[ca].name||null,value:E||!/^(checkbox|radio)$/i.test(g[ca].type)?'':g[ca].checked,defaultValue:/^(checkbox|radio)$/i.test(g[ca].type)?g[ca].checked:E},/^(checkbox|radio)$/i.test(g[ca].type)&&'undefined'==typeof h.fieldsSet[ia].defaultChecked&&(h.fieldsSet[ia].defaultChecked=/^(true|on)$/i.test(g[ca].checked)||/^(true|on)$/.test(E)&&/^(checkbox)$/i.test(g[ca].type)?!0:!1,
/^radio$/i.test(g[ca].type)&&(h.fieldsSet[ia].value=g[ca].value,h.fieldsSet[ia].defaultValue=g[ca].value)));/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)&&gb(h,g[ca]);if(E=g[ca].getAttribute('data-gina-form-element-group'))0>ea.indexOf(E)&&ea.push(E),ra=g[ca].getAttribute('name')||ia,ra===ia&&g[ca].setAttribute('name',ia),Ba[ia]={id:ia,name:ra,group:E,target:g[ca]},da[g[ca].name]=new RegExp('^'+E.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')),q&&('undefined'==typeof h.rules[g[ca].name]&&(h.rules[g[ca].name]=
{}),'undefined'!=typeof h.rules[g[ca].name].isRequired&&h.rules[g[ca].name].isRequired||(h.rules[g[ca].name].exclude=!0));if(0<da.count())for(var Z in da)g[ca].name!=Z&&(g[ca].getAttribute('data-gina-form-element-group'),da[Z].test(g[ca].name)&&(g[ca].disabled=!0,'undefined'==typeof na[Z]&&(na[Z]={}),na[Z][g[ca].name]=g[ca]));if(/^file$/i.test(g[ca].type)){ia=g[ca].getAttribute('data-gina-form-upload-trigger');ia||(ia=g[ca].id);E=null;ra=(new DOMParser).parseFromString(l.innerHTML,'text/html');ia&&
(E=document.getElementById(ia));fa=document.getElementById(g[ca].id+'-error');Zb(g[ca],fa);if((fa=ra.getElementById(ia+'-preview'))&&E&&!/none/i.test(window.getComputedStyle(fa).display)&&!/none/i.test(fa.parentElement.style.display)){ra=0;console.debug('preview is visible ...');E.customFiles=[];E.form=l;fa=fa.childNodes;for(let ja=0,va=fa.length;ja<va;ja++){var Ga=null;if(/ul/i.test(fa[ja].tagName))for(let Ra=0,Xa=fa[ja].length;Ra<Xa;Ra++){let eb=$$els[ja];for(let Oa=0,wb=eb.length;Oa<wb;Oa++)/img/i.test(eb[Oa])&&
(Ga=eb[Oa],Ga.setAttribute(''),ra++)}else/img/i.test(fa[ja].tagName)&&(Ga=fa[ja],deleteLinkId=ia+'-'+ra+'-delete-trigger',Ga=Ga.src.substr(Ga.src.lastIndexOf('/')+1),E.customFiles.push({name:Ga,deleteLinkId}),Ub('delete',E,ra),ra++)}}addListener(gina,g[ca],'change',function(ja){ja.preventDefault();var va=ja.currentTarget;ja=va.files;va.customFiles=Array.from(ja);if(!ja.length)return!1;var Ra=va.getAttribute('data-gina-form-upload-action'),Xa=va.getAttribute('name'),eb='gina-upload-'+Xa.replace(/\[/g,
'-').replace(/\]/g,'-'+h.id);va.setAttribute('data-gina-form-virtual',eb);var Oa=va.getAttribute('data-gina-form-upload-on-success'),wb=va.getAttribute('data-gina-form-upload-on-error'),lb=null;if(0<ja.length){var hb=null;if(y()){hb=gina.popin.getActivePopin();hb.$target=(new DOMParser).parseFromString(hb.target.outerHTML,'text/html');hb.$target.getElementById(hb.id).innerHTML=document.getElementById(hb.id).innerHTML;var ob=hb.$target.getElementById(eb)}else ob=document.getElementById(eb);if(!ob){try{ob=
z(eb)||null}catch(Rc){}ob||=y()?hb.$target.createElement('form'):document.createElement('form');ob.id=eb;ob.action=Ra;ob.enctype='multipart/form-data';ob.method='POST';if('undefined'!=typeof va.form){Ra='files';var sb=va.getAttribute('data-gina-form-upload-prefix')||va.name||va.getAttribute('name'),mb=va.id||va.getAttribute('id'),Kb=!1,Eb=va.getAttribute('data-gina-form-upload-preview')||mb+'-preview';Eb=y()?hb.$target.getElementById(Eb):document.getElementById(Eb);'undefined'!=typeof Eb&&(Kb=!0);
sb&&(Ra=sb);sb=[];for(var Gb='name group originalFilename ext encoding size height width location mime preview'.split(' '),Ib=va.form.getElementsByTagName('INPUT'),$b,Xb,Dc,gc,Nb=0,Pc=ja.length;Nb<Pc;++Nb){Ub('reset',va,Nb);sb[Nb]=null;$b=Ra+'['+Nb+']';gc=new RegExp('^'+$b.replace(/\[/g,'\\[').replace(/\]/g,'\\]'));for(var nc=0,Lc=Ib.length;nc<Lc;++nc)$b=Ib[nc].getAttribute('type'),lb=Ib[nc].getAttribute('data-gina-form-upload-error')||mb+'-error'||null,$b&&/hidden/i.test($b)&&(Xb=Ib[nc],$b=/\[\w+\]$/i.test(Xb.name)?
Xb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Xb.name,Dc=/\[\w+\]$/i.test(Xb.name)?Xb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Xb.name,Xb&&'undefiend'!=typeof $b&&-1<Gb.indexOf($b)&&gc.test(Xb.name)?(sb[Nb]||(sb[Nb]={}),/\[preview\]/i.test(Xb.name)?('undefined'==typeof sb[Nb].preview&&(sb[Nb].preview={}),sb[Nb].preview[$b]=Xb):sb[Nb][$b]=Xb):Xb&&'undefiend'!=typeof $b&&0>Gb.indexOf($b)&&gc.test(Xb.name)&&(sb[Nb]||(sb[Nb]={}),/\[preview\]/i.test(Xb.name)?('undefined'==typeof sb[Nb].preview&&
(sb[Nb].preview={}),sb[Nb].preview[Dc]=Xb):sb[Nb][Dc]=Xb));gc=0;for(nc=Gb.length;gc<nc;++gc)sb[Nb]||(sb[Nb]={}),'undefined'==typeof sb[Nb][Gb[gc]]&&($b=Ra+'['+Nb+']['+Gb[gc]+']',$newVirtualField=document.createElement('input'),$newVirtualField.type='hidden',$newVirtualField.id='input.'+ba.v4(),$newVirtualField.name=$b,$newVirtualField.value='',va.form.appendChild($newVirtualField),sb[Nb][Gb[gc]]=va.form[va.form.length-1])}ob.uploadProperties={id:va.form.id||va.getAttribute('id'),uploadTriggerId:va.id,
$form:va.form,errorField:lb,mandatoryFields:Gb,uploadFields:sb,hasPreviewContainer:Kb,isPopinContext:y()};Kb&&(ob.uploadProperties.previewContainer=Eb)}Oa?ob.setAttribute('data-gina-form-event-on-submit-success',Oa):ob.setAttribute('data-gina-form-event-on-submit-success','onGenericXhrResponse');wb?ob.setAttribute('data-gina-form-event-on-submit-error',wb):ob.setAttribute('data-gina-form-event-on-submit-error','onGenericXhrResponse');y()?document.getElementById(hb.id).appendChild(ob):document.body.appendChild(ob)}try{var Qc=
z(eb),rc=new FormData;va=null;eb=0;for(var sc=ja.length;eb<sc;++eb)va=ja[eb],rc.append(Xa,va,va.name);Qc.send(rc,{withCredentials:!0})}catch(Rc){throw Rc;}}})}}var Pa=function(ca,X){ca.setAttribute('data-value',ca.value);if(/^(true)$/i.test(X.target.dataset.ginaFormLiveCheckEnabled&&0<X.rules.count())){var ja={},va={},Ra=null;Ra=ca.form;ja[event.target.name]=event.target.value;va[event.target.name]=event.target;w.$forms[Ra.getAttribute('id')].isValidating=!0;za(event.target,ja,va,X.rules,function(Xa){w.$forms[Ra.getAttribute('id')].isValidating=
!1;Xa.isValid()?F(Ra,{},Xa.data,event.target.name):F(Ra,Xa.error,Xa.data,event.target.name);var eb=Ra,Oa=Xa=null,wb=null;Oa=db(eb,x);Xa=Oa.fields;Oa=Oa.$fields;var lb=eb.getAttribute('id');wb=w.$forms[lb].rules;w.$forms[lb].isValidating=!0;za(eb,Xa,Oa,wb,function(hb){w.$forms[lb].isValidating=!1;console.debug('[updateSelect]: onSilentGlobalLiveValidation: '+hb.isValid(),hb);hb=hb.isValid();Ka(eb,hb);once=!1})})}};E=na=null;Z=0;for(da=K.length;Z<da;++Z)if(rb(h.rules,K[Z]),ia=K[Z].getAttribute('id'),
!ia||!/^gina\-toolbar/.test(ia)){ia&&''!=ia||(ia='select.'+ba.v4(),K[Z].setAttribute('id',ia));if(E=K[Z].getAttribute('data-gina-form-element-group'))na=K[Z].getAttribute('name')||ia,na===ia&&K[Z].setAttribute('name',ia),Ba[ia]={id:ia,name:na,group:E,target:K[Z]};addListener(gina,K[Z],'change',function(ca){ca=ca.target;/select/i.test(ca.type)&&Pa(ca,h)});if(K[Z].options&&!h.fieldsSet[ia]){na=0;if(E=K[Z].getAttribute('data-value')||null)for(ra=0,fa=K[Z].options.length;ra<fa;++ra)if(K[Z].options[ra].value==
E){na=ra;K[Z].selectedIndex=na;break}'undefined'!=typeof K[Z].options[K[Z].selectedIndex]&&K[Z].options[K[Z].selectedIndex].index&&(na=K[Z].options[K[Z].selectedIndex].index);0<K[Z].options.length&&'undefined'!=typeof K[Z].options[na]&&(E=K[Z].options[na].value);h.fieldsSet[ia]={id:ia,name:K[Z].name||null,value:E||null,selectedIndex:na||0};'undefined'!=typeof K[Z].selectedIndex&&-1<K[Z].selectedIndex&&(K[Z].options[na].selected=!0,K[Z].setAttribute('data-value',K[Z].options[na].value))}}var $a=function(ca,
X,ja,va){'undefined'==typeof va&&(va=!1);if('undefined'==typeof Ba[ca])throw Error('Radio & Checkbox dependencies not met: you must use the ID attribue of the `master element` as the `data-gina-form-element-group`');var Ra=ca.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');ca=Ba[ca].target.checked;for(let Oa in Ba)if(!/radio|checkbox/i.test(Ba[Oa].target.type)){var Xa=new RegExp(Ra);var eb=new RegExp(X);if(Xa.test(Ba[Oa].group)&&eb.test(Ba[Oa].group)||Xa.test(Ba[Oa].group))Ba[Oa].target.disabled=!0,'undefined'==
typeof h.rules[Ba[Oa].name]&&(h.rules[Ba[Oa].name]={}),h.rules[Ba[Oa].name].exclude=!0,va?(Ba[Oa].target.disabled=ca?!1:!0,h.rules[Ba[Oa].name].exclude=ca?!1:!0):(Ba[Oa].target.disabled=ja,h.rules[Ba[Oa].name].exclude=ja)}},ib=function(ca,X,ja,va){'undefined'==typeof va&&(va=!1);if(va&&'undefined'!=typeof Ba[X.id])return ca=/true/i.test(X.checked)?!1:!0,$a(X.id,Ba[X.id].group,ca,va);ja=X.name;q&&'undefined'==typeof ca.rules[ja]&&(ca.rules[ja]={});/^true$/i.test(X.checked)?q&&(ca.rules[ja].exclude=
!1,'undefined'!=typeof Ba[X.id]&&$a(X.id,Ba[X.id].group,!1,va)):q&&(ca.rules[ja].exclude=!0,'undefined'!=typeof Ba[X.id]&&$a(X.id,Ba[X.id].group,!0,va))},Cb=function(ca,X){'undefined'==typeof X&&(X=!1);var ja=function(Oa,wb,lb){if(wb)ib(h,Oa,wb);else for(let hb in Ba)if(eb.test(Ba[hb].group)||eb.test(Ba[hb].target.getAttribute('data-gina-form-element-group')))Ba[hb].target.disabled=lb};X&&/^(on)$/i.test(ca.value)&&!ca.checked&&(ca.value=!1);var va=ca.getAttribute('data-value')||ca.getAttribute('value')||
ca.value;va=/^(true|on)$/.test(va)?!0:va;''===va&&(va=!1);var Ra=/^(true|on|false)$/i.test(va)?!0:!1;X&&Ra&&(/^true$/i.test(va)&&!ca.checked?ca.checked=!0:/^false$/i.test(va)&&ca.checked&&(ca.checked=!1));va=ca.checked;var Xa=ca.getAttribute('data-gina-form-element-group')||null,eb=new RegExp(ca.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));va&&'null'!=va&&'false'!=va&&''!=va?(X?zb(ca):(setTimeout(function(){ca.checked=!0;ja(ca,Xa,!1);zb(ca)},0),ca.setAttribute('checked','checked')),Ra&&(ca.value=!0,ca.setAttribute('value',
!0),typeof('undefined'!=ca.getAttribute('data-value'))&&ca.setAttribute('data-value',!0))):(X?zb(ca):setTimeout(function(){ca.checked=!1;ja(ca,Xa,!0);zb(ca)},0),ca.removeAttribute('checked'),Ra&&(ca.value=!1,ca.setAttribute('value','false'),typeof('undefined'!=ca.getAttribute('data-value'))&&ca.setAttribute('data-value','false')))},zb=function(ca){ca=new RegExp(ca.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(let X in Ba)(/checkbox/i.test(Ba[X].target.type)&&ca.test(Ba[X].group)||/checkbox/i.test(Ba[X].target.type)&&
ca.test(Ba[X].target.getAttribute('data-gina-form-element-group')))&&ib(h,Ba[X].target,Ba[X].group,!0)},qb=function(ca,X){X=ca.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');X=new RegExp(X);for(let ja in Ba)if(/checkbox|radio/i.test(Ba[ja].target.type)||(Ba[ja].target.disabled=!0,'undefined'==typeof h.rules[Ba[ja].name]&&(h.rules[Ba[ja].name]={}),h.rules[Ba[ja].name].exclude=!0),X.test(Ba[ja].group)||X.test(Ba[ja].target.getAttribute('data-gina-form-element-group').replace(/\-|_|@|#|\.|\[|\]/g,'\\$&')))Ba[ja].target.disabled=
!0,'undefined'==typeof h.rules[Ba[ja].name]&&(h.rules[Ba[ja].name]={}),/^(true|on)$/i.test(ca.checked)?(Ba[ja].target.disabled=!1,h.rules[Ba[ja].name].exclude=!1):(Ba[ja].target.disabled=!0,h.rules[Ba[ja].name].exclude=!0);zb(ca)},Mb=null,Ya=function(ca,X,ja){X='undefined'!=typeof X&&X?!0:!1;ja='undefined'!=typeof ja&&ja?!0:!1;var va=ca.checked,Ra=/^(true|false)$/i.test(ca.value);Mb=document.getElementsByName(ca.name);for(let Xa=0,eb=Mb.length;Xa<eb;++Xa)Mb[Xa].id!==ca.id&&va&&(Mb[Xa].checked=!1,
Mb[Xa].removeAttribute('checked'),qb(Mb[Xa],!0));X?qb(ca):(va&&'null'!=va&&'false'!=va&&''!=va?setTimeout(function(){ja?qb(ca):(ca.checked=!1,ca.removeAttribute('checked'))},0):setTimeout(function(){ja?qb(ca):(ca.checked=!0,ca.setAttribute('checked','checked'))},0),Ra&&(ca.value=/^true$/.test(ca.value)?!0:!1))};Z=0;for(da=g.length;Z<da;++Z){K=g[Z].getAttribute('type');if('undefined'==typeof g[Z].id||''==g[Z].id)g[Z].id=K+'-'+ba.v4(),g[Z].setAttribute('id',g[Z].id);if('undefined'!=typeof K&&/^checkbox$/i.test(K)){if(g[Z].disabled&&
-1<ea.indexOf(g[Z].id)||!g[Z].checked&&-1<ea.indexOf(g[Z].id)){K=new RegExp(g[Z].id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(var cb in Ba)K.test(Ba[cb].group)&&(Ba[cb].target.disabled=!0)}R='change.'+g[Z].id;K=function(ca,X){addListener(gina,ca,X,function(ja){Cb(ja.target);triggerEvent(gina,ja.target,'changed.'+ja.target.id)});Cb(ca,!0)};'undefined'!=typeof gina.events[R]&&gina.events[R]==g[Z].id&&removeListener(gina,g[Z],R);K(g[Z],R)}else'undefined'!=typeof K&&/^radio$/i.test(K)&&(R=g[Z].id,K=function(ca,
X){addListener(gina,ca,X,function(ja){Ya(ja.target);triggerEvent(gina,ja.target,'changed.'+ja.target.id)});Ya(ca,!0)},'undefined'!=typeof gina.events[R]&&gina.events[R]==g[Z].id&&removeListener(gina,g[Z],R),K(g[Z],R))}R='click';K=function(){var ca=null;ca='reset.'+l.id;'undefined'==typeof gina.events[ca]&&addListener(gina,l,ca,function(X){X.preventDefault();var ja=w.$forms[X.currentTarget.id||X.target.id];ja.target.dataset.ginaFormIsResetting=!0;T(ja);X=db(ja.target,ja.rules,!0);za(ja.target,X.fields,
X.$fields,ja.rules,function(va){var Ra=va.isValid();console.debug('silent reset validation result[isValid:'+Ra+']: ',va);F(ja.target,{});Ka(ja.target,Ra);ja.target.dataset.ginaFormIsResetting=!1})});addListener(gina,l,'reset',function(X){var ja=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;X.preventDefault();var va=ja.id;if(!va)return!1;/^reset\./.test(va)||(va='reset.'+ja.id);gina.events[va]&&triggerEvent(gina,ja,va,X.detail)});addListener(gina,l,'keydown',function(X){var ja=
X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;M[X.keyCode]='keydown'==X.type;var va=ja.id;if(!va)return!1;/^keydown\./.test(va)||(va='keydown.'+ja.id);gina.events[va]&&(cancelEvent(X),triggerEvent(gina,ja,va,X.detail,X))});addListener(gina,l,'keyup',function(X){var ja=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;M[X.keyCode]&&delete M[X.keyCode];var va=ja.id;if(!va)return!1;/^keyup\./.test(va)||(va='keyup.'+ja.id);gina.events[va]&&
(cancelEvent(X),triggerEvent(gina,ja,va,X.detail,X))});addListener(gina,l,'focusin',function(X){var ja=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;var va=ja.id;if(!va)return!1;/^focusin\./.test(va)||(va='focusin.'+ja.id);gina.events[va]&&(cancelEvent(X),triggerEvent(gina,ja,va,X.detail))});addListener(gina,l,'focusout',function(X){var ja=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;var va=ja.id;if(!va)return!1;/^focusout\./.test(va)||
(va='focusout.'+ja.id);gina.events[va]&&(cancelEvent(X),triggerEvent(gina,ja,va,X.detail))});addListener(gina,l,'change',function(X){var ja=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;var va=ja.id;if(!va)return!1;/^change\./.test(va)||(va='change.'+ja.id);gina.events[va]&&(cancelEvent(X),triggerEvent(gina,ja,va,X.detail))});addListener(gina,l,'click',function(X){var ja=X.target,va=!1,Ra=!1;if(/(label)/i.test(X.target.tagName)&&'undefined'!=typeof X.target.control&&
null!=X.target.control&&/(checkbox|radio)/i.test(X.target.control.type)||/(label)/i.test(X.target.parentNode.tagName)&&'undefined'!=typeof X.target.parentNode.control&&null!=X.target.parentNode.control&&/(checkbox|radio)/i.test(X.target.parentNode.control.type))Ra=X.target.getAttribute('for')||X.target.parentNode.getAttribute('for')?!0:!1,ja=X.target.control||X.target.parentNode.control;if(!ja.disabled&&/(checkbox|radio)/i.test(ja.type)&&!Ra){if(/checkbox/i.test(ja.type))return Cb(ja);if(/radio/i.test(ja.type))return Ya(ja,
!1,!0)}if(/(button|input)/i.test(ja.tagName)&&/(submit|checkbox|radio)/i.test(ja.type)||/a/i.test(ja.tagName)&&ja.attributes.getNamedItem('data-gina-form-submit')||/a/i.test(ja.parentNode.tagName)&&ja.parentNode.attributes.getNamedItem('data-gina-form-submit')){Ra=ja.attributes.getNamedItem('data-gina-form-submit');var Xa=ja.parentNode.attributes.getNamedItem('data-gina-form-submit');if(Ra||Xa)va=!0,(Xa=Ra?ja.getAttribute('data-gina-form-submit-method')||X.currentTarget.getAttribute('method'):ja.parentNode.getAttribute('data-gina-form-submit-method')||
X.currentTarget.getAttribute('method'))&&(Ra&&ja.form?ja.form.setAttribute?ja.form.setAttribute('method',Xa):X.currentTarget.setAttribute('method',Xa):ja.parentNode.form&&(ja.parentNode.form.setAttribute?ja.parentNode.form.setAttribute('method',Xa):X.currentTarget.setAttribute('method',Xa)));'undefined'!=typeof ja.id&&ja.getAttribute('id')||ja.setAttribute('id','click.'+ba.v4());ja.id=ja.getAttribute('id');if(/^click\./.test(ja.id)||q){Ra=ja.id;if(!Ra)return!1;/^click\./.test(Ra)||(Ra=ja.id);if(!ja.disabled&&
/(checkbox|radio)/i.test(ja.type)){if(/checkbox/i.test(ja.type))return Cb(ja);if(/radio/i.test(ja.type))return Ya(ja,!1,!0)}if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;if('submit'==ja.type&&!/^submit\./i.test(Ra)||va&&!/^submit\./i.test(Ra))Ra='submit.'+Ra;'reset'!=ja.type||/^reset\./i.test(Ra)||(Ra='reset.'+Ra);gina.events[Ra]?(cancelEvent(X),triggerEvent(gina,ja,Ra,X.detail)):va&&'undefined'!=typeof this.id&&''!=this.id&&'undefined'!=typeof gina.validator.$forms[this.id]&&
(gina.validator.getFormById(this.id).submit(),cancelEvent(X))}}})};K();R='validate.'+b;K=function(){addListener(gina,l,R,function(ca){cancelEvent(ca);var X=h.eventData.error||h.eventData.validation||ca.detail;F(ca.target,X.fields||X.error,X.data);ca=ca.target.getAttribute('id');if('undefined'!=typeof X.isValid&&X.isValid()){var ja=w.$forms[ca].target.getAttribute('data-gina-form-inherits-data')||null;ja&&(X.data=Q(X.data,JSON.parse(decodeURIComponent(ja))));w.$forms[ca]?w.$forms[ca].send(X.data):
h&&h.send(X.data)}})};'undefined'!=typeof gina.events[R]&&gina.events[R]=='validate.'+b&&removeListener(gina,h,R,K);K();cb=function(ca,X){/^submit\./i.test(ca)||(ca='submit.'+ca);addListener(gina,X,ca,function(ja){cancelEvent(ja);var va={};ja={_length:0};var Ra=l.getAttribute('id'),Xa='undefined'!=typeof w.$forms[Ra]?w.$forms[Ra].rules:null;w.$forms[Ra].sent||(va=db(l,Xa),ja=va.fields,va=va.$fields,Xa=w.$forms[Ra].rules,0==ja._length?(delete ja._length,ja={error:[],isValid:function(){return!0},data:Na(ja)},
triggerEvent(gina,l,'validate.'+b,ja)):(b=l.getAttribute('id'),p=(Xa=l.getAttribute('data-gina-form-rule'))?Ea(Xa.replace(/\-|\//g,'.')):Ea(b.replace(/\-/g,'.')),w.$forms[Ra].isSubmitting=!0,w.$forms[Ra].isSending=!1,za(l,ja,va,p,function(eb){triggerEvent(gina,l,'validate.'+b,eb)})))})};ea=null;g=[];ea=[];K=null;ea=l.getElementsByTagName('button');if(0<ea.length)for(let ca=0,X=ea.length;ca<X;++ca)'submit'==ea[ca].type&&g.push(ea[ca]);ea=l.getElementsByTagName('a');if(0<ea.length)for(let ca=0,X=ea.length;ca<
X;++ca)ea[ca].attributes.getNamedItem('data-gina-form-submit')?g.push(ea[ca]):ea[ca].getAttribute('id')||/gina\-popin/.test(ea[ca].className)||gina.popinIsBinded||/gina\-link/.test(ea[ca].className)||(K='link.'+ba.v4(),ea[ca].id=K);K=null;Z=!1;for(let ca=0,X=g.length;ca<X;++ca){ea=g[ca];if(/button/i.test(ea.tagName)&&'undefined'!=typeof ea.type&&/submit/i.test(ea.type)||/a/i.test(ea.tagName)&&'undefined'!=typeof ea.dataset.ginaFormSubmit&&/^true$/i.test(ea.dataset.ginaFormSubmit)||/a/i.test(ea.parentNode.tagName)&&
'undefined'!=typeof ea.parentNode.dataset.ginaFormSubmit&&/^true$/i.test(ea.parentNode.dataset.ginaFormSubmit)){/a/i.test(ea.parentNode.tagName)&&(ea=ea.parentNode);if('undefined'==typeof ea.id||'undefined'!=typeof ea.id&&''==ea.id)ea.id='click.'+ba.v4(),ea.setAttribute('id',ea.id);/a/i.test(ea.tagName)&&'undefined'==typeof ea.form&&(ea.form={id:h.id});'undefined'==typeof ea.dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof w.$forms[h.id]&&'undefined'==typeof w.$forms[h.id].submitTrigger&&'undefined'!=
typeof ea.form.id&&h.id==ea.form.id&&(console.debug('attching submitTrigger: '+ea.id,'  form id: '+h.id),w.$forms[h.id].submitTrigger=h.submitTrigger=ea.id||ea.getAttribute('id'),ea.dataset.ginaFormSubmitTriggerFor=h.id)}'A'==ea.tagName&&(K=ea.getAttribute('onclick'),Z=ea.getAttribute('data-gina-form-submit'),K||Z?/return false/i.test(K)||Z||(K=/;$/.test(K)?K+'return false;':K+'; return false;'):ea.setAttribute('onclick','return false;'));ea.id?R=ea.id:(R='click.'+ba.v4(),ea.id=R,ea.setAttribute('id',
R));'undefined'!=typeof gina.events[R]&&gina.events[R]==ea.id||cb(R,ea)}R='submit';addListener(gina,l,R,function(ca){var X=ca.target,ja=X.getAttribute('id'),va=w.$forms[ja],Ra=h.binded;(va=(new DOMParser).parseFromString(X.innerHTML,'text/html').getElementById(va.submitTrigger))&&va.disabled&&cancelEvent(ca);if('undefined'!=typeof ca.defaultPrevented&&ca.defaultPrevented)return!1;(q||Ra)&&cancelEvent(ca);ca={};Ra={_length:0};va='undefined'!=typeof gina.validator.$forms[ja]?gina.validator.$forms[ja].rules:
null;for(var Xa=null,eb=null,Oa=0,wb=X.length;Oa<wb;++Oa)Xa=X[Oa].getAttribute('name'),eb=X[Oa].disabled||X[Oa].getAttribute('disabled'),eb=/disabled|true/i.test(eb)?!0:!1,Xa&&!eb&&('undefined'!=typeof X[Oa].type&&'radio'==X[Oa].type||'undefined'!=typeof X[Oa].type&&'checkbox'==X[Oa].type?X[Oa].checked?/^(true|false)$/.test(X[Oa].value)?Ra[Xa]=X[Oa].value=/^true$/.test(X[Oa].value)?!0:!1:Ra[Xa]=X[Oa].value:va&&'undefined'!=typeof va[Xa]&&'undefined'!=typeof va[Xa].isBoolean&&'checkbox'==X[Oa].type&&
!/^(true|false)$/.test(X[Oa].value)&&(Ra[Xa]=!1):Ra[Xa]=X[Oa].value,ca[Xa]=X[Oa],ca[Xa].setAttribute('data-gina-form-errors',''));Ra._length=Ra.count();0==Ra._length?(delete Ra._length,ca={error:[],isValid:function(){return!0},data:Na(Ra)},'undefined'!=typeof gina.events['submit.'+ja]?triggerEvent(gina,X,'submit.'+ja,ca):triggerEvent(gina,X,'validate.'+ja,ca)):(p=(va=X.getAttribute('data-gina-form-rule'))?Ea(va.replace(/\-|\//g,'.')):Ea(ja.replace(/\-/g,'.')),w.$forms[ja].isValidating=!0,za(X,Ra,
ca,p,function(lb){w.$forms[ja].isValidating=!1;'undefined'!=typeof gina.events['submit.'+ja]?triggerEvent(gina,X,'submit.'+ja,lb):triggerEvent(gina,X,'validate.'+ja,lb)}))});w.$forms[b].binded=!0;/^(true)$/i.test(h.target.dataset.ginaFormLiveCheckEnabled&&0<h.rules.count())?(console.debug('silent validation mode on'),cb=db(h.target,h.rules),za(h.target,cb.fields,cb.$fields,h.rules,function(ca){console.debug('silent validation result[isValid:'+ca.isValid()+']: ',ca);N&&U&&'undefined'!=typeof window.ginaToolbar&&
window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:b,errors:ca.error}));Ka(h,ca.isValid())})):/^(true)$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)||Ka(h,!0)},Ka=function(l,g){$formInstance=null;l instanceof HTMLFormElement?(l=l.getAttribute('id'),$formInstance=w.$forms[l]):$formInstance=l;'undefined'==typeof $formInstance.submitTrigger?console.warn('This might be normal, so do not worry if this form is handled by your javascript: `'+$formInstance.id+
'`\nGina could not complete `updateSubmitTriggerState()`: `submitTrigger` might not be attached to form instance `'+$formInstance.id+'`\nTo disable this warning, You just need to disable `Form Live Checking on your form by adding to your <form>: `data-gina-form-live-check-enabled=false``'):document.getElementById($formInstance.submitTrigger)&&(/true/i.test(g)?document.getElementById($formInstance.submitTrigger).disabled=!1:document.getElementById($formInstance.submitTrigger).disabled=!0)},db=function(l,
g,h){'undefined'==typeof h&&(h=!1);var b={},x={},q=l.id||l.getAttribute('id');'undefined'==typeof g&&(g='undefined'!=typeof w.$forms[q].rules&&0<w.$forms[q].rules.count()?w.$forms[q].rules:null,g||'undefined'==typeof gina.validator.$forms[q]||(g=gina.validator.$forms[q].rules));for(var p=0,R=l.length;p<R;++p){if(h)switch(l[p].tagName.toLowerCase()){case 'input':/^(hidden|text)$/i.test(l[p].type)&&(l[p].value=l[p].defaultValue)}if(/button/i.test(l[p].tagName)&&'undefined'!=typeof l[p].type&&/submit/i.test(l[p].type)||
/a/i.test(l[p].tagName)&&'undefined'!=typeof l[p].dataset.ginaFormSubmit&&/^true$/i.test(l[p].dataset.ginaFormSubmit))/a/i.test(l[p].tagName)&&'undefined'==typeof l[p].form&&(l[p].form={id:q}),'undefined'==typeof l[p].dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof w.$forms[q]&&'undefined'==typeof w.$forms[q].submitTrigger&&'undefined'!=typeof l[p].form.id&&q==l[p].form.id&&(w.$forms[q].submitTrigger=l[p].id||l[p].getAttribute('id'),l[p].dataset.ginaFormSubmitTriggerFor=q);var K=l[p].getAttribute('name');
var fa=l[p].disabled||l[p].getAttribute('disabled');fa=/disabled|true/i.test(fa)?!0:!1;if(K&&!fa){if('undefined'!=typeof l[p].type&&'radio'==l[p].type||'undefined'!=typeof l[p].type&&'checkbox'==l[p].type)if(l[p].checked||'undefined'==typeof g[K]&&'undefined'!=l[p].value&&/^(true|false)$/.test(l[p].value)||!l[p].checked&&'undefined'!=typeof g[K]&&'undefined'!=typeof g[K].isBoolean&&/^(true|false)$/.test(l[p].value))if(/^(true|false)$/.test(l[p].value))if('undefined'==typeof g[K]?g[K]={isBoolean:!0}:
'undefined'!=typeof g[K]&&'undefined'==typeof g[K].isBoolean&&(g[K].isBoolean=!0,g[K].isRequired=!0),'radio'==l[p].type){if('undefined'==typeof g[K])throw Error('rule '+K+' is not defined');/^true$/.test(g[K].isBoolean)&&l[p].checked&&(x[K]=/^true$/.test(l[p].value)?!0:!1)}else x[K]=l[p].value=/^true$/.test(l[p].value)?!0:!1;else x[K]=l[p].value;else g&&'undefined'!=typeof g[K]&&'undefined'!=typeof g[K].isBoolean&&'undefined'!=typeof g[K].isRequired&&!/^(true|false)$/.test(l[p].value)&&(x[K]=!1);
else x[K]=l[p].value;'undefined'==typeof b[K]&&(b[K]=l[p],b[K].setAttribute('data-gina-form-errors',''))}}x._length=x.count()||0;return{$fields:b,fields:x,rules:g}},Lb=function(l,g,h,b){return'undefined'==typeof l[h]||/^(null|NaN|undefined|\s*)$/i.test(g[h])?g[h]:'undefined'!=typeof l[h].isNumber||'undefined'!=typeof l[h].isInteger||'undefined'!=typeof l[h].isFloat||'undefined'!=typeof l[h].toFloat||'undefined'!=typeof l[h].toInteger?(/,/.test(g[h])&&(g[h]=g[h].replace(/,/g,'.').replace(/\s+/g,'')),
g[h]):'boolean'==typeof g[h]?g[h]:l[h].isBoolean?/^true$/i.test(g[h])?!0:!1:'undefined'!=typeof b&&/^true$/i.test(b)?'\\"'+g[h]+'\\"':g[h]},Vb=function(l,g){'string'!=typeof l&&(l=JSON.stringify(JSON.clone(l)));l=JSON.parse(l.replace(/"(true|false)"/gi,'$1'));for(let h in g)g[h]=Lb(l,g,h);return g},ya=function(l,g,h,b){var x=JSON.parse(l.replace(/"(true|false)"/gi,'$1')),q=JSON.stringify(x);b&&(g=h[Object.getOwnPropertyNames(h)[0]].form,h=db(g,x),delete h.fields._length,g=h.fields,h=h.$fields);b=
[];var p=0;for(R in g)b[p]=R,p++;b.sort().reverse();for(let fa=0,Ba=b.length;fa<Ba;fa++){var R=b[fa].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');R=new RegExp('\\$'+R,'g');p='\\"'+g[b[fa]]+'\\"';var K=R.test(q);K&&'undefined'!=typeof x[b[fa]]?p=Lb(x,g,b[fa],!0):K&&console.warn('`'+b[fa]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+b[fa]+'` to `string`.');l=l.replace(R,p)}if(/\$(.*)/.test(l))for(let fa=0,Ba=b.length;fa<Ba;fa++)R=b[fa].replace(/\-|_|@|#|\.|\[|\]/g,
'\\$&'),R=new RegExp('\\$'+R,'g'),p=''!=h[b[fa]].value?'\\"'+h[b[fa]].value+'\\"':'\\"\\"',(K=R.test(q))&&'undefined'!=typeof x[b[fa]]?p=Lb(x,g,b[fa],!0):K&&console.warn('`'+b[fa]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+b[fa]+'` to `string`.'),l=l.replace(R,p||h[b[fa]].checked);return JSON.parse(l)},za=function(l,g,h,b,x){delete g._length;var q=JSON.stringify(b);g=Vb(q,g);/\$(.*)/.test(q)&&(b=!/^form$/i.test(l.tagName)&&1==h.count()&&/true/i.test(l.form.dataset.ginaFormLiveCheckEnabled)?
!0:!1,b=ya(q,g,h,b));var p=null,R=q=null,K=!1,fa=0;g.count();var Ba=!1,ea=null,da=null,E=null,na=0,ra=null,ia=null,Z=null,Ga=function(Ya,cb,ca){if('undefined'==typeof cb[Ya]){skipTest=!1;for(var X in cb)if(!/^_comment$/i.test(X)&&/^\//.test(X)&&(ra=X.match(/\/(.*)\//).pop(),ia=X.replace('/'+ra+'/',''),ra=ra.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),ra=new RegExp(ra,ia),ra.test(Ya))){skipTest=!0;cb[Ya]=cb[X];break}if('undefined'==typeof cb[Ya])return}var ja=Object.getOwnPropertyNames(cb)||[];X=0;var va=
ja.length;if(0<va)for(;X<va;)'undefined'!=typeof cb[ja[X]].exclude&&/^true$/i.test(cb[ja[X]].exclude)&&(ja.splice(X,1),va--,X--),X++;for(var Ra in cb[Ya])if('function'==typeof Pa[Ya][Ra]){/^((is)\d+|is$)/.test(Ra)&&'undefined'==typeof Pa[Ya][Ra]&&(Pa[Ya][Ra]=function(){},Pa[Ya][Ra]=S(Pa[Ya][Ra],Pa[Ya][Ra.replace(/\d+/,'')]),Pa[Ya][Ra].setAlias=function(lb){this._currentValidatorAlias=lb}(Ra));try{if(Array.isArray(cb[Ya][Ra])){Z=JSON.clone(cb[Ya][Ra]);if(/\$[\-\w\[\]]*/.test(Z[0])){var Xa=Z[0].match(/\$[\-\w\[\]]*/g);
X=0;for(var eb=Xa.length;X<eb;++X)Z[0]=Z[0].replace(Xa[X],Pa[Xa[X].replace('$','')].value)}Pa[Ya][Ra].apply(Pa[Ya],Z)}else if(/^query$/.test(Ra)){ea=h[Ya];da=ea.getAttribute('id');E='asyncCompleted.'+da;var Oa=0,wb=!1;if('undefined'!=typeof gina.events[E]){console.debug('event `'+E+'` already added');na=0;break}++na;addListener(gina,ea,E,function(lb){lb.preventDefault();Oa++;--na;var hb=Object.getOwnPropertyNames(cb[Ya]);hb[hb.length-1]==Ra&&(Ba=!0);hb='asyncCompleted.'+lb.target.getAttribute('id');
if(!/true/.test(wb)){Pa[Ya]=lb.detail;var ob=l;/^form$/i.test(l.tagName)||(ob=l.form);var sb=ob.getAttribute('id');if(Ba&&0>=na&&!wb&&(wb=!0,removeListener(gina,lb.target,hb),x._data=Pa.toData(),x._errors=Pa.getErrors(Ya),x._errors&&0<x._errors.count())){'undefined'==typeof w.$forms[sb].errors&&(w.$forms[sb].errors={});w.$forms[sb].errors[Ya]=x._errors[Ya];if(!mb&&/^true|false$/i.test(w.$forms[sb].isValidating)||''!=Pa[Ya].target.value)u(zb[Ya]),F(ob,x._errors,x._data,Ya),Ka(ob,mb);N&&U&&'undefined'!=
typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:sb,errors:w.$forms[sb].errors||{}}));triggerEvent(gina,ob,'validated.'+sb,x);return}lb=!1;var mb=null;1==ja.length||ja[ja.length-1]==Ya?(mb=0<x._errors.count()?!1:!0,!mb&&/^true|false$/i.test(w.$forms[sb].isValidating)&&(w.$forms[sb].errors=Q(x._errors,w.$forms[sb].errors),u(zb[Ya]),F(ob,x._errors,x._data,Ya),Ka(ob,mb)),triggerEvent(gina,ob,'validated.'+sb,x)):/^true$/i.test(w.$forms[sb].isValidating)&&
1<ja.length&&ja[ja.length-1]!=Ya&&(lb=!0);lb&&za(ob,Cb,zb,cb,function(Kb){w.$forms[sb].isValidating=!1;mb=Kb.isValid();N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:sb,errors:Kb.error||{}}));F(ob,Kb.error,Kb.data,Ya);Ka(ob,mb)})}});Pa[Ya][Ra](cb[Ya][Ra]);continue}else Pa[Ya][Ra](cb[Ya][Ra]);delete ca[Ya]}catch(lb){if('conditions'==Ra)throw Error('[ ginaFormValidator ] could not evaluate `'+Ya+'->'+
Ra+'()` where `conditions` must be a `collection` (Array)\nStack:\n'+lb);throw Error('[ ginaFormValidator ] could not evaluate `'+Ya+'->'+Ra+'()`\nStack:\n'+lb);}}},Pa=null,$a={},ib=!1;U?/^form$/i.test(l.tagName)?(p=l.getAttribute('id'),q='validated.'+p,w.$forms[p].fields=g,'undefined'!=typeof l.eventData&&'undefined'!=typeof l.eventData.error&&delete l.eventData.error,Pa=new r(g,h,D)):(ib=!0,p=l.form.getAttribute('id')||l.form.target.getAttribute('id'),q='validated.'+p,w.$forms[p].fields=g,Pa=new r(g,
h,D,w.$forms[p].fieldsSet)):Pa=new r(g,null,D);var Cb=null,zb=null;if(ib){ib=l.form.getAttribute('id');var qb=db(w.$forms[ib].target,w.$forms[ib].rules,!1);Cb=Vb(JSON.stringify(w.$forms[ib].rules),JSON.clone(qb.fields));zb=qb.$fields}else Cb=JSON.clone(g),zb=h;ib='undefined'!=typeof b?JSON.clone(b):{};var Mb=function(Ya,cb,ca,X,ja,va,Ra,Xa){var eb=null;if('undefined'!=typeof va)for(var Oa in X){var wb=ja[Oa].getAttribute('type');if(U&&'undefined'==typeof ja[Oa])console.warn('field `'+Oa+'` found for your form rule ('+
Ya.id+'), but not found in $field collection.\nPlease, check your HTML or remove `'+Oa+'` declaration from your rule if this is a mistake.');else{U&&ja[Oa].getAttribute('data-gina-form-element-group')&&'undefined'!=typeof va[Oa]&&'undefined'!=typeof va[Oa].exclude&&va[Oa].exclude&&!ja[Oa].disabled&&(va[Oa].exclude=!1);var lb='undefined'!=typeof va['_case_'+Oa]?!0:!1;if(U&&'input'==ja[Oa].tagName.toLowerCase()&&/^(checkbox)$/i.test(wb))if(!ja[Oa].checked&&'undefined'!=typeof va[Oa]&&'undefined'!=typeof va[Oa].isRequired&&
/^(false)$/i.test(va[Oa].isRequired)||ja[Oa].disabled)va[Oa]={exclude:!0};else{if(!ja[Oa].checked&&'undefined'==typeof va[Oa])continue}else U&&'input'==ja[Oa].tagName.toLowerCase()&&/^(radio)$/i.test(wb)&&console.debug('Radio: ',ja[Oa].id,ja[Oa].checked,ja[Oa].value);for(var hb in va)if(/^_case_/.test(hb)&&'undefined'!=typeof va[hb].conditions&&(!Array.isArray(va[hb].conditions)||va[hb].conditions.length)&&'undefined'!=typeof va[hb].conditions[0].rules&&'undefined'!=typeof va[hb].conditions&&Array.isArray(va[hb].conditions))if(eb=
hb.replace('_case_',''),'undefined'==typeof zb[eb])console.warn('Found case `'+hb+'` but field `'+eb+'` is misssing in the dom.\n You should add `'+eb+'` element to your form in order to allow Validator to process this case.');else{'undefined'==typeof cb[eb]&&(cb[eb]=zb[eb].value);wb=cb[eb];U&&('true'==X[Oa]?wb=!0:'false'==X[Oa]&&(wb=!1));for(var ob=0,sb=va[hb].conditions.length;ob<sb;++ob)if(va[hb].conditions[ob].case==wb)for(var mb in va[hb].conditions[ob].rules)if(!/^_comment$/i.test(mb)&&mb!=
eb&&ja[mb])if(Oa==mb||/^\//.test(mb)||'undefined'!=typeof X[mb]||'undefined'==typeof cb[mb])if(/^\//.test(mb)){if(ra=mb.match(/\/(.*)\//).pop(),ia=mb.replace('/'+ra+'/',''),ra=ra.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),ra=new RegExp(ra,ia),ra.test(Oa)){if(va[hb].conditions[ob].case==wb||/^\//.test(va[hb].conditions[ob].case)&&(new RegExp(va[hb].conditions[ob].case)).test(wb))Kb='undefined'!=typeof va[mb]?va[mb]:{},va[mb]=Q(va[hb].conditions[ob].rules[mb],Kb);eb!=mb&&'undefined'!=typeof va[mb]&&
Ga(mb,va,X)}}else'undefined'!=typeof va[hb].conditions[ob].rules[mb]&&(caseField=mb,wb=X[caseField],'undefined'==typeof ja[caseField]?console.warn('ignoring case `'+caseField+'`: field `NaN'):(U&&/^(true|false)$/i.test(wb)&&'undefined'!=typeof va[caseField]&&'undefined'!=typeof va[caseField].isBoolean&&/^(true)$/i.test(va[caseField].isBoolean)&&(wb=/^(true)$/i.test(wb)?!0:!1),'undefined'!=typeof va[hb].conditions[ob].rules[mb]&&(Kb='undefined'!=typeof va[hb].conditions[ob].rules[mb]?va[hb].conditions[ob].rules[mb]:
{},va[mb]=Kb),eb!=mb&&'undefined'!=typeof va[mb]&&'undefined'!=typeof X[mb]&&Ga(mb,va,X)));else{X[mb]=cb[mb];var Kb='undefined'!=typeof va[mb]?va[mb]:{};va[mb]=Q(va[hb].conditions[ob].rules[mb],Kb);Ga(mb,va,X)}}if(eb!=Oa&&('undefined'!=typeof va[Oa]&&Ga(Oa,va,cb),lb)){++Xa;lb=va['_case_'+Oa].conditions;if(!lb)throw Error('[ ginaFormValidator ] case `_case_'+Oa+'` found without `condition(s)` !\nPlease, check your delcaration for `_case_'+Oa+'`');for(let Ib=0,$b=lb.length;Ib<$b;++Ib)if(wb=cb[Oa],U&&
('true'==X[Oa]?wb=!0:'false'==X[Oa]&&(wb=!1)),lb[Ib]['case']===wb||Array.isArray(lb[Ib]['case'])&&-1<lb[Ib]['case'].indexOf(wb)||/^\//.test(lb[Ib]['case'])){Kb={};if('undefined'==typeof lb[Ib].rules[Oa]&&'undefined'==typeof cb[Oa]||ja[Oa].disabled)lb[Ib].rules[Oa]={exclude:!0};for(var Eb in lb[Ib].rules)if(!/^_comment$/i.test(Eb))if(/^\//.test(Eb)){ra=Eb.match(/\/(.*)\//).pop();ia=Eb.replace('/'+ra+'/','');ra=ra.replace(/\[/g,'\\[').replace(/\]/g,'\\]');ra=new RegExp(ra,ia);for(var Gb in ja)ra.test(Gb)&&
(/^\//.test(lb[Ib]['case'])?(ra=lb[Ib]['case'].match(/\/(.*)\//).pop(),ia=lb[Ib]['case'].replace('/'+ra+'/',''),ra=new RegExp(ra,ia),ra.test(wb)&&(Kb[Gb]=lb[Ib].rules[Eb])):Kb[Gb]=lb[Ib].rules[Eb],'undefined'==typeof X[Gb]&&'undefined'!=typeof ja[Gb]&&'undefined'!=typeof ja[Gb].value&&(X[Gb]=ja[Gb].value,U&&/(true|false)/i.test(X[Gb])&&('true'==X[Gb]?X[Gb]=!0:'false'==X[Gb]&&(X[Gb]=!1)),Pa.addField(Gb,X[Gb]),'undefined'!=typeof ca[Gb]&&(Kb[Gb]=Q(Kb[Gb],ca[Gb]))))}else/^\//.test(lb[Ib]['case'])?(ra=
lb[Ib]['case'].match(/\/(.*)\//).pop(),ia=lb[Ib]['case'].replace('/'+ra+'/',''),ra=ra.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),ra=new RegExp(ra,ia),ra.test(wb)&&(Kb[Eb]=lb[Ib].rules[Eb])):Kb[Eb]=lb[Ib].rules[Eb],'undefined'==typeof X[Eb]&&'undefined'!=typeof ja[Eb]&&'undefined'!=typeof ja[Eb].value&&(X[Eb]=ja[Eb].value,U&&/(true|false)/i.test(X[Eb])&&('true'==X[Eb]?X[Eb]=!0:'false'==X[Eb]&&(X[Eb]=!1)),Pa.addField(Eb,X[Eb]),'undefined'!=typeof ca[Eb]&&(Kb[Eb]=Q(Kb[Eb],ca[Eb])));++fa;if(U)Mb(Ya,cb,
ca,X,ja,Kb,Ra,Xa);else return Mb(Ya,cb,ca,X,ja,Kb,Ra,Xa)}--Xa}}}--fa;if(0>=Xa&&0>fa){cb=Pa.getErrors();for(Oa in cb){for(rule in cb[Oa])$a[Oa]||($a[Oa]=''),0>$a[Oa].indexOf(rule)&&($a[Oa]+=rule+' ');U&&ja[Oa].setAttribute('data-gina-form-errors',$a[Oa].substr(0,$a[Oa].length-1))}try{R=Na(Pa.toData()),N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.validated||(gina.forms.validated={}),gina.forms.validated[p]||(gina.forms.validated[p]={}),window.ginaToolbar.update('forms',
{id:p,validated:R}))}catch(Ib){throw Ib;}Ba=!0;if(!K&&0>=na)if('undefined'!=typeof Ra&&'function'===typeof Ra)Ra._errors=Pa.getErrors(),Ra._data=Pa.toData(),triggerEvent(gina,Ya,'validated.'+p,Ra);else return K=!0,{isValid:Pa.isValid,error:cb,data:R}}};U&&addListener(gina,l,q,function(Ya){Ya.preventDefault();if(!K){K=!0;Ba=!1;na=0;var cb=Ya.detail,ca=cb._data||Pa.toData(),X=cb._errors||Pa.getErrors()||null;console.debug('instance errors: ',w.$forms[p].errors,' VS cbErrors: ',X,Pa.isValid(),' VS d.getErrors(): ',
Pa.getErrors());0<X.count()&&Pa.isValid()&&(Pa.isValid=function(){return!1});cb({isValid:Pa.isValid,error:X,data:Na(ca)});removeListener(gina,Ya.target,'validated.'+Ya.target.id)}});if(U)Mb(l,Cb,ib,g,h,b,x,0);else return Mb(l,Cb,ib,g,h,b,x,0)};return U?Qa(B):A(B,P,V)}'undefined'!==typeof module&&module.exports?module.exports=ValidatorPlugin:'function'===typeof define&&define.amd&&define('gina/validator',['utils/events','utils/dom','utils/effects','utils/data','lib/form-validator'],function(){return ValidatorPlugin});
define('gina/toolbar','require jquery vendor/uuid lib/collection lib/routing gina/storage gina/validator'.split(' '),function(B){var P=B('jquery');P.noConflict();var V=B('lib/routing');B('lib/collection');var ma=B('gina/storage');return function(){var U=null,N=!1,ba=!1,Q=!1,S,r=(new ma({bucket:'gina'})).Collection('plugin'),H=null,w=null,oa=!1,Aa=null,M=null,O=null,D=null,A=null,m='',z=null,y=null,G=null,u='',v=null,F=0,J=0,T=0,ta='',Fa={},W=null,ka=null,ha=null,xa=null,la=null,ua=null,Da=null,Qa=
null,La=null,Ea=null,Na=null,Ia=null,Ja=null,Ua=null,pb=function(){H=P('#gina-toolbar');if(!H.length)return!1;Aa=H.find('.gina-toolbar-tab > a');M=P('#gina-toolbar-toggle');O=P('#gina-toolbar-panels');D=O.find('.gina-toolbar-panel');z=P('#gina-toolbar-vposition');y=P('#gina-toolbar-hposition');G=z.add(y);v=P('#gina-toolbar-width');H.find('.gina-toolbar-main');W=P('#gina-toolbar-json');ka=P('#gina-toolbar-gina-json');ha=P('#gina-toolbar-toggle-code-raw');$forms=P('form:not(.gina-toolbar-options, .gina-toolbar-content)');
La=P('#gina-toolbar-data-html');Ea=P('#gina-toolbar-view-html');Na=P('#gina-toolbar-forms-html');Qa=P('#gina-toolbar-configuration-environment-html');Ia=P('#gina-toolbar-code-toggle');H.prepend('<textarea class="gina-toolbar-copy"></textarea>');Ja=H.find('.gina-toolbar-copy');w=r.findOne({_name:'toolbar'});w||(w={_name:'toolbar',_version:'1.0.3',_description:'Toolbar settings',_licence:'MIT',_author:[{name:'Fabrice Delaneau',company:'Freelancer'},{name:'Martin-Luther Etouman',company:'Rhinostone'}],
position:'top-right',width:'30',panelId:'#gina-toolbar-data',isCollapsed:!0,isUnfolded:[],debug:{forms:{active:!1,strategy:'frontend'}}},r.insert(w),w=r.findOne({_name:'toolbar'}));'1.0.3'!=w._version&&('1.0.1'>w._version&&(w.isUnfolded||(w.isUnfolded=[]),void 0!=w.codeFolding&&delete w.codeFolding),'undefined'==typeof w.isUnfolded||Array.isArray(w.isUnfolded)||(w.isUnfolded=[]),w._version='1.0.3',w.save(!0));u=w.position;F=w.width;m=w.panelId;oa=w.isCollapsed;H.removeClass('gina-toolbar-hidden');
Ub()},ab=function(x,q,p){var R=null,K=null;try{K=W?W.text():'',''==K||'null'==K?W.text('{}'):(la=JSON.parse(K),Da=JSON.parse(ka.text()),W.text(''),xa||(xa={jsonObject:JSON.clone(la),ginaJsonObject:JSON.clone(Da)},ua={}))}catch(na){console.error('Could not load'+(x?' [ '+x+' ] ':' ')+'json\n'+na.message+'\n'+na.stack)}if(la){q&&!p?(la[x]||(la[x]={}),la[x]=Da[x]=q):'data-xhr'==x&&!q&&la['data-xhr']?delete la['data-xhr']:p&&(la=q,Da=p);b(la,'');Da.environment&&(delete Da.environment.routing,delete Da.environment.reverseRouting,
delete Da.environment.forms);la.environment&&(delete la.environment.routing,delete la.environment.reverseRouting,delete la.environment.forms);Qa.html(db(la.environment,Da.environment));R=la.data;var fa=la.view;p=la.forms;var Ba=Da.data,ea=Da.view;K=Da.forms;ba=S=!1;var da=null,E=!1;/^(view-xhr)$/.test(x)&&(da=!0,fa=la[x],ea=Da[x],R=la['data-xhr'],Ba=Da['data-xhr']);if(!x||/^(data)$/.test(x))La.html('<ul class="gina-toolbar-code">'+db(R,Ba,null,da)+'</ul>'),Ea.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),
Ea.html(Vb(fa,ea,null,da,Ea)),R=$forms,Na.html(''),Na.html(za(p,K,Na,0,R,R.length,da)),Na.find('div.gina-toolbar-section > h2').off('click').on('click',function(na){na.preventDefault();P(this).parent().find('ul').first().slideToggle()});if(/^(data-xhr|view-xhr)$/.test(x)){if('undefined'==typeof la[x]||!la[x]||'null'==la[x])return!1;da=!0;E='undefined'!=typeof la[x].isXHRViewData?!0:E;E||/^(view-xhr)$/.test(x)||'undefined'==typeof la['el-xhr']||(ua.data=JSON.clone(la[x]));E&&delete la[x].isXHRViewData;
/^(data-xhr)$/.test(x)?La.html('<ul class="gina-toolbar-code">'+db(la[x],Da[x],null,da)+'</ul>'):/^(view-xhr)$/.test(x)&&(Ea.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),Ea.html(Vb(la[x],Da[x],null,da,Ea)))}/^(el-xhr)$/.test(x)&&(da=!0,R=P('#'+q).find('form:not(.gina-toolbar-options, .gina-toolbar-content)'),Na.html(''),Na.html(za(p,K,Na,0,R,R.length,
da)),Na.find('div.gina-toolbar-section > h2').off('click').on('click',function(na){na.preventDefault();P(this).parent().find('ul').first().slideToggle()}));/^(forms)$/.test(x)&&(ba=da=!0,P('#gina-toolbar-form-'+q.id).length||(R=$forms,Na.html(''),Na.html(za(p,K,Na,0,R,R.length,da)),Na.find('div.gina-toolbar-section > h2').off('click').on('click',function(na){na.preventDefault();P(this).parent().find('ul').first().slideToggle()})),'undefined'!=typeof q.rules&&l(q.id,'rules',q.rules,da),'undefined'!=
typeof q.errors&&0<q.errors.count()&&l(q.id,'errors',q.errors,da),'undefined'!=typeof q.sent&&l(q.id,'sent',q.sent,da));w.currentFile=la.file;w.currentFile||(w.currentFile=la.file);la.file==w.currentFile&&P(document).ready(function(){ba?(N=!0,0<w.isUnfolded.length&&!S&&(S=!0,setTimeout(function(){0<w.isUnfolded.length&&gb(w.isUnfolded,w.isUnfolded.length,0)},200))):da?(N=!0,0<w.isUnfolded.length&&!S&&(S=!0,gb(w.isUnfolded,w.isUnfolded.length,0))):(N=!1,setTimeout(function(){0<w.isUnfolded.length&&
gb(w.isUnfolded,w.isUnfolded.length,0)},200))})}if(!x||'el-xhr'==x&&!Q)Q=x&&'el-xhr'==x?!0:!1,ya(x)},gb=function(x,q,p){if(p==q)return!1;var R=x[p],K=null;N&&/^xhr-/.test(R)?(R=R.replace(/^xhr-/,''),K=P('.gina-toolbar-xhr-folding-state-'+R)):K=P('.gina-toolbar-folding-state-'+R);rb(K,function(){p+=1;gb(x,q,p)})},Ub=function(){La.add(Ea).off('click','a').on('click','a',function(q){q.preventDefault();rb(P(this),null,!0)}).add(Na).off('click','a').on('click','a',function(q){q.preventDefault();rb(P(this),
null,!0)});Qa.add(Ea).off('click','a').on('click','a',function(q){q.preventDefault();rb(P(this),null,!0)}).add(Na).off('click','a').on('click','a',function(q){q.preventDefault();rb(P(this),null,!0)});Ia.off('click').on('click',function(q){q.preventDefault();rb('all',null,!0)});La.add(Ea,Na).off('click','.gina-toolbar-value').on('click','.gina-toolbar-value',function(q){q.preventDefault();try{Ua=P(this).text(),Ja.text(Ua),Ja.select(),document.execCommand('copy',!1,null),Ja.blur()}catch(p){alert('Please press Ctrl/Cmd+C to copy the value')}});
ha.off('click').on('click',function(q){la&&window.open('','JSON RAW','width=400,height=100').document.write(JSON.stringify(la.data))});Aa.off('click').on('click',function(q){q.preventDefault();Aa.removeClass('gina-toolbar-active');D.removeClass('gina-toolbar-active');P(this).addClass('gina-toolbar-active');m=P(this).attr('href');A=P(m).addClass('gina-toolbar-active');w.panelId=m;w.save()});M.off('click').on('click',function(q){q.preventDefault();H.toggleClass('gina-toolbar-collapsed');oa=H.hasClass('gina-toolbar-collapsed');
w.isCollapsed=oa;w.save()});G.off('change').on('change',function(q){q.preventDefault();q=z.val();var p=y.val();u=q+'-'+p;Zb(u);w.position=u;w.save()});v.off('change').on('change',function(q){q.preventDefault();F=v.val();jb(F);w.width=F;w.save()});P(window).off('resize').on('resize',function(){Db()});P('body').off('keypress').on('keypress',function(q){if(!/INPUT|TEXTAREA/.test(q.target.tagName)){ta=q.keyCode?q.keyCode:q.which?q.which:q.charCode;q=new Date;if('undefined'!=typeof Fa.keynum&&Fa.keynum==
ta&&'undefined'!=typeof Fa.pressTime&&500>q.getTime()-Fa.pressTime)switch(ta){case 103:H.toggle()}Fa.pressTime=q.getTime();Fa.keynum=ta}});Aa.filter('[href="'+m+'"]').trigger('click');oa||P('#gina-toolbar-toggle').trigger('click');Zb(u);var x=u.split('-');z.val(x[0]);y.val(x[1]);jb(F);v.val(F);Db();x=W?W.text():'';/^\{\{ (.*) \}\}/.test(x)?h(x,ab):ab()},Zb=function(x){H.removeClass('gina-toolbar-top-left gina-toolbar-top-right gina-toolbar-bottom-left gina-toolbar-bottom-right').addClass('gina-toolbar-'+
x)},jb=function(x){H.removeClass('gina-toolbar-auto gina-toolbar-100 gina-toolbar-80 gina-toolbar-60 gina-toolbar-50 gina-toolbar-40 gina-toolbar-30').addClass('gina-toolbar-'+x)},Db=function(){J=window.innerHeight-32;H.find('.gina-toolbar-main').css('max-height',J+'px');var x=A.find('.gina-toolbar-main'),q=x.find('.gina-toolbar-content');T=x.height();T==J?q.addClass('gina-toolbar-content-end'):q.removeClass('gina-toolbar-content-end')},rb=function(x,q,p){'undefined'==typeof p&&(p=!1);if(void 0!=
x&&x.length&&'all'!=x){U=x.attr('class');var R=!1;if(/(gina-toolbar-folding-state-[a-z 0-9_-]+|gina-toolbar-xhr-folding-state-[a-z 0-9_-]+)/i.test(U))if(/gina-toolbar-folding-state-[a-z0-9_-]+/i.test(U)?U=U.match(/gina-toolbar-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-folding-state-/,''):(R=!0,'undefined'!=typeof U&&(U=U.match(/gina-toolbar-xhr-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-xhr-folding-state-/,'xhr-'))),0>w.isUnfolded.indexOf(U))w.isUnfolded.push(U),w.save(),x.hasClass('gina-toolbar-unfolded')||
(x.addClass('gina-toolbar-unfolded'),x.next('ul').slideToggle('fast'));else if(-1<w.isUnfolded.indexOf(U)&&x.hasClass('gina-toolbar-unfolded')){for(var K=new RegExp('^('+U+')'),fa=0,Ba=w.isUnfolded.length;fa<Ba;++fa)K.test(w.isUnfolded[fa])&&(!ba&&p||ba&&R||p)&&(w.isUnfolded.splice(fa,1),--fa);w.save(!0);0>w.isUnfolded.indexOf(U)&&(x.removeClass('gina-toolbar-unfolded'),x.next('ul').slideToggle('fast'))}else x.addClass('gina-toolbar-unfolded'),x.next('ul').slideToggle('fast')}'undefined'!=typeof q&&
null!=q&&q()},xb=function(x){var q={},p=null,R=[],K=0;for(p in x)x.hasOwnProperty(p)&&(R[K]=p,++K);var fa=R.length;R.sort();for(K=0;K<fa;++K)p=R[K],q[p]=x[p];return q},Ka=function(x,q){var p='';if('undefined'!=typeof x&&''!=x){var R=x;'string'==typeof x&&(R=x.replace(/(\]\[|\[)/g,'-').replace(/\]/,'').replace(/[^A-Za-z0-9_-]/g,'_'));p+=R+'-'}'undefined'!=typeof q&&''!=q?(x=q,'string'==typeof q&&(x=q.replace(/(\]\[|\[)/g,'-').replace(/\]/,'')),p+=x):p=p.substr(0,p.length-1);return p.trim()},db=function(x,
q,p,R,K){var fa='';p='undefined'!=typeof p&&null!=p?p.replace(/[^A-Za-z0-9_-]/g,'_'):'';var Ba='undefined'!=typeof K&&null!=K?K:'',ea='undefined'!=typeof R&&null!=R?'-xhr':'';if(x){x=xb(x);q=xb(q);for(var da in x)if('object'!=typeof x[da]||Array.isArray(x[da])||null===x[da])if(Array.isArray(x[da])){p+='-'+da.replace(/[^A-Za-z0-9_-]/g,'_');var E=0<x[da].length||'undefined'!=typeof q[da]&&0<q[da].length?'':' is-empty';fa+='<li class="gina-toolbar-collection">';fa+='<a href="#" class="gina-toolbar-key gina-toolbar'+
ea+'-folding-state-'+Ka(Ba,da.replace(/[^A-Za-z0-9_-]/g,'_'))+E+'">'+da+' <span>['+x[da].length+']</span></a>';fa+='<ul class="gina-toolbar-collection">'+Lb(x[da],q[da],p,R,K)+'</ul>';fa+='</li>';p=p.substr(0,p.length-da.length)}else E=null===q[da]?'null':typeof q[da],'undefined'==E?(fa+='<li class="gina-toolbar-key-value">',fa+='<span class="gina-toolbar-key gina-toolbar-key-added">'+da+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+E+'">'+x[da]+'</span>'):(x[da]!==q[da]&&
(fa+='<li class="gina-toolbar-key-value gina-toolbar-is-overridden">',fa+='<span class="gina-toolbar-key">'+da+':</span> <span class="gina-toolbar-value">'+q[da]+'</span>',fa+='</li>'),fa+='<li class="gina-toolbar-key-value">',fa+='<span class="gina-toolbar-key">'+da+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+E+'">'+x[da]+'</span>'),fa+='</li>';else p+='-'+da.replace(/[^A-Za-z0-9_-]/g,'_'),E=0<x[da].count()||'undefined'!=typeof q[da]&&0<q[da].count()?'':' is-empty',fa+=
'<li class="gina-toolbar-object">',fa+='<a href="#" class="gina-toolbar-key gina-toolbar'+ea+'-folding-state-'+Ka(Ba,da.replace(/[^A-Za-z0-9_-]/g,'_'))+E+'">'+da+' <span>{ }</span></a>',fa+='<ul class="gina-toolbar-object">'+db(x[da],q[da],p,R,K)+'</ul>',fa+='</li>',p=p.substr(0,p.length-da.length);return fa}},Lb=function(x,q,p,R,K){var fa='';p='undefined'!=typeof p&&null!=p?p:'';var Ba='undefined'!=typeof K&&null!=K?K:'',ea='undefined'!=typeof R&&null!=R?'-xhr':'';q||=[];for(var da=0,E=x.length;da<
E;++da)'object'!=typeof x[da]||Array.isArray(x[da])?Array.isArray(x[da])?(p+='-'+da,''==Ba&&(Ba=p),fa+='<li class="gina-toolbar-collection">',fa+='<a href="#" class="gina-toolbar-key gina-toolbar'+ea+'-folding-state-'+Ka(Ba,da)+'">'+da+'<span>[ ]</span></a>',fa+='<ul class="gina-toolbar-collection">'+Lb(x[da],q[da],p,R,K)+'</ul>',fa+='</li>',p=p.substr(0,p.length-da.toString().length)):fa+='<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+da+':</span> <span class="gina-toolbar-value">'+
x[da]+'</span></li>':(q[da]||(q[da]=x[da]),p+='-'+da,''==Ba&&(Ba=p),fa+='<li class="gina-toolbar-object">',fa+='<a href="#" class="gina-toolbar-key gina-toolbar'+ea+'-folding-state-'+Ka(Ba,da)+'">'+da+' <span>{ }</span></a>',fa+='<ul class="gina-toolbar-object">'+db(x[da],q[da],p,R,K)+'</ul>',fa+='</li>',p=p.substr(0,p.length-da.toString().length-1));return fa},Vb=function(x,q,p,R,K,fa){p=null!=p?p.replace(/[^A-Za-z0-9_-]/g,'_'):'';var Ba='undefined'!=typeof R&&null!=R?'-xhr':'';x=xb(x);q=xb(q);fa||=
K;for(var ea in x){var da=ea;if('object'!=typeof x[ea]||Array.isArray(x[ea])||null===x[ea])if(Array.isArray(x[ea])){var E=P('#gina-toolbar-view-'+p.substr(0,p.length-1));var na=E.length?!0:!1;!na||/^html/.test(p)?(E=P('.'+p),na=p+ea.replace(/[^A-Za-z0-9_-]/g,'_')+'-',E.append('<li class="gina-toolbar-collection"><a href="#" class="gina-toolbar-key gina-toolbar'+Ba+'-folding-state-'+Ka(ea.replace(/[^A-Za-z0-9_-]/g,'_'),na.substr(0,na.length-1))+'">'+ea+' <span>['+x[ea].length+']</span></a><ul> '+Lb(x[ea],
q[ea],na,E.find('li ul.'+p.substr(0,p.length-1)),da)+'</ul></li>')):(na=p+ea.replace(/[^A-Za-z0-9_-]/g,'_')+'-',E.find('li.'+p.substr(0,p.length-1)+' ul').append('<li class="gina-toolbar-collection"><a class="gina-toolbar-key gina-toolbar'+Ba+'-folding-state-'+Ka(ea.replace(/[^A-Za-z0-9_-]/g,'_'),na.substr(0,na.length-1))+'">'+ea+' <span>['+x[ea].length+']</span></a><ul>'+Lb(x[ea],q[ea],na,E.find('li ul.'+p.substr(0,p.length-1)),da)+'</ul></li>'));p+=ea.replace(/[^A-Za-z0-9_-]/g,'_')+'-';p=p.substr(0,
p.length-ea.length-1)}else if(da=null===q[ea]?'null':typeof q[ea],'undefined'==da)/\-$/.test(p)&&(p=p.substr(0,p.length-1)),p&&K.find('ul.'+p).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key gina-toolbar-key-added">'+ea+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+da+'">'+x[ea]+'</span></li>');else if(x[ea]!==q[ea]){p||(p+=ea.replace(/[^A-Za-z0-9_-]/g,'_')+'-');try{K.find('ul.'+p).append('<li class="gina-toolbar-key-value gina-toolbar-is-overridden"><span class="gina-toolbar-key">'+
ea+':</span> <span class="gina-toolbar-value">'+q[ea]+'</span></li>'),K.find('ul.'+p).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ea+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+da+'">'+x[ea]+'</span></li>')}catch(ra){throw Error('GinaToolbarError: `ul.'+p+'` not found');}}else!p||/^html\-properties/.test(p)?fa.find('.gina-toolbar-properties').append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ea+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+
da+'">'+x[ea]+'</span></li>'):fa.find('ul.'+p.substr(0,p.length-1)).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ea+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+da+'">'+x[ea]+'</span></li>');else E=P('#gina-toolbar-view-'+p.substr(0,p.length-1)),(na=E.length?!0:!1)?(na=p+ea.replace(/[^A-Za-z0-9_-]/g,'_')+'-',E.find('ul.'+p.substr(0,p.length-1)).append('<li class="gina-toolbar-object"><a href="#" class="gina-toolbar-key gina-toolbar'+Ba+'-folding-state-'+
Ka(ea.replace(/[^A-Za-z0-9_-]/g,'_'),na.substr(0,na.length-1))+'">'+ea+' <span>{ }</span></a><ul class="gina-toolbar-object '+na.substr(0,na.length-1)+'"></ul></li>'),Vb(x[ea],q[ea],na,R,E.find('ul.'+p.substr(0,p.length-1)),fa),p+=ea.replace(/[^A-Za-z0-9_-]/g,'_')+'-'):(p+=ea.replace(/[^A-Za-z0-9_-]/g,'_')+'-','params'==ea?(da='<div id="gina-toolbar-view-'+p.substr(0,p.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+p.substr(0,p.length-1)+'</h2><ul class="'+p.substr(0,
p.length-1)+'"></ul></div>',P('#gina-toolbar-view-html-properties').before(da)):/^html/.test(p)||(da='<div id="gina-toolbar-view-'+p.substr(0,p.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+p.substr(0,p.length-1)+'</h2><ul class="'+p.substr(0,p.length-1)+'"></ul></div>',K.append(da)),Vb(x[ea],q[ea],p,R,K.find('ul.'+p.substr(0,p.length-1)),fa)),p=p.substr(0,p.length-ea.length-1)}return fa.html()},ya=function(x){x=gina.hasPopinHandler?gina.popin.getActivePopin():
null;var q,p=(gina.hasPopinHandler?P('#'+x.id):P('body')).html().match(/404:\[(.+)\](.+)@(.+)"/gm);if(p){var R=0;for(q=p.length;R<q;++R){x=p[R].replace(/"(.*)|"/g,'');var K=x.match(/\[(.*)\]/g,'')[0].replace(/\[|\]/g,'');V.getRouteByUrl(x,K)}}fLen=V.notFound.count();if(0<fLen)for(f in V.notFound)console.warn('(x'+V.notFound[f].count+') '+f+' => '+V.notFound[f].message)},za=function(x,q,p,R,K,fa,Ba){if(!fa)return!1;for(var ea=K[R].attributes,da,E=K[R].getAttribute('id')||K[R].id,na=P('<div id="gina-toolbar-form-'+
E+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+E+'</h2><ul class="gina-toolbar-section-content gina-toolbar-code" style="display: none;"><li class="gina-toolbar-form-attributes"><h3 class="gina-toolbar-sub-section-title">'+'gina-toolbar-form-attributes'.replace(/gina-toolbar-form-/,'')+'</h3><ul class="gina-toolbar-code"></ul></li></ul></div>'),ra,ia,Z=null,Ga=0,Pa=ea.length;Ga<Pa;++Ga)ra=ea[Ga].name,ia=ea[Ga].nodeValue,/^method$/.test(ra)&&(ia=ia.toUpperCase()),/^class$/.test(ra)&&
/\s+/.test(ia)&&(ia='<ul><li>'+ia.replace(/\s+/g,'</li><li>')+'</li></ul>'),/^action$/.test(ra)&&((da='undefined'!=typeof ea.method?ea.method.nodeValue:null)||console.warn('[ ToolbarFormHelper::UndefinedMethod : form `'+(E||void 0)+'` method attribute cannot be left undefined !'),da=V.getRouteByUrl(ia,da),'undefined'!=typeof da&&da||(da={name:'not found',namespace:'not found',param:{control:'not found',file:'not found'}}),ia='<ul><li><span class="gina-toolbar-key">url</span><span class="gina-toolbar-value">'+
(ia||'#')+'</span></li><li><span class="gina-toolbar-key">route</span><span class="gina-toolbar-value">'+da.name+'</span></li><li><span class="gina-toolbar-key">namespace</span><span class="gina-toolbar-value">'+(da.namespace||'root controller')+'</span></li><li><span class="gina-toolbar-key">control</span><span class="gina-toolbar-value">'+da.param.control+'</span></li><li><span class="gina-toolbar-key">file</span><span class="gina-toolbar-value">'+da.param.file+'</span></li><ul>',Z='<li><span class="gina-toolbar-key">'+
ra+':</span><span class="gina-toolbar-value">'+ia+'</span></li>'),/^data-gina-form-event/.test(ra)?(da='events',Z=na.find('.gina-toolbar-form-attributes').find('.gina-toolbar-key-events').length?!0:!1,ra=ra.replace(/^data-gina-form-event-/,''),Z||na.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+da+'"><h3 class="gina-toolbar-sub-section-title">'+da+'</h3><ul class="gina-toolbar-code"></ul></li>'),Z='<li><span class="gina-toolbar-key">'+ra+':</span><span class="gina-toolbar-value">'+
ia+'</span></li>',na.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+da+' > ul').append(Z)):(/^action$/.test(ra)||(Z='<li><span class="gina-toolbar-key">'+ra+':</span><span class="gina-toolbar-value">'+ia+'</span></li>'),na.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-attributes > ul').append(Z));ea=null;try{var $a=K[R].getAttribute('data-gina-form-rule');ea='undefined'!=typeof $a&&null!=$a?eval('gina.forms.rules.'+$a.replace(/-/g,'.')):eval('gina.forms.rules.'+
E.replace(/-/g,'.'))}catch(ib){}ea&&(da='rules',na.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+da+'"><h3 class="gina-toolbar-sub-section-title">'+da+'</h3><ul class="gina-toolbar-properties">'+db(ea,ea,E,Ba,da)+'</ul></li>'));p.append(na);++R;R<fa&&za(x,q,p,R,K,fa,Ba)},l=function(x,q,p,R){var K=P('#gina-toolbar-form-'+x);$section=K.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+q+'> ul');if(0<$section.length){if(0==p.count())return K.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+
q).remove(),!1;$section.html(db(p,p,x,R,q))}else K.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+q+'"><h3 class="gina-toolbar-sub-section-title">'+q+'</h3><ul class="gina-toolbar-properties">'+db(p,p,x,R,q)+'</ul></li>');x=K.find('ul.gina-toolbar-section-content');x.is(':visible')||x.slideToggle()},g=function(x,q){return x='<label class="gina-toolbar-input-file"><input type="file" multiple id="'+(x+'">')+q+'</label>'},h=function(x,q){x=g('mock','Select your JSON file');
La.html(x);W.text('');La.find('input').off('change').on('change',function(p){var R=P(this)[0].files,K=p=null;if(1==R.length)p=P(this)[0].files[0],K=new FileReader,K.addEventListener('load',function(){W.text(K.result);ka.text(K.result);q()},!1),K.readAsBinaryString(p);else{var fa=0;K=[];for(var Ba=0,ea=R.length;Ba<ea;++Ba)switch(p=R[Ba],!0){case /user/.test(p.name):K[Ba]=new FileReader;K[Ba].addEventListener('load',function(da){W.text(da.currentTarget.result);++fa;fa==R.length&&q()},!1);K[Ba].readAsBinaryString(p);
break;case /gina/.test(p.name):K[Ba]=new FileReader,K[Ba].addEventListener('load',function(da){ka.text(da.currentTarget.result);++fa;fa==R.length&&q()},!1),K[Ba].readAsBinaryString(p)}}});return!1},b=function(x,q){for(var p in x)'object'==typeof x[p]&&b(x[p],q+p+'-')};this.update=function(x,q){ab(x,q)};this.restore=function(){ua&&'undefined'!=typeof ua.data&&(xa.jsonObject.data=ua.data);ab('data',xa.jsonObject,xa.ginaJsonObject);Q=!1;V.notFound={}};if('undefined'!=typeof gina.validator)gina.validator.on('initialized',
function(){console.log('toolbar validator ready');pb()});else pb()}});
define('gina','require vendor/uuid lib/merge utils/events helpers/prototypes helpers/dateFormat gina/toolbar'.split(' '),function(B){B('utils/events');var P=B('lib/merge'),V=B('helpers/dateFormat')();B('helpers/prototypes')({dateFormat:V});var ma=B('vendor/uuid');window.process||function(U,N,ba,Q,S,r,H){for(r=U[ba]||(U[ba]={});!H&&S<Q.length;)H=U[Q[S++]+'requestAnimationFrame'];r[N]=r[N]||H&&H.bind(U)||U.setImmediate||U.setTimeout}(window,'nextTick','process',['r','webkitR','mozR','msR','oR'],0);
window.getComputedStyle||(window.getComputedStyle=function(U,N){this.el=U;this.getPropertyValue=function(ba){var Q=/(\-([a-z]){1})/g;'float'==ba&&(ba='styleFloat');Q.test(ba)&&(ba=ba.replace(Q,function(S,r,H){return H.toUpperCase()}));return U.currentStyle[ba]?U.currentStyle[ba]:null};return this});return function(U){this.plugin='gina';var N='gina-'+ma.v1(),ba=document,Q;document.id=N;N={id:N,isFrameworkLoaded:!1,hasValidator:!1,hasPopinHandler:!1,config:{},session:null,registeredEvents:{},events:{},
setOptions:function(S){Q=P(Q,S,!0)}};'undefined'!=typeof parent.window.gina&&(window.gina=P(window.gina||{},parent.window.gina));N=P(window.gina||{},N);registerEvents(this.plugin,['ginaloaded','ready']);triggerEvent(U,ba,'ginaloaded',N)}});
!function(B,P){'object'==typeof exports&&'undefined'!=typeof module?module.exports=P():'function'==typeof define&&define.amd?define('vendor/engine.io',P):(B='undefined'!=typeof globalThis?globalThis:B||self).eio=P()}(this,function(){function B(ya){return B='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(za){return typeof za}:function(za){return za&&'function'==typeof Symbol&&za.constructor===Symbol&&za!==Symbol.prototype?'symbol':typeof za},B(ya)}function P(ya,za){if(!(ya instanceof
za))throw new TypeError('Cannot call a class as a function');}function V(ya,za){for(var l=0;l<za.length;l++){var g=za[l];g.enumerable=g.enumerable||!1;g.configurable=!0;'value'in g&&(g.writable=!0);Object.defineProperty(ya,g.key,g)}}function ma(ya,za,l){return za&&V(ya.prototype,za),l&&V(ya,l),ya}function U(){return U=Object.assign||function(ya){for(var za=1;za<arguments.length;za++){var l=arguments[za],g;for(g in l)Object.prototype.hasOwnProperty.call(l,g)&&(ya[g]=l[g])}return ya},U.apply(this,arguments)}
function N(ya,za){if('function'!=typeof za&&null!==za)throw new TypeError('Super expression must either be null or a function');ya.prototype=Object.create(za&&za.prototype,{constructor:{value:ya,writable:!0,configurable:!0}});za&&Q(ya,za)}function ba(ya){return ba=Object.setPrototypeOf?Object.getPrototypeOf:function(za){return za.__proto__||Object.getPrototypeOf(za)},ba(ya)}function Q(ya,za){return Q=Object.setPrototypeOf||function(l,g){return l.__proto__=g,l},Q(ya,za)}function S(){if('undefined'==
typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(ya){return!1}}function r(ya,za,l){return r=S()?Reflect.construct:function(g,h,b){var x=[null];x.push.apply(x,h);g=new (Function.bind.apply(g,x));return b&&Q(g,b.prototype),g},r.apply(null,arguments)}function H(ya){var za='function'==typeof Map?new Map:void 0;return H=function(l){function g(){return r(l,arguments,
ba(this).constructor)}if(null===l||(h=l,-1===Function.toString.call(h).indexOf('[native code]')))return l;var h;if('function'!=typeof l)throw new TypeError('Super expression must either be null or a function');if(void 0!==za){if(za.has(l))return za.get(l);za.set(l,g)}return g.prototype=Object.create(l.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),Q(g,l)},H(ya)}function w(ya){if(void 0===ya)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return ya}function oa(ya){var za=S();return function(){var l=ba(ya);if(za){var g=ba(this).constructor;l=Reflect.construct(l,arguments,g)}else l=l.apply(this,arguments);return!l||'object'!=typeof l&&'function'!=typeof l?w(this):l}}function Aa(ya,za,l){return Aa='undefined'!=typeof Reflect&&Reflect.get?Reflect.get:function(g,h,b){for(;!Object.prototype.hasOwnProperty.call(g,h)&&null!==(g=ba(g)););if(g)return h=Object.getOwnPropertyDescriptor(g,h),h.get?h.get.call(b):h.value},Aa(ya,za,l||ya)}function M(ya){if(ya){for(var za in M.prototype)ya[za]=
M.prototype[za];return ya}}function O(ya){for(var za=arguments.length,l=Array(1<za?za-1:0),g=1;g<za;g++)l[g-1]=arguments[g];return l.reduce(function(h,b){return ya.hasOwnProperty(b)&&(h[b]=ya[b]),h},{})}function D(ya,za){za.useNativeTimers?(ya.setTimeoutFn=Na.bind(Ea),ya.clearTimeoutFn=Ia.bind(Ea)):(ya.setTimeoutFn=setTimeout.bind(Ea),ya.clearTimeoutFn=clearTimeout.bind(Ea))}function A(ya){var za='';do za=pb[ya%64]+za,ya=Math.floor(ya/64);while(0<ya);return za}function m(){var ya=A(+new Date);return ya!==
Ja?(ab=0,Ja=ya):ya+'.'+A(ab++)}function z(ya){var za='',l;for(l in ya)ya.hasOwnProperty(l)&&(za.length&&(za+='&'),za+=encodeURIComponent(l)+'='+encodeURIComponent(ya[l]));return za}function y(ya){var za={};ya=ya.split('&');for(var l=0,g=ya.length;l<g;l++){var h=ya[l].split('=');za[decodeURIComponent(h[0])]=decodeURIComponent(h[1])}return za}function G(ya){ya=ya.xdomain;try{if('undefined'!=typeof XMLHttpRequest&&(!ya||Ub))return new XMLHttpRequest}catch(za){}if(!ya)try{return new (Ea[['Active'].concat('Object').join('X')])('Microsoft.XMLHTTP')}catch(za){}}
function u(){}function v(){for(var ya in jb.requests)jb.requests.hasOwnProperty(ya)&&jb.requests[ya].abort()}function F(ya){var za=ya,l=ya.indexOf('['),g=ya.indexOf(']');-1!=l&&-1!=g&&(ya=ya.substring(0,l)+ya.substring(l,g).replace(/:/g,';')+ya.substring(g,ya.length));var h,b;ya=db.exec(ya||'');for(var x={},q=14;q--;)x[Lb[q]]=ya[q]||'';return-1!=l&&-1!=g&&(x.source=za,x.host=x.host.substring(1,x.host.length-1).replace(/;/g,':'),x.authority=x.authority.replace('[','').replace(']','').replace(/;/g,
':'),x.ipv6uri=!0),x.pathNames=function(p,R){p=R.replace(/\/{2,9}/g,'/').split('/');'/'!=R.substr(0,1)&&0!==R.length||p.splice(0,1);'/'==R.substr(R.length-1,1)&&p.splice(p.length-1,1);return p}(0,x.path),x.queryKey=(h=x.query,b={},h.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(p,R,K){R&&(b[R]=K)}),b),x}var J=Object.create(null);J.open='0';J.close='1';J.ping='2';J.pong='3';J.message='4';J.upgrade='5';J.noop='6';var T=Object.create(null);Object.keys(J).forEach(function(ya){T[J[ya]]=ya});for(var ta=
{type:'error',data:'parser error'},Fa='function'==typeof Blob||'undefined'!=typeof Blob&&'[object BlobConstructor]'===Object.prototype.toString.call(Blob),W='function'==typeof ArrayBuffer,ka=function(ya,za,l){var g=ya.type;ya=ya.data;return Fa&&ya instanceof Blob?za?l(ya):ha(ya,l):W&&(ya instanceof ArrayBuffer||('function'==typeof ArrayBuffer.isView?ArrayBuffer.isView(ya):ya&&ya.buffer instanceof ArrayBuffer))?za?l(ya):ha(new Blob([ya]),l):l(J[g]+(ya||''))},ha=function(ya,za){var l=new FileReader;
return l.onload=function(){var g=l.result.split(',')[1];za('b'+g)},l.readAsDataURL(ya)},xa='undefined'==typeof Uint8Array?[]:new Uint8Array(256),la=0;64>la;la++)xa['ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.charCodeAt(la)]=la;var ua='function'==typeof ArrayBuffer,Da=function(ya,za){if('string'!=typeof ya)return{type:'message',data:Qa(ya,za)};var l=ya.charAt(0);if('b'===l){ya=ya.substring(1);if(ua){var g=.75*ya.length;l=ya.length;var h=0;'='===ya[ya.length-1]&&(g--,'='===ya[ya.length-
2]&&g--);var b=new ArrayBuffer(g),x=new Uint8Array(b);for(g=0;g<l;g+=4){var q=xa[ya.charCodeAt(g)];var p=xa[ya.charCodeAt(g+1)];var R=xa[ya.charCodeAt(g+2)];var K=xa[ya.charCodeAt(g+3)];x[h++]=q<<2|p>>4;x[h++]=(15&p)<<4|R>>2;x[h++]=(3&R)<<6|63&K}za=Qa(b,za)}else za={base64:!0,data:ya};za={type:'message',data:za}}else za=T[l]?1<ya.length?{type:T[l],data:ya.substring(1)}:{type:T[l]}:ta;return za},Qa=function(ya,za){return'blob'===za&&ya instanceof ArrayBuffer?new Blob([ya]):ya},La=String.fromCharCode(30);
M.prototype.on=M.prototype.addEventListener=function(ya,za){return this._callbacks=this._callbacks||{},(this._callbacks['$'+ya]=this._callbacks['$'+ya]||[]).push(za),this};M.prototype.once=function(ya,za){function l(){this.off(ya,l);za.apply(this,arguments)}return l.fn=za,this.on(ya,l),this};M.prototype.off=M.prototype.removeListener=M.prototype.removeAllListeners=M.prototype.removeEventListener=function(ya,za){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;
var l,g=this._callbacks['$'+ya];if(!g)return this;if(1==arguments.length)return delete this._callbacks['$'+ya],this;for(var h=0;h<g.length;h++)if((l=g[h])===za||l.fn===za){g.splice(h,1);break}return 0===g.length&&delete this._callbacks['$'+ya],this};M.prototype.emit=function(ya){this._callbacks=this._callbacks||{};for(var za=Array(arguments.length-1),l=this._callbacks['$'+ya],g=1;g<arguments.length;g++)za[g-1]=arguments[g];if(l){g=0;for(var h=(l=l.slice(0)).length;g<h;++g)l[g].apply(this,za)}return this};
M.prototype.emitReserved=M.prototype.emit;M.prototype.listeners=function(ya){return this._callbacks=this._callbacks||{},this._callbacks['$'+ya]||[]};M.prototype.hasListeners=function(ya){return!!this.listeners(ya).length};var Ea='undefined'!=typeof self?self:'undefined'!=typeof window?window:Function('return this')(),Na=setTimeout,Ia=clearTimeout,Ja,Ua=function(ya){function za(g,h,b){var x;return P(this,za),(x=l.call(this,g)).description=h,x.context=b,x.type='TransportError',x}N(za,ya);var l=oa(za);
return za}(H(Error));la=function(ya){function za(g){var h;return P(this,za),(h=l.call(this)).writable=!1,D(w(h),g),h.opts=g,h.query=g.query,h.readyState='',h.socket=g.socket,h}N(za,ya);var l=oa(za);return ma(za,[{key:'onError',value:function(g,h,b){return Aa(ba(za.prototype),'emitReserved',this).call(this,'error',new Ua(g,h,b)),this}},{key:'open',value:function(){return'closed'!==this.readyState&&''!==this.readyState||(this.readyState='opening',this.doOpen()),this}},{key:'close',value:function(){return'opening'!==
this.readyState&&'open'!==this.readyState||(this.doClose(),this.onClose()),this}},{key:'send',value:function(g){'open'===this.readyState&&this.write(g)}},{key:'onOpen',value:function(){this.readyState='open';this.writable=!0;Aa(ba(za.prototype),'emitReserved',this).call(this,'open')}},{key:'onData',value:function(g){g=Da(g,this.socket.binaryType);this.onPacket(g)}},{key:'onPacket',value:function(g){Aa(ba(za.prototype),'emitReserved',this).call(this,'packet',g)}},{key:'onClose',value:function(g){this.readyState=
'closed';Aa(ba(za.prototype),'emitReserved',this).call(this,'close',g)}}]),za}(M);for(var pb='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''),ab=0,gb=0;64>gb;gb++);gb=!1;try{gb='undefined'!=typeof XMLHttpRequest&&'withCredentials'in new XMLHttpRequest}catch(ya){}var Ub=gb,Zb=null!=(new G({xdomain:!1})).responseType;gb=function(ya){function za(g){var h;if(P(this,za),(h=l.call(this,g)).polling=!1,'undefined'!=typeof location){var b='https:'===location.protocol,x=location.port;
x||=b?'443':'80';h.xd='undefined'!=typeof location&&g.hostname!==location.hostname||x!==g.port;h.xs=g.secure!==b}g=g&&g.forceBase64;return h.supportsBinary=Zb&&!g,h}N(za,ya);var l=oa(za);return ma(za,[{key:'doOpen',value:function(){this.poll()}},{key:'pause',value:function(g){var h=this;this.readyState='pausing';var b=function(){h.readyState='paused';g()};if(this.polling||!this.writable){var x=0;this.polling&&(x++,this.once('pollComplete',function(){--x||b()}));this.writable||(x++,this.once('drain',
function(){--x||b()}))}else b()}},{key:'poll',value:function(){this.polling=!0;this.doPoll();this.emitReserved('poll')}},{key:'onData',value:function(g){var h=this;(function(b,x){b=b.split(La);for(var q=[],p=0;p<b.length;p++){var R=Da(b[p],x);if(q.push(R),'error'===R.type)break}return q})(g,this.socket.binaryType).forEach(function(b){if('opening'===h.readyState&&'open'===b.type&&h.onOpen(),'close'===b.type)return h.onClose({description:'transport closed by the server'}),!1;h.onPacket(b)});'closed'!==
this.readyState&&(this.polling=!1,this.emitReserved('pollComplete'),'open'===this.readyState&&this.poll())}},{key:'doClose',value:function(){var g=this,h=function(){g.write([{type:'close'}])};'open'===this.readyState?h():this.once('open',h)}},{key:'write',value:function(g){var h=this;this.writable=!1;(function(b,x){var q=b.length,p=Array(q),R=0;b.forEach(function(K,fa){ka(K,!1,function(Ba){p[fa]=Ba;++R===q&&x(p.join(La))})})})(g,function(b){h.doWrite(b,function(){h.writable=!0;h.emitReserved('drain')})})}},
{key:'uri',value:function(){var g=this.query||{},h=this.opts.secure?'https':'http',b='';!1!==this.opts.timestampRequests&&(g[this.opts.timestampParam]=m());this.supportsBinary||g.sid||(g.b64=1);this.opts.port&&('https'===h&&443!==Number(this.opts.port)||'http'===h&&80!==Number(this.opts.port))&&(b=':'+this.opts.port);g=z(g);return h+'://'+(-1!==this.opts.hostname.indexOf(':')?'['+this.opts.hostname+']':this.opts.hostname)+b+this.opts.path+(g.length?'?'+g:'')}},{key:'request',value:function(){var g=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return U(g,{xd:this.xd,xs:this.xs},this.opts),new jb(this.uri(),g)}},{key:'doWrite',value:function(g,h){var b=this;g=this.request({method:'POST',data:g});g.on('success',h);g.on('error',function(x,q){b.onError('xhr post error',x,q)})}},{key:'doPoll',value:function(){var g=this,h=this.request();h.on('data',this.onData.bind(this));h.on('error',function(b,x){g.onError('xhr poll error',b,x)});this.pollXhr=h}},{key:'name',get:function(){return'polling'}}]),
za}(la);var jb=function(ya){function za(g,h){var b;return P(this,za),D(w(b=l.call(this)),h),b.opts=h,b.method=h.method||'GET',b.uri=g,b.async=!1!==h.async,b.data=void 0!==h.data?h.data:null,b.create(),b}N(za,ya);var l=oa(za);return ma(za,[{key:'create',value:function(){var g=this,h=O(this.opts,'agent','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','autoUnref');h.xdomain=!!this.opts.xd;h.xscheme=!!this.opts.xs;var b=this.xhr=new G(h);try{b.open(this.method,this.uri,this.async);
try{if(this.opts.extraHeaders)for(var x in b.setDisableHeaderCheck&&b.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(x)&&b.setRequestHeader(x,this.opts.extraHeaders[x])}catch(q){}if('POST'===this.method)try{b.setRequestHeader('Content-type','text/plain;charset=UTF-8')}catch(q){}try{b.setRequestHeader('Accept','*/*')}catch(q){}'withCredentials'in b&&(b.withCredentials=this.opts.withCredentials);this.opts.requestTimeout&&(b.timeout=this.opts.requestTimeout);b.onreadystatechange=
function(){4===b.readyState&&(200===b.status||1223===b.status?g.onLoad():g.setTimeoutFn(function(){g.onError('number'==typeof b.status?b.status:0)},0))};b.send(this.data)}catch(q){return void this.setTimeoutFn(function(){g.onError(q)},0)}'undefined'!=typeof document&&(this.index=za.requestsCount++,za.requests[this.index]=this)}},{key:'onError',value:function(g){this.emitReserved('error',g,this.xhr);this.cleanup(!0)}},{key:'cleanup',value:function(g){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=
u,g)try{this.xhr.abort()}catch(h){}'undefined'!=typeof document&&delete za.requests[this.index];this.xhr=null}}},{key:'onLoad',value:function(){var g=this.xhr.responseText;null!==g&&(this.emitReserved('data',g),this.emitReserved('success'),this.cleanup())}},{key:'abort',value:function(){this.cleanup()}}]),za}(M);if(jb.requestsCount=0,jb.requests={},'undefined'!=typeof document)'function'==typeof attachEvent?attachEvent('onunload',v):'function'==typeof addEventListener&&addEventListener('onpagehide'in
Ea?'pagehide':'unload',v,!1);var Db='function'==typeof Promise&&'function'==typeof Promise.resolve?function(ya){return Promise.resolve().then(ya)}:function(ya,za){return za(ya,0)},rb=Ea.WebSocket||Ea.MozWebSocket,xb='undefined'!=typeof navigator&&'string'==typeof navigator.product&&'reactnative'===navigator.product.toLowerCase(),Ka={websocket:function(ya){function za(g){var h;return P(this,za),(h=l.call(this,g)).supportsBinary=!g.forceBase64,h}N(za,ya);var l=oa(za);return ma(za,[{key:'doOpen',value:function(){if(this.check()){var g=
this.uri(),h=this.opts.protocols,b=xb?{}:O(this.opts,'agent','perMessageDeflate','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','localAddress','protocolVersion','origin','maxPayload','family','checkServerIdentity');this.opts.extraHeaders&&(b.headers=this.opts.extraHeaders);try{this.ws=xb?new rb(g,h,b):h?new rb(g,h):new rb(g)}catch(x){return this.emitReserved('error',x)}this.ws.binaryType=this.socket.binaryType||'arraybuffer';this.addEventListeners()}}},{key:'addEventListeners',
value:function(){var g=this;this.ws.onopen=function(){g.opts.autoUnref&&g.ws._socket.unref();g.onOpen()};this.ws.onclose=function(h){return g.onClose({description:'websocket connection closed',context:h})};this.ws.onmessage=function(h){return g.onData(h.data)};this.ws.onerror=function(h){return g.onError('websocket error',h)}}},{key:'write',value:function(g){var h=this;this.writable=!1;for(var b=function(q){var p=q===g.length-1;ka(g[q],h.supportsBinary,function(R){try{h.ws.send(R)}catch(K){}p&&Db(function(){h.writable=
!0;h.emitReserved('drain')},h.setTimeoutFn)})},x=0;x<g.length;x++)b(x)}},{key:'doClose',value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:'uri',value:function(){var g=this.query||{},h=this.opts.secure?'wss':'ws',b='';this.opts.port&&('wss'===h&&443!==Number(this.opts.port)||'ws'===h&&80!==Number(this.opts.port))&&(b=':'+this.opts.port);this.opts.timestampRequests&&(g[this.opts.timestampParam]=m());this.supportsBinary||(g.b64=1);g=z(g);return h+'://'+(-1!==this.opts.hostname.indexOf(':')?
'['+this.opts.hostname+']':this.opts.hostname)+b+this.opts.path+(g.length?'?'+g:'')}},{key:'check',value:function(){return!!rb}},{key:'name',get:function(){return'websocket'}}]),za}(la),polling:gb},db=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Lb='source protocol authority userInfo user password host port relative path directory file query anchor'.split(' '),
Vb=function(ya){function za(g){var h,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return P(this,za),h=l.call(this),g&&'object'===B(g)&&(b=g,g=null),g?(g=F(g),b.hostname=g.host,b.secure='https'===g.protocol||'wss'===g.protocol,b.port=g.port,g.query&&(b.query=g.query)):b.host&&(b.hostname=F(b.host).host),D(w(h),b),h.secure=null!=b.secure?b.secure:'undefined'!=typeof location&&'https:'===location.protocol,b.hostname&&!b.port&&(b.port=h.secure?'443':'80'),h.hostname=b.hostname||('undefined'!=
typeof location?location.hostname:'localhost'),h.port=b.port||('undefined'!=typeof location&&location.port?location.port:h.secure?'443':'80'),h.transports=b.transports||['polling','websocket'],h.readyState='',h.writeBuffer=[],h.prevBufferLen=0,h.opts=U({path:'/engine.io',agent:!1,withCredentials:!1,upgrade:!0,timestampParam:'t',rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},b),h.opts.path=h.opts.path.replace(/\/$/,'')+'/','string'==
typeof h.opts.query&&(h.opts.query=y(h.opts.query)),h.id=null,h.upgrades=null,h.pingInterval=null,h.pingTimeout=null,h.pingTimeoutTimer=null,'function'==typeof addEventListener&&(h.opts.closeOnBeforeunload&&addEventListener('beforeunload',function(){h.transport&&(h.transport.removeAllListeners(),h.transport.close())},!1),'localhost'!==h.hostname&&(h.offlineEventListener=function(){h.onClose('transport close',{description:'network connection lost'})},addEventListener('offline',h.offlineEventListener,
!1))),h.open(),h}N(za,ya);var l=oa(za);return ma(za,[{key:'createTransport',value:function(g){var h=U({},this.opts.query);h.EIO=4;h.transport=g;this.id&&(h.sid=this.id);h=U({},this.opts.transportOptions[g],this.opts,{query:h,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Ka[g](h)}},{key:'open',value:function(){var g=this;if(this.opts.rememberUpgrade&&za.priorWebsocketSuccess&&-1!==this.transports.indexOf('websocket'))var h='websocket';else{if(0===this.transports.length)return void this.setTimeoutFn(function(){g.emitReserved('error',
'No transports available')},0);h=this.transports[0]}this.readyState='opening';try{h=this.createTransport(h)}catch(b){return this.transports.shift(),void this.open()}h.open();this.setTransport(h)}},{key:'setTransport',value:function(g){var h=this;this.transport&&this.transport.removeAllListeners();this.transport=g;g.on('drain',this.onDrain.bind(this)).on('packet',this.onPacket.bind(this)).on('error',this.onError.bind(this)).on('close',function(b){return h.onClose('transport close',b)})}},{key:'probe',
value:function(g){function h(){K||(K=!0,ea(),R.close(),R=null)}function b(){Ba('transport closed')}function x(){Ba('socket closed')}function q(da){R&&da.name!==R.name&&h()}var p=this,R=this.createTransport(g),K=!1;za.priorWebsocketSuccess=!1;var fa=function(){K||(R.send([{type:'ping',data:'probe'}]),R.once('packet',function(da){if(!K)if('pong'===da.type&&'probe'===da.data){if(p.upgrading=!0,p.emitReserved('upgrading',R),R)za.priorWebsocketSuccess='websocket'===R.name,p.transport.pause(function(){K||
'closed'!==p.readyState&&(ea(),p.setTransport(R),R.send([{type:'upgrade'}]),p.emitReserved('upgrade',R),R=null,p.upgrading=!1,p.flush())})}else da=Error('probe error'),da.transport=R.name,p.emitReserved('upgradeError',da)}))},Ba=function(da){da=Error('probe error: '+da);da.transport=R.name;h();p.emitReserved('upgradeError',da)},ea=function(){R.removeListener('open',fa);R.removeListener('error',Ba);R.removeListener('close',b);p.off('close',x);p.off('upgrading',q)};R.once('open',fa);R.once('error',
Ba);R.once('close',b);this.once('close',x);this.once('upgrading',q);R.open()}},{key:'onOpen',value:function(){if(this.readyState='open',za.priorWebsocketSuccess='websocket'===this.transport.name,this.emitReserved('open'),this.flush(),'open'===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var g=0,h=this.upgrades.length;g<h;g++)this.probe(this.upgrades[g])}},{key:'onPacket',value:function(g){if('opening'===this.readyState||'open'===this.readyState||'closing'===this.readyState)switch(this.emitReserved('packet',
g),this.emitReserved('heartbeat'),g.type){case 'open':this.onHandshake(JSON.parse(g.data));break;case 'ping':this.resetPingTimeout();this.sendPacket('pong');this.emitReserved('ping');this.emitReserved('pong');break;case 'error':var h=Error('server error');h.code=g.data;this.onError(h);break;case 'message':this.emitReserved('data',g.data),this.emitReserved('message',g.data)}}},{key:'onHandshake',value:function(g){this.emitReserved('handshake',g);this.id=g.sid;this.transport.query.sid=g.sid;this.upgrades=
this.filterUpgrades(g.upgrades);this.pingInterval=g.pingInterval;this.pingTimeout=g.pingTimeout;this.maxPayload=g.maxPayload;this.onOpen();'closed'!==this.readyState&&this.resetPingTimeout()}},{key:'resetPingTimeout',value:function(){var g=this;this.clearTimeoutFn(this.pingTimeoutTimer);this.pingTimeoutTimer=this.setTimeoutFn(function(){g.onClose('ping timeout')},this.pingInterval+this.pingTimeout);this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:'onDrain',value:function(){this.writeBuffer.splice(0,
this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emitReserved('drain'):this.flush()}},{key:'flush',value:function(){if('closed'!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var g=this.getWritablePackets();this.transport.send(g);this.prevBufferLen=g.length;this.emitReserved('flush')}}},{key:'getWritablePackets',value:function(){if(!(this.maxPayload&&'polling'===this.transport.name&&1<this.writeBuffer.length))return this.writeBuffer;
for(var g,h=1,b=0;b<this.writeBuffer.length;b++){if(g=this.writeBuffer[b].data){if('string'==typeof g){for(var x=0,q=0,p=0,R=g.length;p<R;p++)128>(x=g.charCodeAt(p))?q+=1:2048>x?q+=2:55296>x||57344<=x?q+=3:(p++,q+=4);g=q}else g=Math.ceil(1.33*(g.byteLength||g.size));h+=g}if(0<b&&h>this.maxPayload)return this.writeBuffer.slice(0,b);h+=2}return this.writeBuffer}},{key:'write',value:function(g,h,b){return this.sendPacket('message',g,h,b),this}},{key:'send',value:function(g,h,b){return this.sendPacket('message',
g,h,b),this}},{key:'sendPacket',value:function(g,h,b,x){if('function'==typeof h&&(x=h,h=void 0),'function'==typeof b&&(x=b,b=null),'closing'!==this.readyState&&'closed'!==this.readyState)(b=b||{}).compress=!1!==b.compress,g={type:g,data:h,options:b},this.emitReserved('packetCreate',g),this.writeBuffer.push(g),x&&this.once('flush',x),this.flush()}},{key:'close',value:function(){var g=this,h=function(){g.onClose('forced close');g.transport.close()},b=function p(){g.off('upgrade',p);g.off('upgradeError',
p);h()},x=function(){g.once('upgrade',b);g.once('upgradeError',b)};return'opening'!==this.readyState&&'open'!==this.readyState||(this.readyState='closing',this.writeBuffer.length?this.once('drain',function(){g.upgrading?x():h()}):this.upgrading?x():h()),this}},{key:'onError',value:function(g){za.priorWebsocketSuccess=!1;this.emitReserved('error',g);this.onClose('transport error',g)}},{key:'onClose',value:function(g,h){'opening'!==this.readyState&&'open'!==this.readyState&&'closing'!==this.readyState||
(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners('close'),this.transport.close(),this.transport.removeAllListeners(),'function'==typeof removeEventListener&&removeEventListener('offline',this.offlineEventListener,!1),this.readyState='closed',this.id=null,this.emitReserved('close',g,h),this.writeBuffer=[],this.prevBufferLen=0)}},{key:'filterUpgrades',value:function(g){for(var h=[],b=0,x=g.length;b<x;b++)~this.transports.indexOf(g[b])&&h.push(g[b]);return h}}]),za}(M);Vb.protocol=
4;return function(ya,za){return new Vb(ya,za)}});
function BindingHelper(B){var P={};'undefined'!=typeof B&&(P=B);P.process=function(V,ma,U){if('undefined'==typeof V||!Array.isArray(V))throw Error('`bindings` must be a defined array');'undefined'==typeof ma&&(ma=V.length,U=0);if(V[U]){var N=V[U];if('undefined'==typeof N.call)throw Error('`bindings.['+U+'].call` is required !');if('function'!=typeof P[N.call])throw Error('`bindingContext.'+N.call+'` is not a function');var ba=N.call;delete N.call;try{if('undefined'!=typeof N.handler){if(!window[N.handler])throw Error('`'+
N.handler+'` could not be reached. You must expose it to the `window` do object before any call.');var Q=N.handler;delete N.handler;window[Q].apply(this,Object.values(N));N.handler=Q}else P[ba].apply(this,Object.values(N));N.call=ba}catch(S){console.error('BindingHelper encountered error while trying to execute `'+ba+'`'+S.stack||S)}P.process(V,ma,U+1)}};return P}define('helpers/binding',[],function(){return BindingHelper});
if('undefined'!==typeof module&&module.exports){var fs=require('fs'),os=require('os'),dns=require('dns'),execSync=require('child_process').execSync,util=require('util'),promisify=util.promisify;try{var console=require('../../logger')}catch(B){}}
function Domain(B,P){var V='undefined'!==typeof module&&module.exports?!1:!0,ma=!1;V&&(ma=!!window.MSInputMethodContext&&!!document.documentMode);'function'==typeof B&&(P=B,B=void 0);var U={filename:'../dist/public_suffix_list.dat',url:'https://publicsuffix.org/list/public_suffix_list.dat',alternativeUrl:'https://raw.githubusercontent.com/publicsuffix/list/master/public_suffix_list.dat',isCachingRequired:!1,isUpdating:!1},N=null,ba=null,Q=function(Aa,M,O){if('undefined'==typeof M)M=U;else for(let D in U)'undefined'==
typeof M[D]&&(M[D]=U[D]);V||(M.filename=__dirname+'/'+M.filename);V&&M.isCachingRequired&&(console.warn('[DOMAIN] `options.isCachingRequired` is only available for backend'),M.isCachingRequired=!1);N=M;if(O)return r(M,function(D){D?O(D):(console.debug('[DOMAIN] PSL Loaded'),O(D,Aa))});r(M);console.debug('[DOMAIN] PSL Loaded');return Aa},S=function(){},r=async function(Aa,M){var O=V||Aa.isCachingRequired?Aa.url:Aa.filename,D='undefined'!=typeof Aa.isUpdating?Aa.isUpdating:!1,A=null;if(V)if(ba&&!D)M(!1);
else if(window.fetch){A=D=null;try{D=await fetch(O),ba=A=await D.text()}catch(z){A=Error('[DOMAIN] Could not load PSL\n'+(z.stack||z.message||z));M(A);return}Aa.isUpdating=!1;M(!1)}else A=Error('[DOMAIN] Fetch API not supported'),M(A);else{O=!1;if('undefined'!=typeof fs.accessSync)try{fs.accessSync(Aa.filename,fs.constants.F_OK),O=!0}catch(z){O=!1;try{fs.lstatSync(Aa.filename).isSymbolicLink()&&(O=!0)}catch(y){}}else O=fs.existsSync(Aa.filename);O||(Aa.isCachingRequired=!0);if(Aa.isCachingRequired){O=
'curl -o '+Aa.filename+' '+Aa.url+' >/dev/null 2>&1';console.debug('[DOMAIN] Running: '+O);try{execSync(O)}catch(z){console.warn('[DOMAIN] could not fetch from `'+Aa.url+'`. Trying with `'+Aa.alternativeUrl+'`');O='curl -o '+Aa.filename+' '+Aa.alternativeUrl+' >/dev/null 2>&1';try{execSync(O)}catch(y){M(y);return}}var m=!1;nIntervId=setInterval(()=>{if('undefined'!=typeof fs.accessSync)try{fs.accessSync(Aa.filename,fs.constants.F_OK),m=!0}catch(z){m=!1;try{fs.lstatSync(Aa.filename).isSymbolicLink()&&
(m=!0)}catch(y){}}else m=fs.existsSync(Aa.filename);m&&(clearInterval(nIntervId),ba=fs.readFileSync(Aa.filename).toString(),M(!1))},200)}try{ba=fs.readFileSync(Aa.filename).toString(),M&&M(!1)}catch(z){console.warn('[DOMAIN] could not read from `'+Aa.filename+'`'),r(B,M)}}},H=function(Aa){N.isUpdating=!0;r(N,Aa)},w=async function(Aa){Aa='undefined'!=typeof Aa&&''!=Aa?Aa:os.hostname();if(/\./.test(Aa))return Aa;console.debug('[DOMAIN][getFQDN] UQDN: '+Aa);var M=null,O=null;M=await promisify(dns.lookup)(Aa,
{hints:dns.ADDRCONFIG||dns.V4MAPPED}).then(function(D){console.debug('[DOMAIN][getFQDN] IP: '+D.address);console.debug('[DOMAIN][getFQDN] FAMILY: '+D.family);return D}).catch(function(D){O=D});if(O)throw O;Aa=await promisify(dns.lookupService)(M.address,0).then(function(D){console.debug('[DOMAIN][getFQDN] FQDN: '+D.hostname);console.debug('[DOMAIN][getFQDN] Service: '+D.service);return D.hostname}).catch(function(D){});if(O)throw O;if(!/\./.test(Aa))throw Error('[DOMAIN][getFQDN] `'+Aa+'` is not a FQDN !');
return Aa},oa={getRootDomain:function(Aa,M){'undefined'==typeof M&&(M=!1);var O=!1,D=!1,A=Aa.replace(/^(.*):\/\/|\/(.*)/g,''),m=A.split(/\./g).reverse(),z=m.length?m.length-1:0,y=ba.replace(/\/\/\s*(.*)\n|^\s*\n/gm,'').split(/\n/).filter(function(G,u,v){/[^a-z 0-9.]+/.test(G)&&(G=G.replace(/[^a-z 0-9.]+/g,'').replace(/^\./g,''));return/\./.test(G)&&!O&&(new RegExp('.'+G+'$')).test(A)?(O=!0,z=G.split(/\./g).length,v.splice(0,v.length),!1):G});A=m[z];0<z&&(m=m.splice(0,z),D=m[0],/:(.*)$/.test(D)&&(D=
D.replace(/:(.*)$/,'')),(D=O||!O&&-1<y.indexOf(D)?!0:!1)?1<z&&!O?(m.splice(2),A=m.reverse().join('.')):A+='.'+m.reverse().join('.'):1<z?(m.splice(2),A=m.reverse().join('.')):A+='.'+m.reverse().join('.'));/:(.*)$/.test(A)&&(A=A.replace(/:(.*)$/,''));console.debug('[DOMAIN] isSLD: '+O,Aa,' -> ',A);/^true$/i.test(M);return{value:A,isSLD:O,isRegisteredTldOrSld:D}}};V?oa.onReady=S:(oa.updatePSL=H,oa.getFQDN=w);return V&&ma&&!window.fetch?(ma=document.createElement('script'),ma.type='text/javascript',ma.src=
'https://cdn.jsdelivr.net/npm/promise-polyfill@8.1.3/dist/polyfill.min.js',S=document.createElement('script'),S.type='text/javascript',S.src='https://cdn.jsdelivr.net/npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js',document.head.appendChild(ma),document.head.appendChild(S),setTimeout(()=>Q(oa,B,P),500)):Q(oa,B,P)}'undefined'!==typeof module&&module.exports?module.exports=Domain:'function'===typeof define&&define.amd&&define('lib/domain',[],function(){return Domain});
define('gina/link','require jquery vendor/uuid lib/domain lib/merge utils/events'.split(' '),function(B){B('jquery').noConflict();var P=B('vendor/uuid'),V=B('lib/domain'),ma=null,U=B('lib/merge');B('utils/events');return function(N){function ba(m,z){var y=D(m),G=y.id,u=document.getElementById(G)||null;(u.getAttribute('data-gina-link-event-on-success')||u.getAttribute('data-gina-link-event-on-error'))&&listenToXhrEvents(y);z='undefined'==typeof z?oa:U(z,oa);if(/^(http|https):/.test(m)&&!(new RegExp('^'+
window.location.protocol+'//'+window.location.host)).test(m)){var v=ma.getRootDomain(window.location.hostname).value,F=ma.getRootDomain(m).value;v=v===F?!0:!1;gina.config.envIsDev&&(console.debug('Checking CORS from Popin plugin...TODO - local CORS Proxy'),console.debug('Is request from same domain ? ',v));v||(m=m.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+m)}z.url=m;y&&'undefined'!=typeof y.options&&(z=U(y.options,z));z.withCredentials?'withCredentials'in w?z.isSynchrone?w.open(z.method,
z.url,z.isSynchrone):w.open(z.method,z.url):'undefined'!=typeof XDomainRequest?(w=new XDomainRequest,w.open(z.method,z.url)):(w=null,triggerEvent(gina,u,'error.'+G,'CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ')):z.isSynchrone?w.open(z.method,z.url,z.isSynchrone):w.open(z.method,z.url);if(!w)throw Error('No `xhr` object initiated');z.$link=y;handleXhr(w,u,z,B);w.send()}function Q(m,z){if('object'!=typeof z)throw Error('`options` must be an object');
m.options=U(z,S.options);z=document.getElementById(m.id)||null;if('undefined'==typeof r.$links[m.id]){if(-1<Aa.indexOf(m.id))throw Error('`link '+m.id+'` already exists !');if(!gina.events[evt]){addListener(gina,z,evt,function(u){cancelEvent(u);u=O(u.target.id);var v=u.url;'undefined'==typeof u.options.isSynchrone&&(u.options.isSynchrone=!1);'undefined'==typeof u.options.withCredentials&&(u.options.withCredentials=!1);ba(v,u.options)});var y=z.childNodes,G=0;lLen=y.length;if(0<lLen)for(;G<lLen;++G)'undefined'!=
typeof y[G].tagName&&M(y[G],z,evt)}m.request=ba;m.getLinkById=O;m.getLinkByUrl=D;r.$links[m.id]=m}}this.plugin='link';registerEvents(this.plugin,'loaded ready open close destroy success error progress'.split(' '));var S={options:{url:void 0,'class':'gina-link-default'},authorizedEvents:['ready','success','error'],events:{}},r={plugin:this.plugin,id:'gina-links-'+P.v4(),on,eventData:{},$links:{},target:document,isReady:!1,initialized:!1},H={plugin:this.plugin,on,eventData:{},target:document,url:null,
request:null,$forms:[]},w=null,oa={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}},Aa=[],M=function(m,z,y){addListener(gina,m,'click',function(G){cancelEvent(G);triggerEvent(gina,z,y)})},O=function(m){return'undefined'!=typeof r.$links[m]?r.$links[m]:null},D=function(m){var z=null,y;for(y in gina.link.$links)if('undefined'!=typeof gina.link.$links[y].url&&gina.link.$links[y].url==m){z=gina.link.$links[y];break}return z},A=function(m,z){'undefined'==
typeof m&&(m=r.target);var y,G=null;m=m.getElementsByTagName('a');for(var u=0,v=m.length;u<v;++u)if(((y=m[u].getAttribute('data-gina-link'))||''==y)&&!/^false$/i.test(y)){y=m[u];var F={type:'a',method:'GET'};var J=y.getAttribute('data-gina-link-url');F.url='undefined'!=typeof J&&null!=J?J:y.getAttribute('href');J=y.getAttribute('id');if('undefined'==typeof J||null==J||''==J||/popin\.link/.test(J))J='link.click.gina-link-'+r.id+'-'+P.v4();y.id=J;evt=F.id=J;y.setAttribute('id',evt);'A'==y.tagName&&
(G=y.getAttribute('onclick'));G?'undefined'==typeof G||/return false/.test(G)||(G=/;$/.test(G)?G+'return false;':G+'; return false;',y.setAttribute('onclick',G)):y.setAttribute('onclick','return false;');'undefined'==typeof r.$links[F.id]&&(F.target=y,y=U(F,H),Q(y,z))}};new V(function(m,z){if(m)throw m;ma=z});return function(m){r.bindLinks=A;r.request=ba;r.getLinkById=O;r.getLinkByUrl=D;r.on('init',function(z){if(window.XMLHttpRequest)w=new XMLHttpRequest;else if(window.ActiveXObject)try{w=new ActiveXObject('Msxml2.XMLHTTP')}catch(y){try{w=
new ActiveXObject('Microsoft.XMLHTTP')}catch(G){}}evt='click';addListener(gina,r.target,evt,function(y){'undefined'==typeof y.target.id&&(y.target.setAttribute('id',evt+'.'+P.v4()),y.target.id=y.target.getAttribute('id'));if(/^link\.click\./.test(y.target.id)){cancelEvent(y);var G=y.target.id;(new RegExp('^link.click.gina-link-'+r.id)).test(G)&&triggerEvent(gina,y.target,G,y.detail)}});'undefined'==typeof m&&(m={});r.options=m;A(r.target,m);gina.linkIsBinded=!0;r.isReady=!0;gina.hasLinkHandler=!0;
gina.link=U(gina.link,r);triggerEvent(gina,r.target,'ready.'+r.id,r)});r.initialized=!0;return r}(N)}});
define('gina/popin','require vendor/uuid jquery lib/domain lib/merge utils/events'.split(' '),function(B){B('jquery').noConflict();var P=B('vendor/uuid'),V=B('lib/domain'),ma=null,U=B('lib/merge');B('utils/events');return function(N){function ba(){var W=null,ka;for(ka in gina.popin.$popins)if('undefined'!=typeof gina.popin.$popins[ka].isOpen&&gina.popin.$popins[ka].isOpen){W=gina.popin.$popins[ka];break}!W&&gina.popin.activePopinId&&(W=gina.popin.$popins[gina.popin.activePopinId]);return W}function Q(W,
ka){var ha=W.target,xa=W.type;'undefined'!=typeof W.detail&&'function'==typeof W.detail.trim&&(ha.innerHTML=W.detail.trim());W=function(jb,Db,rb){var xb=rb.getAttribute('data-gina-popin-is-link');xb=/^true$/i.test(xb)?!0:!1;'link'!=jb||xb||(jb='action');addListener(gina,rb,Db,function(Ka){cancelEvent(Ka);if('close'!=jb){var db=!1,Lb='loaded.'+ka.id;'undefined'==typeof gina.events[Lb]&&addListener(gina,ha,Lb,function(Vb){Vb.preventDefault();db||(db=!0,H(Vb.detail))});Lb={isSynchrone:!1,withCredentials:!1};
Lb=U(ka.options,Lb);r(ka.name,rb.href,Lb)}removeListener(gina,Ka.target,Ka.type)});addListener(gina,rb,'click',function(Ka){cancelEvent(Ka);if(null!=Ka.target.getAttribute('disabled')&&'false'!=Ka.target.getAttribute('disabled'))return!1;if('link'==jb){var db=Ka.target.getAttribute('href')||null,Lb=Ka.target.getAttribute('target');null!=Lb&&''!=Lb?window.open(db,Lb):triggerEvent(gina,Ka.target,Ka.currentTarget.id,ka)}else'undefined'==typeof Ka.target.id&&(Ka.target.setAttribute('id',Db+'.'+P.v4()),
Ka.target.id=Ka.target.getAttribute('id')),/^popin\.close\./.test(Ka.target.id)&&(cancelEvent(Ka),ka.isRedirecting=!1,O(ka.name)),/^popin\.click\./.test(Ka.target.id)&&(cancelEvent(Ka),db=Ka.target.id,(new RegExp('^popin.click.gina-popin-'+m.id)).test(db)&&triggerEvent(gina,Ka.target,db,Ka.detail))})};gina.popinIsBinded=!0;var la=null,ua=null,Da=null;if(!ka.isOpen&&A.options.cancelOnOverlayClick){var Qa=ka.target;if(!A.options.useDialogMode||gina.config.envIsDev)Qa=m.target.childNodes[0];addListener(gina,
Qa,'mousedown',function(jb){if(/gina-popin-is-active/.test(jb.target.className)){removeListener(gina,jb.target,'mousedown');jb=[];la=0;var Db=ha.getElementsByTagName('button');ua=0;Da=Db.length;if(0<Da)for(;ua<Da;++ua)/gina-popin-close/.test(Db[ua].className)&&(jb[la]=Db[ua],++la);Db=ha.getElementsByTagName('div');ua=0;Da=Db.length;if(0<Da)for(;ua<Da;++ua)/gina-popin-close/.test(Db[ua].className)&&(jb[la]=Db[ua],++la);Db=ha.getElementsByTagName('a');ua=0;Da=Db.length;if(0<Da)for(;ua<Da;++ua)/gina-popin-close/.test(Db[ua].className)&&
(jb[la]=Db[ua],++la);ua=0;for(Da=jb.length;ua<Da;++ua){Db=jb[ua];let rb=Db.getAttribute('id');for(let xb=0,Ka=D.length;xb<Ka;xb++){let db=D[xb];'undefined'!=typeof gina.events[db]&&gina.events[db]==rb&&removeListener(gina,Db,db);'undefined'!=typeof gina.events[rb]&&gina.events[rb]==rb&&removeListener(gina,Db,rb);'undefined'!=typeof gina.events[db+'.'+rb]&&gina.events[db+'.'+rb]==rb&&removeListener(gina,Db,db+'.'+rb);'undefined'!=typeof gina.events[db+'.'+rb]&&gina.events[db+'.'+rb]==db+'.'+rb&&removeListener(gina,
Db,db+'.'+rb)}}ka.isRedirecting=!1;O(ka.name)}})}/<form/i.test(ha.innerHTML)&&'undefined'!=typeof y&&y&&(ka.hasForm=!0);var La=[],Ea=[];Qa=[];Ea=ha.getElementsByTagName('button');ua=la=0;Da=Ea.length;if(0<Ea.length)for(;ua<Da;++ua)/gina-popin-close/.test(Ea[ua].className)&&(La[la]=Ea[ua],++la);Ea=ha.getElementsByTagName('div');ua=0;Da=Ea.length;if(0<Da)for(;ua<Da;++ua)/gina-popin-close/.test(Ea[ua].className)&&(La[la]=Ea[ua],++la);Ea=ha.getElementsByTagName('a');ua=0;Da=Ea.length;if(0<Da)for(;ua<
Da;++ua)/gina-popin-close/.test(Ea[ua].className)?(La[la]=Ea[ua],++la):('undefined'==typeof Ea[ua]||/(#|#.*)$/.test(Ea[ua].href)||Ea[ua].id)&&('undefined'==typeof Ea[ua]||/(#|#.*)$/.test(Ea[ua].href)||/^(click\.|popin\.link)/.test(Ea[ua].id))||Qa.push(Ea[ua]);var Na=null;Ea=null;ua=0;for(Da=La.length;ua<Da;++ua)'A'==La[ua].tagName&&(Na=La[ua].getAttribute('onclick')),Na?'undefined'==typeof Na||/return false/.test(Na)||(Na=/;$/.test(Na)?Na+'return false;':Na+'; return false;'):La[ua].setAttribute('onclick',
'return false;'),La[ua].id?Ea=La[ua].id:(Ea='popin.close.'+P.v4(),La[ua].id=Ea,La[ua].setAttribute('id',Ea)),'undefined'!=typeof gina.events[Ea]&&gina.events[Ea]==La[ua].id||W('close',Ea,La[ua]);la=0;Da=Qa.length;var Ia=null,Ja=null,Ua=null,pb={},ab=null,gb=new DOMParser,Ub=null,Zb=null;for(Ea=La=La=null;la<Da;++la)null==Qa[la].getAttribute('disabled')&&(Qa[la].id=/^null$/i.test(Qa[la].getAttribute('id'))?null:Qa[la].getAttribute('id'),Qa[la].id&&/^popin\.link/.test(Qa[la].id)&&/^popin\.click/.test(Qa[la].id)?
Ea=Qa[la].id:(Ea=!0,La=Qa[la].getAttribute('href'),La&&''!=La&&'#'!=La||('#'!=La&&Qa[la].setAttribute('href','#'),Ea=!1),/^null$/i.test(Qa[la].id)?Ea?(Ea='popin.link.'+P.v4(),Qa[la].setAttribute('data-gina-popin-is-link',!0)):(Ea='popin.click.'+P.v4(),Qa[la].setAttribute('data-gina-popin-is-link',!1)):Ea=Qa[la].id,Qa[la].id=Ea,Qa[la].setAttribute('id',Ea)),La=(La=Qa[la].getAttribute('data-gina-form-submit'))&&/^true$/i.test(La)?!0:!1,La||(/^(null|\s*)$/.test(Qa[la].getAttribute('href'))||addListener(gina,
Qa[la],'click',function(jb){jb.preventDefault();ka.isRedirecting=!0;if(ka.hasForm){Ia=ka.target.getElementsByTagName('FORM');Ja=0;for(Ua=Ia.length;Ja<Ua;++Ja)if(Ub=jb.currentTarget.id,Zb=gb.parseFromString(Ia.item(Ja).innerHTML,'text/html').getElementById(Ub)||!1)ab=Ia[Ja].getAttribute('data-gina-form-inherits-data')||null,pb=U(pb,JSON.parse(decodeURIComponent(ab)));0<pb.count()&&(/\?/.test(jb.currentTarget.href)?jb.currentTarget.href+='&inheritedData='+encodeRFC5987ValueChars(JSON.stringify(pb)):
jb.currentTarget.href+='?inheritedData='+encodeRFC5987ValueChars(JSON.stringify(pb)))}}),'undefined'!=typeof gina.events[Ea]&&gina.events[Ea]==Qa[la].id||W('link',Ea,Qa[la])));if(ka.hasForm)for(W=null,Qa=ha.getElementsByTagName('form'),la=0,Da=Qa.length;la<Da;++la)Qa[la].id&&'string'==typeof Qa[la]?W=Qa[la].id:(W=Qa[la].getAttribute('id')||'form.'+P.v4(),Qa[la].setAttribute('id',W),Qa[la].id=W),0>ka.$forms.indexOf(W)&&ka.$forms.push(W),Qa[la].close=O,y.isPopinContext=!0,y.validateFormById(Qa[la].getAttribute('id')),
removeListener(gina,ka.target,xa)}function S(W,ka){var ha=ba();if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&'undefined'!=typeof W&&'undefined'!=typeof ka&&W){ha=W;try{var xa=null;!ka&&ha.error&&/^(\{|\[)/.test(ha.error)&&(ha.error=JSON.parse(ha.error));if('undefined'!=typeof ha.error&&'object'==typeof ha.error&&'object'==typeof ha.error){xa={status:ha.status};for(xErr in ha.error)/^error$/.test(xErr)||(xa[xErr]=ha.error[xErr]);xa.error=ha.error.error;ha=xa}else'undefined'!=
typeof ha.error&&'string'==typeof ha.error&&(ha=W);ha.isXHRViewData=!0;ginaToolbar.update('data-xhr',ha);return}catch(la){throw la;}}try{ha=J(m.activePopinId)}catch(la){ha&&ginaToolbar.update('data-xhr',la)}ha||(new DOMParser).parseFromString(W,'text/html').getElementsByClassName('popin')[0]||(new DOMParser).parseFromString(W,'text/html').getElementsByTagName('div');ha='string'==typeof W&&/<(.*)>/.test(W)?(new DOMParser).parseFromString(W,'text/html').getElementById('gina-without-layout-xhr-data'):
document.getElementById('gina-without-layout-xhr-data');if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&ha)try{'undefined'!=typeof ha.value&&ha.value&&(ha=JSON.parse(decodeURIComponent(ha.value)),ha.isXHRViewData=!0,ginaToolbar.update('data-xhr',ha))}catch(la){throw la;}W='string'==typeof W&&/<(.*)>/.test(W)?(new DOMParser).parseFromString(W,'text/html').getElementById('gina-without-layout-xhr-view'):document.getElementById('gina-without-layout-xhr-view');if(gina&&'undefined'!=
typeof window.ginaToolbar&&window.ginaToolbar&&W)try{'undefined'!=typeof W.value&&W.value&&(W=JSON.parse(decodeURIComponent(W.value)),ginaToolbar.update('view-xhr',W))}catch(la){throw la;}}function r(W,ka,ha){if('undefined'==typeof W){if('undefined'==typeof this.name)throw Error('`$popin.name` needs to be defined !');W=this.name}else'undefined'==typeof this.name&&'undefined'!=W&&(this.name=W);var xa=T(W),la=xa.id;gina.popin.activePopinId||(gina.popin.activePopinId=la);var ua=document.getElementById(la)||
null;if(null==ua){var Da=null;A.options.useDialogMode?(Da=xa.options.class+' '+la,ua=document.createElement('dialog'),ua.setAttribute('id',la),ua.setAttribute('class',Da),ua.setAttribute('data-type','modal'),ua.setAttribute('aria-labelledby',W),($overlay=document.getElementById('gina-popins-overlay'))?$overlay.appendChild(ua):m.target.appendChild(ua)):(Da=xa.options.class+' '+la,ua=document.createElement('div'),ua.setAttribute('id',la),ua.setAttribute('class',Da),m.target.firstChild.appendChild(ua))}'undefined'==
typeof ha?ha=Fa:(W=Fa.withCredentials,ha=U(ha,Fa),ha.withCredentials=W);/^(http|https):/.test(ka)&&!(new RegExp('^'+window.location.protocol+'//'+window.location.host)).test(ka)&&(W=ma.getRootDomain(window.location.hostname).value,Da=ma.getRootDomain(ka).value,W=W===Da?!0:!1,gina.config.envIsDev&&(console.debug('Checking CORS from Popin plugin...TODO - local CORS Proxy'),console.debug('Is request from same domain ? ',W)),W||(ka=ka.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+ka,ha.withCredentials=
!1));ha.url=ka;xa.options=U(ha,xa.options);var Qa=null;ha.withCredentials?'withCredentials'in G?ha.isSynchrone?G.open(ha.method,ha.url,ha.isSynchrone):G.open(ha.method,ha.url):'undefined'!=typeof XDomainRequest?(G=new XDomainRequest,G.open(ha.method,ha.url)):(G=null,Qa='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ',triggerEvent(gina,ua,'error.'+la,Qa)):ha.isSynchrone?G.open(ha.method,ha.url,ha.isSynchrone):G.open(ha.method,ha.url);var La=!1;if(G){G.withCredentials=
'undefined'!=typeof ha.withCredentials?ha.withCredentials:!1;G.onerror=function(Na,Ia){Qa={status:G.status,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};La=!0;m.eventData.error=Qa+'\n'+Ia;S(Qa,La);triggerEvent(gina,ua,'error.'+la,Qa)};for(var Ea in ha.headers)G.setRequestHeader(Ea,ha.headers[Ea]);G.onreadystatechange=function(Na){if(4==G.readyState)if(Na=null,/^2/.test(G.status))try{Na=G.responseText;var Ia=G.getResponseHeader('Content-Type'),
Ja=/application\/json/.test(Ia)?!0:!1,Ua=!0;Ja&&(Na=JSON.parse(G.responseText),Na.status=G.status,Na.contentType=Ia,Ua=!1);m.eventData.success=Na;if(!Ja&&xa.isOpen&&!xa.hasForm||!Ja&&xa.isOpen&&Ua)H(Na,Ua);else{if(Ja&&'undefined'!=typeof Na.location||Ja&&'undefined'!=typeof Na.reload){Ia=!1;'undefined'!=typeof Na.isXhrRedirect&&/^true$/i.test(Na.isXhrRedirect)&&(Ia=!0);if('undefined'!=typeof Na.location&&Ia){if('undefined'!=typeof Na.popin&&'undefined'!=typeof Na.popin.close){xa.isRedirecting=!1;
xa.close();var pb=Na.popin.reload?Na.popin.reload:!1;Na.popin.location||Na.popin.url||(delete Na.popin,pb&&(Na.popin={reload:pb}))}Ja='_self';'undefined'!=typeof Na.target&&(Na.target='_'+Na.target,Ja=Na.target);if(/^_self$/.test(Ja))return Ja=null,Ja='undefined'!=typeof Na.popin?Na.popin.location||Na.popin.url:Na.location,xa.load(xa.name,Ja,xa.options),setTimeout(function(ab){ab.isOpen||ab.open()},50,xa);window.open(Na.location,Ja);return}if('undefined'!=typeof Na.location){document.location=Na.location;
return}if('undefined'!=typeof Na.reload){document.location.reload();return}'undefined'!=typeof Na.popin&&'undefined'!=typeof Na.popin.close&&(xa.isRedirecting=!1,O(xa.name))}if(!Ja){GINA_ENV_IS_DEV&&S(Na);triggerEvent(gina,ua,'loaded.'+la,Na);return}GINA_ENV_IS_DEV&&S(Na);triggerEvent(gina,$forms[0],'success.'+la,Na)}GINA_ENV_IS_DEV&&S(Na)}catch(ab){La=!1,Na={status:422,error:ab.description||ab.stack},/application\/json/.test(G.getResponseHeader('Content-Type'))&&(Na.error=JSON.parse(G.responseText),
La=!0),m.eventData.error=Na,GINA_ENV_IS_DEV&&S(Na,La),triggerEvent(gina,ua,'error.'+la,Na)}else La=!1,Na={status:G.status,error:G.responseText},/application\/json/.test(G.getResponseHeader('Content-Type'))&&(Na.error=JSON.parse(G.responseText),La=!0),m.eventData.error=Na,GINA_ENV_IS_DEV&&S(Na,La),triggerEvent(gina,ua,'error.'+la,Na)};G.send();return{open:function(){var Na=!1;addListener(gina,ua,'loaded.'+la,function(Ia){Ia.preventDefault();Na||(Na=!0,m.activePopinId=xa.id,Q(Ia,xa),Aa(xa.name))})}}}}
function H(W,ka){var ha=ba();if(ha){if(!ha.isOpen)throw Error('Popin `'+ha.name+'` is not open !');ha.isRedirecting='undefined'!=typeof ka?ka:!1;ka=ha.target;ka.innerHTML=W.trim();M(ha.name,!0);Q({target:ka,type:'loaded.'+ha.id},ha);if(!A.options.useDialogMode&&/safari/i.test(window.navigator.userAgent))for(W=document.getElementsByTagName('link'),ka=0;ka<W.length;ka++)if('stylesheet'==W[ka].getAttribute('rel')){var xa=W[ka].getAttribute('href').split('?')[0];/gina\.min\.css|gina\.css/.test(xa)&&(xa=
xa+'?version='+(new Date).getMilliseconds(),W[ka].setAttribute('href',xa))}ha.isRedirecting?triggerEvent(gina,m.target,'loaded.'+ha.id,ha):triggerEvent(gina,m.target,'open.'+ha.id,ha);if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar)try{ginaToolbar.update('el-xhr',ha.id)}catch(la){throw la;}}}function w(W){var ka=setupXhr();ka.open('GET',W,!0);ka.setRequestHeader('Content-Type','text/javascript');ka.onload=function(){eval(ka.response)};ka.send()}function oa(W){var ka=setupXhr();
ka.open('GET',W,!0);ka.setRequestHeader('Content-Type','text/css');ka.onload=function(){eval(ka.response)};ka.send()}function Aa(W){var ka='undefined'!=typeof W?T(W):J(this.id);if(!ka)throw Error('Popin name `'+W+'` not found !');W=document.getElementById(ka.id);var ha=ka.parentScripts,xa=W.getElementsByTagName('script'),la=ka.parentStyles,ua=W.getElementsByTagName('link'),Da=0,Qa=xa.length,La=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');for(La=new RegExp(La+':\\d+|'+
La);Da<Qa;++Da){if('undefined'==typeof xa[Da].src||''==xa[Da].src)continue;let Ea=xa[Da].src.replace(/(https|http|):\/\//,'').replace(La,'');-1<ha.indexOf(Ea)||w(xa[Da].src)}Da=0;for(Qa=ua.length;Da<Qa;++Da)'undefined'!=typeof ua[Da].href&&''!=ua[Da].href&&(ha=ua[Da].href.replace(/(https|http|):\/\//,'').replace(La,''),-1<la.indexOf(ha)||oa(ua[Da].href));Q({target:W,type:'loaded.'+ka.id},ka);/gina-popin-is-active/.test(W.className)||(W.className+=' gina-popin-is-active');if(!A.options.useDialogMode||
gina.config.envIsDev)/gina-popin-is-active/.test(m.target.firstChild.className)||(m.target.firstChild.className+=' gina-popin-is-active'),/gina-popin-is-active/.test(m.target.firstChild.className)&&removeListener(gina,m.target,'open.'+ka.id);A.options.useDialogMode&&!W.getAttribute('open')&&('function'===typeof W.showModal?gina.config.envIsDev?W.show():W.showModal():W.setAttribute('open',!0));ka.isOpen=!0;ka.target=W;m.activePopinId=ka.id;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar)try{ginaToolbar.update('el-xhr',
ka.id)}catch(Ea){throw Ea;}triggerEvent(gina,m.target,'open.'+ka.id,ka)}function M(W,ka){var ha='undefined'!=typeof W?T(W):ba();if(!ha&&'undefined'!=typeof W)throw Error('Popin `'+W+'` not found !');if('undefined'!=typeof ha&&null!=ha&&(W=ha.target,ka='undefined'!=typeof ka?ka:!1,null!=W&&/gina-popin-is-active/.test(W.className))){ka||(m.target.firstChild.className=m.target.firstChild.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,''),W.className=W.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,
''),W.innerHTML='');if(y&&(ka=0,W=ha.$forms.length,y.$forms&&0<W))for(;ka<W;++ka)'undefined'!=typeof y.$forms[ha.$forms[ka]]&&y.$forms[ha.$forms[ka]].destroy(),ha.$forms.splice(ka,1);gina.popinIsBinded=!1;removeListener(gina,ha.target,'loaded.'+ha.id)}}function O(W){if('undefined'==typeof W&&/^true$/.test(this.isOpen)){W=this.name;var ka=this}else{ka=T(W)||ba();if(!ka)return;W=ka.name}if(!ka&&'undefined'!=typeof W)throw Error('Popin `'+W+'` not found !');if(ka.isOpen&&'undefined'!=typeof ka&&null!=
ka&&!ka.isRedirecting){var ha=ka.target;'function'===typeof ha.close?ha.close():ha.removeAttribute('open');removeListener(gina,ka.target,'ready.'+m.id);ka.hasForm&&(ka.hasForm=!1);if(null!=ha&&/gina-popin-is-active/.test(ha.className)){M(W);ka.isOpen=!1;gina.popinIsBinded=!1;GINA_ENV_IS_DEV&&gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&ginaToolbar.restore();m.activePopinId=null;if(0<ka.$headers.length){W=0;ha=ka.$headers.length;try{for(;W<ha;++W)document.getElementById(ka.$headers[W].id).remove()}catch(xa){console.warn('Could not remove script `'+
ka.$headers[W].id+'`\n'+xa.stack)}ka.$headers=[]}triggerEvent(gina,ka.target,'close.'+ka.id,ka)}}}this.plugin='popin';var D='init loaded ready open close click destroy success error progress'.split(' ');registerEvents(this.plugin,D);var A={options:{name:void 0,'class':'gina-popin-default',useDialogMode:!0,cancelOnOverlayClick:!1},authorizedEvents:['ready','error'],events:{}},m={plugin:this.plugin,id:'gina-popins-'+P.v4(),on,eventData:{},$popins:{},activePopinId:null,getActivePopin:null,target:document,
isReady:!1,initialized:!1},z={plugin:this.plugin,on,eventData:{},target:document,name:null,load:null,loadContent:null,open:null,isOpen:!1,isRedirecting:!1,close:null,$forms:[],hasForm:!1,$headers:[]},y=null,G=null,u=[],v=function(){var W=document.createElement('div');W.id=m.id;W.setAttribute('id',m.id);W.setAttribute('class','gina-popins');if(!A.options.useDialogMode||gina.config.envIsDev){var ka=document.createElement('div');ka.setAttribute('id','gina-popins-overlay');ka.setAttribute('class','gina-popins-overlay');
W.appendChild(ka)}document.body.appendChild(W);m.target=W;m.on=on;gina.popinContainer=m.id},F=function(W,ka,ha){addListener(gina,W,'click',function(xa){cancelEvent(xa);triggerEvent(gina,ka,ha)})},J=function(W){return'undefined'!=typeof m.$popins[W]?m.$popins[W]:null},T=function(W){var ka=null,ha;for(ha in m.$popins)if(m.$popins[ha].name===W){ka=m.$popins[ha];break}return ka},ta=function(W,ka){ka=getElementsByAttribute('data-gina-popin-name');var ha=null,xa=null,la=null,ua=null,Da=null,Qa=null;Da=
0;for(Qa=ka.length;Da<Qa;++Da){ha=ka[Da];xa=ha.getAttribute('data-gina-popin-name');'A'==ha.tagName&&(la=ha.getAttribute('href'),''==la||'#'==la||/#/.test(la))&&(la=null);la||'undefined'==typeof ha.getAttribute('data-gina-popin-url')||(la=ha.getAttribute('data-gina-popin-url'));if(!la)throw Error('Found `data-gina-popin-name` without `url` !');ha.url||(ha.url=la);ha.popinName||(ha.popinName=xa);if(xa==W.name&&(ua='popin.click.gina-popin-'+m.id+'-'+P.v4()+'-'+xa,ha.id=ua,ha.setAttribute('id',ua),!gina.events[ua])){addListener(gina,
ha,ua,function(Ea){cancelEvent(Ea);var Na=!1;addListener(gina,W.target,'loaded.'+W.id,function(Ja){Ja.preventDefault();Na||(Na=!0,console.debug('active popin should be ',W.id),gina.popin.activePopinId=W.id,Q(Ja,W),W.isOpen||Aa(W.name))});Ea={isSynchrone:!1,withCredentials:!1};Ea=U(W.options,Ea);var Ia=this.getAttribute('data-gina-popin-url')||this.getAttribute('href');if(!Ia)throw Error('Popin `url` not defined, please check value for `data-gina-popin-url`');r(W.name,Ia,Ea)});xa=ha.childNodes;var La=
0;lLen=xa.length;if(0<lLen)for(;La<lLen;++La)'undefined'!=typeof xa[La].tagName&&F(xa[La],ha,ua)}}ua='click';addListener(gina,document,ua,function(Ea){if(null!=Ea.target.getAttribute('disabled')&&'false'!=Ea.target.getAttribute('disabled'))return!1;'undefined'==typeof Ea.target.id&&(Ea.target.setAttribute('id',ua+'.'+P.v4()),Ea.target.id=Ea.target.getAttribute('id'));if(/^popin\.close\./.test(Ea.target.id)){cancelEvent(Ea);var Na=Ea.target.id;triggerEvent(gina,Ea.target,Na,Ea.detail)}/^popin\.click\./.test(Ea.target.id)&&
(cancelEvent(Ea),Na=Ea.target.id,(new RegExp('^popin.click.gina-popin-'+m.id)).test(Na)&&triggerEvent(gina,Ea.target,Na,Ea.detail))});gina.popinIsBinded=!1},Fa={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}};gina.hasPopinHandler?(m.target=document.getElementById(gina.popinContainer),m.on=on):v();new V(function(W,ka){if(W)throw W;ma=ka});return function(W){m.getPopinById=J;m.getPopinByName=T;m.load=r;m.loadContent=H;m.getActivePopin=ba;m.open=Aa;
m.close=O;addListener(gina,m.target,'init.'+m.id,function(ka){ka=null;if('undefined'==typeof m.$popins['gina-popin-'+m.id+'-'+W.name]){var ha=ka=U({},z);if('object'!=typeof W)throw Error('`options` must be an object');ha.options=U(W,A.options);ha.id='gina-popin-'+m.id+'-'+ha.options.name;if('undefined'==typeof m.$popins[ha.id]){if('string'!=typeof ha.options.name||''==ha.options.name)throw Error('`options.name` can not be left `empty` or `undefined`');if(-1<u.indexOf(ha.options.name))throw Error('`popin '+
ha.options.name+'` already exists !');'undefined'!=typeof ha.options.validator&&(y=ha.options.validator,ha.validateFormById=y.validateFormById);ha.options['class']='gina-popin-container '+ha.options['class'];ha.name=ha.options.name;ha.target=m.target;ha.load=r;ha.loadContent=H;ha.open=Aa;ha.close=O;GINA_ENV_IS_DEV&&(ha.updateToolbar=S);ha.parentScripts=[];ha.parentStyles=[];var xa=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');xa=new RegExp(xa+':\\d+|'+xa);var la=document.getElementsByTagName('script');
for(let Da=0,Qa=la.length;Da<Qa;Da++)if(la[Da].src&&''!=la[Da].src){var ua=la[Da].src.replace(/(https|http|):\/\//,'').replace(xa,'');ha.parentScripts[Da]=ua}la=document.getElementsByTagName('link');for(let Da=0,Qa=la.length;Da<Qa;Da++)'undefined'!=typeof la[Da].rel&&/stylesheet/i.test(la[Da].rel)&&(ua=la[Da].href.replace(/(https|http|):\/\//,'').replace(xa,''),ha.parentStyles[Da]=ua);m.$popins[ha.id]=ha;if(window.XMLHttpRequest)G=new XMLHttpRequest;else if(window.ActiveXObject)try{G=new ActiveXObject('Msxml2.XMLHTTP')}catch(Da){try{G=
new ActiveXObject('Microsoft.XMLHTTP')}catch(Qa){}}ta(ha)}}m.isReady=!0;gina.hasPopinHandler=!0;gina.popin=U(gina.popin,m);triggerEvent(gina,m.target,'ready.'+m.id,ka)});m.initialized=!0;return m}(N)}});
'function'!==typeof Object.assign&&Object.defineProperty(Object,'assign',{value:function(B,P){if(null===B||void 0===B)throw new TypeError('Cannot convert undefined or null to object');for(var V=Object(B),ma=1;ma<arguments.length;ma++){var U=arguments[ma];if(null!==U&&void 0!==U)for(var N in U)Object.prototype.hasOwnProperty.call(U,N)&&(V[N]=U[N])}return V},writable:!0,configurable:!0});
if('undefined'==typeof JSON.clone){var clone=function(B,P){if(null==B||'object'!=typeof B||B.constructor!=Object&&B.constructor!=Array)return B;if(B.constructor==Date||B.constructor==RegExp||B.constructor==Function||B.constructor==String||B.constructor==Number||B.constructor==Boolean)return new B.constructor(B);P=P||new B.constructor;for(var V=0,ma=Object.getOwnPropertyNames(B).length||0,U=Object.keys(B);V<ma;)P[U[V]]='undefined'==typeof P[U[V]]?clone(B[U[V]],null):P[U[V]],V++;return P};JSON.clone=
clone}if('undefined'==typeof JSON.escape){var escape=function(B){try{return B.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(P){throw P;}};JSON.escape=escape}define('utils/polyfill',function(){});
function Inherits(B,P){return function(V,ma){var U='undefined'==typeof V||'undefined'==typeof ma?"inherits(a, b): neither [ a ] nor [ b ] can't be undefined or null":!1;if(U)throw Error(U);U=function(){return function(){if(this){this.prototype=V.prototype;this.name||(this.name=V.name);this.prototype.name=this.name;for(var N in ma.prototype)this[N]||(this[N]=ma.prototype[N]);ma.apply(this,arguments);V.apply(this,arguments)}}}(V,ma);void 0==V.prototype&&(V.prototype={});void 0==ma.prototype&&(ma.prototype=
{});V.prototype=Object.create(ma.prototype,{});U.prototype=Object.create(V.prototype,{});return U}}'undefined'!==typeof module&&module.exports?module.exports=Inherits():'function'===typeof define&&define.amd&&define('lib/inherits',[],function(){return Inherits()});var readyList=[{name:'gina',ctx:window.gina,fn:window.onGinaLoaded}],readyFired=!1,readyEventHandlersInstalled=!1;
function ready(){if(!readyFired){readyFired=!0;var B=null,P=function(V,ma){if(ma[V])if('gina'==ma[V].name)var U=window.setInterval(function(N,ba){try{if('undefined'==typeof ba&&(ba=window.readyList),ba[N].ctx=window.gina,B=ba[N].fn.call(window,ba[N].ctx,window.require))window.clearInterval(U),++N,P(N,ba)}catch(Q){throw window.clearInterval(U),Q;}},50,V,ma);else window.$||'undefined'==typeof parent.window.$||(window.$=parent.window.$),'undefined'==typeof window.originalContext&&'undefined'!=typeof window.$&&
(window.originalContext=window.$),ma[V].ctx=window.originalContext||$,ma[V].fn.call(window,ma[V].ctx,window.require),++V,P(V,ma);else ma=[]};P(0,readyList)}}function readyStateChange(){'complete'===document.readyState&&gina.ready()}
if('undefined'==typeof window.gina){var gina={_global:{register:function(B){if('undefined'!=typeof B)for(let P in B)window[P]=B[P]},unregister:function(B){if('undefined'==typeof B||!Array.isArray(B))throw Error('`variables` needs to ba an array');for(let P=0,V=B.length;P<V;P++)delete window[B[P]]}},ready:function(B,P){readyFired?setTimeout(function(){B(P)},1):(readyList.push({name:'anonymous',fn:B,ctx:P}),'complete'===document.readyState||!document.attachEvent&&'interactive'===document.readyState?
setTimeout(ready,1):readyEventHandlersInstalled||(document.addEventListener?(document.addEventListener('DOMContentLoaded',ready,!1),window.addEventListener('load',ready,!1)):(document.attachEvent('onreadystatechange',readyStateChange),window.attachEvent('onload',ready)),readyEventHandlersInstalled=!0))}};window.gina=gina}define('core',['require','gina'],function(B){B('gina')(window.gina)});require.config({packages:['gina']});require('vendor/uuid vendor/engine.io core helpers/prototypes helpers/binding helpers/dateFormat gina/link gina/validator gina/popin gina/storage utils/dom utils/events utils/data utils/effects utils/polyfill lib/inherits lib/form-validator lib/collection lib/domain lib/routing'.split(' '));
for(var tags=document.getElementsByTagName('script'),t=0,len=tags.length;t<len;++t)if(/gina.min.js|gina.js/.test(tags[t].getAttribute('src'))){tags[t].onload=function(B){if(window.onGinaLoaded)var P=window.onGinaLoaded;document.addEventListener?document.addEventListener('ginaloaded',function(V){window.gina=V.detail;P(V.detail)}):document.attachEvent&&document.attachEvent('ginaloaded',function(V){window.gina=V.detail;P(V.detail)})}();break};
