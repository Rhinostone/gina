/*
 RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license  @source https://gist.github.com/1129031  Engine.IO v6.2.2
 (c) 2014-2022 Guillermo Rauch
 Released under the MIT License.
*/
var requirejs,require,define;
(function(E,O){function ha(Fa,Na){return Na||''}function Ca(Fa){return'[object Function]'===T.call(Fa)}function K(Fa){return'[object Array]'===T.call(Fa)}function U(Fa,Na){if(Fa){var Xa;for(Xa=0;Xa<Fa.length&&(!Fa[Xa]||!Na(Fa[Xa],Xa,Fa));Xa+=1);}}function oa(Fa,Na){if(Fa){var Xa;for(Xa=Fa.length-1;-1<Xa&&(!Fa[Xa]||!Na(Fa[Xa],Xa,Fa));--Xa);}}function Y(Fa,Na){return ca.call(Fa,Na)}function V(Fa,Na){return Y(Fa,Na)&&Fa[Na]}function m(Fa,Na){for(var Xa in Fa)if(Y(Fa,Xa)&&Na(Fa[Xa],Xa))break}function S(Fa,
Na,Xa,qb){Na&&m(Na,function(bb,eb){if(Xa||!Y(Fa,eb))!qb||'object'!==typeof bb||!bb||K(bb)||Ca(bb)||bb instanceof RegExp?Fa[eb]=bb:(Fa[eb]||(Fa[eb]={}),S(Fa[eb],bb,Xa,qb))});return Fa}function p(Fa,Na){return function(){return Na.apply(Fa,arguments)}}function da(Fa){throw Fa;}function ya(Fa){if(!Fa)return Fa;var Na=E;U(Fa.split('.'),function(Xa){Na=Na[Xa]});return Na}function N(Fa,Na,Xa,qb){Na=Error(Na+'\nhttps://requirejs.org/docs/errors.html#'+Fa);Na.requireType=Fa;Na.requireModules=qb;Xa&&(Na.originalError=
Xa);return Na}function L(){if(z&&'interactive'===z.readyState)return z;oa(document.getElementsByTagName('script'),function(Fa){if('interactive'===Fa.readyState)return z=Fa});return z}var C,B,u,z,y,J,q,v=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,F=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,H=/\.js$/,R=/^\.\//;var sa=Object.prototype;var T=sa.toString,ca=sa.hasOwnProperty,ea=!('undefined'===typeof window||'undefined'===typeof navigator||!window.document),Ja=!ea&&'undefined'!==typeof importScripts,
fa=ea&&'PLAYSTATION 3'===navigator.platform?/^complete$/:/^(complete|loaded)$/,pa='undefined'!==typeof opera&&'[object Opera]'===opera.toString(),Ea={},Ka={},Oa=[],Ia=!1;if('undefined'===typeof define){if('undefined'!==typeof requirejs){if(Ca(requirejs))return;Ka=requirejs;requirejs=void 0}'undefined'===typeof require||Ca(require)||(Ka=require,require=void 0);var Da=requirejs=function(Fa,Na,Xa,qb){var bb='_';if(!K(Fa)&&'string'!==typeof Fa){var eb=Fa;K(Na)?(Fa=Na,Na=Xa,Xa=qb):Fa=[]}eb&&eb.context&&
(bb=eb.context);(qb=V(Ea,bb))||(qb=Ea[bb]=Da.s.newContext(bb));eb&&qb.configure(eb);return qb.require(Fa,Na,Xa)};Da.config=function(Fa){return Da(Fa)};Da.nextTick='undefined'!==typeof O?function(Fa){O(Fa,4)}:function(Fa){Fa()};require||=Da;Da.version='2.3.6';Da.jsExtRegExp=/^\/|:|\?|\.js$/;Da.isBrowser=ea;sa=Da.s={contexts:Ea,newContext:function(Fa){function Na(w,ja,ua){var na;ja=ja&&ja.split('/');var la=Ha.map,Ba=la&&la['*'];if(w){w=w.split('/');var za=w.length-1;Ha.nodeIdCompat&&H.test(w[za])&&
(w[za]=w[za].replace(H,''));'.'===w[0].charAt(0)&&ja&&(za=ja.slice(0,ja.length-1),w=za.concat(w));za=w;for(na=0;na<za.length;na++){var Ra=za[na];'.'===Ra?(za.splice(na,1),--na):'..'===Ra&&0!==na&&(1!==na||'..'!==za[2])&&'..'!==za[na-1]&&0<na&&(za.splice(na-1,2),na-=2)}w=w.join('/')}if(ua&&la&&(ja||Ba)){za=w.split('/');na=za.length;a:for(;0<na;--na){var Ua=za.slice(0,na).join('/');if(ja)for(Ra=ja.length;0<Ra;--Ra)if(ua=V(la,ja.slice(0,Ra).join('/')))if(ua=V(ua,Ua)){var rb=ua;var tb=na;break a}if(!Gb&&
Ba&&V(Ba,Ua)){var Gb=V(Ba,Ua);var Nb=na}}!rb&&Gb&&(rb=Gb,tb=Nb);rb&&(za.splice(0,tb,rb),w=za.join('/'))}return(rb=V(Ha.pkgs,w))?rb:w}function Xa(w){ea&&U(document.getElementsByTagName('script'),function(ja){if(ja.getAttribute('data-requiremodule')===w&&ja.getAttribute('data-requirecontext')===Q.contextName)return ja.parentNode.removeChild(ja),!0})}function qb(w){var ja=V(Ha.paths,w);if(ja&&K(ja)&&1<ja.length)return ja.shift(),Q.require.undef(w),Q.makeRequire(null,{skipMap:!0})([w]),!0}function bb(w){var ja=
w?w.indexOf('!'):-1;if(-1<ja){var ua=w.substring(0,ja);w=w.substring(ja+1,w.length)}return[ua,w]}function eb(w,ja,ua,na){var la=null,Ba=ja?ja.name:null,za=w,Ra=!0,Ua='';w||(Ra=!1,w='_@r'+(A+=1));w=bb(w);la=w[0];w=w[1];if(la){la=Na(la,Ba,na);var rb=V(n,la)}if(w)if(la)Ua=ua?w:rb&&rb.normalize?rb.normalize(w,function(Gb){return Na(Gb,Ba,na)}):-1===w.indexOf('!')?Na(w,Ba,na):w;else{Ua=Na(w,Ba,na);w=bb(Ua);la=w[0];Ua=w[1];ua=!0;var tb=Q.nameToUrl(Ua)}ua=!la||rb||ua?'':'_unnormalized'+(W+=1);return{prefix:la,
name:Ua,parentMap:ja,unnormalized:!!ua,url:tb,originalName:za,isDefine:Ra,id:(la?la+'!'+Ua:Ua)+ua}}function gc(w){var ja=w.id,ua=V(M,ja);ua||=M[ja]=new Q.Module(w);return ua}function yb(w,ja,ua){var na=w.id,la=V(M,na);if(!Y(n,na)||la&&!la.defineEmitComplete)if(la=gc(w),la.error&&'error'===ja)ua(la.error);else la.on(ja,ua);else'defined'===ja&&ua(n[na])}function hb(w,ja){var ua=w.requireModules,na=!1;if(ja)ja(w);else if(U(ua,function(la){if(la=V(M,la))la.error=w,la.events.error&&(na=!0,la.emit('error',
w))}),!na)Da.onError(w)}function Fb(){Oa.length&&(U(Oa,function(w){var ja=w[0];'string'===typeof ja&&(Q.defQueueMap[ja]=!0);h.push(w)}),Oa=[])}function Ob(w){delete M[w];delete e[w]}function ib(w,ja,ua){var na=w.map.id;w.error?w.emit('error',w.error):(ja[na]=!0,U(w.depMaps,function(la,Ba){la=la.id;var za=V(M,la);!za||w.depMatched[Ba]||ua[la]||(V(ja,la)?(w.defineDep(Ba,n[la]),w.check()):ib(za,ja,ua))}),ua[na]=!0)}function Ma(){var w,ja,ua=(w=1E3*Ha.waitSeconds)&&Q.startTime+w<(new Date).getTime(),
na=[],la=[],Ba=!1,za=!0;if(!wa){wa=!0;m(e,function(Ra){var Ua=Ra.map,rb=Ua.id;if(Ra.enabled&&(Ua.isDefine||la.push(Ra),!Ra.error))if(!Ra.inited&&ua)qb(rb)?Ba=ja=!0:(na.push(rb),Xa(rb));else if(!Ra.inited&&Ra.fetched&&Ua.isDefine&&(Ba=!0,!Ua.prefix))return za=!1});if(ua&&na.length)return w=N('timeout','Load timeout for modules: '+na,null,na),w.contextName=Q.contextName,hb(w);za&&U(la,function(Ra){ib(Ra,{},{})});ua&&!ja||!Ba||!ea&&!Ja||xa||(xa=O(function(){xa=0;Ma()},50));wa=!1}}function mb(w){Y(n,
w[0])||gc(eb(w[0],null,!0)).init(w[1],w[2])}function Pb(w){w=w.currentTarget||w.srcElement;var ja=Q.onScriptLoad;w.detachEvent&&!pa?w.detachEvent('onreadystatechange',ja):w.removeEventListener('load',ja,!1);ja=Q.onScriptError;w.detachEvent&&!pa||w.removeEventListener('error',ja,!1);return{node:w,id:w&&w.getAttribute('data-requiremodule')}}function Yb(){for(Fb();h.length;){var w=h.shift();if(null===w[0])return hb(N('mismatch','Mismatched anonymous define() module: '+w[w.length-1]));mb(w)}Q.defQueueMap=
{}}var wa,xa,Ha={waitSeconds:7,baseUrl:'./',paths:{},bundles:{},pkgs:{},shim:{},config:{}},M={},e={},b={},h=[],n={},x={},r={},A=1,W=1;var P={require:function(w){return w.require?w.require:w.require=Q.makeRequire(w.map)},exports:function(w){w.usingExports=!0;if(w.map.isDefine)return w.exports?n[w.map.id]=w.exports:w.exports=n[w.map.id]={}},module:function(w){return w.module?w.module:w.module={id:w.map.id,uri:w.map.url,config:function(){return V(Ha.config,w.map.id)||{}},exports:w.exports||(w.exports=
{})}}};var aa=function(w){this.events=V(b,w.id)||{};this.map=w;this.shim=V(Ha.shim,w.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};aa.prototype={init:function(w,ja,ua,na){na=na||{};if(!this.inited){this.factory=ja;if(ua)this.on('error',ua);else this.events.error&&(ua=p(this,function(la){this.emit('error',la)}));this.depMaps=w&&w.slice(0);this.errback=ua;this.inited=!0;this.ignore=na.ignore;na.enabled||this.enabled?this.enable():this.check()}},defineDep:function(w,
ja){this.depMatched[w]||(this.depMatched[w]=!0,--this.depCount,this.depExports[w]=ja)},fetch:function(){if(!this.fetched){this.fetched=!0;Q.startTime=(new Date).getTime();var w=this.map;if(this.shim)Q.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],p(this,function(){return w.prefix?this.callPlugin():this.load()}));else return w.prefix?this.callPlugin():this.load()}},load:function(){var w=this.map.url;x[w]||(x[w]=!0,Q.load(this.map.id,w))},check:function(){if(this.enabled&&!this.enabling){var w=
this.map.id;var ja=this.depExports;var ua=this.exports,na=this.factory;if(!this.inited)Y(Q.defQueueMap,w)||this.fetch();else if(this.error)this.emit('error',this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(Ca(na)){if(this.events.error&&this.map.isDefine||Da.onError!==da)try{ua=Q.execCb(w,na,ja,ua)}catch(za){var la=za}else ua=Q.execCb(w,na,ja,ua);this.map.isDefine&&void 0===ua&&((ja=this.module)?ua=ja.exports:this.usingExports&&(ua=this.exports));if(la)return la.requireMap=
this.map,la.requireModules=this.map.isDefine?[this.map.id]:null,la.requireType=this.map.isDefine?'define':'require',hb(this.error=la)}else ua=na;this.exports=ua;if(this.map.isDefine&&!this.ignore&&(n[w]=ua,Da.onResourceLoad)){var Ba=[];U(this.depMaps,function(za){Ba.push(za.normalizedMap||za)});Da.onResourceLoad(Q,this.map,Ba)}Ob(w);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit('defined',this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var w=
this.map,ja=w.id,ua=eb(w.prefix);this.depMaps.push(ua);yb(ua,'defined',p(this,function(na){var la=V(r,this.map.id),Ba=this.map.name,za=this.map.parentMap?this.map.parentMap.name:null,Ra=Q.makeRequire(w.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){na.normalize&&(Ba=na.normalize(Ba,function(tb){return Na(tb,za,!0)})||'');var Ua=eb(w.prefix+'!'+Ba,this.map.parentMap,!0);yb(Ua,'defined',p(this,function(tb){this.map.normalizedMap=Ua;this.init([],function(){return tb},null,{enabled:!0,
ignore:!0})}));if(na=V(M,Ua.id)){this.depMaps.push(Ua);if(this.events.error)na.on('error',p(this,function(tb){this.emit('error',tb)}));na.enable()}}else if(la)this.map.url=Q.nameToUrl(la),this.load();else{var rb=p(this,function(tb){this.init([],function(){return tb},null,{enabled:!0})});rb.error=p(this,function(tb){this.inited=!0;this.error=tb;tb.requireModules=[ja];m(M,function(Gb){0===Gb.map.id.indexOf(ja+'_unnormalized')&&Ob(Gb.map.id)});hb(tb)});rb.fromText=p(this,function(tb,Gb){var Nb=w.name,
Ab=eb(Nb),Vb=Ia;Gb&&(tb=Gb);Vb&&(Ia=!1);gc(Ab);Y(Ha.config,ja)&&(Ha.config[Nb]=Ha.config[ja]);try{Da.exec(tb)}catch(Ya){return hb(N('fromtexteval','fromText eval for '+ja+' failed: '+Ya,Ya,[ja]))}Vb&&(Ia=!0);this.depMaps.push(Ab);Q.completeLoad(Nb);Ra([Nb],rb)});na.load(w.name,Ra,rb,Ha)}}));Q.enable(ua,this);this.pluginMaps[ua.id]=ua},enable:function(){e[this.map.id]=this;this.enabling=this.enabled=!0;U(this.depMaps,p(this,function(w,ja){var ua;if('string'===typeof w){w=eb(w,this.map.isDefine?this.map:
this.map.parentMap,!1,!this.skipMap);this.depMaps[ja]=w;if(ua=V(P,w.id)){this.depExports[ja]=ua(this);return}this.depCount+=1;yb(w,'defined',p(this,function(la){this.undefed||(this.defineDep(ja,la),this.check())}));this.errback?yb(w,'error',p(this,this.errback)):this.events.error&&yb(w,'error',p(this,function(la){this.emit('error',la)}))}ua=w.id;var na=M[ua];Y(P,ua)||!na||na.enabled||Q.enable(w,this)}));m(this.pluginMaps,p(this,function(w){var ja=V(M,w.id);ja&&!ja.enabled&&Q.enable(w,this)}));this.enabling=
!1;this.check()},on:function(w,ja){var ua=this.events[w];ua||=this.events[w]=[];ua.push(ja)},emit:function(w,ja){U(this.events[w],function(ua){ua(ja)});'error'===w&&delete this.events[w]}};var Q={config:Ha,contextName:Fa,registry:M,defined:n,urlFetched:x,defQueue:h,defQueueMap:{},Module:aa,makeModuleMap:eb,nextTick:Da.nextTick,onError:hb,configure:function(w){w.baseUrl&&'/'!==w.baseUrl.charAt(w.baseUrl.length-1)&&(w.baseUrl+='/');if('string'===typeof w.urlArgs){var ja=w.urlArgs;w.urlArgs=function(la,
Ba){return(-1===Ba.indexOf('?')?'?':'&')+ja}}var ua=Ha.shim,na={paths:!0,bundles:!0,config:!0,map:!0};m(w,function(la,Ba){na[Ba]?(Ha[Ba]||(Ha[Ba]={}),S(Ha[Ba],la,!0,!0)):Ha[Ba]=la});w.bundles&&m(w.bundles,function(la,Ba){U(la,function(za){za!==Ba&&(r[za]=Ba)})});w.shim&&(m(w.shim,function(la,Ba){K(la)&&(la={deps:la});!la.exports&&!la.init||la.exportsFn||(la.exportsFn=Q.makeShimExports(la));ua[Ba]=la}),Ha.shim=ua);w.packages&&U(w.packages,function(la){la='string'===typeof la?{name:la}:la;var Ba=la.name;
la.location&&(Ha.paths[Ba]=la.location);Ha.pkgs[Ba]=la.name+'/'+(la.main||'main').replace(R,'').replace(H,'')});m(M,function(la,Ba){la.inited||la.map.unnormalized||(la.map=eb(Ba,null,!0))});(w.deps||w.callback)&&Q.require(w.deps||[],w.callback)},makeShimExports:function(w){return function(){var ja;w.init&&(ja=w.init.apply(E,arguments));return ja||w.exports&&ya(w.exports)}},makeRequire:function(w,ja){function ua(na,la,Ba){var za;ja.enableBuildCallback&&la&&Ca(la)&&(la.__requireJsBuild=!0);if('string'===
typeof na){if(Ca(la))return hb(N('requireargs','Invalid require call'),Ba);if(w&&Y(P,na))return P[na](M[w.id]);if(Da.get)return Da.get(Q,na,w,ua);var Ra=eb(na,w,!1,!0);Ra=Ra.id;return Y(n,Ra)?n[Ra]:hb(N('notloaded','Module name "'+Ra+'" has not been loaded yet for context: '+Fa+(w?'':'. Use require([])')))}Yb();Q.nextTick(function(){Yb();za=gc(eb(null,w));za.skipMap=ja.skipMap;za.init(na,la,Ba,{enabled:!0});Ma()});return ua}ja=ja||{};S(ua,{isBrowser:ea,toUrl:function(na){var la=na.lastIndexOf('.'),
Ba=na.split('/')[0];if(-1!==la&&('.'!==Ba&&'..'!==Ba||1<la)){var za=na.substring(la,na.length);na=na.substring(0,la)}return Q.nameToUrl(Na(na,w&&w.id,!0),za,!0)},defined:function(na){return Y(n,eb(na,w,!1,!0).id)},specified:function(na){na=eb(na,w,!1,!0).id;return Y(n,na)||Y(M,na)}});w||(ua.undef=function(na){Fb();var la=eb(na,w,!0),Ba=V(M,na);Ba.undefed=!0;Xa(na);delete n[na];delete x[la.url];delete b[na];oa(h,function(za,Ra){za[0]===na&&h.splice(Ra,1)});delete Q.defQueueMap[na];Ba&&(Ba.events.defined&&
(b[na]=Ba.events),Ob(na))});return ua},enable:function(w){V(M,w.id)&&gc(w).enable()},completeLoad:function(w){var ja=V(Ha.shim,w)||{},ua=ja.exports;for(Fb();h.length;){var na=h.shift();if(null===na[0]){na[0]=w;if(la)break;var la=!0}else na[0]===w&&(la=!0);mb(na)}Q.defQueueMap={};na=V(M,w);if(!la&&!Y(n,w)&&na&&!na.inited)if(!Ha.enforceDefine||ua&&ya(ua))mb([w,ja.deps||[],ja.exportsFn]);else return qb(w)?void 0:hb(N('nodefine','No define call for '+w,null,[w]));Ma()},nameToUrl:function(w,ja,ua){var na,
la;(na=V(Ha.pkgs,w))&&(w=na);if(na=V(r,w))return Q.nameToUrl(na,ja,ua);if(Da.jsExtRegExp.test(w))na=w+(ja||'');else{na=Ha.paths;var Ba=w.split('/');for(la=Ba.length;0<la;--la){var za=Ba.slice(0,la).join('/');if(za=V(na,za)){K(za)&&(za=za[0]);Ba.splice(0,la,za);break}}na=Ba.join('/');na+=ja||(/^data:|^blob:|\?/.test(na)||ua?'':'.js');na=('/'===na.charAt(0)||na.match(/^[\w\+\.\-]+:/)?'':Ha.baseUrl)+na}return Ha.urlArgs&&!/^blob:/.test(na)?na+Ha.urlArgs(w,na):na},load:function(w,ja){Da.load(Q,w,ja)},
execCb:function(w,ja,ua,na){return ja.apply(na,ua)},onScriptLoad:function(w){if('load'===w.type||fa.test((w.currentTarget||w.srcElement).readyState))z=null,w=Pb(w),Q.completeLoad(w.id)},onScriptError:function(w){var ja=Pb(w);if(!qb(ja.id)){var ua=[];m(M,function(na,la){0!==la.indexOf('_@r')&&U(na.depMaps,function(Ba){if(Ba.id===ja.id)return ua.push(la),!0})});return hb(N('scripterror','Script error for "'+ja.id+(ua.length?'", needed by: '+ua.join(', '):'"'),w,[ja.id]))}}};Q.require=Q.makeRequire();
return Q}};Da({});U(['toUrl','undef','defined','specified'],function(Fa){Da[Fa]=function(){var Na=Ea._;return Na.require[Fa].apply(Na,arguments)}});if(ea){var cb=sa.head=document.getElementsByTagName('head')[0];if(C=document.getElementsByTagName('base')[0])cb=sa.head=C.parentNode}Da.onError=da;Da.createNode=function(Fa,Na,Xa){Na=Fa.xhtml?document.createElementNS('http://www.w3.org/1999/xhtml','html:script'):document.createElement('script');Na.type=Fa.scriptType||'text/javascript';Na.charset='utf-8';
Na.async=!0;return Na};Da.load=function(Fa,Na,Xa){var qb=Fa&&Fa.config||{};if(ea){var bb=Da.createNode(qb,Na,Xa);bb.setAttribute('data-requirecontext',Fa.contextName);bb.setAttribute('data-requiremodule',Na);!bb.attachEvent||bb.attachEvent.toString&&0>bb.attachEvent.toString().indexOf('[native code')||pa?(bb.addEventListener('load',Fa.onScriptLoad,!1),bb.addEventListener('error',Fa.onScriptError,!1)):(Ia=!0,bb.attachEvent('onreadystatechange',Fa.onScriptLoad));bb.src=Xa;if(qb.onNodeCreated)qb.onNodeCreated(bb,
qb,Na,Xa);y=bb;C?cb.insertBefore(bb,C):cb.appendChild(bb);y=null;return bb}if(Ja)try{O(function(){},0),importScripts(Xa),Fa.completeLoad(Na)}catch(eb){Fa.onError(N('importscripts','importScripts failed for '+Na+' at '+Xa,eb,[Na]))}};ea&&!Ka.skipDataMain&&oa(document.getElementsByTagName('script'),function(Fa){cb||(cb=Fa.parentNode);if(B=Fa.getAttribute('data-main'))return J=B,Ka.baseUrl||-1!==J.indexOf('!')||(u=J.split('/'),J=u.pop(),q=u.length?u.join('/')+'/':'./',Ka.baseUrl=q),J=J.replace(H,''),
Da.jsExtRegExp.test(J)&&(J=B),Ka.deps=Ka.deps?Ka.deps.concat(J):[J],!0});define=function(Fa,Na,Xa){var qb;'string'!==typeof Fa&&(Xa=Na,Na=Fa,Fa=null);K(Na)||(Xa=Na,Na=null);!Na&&Ca(Xa)&&(Na=[],Xa.length&&(Xa.toString().replace(v,ha).replace(F,function(eb,gc){Na.push(gc)}),Na=(1===Xa.length?['require']:['require','exports','module']).concat(Na)));if(Ia&&(qb=y||L())){Fa||=qb.getAttribute('data-requiremodule');var bb=Ea[qb.getAttribute('data-requirecontext')]}bb?(bb.defQueue.push([Fa,Na,Xa]),bb.defQueueMap[Fa]=
!0):Oa.push([Fa,Na,Xa])};define.amd={jQuery:!0};Da.exec=function(Fa){return eval(Fa)};Da(Ka)}})(this,'undefined'===typeof setTimeout?void 0:setTimeout);define('requireLib',function(){});
!function(E,O){'object'==typeof exports&&'undefined'!=typeof module?O(exports):'function'==typeof define&&define.amd?define('vendor/uuid',['exports'],O):O((E=E||self).uuid={})}(this,function(E){function O(){if(!m)throw Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');return m(S)}function ha(u,z){z=z||0;var y=ya;return[y[u[z++]],y[u[z++]],y[u[z++]],y[u[z++]],'-',y[u[z++]],y[u[z++]],'-',y[u[z++]],y[u[z++]],'-',y[u[z++]],y[u[z++]],'-',
y[u[z++]],y[u[z++]],y[u[z++]],y[u[z++]],y[u[z++]],y[u[z++]]].join('')}function Ca(u,z,y){var J=function(q,v,F,H){H=F&&H||0;if('string'==typeof q&&(q=function(R){R=unescape(encodeURIComponent(R));for(var sa=Array(R.length),T=0;T<R.length;T++)sa[T]=R.charCodeAt(T);return sa}(q)),'string'==typeof v&&(v=function(R){var sa=[];return R.replace(/[a-fA-F0-9]{2}/g,function(T){sa.push(parseInt(T,16))}),sa}(v)),!Array.isArray(q))throw TypeError('value must be an array of bytes');if(!Array.isArray(v)||16!==v.length)throw TypeError('namespace must be uuid string or an Array of 16 byte values');
q=y(v.concat(q));if(q[6]=15&q[6]|z,q[8]=63&q[8]|128,F)for(v=0;16>v;++v)F[H+v]=q[v];return F||ha(q)};try{J.name=u}catch(q){}return J.DNS='6ba7b810-9dad-11d1-80b4-00c04fd430c8',J.URL='6ba7b811-9dad-11d1-80b4-00c04fd430c8',J}function K(u,z){var y=(65535&u)+(65535&z);return(u>>16)+(z>>16)+(y>>16)<<16|65535&y}function U(u,z,y,J,q,v){return K((F=K(K(z,u),K(J,v)))<<(H=q)|F>>>32-H,y);var F,H}function oa(u,z,y,J,q,v,F){return U(z&y|~z&J,u,z,q,v,F)}function Y(u,z,y,J,q,v,F){return U(z&J|y&~J,u,z,q,v,F)}function V(u,
z,y,J,q,v,F){return U(y^(z|~J),u,z,q,v,F)}for(var m='undefined'!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||'undefined'!=typeof msCrypto&&'function'==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),S=new Uint8Array(16),p,da,ya=[],N=0;256>N;++N)ya[N]=(N+256).toString(16).substr(1);var L=0,C=0;N=Ca('v3',48,function(u){if('string'==typeof u){var z=unescape(encodeURIComponent(u));u=Array(z.length);for(var y=0;y<z.length;y++)u[y]=z.charCodeAt(y)}return function(J){var q,
v=[],F=32*J.length;for(q=0;q<F;q+=8){var H=J[q>>5]>>>q%32&255;H=parseInt('0123456789abcdef'.charAt(H>>>4&15)+'0123456789abcdef'.charAt(15&H),16);v.push(H)}return v}(function(J,q){J[q>>5]|=128<<q%32;J[14+(q+64>>>9<<4)]=q;var v=1732584193,F=-271733879,H=-1732584194,R=271733878;for(q=0;q<J.length;q+=16){var sa=v;var T=F;var ca=H;var ea=R;v=oa(v,F,H,R,J[q],7,-680876936);R=oa(R,v,F,H,J[q+1],12,-389564586);H=oa(H,R,v,F,J[q+2],17,606105819);F=oa(F,H,R,v,J[q+3],22,-1044525330);v=oa(v,F,H,R,J[q+4],7,-176418897);
R=oa(R,v,F,H,J[q+5],12,1200080426);H=oa(H,R,v,F,J[q+6],17,-1473231341);F=oa(F,H,R,v,J[q+7],22,-45705983);v=oa(v,F,H,R,J[q+8],7,1770035416);R=oa(R,v,F,H,J[q+9],12,-1958414417);H=oa(H,R,v,F,J[q+10],17,-42063);F=oa(F,H,R,v,J[q+11],22,-1990404162);v=oa(v,F,H,R,J[q+12],7,1804603682);R=oa(R,v,F,H,J[q+13],12,-40341101);H=oa(H,R,v,F,J[q+14],17,-1502002290);F=oa(F,H,R,v,J[q+15],22,1236535329);v=Y(v,F,H,R,J[q+1],5,-165796510);R=Y(R,v,F,H,J[q+6],9,-1069501632);H=Y(H,R,v,F,J[q+11],14,643717713);F=Y(F,H,R,v,J[q],
20,-373897302);v=Y(v,F,H,R,J[q+5],5,-701558691);R=Y(R,v,F,H,J[q+10],9,38016083);H=Y(H,R,v,F,J[q+15],14,-660478335);F=Y(F,H,R,v,J[q+4],20,-405537848);v=Y(v,F,H,R,J[q+9],5,568446438);R=Y(R,v,F,H,J[q+14],9,-1019803690);H=Y(H,R,v,F,J[q+3],14,-187363961);F=Y(F,H,R,v,J[q+8],20,1163531501);v=Y(v,F,H,R,J[q+13],5,-1444681467);R=Y(R,v,F,H,J[q+2],9,-51403784);H=Y(H,R,v,F,J[q+7],14,1735328473);F=Y(F,H,R,v,J[q+12],20,-1926607734);v=U(F^H^R,v,F,J[q+5],4,-378558);R=U(v^F^H,R,v,J[q+8],11,-2022574463);H=U(R^v^F,H,
R,J[q+11],16,1839030562);F=U(H^R^v,F,H,J[q+14],23,-35309556);v=U(F^H^R,v,F,J[q+1],4,-1530992060);R=U(v^F^H,R,v,J[q+4],11,1272893353);H=U(R^v^F,H,R,J[q+7],16,-155497632);F=U(H^R^v,F,H,J[q+10],23,-1094730640);v=U(F^H^R,v,F,J[q+13],4,681279174);R=U(v^F^H,R,v,J[q],11,-358537222);H=U(R^v^F,H,R,J[q+3],16,-722521979);F=U(H^R^v,F,H,J[q+6],23,76029189);v=U(F^H^R,v,F,J[q+9],4,-640364487);R=U(v^F^H,R,v,J[q+12],11,-421815835);H=U(R^v^F,H,R,J[q+15],16,530742520);F=U(H^R^v,F,H,J[q+2],23,-995338651);v=V(v,F,H,R,
J[q],6,-198630844);R=V(R,v,F,H,J[q+7],10,1126891415);H=V(H,R,v,F,J[q+14],15,-1416354905);F=V(F,H,R,v,J[q+5],21,-57434055);v=V(v,F,H,R,J[q+12],6,1700485571);R=V(R,v,F,H,J[q+3],10,-1894986606);H=V(H,R,v,F,J[q+10],15,-1051523);F=V(F,H,R,v,J[q+1],21,-2054922799);v=V(v,F,H,R,J[q+8],6,1873313359);R=V(R,v,F,H,J[q+15],10,-30611744);H=V(H,R,v,F,J[q+6],15,-1560198380);F=V(F,H,R,v,J[q+13],21,1309151649);v=V(v,F,H,R,J[q+4],6,-145523070);R=V(R,v,F,H,J[q+11],10,-1120210379);H=V(H,R,v,F,J[q+2],15,718787259);F=V(F,
H,R,v,J[q+9],21,-343485551);v=K(v,sa);F=K(F,T);H=K(H,ca);R=K(R,ea)}return[v,F,H,R]}(function(J){var q,v=[];v[(J.length>>2)-1]=void 0;for(q=0;q<v.length;q+=1)v[q]=0;var F=8*J.length;for(q=0;q<F;q+=8)v[q>>5]|=(255&J[q/8])<<q%32;return v}(u),8*u.length))});var B=Ca('v5',80,function(u){var z=[1518500249,1859775393,2400959708,3395469782],y=[1732584193,4023233417,2562383102,271733878,3285377520];if('string'==typeof u){var J=unescape(encodeURIComponent(u));u=Array(J.length);for(var q=0;q<J.length;q++)u[q]=
J.charCodeAt(q)}u.push(128);J=Math.ceil((u.length/4+2)/16);var v=Array(J);for(q=0;q<J;q++){v[q]=Array(16);for(var F=0;16>F;F++)v[q][F]=u[64*q+4*F]<<24|u[64*q+4*F+1]<<16|u[64*q+4*F+2]<<8|u[64*q+4*F+3]}v[J-1][14]=8*(u.length-1)/Math.pow(2,32);v[J-1][14]=Math.floor(v[J-1][14]);v[J-1][15]=8*(u.length-1)&4294967295;for(q=0;q<J;q++){u=Array(80);for(F=0;16>F;F++)u[F]=v[q][F];for(F=16;80>F;F++){var H=u[F-3]^u[F-8]^u[F-14]^u[F-16];u[F]=H<<1|H>>>31}H=y[0];var R=y[1],sa=y[2],T=y[3],ca=y[4];for(F=0;80>F;F++){var ea=
Math.floor(F/20),Ja=H<<5|H>>>27;a:{switch(ea){case 0:var fa=R&sa^~R&T;break a;case 1:fa=R^sa^T;break a;case 2:fa=R&sa^R&T^sa&T;break a;case 3:fa=R^sa^T;break a}fa=void 0}ea=Ja+fa+ca+z[ea]+u[F]>>>0;ca=T;T=sa;sa=(R<<30|R>>>2)>>>0;R=H;H=ea}y[0]=y[0]+H>>>0;y[1]=y[1]+R>>>0;y[2]=y[2]+sa>>>0;y[3]=y[3]+T>>>0;y[4]=y[4]+ca>>>0}return[y[0]>>24&255,y[0]>>16&255,y[0]>>8&255,255&y[0],y[1]>>24&255,y[1]>>16&255,y[1]>>8&255,255&y[1],y[2]>>24&255,y[2]>>16&255,y[2]>>8&255,255&y[2],y[3]>>24&255,y[3]>>16&255,y[3]>>8&
255,255&y[3],y[4]>>24&255,y[4]>>16&255,y[4]>>8&255,255&y[4]]});E.v1=function(u,z,y){y=z&&y||0;var J=z||[],q=(u=u||{}).node||p,v=void 0!==u.clockseq?u.clockseq:da;if(null==q||null==v){var F=u.random||(u.rng||O)();null==q&&(q=p=[1|F[0],F[1],F[2],F[3],F[4],F[5]]);null==v&&(v=da=16383&(F[6]<<8|F[7]))}F=void 0!==u.msecs?u.msecs:(new Date).getTime();var H=void 0!==u.nsecs?u.nsecs:C+1,R=F-L+(H-C)/1E4;if(0>R&&void 0===u.clockseq&&(v=v+1&16383),(0>R||F>L)&&void 0===u.nsecs&&(H=0),1E4<=H)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");
L=F;C=H;da=v;u=(1E4*(268435455&(F+=122192928E5))+H)%4294967296;J[y++]=u>>>24&255;J[y++]=u>>>16&255;J[y++]=u>>>8&255;J[y++]=255&u;u=F/4294967296*1E4&268435455;J[y++]=u>>>8&255;J[y++]=255&u;J[y++]=u>>>24&15|16;J[y++]=u>>>16&255;J[y++]=v>>>8|128;J[y++]=255&v;for(v=0;6>v;++v)J[y+v]=q[v];return z||ha(J)};E.v3=N;E.v4=function(u,z,y){y=z&&y||0;'string'==typeof u&&(z='binary'===u?Array(16):null,u=null);var J=(u=u||{}).random||(u.rng||O)();if(J[6]=15&J[6]|64,J[8]=63&J[8]|128,z)for(u=0;16>u;++u)z[y+u]=J[u];
return z||ha(J)};E.v5=B;Object.defineProperty(E,'__esModule',{value:!0})});
function Merge(){var E=[],O=function(K,U){'undefined'==typeof K&&(K='undefined'!=typeof U&&Array.isArray(U)?[]:{});var oa=!1;'boolean'==typeof arguments[arguments.length-1]&&(oa=arguments[arguments.length-1]);var Y=1,V=arguments.length,m,S;if('object'!==typeof K&&'function'!==typeof K)K=oa?'undefined'==typeof arguments[2]?arguments[1]:arguments[2]:'undefined'==typeof arguments[0]?arguments[1]:arguments[0];else for(;Y<V;++Y)if('boolean'!=typeof arguments[Y]&&null!=(m=arguments[Y])){if('object'!=typeof m){K=
m;break}if(Array.isArray(m)&&Array.isArray(K))K=ha(m,K,oa);else for(var p in m){K||={name:null};var da=K[p];var ya=m[p];if(K!==ya)if(ya&&(Ca(ya)||(S=Array.isArray(ya)))){var N=!1;if(S){S=!1;if(da&&Array.isArray(da))var L=da||[];else if(Ca(da)){L=da||{};K[p]=L;continue}else L=[];E=L;L=ha(ya,L,oa);K[p]=L}else{L=da&&Ca(da)?da:null;if(!L){N=!0;L={};for(var C in ya)L[C]=ya[C]}if(oa){for(C in ya)'undefined'!=typeof ya[C]?Array.isArray(ya[C])&&Array.isArray(L[C])?L[C]=ha(ya[C],L[C],oa):L[C]=ya[C]:Array.isArray(ya[C])&&
Array.isArray(L[C])&&(L[C]=ha(ya[C],L[C],oa));K[p]=L}else{for(C in ya)'undefined'==typeof L[C]?Array.isArray(ya[C])&&Array.isArray(L[C])?L[C]=ha(ya[C],L[C],oa):L[C]=ya[C]:Array.isArray(ya[C])&&Array.isArray(L[C])&&(L[C]=ha(ya[C],L[C],oa));'boolean'==typeof da||N?N&&(K[p]=L):K[p]=O(L,ya,oa)}}}else void 0!==ya&&(K[p]='undefined'==typeof da||null==da||da===ya||oa?ya:da)}}E=[];return K},ha=function(K,U,oa){E=[];var Y=[],V=O.getKeyComparison();if(/^true$/i.test(oa)){if('object'==typeof K[0]&&'undefined'!=
typeof K[0][V]&&'object'==typeof U[0]&&'undefined'!=typeof U[0][V]){E=Array.isArray(U)?Array.from(U):JSON.clone(U);var m=0;for(oa=E.length;m<oa;++m)Y.push(E[m][V]);oa=JSON.clone(K);var S=0;m=0;K=oa.length;for(var p=ya||0,da=U.length;p<da;++p)a:for(m=m||0;m<K;++m)if(oa[m][V]===U[p][V]){-1<Y.indexOf(oa[m][V])?(E[S]=oa[m],++S):-1==Y.indexOf(oa[m][V])&&(Y.push(oa[m][V]),E[S]=oa[m],++S);break a}else-1==Y.indexOf(oa[m][V])&&(Y.push(oa[m][V]),E.push(oa[m]));return E}return Array.isArray(K)&&0==K.length||
'undefined'==typeof K?U:K}if(0==K.length&&0<U.length)return E=U;if(0==U.length&&0<K.length)for(m=0;m<K.length;++m)U.push(K[m]);if(0==E.length&&0<U.length)for(m=0;m<U.length;++m)'object'!=typeof U[m]&&-1==E.indexOf(U[m])&&E.push(U[m]);if(0<U.length){if('undefined'!=typeof K[0]&&'object'==typeof K[0]&&null!=K[0]&&'undefined'!=typeof K[0][V]&&'object'==typeof U[0]&&'undefined'!=typeof U[0][V]){E=Array.isArray(U)?Array.from(U):JSON.clone(U);oa=JSON.clone(K);var ya=null;m=0;for(K=E.length;m<K;++m)Y.push(E[m][V]);
for(m=0;m<K;++m)a:for(p=ya||0,da=oa.length;p<da;++p)if(null!=oa[p]&&'undefined'!=typeof oa[p][V]&&oa[p][V]!==E[m][V]){if(-1==Y.indexOf(oa[p][V])){E.push(oa[p]);Y.push(oa[p][V]);ya=p+1;K<da&&++K;break a}}else if(null!=oa[p]&&'undefined'!=typeof oa[p][V]&&oa[p][V]===E[m][V])ya=p+1;else break a;return E}for(m=0;m<K.length;++m)if(-1<U.indexOf(K[m])&&oa)U.splice(U.indexOf(K[m]),1,K[m]);else if('undefined'==typeof E[m]&&'object'==typeof K[m])for(S in E=U,'undefined'==typeof E[m]&&(E[m]={}),K[m])E[m].hasOwnProperty(S)||
(E[m][S]=K[m][S]);else!oa&&-1<E.indexOf(K[m])&&'number'==typeof K[m]&&K[m]!==E[m]?E.push(K[m]):'undefined'==typeof U[m]||/null/i.test(U[m])||'undefined'==typeof U[m][V]||'undefined'==typeof K[m]||'undefined'==typeof K[m][V]||U[m][V]!=K[m][V]?-1==E.indexOf(K[m])&&E.push(K[m]):E[m]=oa?K[m]:U[m]}if(0<E.length&&0<U.length||0==E.length&&0==U.length)return E};ha.prototype.setKeyComparison=function(K){this.keyComparison=K};var Ca=function(K){if(!K||'[object Object]'!=={}.toString.call(K)||K.nodeType||K.setInterval)return!1;
var U={}.hasOwnProperty,oa=U.call(K,'constructor');U='undefined'!=typeof K.constructor?U.call(K.constructor.prototype,'isPrototypeOf'):!1;return!K.constructor||oa||U?!0:!1};O.setKeyComparison=function(K){ha.keyComparison=K;return O};O.getKeyComparison=function(){var K=ha.keyComparison||'id';ha.keyComparison='id';return K};return O}
'undefined'!==typeof module&&module.exports?('undefined'==typeof JSON.clone&&require('../../../helpers'),module.exports=Merge()):'function'===typeof define&&define.amd&&define('utils/merge',[],function(){return Merge()});function registerEvents(E,O){'undefined'==typeof gina&&'undefined'!=typeof window.gina&&(gina=window.gina);gina.registeredEvents[E]=O}function mergeEventProps(E,O){for(let ha in O)'undefined'==typeof E[ha]&&(E[ha]=O[ha]);return E}
function addListener(E,O,ha,Ca){var K=function(Y,V,m,S){'undefined'!=typeof Y.event&&Y.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(m)&&-1==Y.event[m].indexOf(V)&&(Y.event[m][Y.event[m].length]=V);'undefined'!=typeof V&&null!=V?V.addEventListener?V.addEventListener(m,S,!1):V.attachEvent&&V.attachEvent('on'+m,S):Y.customEvent.addListener(m,S);gina.events[m]='undefined'!=typeof V.id&&'object'!=typeof V.id?V.id:V.getAttribute('id')},U=0,oa=null;if(Array.isArray(ha))for(oa=ha.length;U<oa;U++)K(E,
O,ha[U],Ca);else if(Array.isArray(O))for(U=0,oa=O.length;U<oa;U++){let Y=/\.$/.test(ha)?ha+O[U].id:ha;K(E,O[U],Y,Ca)}else ha=/\.$/.test(ha)?ha+O.id:ha,K(E,O,ha,Ca)}
function triggerEvent(E,O,ha,Ca,K){if('undefined'!=typeof O&&null!=O){E=!1;if(jQuery){var U=jQuery.fn.jquery.split(/\./);U=2<U.length?U.splice(0,2).join('.'):U.join('.');U='1.7'>=U?jQuery(O).data('events'):jQuery._data(jQuery(O)[0],'events');if(U='undefined'!=typeof U&&'undefined'!=typeof U[ha]?!0:!1)U=jQuery.Event(ha),jQuery(O).trigger(U,Ca),E=U.isDefaultPrevented()}window.CustomEvent||document.createEvent?(window.CustomEvent?U=new CustomEvent(ha,{detail:Ca,bubbles:!0,cancelable:!0,target:O}):(U=
document.createEvent('HTMLEvents'),U.detail=Ca,U.target=O,U.initEvent(ha,!0,!0),U.eventName=ha),K&&(U=mergeEventProps(U,K)),'undefined'!=typeof U.defaultPrevented&&U.defaultPrevented&&(E=U.defaultPrevented),E||O.dispatchEvent(U)):document.createEventObject&&(U=document.createEventObject(),U.srcElement.id=O.id,U.detail=Ca,U.target=O,K&&(U=mergeEventProps(U,K)),O.fireEvent('on'+ha,U))}else E.customEvent.fire(ha,Ca)}
function cancelEvent(E){'undefined'!=typeof E&&null!=E&&(E.cancelBubble=!0,E.preventDefault&&E.preventDefault(),E.stopPropagation&&E.stopPropagation(),E.returnValue=!1)}
function setupXhr(E){var O=null;if(window.XMLHttpRequest)O=new XMLHttpRequest;else if(window.ActiveXObject)try{O=new ActiveXObject('Msxml2.XMLHTTP')}catch(Ca){try{O=new ActiveXObject('Microsoft.XMLHTTP')}catch(K){}}if('undefined'!=typeof E){if(!E.url||'undefined'==typeof E.url)throw Error('Missing `options.url`');'undefined'==typeof E.method&&(E.method='GET');E.method=E.method.toUpperCase();if(E.withCredentials){if('withCredentials'in O)E.isSynchrone?O.open(E.method,E.url,E.isSynchrone):O.open(E.method,
E.url);else if('undefined'!=typeof XDomainRequest)O=new XDomainRequest,O.open(E.method,E.url);else{result='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,$target,'error.'+id,result);return}O.responseType='undefined'!=typeof E.responseType?E.responseType:'';O.withCredentials=!0}else E.isSynchrone?O.open(E.method,E.url,E.isSynchrone):O.open(E.method,E.url);for(var ha in E.headers)'Content-Type'==ha&&'undefined'!=typeof enctype&&null!=
enctype&&''!=enctype||O.setRequestHeader(ha,E.headers[ha])}return O}
function handleXhr(E,O,ha,Ca){if(!E)throw Error('No `xhr` object initiated');var K=null,U=null,oa=null,Y=null,V=null,m=ha.$link||null,S=ha.$form||null,p=null;delete ha.$link;delete ha.$form;S||m?m?(m.target=document.getElementById(m.id),p=gina.link.target,V=gina.link.id):(p=S.target,V=p.getAttribute('id')):(p=O,V=p.getAttribute('id'));var da=m&&O.getAttribute('data-gina-link-event-on-success')||m&&O.getAttribute('data-gina-link-event-on-error')?!0:!1,ya=S&&p.getAttribute('data-gina-form-event-on-submit-success')||
S&&p.getAttribute('data-gina-form-event-on-submit-error')?!0:!1;ya&&S&&listenToXhrEvents(S,'form');O=O.getAttribute('enctype')||ha.headers['Content-Type'];for(var N in ha.headers)'Content-Type'==N&&'undefined'!=typeof O&&null!=O&&''!=O||E.setRequestHeader(N,ha.headers[N]);E.withCredentials='undefined'!=typeof ha.withCredentials?ha.withCredentials:!1;E.onerror=function(L,C){L={status:E.status||500,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};
S&&(S.eventData.error=L);m&&(m.eventData.error=L);window.ginaToolbar.update('data-xhr',L,!0);triggerEvent(gina,p,'error.'+V,L);ya&&triggerEvent(gina,p,'error.'+V+'.hform',L);da&&triggerEvent(gina,p,'error.'+V+'.hlink',L)};E.onreadystatechange=function(L){L=/Google Inc/i.test(navigator.vendor)?50:0;2==E.readyState&&(U=/^attachment;/.test(E.getResponseHeader('Content-Disposition'))?!0:!1,!E.responseType&&U&&(E.responseType='blob'));if(4==E.readyState)if(K=null,oa=E.getResponseHeader('Content-Type'),
/^2/.test(E.status)){try{if(/blob/.test(E.responseType)||U){if('undefined'==typeof oa||null==oa)oa='application/octet-stream';K=new Blob([this.response],{type:oa});var C=document.createElement('a');C.style='display: none';document.body.appendChild(C);var B=window.URL.createObjectURL(K);C.href=B;var u=E.getResponseHeader('Content-Disposition');C.download=u.match('=(.*)')[0].substr(1);C.click();window.URL.revokeObjectURL(B);Y={status:E.status,statusText:E.statusText,responseType:K.type,type:K.type,
size:K.size}}!Y&&/\/json/.test(oa)&&(Y=JSON.parse(E.responseText),'undefined'==typeof Y.status&&(Y.status=E.status||200));if(!Y&&/\/html/.test(oa)&&(Y={contentType:oa,content:E.responseText},'undefined'==typeof Y.status&&(Y.status=E.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler)){var z=gina.popin.getActivePopin();if(z){XHRData={};try{XHRData=(new DOMParser).parseFromString(Y.content,'text/html').getElementById('gina-without-layout-xhr-data'),XHRData=JSON.parse(decodeURIComponent(XHRData.value)),
XHRView=(new DOMParser).parseFromString(Y.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRData&&window.ginaToolbar.update('data-xhr',XHRData),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(v){throw v;}z.loadContent(Y.content);Y=XHRData;triggerEvent(gina,p,'success.'+V,Y);return}}Y||(Y=E.responseText);S&&
(S.eventData.success=Y);XHRData=Y;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&/\/html/.test(oa)&&window.ginaToolbar.update('data-xhr',XHRData)}catch(v){throw v;}triggerEvent(gina,p,'success.'+V,Y);ya&&triggerEvent(gina,p,'success.'+V+'.hform',Y);da&&triggerEvent(gina,p,'success.'+V+'.hlink',Y)}catch(v){Y={status:422,error:v.message,stack:v.stack};S&&(S.eventData.error=Y);XHRData=Y;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&
window.ginaToolbar.update('data-xhr',XHRData)}catch(F){throw F;}triggerEvent(gina,p,'error.'+V,Y);ya&&triggerEvent(gina,p,'error.'+V+'.hform',Y);da&&triggerEvent(gina,p,'error.'+V+'.hlink',Y)}if('undefined'!=typeof Y&&'undefined'!=typeof Y.location)return window.location.hash='',Y.location=/^http/.test(Y.location)||/^\//.test(Y.location)?Y.location:location.protocol+'//'+Y.location,setTimeout(()=>{window.location.href=Y.location},L)}else if(0!=E.status)if(Y={status:E.status,message:''},/blob/.test(E.responseType)){K=
new Blob([this.response],{type:'text/plain'});var y=new FileReader,J='';y.addEventListener('loadend',v=>{/string/i.test(typeof v.srcElement.result)?J+=v.srcElement.result:'object'==typeof v.srcElement.result?Y=merge(Y,v.srcElement.result):Y.message+=v.srcElement.result;if(/^2/.test(y.readyState)){if(/^(\{|\[)/.test(J))try{Y=merge(Y,JSON.parse(J))}catch(R){Y=merge(Y,R)}Y.message||delete Y.message;S&&(S.eventData.error=Y);if('undefined'!=typeof Y&&'undefined'!=typeof Y.error&&Y.error.fields&&'object'==
typeof Y.error.fields){v={};var F=0,H;for(H in Y.error.fields)++F,v[H]={isApplicationValidationError:Y.error.fields[H]};0<F&&handleErrorsDisplay(S.target,v)}XHRData=Y;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(R){throw R;}triggerEvent(gina,p,'error.'+V,Y);ya&&triggerEvent(gina,p,'error.'+V+'.hform',Y);da&&triggerEvent(gina,p,'error.'+V+'.hlink',Y)}});y.readAsText(K)}else{try{Y=merge(Y,JSON.parse(E.responseText))}catch(v){Y=merge(Y,
v)}S&&(S.eventData.error=Y);if('undefined'!=typeof Y&&'undefined'!=typeof Y.error&&Y.error.fields&&'object'==typeof Y.error.fields){C={};B=0;for(var q in Y.error.fields)++B,C[q]={isApplicationValidationError:Y.error.fields[q]};0<B&&handleErrorsDisplay(S.target,C)}XHRData=Y;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(v){throw v;}triggerEvent(gina,p,'error.'+V,Y);ya&&triggerEvent(gina,p,'error.'+V+'.hform',Y);da&&triggerEvent(gina,p,
'error.'+V+'.hlink',Y)}};E.onprogress=function(L){var C='0';L.lengthComputable&&(C=L.loaded/L.total,C=parseInt(100*C));L={status:100,progress:C};S&&(S.eventData.onprogress=L);triggerEvent(gina,p,'progress.'+V,L)};E.ontimeout=function(L){Y={status:408,error:'Request Timeout'};S&&(S.eventData.ontimeout=Y);triggerEvent(gina,p,'error.'+V,Y);ya&&triggerEvent(gina,p,'error.'+V+'.hform',Y);da&&triggerEvent(gina,p,'error.'+V+'.hlink',Y)}}
function removeListener(E,O,ha,Ca){'undefined'!=typeof E.event&&E.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(ha)&&-1!=E.event[ha].indexOf(O)&&E.event[ha].splice(E.event[ha].indexOf(O),1);if('undefined'!=typeof O&&null!=O)if(O.removeEventListener)if(Array.isArray(O))for(i=0,len=O.length;i<len;i++)E=/\.$/.test(ha)?ha+O[i].id:ha,O.removeEventListener(E,Ca,!1),'undefined'!=typeof gina.events[E]&&delete gina.events[E];else ha=/\.$/.test(ha)?ha+O.id:ha,O.removeEventListener(ha,Ca,!1);else{if(O.attachEvent)if(Array.isArray(O))for(i=
0,len=O.length;i<len;i++)E=/\.$/.test(ha)?ha+O[i].id:ha,O.detachEvent('on'+E,Ca),'undefined'!=typeof gina.events[E]&&delete gina.events[E];else ha=/\.$/.test(ha)?ha+O.id:ha,O.detachEvent('on'+ha,Ca)}else if(Array.isArray(O))for(i=0,len=O.length;i<len;i++){let K=/\.$/.test(ha)?ha+O[i].id:ha;E.customEvent.removeListener(K,Ca);'undefined'!=typeof gina.events[K]&&delete gina.events[K]}else ha=/\.$/.test(ha)?ha+O.id:ha,E.customEvent.removeListener(ha,Ca);'undefined'!=typeof gina.events[ha]&&delete gina.events[ha];
'undefined'!=typeof Ca&&Ca()}
function on(E,O){if(!this.plugin)throw Error('No `plugin` reference found for this event: `'+E);if(0>gina.registeredEvents[this.plugin].indexOf(E)&&!/^init$/.test(E)&&!/\.hform$/.test(E)&&!/\.hlink$/.test(E))O(Error('Event `'+E+'` not handled by ginaEventHandler'));else{var ha=null,Ca=null;'undefined'!=typeof this.id&&'object'!=typeof this.id?(ha=this.target||this,Ca=this.id):'undefined'!=typeof this.target?((ha=this.target)||(ha=this),Ca='undefined'!=typeof ha.getAttribute?ha.getAttribute('id'):
this.id):(ha=this.target,Ca=instance.id);this.eventData&&!ha.eventData&&(ha.eventData=this.eventData);E=/\.(hform|hlink)$/.test(E)?/\.hform$/.test(E)?E.replace(/\.hform$/,'.'+Ca+'.hform'):E.replace(/\.hlink$/,'.'+Ca+'.hlink'):E+('.'+Ca);gina.events[E]||(addListener(gina,ha,E,function(K){cancelEvent(K);var U=null;K.detail?U=K.detail:'undefined'!=typeof this.eventData.submit?U=this.eventData.submit:'undefined'!=typeof this.eventData.error?U=this.eventData.error:'undefined'!=typeof this.eventData.success&&
(U=this.eventData.success);O&&O(K,U)}),this.initialized&&!this.isReady&&triggerEvent(gina,ha,'init.'+Ca));return this}}define('utils/events',function(){});
function PrototypesHelper(E){var O='undefined'!==typeof module&&module.exports?!1:!0,ha=E||null;E=null;if('undefined'==typeof GINA_DIR&&!O&&'undefined'!=typeof process&&3<process.argv.length)if(/^\{/.test(process.argv[2]))E=JSON.parse(process.argv[2]).envVars;else if(/\.ctx$/.test(process.argv[2])){E=require('fs');var Ca=process.argv[2].split(/\-\-argv\-filename=/)[1];E=JSON.parse(E.readFileSync(Ca).toString()).envVars}if(ha&&'undefined'!=typeof ha&&'undefined'!=typeof ha.dateFormat)for(let K in ha.dateFormat)'undefined'==
typeof Date[K]&&Object.defineProperty(Date.prototype,K,{writable:!1,enumerable:!1,configurable:!0,value:function(){var U={0:this},oa=1,Y;for(Y in arguments)U[oa]=arguments[Y],++oa;U.length=oa;return ha.dateFormat[K].apply(this,U)}});'undefined'==typeof Array.clone&&Object.defineProperty(Array.prototype,'clone',{writable:!1,enumerable:!1,configurable:!0,value:function(){return this.slice(0)}});'undefined'!=typeof JSON.clone||O||('undefined'!=typeof E&&null!=E?JSON.clone=require(E.GINA_DIR+'/utils/prototypes.json_clone'):
(E||(O=process.cwd().match(/.*\/gina/)[0],require(O+'/utils/helper'),setEnvVar('GINA_DIR',O,!0),E=getEnvVars()),JSON.clone=require(getEnvVar('GINA_DIR')+'/utils/prototypes.json_clone')));'undefined'==typeof JSON.escape&&(JSON.escape=function(K){try{return K.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(U){throw U;}});'undefined'==typeof Array.toString&&(Array.prototype.toString=function(){return this.join()});'undefined'==typeof Array.inArray&&Object.defineProperty(Array.prototype,
'inArray',{writable:!1,enumerable:!1,configurable:!0,value:function(K){return-1!=this.indexOf(K)}});'undefined'==typeof Array.from&&Object.defineProperty(Array.prototype,'from',{writable:!1,enumerable:!1,configurable:!0,value:function(K){for(var U={},oa=[],Y=K.length,V=0,m=0;m<Y;m++){var S=K[m];1!==U[S]&&(U[S]=1,oa[V++]=S)}return oa}});'undefined'==typeof Object.count&&Object.defineProperty(Object.prototype,'count',{writable:!0,enumerable:!1,configurable:!0,value:function(){var K=0;try{this instanceof
String&&JSON.parse(this);for(var U in this)this.hasOwnProperty(U)&&++K;return K}catch(oa){return K}}});'undefined'!=typeof global&&'undefined'==typeof global.__stack&&Object.defineProperty(global,'__stack',{configurable:!0,get:function(){var K=Error.prepareStackTrace;Error.prepareStackTrace=function(oa,Y){return Y};var U=Error();Error.captureStackTrace(U,arguments.callee);U=U.stack;Error.prepareStackTrace=K;return U}})}
'undefined'!==typeof module&&module.exports?module.exports=PrototypesHelper:'function'===typeof define&&define.amd&&define('helpers/prototypes',[],function(){return PrototypesHelper});
function DateFormatHelper(){var E='undefined'!==typeof module&&module.exports?!1:!0,O=E?require('utils/merge'):require('./../lib/merge');var ha='en-US';var Ca='en';var K={'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy',cookieDate:'GMT:ddd, dd mmm yyyy HH:MM:ss',logger:'yyyy mmm dd HH:MM:ss',shortTime:'h:MM TT',shortTime2:'h:MM',mediumTime:'h:MM:ss TT',mediumTime2:'h:MM:ss',longTime:'h:MM:ss TT Z',
longTime2:'h:MM:ss TT',concatenatedDate:'yyyymmdd',isoDate:'yyyy-mm-dd',isoTime:'HH:MM:ss',shortIsoTime:'HH:MM',longIsoTime:'HH:MM:ss TT',isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",longIsoDateTime:"yyyy-mm-dd'T'HH:MM:ss.L",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};var U={en:{dayNames:'Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday'.split(' '),monthNames:'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December'.split(' '),
masks:{'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy'}},fr:{dayNames:'dim lun mar mer jeu ven sam dimanche lundi mardi mercredi jeudi vendredi samedi'.split(' '),monthNames:'Jan F\u00e9v Mar Avr Mai Jui Juil Ao\u00fb Sep Oct Nov D\u00e9c Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre'.split(' '),masks:{'default':'ddd mmm dd yyyy HH:MM:ss',
shortDate:'d/m/yy',shortDate2:'dd/mm/yyyy',mediumDate:'d mmm, yyyy',longDate:'d mmmm, yyyy',fullDate:'dddd, d mmmm, yyyy'}}};var oa=function(m,S){if(S instanceof Date)return m=m.getTime(),S=S.getTime(),Math.round(Math.abs(m-S)/864E5);throw Error('dateTo is not instance of Date() !');},Y=['us','eu','corporate'],V=function(m){d=new Date(m.getFullYear(),m.getMonth(),m.getDate());m=d.getDay()||7;d.setDate(d.getDate()+4-m);m=new Date(Date.parse(d.getFullYear(),0,1));return Math.ceil(((d-m)/864E5+1)/7)};
return{setCulture:function(m,S){/\-/.test(S)?(ha=S,Ca=S.split(/\-/)[0]):Ca=S;return this},format:function(m,S,p){var da=U[Ca]||U.en,ya=null;try{ya=O(da.masks,K)}catch(R){O=(E='undefined'!==typeof module&&module.exports?!1:!0)?require('utils/merge'):require('./../lib/merge'),ya=O(da.masks,K)}'undefined'!=typeof U[ha]&&(da=U[ha],'undefined'!=typeof U[ha].mask&&(ya=O(da.masks,K)));var N=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,
L=/[^-+\dA-Z]/g,C=function(R,sa){R=String(R);for(sa=sa||2;R.length<sa;)R='0'+R;return R};1!=arguments.length||'[object String]'!=Object.prototype.toString.call(m)||/\d/.test(m)||(S=m,m=void 0);m=m?new Date(m):new Date;if(isNaN(m))throw SyntaxError('invalid date');S=String(ya[S]||S||ya['default']);'UTC:'==S.slice(0,4)&&(S=S.slice(4),p=!0);var B=p?'getUTC':'get';ya=m[B+'Date']();var u=m[B+'Day'](),z=m[B+'Month'](),y=m[B+'FullYear'](),J=m[B+'Hours'](),q=m[B+'Minutes'](),v=m[B+'Seconds']();B=m[B+'Milliseconds']();
var F=p?0:m.getTimezoneOffset(),H={d:ya,dd:C(ya),ddd:da.dayNames[u],dddd:da.dayNames[u+7],m:z+1,mm:C(z+1),mmm:da.monthNames[z],mmmm:da.monthNames[z+12],yy:String(y).slice(2),yyyy:y,h:J%12||12,hh:C(J%12||12),H:J,HH:C(J),M:q,MM:C(q),s:v,ss:C(v),l:C(B,3),L:C(B),t:12>J?'a':'p',tt:12>J?'am':'pm',T:12>J?'A':'P',TT:12>J?'AM':'PM',Z:p?'UTC':(String(m).match(N)||['']).pop().replace(L,''),o:(0<F?'-':'+')+C(100*Math.floor(Math.abs(F)/60)+Math.abs(F)%60,4),S:['th','st','nd','rd'][3<ya%10?0:(10!=ya%100-ya%10)*
ya%10]};return S.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,function(R){return R in H?H[R]:R.slice(1,R.length-1)})},countDaysTo:oa,getDaysTo:function(m,S,p){if(S instanceof Date){S=oa(m,S);var da=m.getMonth(),ya=m.getFullYear();m=m.getDate()+1;m=new Date(ya,da,m);da=[];for(ya=0;ya<S;++ya)'undefined'!=typeof p?da.push((new Date(m)).format(p)):da.push(new Date(m)),m.setDate(m.getDate()+1);return da||[]}throw Error('dateTo is not instance of Date() !');},getDaysInMonth:function(m){var S=
m.getMonth();m=m.getFullYear();m=new Date(m,S,1);for(var p=[];m.getMonth()===S;)p.push(new Date(m)),m.setDate(m.getDate()+1);return p},getQuarter:function(m,S){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>Y.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');m=new Date;S=arguments[0]}'undefined'==typeof m&&(m=new Date);'undefined'==typeof S&&(S='corporate');S=S.toLowerCase();switch(S){case 'us':var p=[4,1,2,3];break;case 'corportate':case 'eu':p=
[1,2,3,4];break;default:p=[1,2,3,4]}return p[Math.floor(m.getMonth()/3)]},getHalfYear:function(m,S){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>Y.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');m=new Date;S=arguments[0]}'undefined'==typeof m&&(m=new Date);'undefined'==typeof S&&(S='corporate');S=S.toLowerCase();return 2>=m.getQuarter(S)?1:2},getWeek:function(m,S){'undefined'==typeof m&&(m=new Date);'undefined'==typeof S&&(S='ISO 8601');
S=S.replace(/\s+/g,'').toLowerCase();switch(S){case 'corporate':case 'eu':case 'iso8601':return V(m);default:return V(m)}},addHours:function(m,S){m=new Date(m.getTime());m.setHours(m.getHours()+S);return m},addDays:function(m,S){m=new Date(m.getTime());m.setHours(m.getHours()+24*S);return m},addYears:function(m,S){m=new Date(m.getTime());m.setFullYear(m.getFullYear()+S);return m}}}
'undefined'!==typeof module&&module.exports?module.exports=DateFormatHelper:'function'===typeof define&&define.amd&&define('helpers/dateFormat',[],function(){return DateFormatHelper});
!function(E,O){'object'==typeof module&&'object'==typeof module.exports?module.exports=E.document?O(E,!0):function(ha){if(!ha.document)throw Error('jQuery requires a window with a document');return O(ha)}:O(E)}('undefined'!=typeof window?window:this,function(E,O){function ha(a){var c=!!a&&'length'in a&&a.length,g=b.type(a);return'function'===g||b.isWindow(a)?!1:'array'===g||0===c||'number'==typeof c&&0<c&&c-1 in a}function Ca(a,c,g){if(b.isFunction(c))return b.grep(a,function(k,l){return!!c.call(k,
l,k)!==g});if(c.nodeType)return b.grep(a,function(k){return k===c!==g});if('string'==typeof c){if(w.test(c))return b.filter(c,a,g);c=b.filter(c,a)}return b.grep(a,function(k){return-1<b.inArray(k,c)!==g})}function K(a,c){do a=a[c];while(a&&1!==a.nodeType);return a}function U(a){var c={};return b.each(a.match(Ba)||[],function(g,k){c[k]=!0}),c}function oa(){Ma.addEventListener?(Ma.removeEventListener('DOMContentLoaded',Y),E.removeEventListener('load',Y)):(Ma.detachEvent('onreadystatechange',Y),E.detachEvent('onload',
Y))}function Y(){(Ma.addEventListener||'load'===E.event.type||'complete'===Ma.readyState)&&(oa(),b.ready())}function V(a,c,g){if(void 0===g&&1===a.nodeType){var k='data-'+c.replace(tb,'-$1').toLowerCase();if(g=a.getAttribute(k),'string'==typeof g){try{g='true'===g?!0:'false'===g?!1:'null'===g?null:+g+''===g?+g:rb.test(g)?b.parseJSON(g):g}catch(l){}b.data(a,c,g)}else g=void 0}return g}function m(a){for(var c in a)if(('data'!==c||!b.isEmptyObject(a[c]))&&'toJSON'!==c)return!1;return!0}function S(a,
c,g,k){if(Ua(a)){var l,D,G=b.expando,Z=a.nodeType,qa=Z?b.cache:a,Aa=Z?a[G]:a[G]&&G;if(Aa&&qa[Aa]&&(k||qa[Aa].data)||void 0!==g||'string'!=typeof c)return Aa||=Z?a[G]=ib.pop()||b.guid++:G,qa[Aa]||(qa[Aa]=Z?{}:{toJSON:b.noop}),'object'!=typeof c&&'function'!=typeof c||(k?qa[Aa]=b.extend(qa[Aa],c):qa[Aa].data=b.extend(qa[Aa].data,c)),D=qa[Aa],k||(D.data||(D.data={}),D=D.data),void 0!==g&&(D[b.camelCase(c)]=g),'string'==typeof c?(l=D[c],null==l&&(l=D[b.camelCase(c)])):l=D,l}}function p(a,c,g){if(Ua(a)){var k,
l,D=a.nodeType,G=D?b.cache:a,Z=D?a[b.expando]:b.expando;if(G[Z]){if(c&&(k=g?G[Z]:G[Z].data)){b.isArray(c)?c=c.concat(b.map(c,b.camelCase)):c in k?c=[c]:(c=b.camelCase(c),c=c in k?[c]:c.split(' '));for(l=c.length;l--;)delete k[c[l]];if(g?!m(k):!b.isEmptyObject(k))return}(g||(delete G[Z].data,m(G[Z])))&&(D?b.cleanData([a],!0):e.deleteExpando||G!=G.window?delete G[Z]:G[Z]=void 0)}}}function da(a,c,g,k){var l,D=1,G=20,Z=k?function(){return k.cur()}:function(){return b.css(a,c,'')},qa=Z(),Aa=g&&g[3]||
(b.cssNumber[c]?'':'px'),ta=(b.cssNumber[c]||'px'!==Aa&&+qa)&&Nb.exec(b.css(a,c));if(ta&&ta[3]!==Aa){Aa=Aa||ta[3];g=g||[];ta=+qa||1;do D=D||'.5',ta/=D,b.style(a,c,ta+Aa);while(D!==(D=Z()/qa)&&1!==D&&--G)}return g&&(ta=+ta||+qa||0,l=g[1]?ta+(g[1]+1)*g[2]:+g[2],k&&(k.unit=Aa,k.start=ta,k.end=l)),l}function ya(a){var c='abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video'.split(' ');
a=a.createDocumentFragment();if(a.createElement)for(;c.length;)a.createElement(c.pop());return a}function N(a,c){var g,k,l=0,D='undefined'!=typeof a.getElementsByTagName?a.getElementsByTagName(c||'*'):'undefined'!=typeof a.querySelectorAll?a.querySelectorAll(c||'*'):void 0;if(!D)for(D=[],g=a.childNodes||a;null!=(k=g[l]);l++)!c||b.nodeName(k,c)?D.push(k):b.merge(D,N(k,c));return void 0===c||c&&b.nodeName(a,c)?b.merge([a],D):D}function L(a,c){for(var g,k=0;null!=(g=a[k]);k++)b._data(g,'globalEval',
!c||b._data(c[k],'globalEval'))}function C(a){fb.test(a.type)&&(a.defaultChecked=a.checked)}function B(a,c,g,k,l){for(var D,G,Z,qa,Aa,ta,Sa,Va=a.length,zb=ya(c),ab=[],Ib=0;Va>Ib;Ib++)if(G=a[Ib],G||0===G)if('object'===b.type(G))b.merge(ab,G.nodeType?[G]:G);else if(Qa.test(G)){qa=qa||zb.appendChild(c.createElement('div'));Aa=(ia.exec(G)||['',''])[1].toLowerCase();Sa=ra[Aa]||ra._default;qa.innerHTML=Sa[1]+b.htmlPrefilter(G)+Sa[2];for(D=Sa[0];D--;)qa=qa.lastChild;if(!e.leadingWhitespace&&ka.test(G)&&
ab.push(c.createTextNode(ka.exec(G)[0])),!e.tbody)for(D=(G='table'!==Aa||Za.test(G)?'<table>'!==Sa[1]||Za.test(G)?0:qa:qa.firstChild)&&G.childNodes.length;D--;)b.nodeName(ta=G.childNodes[D],'tbody')&&!ta.childNodes.length&&G.removeChild(ta);b.merge(ab,qa.childNodes);for(qa.textContent='';qa.firstChild;)qa.removeChild(qa.firstChild);qa=zb.lastChild}else ab.push(c.createTextNode(G));qa&&zb.removeChild(qa);e.appendChecked||b.grep(N(ab,'input'),C);for(Ib=0;G=ab[Ib++];)if(k&&-1<b.inArray(G,k))l&&l.push(G);
else if(Z=b.contains(G.ownerDocument,G),qa=N(zb.appendChild(G),'script'),Z&&L(qa),g)for(D=0;G=qa[D++];)X.test(G.type||'')&&g.push(G);return zb}function u(){return!0}function z(){return!1}function y(){try{return Ma.activeElement}catch(a){}}function J(a,c,g,k,l,D){var G,Z;if('object'==typeof c){'string'!=typeof g&&(k=k||g,g=void 0);for(Z in c)J(a,Z,g,k,c[Z],D);return a}if(null==k&&null==l?(l=g,k=g=void 0):null==l&&('string'==typeof g?(l=k,k=void 0):(l=k,k=g,g=void 0)),!1===l)l=z;else if(!l)return a;
return 1===D&&(G=l,l=function(qa){return b().off(qa),G.apply(this,arguments)},l.guid=G.guid||(G.guid=b.guid++)),a.each(function(){b.event.add(this,c,l,k,g)})}function q(a,c){return b.nodeName(a,'table')&&b.nodeName(11!==c.nodeType?c:c.firstChild,'tr')?a.getElementsByTagName('tbody')[0]||a.appendChild(a.ownerDocument.createElement('tbody')):a}function v(a){return a.type=(null!==b.find.attr(a,'type'))+'/'+a.type,a}function F(a){var c=Hb.exec(a.type);return c?a.type=c[1]:a.removeAttribute('type'),a}
function H(a,c){if(1===c.nodeType&&b.hasData(a)){var g,k;var l=b._data(a);a=b._data(c,l);var D=l.events;if(D)for(g in delete a.handle,a.events={},D)for(l=0,k=D[g].length;k>l;l++)b.event.add(c,g,D[g][l]);a.data&&(a.data=b.extend({},a.data))}}function R(a,c,g,k){c=Pb.apply([],c);var l,D,G,Z=0,qa=a.length,Aa=qa-1,ta=c[0],Sa=b.isFunction(ta);if(Sa||1<qa&&'string'==typeof ta&&!e.checkClone&&Db.test(ta))return a.each(function(zb){var ab=a.eq(zb);Sa&&(c[0]=ta.call(this,zb,ab.html()));R(ab,c,g,k)});if(qa&&
(G=B(c,a[0].ownerDocument,!1,a,k),l=G.firstChild,1===G.childNodes.length&&(G=l),l||k)){var Va=b.map(N(G,'script'),v);for(D=Va.length;qa>Z;Z++)l=G,Z!==Aa&&(l=b.clone(l,!0,!0),D&&b.merge(Va,N(l,'script'))),g.call(a[Z],l,Z);if(D)for(G=Va[Va.length-1].ownerDocument,b.map(Va,F),Z=0;D>Z;Z++)l=Va[Z],X.test(l.type||'')&&!b._data(l,'globalEval')&&b.contains(G,l)&&(l.src?b._evalUrl&&b._evalUrl(l.src):b.globalEval((l.text||l.textContent||l.innerHTML||'').replace(Jb,'')));G=l=null}return a}function sa(a,c,g){for(var k=
c?b.filter(c,a):a,l=0;null!=(c=k[l]);l++)g||1!==c.nodeType||b.cleanData(N(c)),c.parentNode&&(g&&b.contains(c.ownerDocument,c)&&L(N(c,'script')),c.parentNode.removeChild(c));return a}function T(a,c){a=b(c.createElement(a)).appendTo(c.body);c=b.css(a[0],'display');return a.detach(),c}function ca(a){var c=Ma,g=Gc[a];return g||(g=T(a,c),'none'!==g&&g||(Wb=(Wb||b("<iframe frameborder='0' width='0' height='0'/>")).appendTo(c.documentElement),c=(Wb[0].contentWindow||Wb[0].contentDocument).document,c.write(),
c.close(),g=T(a,c),Wb.detach()),Gc[a]=g),g}function ea(a,c){return{get:function(){return a()?void delete this.get:(this.get=c).apply(this,arguments)}}}function Ja(a){if(a in jd)return a;for(var c=a.charAt(0).toUpperCase()+a.slice(1),g=kd.length;g--;)if(a=kd[g]+c,a in jd)return a}function fa(a,c){for(var g,k,l,D=[],G=0,Z=a.length;Z>G;G++)k=a[G],k.style&&(D[G]=b._data(k,'olddisplay'),g=k.style.display,c?(D[G]||'none'!==g||(k.style.display=''),''===k.style.display&&Vb(k)&&(D[G]=b._data(k,'olddisplay',
ca(k.nodeName)))):(l=Vb(k),(g&&'none'!==g||!l)&&b._data(k,'olddisplay',l?g:b.css(k,'display'))));for(G=0;Z>G;G++)k=a[G],k.style&&(c&&'none'!==k.style.display&&''!==k.style.display||(k.style.display=c?D[G]||'':'none'));return a}function pa(a,c,g){return(a=wd.exec(c))?Math.max(0,a[1]-(g||0))+(a[2]||'px'):c}function Ea(a,c,g,k,l){c=g===(k?'border':'content')?4:'width'===c?1:0;for(var D=0;4>c;c+=2)'margin'===g&&(D+=b.css(a,g+Ab[c],!0,l)),k?('content'===g&&(D-=b.css(a,'padding'+Ab[c],!0,l)),'margin'!==
g&&(D-=b.css(a,'border'+Ab[c]+'Width',!0,l))):(D+=b.css(a,'padding'+Ab[c],!0,l),'padding'!==g&&(D+=b.css(a,'border'+Ab[c]+'Width',!0,l)));return D}function Ka(a,c,g){var k=!0,l='width'===c?a.offsetWidth:a.offsetHeight,D=xc(a),G=e.boxSizing&&'border-box'===b.css(a,'boxSizing',!1,D);if(0>=l||null==l){if(l=sc(a,c,D),(0>l||null==l)&&(l=a.style[c]),Lb.test(l))return l;k=G&&(e.boxSizingReliable()||l===a.style[c]);l=parseFloat(l)||0}return l+Ea(a,c,g||(G?'border':'content'),k,D)+'px'}function Oa(a,c,g,k,
l){return new Oa.prototype.init(a,c,g,k,l)}function Ia(){return E.setTimeout(function(){Hc=void 0}),Hc=b.now()}function Da(a,c){var g={height:a},k=0;for(c=c?1:0;4>k;k+=2-c){var l=Ab[k];g['margin'+l]=g['padding'+l]=a}return c&&(g.opacity=g.width=a),g}function cb(a,c,g){for(var k,l=(Na.tweeners[c]||[]).concat(Na.tweeners['*']),D=0,G=l.length;G>D;D++)if(k=l[D].call(g,c,a))return k}function Fa(a,c){var g,k,l,D,G;for(g in a)if(k=b.camelCase(g),l=c[k],D=a[g],b.isArray(D)&&(l=D[1],D=a[g]=D[0]),g!==k&&(a[k]=
D,delete a[g]),G=b.cssHooks[k],G&&'expand'in G)for(g in D=G.expand(D),delete a[k],D)g in a||(a[g]=D[g],c[g]=l);else c[k]=l}function Na(a,c,g){var k,l=0,D=Na.prefilters.length,G=b.Deferred().always(function(){delete Z.elem}),Z=function(){if(k)return!1;var Aa=Hc||Ia();Aa=Math.max(0,qa.startTime+qa.duration-Aa);for(var ta=1-(Aa/qa.duration||0),Sa=0,Va=qa.tweens.length;Va>Sa;Sa++)qa.tweens[Sa].run(ta);return G.notifyWith(a,[qa,ta,Aa]),1>ta&&Va?Aa:(G.resolveWith(a,[qa]),!1)},qa=G.promise({elem:a,props:b.extend({},
c),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},g),originalProperties:c,originalOptions:g,startTime:Hc||Ia(),duration:g.duration,tweens:[],createTween:function(Aa,ta){Aa=b.Tween(a,qa.opts,Aa,ta,qa.opts.specialEasing[Aa]||qa.opts.easing);return qa.tweens.push(Aa),Aa},stop:function(Aa){var ta=0,Sa=Aa?qa.tweens.length:0;if(k)return this;for(k=!0;Sa>ta;ta++)qa.tweens[ta].run(1);return Aa?(G.notifyWith(a,[qa,1,0]),G.resolveWith(a,[qa,Aa])):G.rejectWith(a,[qa,Aa]),this}});g=qa.props;for(Fa(g,
qa.opts.specialEasing);D>l;l++)if(c=Na.prefilters[l].call(qa,a,g,qa.opts))return b.isFunction(c.stop)&&(b._queueHooks(qa.elem,qa.opts.queue).stop=b.proxy(c.stop,c)),c;return b.map(g,cb,qa),b.isFunction(qa.opts.start)&&qa.opts.start.call(a,qa),b.fx.timer(b.extend(Z,{elem:a,anim:qa,queue:qa.opts.queue})),qa.progress(qa.opts.progress).done(qa.opts.done,qa.opts.complete).fail(qa.opts.fail).always(qa.opts.always)}function Xa(a){return b.attr(a,'class')||''}function qb(a){return function(c,g){'string'!=
typeof c&&(g=c,c='*');var k=0,l=c.toLowerCase().match(Ba)||[];if(b.isFunction(g))for(;c=l[k++];)'+'===c.charAt(0)?(c=c.slice(1)||'*',(a[c]=a[c]||[]).unshift(g)):(a[c]=a[c]||[]).push(g)}}function bb(a,c,g,k){function l(Z){var qa;return D[Z]=!0,b.each(a[Z]||[],function(Aa,ta){Aa=ta(c,g,k);return'string'!=typeof Aa||G||D[Aa]?G?!(qa=Aa):void 0:(c.dataTypes.unshift(Aa),l(Aa),!1)}),qa}var D={},G=a===Xc;return l(c.dataTypes[0])||!D['*']&&l('*')}function eb(a,c){var g,k,l=b.ajaxSettings.flatOptions||{};for(k in c)void 0!==
c[k]&&((l[k]?a:g||={})[k]=c[k]);return g&&b.extend(!0,a,g),a}function gc(a){if(!b.contains(a.ownerDocument||Ma,a))return!0;for(;a&&1===a.nodeType;){if('none'===(a.style&&a.style.display||b.css(a,'display'))||'hidden'===a.type)return!0;a=a.parentNode}return!1}function yb(a,c,g,k){var l;if(b.isArray(c))b.each(c,function(D,G){g||xd.test(a)?k(a,G):yb(a+'['+('object'==typeof G&&null!=G?D:'')+']',G,g,k)});else if(g||'object'!==b.type(c))k(a,c);else for(l in c)yb(a+'['+l+']',c[l],g,k)}function hb(){try{return new E.XMLHttpRequest}catch(a){}}
function Fb(){try{return new E.ActiveXObject('Microsoft.XMLHTTP')}catch(a){}}function Ob(a){return b.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var ib=[],Ma=E.document,mb=ib.slice,Pb=ib.concat,Yb=ib.push,wa=ib.indexOf,xa={},Ha=xa.toString,M=xa.hasOwnProperty,e={},b=function(a,c){return new b.fn.init(a,c)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/^-ms-/,x=/-([\da-z])/gi,r=function(a,c){return c.toUpperCase()};b.fn=b.prototype={jquery:'1.12.4',constructor:b,selector:'',length:0,
toArray:function(){return mb.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:mb.call(this)},pushStack:function(a){a=b.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a){return b.each(this,a)},map:function(a){return this.pushStack(b.map(this,function(c,g){return a.call(c,g,c)}))},slice:function(){return this.pushStack(mb.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var c=
this.length;a=+a+(0>a?c:0);return this.pushStack(0<=a&&c>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Yb,sort:ib.sort,splice:ib.splice};b.extend=b.fn.extend=function(){var a,c,g,k,l=arguments[0]||{},D=1,G=arguments.length,Z=!1;'boolean'==typeof l&&(Z=l,l=arguments[D]||{},D++);'object'==typeof l||b.isFunction(l)||(l={});for(D===G&&(l=this,D--);G>D;D++)if(null!=(g=arguments[D]))for(c in g){var qa=l[c];var Aa=g[c];l!==Aa&&(Z&&Aa&&(b.isPlainObject(Aa)||(a=b.isArray(Aa)))?
(a?(a=!1,k=qa&&b.isArray(qa)?qa:[]):k=qa&&b.isPlainObject(qa)?qa:{},l[c]=b.extend(Z,k,Aa)):void 0!==Aa&&(l[c]=Aa))}return l};b.extend({expando:'jQuery'+('1.12.4'+Math.random()).replace(/\D/g,''),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return'function'===b.type(a)},isArray:Array.isArray||function(a){return'array'===b.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var c=a&&a.toString();return!b.isArray(a)&&0<=c-parseFloat(c)+
1},isEmptyObject:function(a){for(var c in a)return!1;return!0},isPlainObject:function(a){var c;if(!a||'object'!==b.type(a)||a.nodeType||b.isWindow(a))return!1;try{if(a.constructor&&!M.call(a,'constructor')&&!M.call(a.constructor.prototype,'isPrototypeOf'))return!1}catch(g){return!1}if(!e.ownFirst)for(c in a)return M.call(a,c);for(c in a);return void 0===c||M.call(a,c)},type:function(a){return null==a?a+'':'object'==typeof a||'function'==typeof a?xa[Ha.call(a)]||'object':typeof a},globalEval:function(a){a&&
b.trim(a)&&(E.execScript||function(c){E.eval.call(E,c)})(a)},camelCase:function(a){return a.replace(n,'ms-').replace(x,r)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()},each:function(a,c){var g,k=0;if(ha(a))for(g=a.length;g>k&&!1!==c.call(a[k],k,a[k]);k++);else for(k in a)if(!1===c.call(a[k],k,a[k]))break;return a},trim:function(a){return null==a?'':(a+'').replace(h,'')},makeArray:function(a,c){c=c||[];return null!=a&&(ha(Object(a))?b.merge(c,'string'==typeof a?
[a]:a):Yb.call(c,a)),c},inArray:function(a,c,g){if(c){if(wa)return wa.call(c,a,g);var k=c.length;for(g=g?0>g?Math.max(0,k+g):g:0;k>g;g++)if(g in c&&c[g]===a)return g}return-1},merge:function(a,c){for(var g=+c.length,k=0,l=a.length;g>k;)a[l++]=c[k++];if(g!==g)for(;void 0!==c[k];)a[l++]=c[k++];return a.length=l,a},grep:function(a,c,g){for(var k=[],l=0,D=a.length,G=!g;D>l;l++)g=!c(a[l],l),g!==G&&k.push(a[l]);return k},map:function(a,c,g){var k,l=0,D=[];if(ha(a))for(k=a.length;k>l;l++){var G=c(a[l],l,
g);null!=G&&D.push(G)}else for(l in a)G=c(a[l],l,g),null!=G&&D.push(G);return Pb.apply([],D)},guid:1,proxy:function(a,c){var g,k,l;return'string'==typeof c&&(l=a[c],c=a,a=l),b.isFunction(a)?(g=mb.call(arguments,2),k=function(){return a.apply(c||this,g.concat(mb.call(arguments)))},k.guid=a.guid=a.guid||b.guid++,k):void 0},now:function(){return+new Date},support:e});'function'==typeof Symbol&&(b.fn[Symbol.iterator]=ib[Symbol.iterator]);b.each('Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' '),
function(a,c){xa['[object '+c+']']=c.toLowerCase()});var A=function(a){function c(I,ba,ma,va){var Ga,La,Ta,$a,Wa=ba&&ba.ownerDocument,kb=ba?ba.nodeType:9;if(ma=ma||[],'string'!=typeof I||!I||1!==kb&&9!==kb&&11!==kb)return ma;if(!va&&((ba?ba.ownerDocument||ba:bc)!==ub&&Dc(ba),ba=ba||ub,hc)){if(11!==kb&&($a=yd.exec(I)))if(Ga=$a[1])if(9===kb){if(!(La=ba.getElementById(Ga)))return ma;if(La.id===Ga)return ma.push(La),ma}else{if(Wa&&(La=Wa.getElementById(Ga))&&oc(ba,La)&&La.id===Ga)return ma.push(La),ma}else{if($a[2])return Cc.apply(ma,
ba.getElementsByTagName(I)),ma;if((Ga=$a[3])&&Rb.getElementsByClassName&&ba.getElementsByClassName)return Cc.apply(ma,ba.getElementsByClassName(Ga)),ma}if(!(!Rb.qsa||cc[I+' ']||Xb&&Xb.test(I))){if(1!==kb){Wa=ba;var nb=I}else if('object'!==ba.nodeName.toLowerCase()){(Ta=ba.getAttribute('id'))?Ta=Ta.replace(zd,'\\$&'):ba.setAttribute('id',Ta=Bb);$a=Pc(I);Ga=$a.length;for(La=ld.test(Ta)?'#'+Ta:"[id='"+Ta+"']";Ga--;)$a[Ga]=La+' '+Va($a[Ga]);nb=$a.join(',');Wa=Yc.test(I)&&ta(ba.parentNode)||ba}if(nb)try{return Cc.apply(ma,
Wa.querySelectorAll(nb)),ma}catch(gb){}finally{Ta===Bb&&ba.removeAttribute('id')}}}return ic(I.replace(Qc,'$1'),ba,ma,va)}function g(){function I(ma,va){return ba.push(ma+' ')>Eb.cacheLength&&delete I[ba.shift()],I[ma+' ']=va}var ba=[];return I}function k(I){return I[Bb]=!0,I}function l(I){var ba=ub.createElement('div');try{return!!I(ba)}catch(ma){return!1}finally{ba.parentNode&&ba.parentNode.removeChild(ba)}}function D(I,ba){I=I.split('|');for(var ma=I.length;ma--;)Eb.attrHandle[I[ma]]=ba}function G(I,
ba){var ma=ba&&I,va=ma&&1===I.nodeType&&1===ba.nodeType&&(~ba.sourceIndex||-2147483648)-(~I.sourceIndex||-2147483648);if(va)return va;if(ma)for(;ma=ma.nextSibling;)if(ma===ba)return-1;return I?1:-1}function Z(I){return function(ba){return'input'===ba.nodeName.toLowerCase()&&ba.type===I}}function qa(I){return function(ba){var ma=ba.nodeName.toLowerCase();return('input'===ma||'button'===ma)&&ba.type===I}}function Aa(I){return k(function(ba){return ba=+ba,k(function(ma,va){for(var Ga,La=I([],ma.length,
ba),Ta=La.length;Ta--;)ma[Ga=La[Ta]]&&(ma[Ga]=!(va[Ga]=ma[Ga]))})})}function ta(I){return I&&'undefined'!=typeof I.getElementsByTagName&&I}function Sa(){}function Va(I){for(var ba=0,ma=I.length,va='';ma>ba;ba++)va+=I[ba].value;return va}function zb(I,ba,ma){var va=ba.dir,Ga=ma&&'parentNode'===va,La=Sb++;return ba.first?function(Ta,$a,Wa){for(;Ta=Ta[va];)if(1===Ta.nodeType||Ga)return I(Ta,$a,Wa)}:function(Ta,$a,Wa){var kb,nb,gb,Kb=[Zb,La];if(Wa)for(;Ta=Ta[va];){if((1===Ta.nodeType||Ga)&&I(Ta,$a,Wa))return!0}else for(;Ta=
Ta[va];)if(1===Ta.nodeType||Ga){if(gb=Ta[Bb]||(Ta[Bb]={}),nb=gb[Ta.uniqueID]||(gb[Ta.uniqueID]={}),(kb=nb[va])&&kb[0]===Zb&&kb[1]===La)return Kb[2]=kb[2];if(nb[va]=Kb,Kb[2]=I(Ta,$a,Wa))return!0}}}function ab(I){return 1<I.length?function(ba,ma,va){for(var Ga=I.length;Ga--;)if(!I[Ga](ba,ma,va))return!1;return!0}:I[0]}function Ib(I,ba,ma,va,Ga){for(var La,Ta=[],$a=0,Wa=I.length,kb=null!=ba;Wa>$a;$a++)(La=I[$a])&&(ma&&!ma(La,va,Ga)||(Ta.push(La),kb&&ba.push($a)));return Ta}function lc(I,ba,ma,va,Ga,
La){return va&&!va[Bb]&&(va=lc(va)),Ga&&!Ga[Bb]&&(Ga=lc(Ga,La)),k(function(Ta,$a,Wa,kb){var nb,gb=[],Kb=[],dc=$a.length,ac;if(!(ac=Ta)){ac=ba||'*';for(var vb=Wa.nodeType?[Wa]:Wa,tc=[],jc=0,rc=vb.length;rc>jc;jc++)c(ac,vb[jc],tc);ac=tc}ac=!I||!Ta&&ba?ac:Ib(ac,gb,I,Wa,kb);vb=ma?Ga||(Ta?I:dc||va)?[]:$a:ac;if(ma&&ma(ac,vb,Wa,kb),va){var ec=Ib(vb,Kb);va(ec,[],Wa,kb);for(Wa=ec.length;Wa--;)(nb=ec[Wa])&&(vb[Kb[Wa]]=!(ac[Kb[Wa]]=nb))}if(Ta){if(Ga||I){if(Ga){ec=[];for(Wa=vb.length;Wa--;)(nb=vb[Wa])&&ec.push(ac[Wa]=
nb);Ga(null,vb=[],ec,kb)}for(Wa=vb.length;Wa--;)(nb=vb[Wa])&&-1<(ec=Ga?Ec(Ta,nb):gb[Wa])&&(Ta[ec]=!($a[ec]=nb))}}else vb=Ib(vb===$a?vb.splice(dc,vb.length):vb),Ga?Ga(null,$a,vb,kb):Cc.apply($a,vb)})}function Ic(I){var ba,ma,va=I.length,Ga=Eb.relative[I[0].type];var La=Ga||Eb.relative[' '];for(var Ta=Ga?1:0,$a=zb(function(nb){return nb===ba},La,!0),Wa=zb(function(nb){return-1<Ec(ba,nb)},La,!0),kb=[function(nb,gb,Kb){nb=!Ga&&(Kb||gb!==Cb)||((ba=gb).nodeType?$a(nb,gb,Kb):Wa(nb,gb,Kb));return ba=null,
nb}];va>Ta;Ta++)if(La=Eb.relative[I[Ta].type])kb=[zb(ab(kb),La)];else{if(La=Eb.filter[I[Ta].type].apply(null,I[Ta].matches),La[Bb]){for(ma=++Ta;va>ma&&!Eb.relative[I[ma].type];ma++);return lc(1<Ta&&ab(kb),1<Ta&&Va(I.slice(0,Ta-1).concat({value:' '===I[Ta-2].type?'*':''})).replace(Qc,'$1'),La,ma>Ta&&Ic(I.slice(Ta,ma)),va>ma&&Ic(I=I.slice(ma)),va>ma&&Va(I))}kb.push(La)}return ab(kb)}function mc(I,ba){var ma=0<ba.length,va=0<I.length,Ga=function(La,Ta,$a,Wa,kb){var nb,gb,Kb=0,dc='0',ac=La&&[],vb=[],
tc=Cb,jc=La||va&&Eb.find.TAG('*',kb),rc=Zb+=null==tc?1:Math.random()||.1,ec=jc.length;for(kb&&(Cb=Ta===ub||Ta||kb);dc!==ec&&null!=(nb=jc[dc]);dc++){if(va&&nb){var Zc=0;for(Ta||nb.ownerDocument===ub||(Dc(nb),$a=!hc);gb=I[Zc++];)if(gb(nb,Ta||ub,$a)){Wa.push(nb);break}kb&&(Zb=rc)}ma&&((nb=!gb&&nb)&&Kb--,La&&ac.push(nb))}if(Kb+=dc,ma&&dc!==Kb){for(Zc=0;gb=ba[Zc++];)gb(ac,vb,Ta,$a);if(La){if(0<Kb)for(;dc--;)ac[dc]||vb[dc]||(vb[dc]=$c.call(Wa));vb=Ib(vb)}Cc.apply(Wa,vb);kb&&!La&&0<vb.length&&1<Kb+ba.length&&
c.uniqueSort(Wa)}return kb&&(Zb=rc,Cb=tc),ac};return ma?k(Ga):Ga}var yc,wb,ic,Cb,Qb,Tb,ub,kc,hc,Xb,fc,Ub,oc,Bb='sizzle'+1*new Date,bc=a.document,Zb=0,Sb=0,Jc=g(),pc=g(),cc=g(),uc=function(I,ba){return I===ba&&(Tb=!0),0},vc={}.hasOwnProperty,nc=[],$c=nc.pop,Ad=nc.push,Cc=nc.push,md=nc.slice,Ec=function(I,ba){for(var ma=0,va=I.length;va>ma;ma++)if(I[ma]===ba)return ma;return-1},Bd=RegExp('[\\x20\\t\\r\\n\\f]+','g'),Qc=RegExp('^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$','g'),
Cd=RegExp('^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*'),Dd=RegExp('^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*'),Ed=RegExp('=[\\x20\\t\\r\\n\\f]*([^\\]\'"]*?)[\\x20\\t\\r\\n\\f]*\\]','g'),Fd=RegExp(':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
ld=RegExp('^(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+$'),Rc={ID:RegExp('^#((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),CLASS:RegExp('^\\.((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),TAG:RegExp('^((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+|[*])'),ATTR:RegExp('^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]'),PSEUDO:RegExp('^:((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
CHILD:RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)','i'),bool:RegExp('^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$','i'),needsContext:RegExp('^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)',
'i')},Gd=/^(?:input|select|textarea|button)$/i,Hd=/^h\d$/i,Mc=/^[^{]+\{\s*\[native \w/,yd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Yc=/[+~]/,zd=/'|\\/g,zc=RegExp('\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)','ig'),Ac=function(I,ba,ma){I='0x'+ba-65536;return I!==I||ma?ba:0>I?String.fromCharCode(I+65536):String.fromCharCode(I>>10|55296,1023&I|56320)},nd=function(){Dc()};try{Cc.apply(nc=md.call(bc.childNodes),bc.childNodes),nc[bc.childNodes.length].nodeType}catch(I){Cc={apply:nc.length?
function(ba,ma){Ad.apply(ba,md.call(ma))}:function(ba,ma){for(var va=ba.length,Ga=0;ba[va++]=ma[Ga++];);ba.length=va-1}}}var Rb=c.support={};var Id=c.isXML=function(I){return(I=I&&(I.ownerDocument||I).documentElement)?'HTML'!==I.nodeName:!1};var Dc=c.setDocument=function(I){var ba,ma;I=I?I.ownerDocument||I:bc;return I!==ub&&9===I.nodeType&&I.documentElement?(ub=I,kc=ub.documentElement,hc=!Id(ub),(ma=ub.defaultView)&&ma.top!==ma&&(ma.addEventListener?ma.addEventListener('unload',nd,!1):ma.attachEvent&&
ma.attachEvent('onunload',nd)),Rb.attributes=l(function(va){return va.className='i',!va.getAttribute('className')}),Rb.getElementsByTagName=l(function(va){return va.appendChild(ub.createComment('')),!va.getElementsByTagName('*').length}),Rb.getElementsByClassName=Mc.test(ub.getElementsByClassName),Rb.getById=l(function(va){return kc.appendChild(va).id=Bb,!ub.getElementsByName||!ub.getElementsByName(Bb).length}),Rb.getById?(Eb.find.ID=function(va,Ga){if('undefined'!=typeof Ga.getElementById&&hc)return(va=
Ga.getElementById(va))?[va]:[]},Eb.filter.ID=function(va){var Ga=va.replace(zc,Ac);return function(La){return La.getAttribute('id')===Ga}}):(delete Eb.find.ID,Eb.filter.ID=function(va){var Ga=va.replace(zc,Ac);return function(La){return(La='undefined'!=typeof La.getAttributeNode&&La.getAttributeNode('id'))&&La.value===Ga}}),Eb.find.TAG=Rb.getElementsByTagName?function(va,Ga){return'undefined'!=typeof Ga.getElementsByTagName?Ga.getElementsByTagName(va):Rb.qsa?Ga.querySelectorAll(va):void 0}:function(va,
Ga){var La=[],Ta=0;Ga=Ga.getElementsByTagName(va);if('*'===va){for(;va=Ga[Ta++];)1===va.nodeType&&La.push(va);return La}return Ga},Eb.find.CLASS=Rb.getElementsByClassName&&function(va,Ga){return'undefined'!=typeof Ga.getElementsByClassName&&hc?Ga.getElementsByClassName(va):void 0},fc=[],Xb=[],(Rb.qsa=Mc.test(ub.querySelectorAll))&&(l(function(va){kc.appendChild(va).innerHTML="<a id='"+Bb+"'></a><select id='"+Bb+"-\r\\' msallowcapture=''><option selected=''></option></select>";va.querySelectorAll("[msallowcapture^='']").length&&
Xb.push('[*^$]=[\\x20\\t\\r\\n\\f]*(?:\'\'|"")');va.querySelectorAll('[selected]').length||Xb.push('\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)');va.querySelectorAll('[id~='+Bb+'-]').length||Xb.push('~=');va.querySelectorAll(':checked').length||Xb.push(':checked');va.querySelectorAll('a#'+Bb+'+*').length||Xb.push('.#.+[+~]')}),l(function(va){var Ga=ub.createElement('input');Ga.setAttribute('type',
'hidden');va.appendChild(Ga).setAttribute('name','D');va.querySelectorAll('[name=d]').length&&Xb.push('name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=');va.querySelectorAll(':enabled').length||Xb.push(':enabled',':disabled');va.querySelectorAll('*,:x');Xb.push(',.*:')})),(Rb.matchesSelector=Mc.test(Ub=kc.matches||kc.webkitMatchesSelector||kc.mozMatchesSelector||kc.oMatchesSelector||kc.msMatchesSelector))&&l(function(va){Rb.disconnectedMatch=Ub.call(va,'div');Ub.call(va,"[s!='']:x");fc.push('!=',':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)')}),
Xb=Xb.length&&new RegExp(Xb.join('|')),fc=fc.length&&new RegExp(fc.join('|')),ba=Mc.test(kc.compareDocumentPosition),oc=ba||Mc.test(kc.contains)?function(va,Ga){var La=9===va.nodeType?va.documentElement:va;Ga=Ga&&Ga.parentNode;return va===Ga||!(!Ga||1!==Ga.nodeType||!(La.contains?La.contains(Ga):va.compareDocumentPosition&&16&va.compareDocumentPosition(Ga)))}:function(va,Ga){if(Ga)for(;Ga=Ga.parentNode;)if(Ga===va)return!0;return!1},uc=ba?function(va,Ga){if(va===Ga)return Tb=!0,0;var La=!va.compareDocumentPosition-
!Ga.compareDocumentPosition;return La?La:(La=(va.ownerDocument||va)===(Ga.ownerDocument||Ga)?va.compareDocumentPosition(Ga):1,1&La||!Rb.sortDetached&&Ga.compareDocumentPosition(va)===La?va===ub||va.ownerDocument===bc&&oc(bc,va)?-1:Ga===ub||Ga.ownerDocument===bc&&oc(bc,Ga)?1:Qb?Ec(Qb,va)-Ec(Qb,Ga):0:4&La?-1:1)}:function(va,Ga){if(va===Ga)return Tb=!0,0;var La=0,Ta=va.parentNode,$a=Ga.parentNode,Wa=[va],kb=[Ga];if(!Ta||!$a)return va===ub?-1:Ga===ub?1:Ta?-1:$a?1:Qb?Ec(Qb,va)-Ec(Qb,Ga):0;if(Ta===$a)return G(va,
Ga);for(;va=va.parentNode;)Wa.unshift(va);for(va=Ga;va=va.parentNode;)kb.unshift(va);for(;Wa[La]===kb[La];)La++;return La?G(Wa[La],kb[La]):Wa[La]===bc?-1:kb[La]===bc?1:0},ub):ub};c.matches=function(I,ba){return c(I,null,null,ba)};c.matchesSelector=function(I,ba){if((I.ownerDocument||I)!==ub&&Dc(I),ba=ba.replace(Ed,"='$1']"),!(!Rb.matchesSelector||!hc||cc[ba+' ']||fc&&fc.test(ba)||Xb&&Xb.test(ba)))try{var ma=Ub.call(I,ba);if(ma||Rb.disconnectedMatch||I.document&&11!==I.document.nodeType)return ma}catch(va){}return 0<
c(ba,ub,null,[I]).length};c.contains=function(I,ba){return(I.ownerDocument||I)!==ub&&Dc(I),oc(I,ba)};c.attr=function(I,ba){(I.ownerDocument||I)!==ub&&Dc(I);var ma=Eb.attrHandle[ba.toLowerCase()];ma=ma&&vc.call(Eb.attrHandle,ba.toLowerCase())?ma(I,ba,!hc):void 0;return void 0!==ma?ma:Rb.attributes||!hc?I.getAttribute(ba):(ma=I.getAttributeNode(ba))&&ma.specified?ma.value:null};c.error=function(I){throw Error('Syntax error, unrecognized expression: '+I);};c.uniqueSort=function(I){var ba,ma=[],va=0,
Ga=0;if(Tb=!Rb.detectDuplicates,Qb=!Rb.sortStable&&I.slice(0),I.sort(uc),Tb){for(;ba=I[Ga++];)ba===I[Ga]&&(va=ma.push(Ga));for(;va--;)I.splice(ma[va],1)}return Qb=null,I};var ad=c.getText=function(I){var ba,ma='',va=0;if(ba=I.nodeType)if(1===ba||9===ba||11===ba){if('string'==typeof I.textContent)return I.textContent;for(I=I.firstChild;I;I=I.nextSibling)ma+=ad(I)}else{if(3===ba||4===ba)return I.nodeValue}else for(;ba=I[va++];)ma+=ad(ba);return ma};var Eb=c.selectors={cacheLength:50,createPseudo:k,
match:Rc,attrHandle:{},find:{},relative:{'>':{dir:'parentNode',first:!0},' ':{dir:'parentNode'},'+':{dir:'previousSibling',first:!0},'~':{dir:'previousSibling'}},preFilter:{ATTR:function(I){return I[1]=I[1].replace(zc,Ac),I[3]=(I[3]||I[4]||I[5]||'').replace(zc,Ac),'~='===I[2]&&(I[3]=' '+I[3]+' '),I.slice(0,4)},CHILD:function(I){return I[1]=I[1].toLowerCase(),'nth'===I[1].slice(0,3)?(I[3]||c.error(I[0]),I[4]=+(I[4]?I[5]+(I[6]||1):2*('even'===I[3]||'odd'===I[3])),I[5]=+(I[7]+I[8]||'odd'===I[3])):I[3]&&
c.error(I[0]),I},PSEUDO:function(I){var ba,ma=!I[6]&&I[2];return Rc.CHILD.test(I[0])?null:(I[3]?I[2]=I[4]||I[5]||'':ma&&Fd.test(ma)&&(ba=Pc(ma,!0))&&(ba=ma.indexOf(')',ma.length-ba)-ma.length)&&(I[0]=I[0].slice(0,ba),I[2]=ma.slice(0,ba)),I.slice(0,3))}},filter:{TAG:function(I){var ba=I.replace(zc,Ac).toLowerCase();return'*'===I?function(){return!0}:function(ma){return ma.nodeName&&ma.nodeName.toLowerCase()===ba}},CLASS:function(I){var ba=Jc[I+' '];return ba||(ba=new RegExp('(^|[\\x20\\t\\r\\n\\f])'+
I+'([\\x20\\t\\r\\n\\f]|$)'),Jc(I,function(ma){return ba.test('string'==typeof ma.className&&ma.className||'undefined'!=typeof ma.getAttribute&&ma.getAttribute('class')||'')}))},ATTR:function(I,ba,ma){return function(va){va=c.attr(va,I);return null==va?'!='===ba:ba?(va+='','='===ba?va===ma:'!='===ba?va!==ma:'^='===ba?ma&&0===va.indexOf(ma):'*='===ba?ma&&-1<va.indexOf(ma):'$='===ba?ma&&va.slice(-ma.length)===ma:'~='===ba?-1<(' '+va.replace(Bd,' ')+' ').indexOf(ma):'|='===ba?va===ma||va.slice(0,ma.length+
1)===ma+'-':!1):!0}},CHILD:function(I,ba,ma,va,Ga){var La='nth'!==I.slice(0,3),Ta='last'!==I.slice(-4),$a='of-type'===ba;return 1===va&&0===Ga?function(Wa){return!!Wa.parentNode}:function(Wa,kb,nb){var gb,Kb;kb=La!==Ta?'nextSibling':'previousSibling';var dc=Wa.parentNode,ac=$a&&Wa.nodeName.toLowerCase();nb=!nb&&!$a;var vb=!1;if(dc){if(La){for(;kb;){for(gb=Wa;gb=gb[kb];)if($a?gb.nodeName.toLowerCase()===ac:1===gb.nodeType)return!1;var tc=kb='only'===I&&!tc&&'nextSibling'}return!0}if(tc=[Ta?dc.firstChild:
dc.lastChild],Ta&&nb){gb=dc;var jc=gb[Bb]||(gb[Bb]={});var rc=jc[gb.uniqueID]||(jc[gb.uniqueID]={});var ec=rc[I]||[];vb=(Kb=ec[0]===Zb&&ec[1])&&ec[2];for(gb=Kb&&dc.childNodes[Kb];gb=++Kb&&gb&&gb[kb]||(vb=Kb=0)||tc.pop();)if(1===gb.nodeType&&++vb&&gb===Wa){rc[I]=[Zb,Kb,vb];break}}else if(nb&&(gb=Wa,jc=gb[Bb]||(gb[Bb]={}),rc=jc[gb.uniqueID]||(jc[gb.uniqueID]={}),ec=rc[I]||[],Kb=ec[0]===Zb&&ec[1],vb=Kb),!1===vb)for(;(gb=++Kb&&gb&&gb[kb]||(vb=Kb=0)||tc.pop())&&(($a?gb.nodeName.toLowerCase()!==ac:1!==
gb.nodeType)||!++vb||(nb&&(jc=gb[Bb]||(gb[Bb]={}),rc=jc[gb.uniqueID]||(jc[gb.uniqueID]={}),rc[I]=[Zb,vb]),gb!==Wa)););return vb-=Ga,vb===va||0===vb%va&&0<=vb/va}}},PSEUDO:function(I,ba){var ma,va=Eb.pseudos[I]||Eb.setFilters[I.toLowerCase()]||c.error('unsupported pseudo: '+I);return va[Bb]?va(ba):1<va.length?(ma=[I,I,'',ba],Eb.setFilters.hasOwnProperty(I.toLowerCase())?k(function(Ga,La){for(var Ta,$a=va(Ga,ba),Wa=$a.length;Wa--;)Ta=Ec(Ga,$a[Wa]),Ga[Ta]=!(La[Ta]=$a[Wa])}):function(Ga){return va(Ga,
0,ma)}):va}},pseudos:{not:k(function(I){var ba=[],ma=[],va=wb(I.replace(Qc,'$1'));return va[Bb]?k(function(Ga,La,Ta,$a){var Wa;Ta=va(Ga,null,$a,[]);for($a=Ga.length;$a--;)(Wa=Ta[$a])&&(Ga[$a]=!(La[$a]=Wa))}):function(Ga,La,Ta){return ba[0]=Ga,va(ba,null,Ta,ma),ba[0]=null,!ma.pop()}}),has:k(function(I){return function(ba){return 0<c(I,ba).length}}),contains:k(function(I){return I=I.replace(zc,Ac),function(ba){return-1<(ba.textContent||ba.innerText||ad(ba)).indexOf(I)}}),lang:k(function(I){return ld.test(I||
'')||c.error('unsupported lang: '+I),I=I.replace(zc,Ac).toLowerCase(),function(ba){var ma;do if(ma=hc?ba.lang:ba.getAttribute('xml:lang')||ba.getAttribute('lang'))return ma=ma.toLowerCase(),ma===I||0===ma.indexOf(I+'-');while((ba=ba.parentNode)&&1===ba.nodeType);return!1}}),target:function(I){var ba=a.location&&a.location.hash;return ba&&ba.slice(1)===I.id},root:function(I){return I===kc},focus:function(I){return I===ub.activeElement&&(!ub.hasFocus||ub.hasFocus())&&!!(I.type||I.href||~I.tabIndex)},
enabled:function(I){return!1===I.disabled},disabled:function(I){return!0===I.disabled},checked:function(I){var ba=I.nodeName.toLowerCase();return'input'===ba&&!!I.checked||'option'===ba&&!!I.selected},selected:function(I){return I.parentNode&&I.parentNode.selectedIndex,!0===I.selected},empty:function(I){for(I=I.firstChild;I;I=I.nextSibling)if(6>I.nodeType)return!1;return!0},parent:function(I){return!Eb.pseudos.empty(I)},header:function(I){return Hd.test(I.nodeName)},input:function(I){return Gd.test(I.nodeName)},
button:function(I){var ba=I.nodeName.toLowerCase();return'input'===ba&&'button'===I.type||'button'===ba},text:function(I){var ba;return'input'===I.nodeName.toLowerCase()&&'text'===I.type&&(null==(ba=I.getAttribute('type'))||'text'===ba.toLowerCase())},first:Aa(function(){return[0]}),last:Aa(function(I,ba){return[ba-1]}),eq:Aa(function(I,ba,ma){return[0>ma?ma+ba:ma]}),even:Aa(function(I,ba){for(var ma=0;ba>ma;ma+=2)I.push(ma);return I}),odd:Aa(function(I,ba){for(var ma=1;ba>ma;ma+=2)I.push(ma);return I}),
lt:Aa(function(I,ba,ma){for(ba=0>ma?ma+ba:ma;0<=--ba;)I.push(ba);return I}),gt:Aa(function(I,ba,ma){for(ma=0>ma?ma+ba:ma;++ma<ba;)I.push(ma);return I})}};Eb.pseudos.nth=Eb.pseudos.eq;for(yc in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Eb.pseudos[yc]=Z(yc);for(yc in{submit:!0,reset:!0})Eb.pseudos[yc]=qa(yc);Sa.prototype=Eb.filters=Eb.pseudos;Eb.setFilters=new Sa;var Pc=c.tokenize=function(I,ba){var ma,va,Ga,La,Ta;if(La=pc[I+' '])return ba?0:La.slice(0);La=I;var $a=[];for(Ta=Eb.preFilter;La;){Wa&&
!(ma=Cd.exec(La))||(ma&&(La=La.slice(ma[0].length)||La),$a.push(va=[]));var Wa=!1;(ma=Dd.exec(La))&&(Wa=ma.shift(),va.push({value:Wa,type:ma[0].replace(Qc,' ')}),La=La.slice(Wa.length));for(Ga in Eb.filter)!(ma=Rc[Ga].exec(La))||Ta[Ga]&&!(ma=Ta[Ga](ma))||(Wa=ma.shift(),va.push({value:Wa,type:Ga,matches:ma}),La=La.slice(Wa.length));if(!Wa)break}return ba?La.length:La?c.error(I):pc(I,$a).slice(0)};return wb=c.compile=function(I,ba){var ma,va=[],Ga=[],La=cc[I+' '];if(!La){ba||=Pc(I);for(ma=ba.length;ma--;)La=
Ic(ba[ma]),La[Bb]?va.push(La):Ga.push(La);La=cc(I,mc(Ga,va));La.selector=I}return La},ic=c.select=function(I,ba,ma,va){var Ga,La,Ta,$a,Wa,kb='function'==typeof I&&I,nb=!va&&Pc(I=kb.selector||I);if(ma=ma||[],1===nb.length){if(La=nb[0]=nb[0].slice(0),2<La.length&&'ID'===(Ta=La[0]).type&&Rb.getById&&9===ba.nodeType&&hc&&Eb.relative[La[1].type]){if(ba=(Eb.find.ID(Ta.matches[0].replace(zc,Ac),ba)||[])[0],!ba)return ma;kb&&(ba=ba.parentNode);I=I.slice(La.shift().value.length)}for(Ga=Rc.needsContext.test(I)?
0:La.length;Ga--&&(Ta=La[Ga],!Eb.relative[$a=Ta.type]);)if((Wa=Eb.find[$a])&&(va=Wa(Ta.matches[0].replace(zc,Ac),Yc.test(La[0].type)&&ta(ba.parentNode)||ba))){if(La.splice(Ga,1),I=va.length&&Va(La),!I)return Cc.apply(ma,va),ma;break}}return(kb||wb(I,nb))(va,ba,!hc,ma,!ba||Yc.test(I)&&ta(ba.parentNode)||ba),ma},Rb.sortStable=Bb.split('').sort(uc).join('')===Bb,Rb.detectDuplicates=!!Tb,Dc(),Rb.sortDetached=l(function(I){return 1&I.compareDocumentPosition(ub.createElement('div'))}),l(function(I){return I.innerHTML=
"<a href='#'></a>",'#'===I.firstChild.getAttribute('href')})||D('type|href|height|width',function(I,ba,ma){return ma?void 0:I.getAttribute(ba,'type'===ba.toLowerCase()?1:2)}),Rb.attributes&&l(function(I){return I.innerHTML='<input/>',I.firstChild.setAttribute('value',''),''===I.firstChild.getAttribute('value')})||D('value',function(I,ba,ma){return ma||'input'!==I.nodeName.toLowerCase()?void 0:I.defaultValue}),l(function(I){return null==I.getAttribute('disabled')})||D('checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',
function(I,ba,ma){var va;return ma?void 0:!0===I[ba]?ba.toLowerCase():(va=I.getAttributeNode(ba))&&va.specified?va.value:null}),c}(E);b.find=A;b.expr=A.selectors;b.expr[':']=b.expr.pseudos;b.uniqueSort=b.unique=A.uniqueSort;b.text=A.getText;b.isXMLDoc=A.isXML;b.contains=A.contains;var W=function(a,c,g){for(var k=[],l=void 0!==g;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(l&&b(a).is(g))break;k.push(a)}return k},P=function(a,c){for(var g=[];a;a=a.nextSibling)1===a.nodeType&&a!==c&&g.push(a);return g},
aa=b.expr.match.needsContext,Q=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;b.filter=function(a,c,g){var k=c[0];return g&&(a=':not('+a+')'),1===c.length&&1===k.nodeType?b.find.matchesSelector(k,a)?[k]:[]:b.find.matches(a,b.grep(c,function(l){return 1===l.nodeType}))};b.fn.extend({find:function(a){var c,g=[],k=this,l=k.length;if('string'!=typeof a)return this.pushStack(b(a).filter(function(){for(c=0;l>c;c++)if(b.contains(k[c],this))return!0}));for(c=0;l>c;c++)b.find(a,k[c],g);return g=this.pushStack(1<
l?b.unique(g):g),g.selector=this.selector?this.selector+' '+a:a,g},filter:function(a){return this.pushStack(Ca(this,a||[],!1))},not:function(a){return this.pushStack(Ca(this,a||[],!0))},is:function(a){return!!Ca(this,'string'==typeof a&&aa.test(a)?b(a):a||[],!1).length}});var ja=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(b.fn.init=function(a,c,g){var k,l;if(!a)return this;if(g=g||ua,'string'==typeof a){if(k='<'===a.charAt(0)&&'>'===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:ja.exec(a),!k||!k[1]&&
c)return!c||c.jquery?(c||g).find(a):this.constructor(c).find(a);if(k[1]){if(c=c instanceof b?c[0]:c,b.merge(this,b.parseHTML(k[1],c&&c.nodeType?c.ownerDocument||c:Ma,!0)),Q.test(k[1])&&b.isPlainObject(c))for(k in c)b.isFunction(this[k])?this[k](c[k]):this.attr(k,c[k]);return this}if(l=Ma.getElementById(k[2]),l&&l.parentNode){if(l.id!==k[2])return ua.find(a);this.length=1;this[0]=l}return this.context=Ma,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):b.isFunction(a)?
'undefined'!=typeof g.ready?g.ready(a):a(b):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),b.makeArray(a,this))}).prototype=b.fn;var ua=b(Ma);var na=/^(?:parents|prev(?:Until|All))/,la={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({has:function(a){var c,g=b(a,this),k=g.length;return this.filter(function(){for(c=0;k>c;c++)if(b.contains(this,g[c]))return!0})},closest:function(a,c){for(var g,k=0,l=this.length,D=[],G=aa.test(a)||'string'!=typeof a?b(a,c||this.context):
0;l>k;k++)for(g=this[k];g&&g!==c;g=g.parentNode)if(11>g.nodeType&&(G?-1<G.index(g):1===g.nodeType&&b.find.matchesSelector(g,a))){D.push(g);break}return this.pushStack(1<D.length?b.uniqueSort(D):D)},index:function(a){return a?'string'==typeof a?b.inArray(this[0],b(a)):b.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,c){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(a,c))))},addBack:function(a){return this.add(null==a?this.prevObject:
this.prevObject.filter(a))}});b.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return W(a,'parentNode')},parentsUntil:function(a,c,g){return W(a,'parentNode',g)},next:function(a){return K(a,'nextSibling')},prev:function(a){return K(a,'previousSibling')},nextAll:function(a){return W(a,'nextSibling')},prevAll:function(a){return W(a,'previousSibling')},nextUntil:function(a,c,g){return W(a,'nextSibling',g)},prevUntil:function(a,c,g){return W(a,'previousSibling',
g)},siblings:function(a){return P((a.parentNode||{}).firstChild,a)},children:function(a){return P(a.firstChild)},contents:function(a){return b.nodeName(a,'iframe')?a.contentDocument||a.contentWindow.document:b.merge([],a.childNodes)}},function(a,c){b.fn[a]=function(g,k){var l=b.map(this,c,g);return'Until'!==a.slice(-5)&&(k=g),k&&'string'==typeof k&&(l=b.filter(k,l)),1<this.length&&(la[a]||(l=b.uniqueSort(l)),na.test(a)&&(l=l.reverse())),this.pushStack(l)}});var Ba=/\S+/g;b.Callbacks=function(a){a=
'string'==typeof a?U(a):b.extend({},a);var c,g,k,l,D=[],G=[],Z=-1,qa=function(){l=a.once;for(k=c=!0;G.length;Z=-1)for(g=G.shift();++Z<D.length;)!1===D[Z].apply(g[0],g[1])&&a.stopOnFalse&&(Z=D.length,g=!1);a.memory||(g=!1);c=!1;l&&(D=g?[]:'')},Aa={add:function(){return D&&(g&&!c&&(Z=D.length-1,G.push(g)),function Va(Sa){b.each(Sa,function(zb,ab){b.isFunction(ab)?a.unique&&Aa.has(ab)||D.push(ab):ab&&ab.length&&'string'!==b.type(ab)&&Va(ab)})}(arguments),g&&!c&&qa()),this},remove:function(){return b.each(arguments,
function(ta,Sa){for(var Va;-1<(Va=b.inArray(Sa,D,Va));)D.splice(Va,1),Z>=Va&&Z--}),this},has:function(ta){return ta?-1<b.inArray(ta,D):0<D.length},empty:function(){return D&&=[],this},disable:function(){return l=G=[],D=g='',this},disabled:function(){return!D},lock:function(){return l=!0,g||Aa.disable(),this},locked:function(){return!!l},fireWith:function(ta,Sa){return l||(Sa=Sa||[],Sa=[ta,Sa.slice?Sa.slice():Sa],G.push(Sa),c||qa()),this},fire:function(){return Aa.fireWith(this,arguments),this},fired:function(){return!!k}};
return Aa};b.extend({Deferred:function(a){var c=[['resolve','done',b.Callbacks('once memory'),'resolved'],['reject','fail',b.Callbacks('once memory'),'rejected'],['notify','progress',b.Callbacks('memory')]],g='pending',k={state:function(){return g},always:function(){return l.done(arguments).fail(arguments),this},then:function(){var D=arguments;return b.Deferred(function(G){b.each(c,function(Z,qa){var Aa=b.isFunction(D[Z])&&D[Z];l[qa[1]](function(){var ta=Aa&&Aa.apply(this,arguments);ta&&b.isFunction(ta.promise)?
ta.promise().progress(G.notify).done(G.resolve).fail(G.reject):G[qa[0]+'With'](this===k?G.promise():this,Aa?[ta]:arguments)})});D=null}).promise()},promise:function(D){return null!=D?b.extend(D,k):k}},l={};return k.pipe=k.then,b.each(c,function(D,G){var Z=G[2],qa=G[3];k[G[1]]=Z.add;qa&&Z.add(function(){g=qa},c[1^D][2].disable,c[2][2].lock);l[G[0]]=function(){return l[G[0]+'With'](this===l?k:this,arguments),this};l[G[0]+'With']=Z.fireWith}),k.promise(l),a&&a.call(l,l),l},when:function(a){var c=0,g=
mb.call(arguments),k=g.length,l=1!==k||a&&b.isFunction(a.promise)?k:0,D=1===l?a:b.Deferred(),G=function(ta,Sa,Va){return function(zb){Sa[ta]=this;Va[ta]=1<arguments.length?mb.call(arguments):zb;Va===qa?D.notifyWith(Sa,Va):--l||D.resolveWith(Sa,Va)}},Z;if(1<k){var qa=Array(k);var Aa=Array(k);for(Z=Array(k);k>c;c++)g[c]&&b.isFunction(g[c].promise)?g[c].promise().progress(G(c,Aa,qa)).done(G(c,Z,g)).fail(D.reject):--l}return l||D.resolveWith(Z,g),D.promise()}});var za;b.fn.ready=function(a){return b.ready.promise().done(a),
this};b.extend({isReady:!1,readyWait:1,holdReady:function(a){a?b.readyWait++:b.ready(!0)},ready:function(a){(!0===a?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==a&&0<--b.readyWait||(za.resolveWith(Ma,[b]),b.fn.triggerHandler&&(b(Ma).triggerHandler('ready'),b(Ma).off('ready'))))}});b.ready.promise=function(a){if(!za)if(za=b.Deferred(),'complete'===Ma.readyState||'loading'!==Ma.readyState&&!Ma.documentElement.doScroll)E.setTimeout(b.ready);else if(Ma.addEventListener)Ma.addEventListener('DOMContentLoaded',
Y),E.addEventListener('load',Y);else{Ma.attachEvent('onreadystatechange',Y);E.attachEvent('onload',Y);var c=!1;try{c=null==E.frameElement&&Ma.documentElement}catch(g){}c&&c.doScroll&&!function k(){if(!b.isReady){try{c.doScroll('left')}catch(l){return E.setTimeout(k,50)}oa();b.ready()}}()}return za.promise(a)};b.ready.promise();for(var Ra in b(e))break;e.ownFirst='0'===Ra;e.inlineBlockNeedsLayout=!1;b(function(){var a,c,g,k;(g=Ma.getElementsByTagName('body')[0])&&g.style&&(c=Ma.createElement('div'),
k=Ma.createElement('div'),k.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',g.appendChild(k).appendChild(c),'undefined'!=typeof c.style.zoom&&(c.style.cssText='display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1',e.inlineBlockNeedsLayout=a=3===c.offsetWidth,a&&(g.style.zoom=1)),g.removeChild(k))});(function(){var a=Ma.createElement('div');e.deleteExpando=!0;try{delete a.test}catch(c){e.deleteExpando=!1}})();var Ua=function(a){var c=b.noData[(a.nodeName+' ').toLowerCase()],
g=+a.nodeType||1;return 1!==g&&9!==g?!1:!c||!0!==c&&a.getAttribute('classid')===c},rb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tb=/([A-Z])/g;b.extend({cache:{},noData:{'applet ':!0,'embed ':!0,'object ':'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'},hasData:function(a){return a=a.nodeType?b.cache[a[b.expando]]:a[b.expando],!!a&&!m(a)},data:function(a,c,g){return S(a,c,g)},removeData:function(a,c){return p(a,c)},_data:function(a,c,g){return S(a,c,g,!0)},_removeData:function(a,c){return p(a,c,!0)}});b.fn.extend({data:function(a,
c){var g,k,l,D=this[0],G=D&&D.attributes;if(void 0===a){if(this.length&&(l=b.data(D),1===D.nodeType&&!b._data(D,'parsedAttrs'))){for(g=G.length;g--;)G[g]&&(k=G[g].name,0===k.indexOf('data-')&&(k=b.camelCase(k.slice(5)),V(D,k,l[k])));b._data(D,'parsedAttrs',!0)}return l}return'object'==typeof a?this.each(function(){b.data(this,a)}):1<arguments.length?this.each(function(){b.data(this,a,c)}):D?V(D,a,b.data(D,a)):void 0},removeData:function(a){return this.each(function(){b.removeData(this,a)})}});b.extend({queue:function(a,
c,g){var k;return a?(c=(c||'fx')+'queue',k=b._data(a,c),g&&(!k||b.isArray(g)?k=b._data(a,c,b.makeArray(g)):k.push(g)),k||[]):void 0},dequeue:function(a,c){c=c||'fx';var g=b.queue(a,c),k=g.length,l=g.shift(),D=b._queueHooks(a,c),G=function(){b.dequeue(a,c)};'inprogress'===l&&(l=g.shift(),k--);l&&('fx'===c&&g.unshift('inprogress'),delete D.stop,l.call(a,G,D));!k&&D&&D.empty.fire()},_queueHooks:function(a,c){var g=c+'queueHooks';return b._data(a,g)||b._data(a,g,{empty:b.Callbacks('once memory').add(function(){b._removeData(a,
c+'queue');b._removeData(a,g)})})}});b.fn.extend({queue:function(a,c){var g=2;return'string'!=typeof a&&(c=a,a='fx',g--),arguments.length<g?b.queue(this[0],a):void 0===c?this:this.each(function(){var k=b.queue(this,a,c);b._queueHooks(this,a);'fx'===a&&'inprogress'!==k[0]&&b.dequeue(this,a)})},dequeue:function(a){return this.each(function(){b.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||'fx',[])},promise:function(a,c){var g,k=1,l=b.Deferred(),D=this,G=this.length,Z=function(){--k||
l.resolveWith(D,[D])};'string'!=typeof a&&(c=a,a=void 0);for(a=a||'fx';G--;)(g=b._data(D[G],a+'queueHooks'))&&g.empty&&(k++,g.empty.add(Z));return Z(),l.promise(c)}});(function(){var a;e.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var c,g,k;return g=Ma.getElementsByTagName('body')[0],g&&g.style?(c=Ma.createElement('div'),k=Ma.createElement('div'),k.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',g.appendChild(k).appendChild(c),'undefined'!=typeof c.style.zoom&&
(c.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1',c.appendChild(Ma.createElement('div')).style.width='5px',a=3!==c.offsetWidth),g.removeChild(k),a):void 0}})();var Gb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Nb=new RegExp('^(?:([+-])=|)('+Gb+')([a-z%]*)$','i'),Ab=['Top','Right','Bottom','Left'],Vb=function(a,c){return a=c||a,'none'===b.css(a,'display')||!b.contains(a.ownerDocument,a)},
Ya=function(a,c,g,k,l,D,G){var Z=0,qa=a.length,Aa=null==g;if('object'===b.type(g))for(Z in l=!0,g)Ya(a,c,Z,g[Z],!0,D,G);else if(void 0!==k&&(l=!0,b.isFunction(k)||(G=!0),Aa&&(G?(c.call(a,k),c=null):(Aa=c,c=function(ta,Sa,Va){return Aa.call(b(ta),Va)})),c))for(;qa>Z;Z++)c(a[Z],g,G?k:k.call(a[Z],Z,c(a[Z],g)));return l?a:Aa?c.call(a):qa?c(a[0],g):D},fb=/^(?:checkbox|radio)$/i,ia=/<([\w:-]+)/,X=/^$|\/(?:java|ecma)script/i,ka=/^\s+/;!function(){var a=Ma.createElement('div'),c=Ma.createDocumentFragment(),
g=Ma.createElement('input');a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";e.leadingWhitespace=3===a.firstChild.nodeType;e.tbody=!a.getElementsByTagName('tbody').length;e.htmlSerialize=!!a.getElementsByTagName('link').length;e.html5Clone='<:nav></:nav>'!==Ma.createElement('nav').cloneNode(!0).outerHTML;g.type='checkbox';g.checked=!0;c.appendChild(g);e.appendChecked=g.checked;a.innerHTML='<textarea>x</textarea>';e.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue;
c.appendChild(a);g=Ma.createElement('input');g.setAttribute('type','radio');g.setAttribute('checked','checked');g.setAttribute('name','t');a.appendChild(g);e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;e.noCloneEvent=!!a.addEventListener;a[b.expando]=1;e.attributes=!a.getAttribute(b.expando)}();var ra={option:[1,"<select multiple='multiple'>",'</select>'],legend:[1,'<fieldset>','</fieldset>'],area:[1,'<map>','</map>'],param:[1,'<object>','</object>'],thead:[1,'<table>','</table>'],
tr:[2,'<table><tbody>','</tbody></table>'],col:[2,'<table><tbody></tbody><colgroup>','</colgroup></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:e.htmlSerialize?[0,'','']:[1,'X<div>','</div>']};ra.optgroup=ra.option;ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead;ra.th=ra.td;var Qa=/<|&#?\w+;/,Za=/<tbody/i;!function(){var a,c=Ma.createElement('div');for(a in{submit:!0,change:!0,focusin:!0}){var g='on'+a;(e[a]=g in E)||(c.setAttribute(g,'t'),e[a]=!1===c.attributes[g].expando)}}();
var db=/^(?:input|select|textarea)$/i,Pa=/^key/,xb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,jb=/^(?:focusinfocus|focusoutblur)$/,ob=/^([^.]*)(?:\.(.+)|)/;b.event={global:{},add:function(a,c,g,k,l){var D,G,Z,qa,Aa,ta,Sa,Va;if(G=b._data(a)){g.handler&&(Z=g,g=Z.handler,l=Z.selector);g.guid||(g.guid=b.guid++);(D=G.events)||(D=G.events={});(Aa=G.handle)||(Aa=G.handle=function(Ib){return'undefined'==typeof b||Ib&&b.event.triggered===Ib.type?void 0:b.event.dispatch.apply(Aa.elem,arguments)},Aa.elem=
a);c=(c||'').match(Ba)||[''];for(G=c.length;G--;){var zb=ob.exec(c[G])||[];var ab=Va=zb[1];zb=(zb[2]||'').split('.').sort();ab&&(qa=b.event.special[ab]||{},ab=(l?qa.delegateType:qa.bindType)||ab,qa=b.event.special[ab]||{},ta=b.extend({type:ab,origType:Va,data:k,handler:g,guid:g.guid,selector:l,needsContext:l&&b.expr.match.needsContext.test(l),namespace:zb.join('.')},Z),(Sa=D[ab])||(Sa=D[ab]=[],Sa.delegateCount=0,qa.setup&&!1!==qa.setup.call(a,k,zb,Aa)||(a.addEventListener?a.addEventListener(ab,Aa,
!1):a.attachEvent&&a.attachEvent('on'+ab,Aa))),qa.add&&(qa.add.call(a,ta),ta.handler.guid||(ta.handler.guid=g.guid)),l?Sa.splice(Sa.delegateCount++,0,ta):Sa.push(ta),b.event.global[ab]=!0)}a=null}},remove:function(a,c,g,k,l){var D,G,Z,qa,Aa,ta,Sa,Va,zb=b.hasData(a)&&b._data(a);if(zb&&(Aa=zb.events)){c=(c||'').match(Ba)||[''];for(qa=c.length;qa--;)if(G=ob.exec(c[qa])||[],ta=Va=G[1],Sa=(G[2]||'').split('.').sort(),ta){var ab=b.event.special[ta]||{};ta=(k?ab.delegateType:ab.bindType)||ta;var Ib=Aa[ta]||
[];G=G[2]&&new RegExp('(^|\\.)'+Sa.join('\\.(?:.*\\.|)')+'(\\.|$)');for(Z=D=Ib.length;D--;){var lc=Ib[D];!l&&Va!==lc.origType||g&&g.guid!==lc.guid||G&&!G.test(lc.namespace)||k&&k!==lc.selector&&('**'!==k||!lc.selector)||(Ib.splice(D,1),lc.selector&&Ib.delegateCount--,ab.remove&&ab.remove.call(a,lc))}Z&&!Ib.length&&(ab.teardown&&!1!==ab.teardown.call(a,Sa,zb.handle)||b.removeEvent(a,ta,zb.handle),delete Aa[ta])}else for(ta in Aa)b.event.remove(a,ta+c[qa],g,k,!0);b.isEmptyObject(Aa)&&(delete zb.handle,
b._removeData(a,'events'))}},trigger:function(a,c,g,k){var l,D,G,Z,qa=[g||Ma],Aa=M.call(a,'type')?a.type:a;var ta=M.call(a,'namespace')?a.namespace.split('.'):[];if(G=l=g=g||Ma,3!==g.nodeType&&8!==g.nodeType&&!jb.test(Aa+b.event.triggered)&&(-1<Aa.indexOf('.')&&(ta=Aa.split('.'),Aa=ta.shift(),ta.sort()),D=0>Aa.indexOf(':')&&'on'+Aa,a=a[b.expando]?a:new b.Event(Aa,'object'==typeof a&&a),a.isTrigger=k?2:3,a.namespace=ta.join('.'),a.rnamespace=a.namespace?new RegExp('(^|\\.)'+ta.join('\\.(?:.*\\.|)')+
'(\\.|$)'):null,a.result=void 0,a.target||(a.target=g),c=null==c?[a]:b.makeArray(c,[a]),Z=b.event.special[Aa]||{},k||!Z.trigger||!1!==Z.trigger.apply(g,c))){if(!k&&!Z.noBubble&&!b.isWindow(g)){var Sa=Z.delegateType||Aa;for(jb.test(Sa+Aa)||(G=G.parentNode);G;G=G.parentNode)qa.push(G),l=G;l===(g.ownerDocument||Ma)&&qa.push(l.defaultView||l.parentWindow||E)}for(ta=0;(G=qa[ta++])&&!a.isPropagationStopped();)a.type=1<ta?Sa:Z.bindType||Aa,(l=(b._data(G,'events')||{})[a.type]&&b._data(G,'handle'))&&l.apply(G,
c),(l=D&&G[D])&&l.apply&&Ua(G)&&(a.result=l.apply(G,c),!1===a.result&&a.preventDefault());if(a.type=Aa,!(k||a.isDefaultPrevented()||Z._default&&!1!==Z._default.apply(qa.pop(),c))&&Ua(g)&&D&&g[Aa]&&!b.isWindow(g)){(l=g[D])&&(g[D]=null);b.event.triggered=Aa;try{g[Aa]()}catch(Va){}b.event.triggered=void 0;l&&(g[D]=l)}return a.result}},dispatch:function(a){a=b.event.fix(a);var c,g,k,l,D=mb.call(arguments);var G=(b._data(this,'events')||{})[a.type]||[];var Z=b.event.special[a.type]||{};if(D[0]=a,a.delegateTarget=
this,!Z.preDispatch||!1!==Z.preDispatch.call(this,a)){var qa=b.event.handlers.call(this,a,G);for(G=0;(k=qa[G++])&&!a.isPropagationStopped();)for(a.currentTarget=k.elem,c=0;(l=k.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(l.namespace)||(a.handleObj=l,a.data=l.data,g=((b.event.special[l.origType]||{}).handle||l.handler).apply(k.elem,D),void 0!==g&&!1===(a.result=g)&&(a.preventDefault(),a.stopPropagation()));return Z.postDispatch&&Z.postDispatch.call(this,a),
a.result}},handlers:function(a,c){var g,k=[],l=c.delegateCount,D=a.target;if(l&&D.nodeType&&('click'!==a.type||isNaN(a.button)||1>a.button))for(;D!=this;D=D.parentNode||this)if(1===D.nodeType&&(!0!==D.disabled||'click'!==a.type)){var G=[];for(g=0;l>g;g++){var Z=c[g];var qa=Z.selector+' ';void 0===G[qa]&&(G[qa]=Z.needsContext?-1<b(qa,this).index(D):b.find(qa,this,null,[D]).length);G[qa]&&G.push(Z)}G.length&&k.push({elem:D,handlers:G})}return l<c.length&&k.push({elem:this,handlers:c.slice(l)}),k},fix:function(a){if(a[b.expando])return a;
var c=a.type;var g=a,k=this.fixHooks[c];k||(this.fixHooks[c]=k=xb.test(c)?this.mouseHooks:Pa.test(c)?this.keyHooks:{});var l=k.props?this.props.concat(k.props):this.props;a=new b.Event(g);for(c=l.length;c--;){var D=l[c];a[D]=g[D]}return a.target||(a.target=g.srcElement||Ma),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,k.filter?k.filter(a,g):a},props:'altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(' '),
fixHooks:{},keyHooks:{props:['char','charCode','key','keyCode'],filter:function(a,c){return null==a.which&&(a.which=null!=c.charCode?c.charCode:c.keyCode),a}},mouseHooks:{props:'button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement'.split(' '),filter:function(a,c){var g,k,l,D=c.button,G=c.fromElement;return null==a.pageX&&null!=c.clientX&&(k=a.target.ownerDocument||Ma,l=k.documentElement,g=k.body,a.pageX=c.clientX+(l&&l.scrollLeft||g&&g.scrollLeft||0)-(l&&
l.clientLeft||g&&g.clientLeft||0),a.pageY=c.clientY+(l&&l.scrollTop||g&&g.scrollTop||0)-(l&&l.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&G&&(a.relatedTarget=G===a.target?c.toElement:G),a.which||void 0===D||(a.which=1&D?1:2&D?3:4&D?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==y()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:'focusin'},blur:{trigger:function(){return this===y()&&this.blur?(this.blur(),!1):void 0},delegateType:'focusout'},click:{trigger:function(){return b.nodeName(this,
'input')&&'checkbox'===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return b.nodeName(a.target,'a')}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,c,g){a=b.extend(new b.Event,g,{type:a,isSimulated:!0});b.event.trigger(a,null,c);a.isDefaultPrevented()&&g.preventDefault()}};b.removeEvent=Ma.removeEventListener?function(a,c,g){a.removeEventListener&&a.removeEventListener(c,g)}:function(a,
c,g){c='on'+c;a.detachEvent&&('undefined'==typeof a[c]&&(a[c]=null),a.detachEvent(c,g))};b.Event=function(a,c){return this instanceof b.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?u:z):this.type=a,c&&b.extend(this,c),this.timeStamp=a&&a.timeStamp||b.now(),void(this[b.expando]=!0)):new b.Event(a,c)};b.Event.prototype={constructor:b.Event,isDefaultPrevented:z,isPropagationStopped:z,isImmediatePropagationStopped:z,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=u;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=u;a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=u;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};b.each({mouseenter:'mouseover',
mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},function(a,c){b.event.special[a]={delegateType:c,bindType:c,handle:function(g){var k,l=g.relatedTarget,D=g.handleObj;return l&&(l===this||b.contains(this,l))||(g.type=D.origType,k=D.handler.apply(this,arguments),g.type=c),k}}});e.submit||(b.event.special.submit={setup:function(){return b.nodeName(this,'form')?!1:void b.event.add(this,'click._submit keypress._submit',function(a){a=a.target;(a=b.nodeName(a,'input')||b.nodeName(a,
'button')?b.prop(a,'form'):void 0)&&!b._data(a,'submit')&&(b.event.add(a,'submit._submit',function(c){c._submitBubble=!0}),b._data(a,'submit',!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&b.event.simulate('submit',this.parentNode,a))},teardown:function(){return b.nodeName(this,'form')?!1:void b.event.remove(this,'._submit')}});e.change||(b.event.special.change={setup:function(){return db.test(this.nodeName)?('checkbox'!==this.type&&'radio'!==
this.type||(b.event.add(this,'propertychange._change',function(a){'checked'===a.originalEvent.propertyName&&(this._justChanged=!0)}),b.event.add(this,'click._change',function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1);b.event.simulate('change',this,a)})),!1):void b.event.add(this,'beforeactivate._change',function(a){a=a.target;db.test(a.nodeName)&&!b._data(a,'change')&&(b.event.add(a,'change._change',function(c){!this.parentNode||c.isSimulated||c.isTrigger||b.event.simulate('change',
this.parentNode,c)}),b._data(a,'change',!0))})},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||'radio'!==c.type&&'checkbox'!==c.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return b.event.remove(this,'._change'),!db.test(this.nodeName)}});e.focusin||b.each({focus:'focusin',blur:'focusout'},function(a,c){var g=function(k){b.event.simulate(c,k.target,b.event.fix(k))};b.event.special[c]={setup:function(){var k=this.ownerDocument||this,l=b._data(k,
c);l||k.addEventListener(a,g,!0);b._data(k,c,(l||0)+1)},teardown:function(){var k=this.ownerDocument||this,l=b._data(k,c)-1;l?b._data(k,c,l):(k.removeEventListener(a,g,!0),b._removeData(k,c))}}});b.fn.extend({on:function(a,c,g,k){return J(this,a,c,g,k)},one:function(a,c,g,k){return J(this,a,c,g,k,1)},off:function(a,c,g){var k,l;if(a&&a.preventDefault&&a.handleObj)return k=a.handleObj,b(a.delegateTarget).off(k.namespace?k.origType+'.'+k.namespace:k.origType,k.selector,k.handler),this;if('object'==
typeof a){for(l in a)this.off(l,c,a[l]);return this}return!1!==c&&'function'!=typeof c||(g=c,c=void 0),!1===g&&(g=z),this.each(function(){b.event.remove(this,a,g,c)})},trigger:function(a,c){return this.each(function(){b.event.trigger(a,c,this)})},triggerHandler:function(a,c){var g=this[0];return g?b.event.trigger(a,c,g,!0):void 0}});var pb=/ jQuery\d+="(?:null|\d+)"/g,sb=RegExp('<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video)[\\s/>]',
'i'),lb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Mb=/<script|<style|<link/i,Db=/checked\s*(?:[^=]|=\s*.checked.)/i,Hb=/^true\/(.*)/,Jb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,$b=ya(Ma).appendChild(Ma.createElement('div'));b.extend({htmlPrefilter:function(a){return a.replace(lb,'<$1></$2>')},clone:function(a,c,g){var k,l,D,G=b.contains(a.ownerDocument,a);if(e.html5Clone||b.isXMLDoc(a)||!sb.test('<'+a.nodeName+'>')?l=a.cloneNode(!0):($b.innerHTML=a.outerHTML,$b.removeChild(l=
$b.firstChild)),!(e.noCloneEvent&&e.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||b.isXMLDoc(a))){var Z=N(l);var qa=N(a);for(D=0;null!=(k=qa[D]);++D)if(Z[D]){var Aa=void 0,ta,Sa=k,Va=Z[D];if(1===Va.nodeType){if(ta=Va.nodeName.toLowerCase(),!e.noCloneEvent&&Va[b.expando]){k=b._data(Va);for(Aa in k.events)b.removeEvent(Va,Aa,k.handle);Va.removeAttribute(b.expando)}'script'===ta&&Va.text!==Sa.text?(v(Va).text=Sa.text,F(Va)):'object'===ta?(Va.parentNode&&(Va.outerHTML=Sa.outerHTML),e.html5Clone&&Sa.innerHTML&&
!b.trim(Va.innerHTML)&&(Va.innerHTML=Sa.innerHTML)):'input'===ta&&fb.test(Sa.type)?(Va.defaultChecked=Va.checked=Sa.checked,Va.value!==Sa.value&&(Va.value=Sa.value)):'option'===ta?Va.defaultSelected=Va.selected=Sa.defaultSelected:'input'!==ta&&'textarea'!==ta||(Va.defaultValue=Sa.defaultValue)}}}if(c)if(g)for(qa=qa||N(a),Z=Z||N(l),D=0;null!=(k=qa[D]);D++)H(k,Z[D]);else H(a,l);return Z=N(l,'script'),0<Z.length&&L(Z,!G&&N(a,'script')),l},cleanData:function(a,c){for(var g,k,l,D,G=0,Z=b.expando,qa=b.cache,
Aa=e.attributes,ta=b.event.special;null!=(g=a[G]);G++)if((c||Ua(g))&&(l=g[Z],D=l&&qa[l])){if(D.events)for(k in D.events)ta[k]?b.event.remove(g,k):b.removeEvent(g,k,D.handle);qa[l]&&(delete qa[l],Aa||'undefined'==typeof g.removeAttribute?g[Z]=void 0:g.removeAttribute(Z),ib.push(l))}}});b.fn.extend({domManip:R,detach:function(a){return sa(this,a,!0)},remove:function(a){return sa(this,a)},text:function(a){return Ya(this,function(c){return void 0===c?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||
Ma).createTextNode(c))},null,a,arguments.length)},append:function(){return R(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||q(this,a).appendChild(a)})},prepend:function(){return R(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=q(this,a);c.insertBefore(a,c.firstChild)}})},before:function(){return R(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return R(this,arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,c=0;null!=(a=this[c]);c++){for(1===a.nodeType&&b.cleanData(N(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&b.nodeName(a,'select')&&(a.options.length=0)}return this},clone:function(a,c){return a=null==a?!1:a,c=null==c?a:c,this.map(function(){return b.clone(this,a,c)})},html:function(a){return Ya(this,function(c){var g=this[0]||{},k=0,l=this.length;if(void 0===c)return 1===g.nodeType?
g.innerHTML.replace(pb,''):void 0;if(!('string'!=typeof c||Mb.test(c)||!e.htmlSerialize&&sb.test(c)||!e.leadingWhitespace&&ka.test(c)||ra[(ia.exec(c)||['',''])[1].toLowerCase()])){c=b.htmlPrefilter(c);try{for(;l>k;k++)g=this[k]||{},1===g.nodeType&&(b.cleanData(N(g,!1)),g.innerHTML=c);g=0}catch(D){}}g&&this.empty().append(c)},null,a,arguments.length)},replaceWith:function(){var a=[];return R(this,arguments,function(c){var g=this.parentNode;0>b.inArray(this,a)&&(b.cleanData(N(this)),g&&g.replaceChild(c,
this))},a)}});b.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},function(a,c){b.fn[a]=function(g){for(var k=0,l=[],D=b(g),G=D.length-1;G>=k;k++)g=k===G?this:this.clone(!0),b(D[k])[c](g),Yb.apply(l,g.get());return this.pushStack(l)}});var Wb,Gc={HTML:'block',BODY:'block'},qc=/^margin/,Lb=new RegExp('^('+Gb+')(?!px)[a-z%]+$','i'),Nc=function(a,c,g,k){var l,D={};for(l in c)D[l]=a.style[l],a.style[l]=c[l];g=g.apply(a,k||[]);for(l in c)a.style[l]=
D[l];return g},wc=Ma.documentElement;!function(){var a,c,g,k,l,D,G=Ma.createElement('div'),Z=Ma.createElement('div');if(Z.style){Z.style.cssText='float:left;opacity:.5';e.opacity='0.5'===Z.style.opacity;e.cssFloat=!!Z.style.cssFloat;Z.style.backgroundClip='content-box';Z.cloneNode(!0).style.backgroundClip='';e.clearCloneStyle='content-box'===Z.style.backgroundClip;G=Ma.createElement('div');G.style.cssText='border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute';
Z.innerHTML='';G.appendChild(Z);e.boxSizing=''===Z.style.boxSizing||''===Z.style.MozBoxSizing||''===Z.style.WebkitBoxSizing;b.extend(e,{reliableHiddenOffsets:function(){return null==a&&qa(),k},boxSizingReliable:function(){return null==a&&qa(),g},pixelMarginRight:function(){return null==a&&qa(),c},pixelPosition:function(){return null==a&&qa(),a},reliableMarginRight:function(){return null==a&&qa(),l},reliableMarginLeft:function(){return null==a&&qa(),D}});function qa(){var Aa,ta,Sa=Ma.documentElement;
Sa.appendChild(G);Z.style.cssText='-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%';a=g=D=!1;c=l=!0;E.getComputedStyle&&(ta=E.getComputedStyle(Z),a='1%'!==(ta||{}).top,D='2px'===(ta||{}).marginLeft,g='4px'===(ta||{width:'4px'}).width,Z.style.marginRight='50%',c='4px'===(ta||{marginRight:'4px'}).marginRight,Aa=Z.appendChild(Ma.createElement('div')),Aa.style.cssText=Z.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0',
Aa.style.marginRight=Aa.style.width='0',Z.style.width='1px',l=!parseFloat((E.getComputedStyle(Aa)||{}).marginRight),Z.removeChild(Aa));Z.style.display='none';(k=0===Z.getClientRects().length)&&(Z.style.display='',Z.innerHTML='<table><tr><td></td><td>t</td></tr></table>',Z.childNodes[0].style.borderCollapse='separate',Aa=Z.getElementsByTagName('td'),Aa[0].style.cssText='margin:0;border:0;padding:0;display:none',k=0===Aa[0].offsetHeight,k&&(Aa[0].style.display='',Aa[1].style.display='none',k=0===Aa[0].offsetHeight));
Sa.removeChild(G)}}}();var xc,sc,Sc=/^(top|right|bottom|left)$/;E.getComputedStyle?(xc=function(a){var c=a.ownerDocument.defaultView;return c&&c.opener||(c=E),c.getComputedStyle(a)},sc=function(a,c,g){var k,l,D,G,Z=a.style;return g=g||xc(a),G=g?g.getPropertyValue(c)||g[c]:void 0,''!==G&&void 0!==G||b.contains(a.ownerDocument,a)||(G=b.style(a,c)),g&&!e.pixelMarginRight()&&Lb.test(G)&&qc.test(c)&&(k=Z.width,l=Z.minWidth,D=Z.maxWidth,Z.minWidth=Z.maxWidth=Z.width=G,G=g.width,Z.width=k,Z.minWidth=l,Z.maxWidth=
D),void 0===G?G:G+''}):wc.currentStyle&&(xc=function(a){return a.currentStyle},sc=function(a,c,g){var k,l,D,G,Z=a.style;return g=g||xc(a),G=g?g[c]:void 0,null==G&&Z&&Z[c]&&(G=Z[c]),Lb.test(G)&&!Sc.test(c)&&(k=Z.left,l=a.runtimeStyle,D=l&&l.left,D&&(l.left=a.currentStyle.left),Z.left='fontSize'===c?'1em':G,G=Z.pixelLeft+'px',Z.left=k,D&&(l.left=D)),void 0===G?G:G+''||'auto'});var Oc=/alpha\([^)]*\)/i,Tc=/opacity\s*=\s*([^)]*)/i,Jd=/^(none|table(?!-c[ea]).+)/,wd=new RegExp('^('+Gb+')(.*)$','i'),Kd=
{position:'absolute',visibility:'hidden',display:'block'},od={letterSpacing:'0',fontWeight:'400'},kd=['Webkit','O','Moz','ms'],jd=Ma.createElement('div').style;b.extend({cssHooks:{opacity:{get:function(a,c){if(c)return a=sc(a,'opacity'),''===a?'1':a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{'float':e.cssFloat?'cssFloat':'styleFloat'},style:function(a,
c,g,k){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var l,D,G,Z=b.camelCase(c),qa=a.style;if(c=b.cssProps[Z]||(b.cssProps[Z]=Ja(Z)||Z),G=b.cssHooks[c]||b.cssHooks[Z],void 0===g)return G&&'get'in G&&void 0!==(l=G.get(a,!1,k))?l:qa[c];if(D=typeof g,'string'===D&&(l=Nb.exec(g))&&l[1]&&(g=da(a,c,l),D='number'),null!=g&&g===g&&('number'===D&&(g+=l&&l[3]||(b.cssNumber[Z]?'':'px')),e.clearCloneStyle||''!==g||0!==c.indexOf('background')||(qa[c]='inherit'),!(G&&'set'in G&&void 0===(g=G.set(a,g,k)))))try{qa[c]=
g}catch(Aa){}}},css:function(a,c,g,k){var l,D,G,Z=b.camelCase(c);return c=b.cssProps[Z]||(b.cssProps[Z]=Ja(Z)||Z),G=b.cssHooks[c]||b.cssHooks[Z],G&&'get'in G&&(D=G.get(a,!0,g)),void 0===D&&(D=sc(a,c,k)),'normal'===D&&c in od&&(D=od[c]),''===g||g?(l=parseFloat(D),!0===g||isFinite(l)?l||0:D):D}});b.each(['height','width'],function(a,c){b.cssHooks[c]={get:function(g,k,l){return k?Jd.test(b.css(g,'display'))&&0===g.offsetWidth?Nc(g,Kd,function(){return Ka(g,c,l)}):Ka(g,c,l):void 0},set:function(g,k,l){var D=
l&&xc(g);return pa(g,k,l?Ea(g,c,l,e.boxSizing&&'border-box'===b.css(g,'boxSizing',!1,D),D):0)}}});e.opacity||(b.cssHooks.opacity={get:function(a,c){return Tc.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||'')?.01*parseFloat(RegExp.$1)+'':c?'1':''},set:function(a,c){var g=a.style;a=a.currentStyle;var k=b.isNumeric(c)?'alpha(opacity='+100*c+')':'',l=a&&a.filter||g.filter||'';g.zoom=1;(1<=c||''===c)&&''===b.trim(l.replace(Oc,''))&&g.removeAttribute&&(g.removeAttribute('filter'),''===
c||a&&!a.filter)||(g.filter=Oc.test(l)?l.replace(Oc,k):l+' '+k)}});b.cssHooks.marginRight=ea(e.reliableMarginRight,function(a,c){return c?Nc(a,{display:'inline-block'},sc,[a,'marginRight']):void 0});b.cssHooks.marginLeft=ea(e.reliableMarginLeft,function(a,c){return c?(parseFloat(sc(a,'marginLeft'))||(b.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Nc(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+'px':void 0});b.each({margin:'',padding:'',border:'Width'},function(a,
c){b.cssHooks[a+c]={expand:function(g){var k=0,l={};for(g='string'==typeof g?g.split(' '):[g];4>k;k++)l[a+Ab[k]+c]=g[k]||g[k-2]||g[0];return l}};qc.test(a)||(b.cssHooks[a+c].set=pa)});b.fn.extend({css:function(a,c){return Ya(this,function(g,k,l){var D,G={},Z=0;if(b.isArray(k)){l=xc(g);for(D=k.length;D>Z;Z++)G[k[Z]]=b.css(g,k[Z],!1,l);return G}return void 0!==l?b.style(g,k,l):b.css(g,k)},a,c,1<arguments.length)},show:function(){return fa(this,!0)},hide:function(){return fa(this)},toggle:function(a){return'boolean'==
typeof a?a?this.show():this.hide():this.each(function(){Vb(this)?b(this).show():b(this).hide()})}});b.Tween=Oa;Oa.prototype={constructor:Oa,init:function(a,c,g,k,l,D){this.elem=a;this.prop=g;this.easing=l||b.easing._default;this.options=c;this.start=this.now=this.cur();this.end=k;this.unit=D||(b.cssNumber[g]?'':'px')},cur:function(){var a=Oa.propHooks[this.prop];return a&&a.get?a.get(this):Oa.propHooks._default.get(this)},run:function(a){var c,g=Oa.propHooks[this.prop];return this.options.duration?
this.pos=c=b.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=c=a,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):Oa.propHooks._default.set(this),this}};Oa.prototype.init.prototype=Oa.prototype;Oa.propHooks={_default:{get:function(a){var c;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(c=b.css(a.elem,a.prop,''),c&&'auto'!==c?c:0)},set:function(a){b.fx.step[a.prop]?
b.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[b.cssProps[a.prop]]&&!b.cssHooks[a.prop]?a.elem[a.prop]=a.now:b.style(a.elem,a.prop,a.now+a.unit)}}};Oa.propHooks.scrollTop=Oa.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};b.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:'swing'};b.fx=Oa.prototype.init;b.fx.step={};var Hc,bd,Ld=/^(?:toggle|show|hide)$/,Md=/queueHooks$/;b.Animation=b.extend(Na,
{tweeners:{'*':[function(a,c){var g=this.createTween(a,c);return da(g.elem,a,Nb.exec(c),g),g}]},tweener:function(a,c){b.isFunction(a)?(c=a,a=['*']):a=a.match(Ba);for(var g,k=0,l=a.length;l>k;k++)g=a[k],Na.tweeners[g]=Na.tweeners[g]||[],Na.tweeners[g].unshift(c)},prefilters:[function(a,c,g){var k,l,D,G,Z,qa,Aa,ta=this,Sa={},Va=a.style,zb=a.nodeType&&Vb(a),ab=b._data(a,'fxshow');g.queue||(G=b._queueHooks(a,'fx'),null==G.unqueued&&(G.unqueued=0,Z=G.empty.fire,G.empty.fire=function(){G.unqueued||Z()}),
G.unqueued++,ta.always(function(){ta.always(function(){G.unqueued--;b.queue(a,'fx').length||G.empty.fire()})}));1===a.nodeType&&('height'in c||'width'in c)&&(g.overflow=[Va.overflow,Va.overflowX,Va.overflowY],qa=b.css(a,'display'),Aa='none'===qa?b._data(a,'olddisplay')||ca(a.nodeName):qa,'inline'===Aa&&'none'===b.css(a,'float')&&(e.inlineBlockNeedsLayout&&'inline'!==ca(a.nodeName)?Va.zoom=1:Va.display='inline-block'));g.overflow&&(Va.overflow='hidden',e.shrinkWrapBlocks()||ta.always(function(){Va.overflow=
g.overflow[0];Va.overflowX=g.overflow[1];Va.overflowY=g.overflow[2]}));for(k in c)if(l=c[k],Ld.exec(l)){if(delete c[k],D=D||'toggle'===l,l===(zb?'hide':'show')){if('show'!==l||!ab||void 0===ab[k])continue;zb=!0}Sa[k]=ab&&ab[k]||b.style(a,k)}else qa=void 0;if(b.isEmptyObject(Sa))'inline'===('none'===qa?ca(a.nodeName):qa)&&(Va.display=qa);else for(k in ab?'hidden'in ab&&(zb=ab.hidden):ab=b._data(a,'fxshow',{}),D&&(ab.hidden=!zb),zb?b(a).show():ta.done(function(){b(a).hide()}),ta.done(function(){var Ib;
b._removeData(a,'fxshow');for(Ib in Sa)b.style(a,Ib,Sa[Ib])}),Sa)c=cb(zb?ab[k]:0,k,ta),k in ab||(ab[k]=c.start,zb&&(c.end=c.start,c.start='width'===k||'height'===k?1:0))}],prefilter:function(a,c){c?Na.prefilters.unshift(a):Na.prefilters.push(a)}});b.speed=function(a,c,g){var k=a&&'object'==typeof a?b.extend({},a):{complete:g||!g&&c||b.isFunction(a)&&a,duration:a,easing:g&&c||c&&!b.isFunction(c)&&c};return k.duration=b.fx.off?0:'number'==typeof k.duration?k.duration:k.duration in b.fx.speeds?b.fx.speeds[k.duration]:
b.fx.speeds._default,null!=k.queue&&!0!==k.queue||(k.queue='fx'),k.old=k.complete,k.complete=function(){b.isFunction(k.old)&&k.old.call(this);k.queue&&b.dequeue(this,k.queue)},k};b.fn.extend({fadeTo:function(a,c,g,k){return this.filter(Vb).css('opacity',0).show().end().animate({opacity:c},a,g,k)},animate:function(a,c,g,k){var l=b.isEmptyObject(a),D=b.speed(c,g,k);c=function(){var G=Na(this,b.extend({},a),D);(l||b._data(this,'finish'))&&G.stop(!0)};return c.finish=c,l||!1===D.queue?this.each(c):this.queue(D.queue,
c)},stop:function(a,c,g){var k=function(l){var D=l.stop;delete l.stop;D(g)};return'string'!=typeof a&&(g=c,c=a,a=void 0),c&&!1!==a&&this.queue(a||'fx',[]),this.each(function(){var l=!0,D=null!=a&&a+'queueHooks',G=b.timers,Z=b._data(this);if(D)Z[D]&&Z[D].stop&&k(Z[D]);else for(D in Z)Z[D]&&Z[D].stop&&Md.test(D)&&k(Z[D]);for(D=G.length;D--;)G[D].elem!==this||null!=a&&G[D].queue!==a||(G[D].anim.stop(g),l=!1,G.splice(D,1));!l&&g||b.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||'fx'),this.each(function(){var c=
b._data(this),g=c[a+'queue'];var k=c[a+'queueHooks'];var l=b.timers,D=g?g.length:0;c.finish=!0;b.queue(this,a,[]);k&&k.stop&&k.stop.call(this,!0);for(k=l.length;k--;)l[k].elem===this&&l[k].queue===a&&(l[k].anim.stop(!0),l.splice(k,1));for(k=0;D>k;k++)g[k]&&g[k].finish&&g[k].finish.call(this);delete c.finish})}});b.each(['toggle','show','hide'],function(a,c){var g=b.fn[c];b.fn[c]=function(k,l,D){return null==k||'boolean'==typeof k?g.apply(this,arguments):this.animate(Da(c,!0),k,l,D)}});b.each({slideDown:Da('show'),
slideUp:Da('hide'),slideToggle:Da('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},function(a,c){b.fn[a]=function(g,k,l){return this.animate(c,g,k,l)}});b.timers=[];b.fx.tick=function(){var a=b.timers,c=0;for(Hc=b.now();c<a.length;c++){var g=a[c];g()||a[c]!==g||a.splice(c--,1)}a.length||b.fx.stop();Hc=void 0};b.fx.timer=function(a){b.timers.push(a);a()?b.fx.start():b.timers.pop()};b.fx.interval=13;b.fx.start=function(){bd||=E.setInterval(b.fx.tick,b.fx.interval)};
b.fx.stop=function(){E.clearInterval(bd);bd=null};b.fx.speeds={slow:600,fast:200,_default:400};b.fn.delay=function(a,c){return a=b.fx?b.fx.speeds[a]||a:a,c=c||'fx',this.queue(c,function(g,k){var l=E.setTimeout(g,a);k.stop=function(){E.clearTimeout(l)}})};(function(){var a=Ma.createElement('input');Ma.createElement('div');var c=Ma.createElement('select'),g=c.appendChild(Ma.createElement('option'));var k=Ma.createElement('div');k.setAttribute('className','t');k.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
k.getElementsByTagName('a');a.setAttribute('type','checkbox');k.appendChild(a);var l=k.getElementsByTagName('a')[0];l.style.cssText='top:1px';e.getSetAttribute='t'!==k.className;e.style=/top/.test(l.getAttribute('style'));e.hrefNormalized='/a'===l.getAttribute('href');e.checkOn=!!a.value;e.optSelected=g.selected;e.enctype=!!Ma.createElement('form').enctype;c.disabled=!0;e.optDisabled=!g.disabled;a=Ma.createElement('input');a.setAttribute('value','');e.input=''===a.getAttribute('value');a.value='t';
a.setAttribute('type','radio');e.radioValue='t'===a.value})();var Nd=/\r/g,Od=/[\x20\t\r\n\f]+/g;b.fn.extend({val:function(a){var c,g,k,l=this[0];if(arguments.length)return k=b.isFunction(a),this.each(function(D){var G;1===this.nodeType&&(G=k?a.call(this,D,b(this).val()):a,null==G?G='':'number'==typeof G?G+='':b.isArray(G)&&(G=b.map(G,function(Z){return null==Z?'':Z+''})),c=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],c&&'set'in c&&void 0!==c.set(this,G,'value')||(this.value=G))});
if(l)return c=b.valHooks[l.type]||b.valHooks[l.nodeName.toLowerCase()],c&&'get'in c&&void 0!==(g=c.get(l,'value'))?g:(g=l.value,'string'==typeof g?g.replace(Nd,''):null==g?'':g)}});b.extend({valHooks:{option:{get:function(a){var c=b.find.attr(a,'value');return null!=c?c:b.trim(b.text(a)).replace(Od,' ')}},select:{get:function(a){for(var c,g=a.options,k=a.selectedIndex,l='select-one'===a.type||0>k,D=l?null:[],G=l?k+1:g.length,Z=0>k?G:l?k:0;G>Z;Z++)if(c=g[Z],!(!c.selected&&Z!==k||(e.optDisabled?c.disabled:
null!==c.getAttribute('disabled'))||c.parentNode.disabled&&b.nodeName(c.parentNode,'optgroup'))){if(a=b(c).val(),l)return a;D.push(a)}return D},set:function(a,c){var g,k,l=a.options;c=b.makeArray(c);for(var D=l.length;D--;)if(k=l[D],-1<b.inArray(b.valHooks.option.get(k),c))try{k.selected=g=!0}catch(G){k.scrollHeight}else k.selected=!1;return g||(a.selectedIndex=-1),l}}}});b.each(['radio','checkbox'],function(){b.valHooks[this]={set:function(a,c){return b.isArray(c)?a.checked=-1<b.inArray(b(a).val(),
c):void 0}};e.checkOn||(b.valHooks[this].get=function(a){return null===a.getAttribute('value')?'on':a.value})});var Kc,Bc=b.expr.attrHandle,cd=/^(?:checked|selected)$/i,Fc=e.getSetAttribute,Uc=e.input;b.fn.extend({attr:function(a,c){return Ya(this,b.attr,a,c,1<arguments.length)},removeAttr:function(a){return this.each(function(){b.removeAttr(this,a)})}});b.extend({attr:function(a,c,g){var k,l,D=a.nodeType;if(3!==D&&8!==D&&2!==D)return'undefined'==typeof a.getAttribute?b.prop(a,c,g):(1===D&&b.isXMLDoc(a)||
(c=c.toLowerCase(),l=b.attrHooks[c]||(b.expr.match.bool.test(c)?Pd:Kc)),void 0!==g?null===g?void b.removeAttr(a,c):l&&'set'in l&&void 0!==(k=l.set(a,g,c))?k:(a.setAttribute(c,g+''),g):l&&'get'in l&&null!==(k=l.get(a,c))?k:(k=b.find.attr(a,c),null==k?void 0:k))},attrHooks:{type:{set:function(a,c){if(!e.radioValue&&'radio'===c&&b.nodeName(a,'input')){var g=a.value;return a.setAttribute('type',c),g&&(a.value=g),c}}}},removeAttr:function(a,c){var g=0,k=c&&c.match(Ba);if(k&&1===a.nodeType)for(;c=k[g++];){var l=
b.propFix[c]||c;b.expr.match.bool.test(c)?Uc&&Fc||!cd.test(c)?a[l]=!1:a[b.camelCase('default-'+c)]=a[l]=!1:b.attr(a,c,'');a.removeAttribute(Fc?c:l)}}});var Pd={set:function(a,c,g){return!1===c?b.removeAttr(a,g):Uc&&Fc||!cd.test(g)?a.setAttribute(!Fc&&b.propFix[g]||g,g):a[b.camelCase('default-'+g)]=a[g]=!0,g}};b.each(b.expr.match.bool.source.match(/\w+/g),function(a,c){var g=Bc[c]||b.find.attr;Uc&&Fc||!cd.test(c)?Bc[c]=function(k,l,D){var G,Z;return D||(Z=Bc[l],Bc[l]=G,G=null!=g(k,l,D)?l.toLowerCase():
null,Bc[l]=Z),G}:Bc[c]=function(k,l,D){return D?void 0:k[b.camelCase('default-'+l)]?l.toLowerCase():null}});Uc&&Fc||(b.attrHooks.value={set:function(a,c,g){return b.nodeName(a,'input')?void(a.defaultValue=c):Kc&&Kc.set(a,c,g)}});Fc||(Kc={set:function(a,c,g){var k=a.getAttributeNode(g);return k||a.setAttributeNode(k=a.ownerDocument.createAttribute(g)),k.value=c+='','value'===g||c===a.getAttribute(g)?c:void 0}},Bc.id=Bc.name=Bc.coords=function(a,c,g){var k;return g?void 0:(k=a.getAttributeNode(c))&&
''!==k.value?k.value:null},b.valHooks.button={get:function(a,c){return(a=a.getAttributeNode(c))&&a.specified?a.value:void 0},set:Kc.set},b.attrHooks.contenteditable={set:function(a,c,g){Kc.set(a,''===c?!1:c,g)}},b.each(['width','height'],function(a,c){b.attrHooks[c]={set:function(g,k){return''===k?(g.setAttribute(c,'auto'),k):void 0}}}));e.style||(b.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,c){return a.style.cssText=c+''}});var Qd=/^(?:input|select|textarea|button|object)$/i,
Rd=/^(?:a|area)$/i;b.fn.extend({prop:function(a,c){return Ya(this,b.prop,a,c,1<arguments.length)},removeProp:function(a){return a=b.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(c){}})}});b.extend({prop:function(a,c,g){var k,l,D=a.nodeType;if(3!==D&&8!==D&&2!==D)return 1===D&&b.isXMLDoc(a)||(c=b.propFix[c]||c,l=b.propHooks[c]),void 0!==g?l&&'set'in l&&void 0!==(k=l.set(a,g,c))?k:a[c]=g:l&&'get'in l&&null!==(k=l.get(a,c))?k:a[c]},propHooks:{tabIndex:{get:function(a){var c=
b.find.attr(a,'tabindex');return c?parseInt(c,10):Qd.test(a.nodeName)||Rd.test(a.nodeName)&&a.href?0:-1}}},propFix:{'for':'htmlFor','class':'className'}});e.hrefNormalized||b.each(['href','src'],function(a,c){b.propHooks[c]={get:function(g){return g.getAttribute(c,4)}}});e.optSelected||(b.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});
b.each('tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable'.split(' '),function(){b.propFix[this.toLowerCase()]=this});e.enctype||(b.propFix.enctype='encoding');var dd=/[\t\r\n\f]/g;b.fn.extend({addClass:function(a){var c,g,k,l,D,G,Z=0;if(b.isFunction(a))return this.each(function(qa){b(this).addClass(a.call(this,qa,Xa(this)))});if('string'==typeof a&&a)for(c=a.match(Ba)||[];g=this[Z++];)if(l=Xa(g),k=1===g.nodeType&&(' '+l+' ').replace(dd,' ')){for(G=
0;D=c[G++];)0>k.indexOf(' '+D+' ')&&(k+=D+' ');k=b.trim(k);l!==k&&b.attr(g,'class',k)}return this},removeClass:function(a){var c,g,k,l,D,G,Z=0;if(b.isFunction(a))return this.each(function(qa){b(this).removeClass(a.call(this,qa,Xa(this)))});if(!arguments.length)return this.attr('class','');if('string'==typeof a&&a)for(c=a.match(Ba)||[];g=this[Z++];)if(l=Xa(g),k=1===g.nodeType&&(' '+l+' ').replace(dd,' ')){for(G=0;D=c[G++];)for(;-1<k.indexOf(' '+D+' ');)k=k.replace(' '+D+' ',' ');k=b.trim(k);l!==k&&
b.attr(g,'class',k)}return this},toggleClass:function(a,c){var g=typeof a;return'boolean'==typeof c&&'string'===g?c?this.addClass(a):this.removeClass(a):b.isFunction(a)?this.each(function(k){b(this).toggleClass(a.call(this,k,Xa(this),c),c)}):this.each(function(){var k,l;if('string'===g){var D=0;var G=b(this);for(l=a.match(Ba)||[];k=l[D++];)G.hasClass(k)?G.removeClass(k):G.addClass(k)}else void 0!==a&&'boolean'!==g||(k=Xa(this),k&&b._data(this,'__className__',k),b.attr(this,'class',k||!1===a?'':b._data(this,
'__className__')||''))})},hasClass:function(a){var c,g=0;for(a=' '+a+' ';c=this[g++];)if(1===c.nodeType&&-1<(' '+Xa(c)+' ').replace(dd,' ').indexOf(a))return!0;return!1}});b.each('blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(' '),function(a,c){b.fn[c]=function(g,k){return 0<arguments.length?this.on(c,null,g,k):this.trigger(c)}});b.fn.extend({hover:function(a,
c){return this.mouseenter(a).mouseleave(c||a)}});var Sd=E.location,ed=b.now(),fd=/\?/,Td=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;b.parseJSON=function(a){if(E.JSON&&E.JSON.parse)return E.JSON.parse(a+'');var c,g=null,k=b.trim(a+'');return k&&!b.trim(k.replace(Td,function(l,D,G,Z){return c&&D&&(g=0),0===g?l:(c=G||D,g+=!Z-!G,'')}))?Function('return '+k)():b.error('Invalid JSON: '+a)};b.parseXML=function(a){var c,
g;if(!a||'string'!=typeof a)return null;try{E.DOMParser?(g=new E.DOMParser,c=g.parseFromString(a,'text/xml')):(c=new E.ActiveXObject('Microsoft.XMLDOM'),c.async='false',c.loadXML(a))}catch(k){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName('parsererror').length||b.error('Invalid XML: '+a),c};var Ud=/#.*$/,pd=/([?&])_=[^&]*/,Vd=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Wd=/^(?:GET|HEAD)$/,Xd=/^\/\//,qd=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,rd={},Xc={},sd='*/'.concat('*'),
gd=Sd.href,Lc=qd.exec(gd.toLowerCase())||[];b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gd,type:'GET',isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Lc[1]),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{'*':sd,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',json:'application/json, text/javascript'},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:'responseXML',
text:'responseText',json:'responseJSON'},converters:{'* text':String,'text html':!0,'text json':b.parseJSON,'text xml':b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,c){return c?eb(eb(a,b.ajaxSettings),c):eb(b.ajaxSettings,a)},ajaxPrefilter:qb(rd),ajaxTransport:qb(Xc),ajax:function(a,c){function g(Cb,Qb,Tb,ub){var kc,hc,Xb,fc=Qb;if(2!==mc){mc=2;G&&E.clearTimeout(G);qa=void 0;D=ub||'';wb.readyState=0<Cb?4:0;ub=200<=Cb&&300>Cb||304===Cb;if(Tb){var Ub=ta;for(var oc=wb,Bb,bc,Zb,Sb,
Jc=Ub.contents,pc=Ub.dataTypes;'*'===pc[0];)pc.shift(),void 0===bc&&(bc=Ub.mimeType||oc.getResponseHeader('Content-Type'));if(bc)for(Sb in Jc)if(Jc[Sb]&&Jc[Sb].test(bc)){pc.unshift(Sb);break}if(pc[0]in Tb)Zb=pc[0];else{for(Sb in Tb){if(!pc[0]||Ub.converters[Sb+' '+pc[0]]){Zb=Sb;break}Bb||=Sb}Zb=Zb||Bb}Ub=Zb?(Zb!==pc[0]&&pc.unshift(Zb),Tb[Zb]):void 0}a:{Tb=ta;Bb=Ub;bc=wb;Zb=ub;var cc,uc,vc;Ub={};oc=Tb.dataTypes.slice();if(oc[1])for(cc in Tb.converters)Ub[cc.toLowerCase()]=Tb.converters[cc];for(Sb=
oc.shift();Sb;)if(Tb.responseFields[Sb]&&(bc[Tb.responseFields[Sb]]=Bb),!vc&&Zb&&Tb.dataFilter&&(Bb=Tb.dataFilter(Bb,Tb.dataType)),vc=Sb,Sb=oc.shift())if('*'===Sb)Sb=vc;else if('*'!==vc&&vc!==Sb){if(cc=Ub[vc+' '+Sb]||Ub['* '+Sb],!cc)for(nc in Ub)if(uc=nc.split(' '),uc[1]===Sb&&(cc=Ub[vc+' '+uc[0]]||Ub['* '+uc[0]])){!0===cc?cc=Ub[nc]:!0!==Ub[nc]&&(Sb=uc[0],oc.unshift(uc[1]));break}if(!0!==cc)if(cc&&Tb['throws'])Bb=cc(Bb);else try{Bb=cc(Bb)}catch($c){var nc={state:'parsererror',error:cc?$c:'No conversion from '+
vc+' to '+Sb};break a}}nc={state:'success',data:Bb}}Ub=nc;ub?(ta.ifModified&&(Xb=wb.getResponseHeader('Last-Modified'),Xb&&(b.lastModified[ic]=Xb),Xb=wb.getResponseHeader('etag'),Xb&&(b.etag[ic]=Xb)),204===Cb||'HEAD'===ta.type?fc='nocontent':304===Cb?fc='notmodified':(fc=Ub.state,kc=Ub.data,hc=Ub.error,ub=!hc)):(hc=fc,!Cb&&fc||(fc='error',0>Cb&&(Cb=0)));wb.status=Cb;wb.statusText=(Qb||fc)+'';ub?zb.resolveWith(Sa,[kc,fc,wb]):zb.rejectWith(Sa,[wb,fc,hc]);wb.statusCode(Ib);Ib=void 0;Z&&Va.trigger(ub?
'ajaxSuccess':'ajaxError',[wb,ta,ub?kc:hc]);ab.fireWith(Sa,[wb,fc]);Z&&(Va.trigger('ajaxComplete',[wb,ta]),--b.active||b.event.trigger('ajaxStop'))}}'object'==typeof a&&(c=a,a=void 0);c=c||{};var k,l,D,G,Z,qa,Aa,ta=b.ajaxSetup({},c),Sa=ta.context||ta,Va=ta.context&&(Sa.nodeType||Sa.jquery)?b(Sa):b.event,zb=b.Deferred(),ab=b.Callbacks('once memory'),Ib=ta.statusCode||{},lc={},Ic={},mc=0,yc='canceled',wb={readyState:0,getResponseHeader:function(Cb){var Qb;if(2===mc){if(!Aa)for(Aa={};Qb=Vd.exec(D);)Aa[Qb[1].toLowerCase()]=
Qb[2];Qb=Aa[Cb.toLowerCase()]}return null==Qb?null:Qb},getAllResponseHeaders:function(){return 2===mc?D:null},setRequestHeader:function(Cb,Qb){var Tb=Cb.toLowerCase();return mc||(Cb=Ic[Tb]=Ic[Tb]||Cb,lc[Cb]=Qb),this},overrideMimeType:function(Cb){return mc||(ta.mimeType=Cb),this},statusCode:function(Cb){var Qb;if(Cb)if(2>mc)for(Qb in Cb)Ib[Qb]=[Ib[Qb],Cb[Qb]];else wb.always(Cb[wb.status]);return this},abort:function(Cb){Cb=Cb||yc;return qa&&qa.abort(Cb),g(0,Cb),this}};if(zb.promise(wb).complete=ab.add,
wb.success=wb.done,wb.error=wb.fail,ta.url=((a||ta.url||gd)+'').replace(Ud,'').replace(Xd,Lc[1]+'//'),ta.type=c.method||c.type||ta.method||ta.type,ta.dataTypes=b.trim(ta.dataType||'*').toLowerCase().match(Ba)||[''],null==ta.crossDomain&&(k=qd.exec(ta.url.toLowerCase()),ta.crossDomain=!(!k||k[1]===Lc[1]&&k[2]===Lc[2]&&(k[3]||('http:'===k[1]?'80':'443'))===(Lc[3]||('http:'===Lc[1]?'80':'443')))),ta.data&&ta.processData&&'string'!=typeof ta.data&&(ta.data=b.param(ta.data,ta.traditional)),bb(rd,ta,c,
wb),2===mc)return wb;(Z=b.event&&ta.global)&&0===b.active++&&b.event.trigger('ajaxStart');ta.type=ta.type.toUpperCase();ta.hasContent=!Wd.test(ta.type);var ic=ta.url;ta.hasContent||(ta.data&&(ic=ta.url+=(fd.test(ic)?'&':'?')+ta.data,delete ta.data),!1===ta.cache&&(ta.url=pd.test(ic)?ic.replace(pd,'$1_='+ed++):ic+(fd.test(ic)?'&':'?')+'_='+ed++));ta.ifModified&&(b.lastModified[ic]&&wb.setRequestHeader('If-Modified-Since',b.lastModified[ic]),b.etag[ic]&&wb.setRequestHeader('If-None-Match',b.etag[ic]));
(ta.data&&ta.hasContent&&!1!==ta.contentType||c.contentType)&&wb.setRequestHeader('Content-Type',ta.contentType);wb.setRequestHeader('Accept',ta.dataTypes[0]&&ta.accepts[ta.dataTypes[0]]?ta.accepts[ta.dataTypes[0]]+('*'!==ta.dataTypes[0]?', '+sd+'; q=0.01':''):ta.accepts['*']);for(l in ta.headers)wb.setRequestHeader(l,ta.headers[l]);if(ta.beforeSend&&(!1===ta.beforeSend.call(Sa,wb,ta)||2===mc))return wb.abort();yc='abort';for(l in{success:1,error:1,complete:1})wb[l](ta[l]);if(qa=bb(Xc,ta,c,wb)){if(wb.readyState=
1,Z&&Va.trigger('ajaxSend',[wb,ta]),2===mc)return wb;ta.async&&0<ta.timeout&&(G=E.setTimeout(function(){wb.abort('timeout')},ta.timeout));try{mc=1,qa.send(lc,g)}catch(Cb){if(!(2>mc))throw Cb;g(-1,Cb)}}else g(-1,'No Transport');return wb},getJSON:function(a,c,g){return b.get(a,c,g,'json')},getScript:function(a,c){return b.get(a,void 0,c,'script')}});b.each(['get','post'],function(a,c){b[c]=function(g,k,l,D){return b.isFunction(k)&&(D=D||l,l=k,k=void 0),b.ajax(b.extend({url:g,type:c,dataType:D,data:k,
success:l},b.isPlainObject(g)&&g))}});b._evalUrl=function(a){return b.ajax({url:a,type:'GET',dataType:'script',cache:!0,async:!1,global:!1,'throws':!0})};b.fn.extend({wrapAll:function(a){if(b.isFunction(a))return this.each(function(g){b(this).wrapAll(a.call(this,g))});if(this[0]){var c=b(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var g=this;g.firstChild&&1===g.firstChild.nodeType;)g=g.firstChild;return g}).append(this)}return this},wrapInner:function(a){return b.isFunction(a)?
this.each(function(c){b(this).wrapInner(a.call(this,c))}):this.each(function(){var c=b(this),g=c.contents();g.length?g.wrapAll(a):c.append(a)})},wrap:function(a){var c=b.isFunction(a);return this.each(function(g){b(this).wrapAll(c?a.call(this,g):a)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,'body')||b(this).replaceWith(this.childNodes)}).end()}});b.expr.filters.hidden=function(a){return e.reliableHiddenOffsets()?0>=a.offsetWidth&&0>=a.offsetHeight&&!a.getClientRects().length:
gc(a)};b.expr.filters.visible=function(a){return!b.expr.filters.hidden(a)};var Yd=/%20/g,xd=/\[\]$/,td=/\r?\n/g,Zd=/^(?:submit|button|image|reset|file)$/i,$d=/^(?:input|select|textarea|keygen)/i;b.param=function(a,c){var g,k=[],l=function(D,G){G=b.isFunction(G)?G():null==G?'':G;k[k.length]=encodeURIComponent(D)+'='+encodeURIComponent(G)};if(void 0===c&&(c=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(a)||a.jquery&&!b.isPlainObject(a))b.each(a,function(){l(this.name,this.value)});else for(g in a)yb(g,
a[g],c,l);return k.join('&').replace(Yd,'+')};b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=b.prop(this,'elements');return a?b.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!b(this).is(':disabled')&&$d.test(this.nodeName)&&!Zd.test(a)&&(this.checked||!fb.test(a))}).map(function(a,c){a=b(this).val();return null==a?null:b.isArray(a)?b.map(a,function(g){return{name:c.name,value:g.replace(td,
'\r\n')}}):{name:c.name,value:a.replace(td,'\r\n')}}).get()}});b.ajaxSettings.xhr=void 0!==E.ActiveXObject?function(){return this.isLocal?Fb():8<Ma.documentMode?hb():/^(get|post|head|put|delete|options)$/i.test(this.type)&&hb()||Fb()}:hb;var ae=0,Vc={},Wc=b.ajaxSettings.xhr();E.attachEvent&&E.attachEvent('onunload',function(){for(var a in Vc)Vc[a](void 0,!0)});e.cors=!!Wc&&'withCredentials'in Wc;(Wc=e.ajax=!!Wc)&&b.ajaxTransport(function(a){if(!a.crossDomain||e.cors){var c;return{send:function(g,
k){var l,D=a.xhr(),G=++ae;if(D.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(l in a.xhrFields)D[l]=a.xhrFields[l];a.mimeType&&D.overrideMimeType&&D.overrideMimeType(a.mimeType);a.crossDomain||g['X-Requested-With']||(g['X-Requested-With']='XMLHttpRequest');for(l in g)void 0!==g[l]&&D.setRequestHeader(l,g[l]+'');D.send(a.hasContent&&a.data||null);c=function(Z,qa){if(c&&(qa||4===D.readyState))if(delete Vc[G],c=void 0,D.onreadystatechange=b.noop,qa)4!==D.readyState&&D.abort();else{var Aa=
{};var ta=D.status;'string'==typeof D.responseText&&(Aa.text=D.responseText);try{var Sa=D.statusText}catch(Va){Sa=''}ta||!a.isLocal||a.crossDomain?1223===ta&&(ta=204):ta=Aa.text?200:404}Aa&&k(ta,Sa,Aa,D.getAllResponseHeaders())};a.async?4===D.readyState?E.setTimeout(c):D.onreadystatechange=Vc[G]=c:c()},abort:function(){c&&c(void 0,!0)}}}});b.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/\b(?:java|ecma)script\b/},
converters:{'text script':function(a){return b.globalEval(a),a}}});b.ajaxPrefilter('script',function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type='GET',a.global=!1)});b.ajaxTransport('script',function(a){if(a.crossDomain){var c,g=Ma.head||b('head')[0]||Ma.documentElement;return{send:function(k,l){c=Ma.createElement('script');c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(D,G){(G||!c.readyState||/loaded|complete/.test(c.readyState))&&
(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,G||l(200,'success'))};g.insertBefore(c,g.firstChild)},abort:function(){c&&c.onload(void 0,!0)}}}});var ud=[],hd=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:'callback',jsonpCallback:function(){var a=ud.pop()||b.expando+'_'+ed++;return this[a]=!0,a}});b.ajaxPrefilter('json jsonp',function(a,c,g){var k,l,D,G=!1!==a.jsonp&&(hd.test(a.url)?'url':'string'==typeof a.data&&0===(a.contentType||'').indexOf('application/x-www-form-urlencoded')&&
hd.test(a.data)&&'data');return G||'jsonp'===a.dataTypes[0]?(k=a.jsonpCallback=b.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,G?a[G]=a[G].replace(hd,'$1'+k):!1!==a.jsonp&&(a.url+=(fd.test(a.url)?'&':'?')+a.jsonp+'='+k),a.converters['script json']=function(){return D||b.error(k+' was not called'),D[0]},a.dataTypes[0]='json',l=E[k],E[k]=function(){D=arguments},g.always(function(){void 0===l?b(E).removeProp(k):E[k]=l;a[k]&&(a.jsonpCallback=c.jsonpCallback,ud.push(k));D&&b.isFunction(l)&&
l(D[0]);D=l=void 0}),'script'):void 0});b.parseHTML=function(a,c,g){if(!a||'string'!=typeof a)return null;'boolean'==typeof c&&(g=c,c=!1);c=c||Ma;var k=Q.exec(a);g=!g&&[];return k?[c.createElement(k[1])]:(k=B([a],c,g),g&&g.length&&b(g).remove(),b.merge([],k.childNodes))};var vd=b.fn.load;b.fn.load=function(a,c,g){if('string'!=typeof a&&vd)return vd.apply(this,arguments);var k,l,D,G=this,Z=a.indexOf(' ');return-1<Z&&(k=b.trim(a.slice(Z,a.length)),a=a.slice(0,Z)),b.isFunction(c)?(g=c,c=void 0):c&&'object'==
typeof c&&(l='POST'),0<G.length&&b.ajax({url:a,type:l||'GET',dataType:'html',data:c}).done(function(qa){D=arguments;G.html(k?b('<div>').append(b.parseHTML(qa)).find(k):qa)}).always(g&&function(qa,Aa){G.each(function(){g.apply(this,D||[qa.responseText,Aa,qa])})}),this};b.each('ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend'.split(' '),function(a,c){b.fn[c]=function(g){return this.on(c,g)}});b.expr.filters.animated=function(a){return b.grep(b.timers,function(c){return a===c.elem}).length};
b.offset={setOffset:function(a,c,g){var k,l,D,G=b.css(a,'position'),Z=b(a),qa={};'static'===G&&(a.style.position='relative');var Aa=Z.offset();var ta=b.css(a,'top');var Sa=b.css(a,'left');('absolute'===G||'fixed'===G)&&-1<b.inArray('auto',[ta,Sa])?(k=Z.position(),D=k.top,l=k.left):(D=parseFloat(ta)||0,l=parseFloat(Sa)||0);b.isFunction(c)&&(c=c.call(a,g,b.extend({},Aa)));null!=c.top&&(qa.top=c.top-Aa.top+D);null!=c.left&&(qa.left=c.left-Aa.left+l);'using'in c?c.using.call(a,qa):Z.css(qa)}};b.fn.extend({offset:function(a){if(arguments.length)return void 0===
a?this:this.each(function(G){b.offset.setOffset(this,a,G)});var c,g,k={top:0,left:0},l=this[0],D=l&&l.ownerDocument;if(D)return c=D.documentElement,b.contains(c,l)?('undefined'!=typeof l.getBoundingClientRect&&(k=l.getBoundingClientRect()),g=Ob(D),{top:k.top+(g.pageYOffset||c.scrollTop)-(c.clientTop||0),left:k.left+(g.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):k},position:function(){if(this[0]){var a,c,g={top:0,left:0},k=this[0];return'fixed'===b.css(k,'position')?c=k.getBoundingClientRect():
(a=this.offsetParent(),c=this.offset(),b.nodeName(a[0],'html')||(g=a.offset()),g.top+=b.css(a[0],'borderTopWidth',!0),g.left+=b.css(a[0],'borderLeftWidth',!0)),{top:c.top-g.top-b.css(k,'marginTop',!0),left:c.left-g.left-b.css(k,'marginLeft',!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&!b.nodeName(a,'html')&&'static'===b.css(a,'position');)a=a.offsetParent;return a||wc})}});b.each({scrollLeft:'pageXOffset',scrollTop:'pageYOffset'},function(a,c){var g=/Y/.test(c);
b.fn[a]=function(k){return Ya(this,function(l,D,G){var Z=Ob(l);return void 0===G?Z?c in Z?Z[c]:Z.document.documentElement[D]:l[D]:void(Z?Z.scrollTo(g?b(Z).scrollLeft():G,g?G:b(Z).scrollTop()):l[D]=G)},a,k,arguments.length,null)}});b.each(['top','left'],function(a,c){b.cssHooks[c]=ea(e.pixelPosition,function(g,k){return k?(k=sc(g,c),Lb.test(k)?b(g).position()[c]+'px':k):void 0})});b.each({Height:'height',Width:'width'},function(a,c){b.each({padding:'inner'+a,content:c,'':'outer'+a},function(g,k){b.fn[k]=
function(l,D){var G=arguments.length&&(g||'boolean'!=typeof l),Z=g||(!0===l||!0===D?'margin':'border');return Ya(this,function(qa,Aa,ta){var Sa;return b.isWindow(qa)?qa.document.documentElement['client'+a]:9===qa.nodeType?(Sa=qa.documentElement,Math.max(qa.body['scroll'+a],Sa['scroll'+a],qa.body['offset'+a],Sa['offset'+a],Sa['client'+a])):void 0===ta?b.css(qa,Aa,Z):b.style(qa,Aa,ta,Z)},c,G?l:void 0,G,null)}})});b.fn.extend({bind:function(a,c,g){return this.on(a,null,c,g)},unbind:function(a,c){return this.off(a,
null,c)},delegate:function(a,c,g,k){return this.on(c,a,g,k)},undelegate:function(a,c,g){return 1===arguments.length?this.off(a,'**'):this.off(c,a||'**',g)}});b.fn.size=function(){return this.length};b.fn.andSelf=b.fn.addBack;'function'==typeof define&&define.amd&&define('jquery',[],function(){return b});var be=E.jQuery,ce=E.$;return b.noConflict=function(a){return E.$===b&&(E.$=ce),a&&E.jQuery===b&&(E.jQuery=be),b},O||(E.jQuery=E.$=b),b});if('undefined'!==typeof module&&module.exports)var lib=require('../../index');
function Collection(E,O){var ha='undefined'!==typeof module&&module.exports?!1:!0,Ca=ha?require('vendor/uuid'):require('uuid'),K=ha?require('utils/merge'):require('../../../lib/merge'),U={isCaseSensitive:{false:{re:'^%s$',modifiers:'i'},true:{re:'^%s$'}}},oa=!1,Y=!1,V=null;ha={useLocalStorage:!1,locale:'en',searchOptionRules:U};O='object'==typeof O?K(O,ha):ha;var m=['not null'],S=function(C){try{return eval(C)}catch(B){throw Error('Could not evaluate condition `'+C+'`.\n'+B.stack);}};if('undefined'==
typeof E||''==E||null==E)E=[];if(!Array.isArray(E))throw Error('`new Collection([content] [, options] )`: `content` argument must be an Array !');E=E?JSON.clone(E):[];for(var p=[],da=ha=0,ya=E.length;da<ya;++da)E[da]||(E[da]={}),E[da]._uuid=Ca.v4(),p[ha]=E[da]._uuid,++ha;var N=E;N.setSearchOption=function(){if(!arguments.length)throw Error('searchOption cannot be left blank');if(3<arguments.length||3>arguments.length&&1<arguments.length)throw Error('argument length mismatch');var C=0,B=arguments.length;
if(1==arguments.length){if('object'!=typeof arguments[0])throw Error('searchOption must be an object');for(var u in arguments[0])if('undefined'==typeof U[u])throw Error(arguments[1]+' is not an allowed searchOption !');V=arguments[0]}else for(V||={};C<B;++C){if('undefined'==typeof U[arguments[1]])throw Error(arguments[1]+' is not an allowed searchOption !');'undefined'==typeof V[arguments[0]]&&(V[arguments[0]]={});/true|false/i.test(arguments[2])?V[arguments[0]][arguments[1]]=/true/i.test(arguments[2])?
!0:!1:V[arguments[0]][arguments[1]]=arguments[2]}return N};N.find=function(){oa=!1;'boolean'==typeof arguments[arguments.length-1]&&(oa=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);var C=null,B=null,u=null;try{C=JSON.stringify(arguments),B=JSON.parse(C),u=B.count()}catch(pa){throw Error('filter must be an object\n'+pa.stack);}if('undefined'!=typeof B&&0<u){1<u&&(oa=!0);u=C=null;var z=0,y=Array.isArray(this)?this:JSON.clone(E),J=[],q='',v=null,F=V,H=O.searchOptionRules,
R=null,sa=[],T=function(pa,Ea,Ka,Oa,Ia){if(null===pa&&null===Ka)++Oa;else if(pa&&-1<m.indexOf(q)&&'not null'==q&&'undefined'!=typeof Ka&&'object'!==typeof Ka&&'null'!=Ka&&'undefined'!=Ka)0>J.indexOf(Ka)&&++Oa;else if('undefined'!=typeof Ka&&'object'!==typeof Ka&&/(<|>|=)/.test(pa)&&!/undefined|function/.test(typeof Ka))Ea=pa,Ia=Ka+pa,'string'==typeof pa&&'string'==typeof Ka&&(Ia=pa.replace(/^(<=|>=|!==|!=|===|!==)/g,''),'string'!=typeof Ka||/^"(.*)"$/.test(Ia)||(pa=pa.replace(Ia,'"'+Ia+'"')),Ia='"'+
Ka+'"'+pa,pa=Ea),/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Ka)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(pa)?S(Ka.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+pa.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Oa:S(Ia)&&++Oa;else if('undefined'!=typeof Ka&&'object'!==typeof Ka&&Ka===pa&&!F||'undefined'!=typeof Ka&&'object'!==typeof Ka&&Ka===pa&&'undefined'==typeof F[Ea])++Oa;else if('undefined'!=
typeof Ka&&'object'!==typeof Ka&&F&&'undefined'!=typeof F[Ea]){var Da=0;var cb=F[Ea].count();for(var Fa in F[Ea])Ia[Fa][F[Ea][Fa]].re=Ia[Fa][F[Ea][Fa]].re.replace(/%s/,pa),v=Ia[Fa][F[Ea][Fa]].modifiers?new RegExp(Ia[Fa][F[Ea][Fa]].re,Ia[Fa][F[Ea][Fa]].modifiers):new RegExp(Ia[Fa][F[Ea][Fa]].re),v.test(Ka)&&++Da;Da==cb&&++Oa}return{matched:Oa}},ca=function(pa,Ea,Ka,Oa){var Ia=Ea.split(/\./g);Ia=Ia[Ia.length-1];v=new RegExp('("'+Ia+'":\\w+)');Ia=null;try{Ka&&(Ia=eval('_content.'+Ea))}catch(Da){}Ia&&
(Array.isArray(Ia)?Ia=Ia[1].split(/:/)[1]:'string'==typeof Ia&&/:/.test(Ia)&&(Ia=Ia.split(/:/)[1]),/(<|>|=)/.test(pa)?/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Ia)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(pa)?S(Ia.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+pa.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Oa:S(Ia+pa)&&++Oa:Ia==pa&&++Oa);return{matched:Oa}},ea=function(pa,Ea,
Ka,Oa,Ia){Ea=Ea.split(/\[\*\]/g);Ia=Ea[0].replace(/\[\*\]/,'');Ka=Ka[Ia];Ea=Ea[1];/^\./.test(Ea)&&(Ea=Ea.substr(1));Ia=0;if(Ka)for(var Da=0,cb=Ka.length;Da<cb&&!(sa=/\./.test(Ea)?ca(pa,Ea,Ka[Da],Ia):T(pa,Ea,Ka[Da],Ia,H),Ia=sa.matched,0<Ia);++Da);return{matched:Oa+Ia}},Ja;for(Ja in y)if(y[Ja]||(y[Ja]={}),!/undefined|function/.test(typeof y[Ja]))for(let pa=0,Ea=B.count();pa<Ea;++pa){C=B[pa];u=C.count();R=0;for(var fa in C){if('undefined'==typeof C[fa])throw Error('filter `'+fa+'` cannot be left undefined');
q=null===C[fa]||/(boolean|number)/.test(typeof C[fa])?C[fa]:C[fa].toLocaleLowerCase();sa=/\./.test(fa)?/\[\*\]/.test(fa)?ea(C[fa],fa,y[Ja],R,0):ca(C[fa],fa,y[Ja],R):T(C[fa],fa,y[Ja][fa],R,H);R=sa.matched}if(R==u)if(oa&&Y&&0>p.indexOf(y[Ja]._uuid)||Y||!oa){if(!oa||oa&&0>J.indexOf(y[Ja]._uuid)||Y)J[z]=y[Ja],++z}else oa&&!Y&&0>J.indexOf(y[Ja]._uuid)&&(J[z]=y[Ja],++z)}}else J=E;V=null;J.insert=N.insert;J.notIn=N.notIn;J.find=this.find;J.update=N.update;J.replace=N.replace;J.or=N.or;J.findOne=N.findOne;
J.limit=N.limit;J.orderBy=N.orderBy;J.delete=N.delete;J.toRaw=N.toRaw;J.filter=N.filter;return J};N.findOne=function(){var C=null;'string'==typeof arguments[arguments.length-1]&&(delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(C=arguments);if('undefined'==typeof C||!C||'object'!=typeof C)throw Error('[ Collection ][ findOne ] `filters` argument must be defined: Array or Filter Object(s) expected');C=null;var B=Array.isArray(arguments[0])?arguments[0]:N.find.apply(this,
arguments)||[];0<B.length&&(C=B.limit(1).toRaw()[0]);return C};N.or=function(){arguments[arguments.length]=!0;++arguments.length;return N.find.apply(this,arguments)};N.limit=function(C){if('undefined'==typeof C||'number'!=typeof C)throw Error('[Collection::result->limit(resultLimit)] : `resultLimit` parametter must by a `number`');var B=Array.isArray(this)?this:JSON.clone(E);B=B.splice(0,C);B.insert=N.insert;B.update=N.update;B.replace=N.replace;B.notIn=N.notIn;B.findOne=N.findOne;B.orderBy=N.orderBy;
B.max=N.max;B.delete=N.delete;B.toRaw=N.toRaw;B.filter=N.filter;return B};N.notIn=function(){var C=null,B=null,u=!0;'string'==typeof arguments[arguments.length-1]&&(C=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'boolean'==typeof arguments[arguments.length-1]&&(u=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(B=arguments);if('undefined'==typeof B||!B||'object'!=typeof B)throw Error('[ Collection ][ notIn ] `filters` argument must be defined: Array or Filter Object(s) expected');
var z=JSON.clone(Array.isArray(this)?this:E);if(Array.isArray(arguments[0]))var y=arguments[0];else Y=!0,y=N.find.apply(this,arguments)||[],Y=!1;if(0<y.length){if(u&&C&&'undefined'==typeof y[0]&&'undefined'==typeof y[0][C])throw Error('[ Collection ][ notIn ] `key` not valid');u&&!C&&'undefined'!=typeof y[0]._uuid?C='_uuid':'undefined'!=typeof y[0].id&&(C='id');if(!C||'undefined'==typeof y[0][C])throw Error('No comparison key defined !');var J=0,q=y.length,v=0,F,H=B.count(),R;if(u&&'undefined'!=typeof z[v]&&
z[v].hasOwnProperty(C))for(;J<q&&z.length;++J)for(v=0,u=z.length;v<u;++v){if('undefined'!=typeof z[v]&&'undefined'!=typeof y[J]&&z[v][C]===y[J][C]){z.splice(v,1);break}}else if('undefined'==typeof z[v])z=JSON.clone(y);else for(;J<q&&z.length;++J)for(v=0,u=z.length;v<u;++v)if('undefined'!=typeof z[v]){for(F=R=0;F<H;++F){if('undefined'==typeof B[F])throw Error('filter `'+F+'` cannot be left undefined');var sa=B[F].count();var T=0;for(C in B[F])z[v].hasOwnProperty(C)&&z[v][C]===y[J][C]&&++T;T==sa&&++R}if(R){z.splice(v,
1);break}}}C=z;C.notIn=N.notIn;C.limit=N.limit;C.find=N.find;C.findOne=N.findOne;C.insert=N.insert;C.replace=N.replace;C.update=N.update;C.orderBy=N.orderBy;C.max=N.max;C.delete=N.delete;C.toRaw=N.toRaw;C.filter=N.filter;return C};N.insert=function(C){if('object'!==typeof C)throw Error('filter must be an object');var B=Array.isArray(this)?this:E;C._uuid=Ca.v4();B.push(C);B.limit=N.limit;B.find=N.find;B.findOne=N.findOne;B.update=N.update;B.replace=N.replace;B.orderBy=N.orderBy;B.max=N.max;B.notIn=
N.notIn;B.delete=N.delete;B.toRaw=N.toRaw;B.filter=N.filter;return B};N.update=function(){var C='_uuid',B,u=B=null;'string'==typeof arguments[arguments.length-1]&&(C=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(u=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(B=arguments);if('undefined'==typeof B||!B||'object'!=typeof B)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');
if('undefined'==typeof u||!u||'object'!=typeof u)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var z=Array.isArray(arguments[0])?arguments[0]:N.find.apply(this,arguments)||[];B=Array.isArray(this)?this:JSON.clone(E);if(0<z.length){z=z.toRaw();for(var y=0,J=z.length;y<J;++y){z[y]=K(JSON.clone(u),z[y]);for(var q=0,v=B.length;q<v;++q)if('undefined'==typeof B[q][C]&&'_uuid'==C&&'undefined'!=typeof B[q].id&&(C='id'),B[q][C]==z[y][C]){B[q]=z[y];break}}}B.limit=
N.limit;B.find=N.find;B.findOne=N.findOne;B.insert=N.insert;B.update=N.update;B.replace=N.replace;B.orderBy=N.orderBy;B.max=N.max;B.notIn=N.notIn;B.delete=N.delete;B.toRaw=N.toRaw;B.filter=N.filter;return B};N.replace=function(){var C='_uuid',B,u=B=null;'string'==typeof arguments[arguments.length-1]&&(C=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(u=arguments[arguments.length-1],delete arguments[arguments.length-
1],--arguments.length);0<arguments.length&&(B=arguments);if('undefined'==typeof B||!B||'object'!=typeof B)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');if('undefined'==typeof u||!u||'object'!=typeof u)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var z=Array.isArray(arguments[0])?arguments[0]:N.find.apply(this,arguments)||[];B=Array.isArray(this)?this:JSON.clone(E);if(0<z.length){z=z.toRaw();
for(var y=0,J=z.length;y<J;++y){z[y]=JSON.clone(u);for(var q=0,v=B.length;q<v;++q){if('undefined'==typeof B[q][C]&&'_uuid'==C&&'undefined'!=typeof B[q].id)C='id';else if('undefined'==typeof B[q][C]&&'_uuid'==C)throw Error('No comparison key defined !');if(B[q][C]==z[y][C]){B[q]=z[y];break}}}}B.limit=N.limit;B.find=N.find;B.findOne=N.findOne;B.insert=N.insert;B.update=N.update;B.replace=N.replace;B.orderBy=N.orderBy;B.max=N.max;B.notIn=N.notIn;B.delete=N.delete;B.toRaw=N.toRaw;B.filter=N.filter;return B};
N['delete']=function(){var C=N.notIn.apply(this,arguments);C.limit=N.limit;C.find=N.find;C.findOne=N.findOne;C.insert=N.insert;C.update=N.update;C.replace=N.replace;C.orderBy=N.orderBy;C.max=N.max;C.notIn=N.notIn;C.toRaw=N.toRaw;C.filter=N.filter;C.delete=this.delete;return C};N.orderBy=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->orderBy(filter) ] where `filter` must not be empty or null');if(1==arguments.length)var C=arguments[0];else{C=Array(arguments.length);
for(var B=0,u=C.length;B<u;++B)C[B]=arguments[B]}B=Array.isArray(this)?this:JSON.clone(E);return L(C,B.toRaw())};N.max=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->max(filter) ] where `filter` must not be empty or null');if(1<arguments.length||Array.isArray(arguments[0])||'object'==typeof arguments[0]&&1<arguments[0].count())throw Error('[ Collection->max(filter) ] only accept one filter length, and fileter count must be equal to 1');var C=arguments[0];
try{var B=Object.keys(C)[0],u={};u[B]='desc';return N.find(C).orderBy(u).limit(1)[0][B]}catch(z){throw z;}};var L=function(C,B){if('object'!=typeof C)throw Error('`filter` parametter must be an object or an array');var u={},z=null,y=null,J=z=null;z=[];if(0==C.count())return null;u.asc=function(q,v){var F=v.map(function(H,R){var sa={};sa.index=R;sa[q]=H[q];return sa});F.sort(function(H,R){var sa=function(T,ca){/^(true|false)$/i.test(T)&&(T=/true/i.test(T)?1:0);/^(true|false)$/i.test(ca)&&(ca=/true/i.test(ca)?
1:0);return'string'==typeof T&&''!=T||'string'==typeof ca?('number'==typeof T&&(T=''+T),'number'==typeof ca&&(ca=''+ca),T.localeCompare(ca,void 0,{sensitivity:'case',caseFirst:'upper'})):T>ca?1:T<ca?-1:0};return'object'==typeof H?sa(H[q],R[q]):sa(H,R)});return F.map(function(H,R,sa){return v[H.index]})};u.desc=function(q,v){return u.asc(q,v).reverse()};z=function(q,v){var F=[],H=[];if(Array.isArray(v))for(var R=0,sa=v.length;R<sa;++R)F[R]=Object.keys(v[R])[0],H[R]=v[R][F[R]];else for(sa in R=0,v)F[R]=
sa,H[R]=v[sa],++R;y=function(T,ca,ea,Ja,fa){var pa='desc'==Ja[fa]?1:0,Ea,Ka=Ea=null;return'string'==typeof T[ea[fa]]&&''!=T[ea[fa]]?(Ea=T[ea[fa]].localeCompare(ca[ea[fa]]),0==pa&&0!=Ea?0>Ea?-1:1:0!=Ea?0>Ea?1:-1:ea.length-1>fa?y(T,ca,ea,Ja,fa+1):0):'number'==typeof T[ea[fa]]||'number'==typeof ca[ea[fa]]?(Ea=(''+T[ea[fa]]).localeCompare(''+ca[ea[fa]],void 0,{numeric:!0}),0==pa&&0!=Ea?0>Ea?-1:1:0!=Ea?0>Ea?1:-1:ea.length-1>fa?y(T,ca,ea,Ja,fa+1):0):'boolean'==typeof T[ea[fa]]||'boolean'==typeof ca[ea[fa]]?
('boolean'==typeof T[ea[fa]]&&(Ea=T[ea[fa]]?1:0),'boolean'==typeof ca[ea[fa]]&&(Ka=ca[ea[fa]]?1:0),Ea>Ka?0==pa?1:-1:Ea<Ka?0==pa?-1:1:ea.length-1>fa?y(T,ca,ea,Ja,fa+1):0):T[ea[fa]]>ca[ea[fa]]?0==pa?1:-1:T[ea[fa]]<ca[ea[fa]]?0==pa?-1:1:ea.length-1>fa?y(T,ca,ea,Ja,fa+1):0};return q.sort(function(T,ca){return y(T,ca,F,H,0)})};Array.isArray(C)||1<C.count()?z=z(B,C):(J=Object.keys(C)[0],z=C[J],z=u[z](J,B));z.find=N.find;z.findOne=N.findOne;z.limit=N.limit;z.notIn=N.notIn;z.insert=N.insert;z.update=N.update;
z.replace=N.replace;z.delete=N.delete;z.orderBy=N.orderBy;z.max=N.max;z.toRaw=N.toRaw;z.filter=N.filter;return z};N.toRaw=function(){for(var C=Array.isArray(this)?this:E,B=0,u=C.length;B<u;++B)C[B]._uuid&&delete C[B]._uuid;return JSON.clone(C)};N.filter=function(C){if('undefined'==typeof C)throw Error('`filter` parametter must be a string or an array.');var B=Array.isArray(this)?this:E;if(!B.length)return[];var u=0,z=B.length,y=[],J=0;if(Array.isArray(C))for(var q,v=C.length,F;u<z;++u){F=!1;for(q=
0;q<v;++q)'undefined'!=typeof B[u][C[q]]&&('undefined'==typeof y[J]&&(y[J]={}),y[J][C[q]]=B[u][C[q]],F=!0);F&&++J}else for(;u<z;++u)'undefined'!=typeof B[u][C]&&('undefined'==typeof y[J]&&(y[J]={}),y[J][C]=B[u][C],++J);return JSON.clone(y)};return N}'undefined'!==typeof module&&module.exports?module.exports=Collection:'function'===typeof define&&define.amd&&define('utils/collection',[],function(){return Collection});
function FormValidatorUtil(E,O,ha,Ca){var K='undefined'!==typeof module&&module.exports?!1:!0,U=K?require('utils/merge'):require('../../../../../lib/merge');K||require('../../../../../helpers');K&&require('helpers/dateFormat');var oa=K?require('utils/routing'):require('../../../../../lib/routing'),Y=function(){var u=!1,z=null;K?K&&'undefined'!=typeof gina.forms&&(z=gina.forms):z=getContext('gina').forms||null;z&&'undefined'!=typeof z.validators&&(u=!0);return u},V={errors:{},keys:{'%l':'label','%n':'name',
'%s':'size'},data:{},excluded:[],errorLabels:{is:'Condition not satisfied',isEmail:'A valid email is required',isRequired:'Cannot be left empty',isBoolean:'Must be a valid boolean',isNumber:'Must be a number: allowed values are integers or floats',isNumberLength:'Must contain %s characters',isNumberMinLength:'Should be at least %s characters',isNumberMaxLength:'Should not be more than %s characters',isInteger:'Must be an integer',isIntegerLength:'Must have %s characters',isIntegerMinLength:'Should be at least %s characters',
isIntegerMaxLength:'Should not be more than %s characters',toInteger:'Could not be converted to integer',isFloat:'Must be a proper float',isFloatException:'Float exception found: %n',toFloat:'Could not be converted to float',toFloatNAN:'Value must be a valid number',isDate:'Must be a valid Date',isString:'Must be a string',isStringLength:'Must have %s characters',isStringMinLength:'Should be at least %s characters',isStringMaxLength:'Should not be more than %s characters',isJsonWebToken:'Must be a valid JSON Web Token',
query:'Must be a valid response',isApiError:'Condition not satisfied'}},m=null;if(E)m=U(JSON.clone(E),m),V.data=U(JSON.clone(E),V.data);else throw Error('missing data param');var S=function(u,z){var y=null;for(let J in Ca)if(Ca[J].name===z){y=(new DOMParser).parseFromString(u.innerHTML,'text/html').getElementById(Ca[J].id);break}if(y)return y;throw Error('Field `'+z+'` not found in fieldsSet');},p=function(u){var z;var y='';var J=u.length;for(z=0;z<J;){var q=u[z++];switch(q>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:y+=
String.fromCharCode(q);break;case 12:case 13:var v=u[z++];y+=String.fromCharCode((q&31)<<6|v&63);break;case 14:v=u[z++];var F=u[z++];y+=String.fromCharCode((q&15)<<12|(v&63)<<6|(F&63)<<0)}}return y},da=function(u,z){z=u.match(/\{\{([^{{}}]+)\}\}/g);for(let y=0,J=z.length;y<J;y++){let q=z[y].replace(/\[/g,'["').replace(/\]/g,'"]').replace(/\{|\}/g,'').trim();try{q=eval('data.'+q).replace(/^"|"$/g,''),u=u.replace(new RegExp(z[y].replace(/\{|\[|\]|\}/g,'\\$&'),'g'),q)}catch(v){}}return u},ya=function(u,
z){var y=m[this.name].errors||{},J=this.target.id||this.target.getAttribute('id');if(m.isValid()){var q=this.target.dataset.ginaFormValidatorTestedValue;console.debug('[ '+this.name+' ]','TESTED VALUE -> '+this.value+' vs '+q);J='asyncCompleted.'+J;var v=this.target.form.getAttribute('id'),F='undefined'!=typeof gina.validator&&'undefined'!=typeof gina.validator.$forms[v]&&'undefined'!=typeof gina.validator.$forms[v].cachedErrors?gina.validator.$forms[v].cachedErrors:null;if(!q||'undefined'==typeof q||
q!==this.value)this.target.dataset.ginaFormValidatorTestedValue=this.value,F&&'undefined'!=typeof F[this.name]&&'undefined'!=typeof F[this.name].query&&(delete F[this.name].query,'undefined'!=typeof gina.validator.$forms[v]&&'undefined'!=typeof gina.validator.$forms[v].errors&&delete gina.validator.$forms[v].errors.query);else if(q===this.value){var H=!1;F&&'undefined'!=typeof F[this.name]&&'undefined'!=typeof F[this.name].query&&'undefined'!=typeof F[this.name].query[this.value]&&(this.error=z=F[this.name].query[this.value].slice(0),
H=!0);y.query=B(this.error||z||V.errorLabels.query,this);console.debug('[2] potential cached error detected !! ',H,F,' vs ',y.query);H&&(this.errors=y,this.valid=!1);'undefined'!=typeof gina.events[J]&&triggerEvent(gina,this.target,J,m[this.name]);return m[this.name]}var R=null,sa=this;if(window.XMLHttpRequest)R=new XMLHttpRequest;else if(window.ActiveXObject)try{R=new ActiveXObject('Msxml2.XMLHTTP')}catch(fa){try{R=new ActiveXObject('Microsoft.XMLHTTP')}catch(pa){}}z={isSynchrone:!1,headers:{}};
q=u.data||null;y=null;J=/^true$/i.test(this.target.form.dataset.ginaFormLiveCheckEnabled)?!0:!1;y=JSON.stringify(q);if(/\$/.test(y)){q=y.match(/\$[-_\[\]a-z 0-9]+/g)||[];v=F=null;for(let fa=0,pa=q.length;fa<pa;fa++)v=q[fa].replace(/\$/g,''),re=new RegExp('\\'+q[fa].replace(/\[|\]/g,'\\$&'),'g'),F=V.data[v]||null,!F&&J&&(F=S(this.target.form,v).value),y=y.replace(re,F)}q=y.replace(/\\"/g,'');var T='undefined'==typeof u.validIf?!0:u.validIf;z=U(z,u,ha);delete z.data;delete z.validIf;y=z.headers['Content-Type'];
var ca=null;J=this.target.getAttribute('id');if(!/^http/.test(z.url)&&/@/.test(z.url))try{H=oa.getRoute(z.url),z.url=H.toUrl()}catch(fa){throw fa;}if(z.withCredentials){if('withCredentials'in R)z.isSynchrone?R.open(z.method,z.url,z.isSynchrone):R.open(z.method,z.url);else if('undefined'!=typeof XDomainRequest)R=new XDomainRequest,R.open(z.method,z.url);else throw R=null,ca='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ',Error(ca);R.responseType='undefined'!=
typeof z.responseType?z.responseType:'';R.withCredentials=!0}else z.isSynchrone?R.open(z.method,z.url,z.isSynchrone):R.open(z.method,z.url);for(var ea in z.headers)'Content-Type'==ea&&'undefined'!=typeof y&&null!=y&&''!=y||R.setRequestHeader(ea,z.headers[ea]);'undefined'!=typeof y&&null!=y&&''!=y&&R.setRequestHeader('Content-Type',y);var Ja=function(fa){sa.value=V.data[sa.name]=sa.value?sa.value.toLowerCase():sa.value;var pa=fa.isValid||!1;pa=T!=pa?!1:!0;m[sa.name].valid=pa;var Ea=m[sa.name].errors||
{},Ka='undefined'!=typeof fa.error&&'undefined'!=typeof fa.fields?fa.fields:{};if(0<Ka.count()&&!pa||!pa){if(!pa){var Oa=null;'undefined'!=typeof Ka[sa.name]?V.errorLabels.query=da(Ka[sa.name],u.data):'undefined'!=typeof fa.error&&/^5/.test(fa.status)&&(Oa=fa.error);Ea.query=B(Oa||sa.error||V.errorLabels.query||u.error,sa);console.debug('[1] query error detected !! ',fa)}Ea.query||''!=sa.value||(pa=!0)}pa&&'undefined'!=typeof Ea.query&&delete Ea.query;sa.valid=pa;fa=gina.validator.$forms[sa.target.form.getAttribute('id')].cachedErrors||
{};0<Ea.count()?(sa.errors=Ea,'undefined'==typeof m[sa.name].errors&&(m[sa.name].errors={}),m[sa.name].errors=U(m[sa.name].errors,Ea),'undefined'!=typeof Ea.query&&Ea.query&&('undefined'==typeof fa[sa.name]&&(fa[sa.name]={}),'undefined'==typeof fa[sa.name].query&&(fa[sa.name].query={}),fa[sa.name].query[sa.value]=Ea.query.slice(0)),Ea=sa.target.getAttribute('data-gina-form-errors'),/query/.test(Ea)||sa.target.setAttribute('data-gina-form-errors',Ea&&''!=Ea?Ea+' query':'query')):'undefined'!=typeof fa[sa.name]&&
'undefined'!=typeof fa[sa.name].query&&'undefined'!=typeof fa[sa.name].query[sa.value]&&delete fa[sa.name].query[sa.value];Ea=sa.target.id||sa.target.getAttribute('id');console.debug('prematurely completed event `asyncCompleted.'+Ea+'`');return triggerEvent(gina,sa.target,'asyncCompleted.'+Ea,m[sa.name])};R&&(R.onerror=function(fa,pa){console.debug('query error [2] detected !! ',pa,'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.');isOnException=
!0;fa=this.getResponseHeader('Content-Type');if(/\/json/.test(fa))fa=JSON.parse(this.responseText),'undefined'==typeof fa.status&&(fa.status=this.status);else if(fa={status:R.status,message:''},/^(\{|\[)/.test(R.responseText))try{fa=U(fa,JSON.parse(R.responseText))}catch(Ea){fa=U(fa,Ea)}return Ja(fa)},R.onload=function(){try{ca=this.responseText;var fa=this.getResponseHeader('Content-Type');if(/\/json/.test(fa))ca=JSON.parse(this.responseText),'undefined'==typeof ca.status&&(ca.status=this.status);
else if(ca={status:R.status,message:''},/^(\{|\[)/.test(R.responseText))try{ca=U(ca,JSON.parse(R.responseText))}catch(pa){ca=U(ca,pa)}return Ja(ca)}catch(pa){throw pa;}},E?R.send(q):R.send())}else console.debug('stopping on errors ...'),triggerEvent(gina,this.target,'asyncCompleted.'+J,m[this.name])},N=async function(u,z,y,J){var q=(new (require(_(GINA_FRAMEWORK_DIR+'/core/config.js',!0)))).getInstance(),v=null,F=null,H=null,R=getContext('bundle');if(/@/.test(u.url)){var sa=u.url.split(/@/);F=sa[0];
H=sa[1];getConfig(R,'app');try{q.bundle!==H&&(v=getConfig(R,'app').proxy[H])}catch(Ja){throw Error('Could not retrieve `proxy` configuration for bundle `'+H+'`. Please check your `/config/app.json`.\n'+Ja.stack);}sa=null}else throw Error('external url/domain not  handled at this moment, please contact us if you need support for it.');sa=JSON.clone(oa.getRoute(u.url,u.data));var T=q[H][q.env];v||(q.bundle==H&&(v=getConfig(R,'settings').server.credentials,u.ca=v.ca||null,u.hostname=T.server.scheme+
'://'+T.host,u.port=T.port[T.server.protocol][T.server.scheme],u.protocol=T.server.protocol,u.rejectUnauthorized=!1),v={ca:u.ca,hostname:u.hostname,port:u.port,path:u.path},'undefined'!=typeof u.protocol&&(v.protocol=u.protocol),'undefined'!=typeof u.rejectUnauthorized&&(v.rejectUnauthorized=u.rejectUnauthorized));F={method:sa.method,requirements:sa.requirements,namespace:sa.namespace||void 0,url:unescape(sa.url),rule:F+'@'+H,param:JSON.clone(sa.param),middleware:JSON.clone(sa.middleware),bundle:sa.bundle,
isXMLRequest:z.isXMLRequest,isWithCredentials:z.isWithCredentials};H=F.rule.replace('@'+H,'')||'_common';H={template:'undefined'!=typeof T.content.templates?T.content.templates[H]||T.content.templates._common:void 0,conf:JSON.clone(T),cacheless:T.cacheless};H=U(H,F);H.conf=JSON.clone(T);H.conf.content.routing[H.rule].param=F.param;H.template&&'undefined'==typeof H.template.ginaLoader&&(H.template.ginaLoader=H.conf.content.templates._common.ginaLoader);H.conf.content.routing[H.rule].param=F.param;
delete H.middleware;delete H.param;delete H.requirements;T=new (require(_(GINA_FRAMEWORK_DIR+'/core/controller/controller.js'),!0))(H);T.name=sa.param.control;T.setOptions(z,y,J,H);z='object'==typeof u.data&&0<u.data.count()?u.data:{};if(/^get|delete|put$/i.test(u.method)){y=0;for(let Ja in z)'object'==typeof z[Ja]&&encodeURIComponent(JSON.stringify(z[Ja])),y++}v.method=u.method;v.path=sa.url;u=require('util').promisify;var ca={isValid:!1},ea=!1;await u(T.query)(v,z).then(function(Ja){ca=Ja}).catch(function(Ja){ea=
Ja});ea&&(console.error(ea),ca.error=ea);return ca},L=null;L=K?ya:N;var C=function(u,z){var y=null,J=null;'undefined'==typeof m[u]&&'undefined'!=typeof z&&(m[u]=y=z);if('object'==typeof m[u])try{y=JSON.parse(JSON.stringify(m[u]))}catch(q){y=m[u]}else y=m[u];J='';K&&'undefined'!=typeof O&&(J=O[u].getAttribute('data-gina-form-field-label')||'');m[u]={target:K&&'undefined'!=typeof O?O[u]:null,name:u,value:y,valid:!1,label:J,exclude:!1};m[u].is=function(q,v,F){var H=!1,R='undefined'!=typeof window&&'undefined'!=
typeof window._currentValidatorAlias?window._currentValidatorAlias:'is';'undefined'!=typeof window&&window._currentValidatorAlias&&delete window._currentValidatorAlias;var sa=m[this.name].errors||{};V.data[this.name]=m[this.name].value;'undefined'==typeof sa.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value||!sa.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value?H=!0:sa.isRequired||'string'!=typeof this.value||''!=this.value||(H=!0);if(!H&&/^(true|false)$/i.test(q))H=
q;else if(!H){var T=null,ca=null;if(/[!=>><a-z 0-9]+/i.test(q)){if((ca=q.match(/\${0}[-_,.\[\]a-z0-9]+/ig))&&0<ca.length){for(var ea=0,Ja=ca.length;ea<Ja;++ea)'undefined'!=typeof m[ca[ea]]&&ca[ea]&&(T=new RegExp('\\$'+ca[ea]+'(?!\\S+)','g'),q=''==m[ca[ea]].value?q.replace(T,'""'):'string'==typeof m[ca[ea]].value?q.replace(T,'"'+m[ca[ea]].value+'"'):q.replace(T,m[ca[ea]].value));try{q=q.replace(/(\(|\)|return)/g,''),H=/^\//.test(q)?eval(q+'.test("'+this.value+'")'):eval(q)}catch(fa){throw Error(fa.stack||
fa.message);}}}else if(q instanceof RegExp)H=q.test(this.value)?!0:!1;else if('boolean'==typeof q)H=q?!0:!1;else try{/\/(.*)\//.test(q)?(T=q.match(/\/(.*)\//).pop(),ca=q.replace('/'+T+'/',''),H=(new RegExp(T,ca)).test(this.value)):H=eval(q)}catch(fa){throw Error(fa.stack||fa.message);}}H?H&&'undefined'!=typeof sa[R]&&delete sa[R]:(sa[R]=B(this.error||v||V.errorLabels[R],this),'undefined'!=typeof F&&(sa.stack=F));this.valid=H;0<sa.count()&&(this.errors=sa);return m[this.name]};m[u].set=function(q){this.value=
V.data[this.name]=q;this.target.setAttribute('value',q);return m[this.name]};m[u].isEmail=function(){this.value=V.data[this.name]=this.value?this.value.toLowerCase():this.value;K&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var q=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.value)?!0:!1,v=m[this.name].errors||{};v.isRequired||
''!=this.value||(q=!0);q?q&&'undefined'!=typeof v.isEmail&&delete v.isEmail:v.isEmail=B(this.error||V.errorLabels.isEmail,this);this.valid=q;0<v.count()&&(this.errors=v);return m[this.name]};m[u].isJsonWebToken=function(){this.value=V.data[this.name]=this.value?this.value.toLowerCase():this.value;K&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var q=/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/.test(this.value)?!0:!1,v=m[this.name].errors||
{};v.isRequired||''!=this.value||(q=!0);q?q&&'undefined'!=typeof v.isJsonWebToken&&delete v.isJsonWebToken:v.isJsonWebToken=B(this.error||V.errorLabels.isJsonWebToken,this);this.valid=q;0<v.count()&&(this.errors=v);return m[this.name]};m[u].isBoolean=function(){var q=null,v=m[this.name].errors||{};v.isRequired&&0==this.value&&(delete v.isRequired,this.errors=v);switch(this.value){case 'true':case !0:case 1:q=this.value=V.data[this.name]=!0;break;case 'false':case !1:case 0:q=this.value=V.data[this.name]=
!1}(q=null!==q?!0:!1)?q&&'undefined'!=typeof v.isBoolean&&delete v.isBoolean:v.isBoolean=B(this.error||V.errorLabels.isBoolean,this);this.valid=q;0<v.count()&&(this.errors=v);return m[this.name]};m[u].isNumber=function(q,v){var F=this.value,H=!1,R=!0,sa=!0,T=m[this.name].errors||{};try{'string'==typeof F&&/,|\./g.test(F)?F=V.data[this.name]=this.value=parseFloat(F.replace(/,/g,'.').replace(/\s+/g,'')):'string'==typeof F&&''!=F&&(F=V.data[this.name]=this.value=parseInt(F.replace(/\s+/g,'')))}catch(ea){T.isNumber=
B(this.error||V.errorLabels.isNumber,this),this.valid=!1,0<T.count()&&(this.errors=T)}if(+F===+F&&(H=!0,!T.isRequired&&''!=F)){var ca=F.toString().length;q&&'number'==typeof q&&ca<q&&(R=!1,this.size=q);v&&'number'==typeof v&&ca>v&&(sa=!1,this.size=v)}H&&R&&sa||(H||(T.isNumber=B(this.error||V.errorLabels.isNumber,this)),R&&sa||(R||(T.isNumberLength=B(this.error||V.errorLabels.isNumberMinLength,this)),sa||(T.isNumberLength=B(this.error||V.errorLabels.isNumberMaxLength,this)),q===v&&(T.isNumberLength=
B(this.error||V.errorLabels.isNumberLength,this))),H=!1);H&&'undefined'!=typeof T.isNumberLength&&delete T.isNumberLength;this.valid=H;this.value=V.data[this.name]=''!=F?Number(F):F;0<T.count()&&(this.errors=T);return m[this.name]};m[u].toInteger=function(){var q=this.value,v=m[this.name].errors||{};if(q)try{this.value=V.data[this.name]=Math.round(q)}catch(F){v.toInteger=B(this.error||V.errorLabels.toInteger,this),this.valid=!1,0<v.count()&&(this.errors=v)}return m[this.name]};m[u].isInteger=function(q,
v){var F=this.value,H=!1,R=!0,sa=!0,T=m[this.name].errors||{};+F===+F&&0===F%1&&(H=!0,T.isRequired||''==F||(q&&'number'==typeof q&&F.length<q&&(R=!1,this.size=q),v&&'number'==typeof v&&F.length>v&&(sa=!1,this.size=v)));H&&R&&sa||(H||(T.isInteger=B(this.error||V.errorLabels.isInteger,this)),R&&sa||(R||(T.isIntegerLength=B(this.error||V.errorLabels.isIntegerMinLength,this),H=!1),sa||(T.isIntegerLength=B(this.error||V.errorLabels.isIntegerMaxLength,this),H=!1),q===v&&(T.isIntegerLength=B(this.error||
V.errorLabels.isIntegerLength,this),H=!1)));this.valid=H;this.value=V.data[this.name]=Number(F);0<T.count()&&(this.errors=T);return m[this.name]};m[u].toFloat=function(q){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''),/,/.test(this.value)&&!/\./.test(this.value)?this.value=this.value.replace(/,/g,'.'):this.value=this.value.replace(/,/g,''));var v=V.data[this.name]=this.value,F=m[this.name].errors||{},H=!0;q?this.decimals=parseInt(q):'undefined'==typeof this.decimals&&(this.decimals=
2);if(v)if(this.isNumber().valid)try{Number.isFinite(v)||(v=this.value=V.data[this.name]=new Number(parseFloat(v.match(/[0-9.,]+/g).join('').replace(/,/,'.')))),K&&this.target.setAttribute('value',v)}catch(R){H=!1,F.toFloat=B(this.error||V.errorLabels.toFloat,this),this.valid=!1,0<F.count()&&(this.errors=F)}else H=!1,F.toFloat=B(this.error||V.errorLabels.toFloatNAN,this);else return m[this.name];this.decimals&&v&&!F.toFloat&&(this.value=V.data[this.name]=parseFloat(this.value.toFixed(this.decimals)));
this.valid=H;0<F.count()&&(this.errors=F);return m[this.name]};m[u].isFloat=function(q){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''));var v=V.data[this.name]=this.value;q=m[this.name].errors||{};'string'==typeof v&&/\./.test(v)&&Number.isFinite(Number(v));'string'==typeof v&&/,/g.test(v)&&(v=this.value=V.data[this.name]=Number(v.replace(/,/g,'.')));Number(v)===v&&0!==v%1?(this.value=V.data[this.name]=Number(v),v=!0):v=!1;q.isRequired||''!=this.value||(v=!0);v||(q.isFloat=
B(this.error||V.errorLabels.isFloat,this));this.valid=v;0<q.count()&&(this.errors=q);return m[this.name]};m[u].isRequired=function(q){if('boolean'==typeof q&&!q)return this.valid=!0,q=V.excluded.indexOf(this.name),-1<q&&V.excluded.splice(q,1),m[this.name];if(K&&this.target&&'INPUT'==this.target.tagName&&'undefined'!=typeof this.target.type&&'radio'==this.target.type){q=document.getElementsByName(this.name);for(var v=0,F=q.length;v<F;++v)if(q[v].checked){/true|false/.test(q[v].value)?this.value=V.data[this.name]=
/true/.test(q[v].value)?!0:!1:this.value=V.data[this.name]=q[v].value;this.valid=!0;break}}q='undefined'==typeof this.value||null==this.value||''==this.value||/^\s+/.test(this.value)?!1:!0;v=m[this.name].errors||{};q?q&&'undefined'!=typeof v.isRequired&&delete v.isRequired:v.isRequired=B(this.error||V.errorLabels.isRequired,this);this.valid=q;0<v.count()&&(this.errors=v);return m[this.name]};m[u].isString=function(q,v){var F=V.data[this.name]=this.value,H=!1,R=!0,sa=!0,T=m[this.name].errors||{};'string'!=
typeof F||T.isRequired||''==F||(H=!0,q&&'number'==typeof q&&F.length<q&&(R=!1,this.size=q),v&&'number'==typeof v&&F.length>v&&(sa=!1,this.size=v));H&&R&&sa||(!H&&T.isRequired&&''==F?(H=!1,T.isString=B(this.error||V.errorLabels.isString,this)):H||T.isRequired||(H=!0),R&&sa||(H=!1,R||(T.isStringLength=B(this.error||V.errorLabels.isStringMinLength,this)),sa||(T.isStringLength=B(this.error||V.errorLabels.isStringMaxLength,this)),q===v&&(T.isStringLength=B(this.error||V.errorLabels.isStringLength,this))));
this.valid=H;0<T.count()&&(this.errors=T);return m[this.name]};m[u].isDate=function(q){var v=this.value,F=!1,H=m[this.name].errors||{},R=null;if(!v||''==v||/NaN|Invalid Date/i.test(v))return/NaN|Invalid Date/i.test(v)&&(console.warn('[FormValidator::isDate] Provided value for field `'+this.name+'` is not allowed: `'+v+'`'),H.isDate=B(this.error||V.errorLabels.isDate,this)),this.valid=F,0<H.count()&&(this.errors=H),m[this.name];if('undefined'==typeof q||'undefined'!=typeof q&&/true/i.test(q))q='yyyy-mm-dd';
if(v instanceof Date)v=v.format(q);else{try{R=q.match(/[^\/\- ]+/g)}catch(Ja){throw Error('[FormValidator::isDate] Provided mask not allowed: `'+q+'`');}try{v=v.match(/[^\/\- ]+/g);var sa={},T;var ca=0;for(T=R.length;ca<T;++ca)sa[R[ca]]=v[ca];for(var ea in sa)q=q.replace(new RegExp(ea,'g'),sa[ea])}catch(Ja){throw Error('[FormValidator::isDate] Provided value not allowed: `'+v+'`'+Ja);}v=this.value=V.data[this.name]=new Date(q);if(/Invalid Date/i.test(v)||!1===v instanceof Date)return H.isRequired||
''!=this.value?H.isDate=B(this.error||V.errorLabels.isDate,this):F=!0,this.valid=F,0<H.count()&&(this.errors=H),m[this.name];F=!0}this.valid=F;return v};m[u].format=function(q,v){var F=this.value;return F?F.format(q,v):m[this.name]};m[u].setFlash=function(q,v){'undefined'!=typeof v&&''!=v&&(this.error=v);return m[this.name]};m[u].setLabel=function(q){'undefined'!=typeof q&&''!=q&&(this.label=q);return m[this.name]};m[u].trim=function(q){if('boolean'==typeof q&&q)return this.value=this.value.replace(/^\s+|\s+$/,
''),V.data[this.name]=V.data[this.name]=this.value,m[this.name]};m[u].exclude=function(q){if('boolean'==typeof q&&!q)return/^true|false$/i.test(this.value)&&(this.value=/^true$/i.test(this.value)?!0:!1,V.data[this.name]=this.value),m[this.name];this.isExcluded=!1;0>V.excluded.indexOf(this.name)&&(V.excluded.push(this.name),this.isExcluded=!0);return m[this.name]};m[u].query=L;m[u].getValidationContext=function(){return{isGFFCtx:K,self:m,local:V,replace:B}};if(Y()){y=z=null;try{for(let q in gina.forms.validators)y=
'/validators/'+q+'/main.js',V.errorLabels[q]='Condition not satisfied',K?(z=p(gina.forms.validators[q].data),z=z.replace(/(\)\s+\{|\)\{){1}/,'$&\n\tvar validationContext = this.getValidationContext(),isGFFCtx = validationContext.isGFFCtx,self = validationContext.self,local = validationContext.local,replace = validationContext.replace;')):z=gina.forms.validators[q].toString(),m[u][q]=eval('('+z+')\n//# sourceURL='+q+'.js')}catch(q){throw Error('[UserFormValidator] Could not evaluate: `'+y+'`\n'+q.stack);
}}};for(let u in m)C(u,m[u]);m.addField=function(u,z){'undefined'==typeof m[u]&&C(u,z)};m.isValid=function(){return 0<m.getErrors().count()?!1:!0};m.setErrors=function(u){if(!u)return{};for(var z in m)if('object'==typeof m[z]){for(var y in m[z])'object'==typeof u[z]&&'undefined'!=typeof u[z][y]&&('undefined'!=typeof m[z].valid&&/^true$/i.test(m[z].valid)?delete u[z][y]:('undefined'==typeof m[z].errors&&(m[z].errors={}),m[z].errors[y]=u[z][y]));('undefined'==typeof m[z].errors&&'undefined'!=typeof u[z]||
'undefined'!=typeof m[z].errors&&0==m[z].errors.count()&&'undefined'!=typeof u[z])&&delete u[z]}return u};m.getErrors=function(u){var z={};if('undefined'!=typeof u)return'undefined'!=typeof m[u]&&m[u]&&'undefined'!=typeof m[u].errors&&0<m[u].errors.count()&&(z[u]=m[u].errors),z;for(var y in m)'object'==typeof m[y]&&'undefined'!=typeof m[y].errors&&0<m[y].errors.count()&&(z[y]=m[y].errors);return z};m.toData=function(){if(0<V.excluded.length)for(var u=0,z=V.excluded.length;u<z;++u)'undefined'!=typeof V.data[V.excluded[u]]&&
delete V.data[V.excluded[u]];return V.data};var B=function(u,z){var y=u.match(/%[a-z]+/gi);if(y)for(var J=0,q=y.length;J<q;++J)u=u.replace(new RegExp(y[J],'g'),z[V.keys[y[J]]]);return u};m.setErrorLabels=function(u){'undefined'!=typeof u&&(V.errorLabels=U(u,V.errorLabels))};return m}'undefined'!==typeof module&&module.exports?module.exports=FormValidatorUtil:'function'===typeof define&&define.amd&&define('utils/form-validator',[],function(){return FormValidatorUtil});
function Routing(){var E='undefined'!==typeof module&&module.exports?!1:!0,O={allowedMethods:['get','post','put','delete'],reservedParams:['controle','file','title','namespace','path'],notFound:{}};O.allowedMethodsString=O.allowedMethods.join(',');var ha=null,Ca=null,K=null;E?(Ca&&'function'==typeof Ca||(Ca=require('utils/merge')),K&&'function'==typeof K||(K=require('utils/form-validator'))):(require('fs'),require('util'),require('../../inherits'),Ca=require('../../merge'),ha=require(__dirname+'/../../../core/plugins')||
getContext('gina').plugins,K=ha.Validator);O.getUrlProps=function(m,S){var p={};if(E){var da=window.gina.config;p.hostname=da.hostname;'undefined'!=typeof m&&(m=routing.getRoute('webroot@'+m),p.hostname=m.hostname,p.host=m.host,p.webroot=m.webroot)}else da=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(da.getRouting=getContext('gina').Config.instance.getRouting),'undefined'==typeof m&&(m=da.bundle),'undefined'==typeof S&&(S=da.env),p.hostname=da.envConf[m][S].hostname,
p.host=da.envConf[m][S].host,p.webroot=da.envConf[m][S].server.webroot;return p};O.compareUrls=async function(m,S,p,da,ya){'undefined'==typeof p&&(p={routing:{}});if(/,/.test(S)){var N=0;S=S.split(/,/g);for(var L=S.length,C={past:!1,request:p};N<L&&!C.past;)C=await U(m,S[N],p,da,ya),++N;return C}return await U(m,S,p,da,ya)};var U=async function(m,S,p,da,ya){var N=m.url.split(/\//);S=S.split(/\//);var L=0,C=0,B=S.length,u=0,z={},y=0,J=p.method.toLowerCase(),q=m.method.toLowerCase(),v=!1;if('undefined'!=
typeof m.requirements&&/get|delete/i.test(J)&&'undefined'!=typeof p[J]||'undefined'!=typeof m.requirements&&/get/i.test(J)&&/delete/i.test(q)){/get/i.test(J)&&/delete/i.test(q)&&(J=q);if(/^(delete)$/i.test(J)&&N.length===S.length){'undefined'==typeof p[J]&&(p[J]={});for(let R=0,sa=S.length;R<sa;R++)if(N[R]===S[R])++u;else if(q=S[R].substr(1),'undefined'!=typeof m.requirements[q]){q=m.requirements[q];if(/^\//.test(q))q=q.substr(1,q.lastIndexOf('/')-1);else if(/^validator::/.test(q)&&await oa(S[R],
N[R],m,p,da,ya)){++u;continue}/^:/.test(S[R])&&'undefined'!=typeof q&&(new RegExp(q)).test(N[R])&&(++u,p[J][S[R].substr(1)]=N[R])}v=!0}for(var F in p[J])'undefined'!=typeof m.requirements[F]&&0>S.indexOf(':'+F)&&(S[C]=':'+F,++C,N[L]=p[J][F],++L,v||N.length!==S.length||++B)}if(!v&&N.length===S.length)for(;y<B;++y)N[y]===S[y]?++u:u==y&&/:/.test(S[y])&&await oa(S[y],N[y],m,p,da,ya)&&++u;if('undefined'!=typeof m.requirements&&J==m.method.toLowerCase()&&!v&&u>=B)for(F=Object.getOwnPropertyNames(m.requirements),
L=0,S.join(',').match(/:[-_a-z0-9]+/g);L<F.length;){C=F[L];if('undefined'==typeof m.param[C]&&/^validator::/i.test(m.requirements[C])){if(S.length!=N.length)break;var H=S.join(',').match(/:[-_a-z0-9]+/g);let R=m.requirements[C];y={};q={};v={};try{q=JSON.parse(R.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(sa){throw sa;}if('undefined'!=typeof q.query&&'undefined'!=typeof q.query.data){y=q.query.data;for(let sa in y)0>H.indexOf(y[sa])&&
delete y[sa];for(let sa=0,T=S.length;sa<T;sa++)/^:/.test(S[sa])&&(H=S[sa].replace(/^:/,''),''!=H&&'undefined'!=typeof N[sa]&&(y[H]=N[sa],'undefined'==typeof p.params[H]&&(p.params[H]=N[sa])))}y=Ca(y,JSON.clone(p[J])||{});'undefined'==typeof y[C]&&(y[C]=null);v[C]=q;_validator=E?new K(y):new K('routing',y,null,v);if(0==q.count()){console.error('Route validation failed '+m.rule);--u;L++;continue}for(let sa in q)if('undefined'!=typeof q[sa].data&&(q[sa].data=y),v=Array.isArray(q[sa])?await _validator[C][sa].apply(_validator[C],
q[sa]):await _validator[C][sa](q[sa],p,da,ya),!v.isValid&&(--u,'undefined'!=typeof v.error))throw v.error;}L++}z.past=u===B?!0:!1;z.past&&(p.routing=V(m,p[J]),z.request=p);return z},oa=async function(m,S,p,da,ya,N){var L=-1,C=m.match(/:\w+/g);L=new RegExp(m,'g');var B=null,u=null,z=null;B=!1;var y=B=u=u=null,J=null,q=da.method.toLowerCase();if(!C.length)return!1;p.param.path&&L.test(p.param.path)&&(p.param.path=p.param.path.replace(L,S));p.param.namespace&&L.test(p.param.namespace)&&(p.param.namespace=
p.param.namespace.replace(L,S));'undefined'!=typeof p.param.file&&/:/.test(p.param.file)&&(B=new RegExp('(:'+m+'/|:'+m+'$)','g'),Y.variable=S,p.param.file=p.param.file.replace(B,Y));p.param.title&&L.test(p.param.title)&&(p.param.title=p.param.title.replace(L,S));if(1==C.length){B=new RegExp(C[0]);L=-1<C.indexOf(m)?C.indexOf(m):!1;!1===L&&m.match(B)&&(L=0);if(!1===L)return L;if(p.method.toLowerCase()!==q)return!1;'undefined'==typeof da[q]&&(da[q]={});z=C[L].substr(1);L=p.requirements[z];if(/^\//.test(L))B=
L.match(/\/(.*)\//).pop(),u=L.replace('/'+B+'/',''),B=(new RegExp(B,u)).test(S);else if(/^validator::/.test(L)&&S){u={};B={};y={};J='';m.replace(new RegExp('[^'+z+']','g'),function(sa){J+=sa});u[z]=S.replace(new RegExp(J,'g'),'');try{B=JSON.parse(L.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(sa){throw sa;}'undefined'!=typeof B.query&&'undefined'!=typeof B.query.data&&m==B.query.data[Object.keys(B.query.data)[0]]&&(B.query.data[Object.keys(B.query.data)[0]]=
u[z],da.params[z]=u[z]);y[z]=B;u=new K('routing',u,null,y);if(0==B.count())return console.error('Route validation failed '+p.rule),!1;for(var v in B)Array.isArray(B[v])?await u[z][v].apply(u[z],B[v]):await u[z][v](B[v],da,ya,N);B=u.isValid()}else B=(new RegExp(p.requirements[z])).test(S);if('undefined'!=typeof p.param[z]&&'undefined'!=typeof p.requirements&&'undefined'!=typeof p.requirements[z]&&'undefined'!=typeof da.params&&B)return da.params[z]=S,'undefined'==typeof da[q][z]&&(da[q][z]=S),!0}else{ya=
p.url;N=da.url;q={};y='';var F=!1,H=0;v=0;for(var R=N.length;v<R;++v)if(N.charAt(v)!=ya.charAt(H)||F){if(''==y)F=!0,y+=N.charAt(v);else if(v>ya.indexOf(C[0])+C[0].length){L=p.requirements[C[0]];S=y.substr(0,y.length);if(/^\//.test(L))B=L.match(/\/(.*)\//).pop(),u=L.replace('/'+B+'/',''),B=(new RegExp(B,u)).test(S);else if(/^validator::/.test(L)){u={};B={};y={};J='';m.replace(new RegExp('[^'+z[0]+']','g'),function(sa){J+=sa});u[z[0]]=S.replace(new RegExp(J,'g'),'');B=JSON.parse(L.split(/::/).splice(1)[0].replace(/([^\W+ true false])+(\w+)/g,
'"$&"'));y[z[0]]=B;u=new K('routing',u,null,y);for(let sa in B)if(Array.isArray(B[sa]))u[z[0]][sa].apply(u[z[0]],B[sa]);else u[z[0]][sa](B[sa]);B=u.isValid()}else B=(new RegExp(p.requirements[z[0]])).test(S);if(B)q[C[0].substr(1)]=S;else return!1;y='';F=!1;H=ya.indexOf(C[0])+C[0].length;--v;C.splice(0,1)}else y+=N.charAt(v),++H;if(v==R-1)if(L=p.requirements[C[0]],S=y.substr(0,y.length),/^\//.test(L)?(B=L.match(/\/(.*)\//).pop(),u=L.replace('/'+B+'/',''),B=(new RegExp(B,u)).test(S)):B=(new RegExp(p.requirements[z])).test(S),
B)q[C[0].substr(1)]=S;else return!1}else++H;if(q.count()==C.length){z=null;for(z in q)da.params[z]=q[z];return!0}}return!1},Y=function(m){return/\/$/.test(m)?Y.variable+'/':Y.variable},V=function(m,S){var p=null,da,ya=m.url,N=null;for(N in m.param)if(('undefined'==typeof S||'undefined'!=typeof S[N])&&/^:/.test(m.param[N])){var L=m.param[N].substr(1);if('undefined'!=typeof S&&'undefined'!=typeof S[L]){var C=new RegExp('(:'+L+'/|:'+L+'$)','g');'undefined'!=typeof m.param.path&&/:/.test(m.param.path)&&
(m.param.path=m.param.path.replace(C,S[L]));'undefined'!=typeof m.param.title&&/:/.test(m.param.title)&&(m.param.title=m.param.title.replace(C,S[L]));'undefined'!=typeof m.param.namespace&&/:/.test(m.param.namespace)&&(m.param.namespace=m.param.namespace.replace(C,S[L]));'undefined'!=typeof m.param.file&&/:/.test(m.param.file)&&(Y.variable=S[L],m.param.file=m.param.file.replace(C,Y));if(/,/.test(m.url)){p=m.url.split(/,/g);var B=0;for(da=p.length;B<da;++B)Y.variable=S[L],p[B]=p[B].replace(C,Y);m.url=
p.join(',')}else Y.variable=S[L],m.url=m.url.replace(C,Y)}}if(p){B=0;da=p.length;ya=ya.split(/,/g);var u=0;for(m.urlIndex=0;B<da;++B)if(p=0,C=ya[0].match(/:[-_a-z0-9]+/ig)){N=0;for(L=C.length;N<L;N++){var z=C[N].substr(1);'undefined'!=typeof S[z]&&S[z]&&p++}p>u&&(u=p,m.urlIndex=B)}}return m};O.getRoute=function(m,S,p){var da=null;E?da=window.gina.config:(da=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(da.getRouting=getContext('gina').Config.instance.getRouting));var ya=
da.env||GINA_ENV,N=null,L=da.bundle;/@/.test(m)||'undefined'==typeof L||null==L||(m=m.toLowerCase(),m+='@'+L);if(/@/.test(m)){var C=m.replace(/(.*):\/\//,'').split(/@/);L=C[1];/\/(.*)$/.test(m)&&(N=m.replace(/(.*):\/\//,'').split(/\/(.*)$/)[1],L=L.replace(/\/(.*)$/,''),ya=N||ya);m=C[0].toLowerCase()+'@'+L}N=da.getRouting(L,ya);if('undefined'==typeof N[m])throw Error('[ RoutingHelper::getRouting(rule, params) ] : `'+m+'` not found !');da=JSON.clone(N[m]);L=null;da=V(da,S);/,/.test(da.url)&&('undefined'!=
typeof da.urlIndex&&(p=da.urlIndex,delete da.urlIndex),p='undefined'!=typeof p?p:0,da.url=da.url.split(/,/g)[p]);/\/$/.test(da.url)&&'/'!=da.url&&(da.url=da.url.substr(0,da.url.length-1));if(/GET/i.test(da.method)&&'undefined'!=typeof S){p='?';N=N[m].url;for(let B in da.param)-1<O.reservedParams.indexOf(B)||(new RegExp(da.param[B])).test(N)||'undefined'!=typeof S[B]&&(p+=B+'='+encodeURIComponent(S[B])+'&');1<p.length&&(p=p.substring(0,p.length-1),da.url+=p)}da.toUrl=function(B){var u=null;/^redirect$/i.test(this.param.control)&&
(u=O.getUrlProps(this.bundle,ya||GINA_ENV));var z=this.webroot||u.webroot;u=this.hostname||u.hostname;var y=this.url;this.url='undefined'!=typeof B&&1==B?y.replace(z,'/'):y;return u+this.url};da.request=function(B,u){var z=null,y=null;'function'==typeof arguments[arguments.length-1]&&(z=arguments[arguments.length-1]);'object'==typeof arguments[2]&&(y=arguments[2]);var J=this.webroot||y.webroot,q=this.hostname||y.hostname;y='undefined'!=typeof B&&1==B?path.replace(J,'/'):this.url||y.url;q=/^https/.test(q)?
'https':'http';E?window.open(y,'undefined'!=typeof u&&'undefined'!=typeof u.target?u.target:'_self'):('undefined'==typeof u.agent&&(u.agent=!1),q=require(''+q),J=function(v){var F='',H=!1;v.on('data',function(R){F+=R});v.on('error',function(R){H='Failed to get mail content';R&&'undefined'!=typeof R.stack?H+=R.stack:'string'==typeof R&&(H+='\n'+R)});v.on('end',function(){if(/^\{/.test(F))try{F=JSON.parse(F),'undefined'!=typeof F.error&&(H=JSON.clone(F),F=null)}catch(R){H=R}H?z(H):z(!1,F)})},z?q.get(y,
u,J):q.get(y,u))};/:/.test(da.url)&&(S=da.url.match(/(:(.*)\/|:(.*)$)/g).map(function(B){return B.replace(/\//g,'')}).join(', '),L='[ RoutingHelper::getRoute(rule[, bundle, method]) ] : route [ %r ] param placeholder not defined: `'+da.url+'` !\n Check your route description to compare requirements against param variables [ '+S+']',L=L.replace(/%r/,m),console.warn(Error(L)));return da};O.getRouteByUrl=function(m,S,p,da,ya){2==arguments.length&&'undefined'!=typeof arguments[1]&&-1<O.allowedMethods.indexOf(arguments[1].toLowerCase())&&
(p=arguments[1],S=void 0);var N=null,L=null,C=null,B=null,u=null,z=null;if(/#/.test(m)&&1<m.length){var y=m.split(/#/);m=y[0];u='#'+y[1];y=null}1==arguments.length&&'undefined'!=typeof arguments[0]&&(/^(https|http)/i.test(m)||/^\//.test(m)||(m='/'+m),N='/'+m.split(/\//g)[1],E&&(B=gina.config.reverseRouting,C=gina.config.routing),'undefined'!=typeof B[N]&&(y=C[B[N]],S=y.bundle,N=y.webroot,z=y.hostname,y=null));ya='boolean'!=typeof arguments[arguments.length-1]?!1:arguments[arguments.length-1];var J=
!1,q=null,v=null,F=q=v=null;y='undefined'!=typeof p?!0:!1;E?(q=window.gina.config,S='undefined'!=typeof S?S:q.bundle,v=q.env,C=C||q.getRouting(S),B=B||q.reverseRouting,isXMLRequest='undefined'!=typeof isXMLRequest?isXMLRequest:!1,z=z||q.hostname,N=N||q.webroot,da={routing:{},method:p,params:{},url:m}):(q=getContext('gina').config,S='undefined'!=typeof S?S:q.bundle,v=q.env,C=q.getRouting(S),z=q.envConf[S][v].hostname,N=q.envConf[S][v].server.webroot,da||={routing:{},isXMLRequest:!1,method:'undefined'!=
typeof p?p.toLowerCase():'get',params:{},url:m},ya&&(da.method=p),isXMLRequest=da.isXMLRequest||!1);v=m.replace(new RegExp('^('+z+'|'+z.replace(/:\d+/,'')+')'),'');'undefined'==typeof da.routing.path&&(da.routing.path=unescape(v));p='undefined'!=typeof p?p.toLowerCase():'get';y&&(da.originalMethod=da.method,da.method=p,da.routing.path=unescape(v));da.method||(da.method=p);q={};N=new RegExp(p,'i');B=null;var H;for(H in C){if('undefined'==typeof C[H].param)break;if(C[H].bundle==S&&(B=C[H].method,/,/.test(B)&&
N.test(B)&&(B=da.method),'undefined'==typeof C[H].method||N.test(B))){q={method:B,requirements:C[H].requirements,namespace:C[H].namespace||void 0,url:unescape(v),rule:C[H].originalRule||H,param:C[H].param,middleware:JSON.clone(C[H].middleware),bundle:C[H].bundle,isXMLRequest};try{if(F=O.compareUrls(q,C[H].url,da),F.past){L=JSON.clone(C[H]);L.name=H;J=!0;F={};break}}catch(R){throw Error('Route [ '+H+' ] needs your attention.\n'+R.stack);}}}if(J)return/\/$/.test(m)&&'/'!=m&&(m=m.substr(0,m.length-1)),
u&&(m+=u),L.url=m,L.toUrl=function(R){var sa=this.webroot,T=this.hostname,ca=this.url;this.url='undefined'!=typeof R&&1==R?ca.replace(sa,'/'):ca;return T+this.url},L;if(E){u=!1;if('#'==m&&/GET/i.test(p)&&y||/^404:/.test(m))m=location.pathname,u=!0;'undefined'==typeof O.notFound&&(O.notFound={});C=null;L='[ RoutingHelper::getRouteByUrl(rule[, bundle, method]) ] : route [ %r ] is called but not found inside your view: `'+m+'` !';if((C=(C=gina.hasPopinHandler&&gina.popinIsBinded?gina.popin.getActivePopin().target.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/):
document.body.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/))&&0<C.length?C[0]:null)&&y&&u)return u=C.match(/\[\w+\]/)[0],C=C.replace('404:'+u,u.replace(/\[|\]/g,'')+'::'),L=L.replace(/%r/,C.replace(/404:\s+/,'')),'undefined'==typeof O.notFound[C]?O.notFound[C]={count:1,message:L}:y&&'undefined'!=typeof O.notFound[C]&&++O.notFound[C].count,!1;if((u=gina.config.reverseRouting[m]||null)&&'undefined'!=typeof u&&u.split(/@(.+)$/)[1]==S)return C=u,'undefined'==typeof O.notFound[C]?(L=L.replace(/%r/,p.toUpperCase()+
'::'+u),O.notFound[C]={count:1,message:L}):y&&'undefined'!=typeof O.notFound[C]&&++O.notFound[C].count,!1;C=O.compareUrls(q,m,da)||null;C.past&&y&&(C=p.toUpperCase()+'::'+C.request.routing.rule,'undefined'==typeof O.notFound[C]?L=L.replace(/%r/,C):++O.notFound[C].count);return!1}console.warn(Error('[ RoutingHelper::getRouteByUrl(rule[, bundle, method, request]) ] : route not found for url: `'+m+'` !').stack);return!1};return O}
'undefined'!==typeof module&&module.exports?module.exports=Routing():'function'===typeof define&&define.amd&&define('utils/routing',['require','utils/form-validator','utils/merge'],function(){return Routing()});
function StoragePlugin(E){function O(L){S=JSON.parse(V.getItem(this.bucket));'undefined'==typeof S[L]&&(S[L]=[],V.setItem(this.bucket,JSON.stringify(S)),S=JSON.parse(V.getItem(this.bucket)));m[L]={_collection:L,_bucket:this.bucket};m[L]=Ca(m[L],ya);return m[L]}function ha(L){if('object'!==typeof L)throw Error('filter must be an object');var C=S[this._collection],B=L.count(),u=0,z=null;if(0==B)return null;for(var y in C)for(var J in L){var q='boolean'!=typeof L[J]?L[J].toLocaleLowerCase():L[J];L[J]&&
-1<p.indexOf(q)&&'not null'==q&&'undefined'!=typeof C[y][J]&&'object'!==typeof C[y][J]&&C[y][J]===L[J]&&'null'!=C[y][J]&&'undefined'!=C[y][J]?0>z.indexOf(C[y][J])&&(++u,u===B&&(z=C[y],z._index=y,z._collection=this._collection,z._bucket=this._bucket)):'undefined'!=typeof C[y][J]&&'object'!==typeof C[y][J]&&C[y][J]===L[J]&&(++u,u===B&&(z=C[y],z._index=y,z._collection=this._collection,z._bucket=this._bucket,z._filter=L))}z&&(z.save=N);return z}var Ca=Ca||require('utils/merge');O=O||require('utils/collection');
var K=K||require('vendor/uuid'),U=U||require('helpers/dateFormat'),oa={bucket:'default'},Y={},V=null,m={},S={},p=['not null'],da={bucket:void 0,drop:function(){V.removeItem(oa.bucket);Y=null;for(var L in this)delete this[L];return Y},Collection:O},ya={insert:function(L){L._id=K.v1();L._createdAt=(new Date).format('isoDateTime');L._updatedAt=(new Date).format('isoDateTime');S[this._collection][S[this._collection].length]=L;V.setItem(this._bucket,JSON.stringify(S))},find:function(L,C){if(!L)return S[this._collection];
if('object'!==typeof L)throw Error('filter must be an object');C=S[this._collection];L.count();var B=0,u=[],z;for(z in C)for(var y in L){var J='boolean'!=typeof L[y]?L[y].toLocaleLowerCase():L[y];L[y]&&-1<p.indexOf(J)&&'not null'==J&&'undefined'!=typeof C[z][y]&&'object'!==typeof C[z][y]&&'null'!=C[z][y]&&'undefined'!=C[z][y]?0>u.indexOf(C[z][y])&&(u[B]=C[z][y],++B):'undefined'!=typeof C[z][y]&&'object'!==typeof C[z][y]&&C[z][y]===L[y]&&(u[B]=C[z],++B)}return u},findOne:ha,update:null,'delete':function(L){if('object'!==
typeof L)throw Error('filter must be an object');var C=JSON.clone(S[this._collection]),B=0,u=[],z;for(z in C)for(var y in L)L[y]&&-1<p.indexOf(L[y].toLocaleLowerCase())&&'not null'==L[y].toLowerCase()&&'undefined'!=typeof C[z][y]&&'object'!==typeof C[z][y]&&'null'!=C[z][y]&&'undefined'!=C[z][y]?0>u.indexOf(C[z][y])&&(u[B]=C[z][y],delete S[this._collection][z][y],++B):'undefined'!=typeof C[z][y]&&'object'!==typeof C[z][y]&&C[z][y]===L[y]&&(u[B]=C[z],S[this._collection].splice(z,1),++B);return 0<u.length?
(V.setItem(this._bucket,JSON.stringify(S)),!0):!1},drop:function(L){if('undefined'==typeof S[this._collection])throw Error('Collection `'+L+'` not found');delete m[this._collection];delete S[this._collection];V.setItem(this._bucket,JSON.stringify(S))}},N=function(L){L=L||!1;try{var C=JSON.clone(S),B=this._index,u=this._collection,z=this._bucket,y=this._filter;this._updatedAt=(new Date).format('isoDateTime');Ca(C[u][B],this,!0);delete C[u][B]._index;delete C[u][B]._collection;delete C[u][B]._bucket;
delete C[u][B].save;delete C[u][B]._filter;if(L&&'object'==typeof C[u][B]){var J=function(v,F){for(var H=0,R=v.length;H<R;++H)'object'!=typeof F[H]||'undefined'==typeof v[H]||Array.isArray(v[H])?Array.isArray(v[H])?J(v[H],F[H]):'undefined'==typeof v[H]&&delete F[H]:q(v[H],F[H]);return F},q=function(v,F){for(var H in F)'object'!=typeof F[H]||'undefined'==typeof v[H]||Array.isArray(v[H])?Array.isArray(v[H])?J(v[H],F[H]):'undefined'==typeof v[H]&&delete F[H]:q(v[H],F[H]);return F};Array.isArray(C[u][B])?
C[u][B]=J(this,C[u][B]):'object'==typeof C[u][B]?C[u][B]=q(this,C[u][B]):'undefined'==typeof this[prop]&&delete C[u][B]}S[u][B]=C[u][B];V.setItem(z,JSON.stringify(S));return ha(y)}catch(v){throw v;}};(function(L){if(!window.localStorage||window.localStorage&&'undefined'==!typeof window.localStorage.setItem)throw Error('Make sure your browser supports `window.localStorage` to use Gina Storage. See: `https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Browser_compatibility`');if('object'!=
typeof L&&'undefined'!=typeof L)throw Error('`options` must be an object');'undefined'==typeof L&&(L={});oa=Ca(L,oa);V=window.localStorage;L=oa.bucket;if(!V.getItem(L)&&void 0!=L)V.setItem(L,JSON.stringify(S));else if(void 0==L)throw Error('`bucket` name cannot be undefined');Y.bucket=L;Y=Ca(Y,da)})(E);return Y}
if('undefined'!==typeof module&&module.exports){var merge=require('utils/merge');Collection=require('utils/collection');var uuid=require('uuid');module.exports=StoragePlugin}else'function'===typeof define&&define.amd&&define('gina/storage',['helpers/dateFormat','helpers/prototypes'],function(){return StoragePlugin});function insertAfter(E,O){E.parentNode.insertBefore(O,E.nextSibling)}
function getElementsByAttribute(E){for(var O=[],ha=0,Ca=document.getElementsByTagName('*'),K=0,U=Ca.length;K<U;++K)null!==Ca[K].getAttribute(E)&&(O[ha]=Ca[K],++ha);return O}
(function(E){var O=E.prototype,ha=O.parseFromString;try{if((new E).parseFromString('','text/html'))return}catch(Ca){}O.parseFromString=function(Ca,K){if(/^\s*text\/html\s*(?:;|$)/i.test(K)){var U=document.implementation.createHTMLDocument('');-1<Ca.toLowerCase().indexOf('<!doctype')?U.documentElement.innerHTML=Ca:U.body.innerHTML=Ca;return U}return ha.apply(this,arguments)}})(DOMParser);define('utils/dom',function(){});
function ValidatorPlugin(E,O,ha){this.plugin='validator';var Ca='init ready registered success error progress submit reset change changed keydown keyup focusout focusin validate validated destroy asyncCompleted'.split(' '),K='undefined'!==typeof module&&module.exports?!1:!0,U=null;K?(require('utils/events'),registerEvents(this.plugin,Ca),require('utils/dom'),require('utils/effects'),U=gina.config.envIsDev):(U=/^true$/i.test(process.env.NODE_ENV_IS_DEV)?!0:!1)&&delete require.cache[require.resolve('./form-validator')];
var oa=K?require('vendor/uuid'):require('uuid'),Y=K?require('utils/merge'):require('../../../../../lib/merge'),V=K?require('utils/inherits'):require('../../../../../lib/inherits'),m=K?require('utils/form-validator'):require('./form-validator'),S=K?require('utils/routing'):require('../../../../../lib/routing'),p={id:'validator-'+oa.v4(),plugin:this.plugin,on:K?on:null,eventData:{},target:K?document:null,errors:{},initialized:!1,isReady:!1,rules:{},$forms:{},getFormById:null,validateFormById:null,setOptions:null,
resetErrorsDisplay:null,resetFields:null},da={id:null,plugin:this.plugin,on:K?on:null,eventData:{},target:K?document:null,cachedErrors:{},binded:!1,unbinded:!1,withUserBindings:!1,rules:{},setOptions:null,send:null,isValidating:null,isSubmitting:null,submit:null,destroy:null,resetErrorsDisplay:null,resetFields:null},ya={},N={},L=null,C={url:'',method:'GET',isSynchrone:!1,withCredentials:!1,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}},
B=function(e,b,h){h='undefined'!=typeof h?{id:h}:null;var n={},x;for(x in b)n[x]=b[x];if('undefined'!=typeof e&&0<e.count()){try{Ia(e,''),Ka(e)}catch(r){throw r;}return M(h,n,null,p.rules)}return new m(n)},u=function(e){C=e=Y(e,C)},z=function(e){var b=null;if(!p.$forms)throw Error('`$forms` collection not found');if('undefined'==typeof e)throw Error('[ FormValidator::getFormById(formId) ] `formId` is missing');e=e.replace(/#/,'');if(null!=document.getElementById(e)&&'undefined'==typeof p.$forms[e]){var h=
document.getElementById(e),n,x=typeof(0<ya.count())?ya:p.rules;h.getAttribute?(id=h.getAttribute('id')||'form.'+oa.v4(),id!==h.getAttribute('id')&&h.setAttribute('id',id)):(id='form.'+oa.v4(),h.setAttribute('id',id));h.id=da.id=id;if('undefined'!=typeof h.id&&'null'!=h.id&&''!=h.id){da.target=h;p.$forms[h.id]=Y({},da);if(n=h.getAttribute('data-gina-form-rule')){n=n.replace(/\-|\//g,'.');if('undefined'==typeof x[n])throw Error('['+h.id+'] no rule found with key: `null`');n=x[n]}'string'==typeof h.id&&
'undefined'!=typeof x[h.id.replace(/\-/g,'.')]?$target=p.$forms[h.id].target:'object'==typeof h.id?(delete p.$forms[h.id],x=h.attributes.getNamedItem('id').nodeValue||'form.'+oa.v4(),h.setAttribute('id',x),h.id=x,da.target=h,p.$forms[x]=Y({},da),$target=p.$forms[x].target):$target=p.$forms[h.id].target;n?mb($target,n):mb($target)}}'undefined'!=typeof p.$forms[e]&&(p.$forms[e].withUserBindings=!0,b='undefined'!=typeof this.$forms&&'undefined'==typeof this.$forms[e]?this.$forms[e]=p.$forms[e]:p.$forms[e]);
if(!b)throw Error('Validator::getFormById(...) exception: could not retrieve form `'+e+'`');b.binded||(mb(b.target),b=p.$forms[e]);U&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),h={id:e,rules:p.$forms[e].rules},'undefined'!=typeof p.$forms[e].errors&&(h.errors=p.$forms[e].errors),window.ginaToolbar.update('forms',h));return b},y=function(){var e=!1,b=null;gina.hasPopinHandler&&gina.popinIsBinded&&(b=gina.popin.getActivePopin());b&&b.isOpen&&
(e=!0);return e},J=function(e,b){var h=typeof(0<ya.count())?ya:p.rules;if(!p.$forms)throw Error('`$forms` collection not found');if('undefined'!=typeof e&&'undefined'!=typeof p.$forms[e])return p.$forms[e];if('undefined'==typeof e)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)e=this.id;else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `formId` is missing');if('string'==typeof e)e=e.replace(/#/,'');else{if('object'!=typeof e||Array.isArray(e))throw Error('[ FormValidator::validateFormById(formId[, customRule]) ] `formId` should be a `string`');
var n=e.form;e=n.getAttribute('id')||'form.'+oa.v4();n.setAttribute('id',e)}var x=document.getElementsByTagName('form');for(var r={},A=0,W=x.length;A<W;++A)n=x[A].getAttribute('id')||null,'undefined'==typeof r[n]?r[n]=!0:'undefined'==typeof p.$forms[n]||p.$forms[n].warned||(gina.popinIsBinded?console.warn('Popin/Validator::bindForm($target, customRule): `'+n+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.\n Check inside your popin content'):console.warn('Validator::bindForm($target, customRule): `'+
n+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.'),p.$forms[n].warned=!0);if('undefined'!=typeof this.$forms&&'undefined'!=typeof p.$forms[e])x=this.$forms[e]=p.$forms[e];else{n=document.getElementById(e);da.id=e;da.target=n;x=this.$forms[e]=p.$forms[e]=Y({},da);if('undefined'==typeof b)if(r=e.replace(/\-/g,'.'),'undefined'!=typeof h)x.rule=Da(r);else{if('undefined'!=typeof x.target&&null!==x.target&&x.target.getAttribute('data-gina-form-rule'))if(r=x.target.getAttribute('data-gina-form-rule').replace(/\-|\//g,
'.'),'undefined'!=typeof h)x.rule=Da(r);else throw Error('[ FormValidator::validateFormById(formId) ] using `data-gina-form-rule` on form `'+x.target+'`: no matching rule found');}else if(r=b.replace(/\-|\//g,'.'),'undefined'!=typeof h)x.rule=Da(r);else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+b+'` is not a valid rule');n&&'undefined'!=typeof this.isPopinContext&&/true/i.test(this.isPopinContext)&&(n.isPopinContext=this.isPopinContext);n&&!x.binded&&mb(n,r)}if(!x)throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+
e+'` not found');return x||null},q=function(e){var b=e.form.getAttribute('id');if(!/^true$/i.test(p.$forms[b].isValidating)){var h=e.parentNode;e=!1;b=h.getElementsByTagName('div');/form\-item\-warning/.test(h.className)?h.className=h.className.replace(/form\-item\-warning/,'form-item-error'):/form\-item\-error/.test(h.className)&&(h.className=h.className.replace(/form\-item\-error/,'form-item-warning'),e=!0);h=0;for(var n=b.length;h<n;++h)if(/form\-item\-error\-message/.test(b[h].className)){b[h].className=
e?b[h].className+' hidden':b[h].className.replace(/(\s+hidden|hidden)/,'');break}}},v={},F=function(e,b,h,n){if(U)var x=null;var r=!1;if('undefined'!=typeof e.dataset.ginaFormIsResetting&&/^(true)$/i.test(e.dataset.ginaFormIsResetting))b={},v={},e.dataset.ginaFormIsResetting=!1;else if(/^(true)$/i.test(e.dataset.ginaFormLiveCheckEnabled)&&'undefined'!=typeof n){var A='string'!=typeof e.id?e.getAttribute('id'):e.id;'undefined'==typeof v[A]&&(v[A]={});if(0<b.count()){if(v[A][n]={},v[A][n]=Y(b[n],v[A][n]),
0==v[A][n].count()&&delete v[A][n],b=v[A],!p.$forms[A].sent||p.$forms[A].isValidating)r=!0}else'undefined'!=typeof v[A][n]&&(delete v[A][n],'undefined'!=typeof window.gina.validator.$forms[A].errors&&'undefined'!=typeof window.gina.validator.$forms[A].errors[n]&&delete window.gina.validator.$forms[A].errors[n]),'undefined'!=typeof p.$forms&&'undefined'!=typeof p.$forms[A]&&'undefined'!=typeof p.$forms[A].errors&&0==p.$forms[A].errors.count()&&Pb(e,!0),'undefined'!=typeof v[A]&&0==v[A].count()?delete v[A]:
b=v[A]}var W=null;A=e.getAttribute('id');h='undefined'!=typeof h?h:{};for(var P=0,aa=e.length;P<aa;++P){var Q=e[P];if('undefined'==typeof n||n==Q.name){if(/form\-item\-wrapper$/.test(Q.parentNode.className)){var w=Q.parentNode.parentNode;var ja=Q.parentNode}else w=Q.parentNode,ja=Q;var ua=Q.getAttribute('name');var na=Q.getAttribute('data-gina-form-errors');if(ua){if('undefined'!=typeof b[ua]&&!/(form\-item\-error|form\-item\-warning)/.test(w.className)){w.className=r?w.className+(''==w.className?
'form-item-warning':' form-item-warning'):w.className+(''==w.className?'form-item-error':' form-item-error');W=document.createElement('div');W.className=r?'form-item-error-message hidden':'form-item-error-message';for(var la in b[ua])'stack'!=la&&(w=document.createElement('p'),w.appendChild(document.createTextNode(b[ua][la])),W.appendChild(w)),U&&(x||={},x[ua]||(x[ua]={}),x[ua][la]=b[ua][la]);'hidden'!=ja.type&&insertAfter(ja,W)}else if('undefined'==typeof b[ua]&&/(form\-item\-error|form\-item\-warning)/.test(w.className)||
'undefined'!=typeof b[ua]&&0==b[ua].count()&&/(form\-item\-error|form\-item\-warning)/.test(w.className)){ua=w.getElementsByTagName('div');ja=0;for(na=ua.length;ja<na;++ja)if(/form\-item\-error\-message/.test(ua[ja].className)){ua[ja].parentElement.removeChild(ua[ja]);break}w.className=w.className.replace(/(\s+form\-item\-error|form\-item\-error|\s+form\-item\-warning|form\-item\-warning)/,'')}else if('undefined'!=typeof b[ua]&&na){w=w.getElementsByTagName('div');na=0;for(var Ba=w.length;na<Ba;++na)if('form-item-error-message'==
w[na].className){w[na].parentElement.removeChild(w[na]);W=document.createElement('div');W.setAttribute('class','form-item-error-message');for(la in b[ua])w=document.createElement('p'),w.appendChild(document.createTextNode(b[ua][la])),W.appendChild(w),U&&(x||={},x[ua]||(x[ua]={}),x[ua][la]=b[ua][la]);break}W&&'hidden'!=ja.type&&insertAfter(ja,W)}if('undefined'!=typeof n&&n===Q.name)break}}}x?(triggerEvent(gina,e,'error.'+A,b),U&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||
(gina.forms.errors={}),e={id:A,errors:x},window.ginaToolbar.update('forms',e))):U&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),e={id:A,errors:{}},K&&window.ginaToolbar.update('forms',e));if(gina&&K&&U&&p.$forms[A].isSubmitting&&/^true$/i.test(p.$forms[A].isSubmitting)&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&h)try{window.ginaToolbar.update('data-xhr',h)}catch(za){throw za;}},H=function(e){var b=null;'undefined'==typeof e&&
'undefined'!=typeof this.id&&(e=this.id);/^string$/i.test(typeof e)?(b=e.replace(/#/,''),b=document.getElementById(b)):e instanceof HTMLFormElement?b=e:/^object$/i.test(typeof e)&&(b=e.target);if(!b)throw Error('[ FormValidator::resetErrorsDisplay([ formId | <form> ]) ] `'+e+'` not found');b.dataset.ginaFormIsResetting=!0;F(b,{});return b},R=function(e){if('undefined'==typeof e){var b='undefined'!=typeof this.target?this.target.getAttribute('id'):this.getAttribute('id');e=p.$forms[b]}else if('string'==
typeof e){b=e.replace(/#/,'');if('undefined'==typeof p.$forms[b])throw Error('[ FormValidator::resetErrorsDisplay([formId]) ] `'+e+'` not found');e=p.$forms[b]}if(e.fieldsSet){var h;for(h in e.fieldsSet){b=document.getElementById(h);var n=b.tagName.toLowerCase();var x=b.tagName;/textarea/i.test(x)?(x=e.fieldsSet[h].defaultValue,b.value=x,triggerEvent(gina,b,'change')):'input'==n?(x=e.fieldsSet[h].defaultValue,/$(on|true|false)$/i.test(x)&&(x=/$(on|true)$/i.test(x)?!0:!1),/^(checkbox|radio)$/i.test(b.type)?
b.checked=e.fieldsSet[h].defaultChecked:/^(checkbox|radio)$/i.test(b.type)||(b.value=x),triggerEvent(gina,b,'change')):'select'==n&&(x=e.fieldsSet[h].selectedIndex||0,b.selectedIndex=x,b.dataset.value=b.options[b.selectedIndex].value,triggerEvent(gina,b,'change'))}}return e},sa=function(){var e=null,b=null;'undefined'!=typeof this.getAttribute?(e=this.getAttribute('id'),b=this):'undefined'!=typeof this.target&&null!=this.target&&'undefined'!=typeof this.target.getAttribute&&(e=this.target.getAttribute('id'),
b=this.target);if('undefined'==typeof p.$forms[e])throw Error('[ FormValidator::submit() ] not `$form` binded. Use `FormValidator::getFormById(id)` or `FormValidator::validateFormById(id)` first ');triggerEvent(gina,b,'submit');return this},T=function(e,b){var h=this.target,n=h.getAttribute('id'),x=p.$forms[n]||this,r=null,A=null,W=null,P=null;if(!('undefined'!=typeof x.isSending&&/^true$/i.test(x.isSending)||'undefined'!=typeof x.sent&&/^true$/i.test(x.sent))){p.$forms[n].isSending=!0;b='undefined'!=
typeof b?Y(b,C):C;'undefined'!=typeof x.id&&(b.headers['X-Gina-Form-Id']=x.id,'undefined'!=typeof gina.forms.rules&&0<x.rules.count()&&'undefined'!=typeof x.rules[x.id]&&(b.headers['X-Gina-Form-Rule']=x.id+'@'+gina.config.bundle));'undefined'!=typeof x.target.dataset.ginaFormRule&&(b.headers['X-Gina-Form-Rule']=x.target.dataset.ginaFormRule+'@'+gina.config.bundle);(P=h.getAttribute('data-gina-form-event-on-submit-success')||h.getAttribute('data-gina-form-event-on-submit-error')?!0:!1)&&fa(x);var aa=
h.getAttribute('action')||b.url,Q=h.getAttribute('method')||b.method;Q=Q.toUpperCase();b.method=Q;b.url=aa;L||=setupXhr(b);aa=h.getAttribute('enctype')||b.headers['Content-Type'];if(b.withCredentials){if('withCredentials'in L)b.isSynchrone?L.open(b.method,b.url,b.isSynchrone):L.open(b.method,b.url);else if('undefined'!=typeof XDomainRequest)L=new XDomainRequest,L.open(b.method,b.url);else{L=null;r='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,
h,'error.'+n,r);return}L.responseType='undefined'!=typeof b.responseType?b.responseType:'';L.withCredentials=!0}else b.isSynchrone?L.open(b.method,b.url,b.isSynchrone):L.open(b.method,b.url);for(var w in b.headers)'Content-Type'==w&&'undefined'!=typeof aa&&null!=aa&&''!=aa||L.setRequestHeader(w,b.headers[w]);if(L){L.onreadystatechange=function(za){x.isSubmitting=!1;x.isSending=!1;setTimeout(function(){x.sent=!1},1E3);za=/Google Inc/i.test(navigator.vendor)?50:0;2==L.readyState&&(W=/^attachment;/.test(L.getResponseHeader('Content-Disposition'))?
!0:!1,!L.responseType&&W&&(L.responseType='blob'));if(4==L.readyState){var Ra=null,Ua=null,rb=L.getResponseHeader('Content-Type');if(/^2/.test(L.status)){try{if(/blob/.test(L.responseType)||W){if('undefined'==typeof rb||null==rb)rb='application/octet-stream';Ua=new Blob([this.response],{type:rb});var tb=document.createElement('a');tb.style='display: none';document.body.appendChild(tb);var Gb=window.URL.createObjectURL(Ua);tb.href=Gb;var Nb=L.getResponseHeader('Content-Disposition');tb.download=Nb.match('=(.*)')[0].substr(1);
tb.click();window.URL.revokeObjectURL(Gb);r={status:L.status,statusText:L.statusText,responseType:Ua.type,type:Ua.type,size:Ua.size}}else r=L.responseText;/\/json/.test(rb)&&(r=JSON.parse(L.responseText),'undefined'==typeof r.status&&(r.status=L.status));if(/\/html/.test(rb)&&(r={contentType:rb,content:L.responseText},'undefined'==typeof r.status&&(r.status=L.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler&&(Ra=gina.popin.getActivePopin()))){A={};try{A=(new DOMParser).parseFromString(r.content,
'text/html').getElementById('gina-without-layout-xhr-data'),A=JSON.parse(decodeURIComponent(A.value)),XHRView=(new DOMParser).parseFromString(r.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&U&&typeof window.ginaToolbar&&'undefined'!=typeof A&&window.ginaToolbar.update('data-xhr',A),gina&&U&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(X){throw X;}Ra.loadContent(r.content);
r=A;triggerEvent(gina,h,'success.'+n,r);return}A=x.eventData.success=r;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&A)try{U&&'undefined'!=typeof A&&!/\/html|\/json/.test(rb)&&window.ginaToolbar.update('data-xhr',A)}catch(X){throw X;}/^gina\-upload/i.test(n)&&ca(gina,h,'success',n,r);var Ab=!1;'undefined'!=typeof r.isXhrRedirect&&/^true$/i.test(r.isXhrRedirect)&&(Ab=!0);if('undefined'!=typeof gina.popin&&gina.hasPopinHandler&&'undefined'!=typeof r.popin||'undefined'!=typeof gina.popin&&
gina.hasPopinHandler&&'undefined'!=typeof r.location&&Ab){Ra=gina.popin.getActivePopin();if(!Ra&&'undefined'!=typeof r.popin){if('undefined'!=typeof r.popin&&'undefined'==typeof r.popin.name)throw Error('To get a `$popin` instance, you need at list a `popin.name`.');Ra=gina.popin.getPopinByName(r.popin.name);if(!Ra)throw Error('Popin with name: `'+r.popin.name+'` not found.');}if('undefined'!=typeof r.popin&&'undefined'!=typeof r.popin.close){Ra.isRedirecting=!1;Ra.close();var Vb=r.popin.reload?r.popin.reload:
!1;r.popin.location||r.popin.url||(delete r.popin,Vb&&(r.popin={reload:Vb}))}if('undefined'!=typeof r.popin&&'undefined'!=typeof r.popin.location||'undefined'!=typeof r.popin&&'undefined'!=typeof r.popin.url||'undefined'!=typeof r.location&&Ab){Ab=null;Ra&&(Ab=Ra.name,Ra.isRedirecting=!0);'undefined'!=typeof r.popin&&'undefined'!=typeof r.popin.target&&(r.popin.target='_'+r.popin.target);var Ya=r.location||r.popin.location||r.popin.url;if('undefined'!=typeof r.popin&&'undefined'!=typeof r.popin.name&&
Ab!=r.popin.name){Ra&&Ra.close();Ab=r.popin.name;Ra=gina.popin.getPopinByName(Ab);if(!Ra)throw Error('Popin with name `'+Ab+'` not found !');Ra.load(Ra.name,Ya,Ra.options)}else Ra&&Ra.load(Ra.name,Ya,Ra.options);if(Ra)return setTimeout(function(X){X.isOpen||X.open()},50,Ra)}}triggerEvent(gina,h,'success.'+n,r);P&&triggerEvent(gina,h,'success.'+n+'.hform',r)}catch(X){r={status:422,error:X.message,stack:X.stack};A=x.eventData.error=r;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&
A)try{U&&'undefined'!=typeof A&&window.ginaToolbar.update('data-xhr',A)}catch(ka){throw ka;}/^gina\-upload/i.test(n)&&ca(gina,h,'error',n,r);triggerEvent(gina,h,'error.'+n,r);P&&triggerEvent(gina,h,'error.'+n+'.hform',r)}if('undefined'!=typeof r&&'undefined'!=typeof r.location)return window.location.hash='',r.location=/^http/.test(r.location)||/^\//.test(r.location)?r.location:location.protocol+'//'+r.location,setTimeout(()=>{window.location.href=r.location},za)}else if(0!=L.status)if(r={status:L.status},
/blob/.test(L.responseType)){Ua=new Blob([this.response],{type:'text/plain'});var fb=new FileReader,ia='';fb.addEventListener('loadend',X=>{/string/i.test(typeof X.srcElement.result)?ia+=X.srcElement.result:'object'==typeof X.srcElement.result?r=Y(r,X.srcElement.result):r.message+=X.srcElement.result;if(/2/.test(fb.readyState)){if(/^(\{|\[)/.test(ia))try{r=Y(r,JSON.parse(ia))}catch(ka){r=Y(r,ka)}r.message||delete r.message;A=x.eventData.error=r;if(gina&&U&&'undefined'!=typeof window.ginaToolbar&&
window.ginaToolbar&&A)try{window.ginaToolbar.update('data-xhr',A)}catch(ka){throw ka;}/^gina\-upload/i.test(n)&&ca(gina,h,'error',n,r);triggerEvent(gina,h,'error.'+n,r);P&&triggerEvent(gina,h,'error.'+n+'.hform',r)}});fb.readAsText(Ua)}else{if(/^(\{|\[)/.test(L.responseText))try{r=Y(JSON.parse(L.responseText),r)}catch(X){r=Y(X,r)}else'object'==typeof L.responseText?r=Y(L.responseText,r):r.message=L.responseText;if('undefined'!=typeof r&&'undefined'!=typeof r.error&&r.fields&&'object'==typeof r.fields){Ya=
'undefined'!=typeof r.message?r.message:null;za={};for(Ab in r.fields)Ra={},Ra[Ab]={},Ra[Ab].isApiError=r.fields[Ab],Ya&&!Ra[Ab].isApiError&&(Ra[Ab].isApiError=r.error),za[Ab]=Ra[Ab],F(x.target,Ra,e,Ab);r.fields=za}A=x.eventData.error=r;if(gina&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&A)try{window.ginaToolbar.update('data-xhr',A)}catch(X){throw X;}/^gina\-upload/i.test(n)&&ca(gina,h,'error',n,r);triggerEvent(gina,h,'error.'+n,r);P&&triggerEvent(gina,h,'error.'+n+'.hform',r)}}};
L.onprogress=function(za){var Ra='0';za.lengthComputable&&(Ra=za.loaded/za.total,Ra=parseInt(100*Ra));za={status:100,progress:Ra};x.eventData.onprogress=za;triggerEvent(gina,h,'progress.'+n,za)};L.ontimeout=function(za){r={status:408,error:'Request Timeout'};x.eventData.ontimeout=r;/^gina\-upload/i.test(n)&&ca(gina,h,'error',n,r);triggerEvent(gina,h,'error.'+n,r);P&&triggerEvent(gina,h,'error.'+n+'.hform',r)};e||(e=event.detail.data);if(e){b=!1;if('object'==typeof e){w=[];Q=0;var ja={};try{if(e instanceof
FormData){var ua=event.currentTarget.getAttribute('data-gina-form-upload-group')||'untagged',na,la;for([na,la]of e.entries())la instanceof File?(b||=!0,w[Q]={key:na,group:ua,file:la,bin:''},++Q):ja[na]=la}else e=JSON.stringify(e);if(b&&0<w.length){var Ba='--ginaWKBoundary'+oa.v4().replace(/\-/g,'');return Ja(w,Ba,'',0,function(za,Ra,Ua){if(za)/^gina\-upload/i.test(n)&&ca(gina,h,'error',n,za),triggerEvent(gina,h,'error.'+n,za),P&&triggerEvent(gina,h,'error.'+n+'.hform',za);else return Ua&&(L.setRequestHeader('Content-Type',
'multipart/form-data; boundary='+Ba),L.send(Ra),x.sent=!0,U&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),window.ginaToolbar.update('forms',{id:n,sent:Ra}))),!1})}'undefined'!=typeof ja&&0<ja.count()&&(e=JSON.stringify(ja))}catch(za){/^gina\-upload/i.test(n)&&ca(gina,h,'error',n,za),triggerEvent(gina,h,'error.'+n,za),P&&triggerEvent(gina,h,'error.'+n+'.hform',za)}}b||('undefined'!=typeof aa&&null!=aa&&''!=aa&&L.setRequestHeader('Content-Type',
aa),L.send(e))}else'undefined'!=typeof aa&&null!=aa&&''!=aa&&L.setRequestHeader('Content-Type',aa),L.send();x.sent=!0;U&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),ua={id:n,sent:'string'==typeof e?JSON.parse(e):e},window.ginaToolbar.update('forms',ua))}}},ca=function(e,b,h,n,x){e=b.uploadProperties||null;if(!e)throw Error('No uploadProperties found !!');b=document.getElementById(e.uploadTriggerId);n=null;var r=x.files||[],A=null;e.hasPreviewContainer&&
(n=document.getElementById(e.previewContainer.id))&&(n.innerHTML='');e.errorField&&(A=document.getElementById(e.errorField));A&&(A.style.display='none');if(A&&'success'!=h){var W=x.message||x.error;A.innerHTML='<p>'+W+'</p>';fadeIn(A)}else if(A||'success'==h)for(h=0,x=r.length;h<x;++h){var P=n.id.replace(/\-preview/,'-'+h+'-reset-trigger');W=!1;A=document.getElementById(P);var aa=['reset','js-upload-reset'];A?(/a/i.test(A.tagName)&&(A.href='#'),A.innerHTML&&''!=A.innerHTML||(A.innerHTML=b.getAttribute('data-gina-form-upload-reset-label')||
'Reset'),'undefined'==typeof A.className&&(A.className=''),P=Y(A.className.split(/\s+/g),aa),A.className=P.join(' ')):(W=!0,A=document.createElement('A'),A.href='#',A.innerHTML=b.getAttribute('data-gina-form-upload-reset-label')||'Reset',A.className=aa.join(' '),A.id=P);A.style.display='none';if('undefined'==typeof r[h].preview&&e.hasPreviewContainer&&/^image/.test(r[h].mime)&&''!=r[h].location){P=document.createElement('IMG');P.src=r[h].tmpUri;P.style.display='none';P.setAttribute('data-upload-original-filename',
r[h].originalFilename);P.setAttribute('data-upload-reset-link-id',A.id);aa=n.getAttribute('data-preview-max-width')||null;if(P.width&&aa&&P.width>aa){var Q=P.width/aa;P.width=aa;P.height/=Q}else!P.width&&aa&&(P.width=aa);/ul/i.test(e.previewContainer.tagName)?(aa=document.createElement('LI'),aa.className='item',aa.appendChild(P),n.appendChild(aa)):n.appendChild(P);fadeIn(P)}P=e.uploadFields[h];for(var w in P)if('name'==w&&''!=P[w].value||!r[h][w]||'preview'==w&&'undefined'==typeof r[h][w]||/(height|width)/i.test(w)&&
!/^image/.test(r[h].mime))/(preview|height|width)/i.test(w)&&(aa=document.getElementById(P[w].id))&&aa.parentNode.removeChild(aa);else if(P[w].value=r[h][w],'preview'==w)for(var ja in r[h][w])if('undefined'!=typeof r[h][w][ja]&&'undefined'!=typeof P[w][ja]&&(P[w][ja].value=r[h][w][ja]),'tmpUri'==ja&&e.hasPreviewContainer){Q=document.createElement('IMG');Q.src=r[h][w].tmpUri;Q.style.display='none';Q.setAttribute('data-upload-original-filename',r[h].originalFilename);Q.setAttribute('data-upload-preview-original-filename',
r[h][w].originalFilename);Q.setAttribute('data-upload-reset-link-id',A.id);if(aa=n.getAttribute('data-preview-max-width')||null)Q.width=aa;/ul/i.test(e.previewContainer.tagName)?(aa=document.createElement('LI'),aa.className='item',aa.appendChild(Q),n.appendChild(aa)):n.appendChild(Q);fadeIn(Q)}e.hasPreviewContainer&&(/ul/i.test(e.previewContainer.tagName)?(aa=document.createElement('LI'),aa.className='item',W&&aa.appendChild(A),n.appendChild(aa)):W&&n.appendChild(A));hb('reset',b,h);fadeIn(A)}else throw Error(W);
},ea=function(e,b){console.debug(b+' input files');var h=/reset/i.test(b)?!0:!1,n=null,x=null,r=document.getElementById(e.id+'-preview').childNodes,A=null,W=e.customFiles,P=[];for(let aa=0,Q=r.length;aa<Q;aa++)if(/img/i.test(r[aa].tagName)){h?(n=r[aa].getAttribute('data-upload-original-filename'),P.push(n),(x=r[aa].getAttribute('data-upload-preview-original-filename'))&&P.push(x)):(n=r[aa].src.substr(r[aa].src.lastIndexOf('/')+1),P.push(n));for(let w=0,ja=W.length;w<ja;w++)if(W[w].name==n){A=h?document.getElementById(r[aa].getAttribute('data-upload-'+
b+'-link-id')):document.getElementById(W[w].deleteLinkId);A.style.display='none';r[aa].style.display='none';W.splice(w,1);e.customFiles=W;h&&(e.value=W.join(', C:\\fakepath\\'));n=new RegExp('^'+(e.name+'['+w+']').replace(/\-|\[|\]|\./g,'\\$&'));for(let na=0,la=e.form.length;na<la;na++)if(x=e.form[na].dataset.ginaFormUploadIsLocked||!1,n.test(e.form[na].name)&&!/true/i.test(x)&&(e.form[na].remove(),la--,na--,gina&&U&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar))try{window.ginaToolbar.update('data-xhr',
{files:W})}catch(Ba){throw Ba;}x=e.getAttribute('data-gina-form-upload-'+b+'-action');if(!x||'undefined'==typeof x||''==x||/404/.test(x))throw Error('input file `'+e.id+'` error: `data-gina-form-upload-'+b+'-action` is required. You need to provide a valide url.');(n=e.getAttribute('data-gina-form-upload-'+b+'-method'))&&'undefined'!=typeof n&&''!=n?n=n.toUpperCase():h?n='POST':(n=1<P.length?'POST':'DELETE',console.warn('`data-gina-form-upload-'+b+'-method` was not defined. Switching to `'+n+'` by default.'));
let ua=e.getAttribute('data-gina-form-upload-'+b+'-is-synchrone');if(/null/i.test(ua)||'undefined'==typeof n||''==n)ua=!0;x=setupXhr({url:x,method:n,isSynchrone:ua,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}});/GET|DELETE/i.test(n)?x.send():x.send(JSON.stringify({files:P}));if(/none/i.test(window.getComputedStyle(e).display)){if(/none/i.test(e.parentElement.style.display)){e.parentElement.style.display='block';return}e.style.display=
'block'}removeListener(gina,$uploadResetTrigger,'click',function(){A.remove();r[aa].remove()});Q--;aa--;break}}},Ja=function(e,b,h,n,x){var r=new FileReader;r.addEventListener('load',function(A){A.preventDefault();try{var W=this.result,P=void 0;A='';var aa=null;'undefined'==typeof P&&(P=8);var Q=P/8;switch(P){case 8:aa=new Uint8Array(W);break;case 16:aa=new Uint16Array(W);break;case 32:aa=new Uint32Array(W);break;default:aa=new Uint8Array(W)}var w=aa.length,ja=Math.pow(2,8)+Q;W=0;for(Q=P=null;W<w;W+=
ja)P=Math.min(ja,w-W),Q=aa.subarray(W,W+P),A+=String.fromCharCode.apply(null,Q);e[this.index].bin+=A;e[this.index].file.type||(e[this.index].file.type='application/octet-stream')}catch(ua){return x(ua,null,!0)}h+='--'+b+'\r\n';h+='Content-Disposition: form-data; name="'+e[this.index].key+'"; group="'+e[this.index].group+'"; filename="'+e[this.index].file.name+'"\r\nContent-Type: '+e[this.index].file.type+'\r\nContent-Length: '+e[this.index].bin.length+'\r\n\r\n';h+=e[this.index].bin+'\r\n';++this.index;
this.index==e.length?(h+='--'+b+'--',x(!1,h,!0)):Ja(e,b,h,this.index,x)},!1);r.index=n;e[n].bin='';r.readAsArrayBuffer(e[n].file)},fa=function(e){var b=e.target.getAttribute('data-gina-form-event-on-submit-success')||null;if(null!=b)if(/\((.*)\)/.test(b))eval(b);else e.on('success.hform',window[b]);b=e.target.getAttribute('data-gina-form-event-on-submit-error')||null;if(null!=b)if(/\((.*)\)/.test(b))eval(b);else e.on('error.hform',window[b])},pa=function(e){var b=null,h=e;if(!p.$forms)throw Error('`$forms` collection not found');
if('undefined'==typeof h)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)h=this.id;else throw Error('[ FormValidator::destroy(formId) ] `formId` is missing');if('string'==typeof h)h=h.replace(/#/,'');else{if('object'!=typeof h||Array.isArray(h))throw Error('[ FormValidator::destroy(formId) ] `formId` should be a `string`');e=h.form;h=e.getAttribute('id')||'form.'+oa.v4();e.setAttribute('id',h)}'undefined'!=typeof p.$forms[h]?b=p.$forms[h]:'undefined'!=typeof this.binded&&(b=this);if(b)addListener(gina,
b.target,'destroy.'+h,function(n){cancelEvent(n);delete p.$forms[h];removeListener(gina,n.currentTarget,n.type);removeListener(gina,n.currentTarget,'destroy')}),b=ib(b),triggerEvent(gina,b.target,'destroy.'+h);else throw Error('[ FormValidator::destroy(formId) ] `'+h+'` not found');},Ea=function(e){e='undefined'!=typeof e?e:p.rules;for(let n in e){var b=Object.getOwnPropertyNames(e[n]),h=0;let x=b.length,r=!1,A=null;for(;h<x;){if(/^_case_/.test(b[h])){r=!0;A=b[h];break}h++}r||'object'!=typeof e[n]||
Ea(e[n]);if(A&&Array.isArray(e[n][A].conditions)&&0<e[n][A].conditions.length)for(b=0,h=e[n][A].conditions.length;b<h;)'undefined'!=typeof e[n][A].conditions[b].rules&&0==e[n][A].conditions[b].rules.count()&&(e[n][A].conditions.splice(b,1),h--,b--),b++}},Ka=function(e){var b=JSON.stringify(e),h=b.match(/("@import\s+[-_a-z A-Z 0-9/.]+")/g)||[],n=[];for(let W=0,P=h.length;W<P;W++)0>n.indexOf(h[W])&&n.push(h[W]);h=n;n=b.match(/("_merging(.*))(\s+:|:)(.*)(",|")/g);p.rules||(p.rules={});if(h&&0<h.length){e=
{};for(let W=0,P=h.length;W<P;++W){var x=h[W].replace(/(@import\s+|"|')/g,'');var r=x.replace(/(@import\s+|"|')/g,'').split(/\s/g);for(let aa=0,Q=r.length;aa<Q;++aa){var A=r[aa].replace(/\//g,'.').replace(/\-/g,'.');'undefined'!=typeof p.rules[A]?(A=JSON.stringify(p.rules[A]),A=JSON.parse(A),A._comment='undefined'!=typeof A._comment?A._comment+'\n':'',A._comment+='Imported from `'+x+'`',A=JSON.stringify(A),b=b.replace(new RegExp(h[W],'g'),A),p.rules=JSON.parse(JSON.stringify(p.rules).replace(new RegExp(h[W],
'g'),'{}'))):console.warn('[formValidator:rules] <@import error> on `'+h[W]+'`: rule `'+r[aa]+'` not found. Ignoring.')}r=new RegExp(h[W]);if(x=n&&r.test(n.join())?!0:!1)for(let aa=0,Q=n.length;aa<Q;aa++)if(r.test(n[aa])){x=JSON.stringify(e);x=x.substr(1,x.length-1);aa<Q-1&&(x+=',');try{b=b.replace(new RegExp(n[aa],'g'),x),p.rules=JSON.parse(JSON.stringify(p.rules).replace(new RegExp(n[aa],'g'),'{}'))}catch(w){throw w;}}e={}}e=JSON.parse(b);Ia(e,'');try{Ea()}catch(W){console.error(W.stack)}}return e},
Oa=function(e){gina.hasValidator?(p=Y(p,gina.validator),p.on('init',function(b){p.isReady=!0;triggerEvent(gina,p.target,'ready.'+p.id,p)})):(p.target=document,p.setOptions=u,p.getFormById=z,p.validateFormById=J,p.resetErrorsDisplay=H,p.resetFields=R,p.handleErrorsDisplay=F,p.send=T,p.on('init',function(b){if('undefined'!=typeof e&&e.count())try{Ia(e,''),e=Ka(e),gina.forms.rules='undefined'!=typeof gina.forms.rules&&gina.forms.rules?Y(gina.forms.rules,e,!0):e,p.rules=Y(p.rules,JSON.clone(gina.forms.rules),
!0)}catch(W){throw W;}ya.count()||(ya=JSON.clone(p.rules));da.setOptions=u;da.getFormById=z;da.validateFormById=J;da.resetErrorsDisplay=H;da.resetFields=R;da.handleErrorsDisplay=F;da.submit=sa;da.send=T;da.unbind=ib;da.bind=mb;da.reBind=Ob;da.destroy=pa;b=0;for(var h=document.getElementsByTagName('form'),n=0,x=h.length;n<x;++n){if(h[n].getAttribute){var r=h[n].getAttribute('id')||'form.'+oa.v4();r!==h[n].getAttribute('id')&&h[n].setAttribute('id',r)}else r='form.'+oa.v4(),h[n].setAttribute('id',r);
da.id=r;da.target=h[n];p.$forms[r]=Y({},da);var A=h[n].getAttribute('data-gina-form-rule');if(A){A=A.replace(/\-|\//g,'.');'undefined'!=typeof e&&(p.$forms[r].rules[A]=p.rules[A]=ya[A]=Y(JSON.clone(eval('gina.forms.rules.'+A)),p.rules[A]));if('undefined'==typeof ya[A])throw Error('['+r+'] no rule found with key: `'+A+'`. Please check if json is not malformed @ /forms/rules/'+A.replace(/\./g,'/')+'.json');A=p.rules[A]}'string'==typeof r&&'undefined'!=typeof ya[r.replace(/\-/g,'.')]||'object'==typeof A?
(r=p.$forms[r].target,A?mb(r,A):mb(r),++b):('object'==typeof h[n].id?(delete p.$forms[h[n].id],r=h[n].attributes.getNamedItem('id').nodeValue||'form.'+oa.v4(),h[n].setAttribute('id',r),h[n].id=r,da.target=h[n],p.$forms[r]=Y({},da),r=p.$forms[r].target):r=p.$forms[h[n].id].target,A?mb(r,A):mb(r))}if(window.XMLHttpRequest)L=new XMLHttpRequest;else if(window.ActiveXObject)try{L=new ActiveXObject('Msxml2.XMLHTTP')}catch(W){try{L=new ActiveXObject('Microsoft.XMLHTTP')}catch(P){}}p.isReady=!0;gina.hasValidator=
!0;gina.validator=p;triggerEvent(gina,p.target,'ready.'+p.id,p)}));p.initialized=!0;return p},Ia=function(e,b){var h;for(h in e)if('object'==typeof e[h]&&'undefined'==typeof p.rules[b+h]){var n=h;/\[|\]/.test(h)&&(n=h.replace(/\[/g,'.').replace(/\]/g,''));p.rules[b+n]=e[h];Ia(e[h],b+n+'.')}},Da=function(e){if('undefined'!=typeof ya[e])return ya[e];var b=null;if('undefined'==typeof p.rules[e]){if(Ia(ya,''),ya=Ka(ya),b=ya[e],!b)return{}}else b=p.rules[e];b=JSON.clone(b);var h=new RegExp('^'+e),n=new RegExp('^'+
e+'.'),x=null,r=function(W,P,aa,Q,w,ja,ua){if(P.length){var na=Object.getOwnPropertyNames(W)[0],la=P[0];la=''==w?w+=la:w+'['+la+']';1==P.length&&(W[na]=Y(W[na],aa,!0));P.splice(0,1);la==na?r(W[na],P,aa,Q,la,ja,ua):'undefined'!=typeof W[na]?r(W[na],P,aa,Q,la,ja,ua):r(W,P,aa,Q,w,ja,ua)}},A;for(A in p.rules)A!=e&&h.test(A)&&(x=A.replace(n,''),/\./.test(x)&&(x=x.split(/\./g),r(b,x,p.rules[A],b,'',0,b.count()-1)));return ya[e]=b},cb=function(e,b,h,n,x,r,A){var W=window.gina._global;W.register({root:e||
null,obj:h||null,value:r||null,rootObj:A||null});if(x==n)return eval(root+'=value'),b=JSON.clone(rootObj),W.unregister(['root','obj','rootObj','value','valueType']),b;e=b[x].replace(/^\[|\]$/g,'');'undefined'!=typeof rootObj&&rootObj?root+=/^\d+$/.test(e)?'['+e+']':'["'+e+'"]':(rootObj={},root='rootObj',root+=/^\d+$/.test(e)?'['+e+']':'["'+e+'"]',eval(root+'=obj'));r=(h='undefined'!=typeof b[x+1]?b[x+1].replace(/^\[|\]$/g,''):null)&&parseInt(h)==h?[]:{};W.register({valueType:r});h&&eval(root+' = valueType');
if('undefined'==typeof obj[e])return/^\d+$/.test(h)?obj[e]=[]:obj[e]={},++x,cb(root,b,obj[e],n,x,value,rootObj);++x;return cb(root,b,obj[e],n,x,value,rootObj)},Fa=function(e,b,h,n,x){if(x>=n)return!1;var r=h[x].replace(/^\[|\]$/g,''),A=x<n-1&&'undefined'!=typeof h[x+1]?h[x+1].replace(/^\[|\]$/g,''):null;'undefined'==typeof e[r]&&(A&&/^\d+$/.test(A)?(parseInt(A),e[r]=[]):e[r]={});Array.isArray(e[r])?(A=cb(r,h,e[r],h.length,1,b,null),e[r]=Y(e[r],A)):x==n-1&&(e[r]=b);Fa(e[r],b,h,n,x+1)},Na=function(e){var b=
null,h={},n=null,x=function(W,P,aa,Q,w){if(w==Q)return W;var ja=P?Object.keys(aa)[w]:w;/\[(.*)\]/.test(ja)?(n=ja,b=ja.match(/(\[[-_\[a-z 0-9]*\]\]|\[[-_\[a-z 0-9]*\])/ig),ja=ja.match(/^[-_a-z 0-9]+\[{0}/ig),'undefined'==typeof W[ja]&&(W[ja]=Array.isArray(aa[n])?[]:{}),Fa(h,aa[n],b,b.length,0),W[ja]=Y(W[ja],h),h={}):W[ja]=aa[ja];++w;return x(W,P,aa,Q,w)},r='undefined'==typeof e?0:1,A=!1;Array.isArray(e)?r=e.length:'object'==typeof e&&(r=e.count(),A=!0);return x({},A,e,r,0)},Xa=function(e){var b=p.$forms[e.form.getAttribute('id')],
h=/^true$/i.test(e.disabled)?!0:!1;h&&'undefined'!=typeof b.rule&&'undefined'!=typeof b.rule[e.name]&&'undefined'!=typeof b.rule[e.name].exclude&&/^false$/i.test(b.rule[e.name].exclude)&&(h=!1);if(/^(radio|text|hidden|password|number|date|email)$/i.test(e.type)&&!h){var n=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,'value'),x=n.set;n.set=function(r){Object.defineProperty(this,'value',{set:x});var A='change.'+this.id;r===this.value&&r===this.defaultValue||r===this.value||(this.value=
r,console.debug('Value set: '+r),'undefined'!=typeof gina.events[A]&&(console.debug('trigger event on: ',this.name,A),triggerEvent(gina,this,A,r)));Object.defineProperty(this,'value',n)};Object.defineProperty(e,'value',n)}},qb=function(e,b,h,n){'undefined'==typeof n&&(n=!1);var x=e.rules,r=p.$forms[b.form.getAttribute('id')],A=/^true$/i.test(b.disabled)?!0:!1;A&&'undefined'!=typeof r.rule&&'undefined'!=typeof r.rule[b.name]&&'undefined'!=typeof r.rule[b.name].exclude&&/^false$/i.test(r.rule[b.name].exclude)&&
(A=!1);if(/^(radio|checkbox|text|hidden|password|number|date|email)$/i.test(b.type)&&!A||n&&!A){n=b.name;r=x[n]||null;if(!r&&(Ma(x,b),'undefined'==typeof x[n]))return;if(e.target.dataset.ginaFormLiveCheckEnabled&&r&&(n=[],r=null,A=0,/^(radio|checkbox)$/i.test(b.type)?r=/^(radio|checkbox)$/i.test(b.type)?'changed.'+b.id:'change.'+b.id:(addEventListener(gina,b,'focusout.'+b.id,function(P){P.preventDefault();clearTimeout(h)}),r='change.'+b.id,'undefined'==typeof gina.events[r]&&(n[A]=r,++A),r='keyup.'+
b.id,'undefined'==typeof gina.events[r]&&(n[A]=r,++A),r='focusin.'+b.id,'undefined'==typeof gina.events[r]&&(n[A]=r,++A),r='focusout.'+b.id),'undefined'==typeof gina.events[r]&&(n[A]=r,++A),0<n.length)){var W=!1;addListener(gina,b,n,function(P){P.preventDefault();clearTimeout(h);if(!W&&/^changed\./i.test(P.type)||!W&&/^(radio|checkbox)$/i.test(P.target.type))W=!0;else if(W&&/^changed\./i.test(P.type)||W&&/^(radio|checkbox)$/i.test(P.target.type))return!1;if('undefined'!=typeof p.$forms[P.target.form.getAttribute('id')].isSubmitting&&
/true/i.test(p.$forms[P.target.form.getAttribute('id')].isSubmitting))return!1;var aa=function(){console.debug('processing: '+P.target.name+'/'+P.target.id);if(!/^(radio|checkbox)$/i.test(P.target.type)&&P.target.value===P.target.defaultValue&&''!=P.target.value){var Q=p.$forms[P.target.form.getAttribute('id')].errors;if(Q&&0!=Q.count())F(P.target.form,Q,null,P.target.name);else return F(P.target.form,{},null,P.target.name),cancelEvent(P)}Q={};var w={};Q[P.target.name]=P.target.value;w[P.target.name]=
P.target;p.$forms[P.target.form.getAttribute('id')].isValidating=!0;M(P.target,Q,w,e.rules,function(ja){p.$forms[P.target.form.getAttribute('id')].isValidating=!1;ja.isValid()?F(P.target.form,{},ja.data,P.target.name):F(P.target.form,ja.error,ja.data,P.target.name);var ua=P.target.form,na=ja=null,la=null;na=Yb(ua,x);ja=na.fields;na=na.$fields;var Ba=ua.getAttribute('id');la=p.$forms[Ba].rules;p.$forms[Ba].isValidating=!0;M(ua,ja,na,la,function(za){p.$forms[Ba].isValidating=!1;console.debug('['+Ba+
'] onSilentGlobalLiveValidation: '+za.isValid(),za);var Ra=za.isValid();U&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:Ba,errors:za.error||{}}));Pb(ua,Ra);W=!1})})};if(/^changed\./i.test(P.type)||/^change\./i.test(P.type)&&'radio'==P.target.type)return function(Q,w){if(!(0<w))return++w,setTimeout(()=>{console.debug(' changed .... '+b.id);aa()},0)}(W,0);/^focusin\./i.test(P.type)?/\-error/.test(b.parentNode.className)&&
(console.debug('#1 you just focusin ....'+b.id,b.value),q(b)):/^focusout\./i.test(P.type)?/\-warning/.test(b.parentNode.className)&&(console.debug('#1 you just focusout ....'+b.id,b.value),q(b),F(b.form,p.$forms[b.form.getAttribute('id')].errors,null,b.name)):/^keyup\./i.test(P.type)?(b.ginaFormValidatorTestedValue=b.value,h=setTimeout(function(){-1<['91','17'].indexOf(''+P.keyCode)&&0==N.count()||(console.debug(' keyup ('+P.keyCode+') .... '+b.id,b.value,' VS ',b.ginaFormValidatorTestedValue+'(old)'),
aa())},1E3)):/^change\./i.test(P.type)&&!/^(checkbox)$/i.test(P.target.type)&&(console.debug(' change .... '+b.id),aa())})}}},bb=function(e,b){e.setSelectionRange?(e.focus(),e.setSelectionRange(b,b)):e.createTextRange&&(e=e.createTextRange(),e.collapse(!0),e.moveEnd('character',b),e.moveStart('character',b),e.select())},eb=function(e,b){if(document.activeElement&&document.activeElement.form){e=Array.prototype.filter.call(document.activeElement.form.querySelectorAll('a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), select:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])'),
function(x){return 0<x.offsetWidth||0<x.offsetHeight||x===document.activeElement});var h=e.indexOf(document.activeElement);if(-1<h){var n=e[h+1];b&&(n=e[h-1]);(n||e[0]).focus()}}},gc=function(e,b){e.setAttribute('readonly','readonly');addListener(gina,e,'focusout.'+e.id,function(h){h.preventDefault();clearTimeout(b);h=h.currentTarget;triggerEvent(gina,h,'change.'+h.id);h.setAttribute('readonly','readonly')});addListener(gina,e,'focusin.'+e.id,function(h){h.preventDefault();h.currentTarget.removeAttribute('readonly');
var n='keydown.'+h.currentTarget.id;'undefined'==typeof gina.events[n]&&addListener(gina,h.currentTarget,n,function(x){x.preventDefault();clearTimeout(b);var r=x.currentTarget,A=x.currentTarget.value,W=r.selectionStart,P=r.selectionEnd;r.removeAttribute('readonly');switch(x.keyCode){case 46:case 8:W!=P?(r.value=A.substr(0,W)+A.substr(P),0==W&&(r.value=A.substr(P))):r.value=0==W?A.substring(W+1):A.substr(0,W-1)+A.substr(P);x.currentTarget.setAttribute('readonly','readonly');setTimeout(()=>{r.removeAttribute('readonly');
setTimeout(()=>{W!=P?bb(r,W):0==W?bb(r,W):bb(r,W-1)},0)},0);break;case 9:N[16]&&N[9]?eb(r,!0):eb(r);break;case 13:case 16:break;case 37:console.debug('moving left ',W-1);bb(r,W-1);break;case 39:W+1<A.length+1&&bb(r,W+1);break;case 17:case 91:console.debug('CMD hit');x.preventDefault();break;case 67:if(N[67]&&N[91]||N[67]&&N[17]){r.setSelectionRange(W,P);document.execCommand('copy');break}case 86:if(N[86]&&N[91]||N[86]&&N[17]){W!=P&&(r.value=r.value.replace(A.substring(W,P),''));bb(r,W);document.execCommand('paste');
break}case 88:if(N[88]&&N[91]||N[88]&&N[17]){r.setSelectionRange(W,P);document.execCommand('cut');break}case 90:if(N[90]&&N[91]||N[90]&&N[17]){r.value=r.defaultValue;break}default:W!=P?(r.value=A.substr(0,W)+x.key,P-1<A.length&&(r.value+=A.substring(P))):r.value=0==W?x.key+A.substring(W):A.substr(0,W)+x.key+A.substr(P),x.currentTarget.setAttribute('readonly','readonly'),setTimeout(()=>{r.removeAttribute('readonly');setTimeout(()=>{bb(r,W+1)},0)},0)}})})},yb=function(e,b){if(/^(input|textarea)$/i.test(b.tagName)&&
'undefined'==typeof gina.events['registered.'+b.id]){/^file$/i.test(b.type)||Xa(b);switch(b.tagName.toLowerCase()){case 'textarea':qb(e,b,null,!0);break;default:qb(e,b,null),e=b.getAttribute('autocomplete'),/safari/i.test(navigator.userAgent)&&e&&/^(off|false)/i.test(e)&&gc(b,null)}gina.events['registered.'+b.id]=b.id}},hb=function(e,b,h){var n=b.id+'-'+h+'-'+e+'-trigger',x=document.getElementById(n);x||(n=b.getAttribute('data-gina-form-upload--'+h+ +e+'-trigger'),x=document.getElementById(n));x&&
'undefined'==typeof x.isBinded||x&&'undefined'!=typeof x.isBinded&&!/true/i.test(x.isBinded)?(addListener(gina,x,'click',function(r){r.preventDefault();ea(b,e)}),x.isBinded=!0):console.warn('[FormValidator::bindForm][upload]['+b.id+'] : did not find `upload '+e+' trigger`.\nPlease, make sure that your delete element ID is `'+n+'-'+e+'-trigger`, or add to your file input ('+b.id+') -> `data-gina-form-upload-'+e+'-trigger="your-custom-id"` definition.')},Fb=function(e,b){var h=function(n,x,r){var A=
null;switch(x){case 'data-gina-form-upload-action':A='upload-to-tmp-xml';break;case 'data-gina-form-upload-reset-action':A='upload-delete-from-tmp-xml'}var W=n.getAttribute(x);if(!W||''==W){A||console.warn('`'+x+'` definition not found for `'+n.id+'`. Trying to get default route.');var P=null;try{A&&(W=S.getRoute(A))}catch(aa){P=aa}W?(console.info('Ignore previous warnings regarding upload. I have found a default `'+x+'` route: `'+A+'@'+W.bundle+'`'),n.setAttribute('data-gina-form-upload-action',
W.toUrl())):(n='`'+x+'` needs to be defined to proceed for your `input[type=file]` with ID `'+n.id+'`\n'+P+'\n',r&&(r.innerHTML+=n.replace(/(\n|\r)/g,'<br>')),console.error(n))}};h(e,'data-gina-form-upload-action',b);h(e,'data-gina-form-upload-reset-action',b);h(e,'data-gina-form-upload-delete-action',b)},Ob=function(e,b,h){e=ib(e);mb(e.target,b);return h?h(e):e},ib=function(e){var b=null,h=null;try{if(e.getAttribute&&e.getAttribute('id'))if(h=e.getAttribute('id'),'undefined'!=typeof p.$forms[h])b=
p.$forms[h];else throw Error('form instance `'+h+'` not found');else if('undefined'!=typeof e.target)b=e,h=b.id;else throw Error('Validator::unbindForm($target): `$target` must be a DOM element\n'+err.stack);}catch(A){throw Error('Validator::unbindForm($target) could not unbind form `'+e+'`\n'+A.stack);}if('undefined'!=typeof b&&!b.binded)return b;removeListener(gina,b,'success.'+h);removeListener(gina,b,'error.'+h);b.target.getAttribute('data-gina-form-event-on-submit-success')&&removeListener(gina,
b,'success.'+h+'.hform');b.target.getAttribute('data-gina-form-event-on-submit-error')&&removeListener(gina,b,'error.'+h+'.hform');removeListener(gina,b,'validate.'+h);removeListener(gina,b,'validated.'+h);removeListener(gina,b,'submit.'+h);removeListener(gina,b,'reset.'+h);e=[];h=b.target.getElementsByTagName('button');if(0<h.length)for(let A=0,W=h.length;A<W;++A)e.push(h[A]);h=b.target.getElementsByTagName('a');if(0<h.length)for(let A=0,W=h.length;A<W;++A)e.push(h[A]);h=b.target.getElementsByTagName('input');
if(0<h.length)for(let A=0,W=h.length;A<W;++A)if(/^(hidden)$/i.test(h[A].type)||e.push(h[A]),/^(file)$/i.test(h[A].type)){var n=h[A].getAttribute('data-gina-form-virtual');if(n){var x=z(n).target;if(x){e.push(x);for(let P=0,aa=Ca.length;P<aa;P++){var r=Ca[P];'undefined'!=typeof gina.events[r+'.'+n+'.hform']&&gina.events[r+'.'+n+'.hform']==n&&removeListener(gina,x,r+'.'+n+'.hform')}}}}else for(let P=0,aa=Ca.length;P<aa;P++)n=Ca[P]+'.'+h[A].id,'undefined'!=typeof gina.events[n]&&gina.events[n]==h[A].id&&
removeListener(gina,h[A],n),n=Ca[P],'undefined'!=typeof gina.events[n]&&gina.events[n]==h[A].id&&removeListener(gina,h[A],n),n=h[A].id,'undefined'!=typeof gina.events[n]&&gina.events[n]==h[A].id&&removeListener(gina,h[A],n);h=b.target.getElementsByTagName('textarea');if(0<h.length)for(let A=0,W=h.length;A<W;++A)e.push(h[A]);h=b.target.getElementsByTagName('form');if(0<h.length)for(let A=0,W=h.length;A<W;++A)e.push(h[A]);e.push(b.target);for(let A=0,W=e.length;A<W;++A){h=e[A];n=h.getAttribute('id');
for(let P=0,aa=Ca.length;P<aa;P++)r=x=Ca[P],'undefined'!=typeof gina.events[r]&&gina.events[r]==n&&removeListener(gina,h,r),r=n,'undefined'!=typeof gina.events[r]&&gina.events[r]==n&&removeListener(gina,h,r),r=x+'.'+n,'undefined'!=typeof gina.events[r]&&gina.events[r]==n&&removeListener(gina,h,r),r=x+'.'+n,'undefined'!=typeof gina.events[r]&&gina.events[r]==r&&removeListener(gina,h,r),r=x+'.'+n+'.hform','undefined'!=typeof gina.events[r]&&gina.events[r]==n&&removeListener(gina,h,r)}evt=null;b.binded=
!1;return b},Ma=function(e,b){b=b.name;if(!e[b])for(let h in e)if(/^\//.test(h)&&(re=h.match(/\/(.*)\//).pop(),flags=h.replace('/'+re+'/',''),re=re.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),re=new RegExp(re,flags),re.test(b))){e[b]=e[h];break}},mb=function(e,b){var h=null,n=null,x=typeof(0<ya.count())?ya:p.rules;try{if(e.getAttribute&&e.getAttribute('id'))if(n=e.getAttribute('id'),'undefined'!=typeof p.$forms[n])h=p.$forms[n];else throw Error('form instance `'+n+'` not found');else throw Error('Validator::bindForm($target, customRule): `$target` must be a DOM element\n'+
err.stack);}catch(ia){throw Error('Validator::bindForm($target, customRule) could not bind form `'+e+'`\n'+ia.stack);}if('undefined'!=typeof h&&h.binded)return!1;console.debug('binding for: '+n);var r=!1,A=null,W='',P=null;'undefined'!=typeof b||'string'==typeof n&&'undefined'!=typeof x[n.replace(/\-|\//g,'.')]?(r=!0,A=b&&'object'==typeof b?b:b&&'string'==typeof b&&'undefined'!=typeof x[b.replace(/\-|\//g,'.')]?Da(b.replace(/\-|\//g,'.')):Da(n.replace(/\-|\//g,'.')),h.rules=A,U&&K&&'undefined'!=typeof window.ginaToolbar&&
window.ginaToolbar&&(gina.forms.rules||(gina.forms.rules={}),objCallback={id:n,rules:h.rules},window.ginaToolbar.update('forms',objCallback))):h.rules={};'undefined'==typeof h.target.dataset.ginaFormLiveCheckEnabled&&0<h.rules.count()?h.target.dataset.ginaFormLiveCheckEnabled=!0:h.target.dataset.ginaFormLiveCheckEnabled='undefined'!=typeof h.target.dataset.ginaFormLiveCheckEnabled?/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)?!0:!1:!1;h.fieldsSet||(h.fieldsSet={});P=null;e.getElementsByTagName('a');
b=e.getElementsByTagName('input');var aa=e.getElementsByTagName('textarea');P=e.getElementsByTagName('select');var Q={},w=[],ja={},ua=null,na={},la=null,Ba=null;for(let ia=0,X=aa.length;ia<X;++ia)Ma(h.rules,aa[ia]),Ba=aa[ia].getAttribute('id'),Ba&&''!=Ba||(Ba='textareas.'+oa.v4(),aa[ia].setAttribute('id',Ba)),h.fieldsSet[Ba]||(h.fieldsSet[Ba]={id:Ba,name:aa[ia].name||null,value:aa[ia].value||'',defaultValue:aa[ia].value||''}),/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)&&yb(h,aa[ia]);
for(let ia=0,X=b.length;ia<X;++ia){Ma(h.rules,b[ia]);Ba=b[ia].getAttribute('id');Ba&&''!=Ba||(Ba='input.'+oa.v4(),b[ia].setAttribute('id',Ba));h.fieldsSet[Ba]||(ua=b[ia].value,/$(on|true|false)$/i.test(ua)&&(ua=/$(on|true)$/i.test(ua)?!0:!1),h.fieldsSet[Ba]={id:Ba,name:b[ia].name||null,value:ua||!/^(checkbox|radio)$/i.test(b[ia].type)?'':b[ia].checked,defaultValue:/^(checkbox|radio)$/i.test(b[ia].type)?b[ia].checked:ua},/^(checkbox|radio)$/i.test(b[ia].type)&&'undefined'==typeof h.fieldsSet[Ba].defaultChecked&&
(h.fieldsSet[Ba].defaultChecked=/^(true|on)$/i.test(b[ia].checked)||/^(true|on)$/.test(ua)&&/^(checkbox)$/i.test(b[ia].type)?!0:!1,/^radio$/i.test(b[ia].type)&&(h.fieldsSet[Ba].value=b[ia].value,h.fieldsSet[Ba].defaultValue=b[ia].value)));/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)&&yb(h,b[ia]);if(ua=b[ia].getAttribute('data-gina-form-element-group'))0>w.indexOf(ua)&&w.push(ua),la=b[ia].getAttribute('name')||Ba,la===Ba&&b[ia].setAttribute('name',Ba),Q[Ba]={id:Ba,name:la,group:ua,target:b[ia]},
ja[b[ia].name]=new RegExp('^'+ua.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')),r&&('undefined'==typeof h.rules[b[ia].name]&&(h.rules[b[ia].name]={}),'undefined'!=typeof h.rules[b[ia].name].isRequired&&h.rules[b[ia].name].isRequired||(h.rules[b[ia].name].exclude=!0));if(0<ja.count())for(var za in ja)b[ia].name!=za&&(b[ia].getAttribute('data-gina-form-element-group'),ja[za].test(b[ia].name)&&(b[ia].disabled=!0,'undefined'==typeof na[za]&&(na[za]={}),na[za][b[ia].name]=b[ia]));if(/^file$/i.test(b[ia].type)){Ba=
b[ia].getAttribute('data-gina-form-upload-trigger');Ba||(Ba=b[ia].id);ua=null;la=(new DOMParser).parseFromString(e.innerHTML,'text/html');Ba&&(ua=document.getElementById(Ba));aa=document.getElementById(b[ia].id+'-error');Fb(b[ia],aa);if((aa=la.getElementById(Ba+'-preview'))&&ua&&!/none/i.test(window.getComputedStyle(aa).display)&&!/none/i.test(aa.parentElement.style.display)){la=0;console.debug('preview is visible ...');ua.customFiles=[];ua.form=e;aa=aa.childNodes;for(let ka=0,ra=aa.length;ka<ra;ka++){var Ra=
null;if(/ul/i.test(aa[ka].tagName))for(let Qa=0,Za=aa[ka].length;Qa<Za;Qa++){let db=$$els[ka];for(let Pa=0,xb=db.length;Pa<xb;Pa++)/img/i.test(db[Pa])&&(Ra=db[Pa],Ra.setAttribute(''),la++)}else/img/i.test(aa[ka].tagName)&&(Ra=aa[ka],deleteLinkId=Ba+'-'+la+'-delete-trigger',Ra=Ra.src.substr(Ra.src.lastIndexOf('/')+1),ua.customFiles.push({name:Ra,deleteLinkId}),hb('delete',ua,la),la++)}}addListener(gina,b[ia],'change',function(ka){ka.preventDefault();var ra=ka.currentTarget;ka=ra.files;ra.customFiles=
Array.from(ka);if(!ka.length)return!1;var Qa=ra.getAttribute('data-gina-form-upload-action'),Za=ra.getAttribute('name'),db='gina-upload-'+Za.replace(/\[/g,'-').replace(/\]/g,'-'+h.id);ra.setAttribute('data-gina-form-virtual',db);var Pa=ra.getAttribute('data-gina-form-upload-on-success'),xb=ra.getAttribute('data-gina-form-upload-on-error'),jb=null;if(0<ka.length){var ob=null;if(y()){ob=gina.popin.getActivePopin();ob.$target=(new DOMParser).parseFromString(ob.target.outerHTML,'text/html');ob.$target.getElementById(ob.id).innerHTML=
document.getElementById(ob.id).innerHTML;var pb=ob.$target.getElementById(db)}else pb=document.getElementById(db);if(!pb){try{pb=z(db)||null}catch(Tc){}pb||=y()?ob.$target.createElement('form'):document.createElement('form');pb.id=db;pb.action=Qa;pb.enctype='multipart/form-data';pb.method='POST';if('undefined'!=typeof ra.form){Qa='files';var sb=ra.getAttribute('data-gina-form-upload-prefix')||ra.name||ra.getAttribute('name'),lb=ra.id||ra.getAttribute('id'),Mb=!1,Db=ra.getAttribute('data-gina-form-upload-preview')||
lb+'-preview';Db=y()?ob.$target.getElementById(Db):document.getElementById(Db);'undefined'!=typeof Db&&(Mb=!0);sb&&(Qa=sb);sb=[];for(var Hb='name group originalFilename ext encoding size height width location mime preview'.split(' '),Jb=ra.form.getElementsByTagName('INPUT'),$b,Wb,Gc,qc,Lb=0,Nc=ka.length;Lb<Nc;++Lb){hb('reset',ra,Lb);sb[Lb]=null;$b=Qa+'['+Lb+']';qc=new RegExp('^'+$b.replace(/\[/g,'\\[').replace(/\]/g,'\\]'));for(var wc=0,xc=Jb.length;wc<xc;++wc)$b=Jb[wc].getAttribute('type'),jb=Jb[wc].getAttribute('data-gina-form-upload-error')||
lb+'-error'||null,$b&&/hidden/i.test($b)&&(Wb=Jb[wc],$b=/\[\w+\]$/i.test(Wb.name)?Wb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Wb.name,Gc=/\[\w+\]$/i.test(Wb.name)?Wb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Wb.name,Wb&&'undefiend'!=typeof $b&&-1<Hb.indexOf($b)&&qc.test(Wb.name)?(sb[Lb]||(sb[Lb]={}),/\[preview\]/i.test(Wb.name)?('undefined'==typeof sb[Lb].preview&&(sb[Lb].preview={}),sb[Lb].preview[$b]=Wb):sb[Lb][$b]=Wb):Wb&&'undefiend'!=typeof $b&&0>Hb.indexOf($b)&&qc.test(Wb.name)&&(sb[Lb]||
(sb[Lb]={}),/\[preview\]/i.test(Wb.name)?('undefined'==typeof sb[Lb].preview&&(sb[Lb].preview={}),sb[Lb].preview[Gc]=Wb):sb[Lb][Gc]=Wb));qc=0;for(wc=Hb.length;qc<wc;++qc)sb[Lb]||(sb[Lb]={}),'undefined'==typeof sb[Lb][Hb[qc]]&&($b=Qa+'['+Lb+']['+Hb[qc]+']',$newVirtualField=document.createElement('input'),$newVirtualField.type='hidden',$newVirtualField.id='input.'+oa.v4(),$newVirtualField.name=$b,$newVirtualField.value='',ra.form.appendChild($newVirtualField),sb[Lb][Hb[qc]]=ra.form[ra.form.length-1])}pb.uploadProperties=
{id:ra.form.id||ra.getAttribute('id'),uploadTriggerId:ra.id,$form:ra.form,errorField:jb,mandatoryFields:Hb,uploadFields:sb,hasPreviewContainer:Mb,isPopinContext:y()};Mb&&(pb.uploadProperties.previewContainer=Db)}Pa?pb.setAttribute('data-gina-form-event-on-submit-success',Pa):pb.setAttribute('data-gina-form-event-on-submit-success','onGenericXhrResponse');xb?pb.setAttribute('data-gina-form-event-on-submit-error',xb):pb.setAttribute('data-gina-form-event-on-submit-error','onGenericXhrResponse');y()?
document.getElementById(ob.id).appendChild(pb):document.body.appendChild(pb)}try{var sc=z(db),Sc=new FormData;ra=null;db=0;for(var Oc=ka.length;db<Oc;++db)ra=ka[db],Sc.append(Za,ra,ra.name);sc.send(Sc,{withCredentials:!0})}catch(Tc){throw Tc;}}})}}var Ua=function(ia,X){ia.setAttribute('data-value',ia.value);if(/^(true)$/i.test(X.target.dataset.ginaFormLiveCheckEnabled&&0<X.rules.count())){var ka={},ra={},Qa=null;Qa=ia.form;ka[event.target.name]=event.target.value;ra[event.target.name]=event.target;
p.$forms[Qa.getAttribute('id')].isValidating=!0;M(event.target,ka,ra,X.rules,function(Za){p.$forms[Qa.getAttribute('id')].isValidating=!1;Za.isValid()?F(Qa,{},Za.data,event.target.name):F(Qa,Za.error,Za.data,event.target.name);var db=Qa,Pa=Za=null,xb=null;Pa=Yb(db,x);Za=Pa.fields;Pa=Pa.$fields;var jb=db.getAttribute('id');xb=p.$forms[jb].rules;p.$forms[jb].isValidating=!0;M(db,Za,Pa,xb,function(ob){p.$forms[jb].isValidating=!1;console.debug('[updateSelect]: onSilentGlobalLiveValidation: '+ob.isValid(),
ob);ob=ob.isValid();Pb(db,ob);once=!1})})}};ua=na=null;za=0;for(ja=P.length;za<ja;++za)if(Ma(h.rules,P[za]),Ba=P[za].getAttribute('id'),!Ba||!/^gina\-toolbar/.test(Ba)){Ba&&''!=Ba||(Ba='select.'+oa.v4(),P[za].setAttribute('id',Ba));if(ua=P[za].getAttribute('data-gina-form-element-group'))na=P[za].getAttribute('name')||Ba,na===Ba&&P[za].setAttribute('name',Ba),Q[Ba]={id:Ba,name:na,group:ua,target:P[za]};addListener(gina,P[za],'change',function(ia){ia=ia.target;/select/i.test(ia.type)&&Ua(ia,h)});if(P[za].options&&
!h.fieldsSet[Ba]){na=0;if(ua=P[za].getAttribute('data-value')||null)for(la=0,aa=P[za].options.length;la<aa;++la)if(P[za].options[la].value==ua){na=la;P[za].selectedIndex=na;break}'undefined'!=typeof P[za].options[P[za].selectedIndex]&&P[za].options[P[za].selectedIndex].index&&(na=P[za].options[P[za].selectedIndex].index);h.fieldsSet[Ba]={id:Ba,name:P[za].name||null,value:P[za].options[na].value||ua||null,selectedIndex:na||0};'undefined'!=typeof P[za].selectedIndex&&(P[za].options[na].selected=!0,
P[za].setAttribute('data-value',P[za].options[na].value))}}var rb=function(ia,X,ka,ra){'undefined'==typeof ra&&(ra=!1);if('undefined'==typeof Q[ia])throw Error('Radio & Checkbox dependencies not met: you must use the ID attribue of the `master element` as the `data-gina-form-element-group`');var Qa=ia.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');ia=Q[ia].target.checked;for(let Pa in Q)if(!/radio|checkbox/i.test(Q[Pa].target.type)){var Za=new RegExp(Qa);var db=new RegExp(X);if(Za.test(Q[Pa].group)&&db.test(Q[Pa].group)||
Za.test(Q[Pa].group))Q[Pa].target.disabled=!0,'undefined'==typeof h.rules[Q[Pa].name]&&(h.rules[Q[Pa].name]={}),h.rules[Q[Pa].name].exclude=!0,ra?(Q[Pa].target.disabled=ia?!1:!0,h.rules[Q[Pa].name].exclude=ia?!1:!0):(Q[Pa].target.disabled=ka,h.rules[Q[Pa].name].exclude=ka)}},tb=function(ia,X,ka,ra){'undefined'==typeof ra&&(ra=!1);if(ra&&'undefined'!=typeof Q[X.id])return ia=/true/i.test(X.checked)?!1:!0,rb(X.id,Q[X.id].group,ia,ra);ka=X.name;r&&'undefined'==typeof ia.rules[ka]&&(ia.rules[ka]={});
/^true$/i.test(X.checked)?r&&(ia.rules[ka].exclude=!1,'undefined'!=typeof Q[X.id]&&rb(X.id,Q[X.id].group,!1,ra)):r&&(ia.rules[ka].exclude=!0,'undefined'!=typeof Q[X.id]&&rb(X.id,Q[X.id].group,!0,ra))},Gb=function(ia,X){'undefined'==typeof X&&(X=!1);var ka=function(Pa,xb,jb){if(xb)tb(h,Pa,xb);else for(let ob in Q)if(db.test(Q[ob].group)||db.test(Q[ob].target.getAttribute('data-gina-form-element-group')))Q[ob].target.disabled=jb};X&&/^(on)$/i.test(ia.value)&&!ia.checked&&(ia.value=!1);var ra=ia.getAttribute('data-value')||
ia.getAttribute('value')||ia.value;ra=/^(true|on)$/.test(ra)?!0:ra;''===ra&&(ra=!1);var Qa=/^(true|on|false)$/i.test(ra)?!0:!1;X&&Qa&&(/^true$/i.test(ra)&&!ia.checked?ia.checked=!0:/^false$/i.test(ra)&&ia.checked&&(ia.checked=!1));ra=ia.checked;var Za=ia.getAttribute('data-gina-form-element-group')||null,db=new RegExp(ia.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));ra&&'null'!=ra&&'false'!=ra&&''!=ra?(X?Nb(ia):(setTimeout(function(){ia.checked=!0;ka(ia,Za,!1);Nb(ia)},0),ia.setAttribute('checked','checked')),
Qa&&(ia.value=!0,ia.setAttribute('value',!0),typeof('undefined'!=ia.getAttribute('data-value'))&&ia.setAttribute('data-value',!0))):(X?Nb(ia):setTimeout(function(){ia.checked=!1;ka(ia,Za,!0);Nb(ia)},0),ia.removeAttribute('checked'),Qa&&(ia.value=!1,ia.setAttribute('value','false'),typeof('undefined'!=ia.getAttribute('data-value'))&&ia.setAttribute('data-value','false')))},Nb=function(ia){ia=new RegExp(ia.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(let X in Q)(/checkbox/i.test(Q[X].target.type)&&
ia.test(Q[X].group)||/checkbox/i.test(Q[X].target.type)&&ia.test(Q[X].target.getAttribute('data-gina-form-element-group')))&&tb(h,Q[X].target,Q[X].group,!0)},Ab=function(ia,X){X=ia.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');X=new RegExp(X);for(let ka in Q)if(/checkbox|radio/i.test(Q[ka].target.type)||(Q[ka].target.disabled=!0,'undefined'==typeof h.rules[Q[ka].name]&&(h.rules[Q[ka].name]={}),h.rules[Q[ka].name].exclude=!0),X.test(Q[ka].group)||X.test(Q[ka].target.getAttribute('data-gina-form-element-group').replace(/\-|_|@|#|\.|\[|\]/g,
'\\$&')))Q[ka].target.disabled=!0,'undefined'==typeof h.rules[Q[ka].name]&&(h.rules[Q[ka].name]={}),/^(true|on)$/i.test(ia.checked)?(Q[ka].target.disabled=!1,h.rules[Q[ka].name].exclude=!1):(Q[ka].target.disabled=!0,h.rules[Q[ka].name].exclude=!0);Nb(ia)},Vb=null,Ya=function(ia,X,ka){X='undefined'!=typeof X&&X?!0:!1;ka='undefined'!=typeof ka&&ka?!0:!1;var ra=ia.checked,Qa=/^(true|false)$/i.test(ia.value);Vb=document.getElementsByName(ia.name);for(let Za=0,db=Vb.length;Za<db;++Za)Vb[Za].id!==ia.id&&
ra&&(Vb[Za].checked=!1,Vb[Za].removeAttribute('checked'),Ab(Vb[Za],!0));X?Ab(ia):(ra&&'null'!=ra&&'false'!=ra&&''!=ra?setTimeout(function(){ka?Ab(ia):(ia.checked=!1,ia.removeAttribute('checked'))},0):setTimeout(function(){ka?Ab(ia):(ia.checked=!0,ia.setAttribute('checked','checked'))},0),Qa&&(ia.value=/^true$/.test(ia.value)?!0:!1))};za=0;for(ja=b.length;za<ja;++za){P=b[za].getAttribute('type');if('undefined'==typeof b[za].id||''==b[za].id)b[za].id=P+'-'+oa.v4(),b[za].setAttribute('id',b[za].id);
if('undefined'!=typeof P&&/^checkbox$/i.test(P)){if(b[za].disabled&&-1<w.indexOf(b[za].id)||!b[za].checked&&-1<w.indexOf(b[za].id)){P=new RegExp(b[za].id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(var fb in Q)P.test(Q[fb].group)&&(Q[fb].target.disabled=!0)}W='change.'+b[za].id;P=function(ia,X){addListener(gina,ia,X,function(ka){Gb(ka.target);triggerEvent(gina,ka.target,'changed.'+ka.target.id)});Gb(ia,!0)};'undefined'!=typeof gina.events[W]&&gina.events[W]==b[za].id&&removeListener(gina,b[za],W);P(b[za],
W)}else'undefined'!=typeof P&&/^radio$/i.test(P)&&(W=b[za].id,P=function(ia,X){addListener(gina,ia,X,function(ka){Ya(ka.target);triggerEvent(gina,ka.target,'changed.'+ka.target.id)});Ya(ia,!0)},'undefined'!=typeof gina.events[W]&&gina.events[W]==b[za].id&&removeListener(gina,b[za],W),P(b[za],W))}W='click';P=function(){var ia=null;ia='reset.'+e.id;'undefined'==typeof gina.events[ia]&&addListener(gina,e,ia,function(X){X.preventDefault();var ka=p.$forms[X.currentTarget.id||X.target.id];ka.target.dataset.ginaFormIsResetting=
!0;R(ka);X=Yb(ka.target,ka.rules,!0);M(ka.target,X.fields,X.$fields,ka.rules,function(ra){var Qa=ra.isValid();console.debug('silent reset validation result[isValid:'+Qa+']: ',ra);F(ka.target,{});Pb(ka.target,Qa);ka.target.dataset.ginaFormIsResetting=!1})});addListener(gina,e,'reset',function(X){var ka=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;X.preventDefault();var ra=ka.id;if(!ra)return!1;/^reset\./.test(ra)||(ra='reset.'+ka.id);gina.events[ra]&&triggerEvent(gina,
ka,ra,X.detail)});addListener(gina,e,'keydown',function(X){var ka=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;N[X.keyCode]='keydown'==X.type;var ra=ka.id;if(!ra)return!1;/^keydown\./.test(ra)||(ra='keydown.'+ka.id);gina.events[ra]&&(cancelEvent(X),triggerEvent(gina,ka,ra,X.detail,X))});addListener(gina,e,'keyup',function(X){var ka=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;N[X.keyCode]&&delete N[X.keyCode];var ra=ka.id;if(!ra)return!1;
/^keyup\./.test(ra)||(ra='keyup.'+ka.id);gina.events[ra]&&(cancelEvent(X),triggerEvent(gina,ka,ra,X.detail,X))});addListener(gina,e,'focusin',function(X){var ka=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;var ra=ka.id;if(!ra)return!1;/^focusin\./.test(ra)||(ra='focusin.'+ka.id);gina.events[ra]&&(cancelEvent(X),triggerEvent(gina,ka,ra,X.detail))});addListener(gina,e,'focusout',function(X){var ka=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;
var ra=ka.id;if(!ra)return!1;/^focusout\./.test(ra)||(ra='focusout.'+ka.id);gina.events[ra]&&(cancelEvent(X),triggerEvent(gina,ka,ra,X.detail))});addListener(gina,e,'change',function(X){var ka=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;var ra=ka.id;if(!ra)return!1;/^change\./.test(ra)||(ra='change.'+ka.id);gina.events[ra]&&(cancelEvent(X),triggerEvent(gina,ka,ra,X.detail))});addListener(gina,e,'click',function(X){var ka=X.target,ra=!1,Qa=!1;if(/(label)/i.test(X.target.tagName)&&
'undefined'!=typeof X.target.control&&null!=X.target.control&&/(checkbox|radio)/i.test(X.target.control.type)||/(label)/i.test(X.target.parentNode.tagName)&&'undefined'!=typeof X.target.parentNode.control&&null!=X.target.parentNode.control&&/(checkbox|radio)/i.test(X.target.parentNode.control.type))Qa=X.target.getAttribute('for')||X.target.parentNode.getAttribute('for')?!0:!1,ka=X.target.control||X.target.parentNode.control;if(!ka.disabled&&/(checkbox|radio)/i.test(ka.type)&&!Qa){if(/checkbox/i.test(ka.type))return Gb(ka);
if(/radio/i.test(ka.type))return Ya(ka,!1,!0)}if(/(button|input)/i.test(ka.tagName)&&/(submit|checkbox|radio)/i.test(ka.type)||/a/i.test(ka.tagName)&&ka.attributes.getNamedItem('data-gina-form-submit')||/a/i.test(ka.parentNode.tagName)&&ka.parentNode.attributes.getNamedItem('data-gina-form-submit')){Qa=ka.attributes.getNamedItem('data-gina-form-submit');var Za=ka.parentNode.attributes.getNamedItem('data-gina-form-submit');if(Qa||Za)ra=!0,(Za=Qa?ka.getAttribute('data-gina-form-submit-method')||X.currentTarget.getAttribute('method'):
ka.parentNode.getAttribute('data-gina-form-submit-method')||X.currentTarget.getAttribute('method'))&&(Qa&&ka.form?ka.form.setAttribute?ka.form.setAttribute('method',Za):X.currentTarget.setAttribute('method',Za):ka.parentNode.form&&(ka.form.setAttribute?ka.parentNode.form.setAttribute('method',Za):X.currentTarget.setAttribute('method',Za)));'undefined'!=typeof ka.id&&ka.getAttribute('id')||ka.setAttribute('id','click.'+oa.v4());ka.id=ka.getAttribute('id');if(/^click\./.test(ka.id)||r){Qa=ka.id;if(!Qa)return!1;
/^click\./.test(Qa)||(Qa=ka.id);if(!ka.disabled&&/(checkbox|radio)/i.test(ka.type)){if(/checkbox/i.test(ka.type))return Gb(ka);if(/radio/i.test(ka.type))return Ya(ka,!1,!0)}if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;if('submit'==ka.type&&!/^submit\./i.test(Qa)||ra&&!/^submit\./i.test(Qa))Qa='submit.'+Qa;'reset'!=ka.type||/^reset\./i.test(Qa)||(Qa='reset.'+Qa);gina.events[Qa]?(cancelEvent(X),triggerEvent(gina,ka,Qa,X.detail)):ra&&'undefined'!=typeof this.id&&''!=this.id&&
'undefined'!=typeof gina.validator.$forms[this.id]&&(gina.validator.getFormById(this.id).submit(),cancelEvent(X))}}})};P();W='validate.'+n;P=function(){addListener(gina,e,W,function(ia){cancelEvent(ia);var X=h.eventData.error||h.eventData.validation||ia.detail;F(ia.target,X.fields||X.error,X.data);ia=ia.target.getAttribute('id');if('undefined'!=typeof X.isValid&&X.isValid()){var ka=p.$forms[ia].target.getAttribute('data-gina-form-inherits-data')||null;ka&&(X.data=Y(X.data,JSON.parse(decodeURIComponent(ka))));
p.$forms[ia]?p.$forms[ia].send(X.data):h&&h.send(X.data)}})};'undefined'!=typeof gina.events[W]&&gina.events[W]=='validate.'+n&&removeListener(gina,h,W,P);P();fb=function(ia,X){/^submit\./i.test(ia)||(ia='submit.'+ia);addListener(gina,X,ia,function(ka){cancelEvent(ka);var ra={};ka={_length:0};var Qa=e.getAttribute('id'),Za='undefined'!=typeof p.$forms[Qa]?p.$forms[Qa].rules:null;p.$forms[Qa].sent||(ra=Yb(e,Za),ka=ra.fields,ra=ra.$fields,Za=p.$forms[Qa].rules,0==ka._length?(delete ka._length,ka={error:[],
isValid:function(){return!0},data:Na(ka)},triggerEvent(gina,e,'validate.'+n,ka)):(n=e.getAttribute('id'),A=(Za=e.getAttribute('data-gina-form-rule'))?Da(Za.replace(/\-|\//g,'.')):Da(n.replace(/\-/g,'.')),p.$forms[Qa].isSubmitting=!0,p.$forms[Qa].isSending=!1,M(e,ka,ra,A,function(db){triggerEvent(gina,e,'validate.'+n,db)})))})};w=null;b=[];w=[];P=null;w=e.getElementsByTagName('button');if(0<w.length)for(let ia=0,X=w.length;ia<X;++ia)'submit'==w[ia].type&&b.push(w[ia]);w=e.getElementsByTagName('a');
if(0<w.length)for(let ia=0,X=w.length;ia<X;++ia)w[ia].attributes.getNamedItem('data-gina-form-submit')?b.push(w[ia]):w[ia].getAttribute('id')||/gina\-popin/.test(w[ia].className)||gina.popinIsBinded||/gina\-link/.test(w[ia].className)||(P='link.'+oa.v4(),w[ia].id=P);P=null;za=!1;for(let ia=0,X=b.length;ia<X;++ia){w=b[ia];if(/button/i.test(w.tagName)&&'undefined'!=typeof w.type&&/submit/i.test(w.type)||/a/i.test(w.tagName)&&'undefined'!=typeof w.dataset.ginaFormSubmit&&/^true$/i.test(w.dataset.ginaFormSubmit)||
/a/i.test(w.parentNode.tagName)&&'undefined'!=typeof w.parentNode.dataset.ginaFormSubmit&&/^true$/i.test(w.parentNode.dataset.ginaFormSubmit)){/a/i.test(w.parentNode.tagName)&&(w=w.parentNode);if('undefined'==typeof w.id||'undefined'!=typeof w.id&&''==w.id)w.id='click.'+oa.v4(),w.setAttribute('id',w.id);/a/i.test(w.tagName)&&'undefined'==typeof w.form&&(w.form={id:h.id});'undefined'==typeof w.dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof p.$forms[h.id]&&'undefined'==typeof p.$forms[h.id].submitTrigger&&
'undefined'!=typeof w.form.id&&h.id==w.form.id&&(console.debug('attching submitTrigger: '+w.id,'  form id: '+h.id),p.$forms[h.id].submitTrigger=h.submitTrigger=w.id||w.getAttribute('id'),w.dataset.ginaFormSubmitTriggerFor=h.id)}'A'==w.tagName&&(P=w.getAttribute('onclick'),za=w.getAttribute('data-gina-form-submit'),P||za?/return false/i.test(P)||za||(P=/;$/.test(P)?P+'return false;':P+'; return false;'):w.setAttribute('onclick','return false;'));w.id?W=w.id:(W='click.'+oa.v4(),w.id=W,w.setAttribute('id',
W));'undefined'!=typeof gina.events[W]&&gina.events[W]==w.id||fb(W,w)}W='submit';addListener(gina,e,W,function(ia){var X=ia.target,ka=X.getAttribute('id'),ra=p.$forms[ka],Qa=h.binded;(ra=(new DOMParser).parseFromString(X.innerHTML,'text/html').getElementById(ra.submitTrigger))&&ra.disabled&&cancelEvent(ia);if('undefined'!=typeof ia.defaultPrevented&&ia.defaultPrevented)return!1;(r||Qa)&&cancelEvent(ia);ia={};Qa={_length:0};ra='undefined'!=typeof gina.validator.$forms[ka]?gina.validator.$forms[ka].rules:
null;for(var Za=null,db=null,Pa=0,xb=X.length;Pa<xb;++Pa)Za=X[Pa].getAttribute('name'),db=X[Pa].disabled||X[Pa].getAttribute('disabled'),db=/disabled|true/i.test(db)?!0:!1,Za&&!db&&('undefined'!=typeof X[Pa].type&&'radio'==X[Pa].type||'undefined'!=typeof X[Pa].type&&'checkbox'==X[Pa].type?X[Pa].checked?/^(true|false)$/.test(X[Pa].value)?Qa[Za]=X[Pa].value=/^true$/.test(X[Pa].value)?!0:!1:Qa[Za]=X[Pa].value:ra&&'undefined'!=typeof ra[Za]&&'undefined'!=typeof ra[Za].isBoolean&&'checkbox'==X[Pa].type&&
!/^(true|false)$/.test(X[Pa].value)&&(Qa[Za]=!1):Qa[Za]=X[Pa].value,ia[Za]=X[Pa],ia[Za].setAttribute('data-gina-form-errors',''));Qa._length=Qa.count();0==Qa._length?(delete Qa._length,ia={error:[],isValid:function(){return!0},data:Na(Qa)},'undefined'!=typeof gina.events['submit.'+ka]?triggerEvent(gina,X,'submit.'+ka,ia):triggerEvent(gina,X,'validate.'+ka,ia)):(A=(ra=X.getAttribute('data-gina-form-rule'))?Da(ra.replace(/\-|\//g,'.')):Da(ka.replace(/\-/g,'.')),p.$forms[ka].isValidating=!0,M(X,Qa,ia,
A,function(jb){p.$forms[ka].isValidating=!1;'undefined'!=typeof gina.events['submit.'+ka]?triggerEvent(gina,X,'submit.'+ka,jb):triggerEvent(gina,X,'validate.'+ka,jb)}))});p.$forms[n].binded=!0;/^(true)$/i.test(h.target.dataset.ginaFormLiveCheckEnabled&&0<h.rules.count())?(console.debug('silent validation mode on'),fb=Yb(h.target,h.rules),M(h.target,fb.fields,fb.$fields,h.rules,function(ia){console.debug('silent validation result[isValid:'+ia.isValid()+']: ',ia);U&&K&&'undefined'!=typeof window.ginaToolbar&&
window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:n,errors:ia.error}));Pb(h,ia.isValid())})):/^(true)$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)||Pb(h,!0)},Pb=function(e,b){$formInstance=null;e instanceof HTMLFormElement?(e=e.getAttribute('id'),$formInstance=p.$forms[e]):$formInstance=e;'undefined'==typeof $formInstance.submitTrigger?console.warn('This might be normal, so do not worry if this form is handled by your javascript: `'+$formInstance.id+
'`\nGina could not complete `updateSubmitTriggerState()`: `submitTrigger` might not be attached to form instance `'+$formInstance.id+'`\nTo disable this warning, You just need to disable `Form Live Checking on your form by adding to your <form>: `data-gina-form-live-check-enabled=false``'):document.getElementById($formInstance.submitTrigger)&&(/true/i.test(b)?document.getElementById($formInstance.submitTrigger).disabled=!1:document.getElementById($formInstance.submitTrigger).disabled=!0)},Yb=function(e,
b,h){'undefined'==typeof h&&(h=!1);var n={},x={},r=e.id||e.getAttribute('id');'undefined'==typeof b&&(b='undefined'!=typeof p.$forms[r].rules&&0<p.$forms[r].rules.count()?p.$forms[r].rules:null,b||'undefined'==typeof gina.validator.$forms[r]||(b=gina.validator.$forms[r].rules));for(var A=0,W=e.length;A<W;++A){if(h)switch(e[A].tagName.toLowerCase()){case 'input':/^(hidden|text)$/i.test(e[A].type)&&(e[A].value=e[A].defaultValue)}if(/button/i.test(e[A].tagName)&&'undefined'!=typeof e[A].type&&/submit/i.test(e[A].type)||
/a/i.test(e[A].tagName)&&'undefined'!=typeof e[A].dataset.ginaFormSubmit&&/^true$/i.test(e[A].dataset.ginaFormSubmit))/a/i.test(e[A].tagName)&&'undefined'==typeof e[A].form&&(e[A].form={id:r}),'undefined'==typeof e[A].dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof p.$forms[r]&&'undefined'==typeof p.$forms[r].submitTrigger&&'undefined'!=typeof e[A].form.id&&r==e[A].form.id&&(p.$forms[r].submitTrigger=e[A].id||e[A].getAttribute('id'),e[A].dataset.ginaFormSubmitTriggerFor=r);var P=e[A].getAttribute('name');
var aa=e[A].disabled||e[A].getAttribute('disabled');aa=/disabled|true/i.test(aa)?!0:!1;if(P&&!aa){if('undefined'!=typeof e[A].type&&'radio'==e[A].type||'undefined'!=typeof e[A].type&&'checkbox'==e[A].type)if(e[A].checked||'undefined'==typeof b[P]&&'undefined'!=e[A].value&&/^(true|false)$/.test(e[A].value)||!e[A].checked&&'undefined'!=typeof b[P]&&'undefined'!=typeof b[P].isBoolean&&/^(true|false)$/.test(e[A].value))if(/^(true|false)$/.test(e[A].value))if('undefined'==typeof b[P]?b[P]={isBoolean:!0}:
'undefined'!=typeof b[P]&&'undefined'==typeof b[P].isBoolean&&(b[P].isBoolean=!0,b[P].isRequired=!0),'radio'==e[A].type){if('undefined'==typeof b[P])throw Error('rule '+P+' is not defined');/^true$/.test(b[P].isBoolean)&&e[A].checked&&(x[P]=/^true$/.test(e[A].value)?!0:!1)}else x[P]=e[A].value=/^true$/.test(e[A].value)?!0:!1;else x[P]=e[A].value;else b&&'undefined'!=typeof b[P]&&'undefined'!=typeof b[P].isBoolean&&'undefined'!=typeof b[P].isRequired&&!/^(true|false)$/.test(e[A].value)&&(x[P]=!1);
else x[P]=e[A].value;'undefined'==typeof n[P]&&(n[P]=e[A],n[P].setAttribute('data-gina-form-errors',''))}}x._length=x.count()||0;return{$fields:n,fields:x,rules:b}},wa=function(e,b,h,n){return'undefined'==typeof e[h]||/^(null|NaN|undefined|\s*)$/i.test(b[h])?b[h]:'undefined'!=typeof e[h].isNumber||'undefined'!=typeof e[h].isInteger||'undefined'!=typeof e[h].isFloat||'undefined'!=typeof e[h].toFloat||'undefined'!=typeof e[h].toInteger?(/,/.test(b[h])&&(b[h]=b[h].replace(/,/g,'.').replace(/\s+/g,'')),
b[h]):'boolean'==typeof b[h]?b[h]:e[h].isBoolean?/^true$/i.test(b[h])?!0:!1:'undefined'!=typeof n&&/^true$/i.test(n)?'\\"'+b[h]+'\\"':b[h]},xa=function(e,b){'string'!=typeof e&&(e=JSON.stringify(JSON.clone(e)));e=JSON.parse(e.replace(/"(true|false)"/gi,'$1'));for(let h in b)b[h]=wa(e,b,h);return b},Ha=function(e,b,h,n){var x=JSON.parse(e.replace(/"(true|false)"/gi,'$1')),r=JSON.stringify(x);n&&(b=h[Object.getOwnPropertyNames(h)[0]].form,h=Yb(b,x),delete h.fields._length,b=h.fields,h=h.$fields);n=
[];var A=0;for(W in b)n[A]=W,A++;n.sort().reverse();for(let aa=0,Q=n.length;aa<Q;aa++){var W=n[aa].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');W=new RegExp('\\$'+W,'g');A='\\"'+b[n[aa]]+'\\"';var P=W.test(r);P&&'undefined'!=typeof x[n[aa]]?A=wa(x,b,n[aa],!0):P&&console.warn('`'+n[aa]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+n[aa]+'` to `string`.');e=e.replace(W,A)}if(/\$(.*)/.test(e))for(let aa=0,Q=n.length;aa<Q;aa++)W=n[aa].replace(/\-|_|@|#|\.|\[|\]/g,
'\\$&'),W=new RegExp('\\$'+W,'g'),A=''!=h[n[aa]].value?'\\"'+h[n[aa]].value+'\\"':'\\"\\"',(P=W.test(r))&&'undefined'!=typeof x[n[aa]]?A=wa(x,b,n[aa],!0):P&&console.warn('`'+n[aa]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+n[aa]+'` to `string`.'),e=e.replace(W,A||h[n[aa]].checked);return JSON.parse(e)},M=function(e,b,h,n,x){delete b._length;var r=JSON.stringify(n);b=xa(r,b);/\$(.*)/.test(r)&&(n=!/^form$/i.test(e.tagName)&&1==h.count()&&/true/i.test(e.form.dataset.ginaFormLiveCheckEnabled)?
!0:!1,n=Ha(r,b,h,n));var A=null,W=r=null,P=!1,aa=0;b.count();var Q=!1,w=null,ja=null,ua=null,na=0,la=null,Ba=null,za=null,Ra=function(Ya,fb,ia){if('undefined'==typeof fb[Ya]){skipTest=!1;for(var X in fb)if(!/^_comment$/i.test(X)&&/^\//.test(X)&&(la=X.match(/\/(.*)\//).pop(),Ba=X.replace('/'+la+'/',''),la=la.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),la=new RegExp(la,Ba),la.test(Ya))){skipTest=!0;fb[Ya]=fb[X];break}if('undefined'==typeof fb[Ya])return}var ka=Object.getOwnPropertyNames(fb)||[];X=0;var ra=
ka.length;if(0<ra)for(;X<ra;)'undefined'!=typeof fb[ka[X]].exclude&&/^true$/i.test(fb[ka[X]].exclude)&&(ka.splice(X,1),ra--,X--),X++;for(var Qa in fb[Ya])if('function'==typeof Ua[Ya][Qa]){/^((is)\d+|is$)/.test(Qa)&&'undefined'==typeof Ua[Ya][Qa]&&(Ua[Ya][Qa]=function(){},Ua[Ya][Qa]=V(Ua[Ya][Qa],Ua[Ya][Qa.replace(/\d+/,'')]),Ua[Ya][Qa].setAlias=function(jb){this._currentValidatorAlias=jb}(Qa));try{if(Array.isArray(fb[Ya][Qa])){za=JSON.clone(fb[Ya][Qa]);if(/\$[\-\w\[\]]*/.test(za[0])){var Za=za[0].match(/\$[\-\w\[\]]*/g);
X=0;for(var db=Za.length;X<db;++X)za[0]=za[0].replace(Za[X],Ua[Za[X].replace('$','')].value)}Ua[Ya][Qa].apply(Ua[Ya],za)}else if(/^query$/.test(Qa)){w=h[Ya];ja=w.getAttribute('id');ua='asyncCompleted.'+ja;var Pa=0,xb=!1;if('undefined'!=typeof gina.events[ua]){console.debug('event `'+ua+'` already added');na=0;break}++na;addListener(gina,w,ua,function(jb){jb.preventDefault();Pa++;--na;var ob=Object.getOwnPropertyNames(fb[Ya]);ob[ob.length-1]==Qa&&(Q=!0);ob='asyncCompleted.'+jb.target.getAttribute('id');
if(!/true/.test(xb)){Ua[Ya]=jb.detail;var pb=e;/^form$/i.test(e.tagName)||(pb=e.form);var sb=pb.getAttribute('id');if(Q&&0>=na&&!xb&&(xb=!0,removeListener(gina,jb.target,ob),x._data=Ua.toData(),x._errors=Ua.getErrors(Ya),x._errors&&0<x._errors.count())){'undefined'==typeof p.$forms[sb].errors&&(p.$forms[sb].errors={});p.$forms[sb].errors[Ya]=x._errors[Ya];if(!lb&&/^true|false$/i.test(p.$forms[sb].isValidating)||''!=Ua[Ya].target.value)q(Nb[Ya]),F(pb,x._errors,x._data,Ya),Pb(pb,lb);U&&K&&'undefined'!=
typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:sb,errors:p.$forms[sb].errors||{}}));triggerEvent(gina,pb,'validated.'+sb,x);return}jb=!1;var lb=null;1==ka.length||ka[ka.length-1]==Ya?(lb=0<x._errors.count()?!1:!0,!lb&&/^true|false$/i.test(p.$forms[sb].isValidating)&&(p.$forms[sb].errors=Y(x._errors,p.$forms[sb].errors),q(Nb[Ya]),F(pb,x._errors,x._data,Ya),Pb(pb,lb)),triggerEvent(gina,pb,'validated.'+sb,x)):/^true$/i.test(p.$forms[sb].isValidating)&&
1<ka.length&&ka[ka.length-1]!=Ya&&(jb=!0);jb&&M(pb,Gb,Nb,fb,function(Mb){p.$forms[sb].isValidating=!1;lb=Mb.isValid();U&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:sb,errors:Mb.error||{}}));F(pb,Mb.error,Mb.data,Ya);Pb(pb,lb)})}});Ua[Ya][Qa](fb[Ya][Qa]);continue}else Ua[Ya][Qa](fb[Ya][Qa]);delete ia[Ya]}catch(jb){if('conditions'==Qa)throw Error('[ ginaFormValidator ] could not evaluate `'+Ya+'->'+
Qa+'()` where `conditions` must be a `collection` (Array)\nStack:\n'+jb);throw Error('[ ginaFormValidator ] could not evaluate `'+Ya+'->'+Qa+'()`\nStack:\n'+jb);}}},Ua=null,rb={},tb=!1;K?/^form$/i.test(e.tagName)?(A=e.getAttribute('id'),r='validated.'+A,p.$forms[A].fields=b,'undefined'!=typeof e.eventData&&'undefined'!=typeof e.eventData.error&&delete e.eventData.error,Ua=new m(b,h,C)):(tb=!0,A=e.form.getAttribute('id')||e.form.target.getAttribute('id'),r='validated.'+A,p.$forms[A].fields=b,Ua=new m(b,
h,C,p.$forms[A].fieldsSet)):Ua=new m(b,null,C);var Gb=null,Nb=null;if(tb){tb=e.form.getAttribute('id');var Ab=Yb(p.$forms[tb].target,p.$forms[tb].rules,!1);Gb=xa(JSON.stringify(p.$forms[tb].rules),JSON.clone(Ab.fields));Nb=Ab.$fields}else Gb=JSON.clone(b),Nb=h;tb='undefined'!=typeof n?JSON.clone(n):{};var Vb=function(Ya,fb,ia,X,ka,ra,Qa,Za){var db=null;if('undefined'!=typeof ra)for(var Pa in X)if(K&&'undefined'==typeof ka[Pa])console.warn('field `'+Pa+'` found for your form rule ('+Ya.id+'), but not found in $field collection.\nPlease, check your HTML or remove `'+
Pa+'` declaration from your rule if this is a mistake.');else{K&&ka[Pa].getAttribute('data-gina-form-element-group')&&'undefined'!=typeof ra[Pa]&&'undefined'!=typeof ra[Pa].exclude&&ra[Pa].exclude&&!ka[Pa].disabled&&(ra[Pa].exclude=!1);var xb='undefined'!=typeof ra['_case_'+Pa]?!0:!1;if(K&&'input'==ka[Pa].tagName.toLowerCase()&&/(checkbox)/i.test(ka[Pa].getAttribute('type')))if(!ka[Pa].checked&&'undefined'!=typeof ra[Pa]&&'undefined'!=typeof ra[Pa].isRequired&&/^(false)$/i.test(ra[Pa].isRequired)||
ka[Pa].disabled)ra[Pa]={exclude:!0};else if(!ka[Pa].checked&&'undefined'==typeof ra[Pa])continue;for(var jb in ra)if(/^_case_/.test(jb)&&'undefined'!=typeof ra[jb].conditions&&(!Array.isArray(ra[jb].conditions)||ra[jb].conditions.length)&&'undefined'!=typeof ra[jb].conditions[0].rules&&'undefined'!=typeof ra[jb].conditions&&Array.isArray(ra[jb].conditions))if(db=jb.replace('_case_',''),'undefined'==typeof Nb[db])console.warn('Found case `'+jb+'` but field `'+db+'` is misssing in the dom.\n You should add `'+
db+'` element to your form in order to allow Validator to process this case.');else{'undefined'==typeof fb[db]&&(fb[db]=Nb[db].value);var ob=fb[db];K&&('true'==X[Pa]?ob=!0:'false'==X[Pa]&&(ob=!1));for(var pb=0,sb=ra[jb].conditions.length;pb<sb;++pb)if(ra[jb].conditions[pb].case==ob)for(var lb in ra[jb].conditions[pb].rules)if(!/^_comment$/i.test(lb)&&lb!=db&&ka[lb])if(Pa==lb||/^\//.test(lb)||'undefined'!=typeof X[lb]||'undefined'==typeof fb[lb])if(/^\//.test(lb)){if(la=lb.match(/\/(.*)\//).pop(),
Ba=lb.replace('/'+la+'/',''),la=la.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),la=new RegExp(la,Ba),la.test(Pa)){if(ra[jb].conditions[pb].case==ob||/^\//.test(ra[jb].conditions[pb].case)&&(new RegExp(ra[jb].conditions[pb].case)).test(ob))Mb='undefined'!=typeof ra[lb]?ra[lb]:{},ra[lb]=Y(ra[jb].conditions[pb].rules[lb],Mb);db!=lb&&'undefined'!=typeof ra[lb]&&Ra(lb,ra,X)}}else'undefined'!=typeof ra[jb].conditions[pb].rules[lb]&&(caseField=lb,ob=X[caseField],'undefined'==typeof ka[caseField]?console.warn('ignoring case `'+
caseField+'`: field `NaN'):(K&&/^(true|false)$/i.test(ob)&&'undefined'!=typeof ra[caseField]&&'undefined'!=typeof ra[caseField].isBoolean&&/^(true)$/i.test(ra[caseField].isBoolean)&&(ob=/^(true)$/i.test(ob)?!0:!1),'undefined'!=typeof ra[jb].conditions[pb].rules[lb]&&(Mb='undefined'!=typeof ra[jb].conditions[pb].rules[lb]?ra[jb].conditions[pb].rules[lb]:{},ra[lb]=Mb),db!=lb&&'undefined'!=typeof ra[lb]&&'undefined'!=typeof X[lb]&&Ra(lb,ra,X)));else{X[lb]=fb[lb];var Mb='undefined'!=typeof ra[lb]?ra[lb]:
{};ra[lb]=Y(ra[jb].conditions[pb].rules[lb],Mb);Ra(lb,ra,X)}}if(db!=Pa&&('undefined'!=typeof ra[Pa]&&Ra(Pa,ra,fb),xb)){++Za;xb=ra['_case_'+Pa].conditions;if(!xb)throw Error('[ ginaFormValidator ] case `_case_'+Pa+'` found without `condition(s)` !\nPlease, check your delcaration for `_case_'+Pa+'`');for(let Jb=0,$b=xb.length;Jb<$b;++Jb)if(ob=fb[Pa],K&&('true'==X[Pa]?ob=!0:'false'==X[Pa]&&(ob=!1)),xb[Jb]['case']===ob||Array.isArray(xb[Jb]['case'])&&-1<xb[Jb]['case'].indexOf(ob)||/^\//.test(xb[Jb]['case'])){Mb=
{};if('undefined'==typeof xb[Jb].rules[Pa]&&'undefined'==typeof fb[Pa]||ka[Pa].disabled)xb[Jb].rules[Pa]={exclude:!0};for(var Db in xb[Jb].rules)if(!/^_comment$/i.test(Db))if(/^\//.test(Db)){la=Db.match(/\/(.*)\//).pop();Ba=Db.replace('/'+la+'/','');la=la.replace(/\[/g,'\\[').replace(/\]/g,'\\]');la=new RegExp(la,Ba);for(var Hb in ka)la.test(Hb)&&(/^\//.test(xb[Jb]['case'])?(la=xb[Jb]['case'].match(/\/(.*)\//).pop(),Ba=xb[Jb]['case'].replace('/'+la+'/',''),la=new RegExp(la,Ba),la.test(ob)&&(Mb[Hb]=
xb[Jb].rules[Db])):Mb[Hb]=xb[Jb].rules[Db],'undefined'==typeof X[Hb]&&'undefined'!=typeof ka[Hb]&&'undefined'!=typeof ka[Hb].value&&(X[Hb]=ka[Hb].value,K&&/(true|false)/i.test(X[Hb])&&('true'==X[Hb]?X[Hb]=!0:'false'==X[Hb]&&(X[Hb]=!1)),Ua.addField(Hb,X[Hb]),'undefined'!=typeof ia[Hb]&&(Mb[Hb]=Y(Mb[Hb],ia[Hb]))))}else/^\//.test(xb[Jb]['case'])?(la=xb[Jb]['case'].match(/\/(.*)\//).pop(),Ba=xb[Jb]['case'].replace('/'+la+'/',''),la=la.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),la=new RegExp(la,Ba),la.test(ob)&&
(Mb[Db]=xb[Jb].rules[Db])):Mb[Db]=xb[Jb].rules[Db],'undefined'==typeof X[Db]&&'undefined'!=typeof ka[Db]&&'undefined'!=typeof ka[Db].value&&(X[Db]=ka[Db].value,K&&/(true|false)/i.test(X[Db])&&('true'==X[Db]?X[Db]=!0:'false'==X[Db]&&(X[Db]=!1)),Ua.addField(Db,X[Db]),'undefined'!=typeof ia[Db]&&(Mb[Db]=Y(Mb[Db],ia[Db])));++aa;if(K)Vb(Ya,fb,ia,X,ka,Mb,Qa,Za);else return Vb(Ya,fb,ia,X,ka,Mb,Qa,Za)}--Za}}--aa;if(0>=Za&&0>aa){fb=Ua.getErrors();for(Pa in fb){for(rule in fb[Pa])rb[Pa]||(rb[Pa]=''),0>rb[Pa].indexOf(rule)&&
(rb[Pa]+=rule+' ');K&&ka[Pa].setAttribute('data-gina-form-errors',rb[Pa].substr(0,rb[Pa].length-1))}try{W=Na(Ua.toData()),U&&K&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.validated||(gina.forms.validated={}),gina.forms.validated[A]||(gina.forms.validated[A]={}),window.ginaToolbar.update('forms',{id:A,validated:W}))}catch(Jb){throw Jb;}Q=!0;if(!P&&0>=na)if('undefined'!=typeof Qa&&'function'===typeof Qa)Qa._errors=Ua.getErrors(),Qa._data=Ua.toData(),triggerEvent(gina,Ya,
'validated.'+A,Qa);else return P=!0,{isValid:Ua.isValid,error:fb,data:W}}};K&&addListener(gina,e,r,function(Ya){Ya.preventDefault();if(!P){P=!0;Q=!1;na=0;var fb=Ya.detail,ia=fb._data||Ua.toData(),X=fb._errors||Ua.getErrors()||null;console.debug('instance errors: ',p.$forms[A].errors,' VS cbErrors: ',X,Ua.isValid(),' VS d.getErrors(): ',Ua.getErrors());0<X.count()&&Ua.isValid()&&(Ua.isValid=function(){return!1});fb({isValid:Ua.isValid,error:X,data:Na(ia)});removeListener(gina,Ya.target,'validated.'+
Ya.target.id)}});if(K)Vb(e,Gb,tb,b,h,n,x,0);else return Vb(e,Gb,tb,b,h,n,x,0)};return K?Oa(E):B(E,O,ha)}'undefined'!==typeof module&&module.exports?module.exports=ValidatorPlugin:'function'===typeof define&&define.amd&&define('gina/validator',['utils/events','utils/dom','utils/form-validator'],function(){return ValidatorPlugin});
define('gina/toolbar','require jquery vendor/uuid utils/collection utils/routing gina/storage gina/validator'.split(' '),function(E){var O=E('jquery');O.noConflict();var ha=E('utils/routing');E('utils/collection');var Ca=E('gina/storage');return function(){var K=null,U=!1,oa=!1,Y=!1,V,m=(new Ca({bucket:'gina'})).Collection('plugin'),S=null,p=null,da=!1,ya=null,N=null,L=null,C=null,B=null,u='',z=null,y=null,J=null,q='',v=null,F=0,H=0,R=0,sa='',T={},ca=null,ea=null,Ja=null,fa=null,pa=null,Ea=null,Ka=
null,Oa=null,Ia=null,Da=null,cb=null,Fa=null,Na=null,Xa=null,qb=function(){S=O('#gina-toolbar');if(!S.length)return!1;ya=S.find('.gina-toolbar-tab > a');N=O('#gina-toolbar-toggle');L=O('#gina-toolbar-panels');C=L.find('.gina-toolbar-panel');z=O('#gina-toolbar-vposition');y=O('#gina-toolbar-hposition');J=z.add(y);v=O('#gina-toolbar-width');S.find('.gina-toolbar-main');ca=O('#gina-toolbar-json');ea=O('#gina-toolbar-gina-json');Ja=O('#gina-toolbar-toggle-code-raw');$forms=O('form:not(.gina-toolbar-options, .gina-toolbar-content)');
Ia=O('#gina-toolbar-data-html');Da=O('#gina-toolbar-view-html');cb=O('#gina-toolbar-forms-html');Oa=O('#gina-toolbar-configuration-environment-html');Fa=O('#gina-toolbar-code-toggle');S.prepend('<textarea class="gina-toolbar-copy"></textarea>');Na=S.find('.gina-toolbar-copy');p=m.findOne({_name:'toolbar'});p||(p={_name:'toolbar',_version:'1.0.3',_description:'Toolbar settings',_licence:'MIT',_author:[{name:'Fabrice Delaneau',company:'Freelancer'},{name:'Martin-Luther Etouman',company:'Rhinostone'}],
position:'top-right',width:'30',panelId:'#gina-toolbar-data',isCollapsed:!0,isUnfolded:[],debug:{forms:{active:!1,strategy:'frontend'}}},m.insert(p),p=m.findOne({_name:'toolbar'}));'1.0.3'!=p._version&&('1.0.1'>p._version&&(p.isUnfolded||(p.isUnfolded=[]),void 0!=p.codeFolding&&delete p.codeFolding),'undefined'==typeof p.isUnfolded||Array.isArray(p.isUnfolded)||(p.isUnfolded=[]),p._version='1.0.3',p.save(!0));q=p.position;F=p.width;u=p.panelId;da=p.isCollapsed;S.removeClass('gina-toolbar-hidden');
gc()},bb=function(h,n,x){var r=null,A=null;try{A=ca?ca.text():'',''==A||'null'==A?ca.text('Empty'):(pa=JSON.parse(A),Ka=JSON.parse(ea.text()),ca.text(''),fa||(fa={jsonObject:JSON.clone(pa),ginaJsonObject:JSON.clone(Ka)},Ea={}))}catch(ja){if(A='Could not load'+(h?' [ '+h+' ] ':' ')+'json\n'+ja.message+'\n'+ja.stack,ca)ca.text(A);else throw A;}if(pa){n&&!x?(pa[h]||(pa[h]={}),pa[h]=Ka[h]=n):'data-xhr'==h&&!n&&pa['data-xhr']?delete pa['data-xhr']:x&&(pa=n,Ka=x);b(pa,'');delete pa.environment.routing;
delete Ka.environment.routing;delete pa.environment.reverseRouting;delete Ka.environment.reverseRouting;delete pa.environment.forms;delete Ka.environment.forms;Oa.html(mb(pa.environment,Ka.environment));r=pa.data;var W=pa.view;x=pa.forms;var P=Ka.data,aa=Ka.view;A=Ka.forms;oa=V=!1;var Q=null,w=!1;/^(view-xhr)$/.test(h)&&(Q=!0,W=pa[h],aa=Ka[h],r=pa['data-xhr'],P=Ka['data-xhr']);if(!h||/^(data)$/.test(h))Ia.html('<ul class="gina-toolbar-code">'+mb(r,P,null,Q)+'</ul>'),Da.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),
Da.html(Yb(W,aa,null,Q,Da)),r=$forms,cb.html(''),cb.html(xa(x,A,cb,0,r,r.length,Q)),cb.find('div.gina-toolbar-section > h2').off('click').on('click',function(ja){ja.preventDefault();O(this).parent().find('ul').first().slideToggle()});if(/^(data-xhr|view-xhr)$/.test(h)){if('undefined'==typeof pa[h]||!pa[h]||'null'==pa[h])return!1;Q=!0;w='undefined'!=typeof pa[h].isXHRViewData?!0:w;w||/^(view-xhr)$/.test(h)||'undefined'==typeof pa['el-xhr']||(Ea.data=JSON.clone(pa[h]));w&&delete pa[h].isXHRViewData;
/^(data-xhr)$/.test(h)?Ia.html('<ul class="gina-toolbar-code">'+mb(pa[h],Ka[h],null,Q)+'</ul>'):/^(view-xhr)$/.test(h)&&(Da.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),Da.html(Yb(pa[h],Ka[h],null,Q,Da)))}/^(el-xhr)$/.test(h)&&(Q=!0,r=O('#'+n).find('form:not(.gina-toolbar-options, .gina-toolbar-content)'),cb.html(''),cb.html(xa(x,A,cb,0,r,r.length,
Q)),cb.find('div.gina-toolbar-section > h2').off('click').on('click',function(ja){ja.preventDefault();O(this).parent().find('ul').first().slideToggle()}));/^(forms)$/.test(h)&&(oa=Q=!0,O('#gina-toolbar-form-'+n.id).length||(r=$forms,cb.html(''),cb.html(xa(x,A,cb,0,r,r.length,Q)),cb.find('div.gina-toolbar-section > h2').off('click').on('click',function(ja){ja.preventDefault();O(this).parent().find('ul').first().slideToggle()})),'undefined'!=typeof n.rules&&Ha(n.id,'rules',n.rules,Q),'undefined'!=typeof n.errors&&
0<n.errors.count()&&Ha(n.id,'errors',n.errors,Q),'undefined'!=typeof n.sent&&Ha(n.id,'sent',n.sent,Q));p.currentFile=pa.file;p.currentFile||(p.currentFile=pa.file);pa.file==p.currentFile&&O(document).ready(function(){oa?(U=!0,0<p.isUnfolded.length&&!V&&(V=!0,setTimeout(function(){0<p.isUnfolded.length&&eb(p.isUnfolded,p.isUnfolded.length,0)},200))):Q?(U=!0,0<p.isUnfolded.length&&!V&&(V=!0,eb(p.isUnfolded,p.isUnfolded.length,0))):(U=!1,setTimeout(function(){0<p.isUnfolded.length&&eb(p.isUnfolded,p.isUnfolded.length,
0)},200))})}if(!h||'el-xhr'==h&&!Y)Y=h&&'el-xhr'==h?!0:!1,wa(h)},eb=function(h,n,x){if(x==n)return!1;var r=h[x],A=null;U&&/^xhr-/.test(r)?(r=r.replace(/^xhr-/,''),A=O('.gina-toolbar-xhr-folding-state-'+r)):A=O('.gina-toolbar-folding-state-'+r);Ob(A,function(){x+=1;eb(h,n,x)})},gc=function(){Ia.add(Da).off('click','a').on('click','a',function(n){n.preventDefault();Ob(O(this),null,!0)}).add(cb).off('click','a').on('click','a',function(n){n.preventDefault();Ob(O(this),null,!0)});Fa.off('click').on('click',
function(n){n.preventDefault();Ob('all',null,!0)});Ia.add(Da,cb).off('click','.gina-toolbar-value').on('click','.gina-toolbar-value',function(n){n.preventDefault();try{Xa=O(this).text(),Na.text(Xa),Na.select(),document.execCommand('copy',!1,null),Na.blur()}catch(x){alert('Please press Ctrl/Cmd+C to copy the value')}});Ja.off('click').on('click',function(n){pa&&window.open('','JSON RAW','width=400,height=100').document.write(JSON.stringify(pa.data))});ya.off('click').on('click',function(n){n.preventDefault();
ya.removeClass('gina-toolbar-active');C.removeClass('gina-toolbar-active');O(this).addClass('gina-toolbar-active');u=O(this).attr('href');B=O(u).addClass('gina-toolbar-active');p.panelId=u;p.save()});N.off('click').on('click',function(n){n.preventDefault();S.toggleClass('gina-toolbar-collapsed');da=S.hasClass('gina-toolbar-collapsed');p.isCollapsed=da;p.save()});J.off('change').on('change',function(n){n.preventDefault();n=z.val();var x=y.val();q=n+'-'+x;yb(q);p.position=q;p.save()});v.off('change').on('change',
function(n){n.preventDefault();F=v.val();hb(F);p.width=F;p.save()});O(window).off('resize').on('resize',function(){Fb()});O('body').off('keypress').on('keypress',function(n){if(!/INPUT|TEXTAREA/.test(n.target.tagName)){sa=n.keyCode?n.keyCode:n.which?n.which:n.charCode;n=new Date;if('undefined'!=typeof T.keynum&&T.keynum==sa&&'undefined'!=typeof T.pressTime&&500>n.getTime()-T.pressTime)switch(sa){case 103:S.toggle()}T.pressTime=n.getTime();T.keynum=sa}});ya.filter('[href="'+u+'"]').trigger('click');
da||O('#gina-toolbar-toggle').trigger('click');yb(q);var h=q.split('-');z.val(h[0]);y.val(h[1]);hb(F);v.val(F);Fb();h=ca?ca.text():'';/^\{\{ (.*) \}\}/.test(h)?e(h,bb):bb()},yb=function(h){S.removeClass('gina-toolbar-top-left gina-toolbar-top-right gina-toolbar-bottom-left gina-toolbar-bottom-right').addClass('gina-toolbar-'+h)},hb=function(h){S.removeClass('gina-toolbar-auto gina-toolbar-100 gina-toolbar-80 gina-toolbar-60 gina-toolbar-50 gina-toolbar-40 gina-toolbar-30').addClass('gina-toolbar-'+
h)},Fb=function(){H=window.innerHeight-32;S.find('.gina-toolbar-main').css('max-height',H+'px');var h=B.find('.gina-toolbar-main'),n=h.find('.gina-toolbar-content');R=h.height();R==H?n.addClass('gina-toolbar-content-end'):n.removeClass('gina-toolbar-content-end')},Ob=function(h,n,x){'undefined'==typeof x&&(x=!1);if(void 0!=h&&h.length&&'all'!=h){K=h.attr('class');var r=!1;if(/(gina-toolbar-folding-state-[a-z 0-9_-]+|gina-toolbar-xhr-folding-state-[a-z 0-9_-]+)/i.test(K))if(/gina-toolbar-folding-state-[a-z0-9_-]+/i.test(K)?
K=K.match(/gina-toolbar-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-folding-state-/,''):(r=!0,'undefined'!=typeof K&&(K=K.match(/gina-toolbar-xhr-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-xhr-folding-state-/,'xhr-'))),0>p.isUnfolded.indexOf(K))p.isUnfolded.push(K),p.save(),h.hasClass('gina-toolbar-unfolded')||(h.addClass('gina-toolbar-unfolded'),h.next('ul').slideToggle('fast'));else if(-1<p.isUnfolded.indexOf(K)&&h.hasClass('gina-toolbar-unfolded')){for(var A=new RegExp('^('+
K+')'),W=0,P=p.isUnfolded.length;W<P;++W)A.test(p.isUnfolded[W])&&(!oa&&x||oa&&r||x)&&(p.isUnfolded.splice(W,1),--W);p.save(!0);0>p.isUnfolded.indexOf(K)&&(h.removeClass('gina-toolbar-unfolded'),h.next('ul').slideToggle('fast'))}else h.addClass('gina-toolbar-unfolded'),h.next('ul').slideToggle('fast')}'undefined'!=typeof n&&null!=n&&n()},ib=function(h){var n={},x=null,r=[],A=0;for(x in h)h.hasOwnProperty(x)&&(r[A]=x,++A);var W=r.length;r.sort();for(A=0;A<W;++A)x=r[A],n[x]=h[x];return n},Ma=function(h,
n){var x='';if('undefined'!=typeof h&&''!=h){var r=h;'string'==typeof h&&(r=h.replace(/(\]\[|\[)/g,'-').replace(/\]/,'').replace(/[^A-Za-z0-9_-]/g,'_'));x+=r+'-'}'undefined'!=typeof n&&''!=n?(h=n,'string'==typeof n&&(h=n.replace(/(\]\[|\[)/g,'-').replace(/\]/,'')),x+=h):x=x.substr(0,x.length-1);return x.trim()},mb=function(h,n,x,r,A){var W='';x='undefined'!=typeof x&&null!=x?x.replace(/[^A-Za-z0-9_-]/g,'_'):'';var P='undefined'!=typeof A&&null!=A?A:'',aa='undefined'!=typeof r&&null!=r?'-xhr':'';h=
ib(h);n=ib(n);for(var Q in h)if('object'!=typeof h[Q]||Array.isArray(h[Q])||null===h[Q])if(Array.isArray(h[Q])){x+='-'+Q.replace(/[^A-Za-z0-9_-]/g,'_');var w=0<h[Q].length||'undefined'!=typeof n[Q]&&0<n[Q].length?'':' is-empty';W+='<li class="gina-toolbar-collection">';W+='<a href="#" class="gina-toolbar-key gina-toolbar'+aa+'-folding-state-'+Ma(P,Q.replace(/[^A-Za-z0-9_-]/g,'_'))+w+'">'+Q+' <span>['+h[Q].length+']</span></a>';W+='<ul class="gina-toolbar-collection">'+Pb(h[Q],n[Q],x,r,A)+'</ul>';
W+='</li>';x=x.substr(0,x.length-Q.length)}else w=null===n[Q]?'null':typeof n[Q],'undefined'==w?(W+='<li class="gina-toolbar-key-value">',W+='<span class="gina-toolbar-key gina-toolbar-key-added">'+Q+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+w+'">'+h[Q]+'</span>'):(h[Q]!==n[Q]&&(W+='<li class="gina-toolbar-key-value gina-toolbar-is-overridden">',W+='<span class="gina-toolbar-key">'+Q+':</span> <span class="gina-toolbar-value">'+n[Q]+'</span>',W+='</li>'),W+='<li class="gina-toolbar-key-value">',
W+='<span class="gina-toolbar-key">'+Q+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+w+'">'+h[Q]+'</span>'),W+='</li>';else x+='-'+Q.replace(/[^A-Za-z0-9_-]/g,'_'),w=0<h[Q].count()||'undefined'!=typeof n[Q]&&0<n[Q].count()?'':' is-empty',W+='<li class="gina-toolbar-object">',W+='<a href="#" class="gina-toolbar-key gina-toolbar'+aa+'-folding-state-'+Ma(P,Q.replace(/[^A-Za-z0-9_-]/g,'_'))+w+'">'+Q+' <span>{ }</span></a>',W+='<ul class="gina-toolbar-object">'+mb(h[Q],n[Q],x,
r,A)+'</ul>',W+='</li>',x=x.substr(0,x.length-Q.length);return W},Pb=function(h,n,x,r,A){var W='';x='undefined'!=typeof x&&null!=x?x:'';var P='undefined'!=typeof A&&null!=A?A:'',aa='undefined'!=typeof r&&null!=r?'-xhr':'';n||=[];for(var Q=0,w=h.length;Q<w;++Q)'object'!=typeof h[Q]||Array.isArray(h[Q])?Array.isArray(h[Q])?(x+='-'+Q,''==P&&(P=x),W+='<li class="gina-toolbar-collection">',W+='<a href="#" class="gina-toolbar-key gina-toolbar'+aa+'-folding-state-'+Ma(P,Q)+'">'+Q+'<span>[ ]</span></a>',
W+='<ul class="gina-toolbar-collection">'+Pb(h[Q],n[Q],x,r,A)+'</ul>',W+='</li>',x=x.substr(0,x.length-Q.toString().length)):W+='<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+Q+':</span> <span class="gina-toolbar-value">'+h[Q]+'</span></li>':(n[Q]||(n[Q]=h[Q]),x+='-'+Q,''==P&&(P=x),W+='<li class="gina-toolbar-object">',W+='<a href="#" class="gina-toolbar-key gina-toolbar'+aa+'-folding-state-'+Ma(P,Q)+'">'+Q+' <span>{ }</span></a>',W+='<ul class="gina-toolbar-object">'+mb(h[Q],
n[Q],x,r,A)+'</ul>',W+='</li>',x=x.substr(0,x.length-Q.toString().length-1));return W},Yb=function(h,n,x,r,A,W){x=null!=x?x.replace(/[^A-Za-z0-9_-]/g,'_'):'';var P='undefined'!=typeof r&&null!=r?'-xhr':'';h=ib(h);n=ib(n);W||=A;for(var aa in h){var Q=aa;if('object'!=typeof h[aa]||Array.isArray(h[aa])||null===h[aa])if(Array.isArray(h[aa])){var w=O('#gina-toolbar-view-'+x.substr(0,x.length-1));var ja=w.length?!0:!1;!ja||/^html/.test(x)?(w=O('.'+x),ja=x+aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-',w.append('<li class="gina-toolbar-collection"><a href="#" class="gina-toolbar-key gina-toolbar'+
P+'-folding-state-'+Ma(aa.replace(/[^A-Za-z0-9_-]/g,'_'),ja.substr(0,ja.length-1))+'">'+aa+' <span>['+h[aa].length+']</span></a><ul> '+Pb(h[aa],n[aa],ja,w.find('li ul.'+x.substr(0,x.length-1)),Q)+'</ul></li>')):(ja=x+aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-',w.find('li.'+x.substr(0,x.length-1)+' ul').append('<li class="gina-toolbar-collection"><a class="gina-toolbar-key gina-toolbar'+P+'-folding-state-'+Ma(aa.replace(/[^A-Za-z0-9_-]/g,'_'),ja.substr(0,ja.length-1))+'">'+aa+' <span>['+h[aa].length+']</span></a><ul>'+
Pb(h[aa],n[aa],ja,w.find('li ul.'+x.substr(0,x.length-1)),Q)+'</ul></li>'));x+=aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-';x=x.substr(0,x.length-aa.length-1)}else if(Q=null===n[aa]?'null':typeof n[aa],'undefined'==Q)/\-$/.test(x)&&(x=x.substr(0,x.length-1)),x&&A.find('ul.'+x).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key gina-toolbar-key-added">'+aa+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+h[aa]+'</span></li>');else if(h[aa]!==n[aa]){x||(x+=
aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-');try{A.find('ul.'+x).append('<li class="gina-toolbar-key-value gina-toolbar-is-overridden"><span class="gina-toolbar-key">'+aa+':</span> <span class="gina-toolbar-value">'+n[aa]+'</span></li>'),A.find('ul.'+x).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+aa+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+h[aa]+'</span></li>')}catch(ua){throw Error('GinaToolbarError: `ul.'+x+'` not found');}}else!x||
/^html\-properties/.test(x)?W.find('.gina-toolbar-properties').append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+aa+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+h[aa]+'</span></li>'):W.find('ul.'+x.substr(0,x.length-1)).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+aa+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+h[aa]+'</span></li>');else w=O('#gina-toolbar-view-'+x.substr(0,x.length-
1)),(ja=w.length?!0:!1)?(ja=x+aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-',w.find('ul.'+x.substr(0,x.length-1)).append('<li class="gina-toolbar-object"><a href="#" class="gina-toolbar-key gina-toolbar'+P+'-folding-state-'+Ma(aa.replace(/[^A-Za-z0-9_-]/g,'_'),ja.substr(0,ja.length-1))+'">'+aa+' <span>{ }</span></a><ul class="gina-toolbar-object '+ja.substr(0,ja.length-1)+'"></ul></li>'),Yb(h[aa],n[aa],ja,r,w.find('ul.'+x.substr(0,x.length-1)),W),x+=aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-'):(x+=aa.replace(/[^A-Za-z0-9_-]/g,
'_')+'-','params'==aa?(Q='<div id="gina-toolbar-view-'+x.substr(0,x.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+x.substr(0,x.length-1)+'</h2><ul class="'+x.substr(0,x.length-1)+'"></ul></div>',O('#gina-toolbar-view-html-properties').before(Q)):/^html/.test(x)||(Q='<div id="gina-toolbar-view-'+x.substr(0,x.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+x.substr(0,x.length-1)+'</h2><ul class="'+x.substr(0,x.length-1)+'"></ul></div>',
A.append(Q)),Yb(h[aa],n[aa],x,r,A.find('ul.'+x.substr(0,x.length-1)),W)),x=x.substr(0,x.length-aa.length-1)}return W.html()},wa=function(h){h=gina.hasPopinHandler?gina.popin.getActivePopin():null;var n,x=(gina.hasPopinHandler?O('#'+h.id):O('body')).html().match(/404:\[(.+)\](.+)@(.+)"/gm);if(x){var r=0;for(n=x.length;r<n;++r){h=x[r].replace(/"(.*)|"/g,'');var A=h.match(/\[(.*)\]/g,'')[0].replace(/\[|\]/g,'');ha.getRouteByUrl(h,A)}}fLen=ha.notFound.count();if(0<fLen)for(f in ha.notFound)console.warn('(x'+
ha.notFound[f].count+') '+f+' => '+ha.notFound[f].message)},xa=function(h,n,x,r,A,W,P){if(!W)return!1;for(var aa=A[r].attributes,Q,w=A[r].getAttribute('id')||A[r].id,ja=O('<div id="gina-toolbar-form-'+w+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+w+'</h2><ul class="gina-toolbar-section-content gina-toolbar-code" style="display: none;"><li class="gina-toolbar-form-attributes"><h3 class="gina-toolbar-sub-section-title">'+'gina-toolbar-form-attributes'.replace(/gina-toolbar-form-/,
'')+'</h3><ul class="gina-toolbar-code"></ul></li></ul></div>'),ua,na,la=null,Ba=0,za=aa.length;Ba<za;++Ba)ua=aa[Ba].name,na=aa[Ba].nodeValue,/^method$/.test(ua)&&(na=na.toUpperCase()),/^class$/.test(ua)&&/\s+/.test(na)&&(na='<ul><li>'+na.replace(/\s+/g,'</li><li>')+'</li></ul>'),/^action$/.test(ua)&&((Q='undefined'!=typeof aa.method?aa.method.nodeValue:void 0)||console.warn('[ ToolbarFormHelper::UndefinedMethod : form `'+aa.id.nodeValue+'` method attribute cannot be left undefined !'),Q=ha.getRouteByUrl(na,
Q),'undefined'!=typeof Q&&Q||(Q={name:'not found',namespace:'not found',param:{control:'not found',file:'not found'}}),na='<ul><li><span class="gina-toolbar-key">url</span><span class="gina-toolbar-value">'+(na||'#')+'</span></li><li><span class="gina-toolbar-key">route</span><span class="gina-toolbar-value">'+Q.name+'</span></li><li><span class="gina-toolbar-key">namespace</span><span class="gina-toolbar-value">'+(Q.namespace||'root controller')+'</span></li><li><span class="gina-toolbar-key">control</span><span class="gina-toolbar-value">'+
Q.param.control+'</span></li><li><span class="gina-toolbar-key">file</span><span class="gina-toolbar-value">'+Q.param.file+'</span></li><ul>',la='<li><span class="gina-toolbar-key">'+ua+':</span><span class="gina-toolbar-value">'+na+'</span></li>'),/^data-gina-form-event/.test(ua)?(Q='events',la=ja.find('.gina-toolbar-form-attributes').find('.gina-toolbar-key-events').length?!0:!1,ua=ua.replace(/^data-gina-form-event-/,''),la||ja.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+
Q+'"><h3 class="gina-toolbar-sub-section-title">'+Q+'</h3><ul class="gina-toolbar-code"></ul></li>'),la='<li><span class="gina-toolbar-key">'+ua+':</span><span class="gina-toolbar-value">'+na+'</span></li>',ja.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+Q+' > ul').append(la)):(/^action$/.test(ua)||(la='<li><span class="gina-toolbar-key">'+ua+':</span><span class="gina-toolbar-value">'+na+'</span></li>'),ja.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-attributes > ul').append(la));
aa=null;try{var Ra=A[r].getAttribute('data-gina-form-rule');aa='undefined'!=typeof Ra&&null!=Ra?eval('gina.forms.rules.'+Ra.replace(/-/g,'.')):eval('gina.forms.rules.'+w.replace(/-/g,'.'))}catch(Ua){}aa&&(Q='rules',ja.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+Q+'"><h3 class="gina-toolbar-sub-section-title">'+Q+'</h3><ul class="gina-toolbar-properties">'+mb(aa,aa,w,P,Q)+'</ul></li>'));x.append(ja);++r;r<W&&xa(h,n,x,r,A,W,P)},Ha=function(h,n,x,r){var A=O('#gina-toolbar-form-'+
h);$section=A.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+n+'> ul');if(0<$section.length){if(0==x.count())return A.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+n).remove(),!1;$section.html(mb(x,x,h,r,n))}else A.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+n+'"><h3 class="gina-toolbar-sub-section-title">'+n+'</h3><ul class="gina-toolbar-properties">'+mb(x,x,h,r,n)+'</ul></li>');h=A.find('ul.gina-toolbar-section-content');
h.is(':visible')||h.slideToggle()},M=function(h,n){return h='<label class="gina-toolbar-input-file"><input type="file" multiple id="'+(h+'">')+n+'</label>'},e=function(h,n){h=M('mock','Select your JSON file');Ia.html(h);ca.text('');Ia.find('input').off('change').on('change',function(x){var r=O(this)[0].files,A=x=null;if(1==r.length)x=O(this)[0].files[0],A=new FileReader,A.addEventListener('load',function(){ca.text(A.result);ea.text(A.result);n()},!1),A.readAsBinaryString(x);else{var W=0;A=[];for(var P=
0,aa=r.length;P<aa;++P)switch(x=r[P],!0){case /user/.test(x.name):A[P]=new FileReader;A[P].addEventListener('load',function(Q){ca.text(Q.currentTarget.result);++W;W==r.length&&n()},!1);A[P].readAsBinaryString(x);break;case /gina/.test(x.name):A[P]=new FileReader,A[P].addEventListener('load',function(Q){ea.text(Q.currentTarget.result);++W;W==r.length&&n()},!1),A[P].readAsBinaryString(x)}}});return!1},b=function(h,n){for(var x in h)'object'==typeof h[x]&&b(h[x],n+x+'-')};this.update=function(h,n){bb(h,
n)};this.restore=function(){Ea&&'undefined'!=typeof Ea.data&&(fa.jsonObject.data=Ea.data);bb('data',fa.jsonObject,fa.ginaJsonObject);Y=!1;ha.notFound={}};if('undefined'!=typeof gina.validator)gina.validator.on('initialized',function(){console.log('toolbar validator ready');qb()});else qb()}});
define('gina','require vendor/uuid utils/merge utils/events helpers/prototypes helpers/dateFormat gina/toolbar'.split(' '),function(E){E('utils/events');var O=E('utils/merge'),ha=E('helpers/dateFormat')();E('helpers/prototypes')({dateFormat:ha});var Ca=E('vendor/uuid');window.process||function(K,U,oa,Y,V,m,S){for(m=K[oa]||(K[oa]={});!S&&V<Y.length;)S=K[Y[V++]+'requestAnimationFrame'];m[U]=m[U]||S&&S.bind(K)||K.setImmediate||K.setTimeout}(window,'nextTick','process',['r','webkitR','mozR','msR','oR'],
0);window.getComputedStyle||(window.getComputedStyle=function(K,U){this.el=K;this.getPropertyValue=function(oa){var Y=/(\-([a-z]){1})/g;'float'==oa&&(oa='styleFloat');Y.test(oa)&&(oa=oa.replace(Y,function(V,m,S){return S.toUpperCase()}));return K.currentStyle[oa]?K.currentStyle[oa]:null};return this});return function(K){this.plugin='gina';var U='gina-'+Ca.v1(),oa=document,Y;document.id=U;U={id:U,isFrameworkLoaded:!1,hasValidator:!1,hasPopinHandler:!1,config:{},registeredEvents:{},events:{},setOptions:function(V){Y=
O(Y,V,!0)}};'undefined'!=typeof parent.window.gina&&(window.gina=O(window.gina||{},parent.window.gina));U=O(window.gina||{},U);registerEvents(this.plugin,['ginaloaded','ready']);triggerEvent(K,oa,'ginaloaded',U)}});
!function(E,O){'object'==typeof exports&&'undefined'!=typeof module?module.exports=O():'function'==typeof define&&define.amd?define('vendor/engine.io',O):(E='undefined'!=typeof globalThis?globalThis:E||self).eio=O()}(this,function(){function E(wa){return E='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(xa){return typeof xa}:function(xa){return xa&&'function'==typeof Symbol&&xa.constructor===Symbol&&xa!==Symbol.prototype?'symbol':typeof xa},E(wa)}function O(wa,xa){if(!(wa instanceof
xa))throw new TypeError('Cannot call a class as a function');}function ha(wa,xa){for(var Ha=0;Ha<xa.length;Ha++){var M=xa[Ha];M.enumerable=M.enumerable||!1;M.configurable=!0;'value'in M&&(M.writable=!0);Object.defineProperty(wa,M.key,M)}}function Ca(wa,xa,Ha){return xa&&ha(wa.prototype,xa),Ha&&ha(wa,Ha),wa}function K(){return K=Object.assign||function(wa){for(var xa=1;xa<arguments.length;xa++){var Ha=arguments[xa],M;for(M in Ha)Object.prototype.hasOwnProperty.call(Ha,M)&&(wa[M]=Ha[M])}return wa},
K.apply(this,arguments)}function U(wa,xa){if('function'!=typeof xa&&null!==xa)throw new TypeError('Super expression must either be null or a function');wa.prototype=Object.create(xa&&xa.prototype,{constructor:{value:wa,writable:!0,configurable:!0}});xa&&Y(wa,xa)}function oa(wa){return oa=Object.setPrototypeOf?Object.getPrototypeOf:function(xa){return xa.__proto__||Object.getPrototypeOf(xa)},oa(wa)}function Y(wa,xa){return Y=Object.setPrototypeOf||function(Ha,M){return Ha.__proto__=M,Ha},Y(wa,xa)}
function V(){if('undefined'==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(wa){return!1}}function m(wa,xa,Ha){return m=V()?Reflect.construct:function(M,e,b){var h=[null];h.push.apply(h,e);M=new (Function.bind.apply(M,h));return b&&Y(M,b.prototype),M},m.apply(null,arguments)}function S(wa){var xa='function'==typeof Map?new Map:void 0;return S=function(Ha){function M(){return m(Ha,
arguments,oa(this).constructor)}if(null===Ha||(e=Ha,-1===Function.toString.call(e).indexOf('[native code]')))return Ha;var e;if('function'!=typeof Ha)throw new TypeError('Super expression must either be null or a function');if(void 0!==xa){if(xa.has(Ha))return xa.get(Ha);xa.set(Ha,M)}return M.prototype=Object.create(Ha.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),Y(M,Ha)},S(wa)}function p(wa){if(void 0===wa)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return wa}function da(wa){var xa=V();return function(){var Ha=oa(wa);if(xa){var M=oa(this).constructor;Ha=Reflect.construct(Ha,arguments,M)}else Ha=Ha.apply(this,arguments);return!Ha||'object'!=typeof Ha&&'function'!=typeof Ha?p(this):Ha}}function ya(wa,xa,Ha){return ya='undefined'!=typeof Reflect&&Reflect.get?Reflect.get:function(M,e,b){for(;!Object.prototype.hasOwnProperty.call(M,e)&&null!==(M=oa(M)););if(M)return e=Object.getOwnPropertyDescriptor(M,e),e.get?e.get.call(b):e.value},ya(wa,xa,Ha||
wa)}function N(wa){if(wa){for(var xa in N.prototype)wa[xa]=N.prototype[xa];return wa}}function L(wa){for(var xa=arguments.length,Ha=Array(1<xa?xa-1:0),M=1;M<xa;M++)Ha[M-1]=arguments[M];return Ha.reduce(function(e,b){return wa.hasOwnProperty(b)&&(e[b]=wa[b]),e},{})}function C(wa,xa){xa.useNativeTimers?(wa.setTimeoutFn=cb.bind(Da),wa.clearTimeoutFn=Fa.bind(Da)):(wa.setTimeoutFn=setTimeout.bind(Da),wa.clearTimeoutFn=clearTimeout.bind(Da))}function B(wa){var xa='';do xa=qb[wa%64]+xa,wa=Math.floor(wa/
64);while(0<wa);return xa}function u(){var wa=B(+new Date);return wa!==Na?(bb=0,Na=wa):wa+'.'+B(bb++)}function z(wa){var xa='',Ha;for(Ha in wa)wa.hasOwnProperty(Ha)&&(xa.length&&(xa+='&'),xa+=encodeURIComponent(Ha)+'='+encodeURIComponent(wa[Ha]));return xa}function y(wa){var xa={};wa=wa.split('&');for(var Ha=0,M=wa.length;Ha<M;Ha++){var e=wa[Ha].split('=');xa[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return xa}function J(wa){wa=wa.xdomain;try{if('undefined'!=typeof XMLHttpRequest&&(!wa||
gc))return new XMLHttpRequest}catch(xa){}if(!wa)try{return new (Da[['Active'].concat('Object').join('X')])('Microsoft.XMLHTTP')}catch(xa){}}function q(){}function v(){for(var wa in hb.requests)hb.requests.hasOwnProperty(wa)&&hb.requests[wa].abort()}function F(wa){var xa=wa,Ha=wa.indexOf('['),M=wa.indexOf(']');-1!=Ha&&-1!=M&&(wa=wa.substring(0,Ha)+wa.substring(Ha,M).replace(/:/g,';')+wa.substring(M,wa.length));var e,b;wa=mb.exec(wa||'');for(var h={},n=14;n--;)h[Pb[n]]=wa[n]||'';return-1!=Ha&&-1!=M&&
(h.source=xa,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,':'),h.authority=h.authority.replace('[','').replace(']','').replace(/;/g,':'),h.ipv6uri=!0),h.pathNames=function(x,r){x=r.replace(/\/{2,9}/g,'/').split('/');'/'!=r.substr(0,1)&&0!==r.length||x.splice(0,1);'/'==r.substr(r.length-1,1)&&x.splice(x.length-1,1);return x}(0,h.path),h.queryKey=(e=h.query,b={},e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(x,r,A){r&&(b[r]=A)}),b),h}var H=Object.create(null);H.open='0';H.close='1';H.ping=
'2';H.pong='3';H.message='4';H.upgrade='5';H.noop='6';var R=Object.create(null);Object.keys(H).forEach(function(wa){R[H[wa]]=wa});for(var sa={type:'error',data:'parser error'},T='function'==typeof Blob||'undefined'!=typeof Blob&&'[object BlobConstructor]'===Object.prototype.toString.call(Blob),ca='function'==typeof ArrayBuffer,ea=function(wa,xa,Ha){var M=wa.type;wa=wa.data;return T&&wa instanceof Blob?xa?Ha(wa):Ja(wa,Ha):ca&&(wa instanceof ArrayBuffer||('function'==typeof ArrayBuffer.isView?ArrayBuffer.isView(wa):
wa&&wa.buffer instanceof ArrayBuffer))?xa?Ha(wa):Ja(new Blob([wa]),Ha):Ha(H[M]+(wa||''))},Ja=function(wa,xa){var Ha=new FileReader;return Ha.onload=function(){var M=Ha.result.split(',')[1];xa('b'+M)},Ha.readAsDataURL(wa)},fa='undefined'==typeof Uint8Array?[]:new Uint8Array(256),pa=0;64>pa;pa++)fa['ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.charCodeAt(pa)]=pa;var Ea='function'==typeof ArrayBuffer,Ka=function(wa,xa){if('string'!=typeof wa)return{type:'message',data:Oa(wa,xa)};
var Ha=wa.charAt(0);if('b'===Ha){wa=wa.substring(1);if(Ea){var M=.75*wa.length;Ha=wa.length;var e=0;'='===wa[wa.length-1]&&(M--,'='===wa[wa.length-2]&&M--);var b=new ArrayBuffer(M),h=new Uint8Array(b);for(M=0;M<Ha;M+=4){var n=fa[wa.charCodeAt(M)];var x=fa[wa.charCodeAt(M+1)];var r=fa[wa.charCodeAt(M+2)];var A=fa[wa.charCodeAt(M+3)];h[e++]=n<<2|x>>4;h[e++]=(15&x)<<4|r>>2;h[e++]=(3&r)<<6|63&A}xa=Oa(b,xa)}else xa={base64:!0,data:wa};xa={type:'message',data:xa}}else xa=R[Ha]?1<wa.length?{type:R[Ha],data:wa.substring(1)}:
{type:R[Ha]}:sa;return xa},Oa=function(wa,xa){return'blob'===xa&&wa instanceof ArrayBuffer?new Blob([wa]):wa},Ia=String.fromCharCode(30);N.prototype.on=N.prototype.addEventListener=function(wa,xa){return this._callbacks=this._callbacks||{},(this._callbacks['$'+wa]=this._callbacks['$'+wa]||[]).push(xa),this};N.prototype.once=function(wa,xa){function Ha(){this.off(wa,Ha);xa.apply(this,arguments)}return Ha.fn=xa,this.on(wa,Ha),this};N.prototype.off=N.prototype.removeListener=N.prototype.removeAllListeners=
N.prototype.removeEventListener=function(wa,xa){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var Ha,M=this._callbacks['$'+wa];if(!M)return this;if(1==arguments.length)return delete this._callbacks['$'+wa],this;for(var e=0;e<M.length;e++)if((Ha=M[e])===xa||Ha.fn===xa){M.splice(e,1);break}return 0===M.length&&delete this._callbacks['$'+wa],this};N.prototype.emit=function(wa){this._callbacks=this._callbacks||{};for(var xa=Array(arguments.length-1),Ha=this._callbacks['$'+
wa],M=1;M<arguments.length;M++)xa[M-1]=arguments[M];if(Ha){M=0;for(var e=(Ha=Ha.slice(0)).length;M<e;++M)Ha[M].apply(this,xa)}return this};N.prototype.emitReserved=N.prototype.emit;N.prototype.listeners=function(wa){return this._callbacks=this._callbacks||{},this._callbacks['$'+wa]||[]};N.prototype.hasListeners=function(wa){return!!this.listeners(wa).length};var Da='undefined'!=typeof self?self:'undefined'!=typeof window?window:Function('return this')(),cb=setTimeout,Fa=clearTimeout,Na,Xa=function(wa){function xa(M,
e,b){var h;return O(this,xa),(h=Ha.call(this,M)).description=e,h.context=b,h.type='TransportError',h}U(xa,wa);var Ha=da(xa);return xa}(S(Error));pa=function(wa){function xa(M){var e;return O(this,xa),(e=Ha.call(this)).writable=!1,C(p(e),M),e.opts=M,e.query=M.query,e.readyState='',e.socket=M.socket,e}U(xa,wa);var Ha=da(xa);return Ca(xa,[{key:'onError',value:function(M,e,b){return ya(oa(xa.prototype),'emitReserved',this).call(this,'error',new Xa(M,e,b)),this}},{key:'open',value:function(){return'closed'!==
this.readyState&&''!==this.readyState||(this.readyState='opening',this.doOpen()),this}},{key:'close',value:function(){return'opening'!==this.readyState&&'open'!==this.readyState||(this.doClose(),this.onClose()),this}},{key:'send',value:function(M){'open'===this.readyState&&this.write(M)}},{key:'onOpen',value:function(){this.readyState='open';this.writable=!0;ya(oa(xa.prototype),'emitReserved',this).call(this,'open')}},{key:'onData',value:function(M){M=Ka(M,this.socket.binaryType);this.onPacket(M)}},
{key:'onPacket',value:function(M){ya(oa(xa.prototype),'emitReserved',this).call(this,'packet',M)}},{key:'onClose',value:function(M){this.readyState='closed';ya(oa(xa.prototype),'emitReserved',this).call(this,'close',M)}}]),xa}(N);for(var qb='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''),bb=0,eb=0;64>eb;eb++);eb=!1;try{eb='undefined'!=typeof XMLHttpRequest&&'withCredentials'in new XMLHttpRequest}catch(wa){}var gc=eb,yb=null!=(new J({xdomain:!1})).responseType;eb=function(wa){function xa(M){var e;
if(O(this,xa),(e=Ha.call(this,M)).polling=!1,'undefined'!=typeof location){var b='https:'===location.protocol,h=location.port;h||=b?'443':'80';e.xd='undefined'!=typeof location&&M.hostname!==location.hostname||h!==M.port;e.xs=M.secure!==b}M=M&&M.forceBase64;return e.supportsBinary=yb&&!M,e}U(xa,wa);var Ha=da(xa);return Ca(xa,[{key:'doOpen',value:function(){this.poll()}},{key:'pause',value:function(M){var e=this;this.readyState='pausing';var b=function(){e.readyState='paused';M()};if(this.polling||
!this.writable){var h=0;this.polling&&(h++,this.once('pollComplete',function(){--h||b()}));this.writable||(h++,this.once('drain',function(){--h||b()}))}else b()}},{key:'poll',value:function(){this.polling=!0;this.doPoll();this.emitReserved('poll')}},{key:'onData',value:function(M){var e=this;(function(b,h){b=b.split(Ia);for(var n=[],x=0;x<b.length;x++){var r=Ka(b[x],h);if(n.push(r),'error'===r.type)break}return n})(M,this.socket.binaryType).forEach(function(b){if('opening'===e.readyState&&'open'===
b.type&&e.onOpen(),'close'===b.type)return e.onClose({description:'transport closed by the server'}),!1;e.onPacket(b)});'closed'!==this.readyState&&(this.polling=!1,this.emitReserved('pollComplete'),'open'===this.readyState&&this.poll())}},{key:'doClose',value:function(){var M=this,e=function(){M.write([{type:'close'}])};'open'===this.readyState?e():this.once('open',e)}},{key:'write',value:function(M){var e=this;this.writable=!1;(function(b,h){var n=b.length,x=Array(n),r=0;b.forEach(function(A,W){ea(A,
!1,function(P){x[W]=P;++r===n&&h(x.join(Ia))})})})(M,function(b){e.doWrite(b,function(){e.writable=!0;e.emitReserved('drain')})})}},{key:'uri',value:function(){var M=this.query||{},e=this.opts.secure?'https':'http',b='';!1!==this.opts.timestampRequests&&(M[this.opts.timestampParam]=u());this.supportsBinary||M.sid||(M.b64=1);this.opts.port&&('https'===e&&443!==Number(this.opts.port)||'http'===e&&80!==Number(this.opts.port))&&(b=':'+this.opts.port);M=z(M);return e+'://'+(-1!==this.opts.hostname.indexOf(':')?
'['+this.opts.hostname+']':this.opts.hostname)+b+this.opts.path+(M.length?'?'+M:'')}},{key:'request',value:function(){var M=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return K(M,{xd:this.xd,xs:this.xs},this.opts),new hb(this.uri(),M)}},{key:'doWrite',value:function(M,e){var b=this;M=this.request({method:'POST',data:M});M.on('success',e);M.on('error',function(h,n){b.onError('xhr post error',h,n)})}},{key:'doPoll',value:function(){var M=this,e=this.request();e.on('data',this.onData.bind(this));
e.on('error',function(b,h){M.onError('xhr poll error',b,h)});this.pollXhr=e}},{key:'name',get:function(){return'polling'}}]),xa}(pa);var hb=function(wa){function xa(M,e){var b;return O(this,xa),C(p(b=Ha.call(this)),e),b.opts=e,b.method=e.method||'GET',b.uri=M,b.async=!1!==e.async,b.data=void 0!==e.data?e.data:null,b.create(),b}U(xa,wa);var Ha=da(xa);return Ca(xa,[{key:'create',value:function(){var M=this,e=L(this.opts,'agent','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','autoUnref');
e.xdomain=!!this.opts.xd;e.xscheme=!!this.opts.xs;var b=this.xhr=new J(e);try{b.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var h in b.setDisableHeaderCheck&&b.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(h)&&b.setRequestHeader(h,this.opts.extraHeaders[h])}catch(n){}if('POST'===this.method)try{b.setRequestHeader('Content-type','text/plain;charset=UTF-8')}catch(n){}try{b.setRequestHeader('Accept','*/*')}catch(n){}'withCredentials'in
b&&(b.withCredentials=this.opts.withCredentials);this.opts.requestTimeout&&(b.timeout=this.opts.requestTimeout);b.onreadystatechange=function(){4===b.readyState&&(200===b.status||1223===b.status?M.onLoad():M.setTimeoutFn(function(){M.onError('number'==typeof b.status?b.status:0)},0))};b.send(this.data)}catch(n){return void this.setTimeoutFn(function(){M.onError(n)},0)}'undefined'!=typeof document&&(this.index=xa.requestsCount++,xa.requests[this.index]=this)}},{key:'onError',value:function(M){this.emitReserved('error',
M,this.xhr);this.cleanup(!0)}},{key:'cleanup',value:function(M){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=q,M)try{this.xhr.abort()}catch(e){}'undefined'!=typeof document&&delete xa.requests[this.index];this.xhr=null}}},{key:'onLoad',value:function(){var M=this.xhr.responseText;null!==M&&(this.emitReserved('data',M),this.emitReserved('success'),this.cleanup())}},{key:'abort',value:function(){this.cleanup()}}]),xa}(N);if(hb.requestsCount=0,hb.requests={},'undefined'!=typeof document)'function'==
typeof attachEvent?attachEvent('onunload',v):'function'==typeof addEventListener&&addEventListener('onpagehide'in Da?'pagehide':'unload',v,!1);var Fb='function'==typeof Promise&&'function'==typeof Promise.resolve?function(wa){return Promise.resolve().then(wa)}:function(wa,xa){return xa(wa,0)},Ob=Da.WebSocket||Da.MozWebSocket,ib='undefined'!=typeof navigator&&'string'==typeof navigator.product&&'reactnative'===navigator.product.toLowerCase(),Ma={websocket:function(wa){function xa(M){var e;return O(this,
xa),(e=Ha.call(this,M)).supportsBinary=!M.forceBase64,e}U(xa,wa);var Ha=da(xa);return Ca(xa,[{key:'doOpen',value:function(){if(this.check()){var M=this.uri(),e=this.opts.protocols,b=ib?{}:L(this.opts,'agent','perMessageDeflate','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','localAddress','protocolVersion','origin','maxPayload','family','checkServerIdentity');this.opts.extraHeaders&&(b.headers=this.opts.extraHeaders);try{this.ws=ib?new Ob(M,e,b):e?new Ob(M,e):new Ob(M)}catch(h){return this.emitReserved('error',
h)}this.ws.binaryType=this.socket.binaryType||'arraybuffer';this.addEventListeners()}}},{key:'addEventListeners',value:function(){var M=this;this.ws.onopen=function(){M.opts.autoUnref&&M.ws._socket.unref();M.onOpen()};this.ws.onclose=function(e){return M.onClose({description:'websocket connection closed',context:e})};this.ws.onmessage=function(e){return M.onData(e.data)};this.ws.onerror=function(e){return M.onError('websocket error',e)}}},{key:'write',value:function(M){var e=this;this.writable=!1;
for(var b=function(n){var x=n===M.length-1;ea(M[n],e.supportsBinary,function(r){try{e.ws.send(r)}catch(A){}x&&Fb(function(){e.writable=!0;e.emitReserved('drain')},e.setTimeoutFn)})},h=0;h<M.length;h++)b(h)}},{key:'doClose',value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:'uri',value:function(){var M=this.query||{},e=this.opts.secure?'wss':'ws',b='';this.opts.port&&('wss'===e&&443!==Number(this.opts.port)||'ws'===e&&80!==Number(this.opts.port))&&(b=':'+this.opts.port);this.opts.timestampRequests&&
(M[this.opts.timestampParam]=u());this.supportsBinary||(M.b64=1);M=z(M);return e+'://'+(-1!==this.opts.hostname.indexOf(':')?'['+this.opts.hostname+']':this.opts.hostname)+b+this.opts.path+(M.length?'?'+M:'')}},{key:'check',value:function(){return!!Ob}},{key:'name',get:function(){return'websocket'}}]),xa}(pa),polling:eb},mb=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
Pb='source protocol authority userInfo user password host port relative path directory file query anchor'.split(' '),Yb=function(wa){function xa(M){var e,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return O(this,xa),e=Ha.call(this),M&&'object'===E(M)&&(b=M,M=null),M?(M=F(M),b.hostname=M.host,b.secure='https'===M.protocol||'wss'===M.protocol,b.port=M.port,M.query&&(b.query=M.query)):b.host&&(b.hostname=F(b.host).host),C(p(e),b),e.secure=null!=b.secure?b.secure:'undefined'!=typeof location&&
'https:'===location.protocol,b.hostname&&!b.port&&(b.port=e.secure?'443':'80'),e.hostname=b.hostname||('undefined'!=typeof location?location.hostname:'localhost'),e.port=b.port||('undefined'!=typeof location&&location.port?location.port:e.secure?'443':'80'),e.transports=b.transports||['polling','websocket'],e.readyState='',e.writeBuffer=[],e.prevBufferLen=0,e.opts=K({path:'/engine.io',agent:!1,withCredentials:!1,upgrade:!0,timestampParam:'t',rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},
transportOptions:{},closeOnBeforeunload:!0},b),e.opts.path=e.opts.path.replace(/\/$/,'')+'/','string'==typeof e.opts.query&&(e.opts.query=y(e.opts.query)),e.id=null,e.upgrades=null,e.pingInterval=null,e.pingTimeout=null,e.pingTimeoutTimer=null,'function'==typeof addEventListener&&(e.opts.closeOnBeforeunload&&addEventListener('beforeunload',function(){e.transport&&(e.transport.removeAllListeners(),e.transport.close())},!1),'localhost'!==e.hostname&&(e.offlineEventListener=function(){e.onClose('transport close',
{description:'network connection lost'})},addEventListener('offline',e.offlineEventListener,!1))),e.open(),e}U(xa,wa);var Ha=da(xa);return Ca(xa,[{key:'createTransport',value:function(M){var e=K({},this.opts.query);e.EIO=4;e.transport=M;this.id&&(e.sid=this.id);e=K({},this.opts.transportOptions[M],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Ma[M](e)}},{key:'open',value:function(){var M=this;if(this.opts.rememberUpgrade&&xa.priorWebsocketSuccess&&
-1!==this.transports.indexOf('websocket'))var e='websocket';else{if(0===this.transports.length)return void this.setTimeoutFn(function(){M.emitReserved('error','No transports available')},0);e=this.transports[0]}this.readyState='opening';try{e=this.createTransport(e)}catch(b){return this.transports.shift(),void this.open()}e.open();this.setTransport(e)}},{key:'setTransport',value:function(M){var e=this;this.transport&&this.transport.removeAllListeners();this.transport=M;M.on('drain',this.onDrain.bind(this)).on('packet',
this.onPacket.bind(this)).on('error',this.onError.bind(this)).on('close',function(b){return e.onClose('transport close',b)})}},{key:'probe',value:function(M){function e(){A||(A=!0,aa(),r.close(),r=null)}function b(){P('transport closed')}function h(){P('socket closed')}function n(Q){r&&Q.name!==r.name&&e()}var x=this,r=this.createTransport(M),A=!1;xa.priorWebsocketSuccess=!1;var W=function(){A||(r.send([{type:'ping',data:'probe'}]),r.once('packet',function(Q){if(!A)if('pong'===Q.type&&'probe'===Q.data){if(x.upgrading=
!0,x.emitReserved('upgrading',r),r)xa.priorWebsocketSuccess='websocket'===r.name,x.transport.pause(function(){A||'closed'!==x.readyState&&(aa(),x.setTransport(r),r.send([{type:'upgrade'}]),x.emitReserved('upgrade',r),r=null,x.upgrading=!1,x.flush())})}else Q=Error('probe error'),Q.transport=r.name,x.emitReserved('upgradeError',Q)}))},P=function(Q){Q=Error('probe error: '+Q);Q.transport=r.name;e();x.emitReserved('upgradeError',Q)},aa=function(){r.removeListener('open',W);r.removeListener('error',P);
r.removeListener('close',b);x.off('close',h);x.off('upgrading',n)};r.once('open',W);r.once('error',P);r.once('close',b);this.once('close',h);this.once('upgrading',n);r.open()}},{key:'onOpen',value:function(){if(this.readyState='open',xa.priorWebsocketSuccess='websocket'===this.transport.name,this.emitReserved('open'),this.flush(),'open'===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var M=0,e=this.upgrades.length;M<e;M++)this.probe(this.upgrades[M])}},{key:'onPacket',value:function(M){if('opening'===
this.readyState||'open'===this.readyState||'closing'===this.readyState)switch(this.emitReserved('packet',M),this.emitReserved('heartbeat'),M.type){case 'open':this.onHandshake(JSON.parse(M.data));break;case 'ping':this.resetPingTimeout();this.sendPacket('pong');this.emitReserved('ping');this.emitReserved('pong');break;case 'error':var e=Error('server error');e.code=M.data;this.onError(e);break;case 'message':this.emitReserved('data',M.data),this.emitReserved('message',M.data)}}},{key:'onHandshake',
value:function(M){this.emitReserved('handshake',M);this.id=M.sid;this.transport.query.sid=M.sid;this.upgrades=this.filterUpgrades(M.upgrades);this.pingInterval=M.pingInterval;this.pingTimeout=M.pingTimeout;this.maxPayload=M.maxPayload;this.onOpen();'closed'!==this.readyState&&this.resetPingTimeout()}},{key:'resetPingTimeout',value:function(){var M=this;this.clearTimeoutFn(this.pingTimeoutTimer);this.pingTimeoutTimer=this.setTimeoutFn(function(){M.onClose('ping timeout')},this.pingInterval+this.pingTimeout);
this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:'onDrain',value:function(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emitReserved('drain'):this.flush()}},{key:'flush',value:function(){if('closed'!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var M=this.getWritablePackets();this.transport.send(M);this.prevBufferLen=M.length;this.emitReserved('flush')}}},{key:'getWritablePackets',value:function(){if(!(this.maxPayload&&
'polling'===this.transport.name&&1<this.writeBuffer.length))return this.writeBuffer;for(var M,e=1,b=0;b<this.writeBuffer.length;b++){if(M=this.writeBuffer[b].data){if('string'==typeof M){for(var h=0,n=0,x=0,r=M.length;x<r;x++)128>(h=M.charCodeAt(x))?n+=1:2048>h?n+=2:55296>h||57344<=h?n+=3:(x++,n+=4);M=n}else M=Math.ceil(1.33*(M.byteLength||M.size));e+=M}if(0<b&&e>this.maxPayload)return this.writeBuffer.slice(0,b);e+=2}return this.writeBuffer}},{key:'write',value:function(M,e,b){return this.sendPacket('message',
M,e,b),this}},{key:'send',value:function(M,e,b){return this.sendPacket('message',M,e,b),this}},{key:'sendPacket',value:function(M,e,b,h){if('function'==typeof e&&(h=e,e=void 0),'function'==typeof b&&(h=b,b=null),'closing'!==this.readyState&&'closed'!==this.readyState)(b=b||{}).compress=!1!==b.compress,M={type:M,data:e,options:b},this.emitReserved('packetCreate',M),this.writeBuffer.push(M),h&&this.once('flush',h),this.flush()}},{key:'close',value:function(){var M=this,e=function(){M.onClose('forced close');
M.transport.close()},b=function x(){M.off('upgrade',x);M.off('upgradeError',x);e()},h=function(){M.once('upgrade',b);M.once('upgradeError',b)};return'opening'!==this.readyState&&'open'!==this.readyState||(this.readyState='closing',this.writeBuffer.length?this.once('drain',function(){M.upgrading?h():e()}):this.upgrading?h():e()),this}},{key:'onError',value:function(M){xa.priorWebsocketSuccess=!1;this.emitReserved('error',M);this.onClose('transport error',M)}},{key:'onClose',value:function(M,e){'opening'!==
this.readyState&&'open'!==this.readyState&&'closing'!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners('close'),this.transport.close(),this.transport.removeAllListeners(),'function'==typeof removeEventListener&&removeEventListener('offline',this.offlineEventListener,!1),this.readyState='closed',this.id=null,this.emitReserved('close',M,e),this.writeBuffer=[],this.prevBufferLen=0)}},{key:'filterUpgrades',value:function(M){for(var e=[],b=0,h=M.length;b<
h;b++)~this.transports.indexOf(M[b])&&e.push(M[b]);return e}}]),xa}(N);Yb.protocol=4;return function(wa,xa){return new Yb(wa,xa)}});
function BindingHelper(E){var O={};'undefined'!=typeof E&&(O=E);O.process=function(ha,Ca,K){if('undefined'==typeof ha||!Array.isArray(ha))throw Error('`bindings` must be a defined array');'undefined'==typeof Ca&&(Ca=ha.length,K=0);if(ha[K]){var U=ha[K];if('undefined'==typeof U.call)throw Error('`bindings.['+K+'].call` is required !');if('function'!=typeof O[U.call])throw Error('`bindingContext.'+U.call+'` is not a function');var oa=U.call;delete U.call;try{if('undefined'!=typeof U.handler){if(!window[U.handler])throw Error('`'+
U.handler+'` could not be reached. You must expose it to the `window` do object before any call.');var Y=U.handler;delete U.handler;window[Y].apply(this,Object.values(U));U.handler=Y}else O[oa].apply(this,Object.values(U));U.call=oa}catch(V){console.error('BindingHelper encountered error while trying to execute `'+oa+'`'+V.stack||V)}O.process(ha,Ca,K+1)}};return O}define('helpers/binding',[],function(){return BindingHelper});
if('undefined'!==typeof module&&module.exports){var fs=require('fs'),execSync=require('child_process').execSync,util=require('util'),promisify=util.promisify;try{var console=require('../../logger')}catch(E){}}
function Domain(E,O){var ha='undefined'!==typeof module&&module.exports?!1:!0,Ca=!1;ha&&(Ca=!!window.MSInputMethodContext&&!!document.documentMode);'function'==typeof E&&(O=E,E=void 0);var K={filename:'../dist/public_suffix_list.dat',url:'https://publicsuffix.org/list/public_suffix_list.dat',alternativeUrl:'https://raw.githubusercontent.com/publicsuffix/list/master/public_suffix_list.dat',isCachingRrequired:!1,isUpdating:!1},U=null,oa=null,Y=function(p,da,ya){if('undefined'==typeof da)da=K;else for(let N in K)'undefined'==
typeof da[N]&&(da[N]=K[N]);ha||(da.filename=__dirname+'/'+da.filename);ha&&da.isCachingRrequired&&(console.warn('[DOMAIN] `options.isCachingRrequired` is only available for backend'),da.isCachingRrequired=!1);U=da;if(ya)return V(da,function(N){N?ya(N):(console.debug('[DOMAIN] PSL Loaded'),ya(N,p))});V(da);console.debug('[DOMAIN] PSL Loaded');return p},V=async function(p,da){var ya=ha||p.isCachingRrequired?p.url:p.filename,N='undefined'!=typeof p.isUpdating?p.isUpdating:!1,L=null;if(ha)if(oa&&!N)da(!1);
else if(window.fetch){L=N=null;try{N=await fetch(ya),oa=L=await N.text()}catch(B){L=Error('[DOMAIN] Could not load PSL\n'+(B.stack||B.message||B));da(L);return}p.isUpdating=!1;da(!1)}else L=Error('[DOMAIN] Fetch API not supported'),da(L);else{ya=!1;if('undefined'!=typeof fs.accessSync)try{fs.accessSync(p.filename,fs.constants.F_OK),ya=!0}catch(B){ya=!1;try{fs.lstatSync(p.filename).isSymbolicLink()&&(ya=!0)}catch(u){}}else ya=fs.existsSync(p.filename);ya||(p.isCachingRrequired=!0);if(p.isCachingRrequired){ya=
'curl -o '+p.filename+' '+p.url+' >/dev/null 2>&1';console.debug('[DOMAIN] Running: '+ya);try{execSync(ya)}catch(B){console.warn('[DOMAIN] could not fetch from `'+p.url+'`. Trying with `'+p.alternativeUrl+'`');ya='curl -o '+p.filename+' '+p.alternativeUrl+' >/dev/null 2>&1';try{execSync(ya)}catch(u){da(u);return}}var C=!1;nIntervId=setInterval(()=>{if('undefined'!=typeof fs.accessSync)try{fs.accessSync(p.filename,fs.constants.F_OK),C=!0}catch(B){C=!1;try{fs.lstatSync(p.filename).isSymbolicLink()&&
(C=!0)}catch(u){}}else C=fs.existsSync(p.filename);C&&(clearInterval(nIntervId),oa=fs.readFileSync(p.filename).toString(),da(!1))},200)}try{oa=fs.readFileSync(p.filename).toString(),da&&da(!1)}catch(B){console.warn('[DOMAIN] could not read from `'+p.filename+'`'),V(E,da)}}},m=function(p){U.isUpdating=!0;V(U,p)},S={getRootDomain:function(p,da){'undefined'==typeof da&&(da=!1);var ya=!1,N=!1,L=p.replace(/^(.*):\/\/|\/(.*)/g,''),C=L.split(/\./g).reverse(),B=C.length?C.length-1:0,u=oa.replace(/\/\/\s*(.*)\n|^\s*\n/gm,
'').split(/\n/).filter(function(z,y,J){/[^a-z 0-9.]+/.test(z)&&(z=z.replace(/[^a-z 0-9.]+/g,'').replace(/^\./g,''));return/\./.test(z)&&!ya&&(new RegExp('.'+z+'$')).test(L)?(ya=!0,B=z.split(/\./g).length,J.splice(0,J.length),!1):z});L=C[B];0<B&&(C=C.splice(0,B),N=C[0],/:(.*)$/.test(N)&&(N=N.replace(/:(.*)$/,'')),(N=ya||!ya&&-1<u.indexOf(N)?!0:!1)?1<B&&!ya?(C.splice(2),L=C.reverse().join('.')):L+='.'+C.reverse().join('.'):1<B?(C.splice(2),L=C.reverse().join('.')):L+='.'+C.reverse().join('.'));/:(.*)$/.test(L)&&
(L=L.replace(/:(.*)$/,''));console.debug('[DOMAIN] isSLD: '+ya,p,' -> ',L);return/^true$/i.test(da)?{value:L,isSLD:ya,isRegisteredTldOrSld:N}:L}};ha?S.onReady=function(){}:S.updatePSL=m;return ha&&Ca&&!window.fetch?(Ca=document.createElement('script'),Ca.type='text/javascript',Ca.src='https://cdn.jsdelivr.net/npm/promise-polyfill@8.1.3/dist/polyfill.min.js',m=document.createElement('script'),m.type='text/javascript',m.src='https://cdn.jsdelivr.net/npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js',document.head.appendChild(Ca),
document.head.appendChild(m),setTimeout(()=>Y(S,E,O),500)):Y(S,E,O)}'undefined'!==typeof module&&module.exports?module.exports=Domain:'function'===typeof define&&define.amd&&define('utils/domain',[],function(){return Domain});
define('gina/link','require jquery vendor/uuid utils/domain utils/merge utils/events'.split(' '),function(E){E('jquery').noConflict();var O=E('vendor/uuid'),ha=E('utils/domain'),Ca=null,K=E('utils/merge');E('utils/events');return function(U){function oa(u,z){var y=C(u),J=y.id,q=document.getElementById(J)||null;(q.getAttribute('data-gina-link-event-on-success')||q.getAttribute('data-gina-link-event-on-error'))&&listenToXhrEvents(y);z='undefined'==typeof z?da:K(z,da);if(/^(http|https):/.test(u)&&!(new RegExp('^'+
window.location.protocol+'//'+window.location.host)).test(u)){var v=Ca.getRootDomain(window.location.hostname).value,F=Ca.getRootDomain(u).value;v=v===F?!0:!1;gina.config.envIsDev&&(console.debug('Checking CORS from Popin plugin...TODO - local CORS Proxy'),console.debug('Is request from same domain ? ',v));v||(u=u.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+u)}z.url=u;y&&'undefined'!=typeof y.options&&(z=K(y.options,z));z.withCredentials?'withCredentials'in p?z.isSynchrone?p.open(z.method,
z.url,z.isSynchrone):p.open(z.method,z.url):'undefined'!=typeof XDomainRequest?(p=new XDomainRequest,p.open(z.method,z.url)):(p=null,triggerEvent(gina,q,'error.'+J,'CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ')):z.isSynchrone?p.open(z.method,z.url,z.isSynchrone):p.open(z.method,z.url);if(!p)throw Error('No `xhr` object initiated');z.$link=y;handleXhr(p,q,z,E);p.send()}function Y(u,z){if('object'!=typeof z)throw Error('`options` must be an object');
u.options=K(z,V.options);z=document.getElementById(u.id)||null;if('undefined'==typeof m.$links[u.id]){if(-1<ya.indexOf(u.id))throw Error('`link '+u.id+'` already exists !');if(!gina.events[evt]){addListener(gina,z,evt,function(q){cancelEvent(q);q=L(q.target.id);var v=q.url;'undefined'==typeof q.options.isSynchrone&&(q.options.isSynchrone=!1);'undefined'==typeof q.options.withCredentials&&(q.options.withCredentials=!1);oa(v,q.options)});var y=z.childNodes,J=0;lLen=y.length;if(0<lLen)for(;J<lLen;++J)'undefined'!=
typeof y[J].tagName&&N(y[J],z,evt)}u.request=oa;u.getLinkById=L;u.getLinkByUrl=C;m.$links[u.id]=u}}this.plugin='link';registerEvents(this.plugin,'loaded ready open close destroy success error progress'.split(' '));var V={options:{url:void 0,'class':'gina-link-default'},authorizedEvents:['ready','success','error'],events:{}},m={plugin:this.plugin,id:'gina-links-'+O.v4(),on,eventData:{},$links:{},target:document,isReady:!1,initialized:!1},S={plugin:this.plugin,on,eventData:{},target:document,url:null,
request:null,$forms:[]},p=null,da={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}},ya=[],N=function(u,z,y){addListener(gina,u,'click',function(J){cancelEvent(J);triggerEvent(gina,z,y)})},L=function(u){return'undefined'!=typeof m.$links[u]?m.$links[u]:null},C=function(u){var z=null,y;for(y in gina.link.$links)if('undefined'!=typeof gina.link.$links[y].url&&gina.link.$links[y].url==u){z=gina.link.$links[y];break}return z},B=function(u,z){'undefined'==
typeof u&&(u=m.target);var y,J=null;u=u.getElementsByTagName('a');for(var q=0,v=u.length;q<v;++q)if(((y=u[q].getAttribute('data-gina-link'))||''==y)&&!/^false$/i.test(y)){y=u[q];var F={type:'a',method:'GET'};var H=y.getAttribute('data-gina-link-url');F.url='undefined'!=typeof H&&null!=H?H:y.getAttribute('href');H=y.getAttribute('id');if('undefined'==typeof H||null==H||''==H||/popin\.link/.test(H))H='link.click.gina-link-'+m.id+'-'+O.v4();y.id=H;evt=F.id=H;y.setAttribute('id',evt);'A'==y.tagName&&
(J=y.getAttribute('onclick'));J?'undefined'==typeof J||/return false/.test(J)||(J=/;$/.test(J)?J+'return false;':J+'; return false;',y.setAttribute('onclick',J)):y.setAttribute('onclick','return false;');'undefined'==typeof m.$links[F.id]&&(F.target=y,y=K(F,S),Y(y,z))}};new ha(function(u,z){if(u)throw u;Ca=z});return function(u){m.bindLinks=B;m.request=oa;m.getLinkById=L;m.getLinkByUrl=C;m.on('init',function(z){if(window.XMLHttpRequest)p=new XMLHttpRequest;else if(window.ActiveXObject)try{p=new ActiveXObject('Msxml2.XMLHTTP')}catch(y){try{p=
new ActiveXObject('Microsoft.XMLHTTP')}catch(J){}}evt='click';addListener(gina,m.target,evt,function(y){'undefined'==typeof y.target.id&&(y.target.setAttribute('id',evt+'.'+O.v4()),y.target.id=y.target.getAttribute('id'));if(/^link\.click\./.test(y.target.id)){cancelEvent(y);var J=y.target.id;(new RegExp('^link.click.gina-link-'+m.id)).test(J)&&triggerEvent(gina,y.target,J,y.detail)}});'undefined'==typeof u&&(u={});m.options=u;B(m.target,u);gina.linkIsBinded=!0;m.isReady=!0;gina.hasLinkHandler=!0;
gina.link=K(gina.link,m);triggerEvent(gina,m.target,'ready.'+m.id,m)});m.initialized=!0;return m}(U)}});
define('gina/popin','require jquery vendor/uuid utils/domain utils/merge utils/routing utils/events'.split(' '),function(E){E('jquery').noConflict();var O=E('vendor/uuid'),ha=E('utils/domain'),Ca=null,K=E('utils/merge');E('utils/routing');E('utils/events');return function(U){function oa(){var T=null,ca;for(ca in gina.popin.$popins)if('undefined'!=typeof gina.popin.$popins[ca].isOpen&&gina.popin.$popins[ca].isOpen){T=gina.popin.$popins[ca];break}!T&&gina.popin.activePopinId&&(T=gina.popin.$popins[gina.popin.activePopinId]);
return T}function Y(T,ca){var ea=T.target,Ja=T.type;'undefined'!=typeof T.detail&&'function'==typeof T.detail.trim&&(ea.innerHTML=T.detail.trim());T=function(yb,hb,Fb){var Ob=Fb.getAttribute('data-gina-popin-is-link');Ob=/^true$/i.test(Ob)?!0:!1;'link'!=yb||Ob||(yb='action');addListener(gina,Fb,hb,function(ib){cancelEvent(ib);if('close'!=yb){var Ma=!1,mb='loaded.'+ca.id;'undefined'==typeof gina.events[mb]&&addListener(gina,ea,mb,function(Pb){Pb.preventDefault();Ma||(Ma=!0,S(Pb.detail))});mb={isSynchrone:!1,
withCredentials:!1};mb=K(ca.options,mb);m(ca.name,Fb.href,mb)}removeListener(gina,ib.target,ib.type)});addListener(gina,Fb,'click',function(ib){cancelEvent(ib);if(null!=ib.target.getAttribute('disabled')&&'false'!=ib.target.getAttribute('disabled'))return!1;if('link'==yb){var Ma=ib.target.getAttribute('href')||null,mb=ib.target.getAttribute('target');null!=mb&&''!=mb?window.open(Ma,mb):triggerEvent(gina,ib.target,ib.currentTarget.id,ca)}else'undefined'==typeof ib.target.id&&(ib.target.setAttribute('id',
hb+'.'+O.v4()),ib.target.id=ib.target.getAttribute('id')),/^popin\.close\./.test(ib.target.id)&&(cancelEvent(ib),ca.isRedirecting=!1,N(ca.name)),/^popin\.click\./.test(ib.target.id)&&(cancelEvent(ib),Ma=ib.target.id,(new RegExp('^popin.click.gina-popin-'+B.id)).test(Ma)&&triggerEvent(gina,ib.target,Ma,ib.detail))})};gina.popinIsBinded=!0;var fa=null,pa=null,Ea=null;ca.isOpen||addListener(gina,B.target.childNodes[0],'mousedown',function(yb){if(/gina-popin-is-active/.test(yb.target.className)){removeListener(gina,
yb.target,'mousedown');yb=[];fa=0;var hb=ea.getElementsByTagName('button');pa=0;Ea=hb.length;if(0<Ea)for(;pa<Ea;++pa)/gina-popin-close/.test(hb[pa].className)&&(yb[fa]=hb[pa],++fa);hb=ea.getElementsByTagName('div');pa=0;Ea=hb.length;if(0<Ea)for(;pa<Ea;++pa)/gina-popin-close/.test(hb[pa].className)&&(yb[fa]=hb[pa],++fa);hb=ea.getElementsByTagName('a');pa=0;Ea=hb.length;if(0<Ea)for(;pa<Ea;++pa)/gina-popin-close/.test(hb[pa].className)&&(yb[fa]=hb[pa],++fa);pa=0;for(Ea=yb.length;pa<Ea;++pa){hb=yb[pa];
let Fb=hb.getAttribute('id');for(let Ob=0,ib=L.length;Ob<ib;Ob++){let Ma=L[Ob];'undefined'!=typeof gina.events[Ma]&&gina.events[Ma]==Fb&&removeListener(gina,hb,Ma);'undefined'!=typeof gina.events[Fb]&&gina.events[Fb]==Fb&&removeListener(gina,hb,Fb);'undefined'!=typeof gina.events[Ma+'.'+Fb]&&gina.events[Ma+'.'+Fb]==Fb&&removeListener(gina,hb,Ma+'.'+Fb);'undefined'!=typeof gina.events[Ma+'.'+Fb]&&gina.events[Ma+'.'+Fb]==Ma+'.'+Fb&&removeListener(gina,hb,Ma+'.'+Fb)}}ca.isRedirecting=!1;N(ca.name)}});
/<form/i.test(ea.innerHTML)&&'undefined'!=typeof z&&z&&(ca.hasForm=!0);var Ka=[],Oa=[],Ia=[];Oa=ea.getElementsByTagName('button');pa=fa=0;Ea=Oa.length;if(0<Oa.length)for(;pa<Ea;++pa)/gina-popin-close/.test(Oa[pa].className)&&(Ka[fa]=Oa[pa],++fa);Oa=ea.getElementsByTagName('div');pa=0;Ea=Oa.length;if(0<Ea)for(;pa<Ea;++pa)/gina-popin-close/.test(Oa[pa].className)&&(Ka[fa]=Oa[pa],++fa);Oa=ea.getElementsByTagName('a');pa=0;Ea=Oa.length;if(0<Ea)for(;pa<Ea;++pa)/gina-popin-close/.test(Oa[pa].className)?
(Ka[fa]=Oa[pa],++fa):('undefined'==typeof Oa[pa]||/(#|#.*)$/.test(Oa[pa].href)||Oa[pa].id)&&('undefined'==typeof Oa[pa]||/(#|#.*)$/.test(Oa[pa].href)||/^(click\.|popin\.link)/.test(Oa[pa].id))||Ia.push(Oa[pa]);var Da=null;Oa=null;pa=0;for(Ea=Ka.length;pa<Ea;++pa)'A'==Ka[pa].tagName&&(Da=Ka[pa].getAttribute('onclick')),Da?'undefined'==typeof Da||/return false/.test(Da)||(Da=/;$/.test(Da)?Da+'return false;':Da+'; return false;'):Ka[pa].setAttribute('onclick','return false;'),Ka[pa].id?Oa=Ka[pa].id:
(Oa='popin.close.'+O.v4(),Ka[pa].id=Oa,Ka[pa].setAttribute('id',Oa)),'undefined'!=typeof gina.events[Oa]&&gina.events[Oa]==Ka[pa].id||T('close',Oa,Ka[pa]);fa=0;Ea=Ia.length;var cb=null,Fa=null,Na=null,Xa={},qb=null,bb=new DOMParser,eb=null,gc=null;for(Oa=Ka=Ka=null;fa<Ea;++fa)null==Ia[fa].getAttribute('disabled')&&(Ia[fa].id=/^null$/i.test(Ia[fa].getAttribute('id'))?null:Ia[fa].getAttribute('id'),Ia[fa].id&&/^popin\.link/.test(Ia[fa].id)&&/^popin\.click/.test(Ia[fa].id)?Oa=Ia[fa].id:(Oa=!0,Ka=Ia[fa].getAttribute('href'),
Ka&&''!=Ka&&'#'!=Ka||('#'!=Ka&&Ia[fa].setAttribute('href','#'),Oa=!1),/^null$/i.test(Ia[fa].id)?Oa?(Oa='popin.link.'+O.v4(),Ia[fa].setAttribute('data-gina-popin-is-link',!0)):(Oa='popin.click.'+O.v4(),Ia[fa].setAttribute('data-gina-popin-is-link',!1)):Oa=Ia[fa].id,Ia[fa].id=Oa,Ia[fa].setAttribute('id',Oa)),Ka=(Ka=Ia[fa].getAttribute('data-gina-form-submit'))&&/^true$/i.test(Ka)?!0:!1,Ka||(/^(null|\s*)$/.test(Ia[fa].getAttribute('href'))||addListener(gina,Ia[fa],'click',function(yb){yb.preventDefault();
ca.isRedirecting=!0;if(ca.hasForm){cb=ca.target.getElementsByTagName('FORM');Fa=0;for(Na=cb.length;Fa<Na;++Fa)if(eb=yb.currentTarget.id,gc=bb.parseFromString(cb.item(Fa).innerHTML,'text/html').getElementById(eb)||!1)qb=cb[Fa].getAttribute('data-gina-form-inherits-data')||null,Xa=K(Xa,JSON.parse(decodeURIComponent(qb)));0<Xa.count()&&(/\?/.test(yb.currentTarget.href)?yb.currentTarget.href+='&inheritedData='+encodeURIComponent(JSON.stringify(Xa)):yb.currentTarget.href+='?inheritedData='+encodeURIComponent(JSON.stringify(Xa)))}}),
'undefined'!=typeof gina.events[Oa]&&gina.events[Oa]==Ia[fa].id||T('link',Oa,Ia[fa])));if(ca.hasForm)for(T=null,Ia=ea.getElementsByTagName('form'),fa=0,Ea=Ia.length;fa<Ea;++fa)Ia[fa].id&&'string'==typeof Ia[fa]?T=Ia[fa].id:(T=Ia[fa].getAttribute('id')||'form.'+O.v4(),Ia[fa].setAttribute('id',T),Ia[fa].id=T),0>ca.$forms.indexOf(T)&&ca.$forms.push(T),Ia[fa].close=N,z.isPopinContext=!0,z.validateFormById(Ia[fa].getAttribute('id')),removeListener(gina,ca.target,Ja)}function V(T,ca){var ea=oa();if(gina&&
'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&'undefined'!=typeof T&&'undefined'!=typeof ca&&T){var Ja=T;try{ea=null;!ca&&Ja.error&&/^(\{|\[)/.test(Ja.error)&&(Ja.error=JSON.parse(Ja.error));if('undefined'!=typeof Ja.error&&'object'==typeof Ja.error&&'object'==typeof Ja.error){ea={status:Ja.status};for(xErr in Ja.error)/^error$/.test(xErr)||(ea[xErr]=Ja.error[xErr]);ea.error=Ja.error.error;Ja=ea}else'undefined'!=typeof Ja.error&&'string'==typeof Ja.error&&(Ja=T);Ja.isXHRViewData=!0;
ginaToolbar.update('data-xhr',Ja);return}catch(fa){throw fa;}}try{ea=F(B.activePopinId)}catch(fa){ginaToolbar.update('data-xhr',fa)}Ja='string'==typeof T&&/<(.*)>/.test(T)?(new DOMParser).parseFromString(T,'text/html').getElementById('gina-without-layout-xhr-data'):document.getElementById('gina-without-layout-xhr-data');if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&Ja)try{'undefined'!=typeof Ja.value&&Ja.value&&(Ja=JSON.parse(decodeURIComponent(Ja.value)),Ja.isXHRViewData=!0,
ginaToolbar.update('data-xhr',Ja))}catch(fa){throw fa;}T='string'==typeof T&&/<(.*)>/.test(T)?(new DOMParser).parseFromString(T,'text/html').getElementById('gina-without-layout-xhr-view'):document.getElementById('gina-without-layout-xhr-view');if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&T)try{'undefined'!=typeof T.value&&T.value?(T=JSON.parse(decodeURIComponent(T.value)),ginaToolbar.update('view-xhr',T)):ginaToolbar.update('el-xhr',ea.id)}catch(fa){throw fa;}}function m(T,
ca,ea){if('undefined'==typeof T){if('undefined'==typeof this.name)throw Error('`$popin.name` needs to be defined !');T=this.name}else'undefined'==typeof this.name&&'undefined'!=T&&(this.name=T);var Ja=H(T),fa=Ja.id;gina.popin.activePopinId||(gina.popin.activePopinId=fa);var pa=document.getElementById(fa)||null;null==pa&&(T=Ja.options.class+' '+fa,pa=document.createElement('div'),pa.setAttribute('id',fa),pa.setAttribute('class',T),B.target.firstChild.appendChild(pa));'undefined'==typeof ea?ea=sa:(T=
sa.withCredentials,ea=K(ea,sa),ea.withCredentials=T);if(/^(http|https):/.test(ca)&&!(new RegExp('^'+window.location.protocol+'//'+window.location.host)).test(ca)){T=Ca.getRootDomain(window.location.hostname).value;var Ea=Ca.getRootDomain(ca).value;T=T===Ea?!0:!1;gina.config.envIsDev&&(console.debug('Checking CORS from Popin plugin...TODO - local CORS Proxy'),console.debug('Is request from same domain ? ',T));T||(ca=ca.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+ca,ea.withCredentials=!1)}ea.url=
ca;Ja.options=K(ea,Ja.options);var Ka=null;ea.withCredentials?'withCredentials'in y?ea.isSynchrone?y.open(ea.method,ea.url,ea.isSynchrone):y.open(ea.method,ea.url):'undefined'!=typeof XDomainRequest?(y=new XDomainRequest,y.open(ea.method,ea.url)):(y=null,Ka='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ',triggerEvent(gina,pa,'error.'+fa,Ka)):ea.isSynchrone?y.open(ea.method,ea.url,ea.isSynchrone):y.open(ea.method,ea.url);var Oa=!1;if(y){y.withCredentials=
'undefined'!=typeof ea.withCredentials?ea.withCredentials:!1;y.onerror=function(Da,cb){Ka={status:y.status,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};Oa=!0;B.eventData.error=Ka+'\n'+cb;V(Ka,Oa);triggerEvent(gina,pa,'error.'+fa,Ka)};for(var Ia in ea.headers)y.setRequestHeader(Ia,ea.headers[Ia]);y.onreadystatechange=function(Da){if(4==y.readyState)if(Da=null,/^2/.test(y.status))try{Da=y.responseText;var cb=y.getResponseHeader('Content-Type'),
Fa=/application\/json/.test(cb)?!0:!1,Na=!0;Fa&&(Da=JSON.parse(y.responseText),Da.status=y.status,Da.contentType=cb,Na=!1);B.eventData.success=Da;if(!Fa&&Ja.isOpen&&!Ja.hasForm||!Fa&&Ja.isOpen&&Na)S(Da,Na);else{if(Fa&&'undefined'!=typeof Da.location||Fa&&'undefined'!=typeof Da.reload){cb=!1;'undefined'!=typeof Da.isXhrRedirect&&/^true$/i.test(Da.isXhrRedirect)&&(cb=!0);if('undefined'!=typeof Da.location&&cb){if('undefined'!=typeof Da.popin&&'undefined'!=typeof Da.popin.close){Ja.isRedirecting=!1;
Ja.close();var Xa=Da.popin.reload?Da.popin.reload:!1;Da.popin.location||Da.popin.url||(delete Da.popin,Xa&&(Da.popin={reload:Xa}))}Fa='_self';'undefined'!=typeof Da.target&&(Da.target='_'+Da.target,Fa=Da.target);if(/^_self$/.test(Fa))return Fa=null,Fa='undefined'!=typeof Da.popin?Da.popin.location||Da.popin.url:Da.location,Ja.load(Ja.name,Fa,Ja.options),setTimeout(function(qb){qb.isOpen||qb.open()},50,Ja);window.open(Da.location,Fa);return}if('undefined'!=typeof Da.location){document.location=Da.location;
return}if('undefined'!=typeof Da.reload){document.location.reload();return}'undefined'!=typeof Da.popin&&'undefined'!=typeof Da.popin.close&&(Ja.isRedirecting=!1,N(Ja.name))}if(!Fa){GINA_ENV_IS_DEV&&V(Da);triggerEvent(gina,pa,'loaded.'+fa,Da);return}GINA_ENV_IS_DEV&&V(Da);triggerEvent(gina,$forms[0],'success.'+fa,Da)}GINA_ENV_IS_DEV&&V(Da)}catch(qb){Oa=!1,Da={status:422,error:qb.description||qb.stack},/application\/json/.test(y.getResponseHeader('Content-Type'))&&(Da.error=JSON.parse(y.responseText),
Oa=!0),B.eventData.error=Da,GINA_ENV_IS_DEV&&V(Da,Oa),triggerEvent(gina,pa,'error.'+fa,Da)}else Oa=!1,Da={status:y.status,error:y.responseText},/application\/json/.test(y.getResponseHeader('Content-Type'))&&(Da.error=JSON.parse(y.responseText),Oa=!0),B.eventData.error=Da,GINA_ENV_IS_DEV&&V(Da,Oa),triggerEvent(gina,pa,'error.'+fa,Da)};y.send();return{open:function(){var Da=!1;addListener(gina,pa,'loaded.'+fa,function(cb){cb.preventDefault();Da||(Da=!0,B.activePopinId=Ja.id,Y(cb,Ja),da(Ja.name))})}}}}
function S(T,ca){var ea=oa();if(ea){if(!ea.isOpen)throw Error('Popin `'+ea.name+'` is not open !');ea.isRedirecting='undefined'!=typeof ca?ca:!1;ca=ea.target;ca.innerHTML=T.trim();ya(ea.name,!0);Y({target:ca,type:'loaded.'+ea.id},ea);ea.isRedirecting?triggerEvent(gina,B.target,'loaded.'+ea.id,ea):triggerEvent(gina,B.target,'open.'+ea.id,ea)}}function p(T){var ca=setupXhr();ca.open('GET',T,!0);ca.setRequestHeader('Content-Type','text/javascript');ca.onload=function(){eval(ca.response)};ca.send()}function da(T){var ca=
'undefined'!=typeof T?H(T):F(this.id);if(!ca)throw Error('Popin name `'+T+'` not found !');T=document.getElementById(ca.id);var ea=ca.parentScripts,Ja=T.getElementsByTagName('script'),fa=0,pa=Ja.length,Ea=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');for(Ea=new RegExp(Ea+':\\d+|'+Ea);fa<pa;++fa){if('undefined'==typeof Ja[fa].src||''==Ja[fa].src)continue;let Ka=Ja[fa].src.replace(/(https|http|):\/\//,'').replace(Ea,'');-1<ea.indexOf(Ka)||p(Ja[fa].src)}Y({target:T,type:'loaded.'+
ca.id},ca);/gina-popin-is-active/.test(T.className)||(T.className+=' gina-popin-is-active');/gina-popin-is-active/.test(B.target.firstChild.className)||(B.target.firstChild.className+=' gina-popin-is-active');/gina-popin-is-active/.test(B.target.firstChild.className)&&removeListener(gina,B.target,'open.'+ca.id);ca.isOpen=!0;ca.target=T;B.activePopinId=ca.id;triggerEvent(gina,B.target,'open.'+ca.id,ca)}function ya(T,ca){var ea='undefined'!=typeof T?H(T):oa();if(!ea&&'undefined'!=typeof T)throw Error('Popin `'+
T+'` not found !');if('undefined'!=typeof ea&&null!=ea&&(T=ea.target,ca='undefined'!=typeof ca?ca:!1,null!=T&&/gina-popin-is-active/.test(T.className))){ca||(B.target.firstChild.className=B.target.firstChild.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,''),T.className=T.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,''),T.innerHTML='');if(z&&(ca=0,T=ea.$forms.length,z.$forms&&0<T))for(;ca<T;++ca)'undefined'!=typeof z.$forms[ea.$forms[ca]]&&
z.$forms[ea.$forms[ca]].destroy(),ea.$forms.splice(ca,1);gina.popinIsBinded=!1;removeListener(gina,ea.target,'loaded.'+ea.id)}}function N(T){if('undefined'==typeof T&&/^true$/.test(this.isOpen)){T=this.name;var ca=this}else{ca=H(T)||oa();if(!ca)return;T=ca.name}if(!ca&&'undefined'!=typeof T)throw Error('Popin `'+T+'` not found !');if(ca.isOpen&&'undefined'!=typeof ca&&null!=ca&&!ca.isRedirecting){var ea=ca.target;removeListener(gina,ca.target,'ready.'+B.id);ca.hasForm&&(ca.hasForm=!1);if(null!=ea&&
/gina-popin-is-active/.test(ea.className)){ya(T);ca.isOpen=!1;gina.popinIsBinded=!1;GINA_ENV_IS_DEV&&gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&ginaToolbar.restore();B.activePopinId=null;if(0<ca.$headers.length){T=0;ea=ca.$headers.length;try{for(;T<ea;++T)document.getElementById(ca.$headers[T].id).remove()}catch(Ja){console.warn('Could not remove script `'+ca.$headers[T].id+'`\n'+Ja.stack)}ca.$headers=[]}triggerEvent(gina,ca.target,'close.'+ca.id,ca)}}}this.plugin='popin';var L=
'init loaded ready open close click destroy success error progress'.split(' ');registerEvents(this.plugin,L);var C={name:void 0,'class':'gina-popin-default'},B={plugin:this.plugin,id:'gina-popins-'+O.v4(),on,eventData:{},$popins:{},activePopinId:null,getActivePopin:null,target:document,isReady:!1,initialized:!1},u={plugin:this.plugin,on,eventData:{},target:document,name:null,load:null,loadContent:null,open:null,isOpen:!1,isRedirecting:!1,close:null,$forms:[],hasForm:!1,$headers:[]},z=null,y=null,
J=[],q=function(){var T=document.createElement('div');T.id=B.id;T.setAttribute('id',B.id);T.setAttribute('class','gina-popins');var ca=document.createElement('div');ca.setAttribute('id','gina-popins-overlay');ca.setAttribute('class','gina-popins-overlay');T.appendChild(ca);document.body.appendChild(T);B.target=T;B.on=on;gina.popinContainer=B.id},v=function(T,ca,ea){addListener(gina,T,'click',function(Ja){cancelEvent(Ja);triggerEvent(gina,ca,ea)})},F=function(T){return'undefined'!=typeof B.$popins[T]?
B.$popins[T]:null},H=function(T){var ca=null,ea;for(ea in B.$popins)if(B.$popins[ea].name===T){ca=B.$popins[ea];break}return ca},R=function(T,ca){ca=getElementsByAttribute('data-gina-popin-name');var ea=null,Ja=null,fa=null,pa=null,Ea=null,Ka=null;Ea=0;for(Ka=ca.length;Ea<Ka;++Ea){ea=ca[Ea];Ja=ea.getAttribute('data-gina-popin-name');'A'==ea.tagName&&(fa=ea.getAttribute('href'),''==fa||'#'==fa||/#/.test(fa))&&(fa=null);fa||'undefined'==typeof ea.getAttribute('data-gina-popin-url')||(fa=ea.getAttribute('data-gina-popin-url'));
if(!fa)throw Error('Found `data-gina-popin-name` without `url` !');ea.url||(ea.url=fa);ea.popinName||(ea.popinName=Ja);if(Ja==T.name&&(pa='popin.click.gina-popin-'+B.id+'-'+O.v4()+'-'+Ja,ea.id=pa,ea.setAttribute('id',pa),!gina.events[pa])){addListener(gina,ea,pa,function(Ia){cancelEvent(Ia);var Da=!1;addListener(gina,T.target,'loaded.'+T.id,function(Fa){Fa.preventDefault();Da||(Da=!0,console.debug('active popin should be ',T.id),gina.popin.activePopinId=T.id,Y(Fa,T),T.isOpen||da(T.name))});Ia={isSynchrone:!1,
withCredentials:!1};Ia=K(T.options,Ia);var cb=this.getAttribute('data-gina-popin-url')||this.getAttribute('href');if(!cb)throw Error('Popin `url` not defined, please check value for `data-gina-popin-url`');m(T.name,cb,Ia)});Ja=ea.childNodes;var Oa=0;lLen=Ja.length;if(0<lLen)for(;Oa<lLen;++Oa)'undefined'!=typeof Ja[Oa].tagName&&v(Ja[Oa],ea,pa)}}pa='click';addListener(gina,document,pa,function(Ia){if(null!=Ia.target.getAttribute('disabled')&&'false'!=Ia.target.getAttribute('disabled'))return!1;'undefined'==
typeof Ia.target.id&&(Ia.target.setAttribute('id',pa+'.'+O.v4()),Ia.target.id=Ia.target.getAttribute('id'));if(/^popin\.close\./.test(Ia.target.id)){cancelEvent(Ia);var Da=Ia.target.id;triggerEvent(gina,Ia.target,Da,Ia.detail)}/^popin\.click\./.test(Ia.target.id)&&(cancelEvent(Ia),Da=Ia.target.id,(new RegExp('^popin.click.gina-popin-'+B.id)).test(Da)&&triggerEvent(gina,Ia.target,Da,Ia.detail))});gina.popinIsBinded=!1},sa={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}};
gina.hasPopinHandler?(B.target=document.getElementById(gina.popinContainer),B.on=on):q();new ha(function(T,ca){if(T)throw T;Ca=ca});return function(T){B.getPopinById=F;B.getPopinByName=H;B.load=m;B.loadContent=S;B.getActivePopin=oa;B.open=da;B.close=N;addListener(gina,B.target,'init.'+B.id,function(ca){ca=null;if('undefined'==typeof B.$popins['gina-popin-'+B.id+'-'+T.name]){var ea=ca=K({},u);if('object'!=typeof T)throw Error('`options` must be an object');ea.options=K(T,C);ea.id='gina-popin-'+B.id+
'-'+ea.options.name;if('undefined'==typeof B.$popins[ea.id]){if('string'!=typeof ea.options.name||''==ea.options.name)throw Error('`options.name` can not be left `empty` or `undefined`');if(-1<J.indexOf(ea.options.name))throw Error('`popin '+ea.options.name+'` already exists !');'undefined'!=typeof ea.options.validator&&(z=ea.options.validator,ea.validateFormById=z.validateFormById);ea.options['class']='gina-popin-container '+ea.options['class'];ea.name=ea.options.name;ea.target=B.target;ea.load=
m;ea.loadContent=S;ea.open=da;ea.close=N;GINA_ENV_IS_DEV&&(ea.updateToolbar=V);ea.parentScripts=[];ea.parentStyles=[];var Ja=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');Ja=new RegExp(Ja+':\\d+|'+Ja);var fa=document.getElementsByTagName('script');for(let Ea=0,Ka=fa.length;Ea<Ka;Ea++)if(fa[Ea].src&&''!=fa[Ea].src){var pa=fa[Ea].src.replace(/(https|http|):\/\//,'').replace(Ja,'');ea.parentScripts[Ea]=pa}fa=document.getElementsByTagName('link');for(let Ea=0,Ka=fa.length;Ea<
Ka;Ea++)'undefined'!=typeof fa[Ea].rel&&/stylesheet/i.test(fa[Ea].rel)&&(pa=fa[Ea].href.replace(/(https|http|):\/\//,'').replace(Ja,''),ea.parentStyles[Ea]=pa);B.$popins[ea.id]=ea;if(window.XMLHttpRequest)y=new XMLHttpRequest;else if(window.ActiveXObject)try{y=new ActiveXObject('Msxml2.XMLHTTP')}catch(Ea){try{y=new ActiveXObject('Microsoft.XMLHTTP')}catch(Ka){}}R(ea)}}B.isReady=!0;gina.hasPopinHandler=!0;gina.popin=K(gina.popin,B);triggerEvent(gina,B.target,'ready.'+B.id,ca)});B.initialized=!0;return B}(U)}});
function fadeIn(E){var O=.1;E.style.display='block';var ha=setInterval(function(){1<=O&&clearInterval(ha);E.style.opacity=O;E.style.filter='alpha(opacity='+100*O+')';O+=.1*O},10)}function fadeOut(E){var O=1,ha=setInterval(function(){.1>=O&&(clearInterval(ha),E.style.display='none');E.style.opacity=O;E.style.filter='alpha(opacity='+100*O+')';O-=.1*O},50)}define('utils/effects',function(){});
'function'!==typeof Object.assign&&Object.defineProperty(Object,'assign',{value:function(E,O){if(null===E||void 0===E)throw new TypeError('Cannot convert undefined or null to object');for(var ha=Object(E),Ca=1;Ca<arguments.length;Ca++){var K=arguments[Ca];if(null!==K&&void 0!==K)for(var U in K)Object.prototype.hasOwnProperty.call(K,U)&&(ha[U]=K[U])}return ha},writable:!0,configurable:!0});
if('undefined'==typeof JSON.clone){var clone=function(E,O){if(null==E||'object'!=typeof E||E.constructor!=Object&&E.constructor!=Array)return E;if(E.constructor==Date||E.constructor==RegExp||E.constructor==Function||E.constructor==String||E.constructor==Number||E.constructor==Boolean)return new E.constructor(E);O=O||new E.constructor;for(var ha=0,Ca=Object.getOwnPropertyNames(E).length||0,K=Object.keys(E);ha<Ca;)O[K[ha]]='undefined'==typeof O[K[ha]]?clone(E[K[ha]],null):O[K[ha]],ha++;return O};JSON.clone=
clone}if('undefined'==typeof JSON.escape){var escape=function(E){try{return E.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(O){throw O;}};JSON.escape=escape}define('utils/polyfill',function(){});
function Inherits(E,O){return function(ha,Ca){var K='undefined'==typeof ha||'undefined'==typeof Ca?"inherits(a, b): neither [ a ] nor [ b ] can't be undefined or null":!1;if(K)throw Error(K);K=function(){return function(){if(this){this.prototype=ha.prototype;this.name||(this.name=ha.name);this.prototype.name=this.name;for(var U in Ca.prototype)this[U]||(this[U]=Ca.prototype[U]);Ca.apply(this,arguments);ha.apply(this,arguments)}}}(ha,Ca);void 0==ha.prototype&&(ha.prototype={});void 0==Ca.prototype&&
(Ca.prototype={});ha.prototype=Object.create(Ca.prototype,{});K.prototype=Object.create(ha.prototype,{});return K}}'undefined'!==typeof module&&module.exports?module.exports=Inherits():'function'===typeof define&&define.amd&&define('utils/inherits',[],function(){return Inherits()});var readyList=[{name:'gina',ctx:window.gina,fn:window.onGinaLoaded}],readyFired=!1,readyEventHandlersInstalled=!1;
function ready(){if(!readyFired){readyFired=!0;var E=null,O=function(ha,Ca){if(Ca[ha])if('gina'==Ca[ha].name)var K=window.setInterval(function(U,oa){try{if('undefined'==typeof oa&&(oa=window.readyList),oa[U].ctx=window.gina,E=oa[U].fn.call(window,oa[U].ctx,window.require))window.clearInterval(K),++U,O(U,oa)}catch(Y){throw window.clearInterval(K),Y;}},50,ha,Ca);else window.$||'undefined'==typeof parent.window.$||(window.$=parent.window.$),'undefined'==typeof window.originalContext&&'undefined'!=typeof window.$&&
(window.originalContext=window.$),Ca[ha].ctx=window.originalContext||$,Ca[ha].fn.call(window,Ca[ha].ctx,window.require),++ha,O(ha,Ca);else Ca=[]};O(0,readyList)}}function readyStateChange(){'complete'===document.readyState&&gina.ready()}
if('undefined'==typeof window.gina){var gina={_global:{register:function(E){if('undefined'!=typeof E)for(let O in E)window[O]=E[O]},unregister:function(E){if('undefined'==typeof E||!Array.isArray(E))throw Error('`variables` needs to ba an array');for(let O=0,ha=E.length;O<ha;O++)delete window[E[O]]}},ready:function(E,O){readyFired?setTimeout(function(){E(O)},1):(readyList.push({name:'anonymous',fn:E,ctx:O}),'complete'===document.readyState||!document.attachEvent&&'interactive'===document.readyState?
setTimeout(ready,1):readyEventHandlersInstalled||(document.addEventListener?(document.addEventListener('DOMContentLoaded',ready,!1),window.addEventListener('load',ready,!1)):(document.attachEvent('onreadystatechange',readyStateChange),window.attachEvent('onload',ready)),readyEventHandlersInstalled=!0))}};window.gina=gina}define('core',['require','gina'],function(E){E('gina')(window.gina)});require.config({packages:['gina']});require('vendor/uuid vendor/engine.io core helpers/prototypes helpers/binding helpers/dateFormat gina/link gina/validator gina/popin gina/storage utils/dom utils/events utils/effects utils/polyfill utils/inherits utils/form-validator utils/collection utils/routing'.split(' '));
for(var tags=document.getElementsByTagName('script'),t=0,len=tags.length;t<len;++t)if(/gina.min.js|gina.js/.test(tags[t].getAttribute('src'))){tags[t].onload=function(E){if(window.onGinaLoaded)var O=window.onGinaLoaded;document.addEventListener?document.addEventListener('ginaloaded',function(ha){window.gina=ha.detail;O(ha.detail)}):document.attachEvent&&document.attachEvent('ginaloaded',function(ha){window.gina=ha.detail;O(ha.detail)})}();break};
