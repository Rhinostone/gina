/*
 RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license  @source https://gist.github.com/1129031  Engine.IO v6.2.2
 (c) 2014-2022 Guillermo Rauch
 Released under the MIT License.
*/
var requirejs,require,define;
(function(E,Q){function da(Ia,La){return La||''}function Ga(Ia){return'[object Function]'===X.call(Ia)}function L(Ia){return'[object Array]'===X.call(Ia)}function V(Ia,La){if(Ia){var Za;for(Za=0;Za<Ia.length&&(!Ia[Za]||!La(Ia[Za],Za,Ia));Za+=1);}}function pa(Ia,La){if(Ia){var Za;for(Za=Ia.length-1;-1<Za&&(!Ia[Za]||!La(Ia[Za],Za,Ia));--Za);}}function U(Ia,La){return va.call(Ia,La)}function Y(Ia,La){return U(Ia,La)&&Ia[La]}function m(Ia,La){for(var Za in Ia)if(U(Ia,Za)&&La(Ia[Za],Za))break}function T(Ia,
La,Za,vb){La&&m(La,function(cb,Xa){if(Za||!U(Ia,Xa))!vb||'object'!==typeof cb||!cb||L(cb)||Ga(cb)||cb instanceof RegExp?Ia[Xa]=cb:(Ia[Xa]||(Ia[Xa]={}),T(Ia[Xa],cb,Za,vb))});return Ia}function x(Ia,La){return function(){return La.apply(Ia,arguments)}}function ma(Ia){throw Ia;}function Da(Ia){if(!Ia)return Ia;var La=E;V(Ia.split('.'),function(Za){La=La[Za]});return La}function R(Ia,La,Za,vb){La=Error(La+'\nhttps://requirejs.org/docs/errors.html#'+Ia);La.requireType=Ia;La.requireModules=vb;Za&&(La.originalError=
Za);return La}function J(){if(H&&'interactive'===H.readyState)return H;pa(document.getElementsByTagName('script'),function(Ia){if('interactive'===Ia.readyState)return H=Ia});return H}var w,q,r,H,I,A,y,C=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,F=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,O=/\.js$/,z=/^\.\//;var S=Object.prototype;var X=S.toString,va=S.hasOwnProperty,na=!('undefined'===typeof window||'undefined'===typeof navigator||!window.document),Ca=!na&&'undefined'!==typeof importScripts,
Fa=na&&'PLAYSTATION 3'===navigator.platform?/^complete$/:/^(complete|loaded)$/,Ba='undefined'!==typeof opera&&'[object Opera]'===opera.toString(),ua={},Aa={},Ra=[],Sa=!1;if('undefined'===typeof define){if('undefined'!==typeof requirejs){if(Ga(requirejs))return;Aa=requirejs;requirejs=void 0}'undefined'===typeof require||Ga(require)||(Aa=require,require=void 0);var Na=requirejs=function(Ia,La,Za,vb){var cb='_';if(!L(Ia)&&'string'!==typeof Ia){var Xa=Ia;L(La)?(Ia=La,La=Za,Za=vb):Ia=[]}Xa&&Xa.context&&
(cb=Xa.context);(vb=Y(ua,cb))||(vb=ua[cb]=Na.s.newContext(cb));Xa&&vb.configure(Xa);return vb.require(Ia,La,Za)};Na.config=function(Ia){return Na(Ia)};Na.nextTick='undefined'!==typeof Q?function(Ia){Q(Ia,4)}:function(Ia){Ia()};require||=Na;Na.version='2.3.6';Na.jsExtRegExp=/^\/|:|\?|\.js$/;Na.isBrowser=na;S=Na.s={contexts:ua,newContext:function(Ia){function La(u,fa,ra){var ka;fa=fa&&fa.split('/');var ia=Ha.map,za=ia&&ia['*'];if(u){u=u.split('/');var xa=u.length-1;Ha.nodeIdCompat&&O.test(u[xa])&&(u[xa]=
u[xa].replace(O,''));'.'===u[0].charAt(0)&&fa&&(xa=fa.slice(0,fa.length-1),u=xa.concat(u));xa=u;for(ka=0;ka<xa.length;ka++){var Ya=xa[ka];'.'===Ya?(xa.splice(ka,1),--ka):'..'===Ya&&0!==ka&&(1!==ka||'..'!==xa[2])&&'..'!==xa[ka-1]&&0<ka&&(xa.splice(ka-1,2),ka-=2)}u=u.join('/')}if(ra&&ia&&(fa||za)){xa=u.split('/');ka=xa.length;a:for(;0<ka;--ka){var Ta=xa.slice(0,ka).join('/');if(fa)for(Ya=fa.length;0<Ya;--Ya)if(ra=Y(ia,fa.slice(0,Ya).join('/')))if(ra=Y(ra,Ta)){var ob=ra;var wb=ka;break a}if(!Kb&&za&&
Y(za,Ta)){var Kb=Y(za,Ta);var eb=ka}}!ob&&Kb&&(ob=Kb,wb=eb);ob&&(xa.splice(0,wb,ob),u=xa.join('/'))}return(ob=Y(Ha.pkgs,u))?ob:u}function Za(u){na&&V(document.getElementsByTagName('script'),function(fa){if(fa.getAttribute('data-requiremodule')===u&&fa.getAttribute('data-requirecontext')===P.contextName)return fa.parentNode.removeChild(fa),!0})}function vb(u){var fa=Y(Ha.paths,u);if(fa&&L(fa)&&1<fa.length)return fa.shift(),P.require.undef(u),P.makeRequire(null,{skipMap:!0})([u]),!0}function cb(u){var fa=
u?u.indexOf('!'):-1;if(-1<fa){var ra=u.substring(0,fa);u=u.substring(fa+1,u.length)}return[ra,u]}function Xa(u,fa,ra,ka){var ia=null,za=fa?fa.name:null,xa=u,Ya=!0,Ta='';u||(Ya=!1,u='_@r'+(B+=1));u=cb(u);ia=u[0];u=u[1];if(ia){ia=La(ia,za,ka);var ob=Y(n,ia)}if(u)if(ia)Ta=ra?u:ob&&ob.normalize?ob.normalize(u,function(Kb){return La(Kb,za,ka)}):-1===u.indexOf('!')?La(u,za,ka):u;else{Ta=La(u,za,ka);u=cb(Ta);ia=u[0];Ta=u[1];ra=!0;var wb=P.nameToUrl(Ta)}ra=!ia||ob||ra?'':'_unnormalized'+(W+=1);return{prefix:ia,
name:Ta,parentMap:fa,unnormalized:!!ra,url:wb,originalName:xa,isDefine:Ya,id:(ia?ia+'!'+Ta:Ta)+ra}}function Cb(u){var fa=u.id,ra=Y(M,fa);ra||=M[fa]=new P.Module(u);return ra}function Db(u,fa,ra){var ka=u.id,ia=Y(M,ka);if(!U(n,ka)||ia&&!ia.defineEmitComplete)if(ia=Cb(u),ia.error&&'error'===fa)ra(ia.error);else ia.on(fa,ra);else'defined'===fa&&ra(n[ka])}function Eb(u,fa){var ra=u.requireModules,ka=!1;if(fa)fa(u);else if(V(ra,function(ia){if(ia=Y(M,ia))ia.error=u,ia.events.error&&(ka=!0,ia.emit('error',
u))}),!ka)Na.onError(u)}function ub(){Ra.length&&(V(Ra,function(u){var fa=u[0];'string'===typeof fa&&(P.defQueueMap[fa]=!0);h.push(u)}),Ra=[])}function xb(u){delete M[u];delete e[u]}function Fb(u,fa,ra){var ka=u.map.id;u.error?u.emit('error',u.error):(fa[ka]=!0,V(u.depMaps,function(ia,za){ia=ia.id;var xa=Y(M,ia);!xa||u.depMatched[za]||ra[ia]||(Y(fa,ia)?(u.defineDep(za,n[ia]),u.check()):Fb(xa,fa,ra))}),ra[ka]=!0)}function Qa(){var u,fa,ra=(u=1E3*Ha.waitSeconds)&&P.startTime+u<(new Date).getTime(),
ka=[],ia=[],za=!1,xa=!0;if(!ta){ta=!0;m(e,function(Ya){var Ta=Ya.map,ob=Ta.id;if(Ya.enabled&&(Ta.isDefine||ia.push(Ya),!Ya.error))if(!Ya.inited&&ra)vb(ob)?za=fa=!0:(ka.push(ob),Za(ob));else if(!Ya.inited&&Ya.fetched&&Ta.isDefine&&(za=!0,!Ta.prefix))return xa=!1});if(ra&&ka.length)return u=R('timeout','Load timeout for modules: '+ka,null,ka),u.contextName=P.contextName,Eb(u);xa&&V(ia,function(Ya){Fb(Ya,{},{})});ra&&!fa||!za||!na&&!Ca||wa||(wa=Q(function(){wa=0;Qa()},50));ta=!1}}function Gb(u){U(n,
u[0])||Cb(Xa(u[0],null,!0)).init(u[1],u[2])}function Yb(u){u=u.currentTarget||u.srcElement;var fa=P.onScriptLoad;u.detachEvent&&!Ba?u.detachEvent('onreadystatechange',fa):u.removeEventListener('load',fa,!1);fa=P.onScriptError;u.detachEvent&&!Ba||u.removeEventListener('error',fa,!1);return{node:u,id:u&&u.getAttribute('data-requiremodule')}}function Zb(){for(ub();h.length;){var u=h.shift();if(null===u[0])return Eb(R('mismatch','Mismatched anonymous define() module: '+u[u.length-1]));Gb(u)}P.defQueueMap=
{}}var ta,wa,Ha={waitSeconds:7,baseUrl:'./',paths:{},bundles:{},pkgs:{},shim:{},config:{}},M={},e={},b={},h=[],n={},v={},p={},B=1,W=1;var N={require:function(u){return u.require?u.require:u.require=P.makeRequire(u.map)},exports:function(u){u.usingExports=!0;if(u.map.isDefine)return u.exports?n[u.map.id]=u.exports:u.exports=n[u.map.id]={}},module:function(u){return u.module?u.module:u.module={id:u.map.id,uri:u.map.url,config:function(){return Y(Ha.config,u.map.id)||{}},exports:u.exports||(u.exports=
{})}}};var ba=function(u){this.events=Y(b,u.id)||{};this.map=u;this.shim=Y(Ha.shim,u.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};ba.prototype={init:function(u,fa,ra,ka){ka=ka||{};if(!this.inited){this.factory=fa;if(ra)this.on('error',ra);else this.events.error&&(ra=x(this,function(ia){this.emit('error',ia)}));this.depMaps=u&&u.slice(0);this.errback=ra;this.inited=!0;this.ignore=ka.ignore;ka.enabled||this.enabled?this.enable():this.check()}},defineDep:function(u,
fa){this.depMatched[u]||(this.depMatched[u]=!0,--this.depCount,this.depExports[u]=fa)},fetch:function(){if(!this.fetched){this.fetched=!0;P.startTime=(new Date).getTime();var u=this.map;if(this.shim)P.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],x(this,function(){return u.prefix?this.callPlugin():this.load()}));else return u.prefix?this.callPlugin():this.load()}},load:function(){var u=this.map.url;v[u]||(v[u]=!0,P.load(this.map.id,u))},check:function(){if(this.enabled&&!this.enabling){var u=
this.map.id;var fa=this.depExports;var ra=this.exports,ka=this.factory;if(!this.inited)U(P.defQueueMap,u)||this.fetch();else if(this.error)this.emit('error',this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(Ga(ka)){if(this.events.error&&this.map.isDefine||Na.onError!==ma)try{ra=P.execCb(u,ka,fa,ra)}catch(xa){var ia=xa}else ra=P.execCb(u,ka,fa,ra);this.map.isDefine&&void 0===ra&&((fa=this.module)?ra=fa.exports:this.usingExports&&(ra=this.exports));if(ia)return ia.requireMap=
this.map,ia.requireModules=this.map.isDefine?[this.map.id]:null,ia.requireType=this.map.isDefine?'define':'require',Eb(this.error=ia)}else ra=ka;this.exports=ra;if(this.map.isDefine&&!this.ignore&&(n[u]=ra,Na.onResourceLoad)){var za=[];V(this.depMaps,function(xa){za.push(xa.normalizedMap||xa)});Na.onResourceLoad(P,this.map,za)}xb(u);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit('defined',this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var u=
this.map,fa=u.id,ra=Xa(u.prefix);this.depMaps.push(ra);Db(ra,'defined',x(this,function(ka){var ia=Y(p,this.map.id),za=this.map.name,xa=this.map.parentMap?this.map.parentMap.name:null,Ya=P.makeRequire(u.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){ka.normalize&&(za=ka.normalize(za,function(wb){return La(wb,xa,!0)})||'');var Ta=Xa(u.prefix+'!'+za,this.map.parentMap,!0);Db(Ta,'defined',x(this,function(wb){this.map.normalizedMap=Ta;this.init([],function(){return wb},null,{enabled:!0,
ignore:!0})}));if(ka=Y(M,Ta.id)){this.depMaps.push(Ta);if(this.events.error)ka.on('error',x(this,function(wb){this.emit('error',wb)}));ka.enable()}}else if(ia)this.map.url=P.nameToUrl(ia),this.load();else{var ob=x(this,function(wb){this.init([],function(){return wb},null,{enabled:!0})});ob.error=x(this,function(wb){this.inited=!0;this.error=wb;wb.requireModules=[fa];m(M,function(Kb){0===Kb.map.id.indexOf(fa+'_unnormalized')&&xb(Kb.map.id)});Eb(wb)});ob.fromText=x(this,function(wb,Kb){var eb=u.name,
yb=Xa(eb),Vb=Sa;Kb&&(wb=Kb);Vb&&(Sa=!1);Cb(yb);U(Ha.config,fa)&&(Ha.config[eb]=Ha.config[fa]);try{Na.exec(wb)}catch(Wa){return Eb(R('fromtexteval','fromText eval for '+fa+' failed: '+Wa,Wa,[fa]))}Vb&&(Sa=!0);this.depMaps.push(yb);P.completeLoad(eb);Ya([eb],ob)});ka.load(u.name,Ya,ob,Ha)}}));P.enable(ra,this);this.pluginMaps[ra.id]=ra},enable:function(){e[this.map.id]=this;this.enabling=this.enabled=!0;V(this.depMaps,x(this,function(u,fa){var ra;if('string'===typeof u){u=Xa(u,this.map.isDefine?this.map:
this.map.parentMap,!1,!this.skipMap);this.depMaps[fa]=u;if(ra=Y(N,u.id)){this.depExports[fa]=ra(this);return}this.depCount+=1;Db(u,'defined',x(this,function(ia){this.undefed||(this.defineDep(fa,ia),this.check())}));this.errback?Db(u,'error',x(this,this.errback)):this.events.error&&Db(u,'error',x(this,function(ia){this.emit('error',ia)}))}ra=u.id;var ka=M[ra];U(N,ra)||!ka||ka.enabled||P.enable(u,this)}));m(this.pluginMaps,x(this,function(u){var fa=Y(M,u.id);fa&&!fa.enabled&&P.enable(u,this)}));this.enabling=
!1;this.check()},on:function(u,fa){var ra=this.events[u];ra||=this.events[u]=[];ra.push(fa)},emit:function(u,fa){V(this.events[u],function(ra){ra(fa)});'error'===u&&delete this.events[u]}};var P={config:Ha,contextName:Ia,registry:M,defined:n,urlFetched:v,defQueue:h,defQueueMap:{},Module:ba,makeModuleMap:Xa,nextTick:Na.nextTick,onError:Eb,configure:function(u){u.baseUrl&&'/'!==u.baseUrl.charAt(u.baseUrl.length-1)&&(u.baseUrl+='/');if('string'===typeof u.urlArgs){var fa=u.urlArgs;u.urlArgs=function(ia,
za){return(-1===za.indexOf('?')?'?':'&')+fa}}var ra=Ha.shim,ka={paths:!0,bundles:!0,config:!0,map:!0};m(u,function(ia,za){ka[za]?(Ha[za]||(Ha[za]={}),T(Ha[za],ia,!0,!0)):Ha[za]=ia});u.bundles&&m(u.bundles,function(ia,za){V(ia,function(xa){xa!==za&&(p[xa]=za)})});u.shim&&(m(u.shim,function(ia,za){L(ia)&&(ia={deps:ia});!ia.exports&&!ia.init||ia.exportsFn||(ia.exportsFn=P.makeShimExports(ia));ra[za]=ia}),Ha.shim=ra);u.packages&&V(u.packages,function(ia){ia='string'===typeof ia?{name:ia}:ia;var za=ia.name;
ia.location&&(Ha.paths[za]=ia.location);Ha.pkgs[za]=ia.name+'/'+(ia.main||'main').replace(z,'').replace(O,'')});m(M,function(ia,za){ia.inited||ia.map.unnormalized||(ia.map=Xa(za,null,!0))});(u.deps||u.callback)&&P.require(u.deps||[],u.callback)},makeShimExports:function(u){return function(){var fa;u.init&&(fa=u.init.apply(E,arguments));return fa||u.exports&&Da(u.exports)}},makeRequire:function(u,fa){function ra(ka,ia,za){var xa;fa.enableBuildCallback&&ia&&Ga(ia)&&(ia.__requireJsBuild=!0);if('string'===
typeof ka){if(Ga(ia))return Eb(R('requireargs','Invalid require call'),za);if(u&&U(N,ka))return N[ka](M[u.id]);if(Na.get)return Na.get(P,ka,u,ra);var Ya=Xa(ka,u,!1,!0);Ya=Ya.id;return U(n,Ya)?n[Ya]:Eb(R('notloaded','Module name "'+Ya+'" has not been loaded yet for context: '+Ia+(u?'':'. Use require([])')))}Zb();P.nextTick(function(){Zb();xa=Cb(Xa(null,u));xa.skipMap=fa.skipMap;xa.init(ka,ia,za,{enabled:!0});Qa()});return ra}fa=fa||{};T(ra,{isBrowser:na,toUrl:function(ka){var ia=ka.lastIndexOf('.'),
za=ka.split('/')[0];if(-1!==ia&&('.'!==za&&'..'!==za||1<ia)){var xa=ka.substring(ia,ka.length);ka=ka.substring(0,ia)}return P.nameToUrl(La(ka,u&&u.id,!0),xa,!0)},defined:function(ka){return U(n,Xa(ka,u,!1,!0).id)},specified:function(ka){ka=Xa(ka,u,!1,!0).id;return U(n,ka)||U(M,ka)}});u||(ra.undef=function(ka){ub();var ia=Xa(ka,u,!0),za=Y(M,ka);za.undefed=!0;Za(ka);delete n[ka];delete v[ia.url];delete b[ka];pa(h,function(xa,Ya){xa[0]===ka&&h.splice(Ya,1)});delete P.defQueueMap[ka];za&&(za.events.defined&&
(b[ka]=za.events),xb(ka))});return ra},enable:function(u){Y(M,u.id)&&Cb(u).enable()},completeLoad:function(u){var fa=Y(Ha.shim,u)||{},ra=fa.exports;for(ub();h.length;){var ka=h.shift();if(null===ka[0]){ka[0]=u;if(ia)break;var ia=!0}else ka[0]===u&&(ia=!0);Gb(ka)}P.defQueueMap={};ka=Y(M,u);if(!ia&&!U(n,u)&&ka&&!ka.inited)if(!Ha.enforceDefine||ra&&Da(ra))Gb([u,fa.deps||[],fa.exportsFn]);else return vb(u)?void 0:Eb(R('nodefine','No define call for '+u,null,[u]));Qa()},nameToUrl:function(u,fa,ra){var ka,
ia;(ka=Y(Ha.pkgs,u))&&(u=ka);if(ka=Y(p,u))return P.nameToUrl(ka,fa,ra);if(Na.jsExtRegExp.test(u))ka=u+(fa||'');else{ka=Ha.paths;var za=u.split('/');for(ia=za.length;0<ia;--ia){var xa=za.slice(0,ia).join('/');if(xa=Y(ka,xa)){L(xa)&&(xa=xa[0]);za.splice(0,ia,xa);break}}ka=za.join('/');ka+=fa||(/^data:|^blob:|\?/.test(ka)||ra?'':'.js');ka=('/'===ka.charAt(0)||ka.match(/^[\w\+\.\-]+:/)?'':Ha.baseUrl)+ka}return Ha.urlArgs&&!/^blob:/.test(ka)?ka+Ha.urlArgs(u,ka):ka},load:function(u,fa){Na.load(P,u,fa)},
execCb:function(u,fa,ra,ka){return fa.apply(ka,ra)},onScriptLoad:function(u){if('load'===u.type||Fa.test((u.currentTarget||u.srcElement).readyState))H=null,u=Yb(u),P.completeLoad(u.id)},onScriptError:function(u){var fa=Yb(u);if(!vb(fa.id)){var ra=[];m(M,function(ka,ia){0!==ia.indexOf('_@r')&&V(ka.depMaps,function(za){if(za.id===fa.id)return ra.push(ia),!0})});return Eb(R('scripterror','Script error for "'+fa.id+(ra.length?'", needed by: '+ra.join(', '):'"'),u,[fa.id]))}}};P.require=P.makeRequire();
return P}};Na({});V(['toUrl','undef','defined','specified'],function(Ia){Na[Ia]=function(){var La=ua._;return La.require[Ia].apply(La,arguments)}});if(na){var zb=S.head=document.getElementsByTagName('head')[0];if(w=document.getElementsByTagName('base')[0])zb=S.head=w.parentNode}Na.onError=ma;Na.createNode=function(Ia,La,Za){La=Ia.xhtml?document.createElementNS('http://www.w3.org/1999/xhtml','html:script'):document.createElement('script');La.type=Ia.scriptType||'text/javascript';La.charset='utf-8';
La.async=!0;return La};Na.load=function(Ia,La,Za){var vb=Ia&&Ia.config||{};if(na){var cb=Na.createNode(vb,La,Za);cb.setAttribute('data-requirecontext',Ia.contextName);cb.setAttribute('data-requiremodule',La);!cb.attachEvent||cb.attachEvent.toString&&0>cb.attachEvent.toString().indexOf('[native code')||Ba?(cb.addEventListener('load',Ia.onScriptLoad,!1),cb.addEventListener('error',Ia.onScriptError,!1)):(Sa=!0,cb.attachEvent('onreadystatechange',Ia.onScriptLoad));cb.src=Za;if(vb.onNodeCreated)vb.onNodeCreated(cb,
vb,La,Za);I=cb;w?zb.insertBefore(cb,w):zb.appendChild(cb);I=null;return cb}if(Ca)try{Q(function(){},0),importScripts(Za),Ia.completeLoad(La)}catch(Xa){Ia.onError(R('importscripts','importScripts failed for '+La+' at '+Za,Xa,[La]))}};na&&!Aa.skipDataMain&&pa(document.getElementsByTagName('script'),function(Ia){zb||(zb=Ia.parentNode);if(q=Ia.getAttribute('data-main'))return A=q,Aa.baseUrl||-1!==A.indexOf('!')||(r=A.split('/'),A=r.pop(),y=r.length?r.join('/')+'/':'./',Aa.baseUrl=y),A=A.replace(O,''),
Na.jsExtRegExp.test(A)&&(A=q),Aa.deps=Aa.deps?Aa.deps.concat(A):[A],!0});define=function(Ia,La,Za){var vb;'string'!==typeof Ia&&(Za=La,La=Ia,Ia=null);L(La)||(Za=La,La=null);!La&&Ga(Za)&&(La=[],Za.length&&(Za.toString().replace(C,da).replace(F,function(Xa,Cb){La.push(Cb)}),La=(1===Za.length?['require']:['require','exports','module']).concat(La)));if(Sa&&(vb=I||J())){Ia||=vb.getAttribute('data-requiremodule');var cb=ua[vb.getAttribute('data-requirecontext')]}cb?(cb.defQueue.push([Ia,La,Za]),cb.defQueueMap[Ia]=
!0):Ra.push([Ia,La,Za])};define.amd={jQuery:!0};Na.exec=function(Ia){return eval(Ia)};Na(Aa)}})(this,'undefined'===typeof setTimeout?void 0:setTimeout);define('requireLib',function(){});
!function(E,Q){'object'==typeof exports&&'undefined'!=typeof module?Q(exports):'function'==typeof define&&define.amd?define('vendor/uuid',['exports'],Q):Q((E=E||self).uuid={})}(this,function(E){function Q(){if(!m)throw Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');return m(T)}function da(r,H){H=H||0;var I=Da;return[I[r[H++]],I[r[H++]],I[r[H++]],I[r[H++]],'-',I[r[H++]],I[r[H++]],'-',I[r[H++]],I[r[H++]],'-',I[r[H++]],I[r[H++]],'-',
I[r[H++]],I[r[H++]],I[r[H++]],I[r[H++]],I[r[H++]],I[r[H++]]].join('')}function Ga(r,H,I){var A=function(y,C,F,O){O=F&&O||0;if('string'==typeof y&&(y=function(z){z=unescape(encodeURIComponent(z));for(var S=Array(z.length),X=0;X<z.length;X++)S[X]=z.charCodeAt(X);return S}(y)),'string'==typeof C&&(C=function(z){var S=[];return z.replace(/[a-fA-F0-9]{2}/g,function(X){S.push(parseInt(X,16))}),S}(C)),!Array.isArray(y))throw TypeError('value must be an array of bytes');if(!Array.isArray(C)||16!==C.length)throw TypeError('namespace must be uuid string or an Array of 16 byte values');
y=I(C.concat(y));if(y[6]=15&y[6]|H,y[8]=63&y[8]|128,F)for(C=0;16>C;++C)F[O+C]=y[C];return F||da(y)};try{A.name=r}catch(y){}return A.DNS='6ba7b810-9dad-11d1-80b4-00c04fd430c8',A.URL='6ba7b811-9dad-11d1-80b4-00c04fd430c8',A}function L(r,H){var I=(65535&r)+(65535&H);return(r>>16)+(H>>16)+(I>>16)<<16|65535&I}function V(r,H,I,A,y,C){return L((F=L(L(H,r),L(A,C)))<<(O=y)|F>>>32-O,I);var F,O}function pa(r,H,I,A,y,C,F){return V(H&I|~H&A,r,H,y,C,F)}function U(r,H,I,A,y,C,F){return V(H&A|I&~A,r,H,y,C,F)}function Y(r,
H,I,A,y,C,F){return V(I^(H|~A),r,H,y,C,F)}for(var m='undefined'!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||'undefined'!=typeof msCrypto&&'function'==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),T=new Uint8Array(16),x,ma,Da=[],R=0;256>R;++R)Da[R]=(R+256).toString(16).substr(1);var J=0,w=0;R=Ga('v3',48,function(r){if('string'==typeof r){var H=unescape(encodeURIComponent(r));r=Array(H.length);for(var I=0;I<H.length;I++)r[I]=H.charCodeAt(I)}return function(A){var y,
C=[],F=32*A.length;for(y=0;y<F;y+=8){var O=A[y>>5]>>>y%32&255;O=parseInt('0123456789abcdef'.charAt(O>>>4&15)+'0123456789abcdef'.charAt(15&O),16);C.push(O)}return C}(function(A,y){A[y>>5]|=128<<y%32;A[14+(y+64>>>9<<4)]=y;var C=1732584193,F=-271733879,O=-1732584194,z=271733878;for(y=0;y<A.length;y+=16){var S=C;var X=F;var va=O;var na=z;C=pa(C,F,O,z,A[y],7,-680876936);z=pa(z,C,F,O,A[y+1],12,-389564586);O=pa(O,z,C,F,A[y+2],17,606105819);F=pa(F,O,z,C,A[y+3],22,-1044525330);C=pa(C,F,O,z,A[y+4],7,-176418897);
z=pa(z,C,F,O,A[y+5],12,1200080426);O=pa(O,z,C,F,A[y+6],17,-1473231341);F=pa(F,O,z,C,A[y+7],22,-45705983);C=pa(C,F,O,z,A[y+8],7,1770035416);z=pa(z,C,F,O,A[y+9],12,-1958414417);O=pa(O,z,C,F,A[y+10],17,-42063);F=pa(F,O,z,C,A[y+11],22,-1990404162);C=pa(C,F,O,z,A[y+12],7,1804603682);z=pa(z,C,F,O,A[y+13],12,-40341101);O=pa(O,z,C,F,A[y+14],17,-1502002290);F=pa(F,O,z,C,A[y+15],22,1236535329);C=U(C,F,O,z,A[y+1],5,-165796510);z=U(z,C,F,O,A[y+6],9,-1069501632);O=U(O,z,C,F,A[y+11],14,643717713);F=U(F,O,z,C,A[y],
20,-373897302);C=U(C,F,O,z,A[y+5],5,-701558691);z=U(z,C,F,O,A[y+10],9,38016083);O=U(O,z,C,F,A[y+15],14,-660478335);F=U(F,O,z,C,A[y+4],20,-405537848);C=U(C,F,O,z,A[y+9],5,568446438);z=U(z,C,F,O,A[y+14],9,-1019803690);O=U(O,z,C,F,A[y+3],14,-187363961);F=U(F,O,z,C,A[y+8],20,1163531501);C=U(C,F,O,z,A[y+13],5,-1444681467);z=U(z,C,F,O,A[y+2],9,-51403784);O=U(O,z,C,F,A[y+7],14,1735328473);F=U(F,O,z,C,A[y+12],20,-1926607734);C=V(F^O^z,C,F,A[y+5],4,-378558);z=V(C^F^O,z,C,A[y+8],11,-2022574463);O=V(z^C^F,O,
z,A[y+11],16,1839030562);F=V(O^z^C,F,O,A[y+14],23,-35309556);C=V(F^O^z,C,F,A[y+1],4,-1530992060);z=V(C^F^O,z,C,A[y+4],11,1272893353);O=V(z^C^F,O,z,A[y+7],16,-155497632);F=V(O^z^C,F,O,A[y+10],23,-1094730640);C=V(F^O^z,C,F,A[y+13],4,681279174);z=V(C^F^O,z,C,A[y],11,-358537222);O=V(z^C^F,O,z,A[y+3],16,-722521979);F=V(O^z^C,F,O,A[y+6],23,76029189);C=V(F^O^z,C,F,A[y+9],4,-640364487);z=V(C^F^O,z,C,A[y+12],11,-421815835);O=V(z^C^F,O,z,A[y+15],16,530742520);F=V(O^z^C,F,O,A[y+2],23,-995338651);C=Y(C,F,O,z,
A[y],6,-198630844);z=Y(z,C,F,O,A[y+7],10,1126891415);O=Y(O,z,C,F,A[y+14],15,-1416354905);F=Y(F,O,z,C,A[y+5],21,-57434055);C=Y(C,F,O,z,A[y+12],6,1700485571);z=Y(z,C,F,O,A[y+3],10,-1894986606);O=Y(O,z,C,F,A[y+10],15,-1051523);F=Y(F,O,z,C,A[y+1],21,-2054922799);C=Y(C,F,O,z,A[y+8],6,1873313359);z=Y(z,C,F,O,A[y+15],10,-30611744);O=Y(O,z,C,F,A[y+6],15,-1560198380);F=Y(F,O,z,C,A[y+13],21,1309151649);C=Y(C,F,O,z,A[y+4],6,-145523070);z=Y(z,C,F,O,A[y+11],10,-1120210379);O=Y(O,z,C,F,A[y+2],15,718787259);F=Y(F,
O,z,C,A[y+9],21,-343485551);C=L(C,S);F=L(F,X);O=L(O,va);z=L(z,na)}return[C,F,O,z]}(function(A){var y,C=[];C[(A.length>>2)-1]=void 0;for(y=0;y<C.length;y+=1)C[y]=0;var F=8*A.length;for(y=0;y<F;y+=8)C[y>>5]|=(255&A[y/8])<<y%32;return C}(r),8*r.length))});var q=Ga('v5',80,function(r){var H=[1518500249,1859775393,2400959708,3395469782],I=[1732584193,4023233417,2562383102,271733878,3285377520];if('string'==typeof r){var A=unescape(encodeURIComponent(r));r=Array(A.length);for(var y=0;y<A.length;y++)r[y]=
A.charCodeAt(y)}r.push(128);A=Math.ceil((r.length/4+2)/16);var C=Array(A);for(y=0;y<A;y++){C[y]=Array(16);for(var F=0;16>F;F++)C[y][F]=r[64*y+4*F]<<24|r[64*y+4*F+1]<<16|r[64*y+4*F+2]<<8|r[64*y+4*F+3]}C[A-1][14]=8*(r.length-1)/Math.pow(2,32);C[A-1][14]=Math.floor(C[A-1][14]);C[A-1][15]=8*(r.length-1)&4294967295;for(y=0;y<A;y++){r=Array(80);for(F=0;16>F;F++)r[F]=C[y][F];for(F=16;80>F;F++){var O=r[F-3]^r[F-8]^r[F-14]^r[F-16];r[F]=O<<1|O>>>31}O=I[0];var z=I[1],S=I[2],X=I[3],va=I[4];for(F=0;80>F;F++){var na=
Math.floor(F/20),Ca=O<<5|O>>>27;a:{switch(na){case 0:var Fa=z&S^~z&X;break a;case 1:Fa=z^S^X;break a;case 2:Fa=z&S^z&X^S&X;break a;case 3:Fa=z^S^X;break a}Fa=void 0}na=Ca+Fa+va+H[na]+r[F]>>>0;va=X;X=S;S=(z<<30|z>>>2)>>>0;z=O;O=na}I[0]=I[0]+O>>>0;I[1]=I[1]+z>>>0;I[2]=I[2]+S>>>0;I[3]=I[3]+X>>>0;I[4]=I[4]+va>>>0}return[I[0]>>24&255,I[0]>>16&255,I[0]>>8&255,255&I[0],I[1]>>24&255,I[1]>>16&255,I[1]>>8&255,255&I[1],I[2]>>24&255,I[2]>>16&255,I[2]>>8&255,255&I[2],I[3]>>24&255,I[3]>>16&255,I[3]>>8&255,255&
I[3],I[4]>>24&255,I[4]>>16&255,I[4]>>8&255,255&I[4]]});E.v1=function(r,H,I){I=H&&I||0;var A=H||[],y=(r=r||{}).node||x,C=void 0!==r.clockseq?r.clockseq:ma;if(null==y||null==C){var F=r.random||(r.rng||Q)();null==y&&(y=x=[1|F[0],F[1],F[2],F[3],F[4],F[5]]);null==C&&(C=ma=16383&(F[6]<<8|F[7]))}F=void 0!==r.msecs?r.msecs:(new Date).getTime();var O=void 0!==r.nsecs?r.nsecs:w+1,z=F-J+(O-w)/1E4;if(0>z&&void 0===r.clockseq&&(C=C+1&16383),(0>z||F>J)&&void 0===r.nsecs&&(O=0),1E4<=O)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");
J=F;w=O;ma=C;r=(1E4*(268435455&(F+=122192928E5))+O)%4294967296;A[I++]=r>>>24&255;A[I++]=r>>>16&255;A[I++]=r>>>8&255;A[I++]=255&r;r=F/4294967296*1E4&268435455;A[I++]=r>>>8&255;A[I++]=255&r;A[I++]=r>>>24&15|16;A[I++]=r>>>16&255;A[I++]=C>>>8|128;A[I++]=255&C;for(C=0;6>C;++C)A[I+C]=y[C];return H||da(A)};E.v3=R;E.v4=function(r,H,I){I=H&&I||0;'string'==typeof r&&(H='binary'===r?Array(16):null,r=null);var A=(r=r||{}).random||(r.rng||Q)();if(A[6]=15&A[6]|64,A[8]=63&A[8]|128,H)for(r=0;16>r;++r)H[I+r]=A[r];
return H||da(A)};E.v5=q;Object.defineProperty(E,'__esModule',{value:!0})});
function Merge(){var E=[],Q=function(L,V){'undefined'==typeof L&&(L='undefined'!=typeof V&&Array.isArray(V)?[]:{});var pa=!1;'boolean'==typeof arguments[arguments.length-1]&&(pa=arguments[arguments.length-1]);var U=1,Y=arguments.length,m,T;if('object'!==typeof L&&'function'!==typeof L)L=pa?'undefined'==typeof arguments[2]?arguments[1]:arguments[2]:'undefined'==typeof arguments[0]?arguments[1]:arguments[0];else for(;U<Y;++U)if('boolean'!=typeof arguments[U]&&null!=(m=arguments[U])){if('object'!=typeof m){L=
m;break}if(Array.isArray(m)&&Array.isArray(L))L=da(m,L,pa);else for(var x in m){L||={name:null};var ma=L[x];var Da=m[x];if(L!==Da)if(Da&&(Ga(Da)||(T=Array.isArray(Da)))){var R=!1;if(T){T=!1;if(ma&&Array.isArray(ma))var J=ma||[];else if(Ga(ma)){J=ma||{};L[x]=J;continue}else J=[];E=J;J=da(Da,J,pa);L[x]=J}else{J=ma&&Ga(ma)?ma:null;if(!J){R=!0;J={};for(var w in Da)J[w]=Da[w]}if(pa){for(w in Da)'undefined'!=typeof Da[w]?Array.isArray(Da[w])&&Array.isArray(J[w])?J[w]=da(Da[w],J[w],pa):J[w]=Da[w]:Array.isArray(Da[w])&&
Array.isArray(J[w])&&(J[w]=da(Da[w],J[w],pa));L[x]=J}else{for(w in Da)'undefined'==typeof J[w]?Array.isArray(Da[w])&&Array.isArray(J[w])?J[w]=da(Da[w],J[w],pa):J[w]=Da[w]:Array.isArray(Da[w])&&Array.isArray(J[w])&&(J[w]=da(Da[w],J[w],pa));'boolean'==typeof ma||R?R&&(L[x]=J):L[x]=Q(J,Da,pa)}}}else void 0!==Da&&(L[x]='undefined'==typeof ma||null==ma||ma===Da||pa?Da:ma)}}E=[];return L},da=function(L,V,pa){E=[];var U=[],Y=Q.getKeyComparison();if(/^true$/i.test(pa)){if('object'==typeof L[0]&&'undefined'!=
typeof L[0][Y]&&'object'==typeof V[0]&&'undefined'!=typeof V[0][Y]){E=Array.isArray(V)?Array.from(V):JSON.clone(V);var m=0;for(pa=E.length;m<pa;++m)U.push(E[m][Y]);pa=JSON.clone(L);var T=0;m=0;L=pa.length;for(var x=Da||0,ma=V.length;x<ma;++x)a:for(m=m||0;m<L;++m)if(pa[m][Y]===V[x][Y]){-1<U.indexOf(pa[m][Y])?(E[T]=pa[m],++T):-1==U.indexOf(pa[m][Y])&&(U.push(pa[m][Y]),E[T]=pa[m],++T);break a}else-1==U.indexOf(pa[m][Y])&&(U.push(pa[m][Y]),E.push(pa[m]));return E}return Array.isArray(L)&&0==L.length||
'undefined'==typeof L?V:L}if(0==L.length&&0<V.length)return E=V;if(0==V.length&&0<L.length)for(m=0;m<L.length;++m)V.push(L[m]);if(0==E.length&&0<V.length)for(m=0;m<V.length;++m)'object'!=typeof V[m]&&-1==E.indexOf(V[m])&&E.push(V[m]);if(0<V.length){if('undefined'!=typeof L[0]&&'object'==typeof L[0]&&null!=L[0]&&'undefined'!=typeof L[0][Y]&&'object'==typeof V[0]&&'undefined'!=typeof V[0][Y]){E=Array.isArray(V)?Array.from(V):JSON.clone(V);pa=JSON.clone(L);var Da=null;m=0;for(L=E.length;m<L;++m)U.push(E[m][Y]);
for(m=0;m<L;++m)a:for(x=Da||0,ma=pa.length;x<ma;++x)if(null!=pa[x]&&'undefined'!=typeof pa[x][Y]&&pa[x][Y]!==E[m][Y]){if(-1==U.indexOf(pa[x][Y])){E.push(pa[x]);U.push(pa[x][Y]);Da=x+1;L<ma&&++L;break a}}else if(null!=pa[x]&&'undefined'!=typeof pa[x][Y]&&pa[x][Y]===E[m][Y])Da=x+1;else break a;return E}for(m=0;m<L.length;++m)if(-1<V.indexOf(L[m])&&pa)V.splice(V.indexOf(L[m]),1,L[m]);else if('undefined'==typeof E[m]&&'object'==typeof L[m])for(T in E=V,'undefined'==typeof E[m]&&(E[m]={}),L[m])E[m].hasOwnProperty(T)||
(E[m][T]=L[m][T]);else!pa&&-1<E.indexOf(L[m])&&'number'==typeof L[m]&&L[m]!==E[m]?E.push(L[m]):'undefined'==typeof V[m]||/null/i.test(V[m])||'undefined'==typeof V[m][Y]||'undefined'==typeof L[m]||'undefined'==typeof L[m][Y]||V[m][Y]!=L[m][Y]?-1==E.indexOf(L[m])&&E.push(L[m]):E[m]=pa?L[m]:V[m]}if(0<E.length&&0<V.length||0==E.length&&0==V.length)return E};da.prototype.setKeyComparison=function(L){this.keyComparison=L};var Ga=function(L){if(!L||'[object Object]'!=={}.toString.call(L)||L.nodeType||L.setInterval)return!1;
var V={}.hasOwnProperty,pa=V.call(L,'constructor');V='undefined'!=typeof L.constructor?V.call(L.constructor.prototype,'isPrototypeOf'):!1;return!L.constructor||pa||V?!0:!1};Q.setKeyComparison=function(L){da.keyComparison=L;return Q};Q.getKeyComparison=function(){var L=da.keyComparison||'id';da.keyComparison='id';return L};return Q}
'undefined'!==typeof module&&module.exports?('undefined'==typeof JSON.clone&&require('../../../helpers'),module.exports=Merge()):'function'===typeof define&&define.amd&&define('utils/merge',[],function(){return Merge()});function registerEvents(E,Q){gina.registeredEvents[E]=Q}function mergeEventProps(E,Q){for(let da in Q)'undefined'==typeof E[da]&&(E[da]=Q[da]);return E}
function addListener(E,Q,da,Ga){var L=function(U,Y,m,T){'undefined'!=typeof U.event&&U.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(m)&&-1==U.event[m].indexOf(Y)&&(U.event[m][U.event[m].length]=Y);'undefined'!=typeof Y&&null!=Y?Y.addEventListener?Y.addEventListener(m,T,!1):Y.attachEvent&&Y.attachEvent('on'+m,T):U.customEvent.addListener(m,T);gina.events[m]='undefined'!=typeof Y.id&&'object'!=typeof Y.id?Y.id:Y.getAttribute('id')},V=0,pa=null;if(Array.isArray(da))for(pa=da.length;V<pa;V++)L(E,
Q,da[V],Ga);else if(Array.isArray(Q))for(V=0,pa=Q.length;V<pa;V++){let U=/\.$/.test(da)?da+Q[V].id:da;L(E,Q[V],U,Ga)}else da=/\.$/.test(da)?da+Q.id:da,L(E,Q,da,Ga)}
function triggerEvent(E,Q,da,Ga,L){if('undefined'!=typeof Q&&null!=Q){E=!1;if(jQuery){var V=jQuery.fn.jquery.split(/\./);V=2<V.length?V.splice(0,2).join('.'):V.join('.');V='1.7'>=V?jQuery(Q).data('events'):jQuery._data(jQuery(Q)[0],'events');if(V='undefined'!=typeof V&&'undefined'!=typeof V[da]?!0:!1)V=jQuery.Event(da),jQuery(Q).trigger(V,Ga),E=V.isDefaultPrevented()}window.CustomEvent||document.createEvent?(window.CustomEvent?V=new CustomEvent(da,{detail:Ga,bubbles:!0,cancelable:!0,target:Q}):(V=
document.createEvent('HTMLEvents'),V.detail=Ga,V.target=Q,V.initEvent(da,!0,!0),V.eventName=da),L&&(V=mergeEventProps(V,L)),'undefined'!=typeof V.defaultPrevented&&V.defaultPrevented&&(E=V.defaultPrevented),E||Q.dispatchEvent(V)):document.createEventObject&&(V=document.createEventObject(),V.srcElement.id=Q.id,V.detail=Ga,V.target=Q,L&&(V=mergeEventProps(V,L)),Q.fireEvent('on'+da,V))}else E.customEvent.fire(da,Ga)}
function cancelEvent(E){'undefined'!=typeof E&&null!=E&&(E.cancelBubble=!0,E.preventDefault&&E.preventDefault(),E.stopPropagation&&E.stopPropagation(),E.returnValue=!1)}
function setupXhr(E){var Q=null;if(window.XMLHttpRequest)Q=new XMLHttpRequest;else if(window.ActiveXObject)try{Q=new ActiveXObject('Msxml2.XMLHTTP')}catch(Ga){try{Q=new ActiveXObject('Microsoft.XMLHTTP')}catch(L){}}if('undefined'!=typeof E){if(!E.url||'undefined'==typeof E.url)throw Error('Missing `options.url`');'undefined'==typeof E.method&&(E.method='GET');E.method=E.method.toUpperCase();if(E.withCredentials){if('withCredentials'in Q)E.isSynchrone?Q.open(E.method,E.url,E.isSynchrone):Q.open(E.method,
E.url);else if('undefined'!=typeof XDomainRequest)Q=new XDomainRequest,Q.open(E.method,E.url);else{result='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,$target,'error.'+id,result);return}Q.responseType='undefined'!=typeof E.responseType?E.responseType:'';Q.withCredentials=!0}else E.isSynchrone?Q.open(E.method,E.url,E.isSynchrone):Q.open(E.method,E.url);for(var da in E.headers)'Content-Type'==da&&'undefined'!=typeof enctype&&null!=
enctype&&''!=enctype||Q.setRequestHeader(da,E.headers[da])}return Q}
function handleXhr(E,Q,da,Ga){if(!E)throw Error('No `xhr` object initiated');var L=null,V=null,pa=null,U=null,Y=null,m=da.$link||null,T=da.$form||null,x=null;delete da.$link;delete da.$form;T||m?m?(m.target=document.getElementById(m.id),x=gina.link.target,Y=gina.link.id):(x=T.target,Y=x.getAttribute('id')):(x=Q,Y=x.getAttribute('id'));var ma=m&&Q.getAttribute('data-gina-link-event-on-success')||m&&Q.getAttribute('data-gina-link-event-on-error')?!0:!1,Da=T&&x.getAttribute('data-gina-form-event-on-submit-success')||
T&&x.getAttribute('data-gina-form-event-on-submit-error')?!0:!1;Da&&T&&listenToXhrEvents(T,'form');Q=Q.getAttribute('enctype')||da.headers['Content-Type'];for(var R in da.headers)'Content-Type'==R&&'undefined'!=typeof Q&&null!=Q&&''!=Q||E.setRequestHeader(R,da.headers[R]);E.withCredentials='undefined'!=typeof da.withCredentials?da.withCredentials:!1;E.onerror=function(J,w){J={status:E.status||500,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};
T&&(T.eventData.error=J);m&&(m.eventData.error=J);window.ginaToolbar.update('data-xhr',J,!0);triggerEvent(gina,x,'error.'+Y,J);Da&&triggerEvent(gina,x,'error.'+Y+'.hform',J);ma&&triggerEvent(gina,x,'error.'+Y+'.hlink',J)};E.onreadystatechange=function(J){J=/Google Inc/i.test(navigator.vendor)?50:0;2==E.readyState&&(V=/^attachment;/.test(E.getResponseHeader('Content-Disposition'))?!0:!1,!E.responseType&&V&&(E.responseType='blob'));if(4==E.readyState)if(L=null,pa=E.getResponseHeader('Content-Type'),
/^2/.test(E.status)){try{if(/blob/.test(E.responseType)||V){if('undefined'==typeof pa||null==pa)pa='application/octet-stream';L=new Blob([this.response],{type:pa});var w=document.createElement('a');w.style='display: none';document.body.appendChild(w);var q=window.URL.createObjectURL(L);w.href=q;var r=E.getResponseHeader('Content-Disposition');w.download=r.match('=(.*)')[0].substr(1);w.click();window.URL.revokeObjectURL(q);U={status:E.status,statusText:E.statusText,responseType:L.type,type:L.type,
size:L.size}}!U&&/\/json/.test(pa)&&(U=JSON.parse(E.responseText),'undefined'==typeof U.status&&(U.status=E.status||200));if(!U&&/\/html/.test(pa)&&(U={contentType:pa,content:E.responseText},'undefined'==typeof U.status&&(U.status=E.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler)){var H=gina.popin.getActivePopin();if(H){XHRData={};try{XHRData=(new DOMParser).parseFromString(U.content,'text/html').getElementById('gina-without-layout-xhr-data'),XHRData=JSON.parse(decodeURIComponent(XHRData.value)),
XHRView=(new DOMParser).parseFromString(U.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRData&&window.ginaToolbar.update('data-xhr',XHRData),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(C){throw C;}H.loadContent(U.content);U=XHRData;triggerEvent(gina,x,'success.'+Y,U);return}}U||(U=E.responseText);T&&
(T.eventData.success=U);XHRData=U;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&/\/html/.test(pa)&&window.ginaToolbar.update('data-xhr',XHRData)}catch(C){throw C;}triggerEvent(gina,x,'success.'+Y,U);Da&&triggerEvent(gina,x,'success.'+Y+'.hform',U);ma&&triggerEvent(gina,x,'success.'+Y+'.hlink',U)}catch(C){U={status:422,error:C.message,stack:C.stack};T&&(T.eventData.error=U);XHRData=U;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&
window.ginaToolbar.update('data-xhr',XHRData)}catch(F){throw F;}triggerEvent(gina,x,'error.'+Y,U);Da&&triggerEvent(gina,x,'error.'+Y+'.hform',U);ma&&triggerEvent(gina,x,'error.'+Y+'.hlink',U)}if('undefined'!=typeof U&&'undefined'!=typeof U.location)return window.location.hash='',U.location=/^http/.test(U.location)||/^\//.test(U.location)?U.location:location.protocol+'//'+U.location,setTimeout(()=>{window.location.href=U.location},J)}else if(0!=E.status)if(U={status:E.status,message:''},/blob/.test(E.responseType)){L=
new Blob([this.response],{type:'text/plain'});var I=new FileReader,A='';I.addEventListener('loadend',C=>{/string/i.test(typeof C.srcElement.result)?A+=C.srcElement.result:'object'==typeof C.srcElement.result?U=merge(U,C.srcElement.result):U.message+=C.srcElement.result;if(/^2/.test(I.readyState)){if(/^(\{|\[)/.test(A))try{U=merge(U,JSON.parse(A))}catch(z){U=merge(U,z)}U.message||delete U.message;T&&(T.eventData.error=U);if('undefined'!=typeof U&&'undefined'!=typeof U.error&&U.error.fields&&'object'==
typeof U.error.fields){C={};var F=0,O;for(O in U.error.fields)++F,C[O]={isApplicationValidationError:U.error.fields[O]};0<F&&handleErrorsDisplay(T.target,C)}XHRData=U;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(z){throw z;}triggerEvent(gina,x,'error.'+Y,U);Da&&triggerEvent(gina,x,'error.'+Y+'.hform',U);ma&&triggerEvent(gina,x,'error.'+Y+'.hlink',U)}});I.readAsText(L)}else{try{U=merge(U,JSON.parse(E.responseText))}catch(C){U=merge(U,
C)}T&&(T.eventData.error=U);if('undefined'!=typeof U&&'undefined'!=typeof U.error&&U.error.fields&&'object'==typeof U.error.fields){w={};q=0;for(var y in U.error.fields)++q,w[y]={isApplicationValidationError:U.error.fields[y]};0<q&&handleErrorsDisplay(T.target,w)}XHRData=U;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(C){throw C;}triggerEvent(gina,x,'error.'+Y,U);Da&&triggerEvent(gina,x,'error.'+Y+'.hform',U);ma&&triggerEvent(gina,x,
'error.'+Y+'.hlink',U)}};E.onprogress=function(J){var w='0';J.lengthComputable&&(w=J.loaded/J.total,w=parseInt(100*w));J={status:100,progress:w};T&&(T.eventData.onprogress=J);triggerEvent(gina,x,'progress.'+Y,J)};E.ontimeout=function(J){U={status:408,error:'Request Timeout'};T&&(T.eventData.ontimeout=U);triggerEvent(gina,x,'error.'+Y,U);Da&&triggerEvent(gina,x,'error.'+Y+'.hform',U);ma&&triggerEvent(gina,x,'error.'+Y+'.hlink',U)}}
function removeListener(E,Q,da,Ga){'undefined'!=typeof E.event&&E.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(da)&&-1!=E.event[da].indexOf(Q)&&E.event[da].splice(E.event[da].indexOf(Q),1);if('undefined'!=typeof Q&&null!=Q)if(Q.removeEventListener)if(Array.isArray(Q))for(i=0,len=Q.length;i<len;i++)E=/\.$/.test(da)?da+Q[i].id:da,Q.removeEventListener(E,Ga,!1),'undefined'!=typeof gina.events[E]&&delete gina.events[E];else da=/\.$/.test(da)?da+Q.id:da,Q.removeEventListener(da,Ga,!1);else{if(Q.attachEvent)if(Array.isArray(Q))for(i=
0,len=Q.length;i<len;i++)E=/\.$/.test(da)?da+Q[i].id:da,Q.detachEvent('on'+E,Ga),'undefined'!=typeof gina.events[E]&&delete gina.events[E];else da=/\.$/.test(da)?da+Q.id:da,Q.detachEvent('on'+da,Ga)}else if(Array.isArray(Q))for(i=0,len=Q.length;i<len;i++){let L=/\.$/.test(da)?da+Q[i].id:da;E.customEvent.removeListener(L,Ga);'undefined'!=typeof gina.events[L]&&delete gina.events[L]}else da=/\.$/.test(da)?da+Q.id:da,E.customEvent.removeListener(da,Ga);'undefined'!=typeof gina.events[da]&&delete gina.events[da];
'undefined'!=typeof Ga&&Ga()}
function on(E,Q){if(!this.plugin)throw Error('No `plugin` reference found for this event: `'+E);if(0>gina.registeredEvents[this.plugin].indexOf(E)&&!/^init$/.test(E)&&!/\.hform$/.test(E)&&!/\.hlink$/.test(E))Q(Error('Event `'+E+'` not handled by ginaEventHandler'));else{var da=null,Ga=null;'undefined'!=typeof this.id&&'object'!=typeof this.id?(da=this.target||this,Ga=this.id):'undefined'!=typeof this.target?((da=this.target)||(da=this),Ga='undefined'!=typeof da.getAttribute?da.getAttribute('id'):
this.id):(da=this.target,Ga=instance.id);this.eventData&&!da.eventData&&(da.eventData=this.eventData);E=/\.(hform|hlink)$/.test(E)?/\.hform$/.test(E)?E.replace(/\.hform$/,'.'+Ga+'.hform'):E.replace(/\.hlink$/,'.'+Ga+'.hlink'):E+('.'+Ga);gina.events[E]||(addListener(gina,da,E,function(L){cancelEvent(L);var V=null;L.detail?V=L.detail:'undefined'!=typeof this.eventData.submit?V=this.eventData.submit:'undefined'!=typeof this.eventData.error?V=this.eventData.error:'undefined'!=typeof this.eventData.success&&
(V=this.eventData.success);Q&&Q(L,V)}),this.initialized&&!this.isReady&&triggerEvent(gina,da,'init.'+Ga));return this}}define('utils/events',function(){});
function PrototypesHelper(E){var Q='undefined'!==typeof module&&module.exports?!1:!0,da=E||null;E=null;if('undefined'==typeof GINA_DIR&&!Q&&'undefined'!=typeof process&&3<process.argv.length)if(/^\{/.test(process.argv[2]))E=JSON.parse(process.argv[2]).envVars;else if(/\.ctx$/.test(process.argv[2])){E=require('fs');var Ga=process.argv[2].split(/\-\-argv\-filename=/)[1];E=JSON.parse(E.readFileSync(Ga).toString()).envVars}if(da&&'undefined'!=typeof da&&'undefined'!=typeof da.dateFormat)for(let L in da.dateFormat)'undefined'==
typeof Date[L]&&Object.defineProperty(Date.prototype,L,{writable:!1,enumerable:!1,configurable:!0,value:function(){var V={0:this},pa=1,U;for(U in arguments)V[pa]=arguments[U],++pa;V.length=pa;return da.dateFormat[L].apply(this,V)}});'undefined'==typeof Array.clone&&Object.defineProperty(Array.prototype,'clone',{writable:!1,enumerable:!1,configurable:!0,value:function(){return this.slice(0)}});'undefined'!=typeof JSON.clone||Q||(JSON.clone='undefined'!=typeof E?require(E.GINA_DIR+'/utils/prototypes.json_clone'):
require(GINA_DIR+'/utils/prototypes.json_clone'));'undefined'==typeof JSON.escape&&(JSON.escape=function(L){try{return L.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(V){throw V;}});'undefined'==typeof Array.toString&&(Array.prototype.toString=function(){return this.join()});'undefined'==typeof Array.inArray&&Object.defineProperty(Array.prototype,'inArray',{writable:!1,enumerable:!1,configurable:!0,value:function(L){return-1!=this.indexOf(L)}});'undefined'==typeof Array.from&&
Object.defineProperty(Array.prototype,'from',{writable:!1,enumerable:!1,configurable:!0,value:function(L){for(var V={},pa=[],U=L.length,Y=0,m=0;m<U;m++){var T=L[m];1!==V[T]&&(V[T]=1,pa[Y++]=T)}return pa}});'undefined'==typeof Object.count&&Object.defineProperty(Object.prototype,'count',{writable:!0,enumerable:!1,configurable:!0,value:function(){var L=0;try{this instanceof String&&JSON.parse(this);for(var V in this)this.hasOwnProperty(V)&&++L;return L}catch(pa){return L}}});'undefined'!=typeof global&&
'undefined'==typeof global.__stack&&Object.defineProperty(global,'__stack',{configurable:!0,get:function(){var L=Error.prepareStackTrace;Error.prepareStackTrace=function(pa,U){return U};var V=Error();Error.captureStackTrace(V,arguments.callee);V=V.stack;Error.prepareStackTrace=L;return V}})}'undefined'!==typeof module&&module.exports?module.exports=PrototypesHelper:'function'===typeof define&&define.amd&&define('helpers/prototypes',[],function(){return PrototypesHelper});
function DateFormatHelper(){var E='undefined'!==typeof module&&module.exports?!1:!0,Q=E?require('utils/merge'):require('./../lib/merge');var da='en-US';var Ga='en';var L={'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy',cookieDate:'GMT:ddd, dd mmm yyyy HH:MM:ss',logger:'yyyy mmm dd HH:MM:ss',shortTime:'h:MM TT',shortTime2:'h:MM',mediumTime:'h:MM:ss TT',mediumTime2:'h:MM:ss',longTime:'h:MM:ss TT Z',
longTime2:'h:MM:ss TT',concatenatedDate:'yyyymmdd',isoDate:'yyyy-mm-dd',isoTime:'HH:MM:ss',shortIsoTime:'HH:MM',longIsoTime:'HH:MM:ss TT',isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",longIsoDateTime:"yyyy-mm-dd'T'HH:MM:ss.L",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};var V={en:{dayNames:'Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday'.split(' '),monthNames:'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December'.split(' '),
masks:{'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy'}},fr:{dayNames:'dim lun mar mer jeu ven sam dimanche lundi mardi mercredi jeudi vendredi samedi'.split(' '),monthNames:'Jan F\u00e9v Mar Avr Mai Jui Juil Ao\u00fb Sep Oct Nov D\u00e9c Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre'.split(' '),masks:{'default':'ddd mmm dd yyyy HH:MM:ss',
shortDate:'d/m/yy',shortDate2:'dd/mm/yyyy',mediumDate:'d mmm, yyyy',longDate:'d mmmm, yyyy',fullDate:'dddd, d mmmm, yyyy'}}};var pa=function(m,T){if(T instanceof Date)return m=m.getTime(),T=T.getTime(),Math.round(Math.abs(m-T)/864E5);throw Error('dateTo is not instance of Date() !');},U=['us','eu','corporate'],Y=function(m){d=new Date(m.getFullYear(),m.getMonth(),m.getDate());m=d.getDay()||7;d.setDate(d.getDate()+4-m);m=new Date(Date.parse(d.getFullYear(),0,1));return Math.ceil(((d-m)/864E5+1)/7)};
return{setCulture:function(m,T){/\-/.test(T)?(da=T,Ga=T.split(/\-/)[0]):Ga=T;return this},format:function(m,T,x){var ma=V[Ga]||V.en,Da=null;try{Da=Q(ma.masks,L)}catch(z){Q=(E='undefined'!==typeof module&&module.exports?!1:!0)?require('utils/merge'):require('./../lib/merge'),Da=Q(ma.masks,L)}'undefined'!=typeof V[da]&&(ma=V[da],'undefined'!=typeof V[da].mask&&(Da=Q(ma.masks,L)));var R=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,
J=/[^-+\dA-Z]/g,w=function(z,S){z=String(z);for(S=S||2;z.length<S;)z='0'+z;return z};1!=arguments.length||'[object String]'!=Object.prototype.toString.call(m)||/\d/.test(m)||(T=m,m=void 0);m=m?new Date(m):new Date;if(isNaN(m))throw SyntaxError('invalid date');T=String(Da[T]||T||Da['default']);'UTC:'==T.slice(0,4)&&(T=T.slice(4),x=!0);var q=x?'getUTC':'get';Da=m[q+'Date']();var r=m[q+'Day'](),H=m[q+'Month'](),I=m[q+'FullYear'](),A=m[q+'Hours'](),y=m[q+'Minutes'](),C=m[q+'Seconds']();q=m[q+'Milliseconds']();
var F=x?0:m.getTimezoneOffset(),O={d:Da,dd:w(Da),ddd:ma.dayNames[r],dddd:ma.dayNames[r+7],m:H+1,mm:w(H+1),mmm:ma.monthNames[H],mmmm:ma.monthNames[H+12],yy:String(I).slice(2),yyyy:I,h:A%12||12,hh:w(A%12||12),H:A,HH:w(A),M:y,MM:w(y),s:C,ss:w(C),l:w(q,3),L:w(q),t:12>A?'a':'p',tt:12>A?'am':'pm',T:12>A?'A':'P',TT:12>A?'AM':'PM',Z:x?'UTC':(String(m).match(R)||['']).pop().replace(J,''),o:(0<F?'-':'+')+w(100*Math.floor(Math.abs(F)/60)+Math.abs(F)%60,4),S:['th','st','nd','rd'][3<Da%10?0:(10!=Da%100-Da%10)*
Da%10]};return T.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,function(z){return z in O?O[z]:z.slice(1,z.length-1)})},countDaysTo:pa,getDaysTo:function(m,T,x){if(T instanceof Date){T=pa(m,T);var ma=m.getMonth(),Da=m.getFullYear();m=m.getDate()+1;m=new Date(Da,ma,m);ma=[];for(Da=0;Da<T;++Da)'undefined'!=typeof x?ma.push((new Date(m)).format(x)):ma.push(new Date(m)),m.setDate(m.getDate()+1);return ma||[]}throw Error('dateTo is not instance of Date() !');},getDaysInMonth:function(m){var T=
m.getMonth();m=m.getFullYear();m=new Date(m,T,1);for(var x=[];m.getMonth()===T;)x.push(new Date(m)),m.setDate(m.getDate()+1);return x},getQuarter:function(m,T){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>U.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');m=new Date;T=arguments[0]}'undefined'==typeof m&&(m=new Date);'undefined'==typeof T&&(T='corporate');T=T.toLowerCase();switch(T){case 'us':var x=[4,1,2,3];break;case 'corportate':case 'eu':x=
[1,2,3,4];break;default:x=[1,2,3,4]}return x[Math.floor(m.getMonth()/3)]},getHalfYear:function(m,T){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>U.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');m=new Date;T=arguments[0]}'undefined'==typeof m&&(m=new Date);'undefined'==typeof T&&(T='corporate');T=T.toLowerCase();return 2>=m.getQuarter(T)?1:2},getWeek:function(m,T){'undefined'==typeof m&&(m=new Date);'undefined'==typeof T&&(T='ISO 8601');
T=T.replace(/\s+/g,'').toLowerCase();switch(T){case 'corporate':case 'eu':case 'iso8601':return Y(m);default:return Y(m)}},addHours:function(m,T){m=new Date(m.getTime());m.setHours(m.getHours()+T);return m},addDays:function(m,T){m=new Date(m.getTime());m.setHours(m.getHours()+24*T);return m},addYears:function(m,T){m=new Date(m.getTime());m.setFullYear(m.getFullYear()+T);return m}}}
'undefined'!==typeof module&&module.exports?module.exports=DateFormatHelper:'function'===typeof define&&define.amd&&define('helpers/dateFormat',[],function(){return DateFormatHelper});
!function(E,Q){'object'==typeof module&&'object'==typeof module.exports?module.exports=E.document?Q(E,!0):function(da){if(!da.document)throw Error('jQuery requires a window with a document');return Q(da)}:Q(E)}('undefined'!=typeof window?window:this,function(E,Q){function da(a){var c=!!a&&'length'in a&&a.length,g=b.type(a);return'function'===g||b.isWindow(a)?!1:'array'===g||0===c||'number'==typeof c&&0<c&&c-1 in a}function Ga(a,c,g){if(b.isFunction(c))return b.grep(a,function(k,l){return!!c.call(k,
l,k)!==g});if(c.nodeType)return b.grep(a,function(k){return k===c!==g});if('string'==typeof c){if(u.test(c))return b.filter(c,a,g);c=b.filter(c,a)}return b.grep(a,function(k){return-1<b.inArray(k,c)!==g})}function L(a,c){do a=a[c];while(a&&1!==a.nodeType);return a}function V(a){var c={};return b.each(a.match(za)||[],function(g,k){c[k]=!0}),c}function pa(){Qa.addEventListener?(Qa.removeEventListener('DOMContentLoaded',U),E.removeEventListener('load',U)):(Qa.detachEvent('onreadystatechange',U),E.detachEvent('onload',
U))}function U(){(Qa.addEventListener||'load'===E.event.type||'complete'===Qa.readyState)&&(pa(),b.ready())}function Y(a,c,g){if(void 0===g&&1===a.nodeType){var k='data-'+c.replace(wb,'-$1').toLowerCase();if(g=a.getAttribute(k),'string'==typeof g){try{g='true'===g?!0:'false'===g?!1:'null'===g?null:+g+''===g?+g:ob.test(g)?b.parseJSON(g):g}catch(l){}b.data(a,c,g)}else g=void 0}return g}function m(a){for(var c in a)if(('data'!==c||!b.isEmptyObject(a[c]))&&'toJSON'!==c)return!1;return!0}function T(a,
c,g,k){if(Ta(a)){var l,D,G=b.expando,aa=a.nodeType,la=aa?b.cache:a,ya=aa?a[G]:a[G]&&G;if(ya&&la[ya]&&(k||la[ya].data)||void 0!==g||'string'!=typeof c)return ya||=aa?a[G]=Fb.pop()||b.guid++:G,la[ya]||(la[ya]=aa?{}:{toJSON:b.noop}),'object'!=typeof c&&'function'!=typeof c||(k?la[ya]=b.extend(la[ya],c):la[ya].data=b.extend(la[ya].data,c)),D=la[ya],k||(D.data||(D.data={}),D=D.data),void 0!==g&&(D[b.camelCase(c)]=g),'string'==typeof c?(l=D[c],null==l&&(l=D[b.camelCase(c)])):l=D,l}}function x(a,c,g){if(Ta(a)){var k,
l,D=a.nodeType,G=D?b.cache:a,aa=D?a[b.expando]:b.expando;if(G[aa]){if(c&&(k=g?G[aa]:G[aa].data)){b.isArray(c)?c=c.concat(b.map(c,b.camelCase)):c in k?c=[c]:(c=b.camelCase(c),c=c in k?[c]:c.split(' '));for(l=c.length;l--;)delete k[c[l]];if(g?!m(k):!b.isEmptyObject(k))return}(g||(delete G[aa].data,m(G[aa])))&&(D?b.cleanData([a],!0):e.deleteExpando||G!=G.window?delete G[aa]:G[aa]=void 0)}}}function ma(a,c,g,k){var l,D=1,G=20,aa=k?function(){return k.cur()}:function(){return b.css(a,c,'')},la=aa(),ya=
g&&g[3]||(b.cssNumber[c]?'':'px'),qa=(b.cssNumber[c]||'px'!==ya&&+la)&&eb.exec(b.css(a,c));if(qa&&qa[3]!==ya){ya=ya||qa[3];g=g||[];qa=+la||1;do D=D||'.5',qa/=D,b.style(a,c,qa+ya);while(D!==(D=aa()/la)&&1!==D&&--G)}return g&&(qa=+qa||+la||0,l=g[1]?qa+(g[1]+1)*g[2]:+g[2],k&&(k.unit=ya,k.start=qa,k.end=l)),l}function Da(a){var c='abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video'.split(' ');
a=a.createDocumentFragment();if(a.createElement)for(;c.length;)a.createElement(c.pop());return a}function R(a,c){var g,k,l=0,D='undefined'!=typeof a.getElementsByTagName?a.getElementsByTagName(c||'*'):'undefined'!=typeof a.querySelectorAll?a.querySelectorAll(c||'*'):void 0;if(!D)for(D=[],g=a.childNodes||a;null!=(k=g[l]);l++)!c||b.nodeName(k,c)?D.push(k):b.merge(D,R(k,c));return void 0===c||c&&b.nodeName(a,c)?b.merge([a],D):D}function J(a,c){for(var g,k=0;null!=(g=a[k]);k++)b._data(g,'globalEval',
!c||b._data(c[k],'globalEval'))}function w(a){fb.test(a.type)&&(a.defaultChecked=a.checked)}function q(a,c,g,k,l){for(var D,G,aa,la,ya,qa,Oa,Ua=a.length,tb=Da(c),bb=[],Lb=0;Ua>Lb;Lb++)if(G=a[Lb],G||0===G)if('object'===b.type(G))b.merge(bb,G.nodeType?[G]:G);else if(Ma.test(G)){la=la||tb.appendChild(c.createElement('div'));ya=(ea.exec(G)||['',''])[1].toLowerCase();Oa=oa[ya]||oa._default;la.innerHTML=Oa[1]+b.htmlPrefilter(G)+Oa[2];for(D=Oa[0];D--;)la=la.lastChild;if(!e.leadingWhitespace&&ha.test(G)&&
bb.push(c.createTextNode(ha.exec(G)[0])),!e.tbody)for(D=(G='table'!==ya||$a.test(G)?'<table>'!==Oa[1]||$a.test(G)?0:la:la.firstChild)&&G.childNodes.length;D--;)b.nodeName(qa=G.childNodes[D],'tbody')&&!qa.childNodes.length&&G.removeChild(qa);b.merge(bb,la.childNodes);for(la.textContent='';la.firstChild;)la.removeChild(la.firstChild);la=tb.lastChild}else bb.push(c.createTextNode(G));la&&tb.removeChild(la);e.appendChecked||b.grep(R(bb,'input'),w);for(Lb=0;G=bb[Lb++];)if(k&&-1<b.inArray(G,k))l&&l.push(G);
else if(aa=b.contains(G.ownerDocument,G),la=R(tb.appendChild(G),'script'),aa&&J(la),g)for(D=0;G=la[D++];)Z.test(G.type||'')&&g.push(G);return tb}function r(){return!0}function H(){return!1}function I(){try{return Qa.activeElement}catch(a){}}function A(a,c,g,k,l,D){var G,aa;if('object'==typeof c){'string'!=typeof g&&(k=k||g,g=void 0);for(aa in c)A(a,aa,g,k,c[aa],D);return a}if(null==k&&null==l?(l=g,k=g=void 0):null==l&&('string'==typeof g?(l=k,k=void 0):(l=k,k=g,g=void 0)),!1===l)l=H;else if(!l)return a;
return 1===D&&(G=l,l=function(la){return b().off(la),G.apply(this,arguments)},l.guid=G.guid||(G.guid=b.guid++)),a.each(function(){b.event.add(this,c,l,k,g)})}function y(a,c){return b.nodeName(a,'table')&&b.nodeName(11!==c.nodeType?c:c.firstChild,'tr')?a.getElementsByTagName('tbody')[0]||a.appendChild(a.ownerDocument.createElement('tbody')):a}function C(a){return a.type=(null!==b.find.attr(a,'type'))+'/'+a.type,a}function F(a){var c=Jb.exec(a.type);return c?a.type=c[1]:a.removeAttribute('type'),a}
function O(a,c){if(1===c.nodeType&&b.hasData(a)){var g,k;var l=b._data(a);a=b._data(c,l);var D=l.events;if(D)for(g in delete a.handle,a.events={},D)for(l=0,k=D[g].length;k>l;l++)b.event.add(c,g,D[g][l]);a.data&&(a.data=b.extend({},a.data))}}function z(a,c,g,k){c=Yb.apply([],c);var l,D,G,aa=0,la=a.length,ya=la-1,qa=c[0],Oa=b.isFunction(qa);if(Oa||1<la&&'string'==typeof qa&&!e.checkClone&&Hb.test(qa))return a.each(function(tb){var bb=a.eq(tb);Oa&&(c[0]=qa.call(this,tb,bb.html()));z(bb,c,g,k)});if(la&&
(G=q(c,a[0].ownerDocument,!1,a,k),l=G.firstChild,1===G.childNodes.length&&(G=l),l||k)){var Ua=b.map(R(G,'script'),C);for(D=Ua.length;la>aa;aa++)l=G,aa!==ya&&(l=b.clone(l,!0,!0),D&&b.merge(Ua,R(l,'script'))),g.call(a[aa],l,aa);if(D)for(G=Ua[Ua.length-1].ownerDocument,b.map(Ua,F),aa=0;D>aa;aa++)l=Ua[aa],Z.test(l.type||'')&&!b._data(l,'globalEval')&&b.contains(G,l)&&(l.src?b._evalUrl&&b._evalUrl(l.src):b.globalEval((l.text||l.textContent||l.innerHTML||'').replace(Mb,'')));G=l=null}return a}function S(a,
c,g){for(var k=c?b.filter(c,a):a,l=0;null!=(c=k[l]);l++)g||1!==c.nodeType||b.cleanData(R(c)),c.parentNode&&(g&&b.contains(c.ownerDocument,c)&&J(R(c,'script')),c.parentNode.removeChild(c));return a}function X(a,c){a=b(c.createElement(a)).appendTo(c.body);c=b.css(a[0],'display');return a.detach(),c}function va(a){var c=Qa,g=Gc[a];return g||(g=X(a,c),'none'!==g&&g||(Wb=(Wb||b("<iframe frameborder='0' width='0' height='0'/>")).appendTo(c.documentElement),c=(Wb[0].contentWindow||Wb[0].contentDocument).document,
c.write(),c.close(),g=X(a,c),Wb.detach()),Gc[a]=g),g}function na(a,c){return{get:function(){return a()?void delete this.get:(this.get=c).apply(this,arguments)}}}function Ca(a){if(a in jd)return a;for(var c=a.charAt(0).toUpperCase()+a.slice(1),g=kd.length;g--;)if(a=kd[g]+c,a in jd)return a}function Fa(a,c){for(var g,k,l,D=[],G=0,aa=a.length;aa>G;G++)k=a[G],k.style&&(D[G]=b._data(k,'olddisplay'),g=k.style.display,c?(D[G]||'none'!==g||(k.style.display=''),''===k.style.display&&Vb(k)&&(D[G]=b._data(k,
'olddisplay',va(k.nodeName)))):(l=Vb(k),(g&&'none'!==g||!l)&&b._data(k,'olddisplay',l?g:b.css(k,'display'))));for(G=0;aa>G;G++)k=a[G],k.style&&(c&&'none'!==k.style.display&&''!==k.style.display||(k.style.display=c?D[G]||'':'none'));return a}function Ba(a,c,g){return(a=wd.exec(c))?Math.max(0,a[1]-(g||0))+(a[2]||'px'):c}function ua(a,c,g,k,l){c=g===(k?'border':'content')?4:'width'===c?1:0;for(var D=0;4>c;c+=2)'margin'===g&&(D+=b.css(a,g+yb[c],!0,l)),k?('content'===g&&(D-=b.css(a,'padding'+yb[c],!0,
l)),'margin'!==g&&(D-=b.css(a,'border'+yb[c]+'Width',!0,l))):(D+=b.css(a,'padding'+yb[c],!0,l),'padding'!==g&&(D+=b.css(a,'border'+yb[c]+'Width',!0,l)));return D}function Aa(a,c,g){var k=!0,l='width'===c?a.offsetWidth:a.offsetHeight,D=xc(a),G=e.boxSizing&&'border-box'===b.css(a,'boxSizing',!1,D);if(0>=l||null==l){if(l=sc(a,c,D),(0>l||null==l)&&(l=a.style[c]),Ob.test(l))return l;k=G&&(e.boxSizingReliable()||l===a.style[c]);l=parseFloat(l)||0}return l+ua(a,c,g||(G?'border':'content'),k,D)+'px'}function Ra(a,
c,g,k,l){return new Ra.prototype.init(a,c,g,k,l)}function Sa(){return E.setTimeout(function(){Hc=void 0}),Hc=b.now()}function Na(a,c){var g={height:a},k=0;for(c=c?1:0;4>k;k+=2-c){var l=yb[k];g['margin'+l]=g['padding'+l]=a}return c&&(g.opacity=g.width=a),g}function zb(a,c,g){for(var k,l=(La.tweeners[c]||[]).concat(La.tweeners['*']),D=0,G=l.length;G>D;D++)if(k=l[D].call(g,c,a))return k}function Ia(a,c){var g,k,l,D,G;for(g in a)if(k=b.camelCase(g),l=c[k],D=a[g],b.isArray(D)&&(l=D[1],D=a[g]=D[0]),g!==
k&&(a[k]=D,delete a[g]),G=b.cssHooks[k],G&&'expand'in G)for(g in D=G.expand(D),delete a[k],D)g in a||(a[g]=D[g],c[g]=l);else c[k]=l}function La(a,c,g){var k,l=0,D=La.prefilters.length,G=b.Deferred().always(function(){delete aa.elem}),aa=function(){if(k)return!1;var ya=Hc||Sa();ya=Math.max(0,la.startTime+la.duration-ya);for(var qa=1-(ya/la.duration||0),Oa=0,Ua=la.tweens.length;Ua>Oa;Oa++)la.tweens[Oa].run(qa);return G.notifyWith(a,[la,qa,ya]),1>qa&&Ua?ya:(G.resolveWith(a,[la]),!1)},la=G.promise({elem:a,
props:b.extend({},c),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},g),originalProperties:c,originalOptions:g,startTime:Hc||Sa(),duration:g.duration,tweens:[],createTween:function(ya,qa){ya=b.Tween(a,la.opts,ya,qa,la.opts.specialEasing[ya]||la.opts.easing);return la.tweens.push(ya),ya},stop:function(ya){var qa=0,Oa=ya?la.tweens.length:0;if(k)return this;for(k=!0;Oa>qa;qa++)la.tweens[qa].run(1);return ya?(G.notifyWith(a,[la,1,0]),G.resolveWith(a,[la,ya])):G.rejectWith(a,[la,ya]),this}});
g=la.props;for(Ia(g,la.opts.specialEasing);D>l;l++)if(c=La.prefilters[l].call(la,a,g,la.opts))return b.isFunction(c.stop)&&(b._queueHooks(la.elem,la.opts.queue).stop=b.proxy(c.stop,c)),c;return b.map(g,zb,la),b.isFunction(la.opts.start)&&la.opts.start.call(a,la),b.fx.timer(b.extend(aa,{elem:a,anim:la,queue:la.opts.queue})),la.progress(la.opts.progress).done(la.opts.done,la.opts.complete).fail(la.opts.fail).always(la.opts.always)}function Za(a){return b.attr(a,'class')||''}function vb(a){return function(c,
g){'string'!=typeof c&&(g=c,c='*');var k=0,l=c.toLowerCase().match(za)||[];if(b.isFunction(g))for(;c=l[k++];)'+'===c.charAt(0)?(c=c.slice(1)||'*',(a[c]=a[c]||[]).unshift(g)):(a[c]=a[c]||[]).push(g)}}function cb(a,c,g,k){function l(aa){var la;return D[aa]=!0,b.each(a[aa]||[],function(ya,qa){ya=qa(c,g,k);return'string'!=typeof ya||G||D[ya]?G?!(la=ya):void 0:(c.dataTypes.unshift(ya),l(ya),!1)}),la}var D={},G=a===Xc;return l(c.dataTypes[0])||!D['*']&&l('*')}function Xa(a,c){var g,k,l=b.ajaxSettings.flatOptions||
{};for(k in c)void 0!==c[k]&&((l[k]?a:g||={})[k]=c[k]);return g&&b.extend(!0,a,g),a}function Cb(a){if(!b.contains(a.ownerDocument||Qa,a))return!0;for(;a&&1===a.nodeType;){if('none'===(a.style&&a.style.display||b.css(a,'display'))||'hidden'===a.type)return!0;a=a.parentNode}return!1}function Db(a,c,g,k){var l;if(b.isArray(c))b.each(c,function(D,G){g||xd.test(a)?k(a,G):Db(a+'['+('object'==typeof G&&null!=G?D:'')+']',G,g,k)});else if(g||'object'!==b.type(c))k(a,c);else for(l in c)Db(a+'['+l+']',c[l],
g,k)}function Eb(){try{return new E.XMLHttpRequest}catch(a){}}function ub(){try{return new E.ActiveXObject('Microsoft.XMLHTTP')}catch(a){}}function xb(a){return b.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var Fb=[],Qa=E.document,Gb=Fb.slice,Yb=Fb.concat,Zb=Fb.push,ta=Fb.indexOf,wa={},Ha=wa.toString,M=wa.hasOwnProperty,e={},b=function(a,c){return new b.fn.init(a,c)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/^-ms-/,v=/-([\da-z])/gi,p=function(a,c){return c.toUpperCase()};b.fn=b.prototype=
{jquery:'1.12.4',constructor:b,selector:'',length:0,toArray:function(){return Gb.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:Gb.call(this)},pushStack:function(a){a=b.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a){return b.each(this,a)},map:function(a){return this.pushStack(b.map(this,function(c,g){return a.call(c,g,c)}))},slice:function(){return this.pushStack(Gb.apply(this,arguments))},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},eq:function(a){var c=this.length;a=+a+(0>a?c:0);return this.pushStack(0<=a&&c>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Zb,sort:Fb.sort,splice:Fb.splice};b.extend=b.fn.extend=function(){var a,c,g,k,l=arguments[0]||{},D=1,G=arguments.length,aa=!1;'boolean'==typeof l&&(aa=l,l=arguments[D]||{},D++);'object'==typeof l||b.isFunction(l)||(l={});for(D===G&&(l=this,D--);G>D;D++)if(null!=(g=arguments[D]))for(c in g){var la=l[c];var ya=
g[c];l!==ya&&(aa&&ya&&(b.isPlainObject(ya)||(a=b.isArray(ya)))?(a?(a=!1,k=la&&b.isArray(la)?la:[]):k=la&&b.isPlainObject(la)?la:{},l[c]=b.extend(aa,k,ya)):void 0!==ya&&(l[c]=ya))}return l};b.extend({expando:'jQuery'+('1.12.4'+Math.random()).replace(/\D/g,''),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return'function'===b.type(a)},isArray:Array.isArray||function(a){return'array'===b.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var c=
a&&a.toString();return!b.isArray(a)&&0<=c-parseFloat(c)+1},isEmptyObject:function(a){for(var c in a)return!1;return!0},isPlainObject:function(a){var c;if(!a||'object'!==b.type(a)||a.nodeType||b.isWindow(a))return!1;try{if(a.constructor&&!M.call(a,'constructor')&&!M.call(a.constructor.prototype,'isPrototypeOf'))return!1}catch(g){return!1}if(!e.ownFirst)for(c in a)return M.call(a,c);for(c in a);return void 0===c||M.call(a,c)},type:function(a){return null==a?a+'':'object'==typeof a||'function'==typeof a?
wa[Ha.call(a)]||'object':typeof a},globalEval:function(a){a&&b.trim(a)&&(E.execScript||function(c){E.eval.call(E,c)})(a)},camelCase:function(a){return a.replace(n,'ms-').replace(v,p)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()},each:function(a,c){var g,k=0;if(da(a))for(g=a.length;g>k&&!1!==c.call(a[k],k,a[k]);k++);else for(k in a)if(!1===c.call(a[k],k,a[k]))break;return a},trim:function(a){return null==a?'':(a+'').replace(h,'')},makeArray:function(a,c){c=
c||[];return null!=a&&(da(Object(a))?b.merge(c,'string'==typeof a?[a]:a):Zb.call(c,a)),c},inArray:function(a,c,g){if(c){if(ta)return ta.call(c,a,g);var k=c.length;for(g=g?0>g?Math.max(0,k+g):g:0;k>g;g++)if(g in c&&c[g]===a)return g}return-1},merge:function(a,c){for(var g=+c.length,k=0,l=a.length;g>k;)a[l++]=c[k++];if(g!==g)for(;void 0!==c[k];)a[l++]=c[k++];return a.length=l,a},grep:function(a,c,g){for(var k=[],l=0,D=a.length,G=!g;D>l;l++)g=!c(a[l],l),g!==G&&k.push(a[l]);return k},map:function(a,c,
g){var k,l=0,D=[];if(da(a))for(k=a.length;k>l;l++){var G=c(a[l],l,g);null!=G&&D.push(G)}else for(l in a)G=c(a[l],l,g),null!=G&&D.push(G);return Yb.apply([],D)},guid:1,proxy:function(a,c){var g,k,l;return'string'==typeof c&&(l=a[c],c=a,a=l),b.isFunction(a)?(g=Gb.call(arguments,2),k=function(){return a.apply(c||this,g.concat(Gb.call(arguments)))},k.guid=a.guid=a.guid||b.guid++,k):void 0},now:function(){return+new Date},support:e});'function'==typeof Symbol&&(b.fn[Symbol.iterator]=Fb[Symbol.iterator]);
b.each('Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' '),function(a,c){wa['[object '+c+']']=c.toLowerCase()});var B=function(a){function c(K,ca,ja,sa){var Ea,Ja,Pa,ab,Va=ca&&ca.ownerDocument,ib=ca?ca.nodeType:9;if(ja=ja||[],'string'!=typeof K||!K||1!==ib&&9!==ib&&11!==ib)return ja;if(!sa&&((ca?ca.ownerDocument||ca:cc)!==pb&&Dc(ca),ca=ca||pb,hc)){if(11!==ib&&(ab=yd.exec(K)))if(Ea=ab[1])if(9===ib){if(!(Ja=ca.getElementById(Ea)))return ja;if(Ja.id===Ea)return ja.push(Ja),
ja}else{if(Va&&(Ja=Va.getElementById(Ea))&&oc(ca,Ja)&&Ja.id===Ea)return ja.push(Ja),ja}else{if(ab[2])return Cc.apply(ja,ca.getElementsByTagName(K)),ja;if((Ea=ab[3])&&Rb.getElementsByClassName&&ca.getElementsByClassName)return Cc.apply(ja,ca.getElementsByClassName(Ea)),ja}if(!(!Rb.qsa||dc[K+' ']||Xb&&Xb.test(K))){if(1!==ib){Va=ca;var kb=K}else if('object'!==ca.nodeName.toLowerCase()){(Pa=ca.getAttribute('id'))?Pa=Pa.replace(zd,'\\$&'):ca.setAttribute('id',Pa=Ab);ab=Pc(K);Ea=ab.length;for(Ja=ld.test(Pa)?
'#'+Pa:"[id='"+Pa+"']";Ea--;)ab[Ea]=Ja+' '+Ua(ab[Ea]);kb=ab.join(',');Va=Yc.test(K)&&qa(ca.parentNode)||ca}if(kb)try{return Cc.apply(ja,Va.querySelectorAll(kb)),ja}catch(gb){}finally{Pa===Ab&&ca.removeAttribute('id')}}}return ic(K.replace(Qc,'$1'),ca,ja,sa)}function g(){function K(ja,sa){return ca.push(ja+' ')>Ib.cacheLength&&delete K[ca.shift()],K[ja+' ']=sa}var ca=[];return K}function k(K){return K[Ab]=!0,K}function l(K){var ca=pb.createElement('div');try{return!!K(ca)}catch(ja){return!1}finally{ca.parentNode&&
ca.parentNode.removeChild(ca)}}function D(K,ca){K=K.split('|');for(var ja=K.length;ja--;)Ib.attrHandle[K[ja]]=ca}function G(K,ca){var ja=ca&&K,sa=ja&&1===K.nodeType&&1===ca.nodeType&&(~ca.sourceIndex||-2147483648)-(~K.sourceIndex||-2147483648);if(sa)return sa;if(ja)for(;ja=ja.nextSibling;)if(ja===ca)return-1;return K?1:-1}function aa(K){return function(ca){return'input'===ca.nodeName.toLowerCase()&&ca.type===K}}function la(K){return function(ca){var ja=ca.nodeName.toLowerCase();return('input'===ja||
'button'===ja)&&ca.type===K}}function ya(K){return k(function(ca){return ca=+ca,k(function(ja,sa){for(var Ea,Ja=K([],ja.length,ca),Pa=Ja.length;Pa--;)ja[Ea=Ja[Pa]]&&(ja[Ea]=!(sa[Ea]=ja[Ea]))})})}function qa(K){return K&&'undefined'!=typeof K.getElementsByTagName&&K}function Oa(){}function Ua(K){for(var ca=0,ja=K.length,sa='';ja>ca;ca++)sa+=K[ca].value;return sa}function tb(K,ca,ja){var sa=ca.dir,Ea=ja&&'parentNode'===sa,Ja=Sb++;return ca.first?function(Pa,ab,Va){for(;Pa=Pa[sa];)if(1===Pa.nodeType||
Ea)return K(Pa,ab,Va)}:function(Pa,ab,Va){var ib,kb,gb,Nb=[$b,Ja];if(Va)for(;Pa=Pa[sa];){if((1===Pa.nodeType||Ea)&&K(Pa,ab,Va))return!0}else for(;Pa=Pa[sa];)if(1===Pa.nodeType||Ea){if(gb=Pa[Ab]||(Pa[Ab]={}),kb=gb[Pa.uniqueID]||(gb[Pa.uniqueID]={}),(ib=kb[sa])&&ib[0]===$b&&ib[1]===Ja)return Nb[2]=ib[2];if(kb[sa]=Nb,Nb[2]=K(Pa,ab,Va))return!0}}}function bb(K){return 1<K.length?function(ca,ja,sa){for(var Ea=K.length;Ea--;)if(!K[Ea](ca,ja,sa))return!1;return!0}:K[0]}function Lb(K,ca,ja,sa,Ea){for(var Ja,
Pa=[],ab=0,Va=K.length,ib=null!=ca;Va>ab;ab++)(Ja=K[ab])&&(ja&&!ja(Ja,sa,Ea)||(Pa.push(Ja),ib&&ca.push(ab)));return Pa}function lc(K,ca,ja,sa,Ea,Ja){return sa&&!sa[Ab]&&(sa=lc(sa)),Ea&&!Ea[Ab]&&(Ea=lc(Ea,Ja)),k(function(Pa,ab,Va,ib){var kb,gb=[],Nb=[],ec=ab.length,bc;if(!(bc=Pa)){bc=ca||'*';for(var qb=Va.nodeType?[Va]:Va,tc=[],jc=0,rc=qb.length;rc>jc;jc++)c(bc,qb[jc],tc);bc=tc}bc=!K||!Pa&&ca?bc:Lb(bc,gb,K,Va,ib);qb=ja?Ea||(Pa?K:ec||sa)?[]:ab:bc;if(ja&&ja(bc,qb,Va,ib),sa){var fc=Lb(qb,Nb);sa(fc,[],
Va,ib);for(Va=fc.length;Va--;)(kb=fc[Va])&&(qb[Nb[Va]]=!(bc[Nb[Va]]=kb))}if(Pa){if(Ea||K){if(Ea){fc=[];for(Va=qb.length;Va--;)(kb=qb[Va])&&fc.push(bc[Va]=kb);Ea(null,qb=[],fc,ib)}for(Va=qb.length;Va--;)(kb=qb[Va])&&-1<(fc=Ea?Ec(Pa,kb):gb[Va])&&(Pa[fc]=!(ab[fc]=kb))}}else qb=Lb(qb===ab?qb.splice(ec,qb.length):qb),Ea?Ea(null,ab,qb,ib):Cc.apply(ab,qb)})}function Ic(K){var ca,ja,sa=K.length,Ea=Ib.relative[K[0].type];var Ja=Ea||Ib.relative[' '];for(var Pa=Ea?1:0,ab=tb(function(kb){return kb===ca},Ja,!0),
Va=tb(function(kb){return-1<Ec(ca,kb)},Ja,!0),ib=[function(kb,gb,Nb){kb=!Ea&&(Nb||gb!==Bb)||((ca=gb).nodeType?ab(kb,gb,Nb):Va(kb,gb,Nb));return ca=null,kb}];sa>Pa;Pa++)if(Ja=Ib.relative[K[Pa].type])ib=[tb(bb(ib),Ja)];else{if(Ja=Ib.filter[K[Pa].type].apply(null,K[Pa].matches),Ja[Ab]){for(ja=++Pa;sa>ja&&!Ib.relative[K[ja].type];ja++);return lc(1<Pa&&bb(ib),1<Pa&&Ua(K.slice(0,Pa-1).concat({value:' '===K[Pa-2].type?'*':''})).replace(Qc,'$1'),Ja,ja>Pa&&Ic(K.slice(Pa,ja)),sa>ja&&Ic(K=K.slice(ja)),sa>ja&&
Ua(K))}ib.push(Ja)}return bb(ib)}function mc(K,ca){var ja=0<ca.length,sa=0<K.length,Ea=function(Ja,Pa,ab,Va,ib){var kb,gb,Nb=0,ec='0',bc=Ja&&[],qb=[],tc=Bb,jc=Ja||sa&&Ib.find.TAG('*',ib),rc=$b+=null==tc?1:Math.random()||.1,fc=jc.length;for(ib&&(Bb=Pa===pb||Pa||ib);ec!==fc&&null!=(kb=jc[ec]);ec++){if(sa&&kb){var Zc=0;for(Pa||kb.ownerDocument===pb||(Dc(kb),ab=!hc);gb=K[Zc++];)if(gb(kb,Pa||pb,ab)){Va.push(kb);break}ib&&($b=rc)}ja&&((kb=!gb&&kb)&&Nb--,Ja&&bc.push(kb))}if(Nb+=ec,ja&&ec!==Nb){for(Zc=0;gb=
ca[Zc++];)gb(bc,qb,Pa,ab);if(Ja){if(0<Nb)for(;ec--;)bc[ec]||qb[ec]||(qb[ec]=$c.call(Va));qb=Lb(qb)}Cc.apply(Va,qb);ib&&!Ja&&0<qb.length&&1<Nb+ca.length&&c.uniqueSort(Va)}return ib&&($b=rc,Bb=tc),bc};return ja?k(Ea):Ea}var yc,rb,ic,Bb,Qb,Tb,pb,kc,hc,Xb,gc,Ub,oc,Ab='sizzle'+1*new Date,cc=a.document,$b=0,Sb=0,Jc=g(),pc=g(),dc=g(),uc=function(K,ca){return K===ca&&(Tb=!0),0},vc={}.hasOwnProperty,nc=[],$c=nc.pop,Ad=nc.push,Cc=nc.push,md=nc.slice,Ec=function(K,ca){for(var ja=0,sa=K.length;sa>ja;ja++)if(K[ja]===
ca)return ja;return-1},Bd=RegExp('[\\x20\\t\\r\\n\\f]+','g'),Qc=RegExp('^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$','g'),Cd=RegExp('^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*'),Dd=RegExp('^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*'),Ed=RegExp('=[\\x20\\t\\r\\n\\f]*([^\\]\'"]*?)[\\x20\\t\\r\\n\\f]*\\]','g'),Fd=RegExp(':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
ld=RegExp('^(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+$'),Rc={ID:RegExp('^#((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),CLASS:RegExp('^\\.((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),TAG:RegExp('^((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+|[*])'),ATTR:RegExp('^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]'),PSEUDO:RegExp('^:((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
CHILD:RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)','i'),bool:RegExp('^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$','i'),needsContext:RegExp('^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)',
'i')},Gd=/^(?:input|select|textarea|button)$/i,Hd=/^h\d$/i,Mc=/^[^{]+\{\s*\[native \w/,yd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Yc=/[+~]/,zd=/'|\\/g,zc=RegExp('\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)','ig'),Ac=function(K,ca,ja){K='0x'+ca-65536;return K!==K||ja?ca:0>K?String.fromCharCode(K+65536):String.fromCharCode(K>>10|55296,1023&K|56320)},nd=function(){Dc()};try{Cc.apply(nc=md.call(cc.childNodes),cc.childNodes),nc[cc.childNodes.length].nodeType}catch(K){Cc={apply:nc.length?
function(ca,ja){Ad.apply(ca,md.call(ja))}:function(ca,ja){for(var sa=ca.length,Ea=0;ca[sa++]=ja[Ea++];);ca.length=sa-1}}}var Rb=c.support={};var Id=c.isXML=function(K){return(K=K&&(K.ownerDocument||K).documentElement)?'HTML'!==K.nodeName:!1};var Dc=c.setDocument=function(K){var ca,ja;K=K?K.ownerDocument||K:cc;return K!==pb&&9===K.nodeType&&K.documentElement?(pb=K,kc=pb.documentElement,hc=!Id(pb),(ja=pb.defaultView)&&ja.top!==ja&&(ja.addEventListener?ja.addEventListener('unload',nd,!1):ja.attachEvent&&
ja.attachEvent('onunload',nd)),Rb.attributes=l(function(sa){return sa.className='i',!sa.getAttribute('className')}),Rb.getElementsByTagName=l(function(sa){return sa.appendChild(pb.createComment('')),!sa.getElementsByTagName('*').length}),Rb.getElementsByClassName=Mc.test(pb.getElementsByClassName),Rb.getById=l(function(sa){return kc.appendChild(sa).id=Ab,!pb.getElementsByName||!pb.getElementsByName(Ab).length}),Rb.getById?(Ib.find.ID=function(sa,Ea){if('undefined'!=typeof Ea.getElementById&&hc)return(sa=
Ea.getElementById(sa))?[sa]:[]},Ib.filter.ID=function(sa){var Ea=sa.replace(zc,Ac);return function(Ja){return Ja.getAttribute('id')===Ea}}):(delete Ib.find.ID,Ib.filter.ID=function(sa){var Ea=sa.replace(zc,Ac);return function(Ja){return(Ja='undefined'!=typeof Ja.getAttributeNode&&Ja.getAttributeNode('id'))&&Ja.value===Ea}}),Ib.find.TAG=Rb.getElementsByTagName?function(sa,Ea){return'undefined'!=typeof Ea.getElementsByTagName?Ea.getElementsByTagName(sa):Rb.qsa?Ea.querySelectorAll(sa):void 0}:function(sa,
Ea){var Ja=[],Pa=0;Ea=Ea.getElementsByTagName(sa);if('*'===sa){for(;sa=Ea[Pa++];)1===sa.nodeType&&Ja.push(sa);return Ja}return Ea},Ib.find.CLASS=Rb.getElementsByClassName&&function(sa,Ea){return'undefined'!=typeof Ea.getElementsByClassName&&hc?Ea.getElementsByClassName(sa):void 0},gc=[],Xb=[],(Rb.qsa=Mc.test(pb.querySelectorAll))&&(l(function(sa){kc.appendChild(sa).innerHTML="<a id='"+Ab+"'></a><select id='"+Ab+"-\r\\' msallowcapture=''><option selected=''></option></select>";sa.querySelectorAll("[msallowcapture^='']").length&&
Xb.push('[*^$]=[\\x20\\t\\r\\n\\f]*(?:\'\'|"")');sa.querySelectorAll('[selected]').length||Xb.push('\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)');sa.querySelectorAll('[id~='+Ab+'-]').length||Xb.push('~=');sa.querySelectorAll(':checked').length||Xb.push(':checked');sa.querySelectorAll('a#'+Ab+'+*').length||Xb.push('.#.+[+~]')}),l(function(sa){var Ea=pb.createElement('input');Ea.setAttribute('type',
'hidden');sa.appendChild(Ea).setAttribute('name','D');sa.querySelectorAll('[name=d]').length&&Xb.push('name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=');sa.querySelectorAll(':enabled').length||Xb.push(':enabled',':disabled');sa.querySelectorAll('*,:x');Xb.push(',.*:')})),(Rb.matchesSelector=Mc.test(Ub=kc.matches||kc.webkitMatchesSelector||kc.mozMatchesSelector||kc.oMatchesSelector||kc.msMatchesSelector))&&l(function(sa){Rb.disconnectedMatch=Ub.call(sa,'div');Ub.call(sa,"[s!='']:x");gc.push('!=',':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)')}),
Xb=Xb.length&&new RegExp(Xb.join('|')),gc=gc.length&&new RegExp(gc.join('|')),ca=Mc.test(kc.compareDocumentPosition),oc=ca||Mc.test(kc.contains)?function(sa,Ea){var Ja=9===sa.nodeType?sa.documentElement:sa;Ea=Ea&&Ea.parentNode;return sa===Ea||!(!Ea||1!==Ea.nodeType||!(Ja.contains?Ja.contains(Ea):sa.compareDocumentPosition&&16&sa.compareDocumentPosition(Ea)))}:function(sa,Ea){if(Ea)for(;Ea=Ea.parentNode;)if(Ea===sa)return!0;return!1},uc=ca?function(sa,Ea){if(sa===Ea)return Tb=!0,0;var Ja=!sa.compareDocumentPosition-
!Ea.compareDocumentPosition;return Ja?Ja:(Ja=(sa.ownerDocument||sa)===(Ea.ownerDocument||Ea)?sa.compareDocumentPosition(Ea):1,1&Ja||!Rb.sortDetached&&Ea.compareDocumentPosition(sa)===Ja?sa===pb||sa.ownerDocument===cc&&oc(cc,sa)?-1:Ea===pb||Ea.ownerDocument===cc&&oc(cc,Ea)?1:Qb?Ec(Qb,sa)-Ec(Qb,Ea):0:4&Ja?-1:1)}:function(sa,Ea){if(sa===Ea)return Tb=!0,0;var Ja=0,Pa=sa.parentNode,ab=Ea.parentNode,Va=[sa],ib=[Ea];if(!Pa||!ab)return sa===pb?-1:Ea===pb?1:Pa?-1:ab?1:Qb?Ec(Qb,sa)-Ec(Qb,Ea):0;if(Pa===ab)return G(sa,
Ea);for(;sa=sa.parentNode;)Va.unshift(sa);for(sa=Ea;sa=sa.parentNode;)ib.unshift(sa);for(;Va[Ja]===ib[Ja];)Ja++;return Ja?G(Va[Ja],ib[Ja]):Va[Ja]===cc?-1:ib[Ja]===cc?1:0},pb):pb};c.matches=function(K,ca){return c(K,null,null,ca)};c.matchesSelector=function(K,ca){if((K.ownerDocument||K)!==pb&&Dc(K),ca=ca.replace(Ed,"='$1']"),!(!Rb.matchesSelector||!hc||dc[ca+' ']||gc&&gc.test(ca)||Xb&&Xb.test(ca)))try{var ja=Ub.call(K,ca);if(ja||Rb.disconnectedMatch||K.document&&11!==K.document.nodeType)return ja}catch(sa){}return 0<
c(ca,pb,null,[K]).length};c.contains=function(K,ca){return(K.ownerDocument||K)!==pb&&Dc(K),oc(K,ca)};c.attr=function(K,ca){(K.ownerDocument||K)!==pb&&Dc(K);var ja=Ib.attrHandle[ca.toLowerCase()];ja=ja&&vc.call(Ib.attrHandle,ca.toLowerCase())?ja(K,ca,!hc):void 0;return void 0!==ja?ja:Rb.attributes||!hc?K.getAttribute(ca):(ja=K.getAttributeNode(ca))&&ja.specified?ja.value:null};c.error=function(K){throw Error('Syntax error, unrecognized expression: '+K);};c.uniqueSort=function(K){var ca,ja=[],sa=0,
Ea=0;if(Tb=!Rb.detectDuplicates,Qb=!Rb.sortStable&&K.slice(0),K.sort(uc),Tb){for(;ca=K[Ea++];)ca===K[Ea]&&(sa=ja.push(Ea));for(;sa--;)K.splice(ja[sa],1)}return Qb=null,K};var ad=c.getText=function(K){var ca,ja='',sa=0;if(ca=K.nodeType)if(1===ca||9===ca||11===ca){if('string'==typeof K.textContent)return K.textContent;for(K=K.firstChild;K;K=K.nextSibling)ja+=ad(K)}else{if(3===ca||4===ca)return K.nodeValue}else for(;ca=K[sa++];)ja+=ad(ca);return ja};var Ib=c.selectors={cacheLength:50,createPseudo:k,
match:Rc,attrHandle:{},find:{},relative:{'>':{dir:'parentNode',first:!0},' ':{dir:'parentNode'},'+':{dir:'previousSibling',first:!0},'~':{dir:'previousSibling'}},preFilter:{ATTR:function(K){return K[1]=K[1].replace(zc,Ac),K[3]=(K[3]||K[4]||K[5]||'').replace(zc,Ac),'~='===K[2]&&(K[3]=' '+K[3]+' '),K.slice(0,4)},CHILD:function(K){return K[1]=K[1].toLowerCase(),'nth'===K[1].slice(0,3)?(K[3]||c.error(K[0]),K[4]=+(K[4]?K[5]+(K[6]||1):2*('even'===K[3]||'odd'===K[3])),K[5]=+(K[7]+K[8]||'odd'===K[3])):K[3]&&
c.error(K[0]),K},PSEUDO:function(K){var ca,ja=!K[6]&&K[2];return Rc.CHILD.test(K[0])?null:(K[3]?K[2]=K[4]||K[5]||'':ja&&Fd.test(ja)&&(ca=Pc(ja,!0))&&(ca=ja.indexOf(')',ja.length-ca)-ja.length)&&(K[0]=K[0].slice(0,ca),K[2]=ja.slice(0,ca)),K.slice(0,3))}},filter:{TAG:function(K){var ca=K.replace(zc,Ac).toLowerCase();return'*'===K?function(){return!0}:function(ja){return ja.nodeName&&ja.nodeName.toLowerCase()===ca}},CLASS:function(K){var ca=Jc[K+' '];return ca||(ca=new RegExp('(^|[\\x20\\t\\r\\n\\f])'+
K+'([\\x20\\t\\r\\n\\f]|$)'),Jc(K,function(ja){return ca.test('string'==typeof ja.className&&ja.className||'undefined'!=typeof ja.getAttribute&&ja.getAttribute('class')||'')}))},ATTR:function(K,ca,ja){return function(sa){sa=c.attr(sa,K);return null==sa?'!='===ca:ca?(sa+='','='===ca?sa===ja:'!='===ca?sa!==ja:'^='===ca?ja&&0===sa.indexOf(ja):'*='===ca?ja&&-1<sa.indexOf(ja):'$='===ca?ja&&sa.slice(-ja.length)===ja:'~='===ca?-1<(' '+sa.replace(Bd,' ')+' ').indexOf(ja):'|='===ca?sa===ja||sa.slice(0,ja.length+
1)===ja+'-':!1):!0}},CHILD:function(K,ca,ja,sa,Ea){var Ja='nth'!==K.slice(0,3),Pa='last'!==K.slice(-4),ab='of-type'===ca;return 1===sa&&0===Ea?function(Va){return!!Va.parentNode}:function(Va,ib,kb){var gb,Nb;ib=Ja!==Pa?'nextSibling':'previousSibling';var ec=Va.parentNode,bc=ab&&Va.nodeName.toLowerCase();kb=!kb&&!ab;var qb=!1;if(ec){if(Ja){for(;ib;){for(gb=Va;gb=gb[ib];)if(ab?gb.nodeName.toLowerCase()===bc:1===gb.nodeType)return!1;var tc=ib='only'===K&&!tc&&'nextSibling'}return!0}if(tc=[Pa?ec.firstChild:
ec.lastChild],Pa&&kb){gb=ec;var jc=gb[Ab]||(gb[Ab]={});var rc=jc[gb.uniqueID]||(jc[gb.uniqueID]={});var fc=rc[K]||[];qb=(Nb=fc[0]===$b&&fc[1])&&fc[2];for(gb=Nb&&ec.childNodes[Nb];gb=++Nb&&gb&&gb[ib]||(qb=Nb=0)||tc.pop();)if(1===gb.nodeType&&++qb&&gb===Va){rc[K]=[$b,Nb,qb];break}}else if(kb&&(gb=Va,jc=gb[Ab]||(gb[Ab]={}),rc=jc[gb.uniqueID]||(jc[gb.uniqueID]={}),fc=rc[K]||[],Nb=fc[0]===$b&&fc[1],qb=Nb),!1===qb)for(;(gb=++Nb&&gb&&gb[ib]||(qb=Nb=0)||tc.pop())&&((ab?gb.nodeName.toLowerCase()!==bc:1!==
gb.nodeType)||!++qb||(kb&&(jc=gb[Ab]||(gb[Ab]={}),rc=jc[gb.uniqueID]||(jc[gb.uniqueID]={}),rc[K]=[$b,qb]),gb!==Va)););return qb-=Ea,qb===sa||0===qb%sa&&0<=qb/sa}}},PSEUDO:function(K,ca){var ja,sa=Ib.pseudos[K]||Ib.setFilters[K.toLowerCase()]||c.error('unsupported pseudo: '+K);return sa[Ab]?sa(ca):1<sa.length?(ja=[K,K,'',ca],Ib.setFilters.hasOwnProperty(K.toLowerCase())?k(function(Ea,Ja){for(var Pa,ab=sa(Ea,ca),Va=ab.length;Va--;)Pa=Ec(Ea,ab[Va]),Ea[Pa]=!(Ja[Pa]=ab[Va])}):function(Ea){return sa(Ea,
0,ja)}):sa}},pseudos:{not:k(function(K){var ca=[],ja=[],sa=rb(K.replace(Qc,'$1'));return sa[Ab]?k(function(Ea,Ja,Pa,ab){var Va;Pa=sa(Ea,null,ab,[]);for(ab=Ea.length;ab--;)(Va=Pa[ab])&&(Ea[ab]=!(Ja[ab]=Va))}):function(Ea,Ja,Pa){return ca[0]=Ea,sa(ca,null,Pa,ja),ca[0]=null,!ja.pop()}}),has:k(function(K){return function(ca){return 0<c(K,ca).length}}),contains:k(function(K){return K=K.replace(zc,Ac),function(ca){return-1<(ca.textContent||ca.innerText||ad(ca)).indexOf(K)}}),lang:k(function(K){return ld.test(K||
'')||c.error('unsupported lang: '+K),K=K.replace(zc,Ac).toLowerCase(),function(ca){var ja;do if(ja=hc?ca.lang:ca.getAttribute('xml:lang')||ca.getAttribute('lang'))return ja=ja.toLowerCase(),ja===K||0===ja.indexOf(K+'-');while((ca=ca.parentNode)&&1===ca.nodeType);return!1}}),target:function(K){var ca=a.location&&a.location.hash;return ca&&ca.slice(1)===K.id},root:function(K){return K===kc},focus:function(K){return K===pb.activeElement&&(!pb.hasFocus||pb.hasFocus())&&!!(K.type||K.href||~K.tabIndex)},
enabled:function(K){return!1===K.disabled},disabled:function(K){return!0===K.disabled},checked:function(K){var ca=K.nodeName.toLowerCase();return'input'===ca&&!!K.checked||'option'===ca&&!!K.selected},selected:function(K){return K.parentNode&&K.parentNode.selectedIndex,!0===K.selected},empty:function(K){for(K=K.firstChild;K;K=K.nextSibling)if(6>K.nodeType)return!1;return!0},parent:function(K){return!Ib.pseudos.empty(K)},header:function(K){return Hd.test(K.nodeName)},input:function(K){return Gd.test(K.nodeName)},
button:function(K){var ca=K.nodeName.toLowerCase();return'input'===ca&&'button'===K.type||'button'===ca},text:function(K){var ca;return'input'===K.nodeName.toLowerCase()&&'text'===K.type&&(null==(ca=K.getAttribute('type'))||'text'===ca.toLowerCase())},first:ya(function(){return[0]}),last:ya(function(K,ca){return[ca-1]}),eq:ya(function(K,ca,ja){return[0>ja?ja+ca:ja]}),even:ya(function(K,ca){for(var ja=0;ca>ja;ja+=2)K.push(ja);return K}),odd:ya(function(K,ca){for(var ja=1;ca>ja;ja+=2)K.push(ja);return K}),
lt:ya(function(K,ca,ja){for(ca=0>ja?ja+ca:ja;0<=--ca;)K.push(ca);return K}),gt:ya(function(K,ca,ja){for(ja=0>ja?ja+ca:ja;++ja<ca;)K.push(ja);return K})}};Ib.pseudos.nth=Ib.pseudos.eq;for(yc in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Ib.pseudos[yc]=aa(yc);for(yc in{submit:!0,reset:!0})Ib.pseudos[yc]=la(yc);Oa.prototype=Ib.filters=Ib.pseudos;Ib.setFilters=new Oa;var Pc=c.tokenize=function(K,ca){var ja,sa,Ea,Ja,Pa;if(Ja=pc[K+' '])return ca?0:Ja.slice(0);Ja=K;var ab=[];for(Pa=Ib.preFilter;Ja;){Va&&
!(ja=Cd.exec(Ja))||(ja&&(Ja=Ja.slice(ja[0].length)||Ja),ab.push(sa=[]));var Va=!1;(ja=Dd.exec(Ja))&&(Va=ja.shift(),sa.push({value:Va,type:ja[0].replace(Qc,' ')}),Ja=Ja.slice(Va.length));for(Ea in Ib.filter)!(ja=Rc[Ea].exec(Ja))||Pa[Ea]&&!(ja=Pa[Ea](ja))||(Va=ja.shift(),sa.push({value:Va,type:Ea,matches:ja}),Ja=Ja.slice(Va.length));if(!Va)break}return ca?Ja.length:Ja?c.error(K):pc(K,ab).slice(0)};return rb=c.compile=function(K,ca){var ja,sa=[],Ea=[],Ja=dc[K+' '];if(!Ja){ca||=Pc(K);for(ja=ca.length;ja--;)Ja=
Ic(ca[ja]),Ja[Ab]?sa.push(Ja):Ea.push(Ja);Ja=dc(K,mc(Ea,sa));Ja.selector=K}return Ja},ic=c.select=function(K,ca,ja,sa){var Ea,Ja,Pa,ab,Va,ib='function'==typeof K&&K,kb=!sa&&Pc(K=ib.selector||K);if(ja=ja||[],1===kb.length){if(Ja=kb[0]=kb[0].slice(0),2<Ja.length&&'ID'===(Pa=Ja[0]).type&&Rb.getById&&9===ca.nodeType&&hc&&Ib.relative[Ja[1].type]){if(ca=(Ib.find.ID(Pa.matches[0].replace(zc,Ac),ca)||[])[0],!ca)return ja;ib&&(ca=ca.parentNode);K=K.slice(Ja.shift().value.length)}for(Ea=Rc.needsContext.test(K)?
0:Ja.length;Ea--&&(Pa=Ja[Ea],!Ib.relative[ab=Pa.type]);)if((Va=Ib.find[ab])&&(sa=Va(Pa.matches[0].replace(zc,Ac),Yc.test(Ja[0].type)&&qa(ca.parentNode)||ca))){if(Ja.splice(Ea,1),K=sa.length&&Ua(Ja),!K)return Cc.apply(ja,sa),ja;break}}return(ib||rb(K,kb))(sa,ca,!hc,ja,!ca||Yc.test(K)&&qa(ca.parentNode)||ca),ja},Rb.sortStable=Ab.split('').sort(uc).join('')===Ab,Rb.detectDuplicates=!!Tb,Dc(),Rb.sortDetached=l(function(K){return 1&K.compareDocumentPosition(pb.createElement('div'))}),l(function(K){return K.innerHTML=
"<a href='#'></a>",'#'===K.firstChild.getAttribute('href')})||D('type|href|height|width',function(K,ca,ja){return ja?void 0:K.getAttribute(ca,'type'===ca.toLowerCase()?1:2)}),Rb.attributes&&l(function(K){return K.innerHTML='<input/>',K.firstChild.setAttribute('value',''),''===K.firstChild.getAttribute('value')})||D('value',function(K,ca,ja){return ja||'input'!==K.nodeName.toLowerCase()?void 0:K.defaultValue}),l(function(K){return null==K.getAttribute('disabled')})||D('checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',
function(K,ca,ja){var sa;return ja?void 0:!0===K[ca]?ca.toLowerCase():(sa=K.getAttributeNode(ca))&&sa.specified?sa.value:null}),c}(E);b.find=B;b.expr=B.selectors;b.expr[':']=b.expr.pseudos;b.uniqueSort=b.unique=B.uniqueSort;b.text=B.getText;b.isXMLDoc=B.isXML;b.contains=B.contains;var W=function(a,c,g){for(var k=[],l=void 0!==g;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(l&&b(a).is(g))break;k.push(a)}return k},N=function(a,c){for(var g=[];a;a=a.nextSibling)1===a.nodeType&&a!==c&&g.push(a);return g},
ba=b.expr.match.needsContext,P=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,u=/^.[^:#\[\.,]*$/;b.filter=function(a,c,g){var k=c[0];return g&&(a=':not('+a+')'),1===c.length&&1===k.nodeType?b.find.matchesSelector(k,a)?[k]:[]:b.find.matches(a,b.grep(c,function(l){return 1===l.nodeType}))};b.fn.extend({find:function(a){var c,g=[],k=this,l=k.length;if('string'!=typeof a)return this.pushStack(b(a).filter(function(){for(c=0;l>c;c++)if(b.contains(k[c],this))return!0}));for(c=0;l>c;c++)b.find(a,k[c],g);return g=this.pushStack(1<
l?b.unique(g):g),g.selector=this.selector?this.selector+' '+a:a,g},filter:function(a){return this.pushStack(Ga(this,a||[],!1))},not:function(a){return this.pushStack(Ga(this,a||[],!0))},is:function(a){return!!Ga(this,'string'==typeof a&&ba.test(a)?b(a):a||[],!1).length}});var fa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(b.fn.init=function(a,c,g){var k,l;if(!a)return this;if(g=g||ra,'string'==typeof a){if(k='<'===a.charAt(0)&&'>'===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:fa.exec(a),!k||!k[1]&&
c)return!c||c.jquery?(c||g).find(a):this.constructor(c).find(a);if(k[1]){if(c=c instanceof b?c[0]:c,b.merge(this,b.parseHTML(k[1],c&&c.nodeType?c.ownerDocument||c:Qa,!0)),P.test(k[1])&&b.isPlainObject(c))for(k in c)b.isFunction(this[k])?this[k](c[k]):this.attr(k,c[k]);return this}if(l=Qa.getElementById(k[2]),l&&l.parentNode){if(l.id!==k[2])return ra.find(a);this.length=1;this[0]=l}return this.context=Qa,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):b.isFunction(a)?
'undefined'!=typeof g.ready?g.ready(a):a(b):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),b.makeArray(a,this))}).prototype=b.fn;var ra=b(Qa);var ka=/^(?:parents|prev(?:Until|All))/,ia={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({has:function(a){var c,g=b(a,this),k=g.length;return this.filter(function(){for(c=0;k>c;c++)if(b.contains(this,g[c]))return!0})},closest:function(a,c){for(var g,k=0,l=this.length,D=[],G=ba.test(a)||'string'!=typeof a?b(a,c||this.context):
0;l>k;k++)for(g=this[k];g&&g!==c;g=g.parentNode)if(11>g.nodeType&&(G?-1<G.index(g):1===g.nodeType&&b.find.matchesSelector(g,a))){D.push(g);break}return this.pushStack(1<D.length?b.uniqueSort(D):D)},index:function(a){return a?'string'==typeof a?b.inArray(this[0],b(a)):b.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,c){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(a,c))))},addBack:function(a){return this.add(null==a?this.prevObject:
this.prevObject.filter(a))}});b.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return W(a,'parentNode')},parentsUntil:function(a,c,g){return W(a,'parentNode',g)},next:function(a){return L(a,'nextSibling')},prev:function(a){return L(a,'previousSibling')},nextAll:function(a){return W(a,'nextSibling')},prevAll:function(a){return W(a,'previousSibling')},nextUntil:function(a,c,g){return W(a,'nextSibling',g)},prevUntil:function(a,c,g){return W(a,'previousSibling',
g)},siblings:function(a){return N((a.parentNode||{}).firstChild,a)},children:function(a){return N(a.firstChild)},contents:function(a){return b.nodeName(a,'iframe')?a.contentDocument||a.contentWindow.document:b.merge([],a.childNodes)}},function(a,c){b.fn[a]=function(g,k){var l=b.map(this,c,g);return'Until'!==a.slice(-5)&&(k=g),k&&'string'==typeof k&&(l=b.filter(k,l)),1<this.length&&(ia[a]||(l=b.uniqueSort(l)),ka.test(a)&&(l=l.reverse())),this.pushStack(l)}});var za=/\S+/g;b.Callbacks=function(a){a=
'string'==typeof a?V(a):b.extend({},a);var c,g,k,l,D=[],G=[],aa=-1,la=function(){l=a.once;for(k=c=!0;G.length;aa=-1)for(g=G.shift();++aa<D.length;)!1===D[aa].apply(g[0],g[1])&&a.stopOnFalse&&(aa=D.length,g=!1);a.memory||(g=!1);c=!1;l&&(D=g?[]:'')},ya={add:function(){return D&&(g&&!c&&(aa=D.length-1,G.push(g)),function Ua(Oa){b.each(Oa,function(tb,bb){b.isFunction(bb)?a.unique&&ya.has(bb)||D.push(bb):bb&&bb.length&&'string'!==b.type(bb)&&Ua(bb)})}(arguments),g&&!c&&la()),this},remove:function(){return b.each(arguments,
function(qa,Oa){for(var Ua;-1<(Ua=b.inArray(Oa,D,Ua));)D.splice(Ua,1),aa>=Ua&&aa--}),this},has:function(qa){return qa?-1<b.inArray(qa,D):0<D.length},empty:function(){return D&&=[],this},disable:function(){return l=G=[],D=g='',this},disabled:function(){return!D},lock:function(){return l=!0,g||ya.disable(),this},locked:function(){return!!l},fireWith:function(qa,Oa){return l||(Oa=Oa||[],Oa=[qa,Oa.slice?Oa.slice():Oa],G.push(Oa),c||la()),this},fire:function(){return ya.fireWith(this,arguments),this},
fired:function(){return!!k}};return ya};b.extend({Deferred:function(a){var c=[['resolve','done',b.Callbacks('once memory'),'resolved'],['reject','fail',b.Callbacks('once memory'),'rejected'],['notify','progress',b.Callbacks('memory')]],g='pending',k={state:function(){return g},always:function(){return l.done(arguments).fail(arguments),this},then:function(){var D=arguments;return b.Deferred(function(G){b.each(c,function(aa,la){var ya=b.isFunction(D[aa])&&D[aa];l[la[1]](function(){var qa=ya&&ya.apply(this,
arguments);qa&&b.isFunction(qa.promise)?qa.promise().progress(G.notify).done(G.resolve).fail(G.reject):G[la[0]+'With'](this===k?G.promise():this,ya?[qa]:arguments)})});D=null}).promise()},promise:function(D){return null!=D?b.extend(D,k):k}},l={};return k.pipe=k.then,b.each(c,function(D,G){var aa=G[2],la=G[3];k[G[1]]=aa.add;la&&aa.add(function(){g=la},c[1^D][2].disable,c[2][2].lock);l[G[0]]=function(){return l[G[0]+'With'](this===l?k:this,arguments),this};l[G[0]+'With']=aa.fireWith}),k.promise(l),
a&&a.call(l,l),l},when:function(a){var c=0,g=Gb.call(arguments),k=g.length,l=1!==k||a&&b.isFunction(a.promise)?k:0,D=1===l?a:b.Deferred(),G=function(qa,Oa,Ua){return function(tb){Oa[qa]=this;Ua[qa]=1<arguments.length?Gb.call(arguments):tb;Ua===la?D.notifyWith(Oa,Ua):--l||D.resolveWith(Oa,Ua)}},aa;if(1<k){var la=Array(k);var ya=Array(k);for(aa=Array(k);k>c;c++)g[c]&&b.isFunction(g[c].promise)?g[c].promise().progress(G(c,ya,la)).done(G(c,aa,g)).fail(D.reject):--l}return l||D.resolveWith(aa,g),D.promise()}});
var xa;b.fn.ready=function(a){return b.ready.promise().done(a),this};b.extend({isReady:!1,readyWait:1,holdReady:function(a){a?b.readyWait++:b.ready(!0)},ready:function(a){(!0===a?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==a&&0<--b.readyWait||(xa.resolveWith(Qa,[b]),b.fn.triggerHandler&&(b(Qa).triggerHandler('ready'),b(Qa).off('ready'))))}});b.ready.promise=function(a){if(!xa)if(xa=b.Deferred(),'complete'===Qa.readyState||'loading'!==Qa.readyState&&!Qa.documentElement.doScroll)E.setTimeout(b.ready);
else if(Qa.addEventListener)Qa.addEventListener('DOMContentLoaded',U),E.addEventListener('load',U);else{Qa.attachEvent('onreadystatechange',U);E.attachEvent('onload',U);var c=!1;try{c=null==E.frameElement&&Qa.documentElement}catch(g){}c&&c.doScroll&&!function k(){if(!b.isReady){try{c.doScroll('left')}catch(l){return E.setTimeout(k,50)}pa();b.ready()}}()}return xa.promise(a)};b.ready.promise();for(var Ya in b(e))break;e.ownFirst='0'===Ya;e.inlineBlockNeedsLayout=!1;b(function(){var a,c,g,k;(g=Qa.getElementsByTagName('body')[0])&&
g.style&&(c=Qa.createElement('div'),k=Qa.createElement('div'),k.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',g.appendChild(k).appendChild(c),'undefined'!=typeof c.style.zoom&&(c.style.cssText='display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1',e.inlineBlockNeedsLayout=a=3===c.offsetWidth,a&&(g.style.zoom=1)),g.removeChild(k))});(function(){var a=Qa.createElement('div');e.deleteExpando=!0;try{delete a.test}catch(c){e.deleteExpando=!1}})();var Ta=function(a){var c=
b.noData[(a.nodeName+' ').toLowerCase()],g=+a.nodeType||1;return 1!==g&&9!==g?!1:!c||!0!==c&&a.getAttribute('classid')===c},ob=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wb=/([A-Z])/g;b.extend({cache:{},noData:{'applet ':!0,'embed ':!0,'object ':'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'},hasData:function(a){return a=a.nodeType?b.cache[a[b.expando]]:a[b.expando],!!a&&!m(a)},data:function(a,c,g){return T(a,c,g)},removeData:function(a,c){return x(a,c)},_data:function(a,c,g){return T(a,c,g,!0)},_removeData:function(a,
c){return x(a,c,!0)}});b.fn.extend({data:function(a,c){var g,k,l,D=this[0],G=D&&D.attributes;if(void 0===a){if(this.length&&(l=b.data(D),1===D.nodeType&&!b._data(D,'parsedAttrs'))){for(g=G.length;g--;)G[g]&&(k=G[g].name,0===k.indexOf('data-')&&(k=b.camelCase(k.slice(5)),Y(D,k,l[k])));b._data(D,'parsedAttrs',!0)}return l}return'object'==typeof a?this.each(function(){b.data(this,a)}):1<arguments.length?this.each(function(){b.data(this,a,c)}):D?Y(D,a,b.data(D,a)):void 0},removeData:function(a){return this.each(function(){b.removeData(this,
a)})}});b.extend({queue:function(a,c,g){var k;return a?(c=(c||'fx')+'queue',k=b._data(a,c),g&&(!k||b.isArray(g)?k=b._data(a,c,b.makeArray(g)):k.push(g)),k||[]):void 0},dequeue:function(a,c){c=c||'fx';var g=b.queue(a,c),k=g.length,l=g.shift(),D=b._queueHooks(a,c),G=function(){b.dequeue(a,c)};'inprogress'===l&&(l=g.shift(),k--);l&&('fx'===c&&g.unshift('inprogress'),delete D.stop,l.call(a,G,D));!k&&D&&D.empty.fire()},_queueHooks:function(a,c){var g=c+'queueHooks';return b._data(a,g)||b._data(a,g,{empty:b.Callbacks('once memory').add(function(){b._removeData(a,
c+'queue');b._removeData(a,g)})})}});b.fn.extend({queue:function(a,c){var g=2;return'string'!=typeof a&&(c=a,a='fx',g--),arguments.length<g?b.queue(this[0],a):void 0===c?this:this.each(function(){var k=b.queue(this,a,c);b._queueHooks(this,a);'fx'===a&&'inprogress'!==k[0]&&b.dequeue(this,a)})},dequeue:function(a){return this.each(function(){b.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||'fx',[])},promise:function(a,c){var g,k=1,l=b.Deferred(),D=this,G=this.length,aa=function(){--k||
l.resolveWith(D,[D])};'string'!=typeof a&&(c=a,a=void 0);for(a=a||'fx';G--;)(g=b._data(D[G],a+'queueHooks'))&&g.empty&&(k++,g.empty.add(aa));return aa(),l.promise(c)}});(function(){var a;e.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var c,g,k;return g=Qa.getElementsByTagName('body')[0],g&&g.style?(c=Qa.createElement('div'),k=Qa.createElement('div'),k.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',g.appendChild(k).appendChild(c),'undefined'!=typeof c.style.zoom&&
(c.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1',c.appendChild(Qa.createElement('div')).style.width='5px',a=3!==c.offsetWidth),g.removeChild(k),a):void 0}})();var Kb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,eb=new RegExp('^(?:([+-])=|)('+Kb+')([a-z%]*)$','i'),yb=['Top','Right','Bottom','Left'],Vb=function(a,c){return a=c||a,'none'===b.css(a,'display')||!b.contains(a.ownerDocument,a)},
Wa=function(a,c,g,k,l,D,G){var aa=0,la=a.length,ya=null==g;if('object'===b.type(g))for(aa in l=!0,g)Wa(a,c,aa,g[aa],!0,D,G);else if(void 0!==k&&(l=!0,b.isFunction(k)||(G=!0),ya&&(G?(c.call(a,k),c=null):(ya=c,c=function(qa,Oa,Ua){return ya.call(b(qa),Ua)})),c))for(;la>aa;aa++)c(a[aa],g,G?k:k.call(a[aa],aa,c(a[aa],g)));return l?a:ya?c.call(a):la?c(a[0],g):D},fb=/^(?:checkbox|radio)$/i,ea=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,ha=/^\s+/;!function(){var a=Qa.createElement('div'),c=Qa.createDocumentFragment(),
g=Qa.createElement('input');a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";e.leadingWhitespace=3===a.firstChild.nodeType;e.tbody=!a.getElementsByTagName('tbody').length;e.htmlSerialize=!!a.getElementsByTagName('link').length;e.html5Clone='<:nav></:nav>'!==Qa.createElement('nav').cloneNode(!0).outerHTML;g.type='checkbox';g.checked=!0;c.appendChild(g);e.appendChecked=g.checked;a.innerHTML='<textarea>x</textarea>';e.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue;
c.appendChild(a);g=Qa.createElement('input');g.setAttribute('type','radio');g.setAttribute('checked','checked');g.setAttribute('name','t');a.appendChild(g);e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;e.noCloneEvent=!!a.addEventListener;a[b.expando]=1;e.attributes=!a.getAttribute(b.expando)}();var oa={option:[1,"<select multiple='multiple'>",'</select>'],legend:[1,'<fieldset>','</fieldset>'],area:[1,'<map>','</map>'],param:[1,'<object>','</object>'],thead:[1,'<table>','</table>'],
tr:[2,'<table><tbody>','</tbody></table>'],col:[2,'<table><tbody></tbody><colgroup>','</colgroup></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:e.htmlSerialize?[0,'','']:[1,'X<div>','</div>']};oa.optgroup=oa.option;oa.tbody=oa.tfoot=oa.colgroup=oa.caption=oa.thead;oa.th=oa.td;var Ma=/<|&#?\w+;/,$a=/<tbody/i;!function(){var a,c=Qa.createElement('div');for(a in{submit:!0,change:!0,focusin:!0}){var g='on'+a;(e[a]=g in E)||(c.setAttribute(g,'t'),e[a]=!1===c.attributes[g].expando)}}();
var db=/^(?:input|select|textarea)$/i,Ka=/^key/,sb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,hb=/^(?:focusinfocus|focusoutblur)$/,lb=/^([^.]*)(?:\.(.+)|)/;b.event={global:{},add:function(a,c,g,k,l){var D,G,aa,la,ya,qa,Oa,Ua;if(G=b._data(a)){g.handler&&(aa=g,g=aa.handler,l=aa.selector);g.guid||(g.guid=b.guid++);(D=G.events)||(D=G.events={});(ya=G.handle)||(ya=G.handle=function(Lb){return'undefined'==typeof b||Lb&&b.event.triggered===Lb.type?void 0:b.event.dispatch.apply(ya.elem,arguments)},
ya.elem=a);c=(c||'').match(za)||[''];for(G=c.length;G--;){var tb=lb.exec(c[G])||[];var bb=Ua=tb[1];tb=(tb[2]||'').split('.').sort();bb&&(la=b.event.special[bb]||{},bb=(l?la.delegateType:la.bindType)||bb,la=b.event.special[bb]||{},qa=b.extend({type:bb,origType:Ua,data:k,handler:g,guid:g.guid,selector:l,needsContext:l&&b.expr.match.needsContext.test(l),namespace:tb.join('.')},aa),(Oa=D[bb])||(Oa=D[bb]=[],Oa.delegateCount=0,la.setup&&!1!==la.setup.call(a,k,tb,ya)||(a.addEventListener?a.addEventListener(bb,
ya,!1):a.attachEvent&&a.attachEvent('on'+bb,ya))),la.add&&(la.add.call(a,qa),qa.handler.guid||(qa.handler.guid=g.guid)),l?Oa.splice(Oa.delegateCount++,0,qa):Oa.push(qa),b.event.global[bb]=!0)}a=null}},remove:function(a,c,g,k,l){var D,G,aa,la,ya,qa,Oa,Ua,tb=b.hasData(a)&&b._data(a);if(tb&&(ya=tb.events)){c=(c||'').match(za)||[''];for(la=c.length;la--;)if(G=lb.exec(c[la])||[],qa=Ua=G[1],Oa=(G[2]||'').split('.').sort(),qa){var bb=b.event.special[qa]||{};qa=(k?bb.delegateType:bb.bindType)||qa;var Lb=
ya[qa]||[];G=G[2]&&new RegExp('(^|\\.)'+Oa.join('\\.(?:.*\\.|)')+'(\\.|$)');for(aa=D=Lb.length;D--;){var lc=Lb[D];!l&&Ua!==lc.origType||g&&g.guid!==lc.guid||G&&!G.test(lc.namespace)||k&&k!==lc.selector&&('**'!==k||!lc.selector)||(Lb.splice(D,1),lc.selector&&Lb.delegateCount--,bb.remove&&bb.remove.call(a,lc))}aa&&!Lb.length&&(bb.teardown&&!1!==bb.teardown.call(a,Oa,tb.handle)||b.removeEvent(a,qa,tb.handle),delete ya[qa])}else for(qa in ya)b.event.remove(a,qa+c[la],g,k,!0);b.isEmptyObject(ya)&&(delete tb.handle,
b._removeData(a,'events'))}},trigger:function(a,c,g,k){var l,D,G,aa,la=[g||Qa],ya=M.call(a,'type')?a.type:a;var qa=M.call(a,'namespace')?a.namespace.split('.'):[];if(G=l=g=g||Qa,3!==g.nodeType&&8!==g.nodeType&&!hb.test(ya+b.event.triggered)&&(-1<ya.indexOf('.')&&(qa=ya.split('.'),ya=qa.shift(),qa.sort()),D=0>ya.indexOf(':')&&'on'+ya,a=a[b.expando]?a:new b.Event(ya,'object'==typeof a&&a),a.isTrigger=k?2:3,a.namespace=qa.join('.'),a.rnamespace=a.namespace?new RegExp('(^|\\.)'+qa.join('\\.(?:.*\\.|)')+
'(\\.|$)'):null,a.result=void 0,a.target||(a.target=g),c=null==c?[a]:b.makeArray(c,[a]),aa=b.event.special[ya]||{},k||!aa.trigger||!1!==aa.trigger.apply(g,c))){if(!k&&!aa.noBubble&&!b.isWindow(g)){var Oa=aa.delegateType||ya;for(hb.test(Oa+ya)||(G=G.parentNode);G;G=G.parentNode)la.push(G),l=G;l===(g.ownerDocument||Qa)&&la.push(l.defaultView||l.parentWindow||E)}for(qa=0;(G=la[qa++])&&!a.isPropagationStopped();)a.type=1<qa?Oa:aa.bindType||ya,(l=(b._data(G,'events')||{})[a.type]&&b._data(G,'handle'))&&
l.apply(G,c),(l=D&&G[D])&&l.apply&&Ta(G)&&(a.result=l.apply(G,c),!1===a.result&&a.preventDefault());if(a.type=ya,!(k||a.isDefaultPrevented()||aa._default&&!1!==aa._default.apply(la.pop(),c))&&Ta(g)&&D&&g[ya]&&!b.isWindow(g)){(l=g[D])&&(g[D]=null);b.event.triggered=ya;try{g[ya]()}catch(Ua){}b.event.triggered=void 0;l&&(g[D]=l)}return a.result}},dispatch:function(a){a=b.event.fix(a);var c,g,k,l,D=Gb.call(arguments);var G=(b._data(this,'events')||{})[a.type]||[];var aa=b.event.special[a.type]||{};if(D[0]=
a,a.delegateTarget=this,!aa.preDispatch||!1!==aa.preDispatch.call(this,a)){var la=b.event.handlers.call(this,a,G);for(G=0;(k=la[G++])&&!a.isPropagationStopped();)for(a.currentTarget=k.elem,c=0;(l=k.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(l.namespace)||(a.handleObj=l,a.data=l.data,g=((b.event.special[l.origType]||{}).handle||l.handler).apply(k.elem,D),void 0!==g&&!1===(a.result=g)&&(a.preventDefault(),a.stopPropagation()));return aa.postDispatch&&aa.postDispatch.call(this,
a),a.result}},handlers:function(a,c){var g,k=[],l=c.delegateCount,D=a.target;if(l&&D.nodeType&&('click'!==a.type||isNaN(a.button)||1>a.button))for(;D!=this;D=D.parentNode||this)if(1===D.nodeType&&(!0!==D.disabled||'click'!==a.type)){var G=[];for(g=0;l>g;g++){var aa=c[g];var la=aa.selector+' ';void 0===G[la]&&(G[la]=aa.needsContext?-1<b(la,this).index(D):b.find(la,this,null,[D]).length);G[la]&&G.push(aa)}G.length&&k.push({elem:D,handlers:G})}return l<c.length&&k.push({elem:this,handlers:c.slice(l)}),
k},fix:function(a){if(a[b.expando])return a;var c=a.type;var g=a,k=this.fixHooks[c];k||(this.fixHooks[c]=k=sb.test(c)?this.mouseHooks:Ka.test(c)?this.keyHooks:{});var l=k.props?this.props.concat(k.props):this.props;a=new b.Event(g);for(c=l.length;c--;){var D=l[c];a[D]=g[D]}return a.target||(a.target=g.srcElement||Qa),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,k.filter?k.filter(a,g):a},props:'altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(' '),
fixHooks:{},keyHooks:{props:['char','charCode','key','keyCode'],filter:function(a,c){return null==a.which&&(a.which=null!=c.charCode?c.charCode:c.keyCode),a}},mouseHooks:{props:'button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement'.split(' '),filter:function(a,c){var g,k,l,D=c.button,G=c.fromElement;return null==a.pageX&&null!=c.clientX&&(k=a.target.ownerDocument||Qa,l=k.documentElement,g=k.body,a.pageX=c.clientX+(l&&l.scrollLeft||g&&g.scrollLeft||0)-(l&&
l.clientLeft||g&&g.clientLeft||0),a.pageY=c.clientY+(l&&l.scrollTop||g&&g.scrollTop||0)-(l&&l.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&G&&(a.relatedTarget=G===a.target?c.toElement:G),a.which||void 0===D||(a.which=1&D?1:2&D?3:4&D?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==I()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:'focusin'},blur:{trigger:function(){return this===I()&&this.blur?(this.blur(),!1):void 0},delegateType:'focusout'},click:{trigger:function(){return b.nodeName(this,
'input')&&'checkbox'===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return b.nodeName(a.target,'a')}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,c,g){a=b.extend(new b.Event,g,{type:a,isSimulated:!0});b.event.trigger(a,null,c);a.isDefaultPrevented()&&g.preventDefault()}};b.removeEvent=Qa.removeEventListener?function(a,c,g){a.removeEventListener&&a.removeEventListener(c,g)}:function(a,
c,g){c='on'+c;a.detachEvent&&('undefined'==typeof a[c]&&(a[c]=null),a.detachEvent(c,g))};b.Event=function(a,c){return this instanceof b.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?r:H):this.type=a,c&&b.extend(this,c),this.timeStamp=a&&a.timeStamp||b.now(),void(this[b.expando]=!0)):new b.Event(a,c)};b.Event.prototype={constructor:b.Event,isDefaultPrevented:H,isPropagationStopped:H,isImmediatePropagationStopped:H,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=r;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=r;a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=r;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};b.each({mouseenter:'mouseover',
mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},function(a,c){b.event.special[a]={delegateType:c,bindType:c,handle:function(g){var k,l=g.relatedTarget,D=g.handleObj;return l&&(l===this||b.contains(this,l))||(g.type=D.origType,k=D.handler.apply(this,arguments),g.type=c),k}}});e.submit||(b.event.special.submit={setup:function(){return b.nodeName(this,'form')?!1:void b.event.add(this,'click._submit keypress._submit',function(a){a=a.target;(a=b.nodeName(a,'input')||b.nodeName(a,
'button')?b.prop(a,'form'):void 0)&&!b._data(a,'submit')&&(b.event.add(a,'submit._submit',function(c){c._submitBubble=!0}),b._data(a,'submit',!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&b.event.simulate('submit',this.parentNode,a))},teardown:function(){return b.nodeName(this,'form')?!1:void b.event.remove(this,'._submit')}});e.change||(b.event.special.change={setup:function(){return db.test(this.nodeName)?('checkbox'!==this.type&&'radio'!==
this.type||(b.event.add(this,'propertychange._change',function(a){'checked'===a.originalEvent.propertyName&&(this._justChanged=!0)}),b.event.add(this,'click._change',function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1);b.event.simulate('change',this,a)})),!1):void b.event.add(this,'beforeactivate._change',function(a){a=a.target;db.test(a.nodeName)&&!b._data(a,'change')&&(b.event.add(a,'change._change',function(c){!this.parentNode||c.isSimulated||c.isTrigger||b.event.simulate('change',
this.parentNode,c)}),b._data(a,'change',!0))})},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||'radio'!==c.type&&'checkbox'!==c.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return b.event.remove(this,'._change'),!db.test(this.nodeName)}});e.focusin||b.each({focus:'focusin',blur:'focusout'},function(a,c){var g=function(k){b.event.simulate(c,k.target,b.event.fix(k))};b.event.special[c]={setup:function(){var k=this.ownerDocument||this,l=b._data(k,
c);l||k.addEventListener(a,g,!0);b._data(k,c,(l||0)+1)},teardown:function(){var k=this.ownerDocument||this,l=b._data(k,c)-1;l?b._data(k,c,l):(k.removeEventListener(a,g,!0),b._removeData(k,c))}}});b.fn.extend({on:function(a,c,g,k){return A(this,a,c,g,k)},one:function(a,c,g,k){return A(this,a,c,g,k,1)},off:function(a,c,g){var k,l;if(a&&a.preventDefault&&a.handleObj)return k=a.handleObj,b(a.delegateTarget).off(k.namespace?k.origType+'.'+k.namespace:k.origType,k.selector,k.handler),this;if('object'==
typeof a){for(l in a)this.off(l,c,a[l]);return this}return!1!==c&&'function'!=typeof c||(g=c,c=void 0),!1===g&&(g=H),this.each(function(){b.event.remove(this,a,g,c)})},trigger:function(a,c){return this.each(function(){b.event.trigger(a,c,this)})},triggerHandler:function(a,c){var g=this[0];return g?b.event.trigger(a,c,g,!0):void 0}});var mb=/ jQuery\d+="(?:null|\d+)"/g,nb=RegExp('<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video)[\\s/>]',
'i'),jb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Pb=/<script|<style|<link/i,Hb=/checked\s*(?:[^=]|=\s*.checked.)/i,Jb=/^true\/(.*)/,Mb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ac=Da(Qa).appendChild(Qa.createElement('div'));b.extend({htmlPrefilter:function(a){return a.replace(jb,'<$1></$2>')},clone:function(a,c,g){var k,l,D,G=b.contains(a.ownerDocument,a);if(e.html5Clone||b.isXMLDoc(a)||!nb.test('<'+a.nodeName+'>')?l=a.cloneNode(!0):(ac.innerHTML=a.outerHTML,ac.removeChild(l=
ac.firstChild)),!(e.noCloneEvent&&e.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||b.isXMLDoc(a))){var aa=R(l);var la=R(a);for(D=0;null!=(k=la[D]);++D)if(aa[D]){var ya=void 0,qa,Oa=k,Ua=aa[D];if(1===Ua.nodeType){if(qa=Ua.nodeName.toLowerCase(),!e.noCloneEvent&&Ua[b.expando]){k=b._data(Ua);for(ya in k.events)b.removeEvent(Ua,ya,k.handle);Ua.removeAttribute(b.expando)}'script'===qa&&Ua.text!==Oa.text?(C(Ua).text=Oa.text,F(Ua)):'object'===qa?(Ua.parentNode&&(Ua.outerHTML=Oa.outerHTML),e.html5Clone&&
Oa.innerHTML&&!b.trim(Ua.innerHTML)&&(Ua.innerHTML=Oa.innerHTML)):'input'===qa&&fb.test(Oa.type)?(Ua.defaultChecked=Ua.checked=Oa.checked,Ua.value!==Oa.value&&(Ua.value=Oa.value)):'option'===qa?Ua.defaultSelected=Ua.selected=Oa.defaultSelected:'input'!==qa&&'textarea'!==qa||(Ua.defaultValue=Oa.defaultValue)}}}if(c)if(g)for(la=la||R(a),aa=aa||R(l),D=0;null!=(k=la[D]);D++)O(k,aa[D]);else O(a,l);return aa=R(l,'script'),0<aa.length&&J(aa,!G&&R(a,'script')),l},cleanData:function(a,c){for(var g,k,l,D,G=
0,aa=b.expando,la=b.cache,ya=e.attributes,qa=b.event.special;null!=(g=a[G]);G++)if((c||Ta(g))&&(l=g[aa],D=l&&la[l])){if(D.events)for(k in D.events)qa[k]?b.event.remove(g,k):b.removeEvent(g,k,D.handle);la[l]&&(delete la[l],ya||'undefined'==typeof g.removeAttribute?g[aa]=void 0:g.removeAttribute(aa),Fb.push(l))}}});b.fn.extend({domManip:z,detach:function(a){return S(this,a,!0)},remove:function(a){return S(this,a)},text:function(a){return Wa(this,function(c){return void 0===c?b.text(this):this.empty().append((this[0]&&
this[0].ownerDocument||Qa).createTextNode(c))},null,a,arguments.length)},append:function(){return z(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||y(this,a).appendChild(a)})},prepend:function(){return z(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=y(this,a);c.insertBefore(a,c.firstChild)}})},before:function(){return z(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return z(this,
arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,c=0;null!=(a=this[c]);c++){for(1===a.nodeType&&b.cleanData(R(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&b.nodeName(a,'select')&&(a.options.length=0)}return this},clone:function(a,c){return a=null==a?!1:a,c=null==c?a:c,this.map(function(){return b.clone(this,a,c)})},html:function(a){return Wa(this,function(c){var g=this[0]||{},k=0,l=this.length;if(void 0===c)return 1===
g.nodeType?g.innerHTML.replace(mb,''):void 0;if(!('string'!=typeof c||Pb.test(c)||!e.htmlSerialize&&nb.test(c)||!e.leadingWhitespace&&ha.test(c)||oa[(ea.exec(c)||['',''])[1].toLowerCase()])){c=b.htmlPrefilter(c);try{for(;l>k;k++)g=this[k]||{},1===g.nodeType&&(b.cleanData(R(g,!1)),g.innerHTML=c);g=0}catch(D){}}g&&this.empty().append(c)},null,a,arguments.length)},replaceWith:function(){var a=[];return z(this,arguments,function(c){var g=this.parentNode;0>b.inArray(this,a)&&(b.cleanData(R(this)),g&&g.replaceChild(c,
this))},a)}});b.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},function(a,c){b.fn[a]=function(g){for(var k=0,l=[],D=b(g),G=D.length-1;G>=k;k++)g=k===G?this:this.clone(!0),b(D[k])[c](g),Zb.apply(l,g.get());return this.pushStack(l)}});var Wb,Gc={HTML:'block',BODY:'block'},qc=/^margin/,Ob=new RegExp('^('+Kb+')(?!px)[a-z%]+$','i'),Nc=function(a,c,g,k){var l,D={};for(l in c)D[l]=a.style[l],a.style[l]=c[l];g=g.apply(a,k||[]);for(l in c)a.style[l]=
D[l];return g},wc=Qa.documentElement;!function(){var a,c,g,k,l,D,G=Qa.createElement('div'),aa=Qa.createElement('div');if(aa.style){aa.style.cssText='float:left;opacity:.5';e.opacity='0.5'===aa.style.opacity;e.cssFloat=!!aa.style.cssFloat;aa.style.backgroundClip='content-box';aa.cloneNode(!0).style.backgroundClip='';e.clearCloneStyle='content-box'===aa.style.backgroundClip;G=Qa.createElement('div');G.style.cssText='border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute';
aa.innerHTML='';G.appendChild(aa);e.boxSizing=''===aa.style.boxSizing||''===aa.style.MozBoxSizing||''===aa.style.WebkitBoxSizing;b.extend(e,{reliableHiddenOffsets:function(){return null==a&&la(),k},boxSizingReliable:function(){return null==a&&la(),g},pixelMarginRight:function(){return null==a&&la(),c},pixelPosition:function(){return null==a&&la(),a},reliableMarginRight:function(){return null==a&&la(),l},reliableMarginLeft:function(){return null==a&&la(),D}});function la(){var ya,qa,Oa=Qa.documentElement;
Oa.appendChild(G);aa.style.cssText='-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%';a=g=D=!1;c=l=!0;E.getComputedStyle&&(qa=E.getComputedStyle(aa),a='1%'!==(qa||{}).top,D='2px'===(qa||{}).marginLeft,g='4px'===(qa||{width:'4px'}).width,aa.style.marginRight='50%',c='4px'===(qa||{marginRight:'4px'}).marginRight,ya=aa.appendChild(Qa.createElement('div')),ya.style.cssText=aa.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0',
ya.style.marginRight=ya.style.width='0',aa.style.width='1px',l=!parseFloat((E.getComputedStyle(ya)||{}).marginRight),aa.removeChild(ya));aa.style.display='none';(k=0===aa.getClientRects().length)&&(aa.style.display='',aa.innerHTML='<table><tr><td></td><td>t</td></tr></table>',aa.childNodes[0].style.borderCollapse='separate',ya=aa.getElementsByTagName('td'),ya[0].style.cssText='margin:0;border:0;padding:0;display:none',k=0===ya[0].offsetHeight,k&&(ya[0].style.display='',ya[1].style.display='none',
k=0===ya[0].offsetHeight));Oa.removeChild(G)}}}();var xc,sc,Sc=/^(top|right|bottom|left)$/;E.getComputedStyle?(xc=function(a){var c=a.ownerDocument.defaultView;return c&&c.opener||(c=E),c.getComputedStyle(a)},sc=function(a,c,g){var k,l,D,G,aa=a.style;return g=g||xc(a),G=g?g.getPropertyValue(c)||g[c]:void 0,''!==G&&void 0!==G||b.contains(a.ownerDocument,a)||(G=b.style(a,c)),g&&!e.pixelMarginRight()&&Ob.test(G)&&qc.test(c)&&(k=aa.width,l=aa.minWidth,D=aa.maxWidth,aa.minWidth=aa.maxWidth=aa.width=G,
G=g.width,aa.width=k,aa.minWidth=l,aa.maxWidth=D),void 0===G?G:G+''}):wc.currentStyle&&(xc=function(a){return a.currentStyle},sc=function(a,c,g){var k,l,D,G,aa=a.style;return g=g||xc(a),G=g?g[c]:void 0,null==G&&aa&&aa[c]&&(G=aa[c]),Ob.test(G)&&!Sc.test(c)&&(k=aa.left,l=a.runtimeStyle,D=l&&l.left,D&&(l.left=a.currentStyle.left),aa.left='fontSize'===c?'1em':G,G=aa.pixelLeft+'px',aa.left=k,D&&(l.left=D)),void 0===G?G:G+''||'auto'});var Oc=/alpha\([^)]*\)/i,Tc=/opacity\s*=\s*([^)]*)/i,Jd=/^(none|table(?!-c[ea]).+)/,
wd=new RegExp('^('+Kb+')(.*)$','i'),Kd={position:'absolute',visibility:'hidden',display:'block'},od={letterSpacing:'0',fontWeight:'400'},kd=['Webkit','O','Moz','ms'],jd=Qa.createElement('div').style;b.extend({cssHooks:{opacity:{get:function(a,c){if(c)return a=sc(a,'opacity'),''===a?'1':a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{'float':e.cssFloat?
'cssFloat':'styleFloat'},style:function(a,c,g,k){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var l,D,G,aa=b.camelCase(c),la=a.style;if(c=b.cssProps[aa]||(b.cssProps[aa]=Ca(aa)||aa),G=b.cssHooks[c]||b.cssHooks[aa],void 0===g)return G&&'get'in G&&void 0!==(l=G.get(a,!1,k))?l:la[c];if(D=typeof g,'string'===D&&(l=eb.exec(g))&&l[1]&&(g=ma(a,c,l),D='number'),null!=g&&g===g&&('number'===D&&(g+=l&&l[3]||(b.cssNumber[aa]?'':'px')),e.clearCloneStyle||''!==g||0!==c.indexOf('background')||(la[c]='inherit'),
!(G&&'set'in G&&void 0===(g=G.set(a,g,k)))))try{la[c]=g}catch(ya){}}},css:function(a,c,g,k){var l,D,G,aa=b.camelCase(c);return c=b.cssProps[aa]||(b.cssProps[aa]=Ca(aa)||aa),G=b.cssHooks[c]||b.cssHooks[aa],G&&'get'in G&&(D=G.get(a,!0,g)),void 0===D&&(D=sc(a,c,k)),'normal'===D&&c in od&&(D=od[c]),''===g||g?(l=parseFloat(D),!0===g||isFinite(l)?l||0:D):D}});b.each(['height','width'],function(a,c){b.cssHooks[c]={get:function(g,k,l){return k?Jd.test(b.css(g,'display'))&&0===g.offsetWidth?Nc(g,Kd,function(){return Aa(g,
c,l)}):Aa(g,c,l):void 0},set:function(g,k,l){var D=l&&xc(g);return Ba(g,k,l?ua(g,c,l,e.boxSizing&&'border-box'===b.css(g,'boxSizing',!1,D),D):0)}}});e.opacity||(b.cssHooks.opacity={get:function(a,c){return Tc.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||'')?.01*parseFloat(RegExp.$1)+'':c?'1':''},set:function(a,c){var g=a.style;a=a.currentStyle;var k=b.isNumeric(c)?'alpha(opacity='+100*c+')':'',l=a&&a.filter||g.filter||'';g.zoom=1;(1<=c||''===c)&&''===b.trim(l.replace(Oc,''))&&g.removeAttribute&&
(g.removeAttribute('filter'),''===c||a&&!a.filter)||(g.filter=Oc.test(l)?l.replace(Oc,k):l+' '+k)}});b.cssHooks.marginRight=na(e.reliableMarginRight,function(a,c){return c?Nc(a,{display:'inline-block'},sc,[a,'marginRight']):void 0});b.cssHooks.marginLeft=na(e.reliableMarginLeft,function(a,c){return c?(parseFloat(sc(a,'marginLeft'))||(b.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Nc(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+'px':void 0});b.each({margin:'',
padding:'',border:'Width'},function(a,c){b.cssHooks[a+c]={expand:function(g){var k=0,l={};for(g='string'==typeof g?g.split(' '):[g];4>k;k++)l[a+yb[k]+c]=g[k]||g[k-2]||g[0];return l}};qc.test(a)||(b.cssHooks[a+c].set=Ba)});b.fn.extend({css:function(a,c){return Wa(this,function(g,k,l){var D,G={},aa=0;if(b.isArray(k)){l=xc(g);for(D=k.length;D>aa;aa++)G[k[aa]]=b.css(g,k[aa],!1,l);return G}return void 0!==l?b.style(g,k,l):b.css(g,k)},a,c,1<arguments.length)},show:function(){return Fa(this,!0)},hide:function(){return Fa(this)},
toggle:function(a){return'boolean'==typeof a?a?this.show():this.hide():this.each(function(){Vb(this)?b(this).show():b(this).hide()})}});b.Tween=Ra;Ra.prototype={constructor:Ra,init:function(a,c,g,k,l,D){this.elem=a;this.prop=g;this.easing=l||b.easing._default;this.options=c;this.start=this.now=this.cur();this.end=k;this.unit=D||(b.cssNumber[g]?'':'px')},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var c,g=Ra.propHooks[this.prop];
return this.options.duration?this.pos=c=b.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=c=a,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):Ra.propHooks._default.set(this),this}};Ra.prototype.init.prototype=Ra.prototype;Ra.propHooks={_default:{get:function(a){var c;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(c=b.css(a.elem,a.prop,
''),c&&'auto'!==c?c:0)},set:function(a){b.fx.step[a.prop]?b.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[b.cssProps[a.prop]]&&!b.cssHooks[a.prop]?a.elem[a.prop]=a.now:b.style(a.elem,a.prop,a.now+a.unit)}}};Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};b.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:'swing'};b.fx=Ra.prototype.init;b.fx.step={};var Hc,bd,Ld=
/^(?:toggle|show|hide)$/,Md=/queueHooks$/;b.Animation=b.extend(La,{tweeners:{'*':[function(a,c){var g=this.createTween(a,c);return ma(g.elem,a,eb.exec(c),g),g}]},tweener:function(a,c){b.isFunction(a)?(c=a,a=['*']):a=a.match(za);for(var g,k=0,l=a.length;l>k;k++)g=a[k],La.tweeners[g]=La.tweeners[g]||[],La.tweeners[g].unshift(c)},prefilters:[function(a,c,g){var k,l,D,G,aa,la,ya,qa=this,Oa={},Ua=a.style,tb=a.nodeType&&Vb(a),bb=b._data(a,'fxshow');g.queue||(G=b._queueHooks(a,'fx'),null==G.unqueued&&(G.unqueued=
0,aa=G.empty.fire,G.empty.fire=function(){G.unqueued||aa()}),G.unqueued++,qa.always(function(){qa.always(function(){G.unqueued--;b.queue(a,'fx').length||G.empty.fire()})}));1===a.nodeType&&('height'in c||'width'in c)&&(g.overflow=[Ua.overflow,Ua.overflowX,Ua.overflowY],la=b.css(a,'display'),ya='none'===la?b._data(a,'olddisplay')||va(a.nodeName):la,'inline'===ya&&'none'===b.css(a,'float')&&(e.inlineBlockNeedsLayout&&'inline'!==va(a.nodeName)?Ua.zoom=1:Ua.display='inline-block'));g.overflow&&(Ua.overflow=
'hidden',e.shrinkWrapBlocks()||qa.always(function(){Ua.overflow=g.overflow[0];Ua.overflowX=g.overflow[1];Ua.overflowY=g.overflow[2]}));for(k in c)if(l=c[k],Ld.exec(l)){if(delete c[k],D=D||'toggle'===l,l===(tb?'hide':'show')){if('show'!==l||!bb||void 0===bb[k])continue;tb=!0}Oa[k]=bb&&bb[k]||b.style(a,k)}else la=void 0;if(b.isEmptyObject(Oa))'inline'===('none'===la?va(a.nodeName):la)&&(Ua.display=la);else for(k in bb?'hidden'in bb&&(tb=bb.hidden):bb=b._data(a,'fxshow',{}),D&&(bb.hidden=!tb),tb?b(a).show():
qa.done(function(){b(a).hide()}),qa.done(function(){var Lb;b._removeData(a,'fxshow');for(Lb in Oa)b.style(a,Lb,Oa[Lb])}),Oa)c=zb(tb?bb[k]:0,k,qa),k in bb||(bb[k]=c.start,tb&&(c.end=c.start,c.start='width'===k||'height'===k?1:0))}],prefilter:function(a,c){c?La.prefilters.unshift(a):La.prefilters.push(a)}});b.speed=function(a,c,g){var k=a&&'object'==typeof a?b.extend({},a):{complete:g||!g&&c||b.isFunction(a)&&a,duration:a,easing:g&&c||c&&!b.isFunction(c)&&c};return k.duration=b.fx.off?0:'number'==typeof k.duration?
k.duration:k.duration in b.fx.speeds?b.fx.speeds[k.duration]:b.fx.speeds._default,null!=k.queue&&!0!==k.queue||(k.queue='fx'),k.old=k.complete,k.complete=function(){b.isFunction(k.old)&&k.old.call(this);k.queue&&b.dequeue(this,k.queue)},k};b.fn.extend({fadeTo:function(a,c,g,k){return this.filter(Vb).css('opacity',0).show().end().animate({opacity:c},a,g,k)},animate:function(a,c,g,k){var l=b.isEmptyObject(a),D=b.speed(c,g,k);c=function(){var G=La(this,b.extend({},a),D);(l||b._data(this,'finish'))&&
G.stop(!0)};return c.finish=c,l||!1===D.queue?this.each(c):this.queue(D.queue,c)},stop:function(a,c,g){var k=function(l){var D=l.stop;delete l.stop;D(g)};return'string'!=typeof a&&(g=c,c=a,a=void 0),c&&!1!==a&&this.queue(a||'fx',[]),this.each(function(){var l=!0,D=null!=a&&a+'queueHooks',G=b.timers,aa=b._data(this);if(D)aa[D]&&aa[D].stop&&k(aa[D]);else for(D in aa)aa[D]&&aa[D].stop&&Md.test(D)&&k(aa[D]);for(D=G.length;D--;)G[D].elem!==this||null!=a&&G[D].queue!==a||(G[D].anim.stop(g),l=!1,G.splice(D,
1));!l&&g||b.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||'fx'),this.each(function(){var c=b._data(this),g=c[a+'queue'];var k=c[a+'queueHooks'];var l=b.timers,D=g?g.length:0;c.finish=!0;b.queue(this,a,[]);k&&k.stop&&k.stop.call(this,!0);for(k=l.length;k--;)l[k].elem===this&&l[k].queue===a&&(l[k].anim.stop(!0),l.splice(k,1));for(k=0;D>k;k++)g[k]&&g[k].finish&&g[k].finish.call(this);delete c.finish})}});b.each(['toggle','show','hide'],function(a,c){var g=b.fn[c];b.fn[c]=function(k,l,D){return null==
k||'boolean'==typeof k?g.apply(this,arguments):this.animate(Na(c,!0),k,l,D)}});b.each({slideDown:Na('show'),slideUp:Na('hide'),slideToggle:Na('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},function(a,c){b.fn[a]=function(g,k,l){return this.animate(c,g,k,l)}});b.timers=[];b.fx.tick=function(){var a=b.timers,c=0;for(Hc=b.now();c<a.length;c++){var g=a[c];g()||a[c]!==g||a.splice(c--,1)}a.length||b.fx.stop();Hc=void 0};b.fx.timer=function(a){b.timers.push(a);a()?
b.fx.start():b.timers.pop()};b.fx.interval=13;b.fx.start=function(){bd||=E.setInterval(b.fx.tick,b.fx.interval)};b.fx.stop=function(){E.clearInterval(bd);bd=null};b.fx.speeds={slow:600,fast:200,_default:400};b.fn.delay=function(a,c){return a=b.fx?b.fx.speeds[a]||a:a,c=c||'fx',this.queue(c,function(g,k){var l=E.setTimeout(g,a);k.stop=function(){E.clearTimeout(l)}})};(function(){var a=Qa.createElement('input');Qa.createElement('div');var c=Qa.createElement('select'),g=c.appendChild(Qa.createElement('option'));
var k=Qa.createElement('div');k.setAttribute('className','t');k.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";k.getElementsByTagName('a');a.setAttribute('type','checkbox');k.appendChild(a);var l=k.getElementsByTagName('a')[0];l.style.cssText='top:1px';e.getSetAttribute='t'!==k.className;e.style=/top/.test(l.getAttribute('style'));e.hrefNormalized='/a'===l.getAttribute('href');e.checkOn=!!a.value;e.optSelected=g.selected;e.enctype=!!Qa.createElement('form').enctype;
c.disabled=!0;e.optDisabled=!g.disabled;a=Qa.createElement('input');a.setAttribute('value','');e.input=''===a.getAttribute('value');a.value='t';a.setAttribute('type','radio');e.radioValue='t'===a.value})();var Nd=/\r/g,Od=/[\x20\t\r\n\f]+/g;b.fn.extend({val:function(a){var c,g,k,l=this[0];if(arguments.length)return k=b.isFunction(a),this.each(function(D){var G;1===this.nodeType&&(G=k?a.call(this,D,b(this).val()):a,null==G?G='':'number'==typeof G?G+='':b.isArray(G)&&(G=b.map(G,function(aa){return null==
aa?'':aa+''})),c=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],c&&'set'in c&&void 0!==c.set(this,G,'value')||(this.value=G))});if(l)return c=b.valHooks[l.type]||b.valHooks[l.nodeName.toLowerCase()],c&&'get'in c&&void 0!==(g=c.get(l,'value'))?g:(g=l.value,'string'==typeof g?g.replace(Nd,''):null==g?'':g)}});b.extend({valHooks:{option:{get:function(a){var c=b.find.attr(a,'value');return null!=c?c:b.trim(b.text(a)).replace(Od,' ')}},select:{get:function(a){for(var c,g=a.options,k=a.selectedIndex,
l='select-one'===a.type||0>k,D=l?null:[],G=l?k+1:g.length,aa=0>k?G:l?k:0;G>aa;aa++)if(c=g[aa],!(!c.selected&&aa!==k||(e.optDisabled?c.disabled:null!==c.getAttribute('disabled'))||c.parentNode.disabled&&b.nodeName(c.parentNode,'optgroup'))){if(a=b(c).val(),l)return a;D.push(a)}return D},set:function(a,c){var g,k,l=a.options;c=b.makeArray(c);for(var D=l.length;D--;)if(k=l[D],-1<b.inArray(b.valHooks.option.get(k),c))try{k.selected=g=!0}catch(G){k.scrollHeight}else k.selected=!1;return g||(a.selectedIndex=
-1),l}}}});b.each(['radio','checkbox'],function(){b.valHooks[this]={set:function(a,c){return b.isArray(c)?a.checked=-1<b.inArray(b(a).val(),c):void 0}};e.checkOn||(b.valHooks[this].get=function(a){return null===a.getAttribute('value')?'on':a.value})});var Kc,Bc=b.expr.attrHandle,cd=/^(?:checked|selected)$/i,Fc=e.getSetAttribute,Uc=e.input;b.fn.extend({attr:function(a,c){return Wa(this,b.attr,a,c,1<arguments.length)},removeAttr:function(a){return this.each(function(){b.removeAttr(this,a)})}});b.extend({attr:function(a,
c,g){var k,l,D=a.nodeType;if(3!==D&&8!==D&&2!==D)return'undefined'==typeof a.getAttribute?b.prop(a,c,g):(1===D&&b.isXMLDoc(a)||(c=c.toLowerCase(),l=b.attrHooks[c]||(b.expr.match.bool.test(c)?Pd:Kc)),void 0!==g?null===g?void b.removeAttr(a,c):l&&'set'in l&&void 0!==(k=l.set(a,g,c))?k:(a.setAttribute(c,g+''),g):l&&'get'in l&&null!==(k=l.get(a,c))?k:(k=b.find.attr(a,c),null==k?void 0:k))},attrHooks:{type:{set:function(a,c){if(!e.radioValue&&'radio'===c&&b.nodeName(a,'input')){var g=a.value;return a.setAttribute('type',
c),g&&(a.value=g),c}}}},removeAttr:function(a,c){var g=0,k=c&&c.match(za);if(k&&1===a.nodeType)for(;c=k[g++];){var l=b.propFix[c]||c;b.expr.match.bool.test(c)?Uc&&Fc||!cd.test(c)?a[l]=!1:a[b.camelCase('default-'+c)]=a[l]=!1:b.attr(a,c,'');a.removeAttribute(Fc?c:l)}}});var Pd={set:function(a,c,g){return!1===c?b.removeAttr(a,g):Uc&&Fc||!cd.test(g)?a.setAttribute(!Fc&&b.propFix[g]||g,g):a[b.camelCase('default-'+g)]=a[g]=!0,g}};b.each(b.expr.match.bool.source.match(/\w+/g),function(a,c){var g=Bc[c]||
b.find.attr;Uc&&Fc||!cd.test(c)?Bc[c]=function(k,l,D){var G,aa;return D||(aa=Bc[l],Bc[l]=G,G=null!=g(k,l,D)?l.toLowerCase():null,Bc[l]=aa),G}:Bc[c]=function(k,l,D){return D?void 0:k[b.camelCase('default-'+l)]?l.toLowerCase():null}});Uc&&Fc||(b.attrHooks.value={set:function(a,c,g){return b.nodeName(a,'input')?void(a.defaultValue=c):Kc&&Kc.set(a,c,g)}});Fc||(Kc={set:function(a,c,g){var k=a.getAttributeNode(g);return k||a.setAttributeNode(k=a.ownerDocument.createAttribute(g)),k.value=c+='','value'===
g||c===a.getAttribute(g)?c:void 0}},Bc.id=Bc.name=Bc.coords=function(a,c,g){var k;return g?void 0:(k=a.getAttributeNode(c))&&''!==k.value?k.value:null},b.valHooks.button={get:function(a,c){return(a=a.getAttributeNode(c))&&a.specified?a.value:void 0},set:Kc.set},b.attrHooks.contenteditable={set:function(a,c,g){Kc.set(a,''===c?!1:c,g)}},b.each(['width','height'],function(a,c){b.attrHooks[c]={set:function(g,k){return''===k?(g.setAttribute(c,'auto'),k):void 0}}}));e.style||(b.attrHooks.style={get:function(a){return a.style.cssText||
void 0},set:function(a,c){return a.style.cssText=c+''}});var Qd=/^(?:input|select|textarea|button|object)$/i,Rd=/^(?:a|area)$/i;b.fn.extend({prop:function(a,c){return Wa(this,b.prop,a,c,1<arguments.length)},removeProp:function(a){return a=b.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(c){}})}});b.extend({prop:function(a,c,g){var k,l,D=a.nodeType;if(3!==D&&8!==D&&2!==D)return 1===D&&b.isXMLDoc(a)||(c=b.propFix[c]||c,l=b.propHooks[c]),void 0!==g?l&&'set'in l&&void 0!==
(k=l.set(a,g,c))?k:a[c]=g:l&&'get'in l&&null!==(k=l.get(a,c))?k:a[c]},propHooks:{tabIndex:{get:function(a){var c=b.find.attr(a,'tabindex');return c?parseInt(c,10):Qd.test(a.nodeName)||Rd.test(a.nodeName)&&a.href?0:-1}}},propFix:{'for':'htmlFor','class':'className'}});e.hrefNormalized||b.each(['href','src'],function(a,c){b.propHooks[c]={get:function(g){return g.getAttribute(c,4)}}});e.optSelected||(b.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),
null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});b.each('tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable'.split(' '),function(){b.propFix[this.toLowerCase()]=this});e.enctype||(b.propFix.enctype='encoding');var dd=/[\t\r\n\f]/g;b.fn.extend({addClass:function(a){var c,g,k,l,D,G,aa=0;if(b.isFunction(a))return this.each(function(la){b(this).addClass(a.call(this,la,Za(this)))});if('string'==typeof a&&
a)for(c=a.match(za)||[];g=this[aa++];)if(l=Za(g),k=1===g.nodeType&&(' '+l+' ').replace(dd,' ')){for(G=0;D=c[G++];)0>k.indexOf(' '+D+' ')&&(k+=D+' ');k=b.trim(k);l!==k&&b.attr(g,'class',k)}return this},removeClass:function(a){var c,g,k,l,D,G,aa=0;if(b.isFunction(a))return this.each(function(la){b(this).removeClass(a.call(this,la,Za(this)))});if(!arguments.length)return this.attr('class','');if('string'==typeof a&&a)for(c=a.match(za)||[];g=this[aa++];)if(l=Za(g),k=1===g.nodeType&&(' '+l+' ').replace(dd,
' ')){for(G=0;D=c[G++];)for(;-1<k.indexOf(' '+D+' ');)k=k.replace(' '+D+' ',' ');k=b.trim(k);l!==k&&b.attr(g,'class',k)}return this},toggleClass:function(a,c){var g=typeof a;return'boolean'==typeof c&&'string'===g?c?this.addClass(a):this.removeClass(a):b.isFunction(a)?this.each(function(k){b(this).toggleClass(a.call(this,k,Za(this),c),c)}):this.each(function(){var k,l;if('string'===g){var D=0;var G=b(this);for(l=a.match(za)||[];k=l[D++];)G.hasClass(k)?G.removeClass(k):G.addClass(k)}else void 0!==
a&&'boolean'!==g||(k=Za(this),k&&b._data(this,'__className__',k),b.attr(this,'class',k||!1===a?'':b._data(this,'__className__')||''))})},hasClass:function(a){var c,g=0;for(a=' '+a+' ';c=this[g++];)if(1===c.nodeType&&-1<(' '+Za(c)+' ').replace(dd,' ').indexOf(a))return!0;return!1}});b.each('blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(' '),
function(a,c){b.fn[c]=function(g,k){return 0<arguments.length?this.on(c,null,g,k):this.trigger(c)}});b.fn.extend({hover:function(a,c){return this.mouseenter(a).mouseleave(c||a)}});var Sd=E.location,ed=b.now(),fd=/\?/,Td=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;b.parseJSON=function(a){if(E.JSON&&E.JSON.parse)return E.JSON.parse(a+'');var c,g=null,k=b.trim(a+'');return k&&!b.trim(k.replace(Td,function(l,D,G,aa){return c&&
D&&(g=0),0===g?l:(c=G||D,g+=!aa-!G,'')}))?Function('return '+k)():b.error('Invalid JSON: '+a)};b.parseXML=function(a){var c,g;if(!a||'string'!=typeof a)return null;try{E.DOMParser?(g=new E.DOMParser,c=g.parseFromString(a,'text/xml')):(c=new E.ActiveXObject('Microsoft.XMLDOM'),c.async='false',c.loadXML(a))}catch(k){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName('parsererror').length||b.error('Invalid XML: '+a),c};var Ud=/#.*$/,pd=/([?&])_=[^&]*/,Vd=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Wd=
/^(?:GET|HEAD)$/,Xd=/^\/\//,qd=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,rd={},Xc={},sd='*/'.concat('*'),gd=Sd.href,Lc=qd.exec(gd.toLowerCase())||[];b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gd,type:'GET',isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Lc[1]),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{'*':sd,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',
json:'application/json, text/javascript'},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:'responseXML',text:'responseText',json:'responseJSON'},converters:{'* text':String,'text html':!0,'text json':b.parseJSON,'text xml':b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,c){return c?Xa(Xa(a,b.ajaxSettings),c):Xa(b.ajaxSettings,a)},ajaxPrefilter:vb(rd),ajaxTransport:vb(Xc),ajax:function(a,c){function g(Bb,Qb,Tb,pb){var kc,hc,Xb,gc=Qb;if(2!==mc){mc=2;G&&E.clearTimeout(G);
la=void 0;D=pb||'';rb.readyState=0<Bb?4:0;pb=200<=Bb&&300>Bb||304===Bb;if(Tb){var Ub=qa;for(var oc=rb,Ab,cc,$b,Sb,Jc=Ub.contents,pc=Ub.dataTypes;'*'===pc[0];)pc.shift(),void 0===cc&&(cc=Ub.mimeType||oc.getResponseHeader('Content-Type'));if(cc)for(Sb in Jc)if(Jc[Sb]&&Jc[Sb].test(cc)){pc.unshift(Sb);break}if(pc[0]in Tb)$b=pc[0];else{for(Sb in Tb){if(!pc[0]||Ub.converters[Sb+' '+pc[0]]){$b=Sb;break}Ab||=Sb}$b=$b||Ab}Ub=$b?($b!==pc[0]&&pc.unshift($b),Tb[$b]):void 0}a:{Tb=qa;Ab=Ub;cc=rb;$b=pb;var dc,uc,
vc;Ub={};oc=Tb.dataTypes.slice();if(oc[1])for(dc in Tb.converters)Ub[dc.toLowerCase()]=Tb.converters[dc];for(Sb=oc.shift();Sb;)if(Tb.responseFields[Sb]&&(cc[Tb.responseFields[Sb]]=Ab),!vc&&$b&&Tb.dataFilter&&(Ab=Tb.dataFilter(Ab,Tb.dataType)),vc=Sb,Sb=oc.shift())if('*'===Sb)Sb=vc;else if('*'!==vc&&vc!==Sb){if(dc=Ub[vc+' '+Sb]||Ub['* '+Sb],!dc)for(nc in Ub)if(uc=nc.split(' '),uc[1]===Sb&&(dc=Ub[vc+' '+uc[0]]||Ub['* '+uc[0]])){!0===dc?dc=Ub[nc]:!0!==Ub[nc]&&(Sb=uc[0],oc.unshift(uc[1]));break}if(!0!==
dc)if(dc&&Tb['throws'])Ab=dc(Ab);else try{Ab=dc(Ab)}catch($c){var nc={state:'parsererror',error:dc?$c:'No conversion from '+vc+' to '+Sb};break a}}nc={state:'success',data:Ab}}Ub=nc;pb?(qa.ifModified&&(Xb=rb.getResponseHeader('Last-Modified'),Xb&&(b.lastModified[ic]=Xb),Xb=rb.getResponseHeader('etag'),Xb&&(b.etag[ic]=Xb)),204===Bb||'HEAD'===qa.type?gc='nocontent':304===Bb?gc='notmodified':(gc=Ub.state,kc=Ub.data,hc=Ub.error,pb=!hc)):(hc=gc,!Bb&&gc||(gc='error',0>Bb&&(Bb=0)));rb.status=Bb;rb.statusText=
(Qb||gc)+'';pb?tb.resolveWith(Oa,[kc,gc,rb]):tb.rejectWith(Oa,[rb,gc,hc]);rb.statusCode(Lb);Lb=void 0;aa&&Ua.trigger(pb?'ajaxSuccess':'ajaxError',[rb,qa,pb?kc:hc]);bb.fireWith(Oa,[rb,gc]);aa&&(Ua.trigger('ajaxComplete',[rb,qa]),--b.active||b.event.trigger('ajaxStop'))}}'object'==typeof a&&(c=a,a=void 0);c=c||{};var k,l,D,G,aa,la,ya,qa=b.ajaxSetup({},c),Oa=qa.context||qa,Ua=qa.context&&(Oa.nodeType||Oa.jquery)?b(Oa):b.event,tb=b.Deferred(),bb=b.Callbacks('once memory'),Lb=qa.statusCode||{},lc={},Ic=
{},mc=0,yc='canceled',rb={readyState:0,getResponseHeader:function(Bb){var Qb;if(2===mc){if(!ya)for(ya={};Qb=Vd.exec(D);)ya[Qb[1].toLowerCase()]=Qb[2];Qb=ya[Bb.toLowerCase()]}return null==Qb?null:Qb},getAllResponseHeaders:function(){return 2===mc?D:null},setRequestHeader:function(Bb,Qb){var Tb=Bb.toLowerCase();return mc||(Bb=Ic[Tb]=Ic[Tb]||Bb,lc[Bb]=Qb),this},overrideMimeType:function(Bb){return mc||(qa.mimeType=Bb),this},statusCode:function(Bb){var Qb;if(Bb)if(2>mc)for(Qb in Bb)Lb[Qb]=[Lb[Qb],Bb[Qb]];
else rb.always(Bb[rb.status]);return this},abort:function(Bb){Bb=Bb||yc;return la&&la.abort(Bb),g(0,Bb),this}};if(tb.promise(rb).complete=bb.add,rb.success=rb.done,rb.error=rb.fail,qa.url=((a||qa.url||gd)+'').replace(Ud,'').replace(Xd,Lc[1]+'//'),qa.type=c.method||c.type||qa.method||qa.type,qa.dataTypes=b.trim(qa.dataType||'*').toLowerCase().match(za)||[''],null==qa.crossDomain&&(k=qd.exec(qa.url.toLowerCase()),qa.crossDomain=!(!k||k[1]===Lc[1]&&k[2]===Lc[2]&&(k[3]||('http:'===k[1]?'80':'443'))===
(Lc[3]||('http:'===Lc[1]?'80':'443')))),qa.data&&qa.processData&&'string'!=typeof qa.data&&(qa.data=b.param(qa.data,qa.traditional)),cb(rd,qa,c,rb),2===mc)return rb;(aa=b.event&&qa.global)&&0===b.active++&&b.event.trigger('ajaxStart');qa.type=qa.type.toUpperCase();qa.hasContent=!Wd.test(qa.type);var ic=qa.url;qa.hasContent||(qa.data&&(ic=qa.url+=(fd.test(ic)?'&':'?')+qa.data,delete qa.data),!1===qa.cache&&(qa.url=pd.test(ic)?ic.replace(pd,'$1_='+ed++):ic+(fd.test(ic)?'&':'?')+'_='+ed++));qa.ifModified&&
(b.lastModified[ic]&&rb.setRequestHeader('If-Modified-Since',b.lastModified[ic]),b.etag[ic]&&rb.setRequestHeader('If-None-Match',b.etag[ic]));(qa.data&&qa.hasContent&&!1!==qa.contentType||c.contentType)&&rb.setRequestHeader('Content-Type',qa.contentType);rb.setRequestHeader('Accept',qa.dataTypes[0]&&qa.accepts[qa.dataTypes[0]]?qa.accepts[qa.dataTypes[0]]+('*'!==qa.dataTypes[0]?', '+sd+'; q=0.01':''):qa.accepts['*']);for(l in qa.headers)rb.setRequestHeader(l,qa.headers[l]);if(qa.beforeSend&&(!1===
qa.beforeSend.call(Oa,rb,qa)||2===mc))return rb.abort();yc='abort';for(l in{success:1,error:1,complete:1})rb[l](qa[l]);if(la=cb(Xc,qa,c,rb)){if(rb.readyState=1,aa&&Ua.trigger('ajaxSend',[rb,qa]),2===mc)return rb;qa.async&&0<qa.timeout&&(G=E.setTimeout(function(){rb.abort('timeout')},qa.timeout));try{mc=1,la.send(lc,g)}catch(Bb){if(!(2>mc))throw Bb;g(-1,Bb)}}else g(-1,'No Transport');return rb},getJSON:function(a,c,g){return b.get(a,c,g,'json')},getScript:function(a,c){return b.get(a,void 0,c,'script')}});
b.each(['get','post'],function(a,c){b[c]=function(g,k,l,D){return b.isFunction(k)&&(D=D||l,l=k,k=void 0),b.ajax(b.extend({url:g,type:c,dataType:D,data:k,success:l},b.isPlainObject(g)&&g))}});b._evalUrl=function(a){return b.ajax({url:a,type:'GET',dataType:'script',cache:!0,async:!1,global:!1,'throws':!0})};b.fn.extend({wrapAll:function(a){if(b.isFunction(a))return this.each(function(g){b(this).wrapAll(a.call(this,g))});if(this[0]){var c=b(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&
c.insertBefore(this[0]);c.map(function(){for(var g=this;g.firstChild&&1===g.firstChild.nodeType;)g=g.firstChild;return g}).append(this)}return this},wrapInner:function(a){return b.isFunction(a)?this.each(function(c){b(this).wrapInner(a.call(this,c))}):this.each(function(){var c=b(this),g=c.contents();g.length?g.wrapAll(a):c.append(a)})},wrap:function(a){var c=b.isFunction(a);return this.each(function(g){b(this).wrapAll(c?a.call(this,g):a)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,
'body')||b(this).replaceWith(this.childNodes)}).end()}});b.expr.filters.hidden=function(a){return e.reliableHiddenOffsets()?0>=a.offsetWidth&&0>=a.offsetHeight&&!a.getClientRects().length:Cb(a)};b.expr.filters.visible=function(a){return!b.expr.filters.hidden(a)};var Yd=/%20/g,xd=/\[\]$/,td=/\r?\n/g,Zd=/^(?:submit|button|image|reset|file)$/i,$d=/^(?:input|select|textarea|keygen)/i;b.param=function(a,c){var g,k=[],l=function(D,G){G=b.isFunction(G)?G():null==G?'':G;k[k.length]=encodeURIComponent(D)+
'='+encodeURIComponent(G)};if(void 0===c&&(c=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(a)||a.jquery&&!b.isPlainObject(a))b.each(a,function(){l(this.name,this.value)});else for(g in a)Db(g,a[g],c,l);return k.join('&').replace(Yd,'+')};b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=b.prop(this,'elements');return a?b.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!b(this).is(':disabled')&&
$d.test(this.nodeName)&&!Zd.test(a)&&(this.checked||!fb.test(a))}).map(function(a,c){a=b(this).val();return null==a?null:b.isArray(a)?b.map(a,function(g){return{name:c.name,value:g.replace(td,'\r\n')}}):{name:c.name,value:a.replace(td,'\r\n')}}).get()}});b.ajaxSettings.xhr=void 0!==E.ActiveXObject?function(){return this.isLocal?ub():8<Qa.documentMode?Eb():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Eb()||ub()}:Eb;var ae=0,Vc={},Wc=b.ajaxSettings.xhr();E.attachEvent&&E.attachEvent('onunload',
function(){for(var a in Vc)Vc[a](void 0,!0)});e.cors=!!Wc&&'withCredentials'in Wc;(Wc=e.ajax=!!Wc)&&b.ajaxTransport(function(a){if(!a.crossDomain||e.cors){var c;return{send:function(g,k){var l,D=a.xhr(),G=++ae;if(D.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(l in a.xhrFields)D[l]=a.xhrFields[l];a.mimeType&&D.overrideMimeType&&D.overrideMimeType(a.mimeType);a.crossDomain||g['X-Requested-With']||(g['X-Requested-With']='XMLHttpRequest');for(l in g)void 0!==g[l]&&D.setRequestHeader(l,
g[l]+'');D.send(a.hasContent&&a.data||null);c=function(aa,la){if(c&&(la||4===D.readyState))if(delete Vc[G],c=void 0,D.onreadystatechange=b.noop,la)4!==D.readyState&&D.abort();else{var ya={};var qa=D.status;'string'==typeof D.responseText&&(ya.text=D.responseText);try{var Oa=D.statusText}catch(Ua){Oa=''}qa||!a.isLocal||a.crossDomain?1223===qa&&(qa=204):qa=ya.text?200:404}ya&&k(qa,Oa,ya,D.getAllResponseHeaders())};a.async?4===D.readyState?E.setTimeout(c):D.onreadystatechange=Vc[G]=c:c()},abort:function(){c&&
c(void 0,!0)}}}});b.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/\b(?:java|ecma)script\b/},converters:{'text script':function(a){return b.globalEval(a),a}}});b.ajaxPrefilter('script',function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type='GET',a.global=!1)});b.ajaxTransport('script',function(a){if(a.crossDomain){var c,g=Qa.head||b('head')[0]||Qa.documentElement;return{send:function(k,l){c=Qa.createElement('script');
c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(D,G){(G||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,G||l(200,'success'))};g.insertBefore(c,g.firstChild)},abort:function(){c&&c.onload(void 0,!0)}}}});var ud=[],hd=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:'callback',jsonpCallback:function(){var a=ud.pop()||b.expando+'_'+ed++;return this[a]=!0,a}});b.ajaxPrefilter('json jsonp',
function(a,c,g){var k,l,D,G=!1!==a.jsonp&&(hd.test(a.url)?'url':'string'==typeof a.data&&0===(a.contentType||'').indexOf('application/x-www-form-urlencoded')&&hd.test(a.data)&&'data');return G||'jsonp'===a.dataTypes[0]?(k=a.jsonpCallback=b.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,G?a[G]=a[G].replace(hd,'$1'+k):!1!==a.jsonp&&(a.url+=(fd.test(a.url)?'&':'?')+a.jsonp+'='+k),a.converters['script json']=function(){return D||b.error(k+' was not called'),D[0]},a.dataTypes[0]='json',
l=E[k],E[k]=function(){D=arguments},g.always(function(){void 0===l?b(E).removeProp(k):E[k]=l;a[k]&&(a.jsonpCallback=c.jsonpCallback,ud.push(k));D&&b.isFunction(l)&&l(D[0]);D=l=void 0}),'script'):void 0});b.parseHTML=function(a,c,g){if(!a||'string'!=typeof a)return null;'boolean'==typeof c&&(g=c,c=!1);c=c||Qa;var k=P.exec(a);g=!g&&[];return k?[c.createElement(k[1])]:(k=q([a],c,g),g&&g.length&&b(g).remove(),b.merge([],k.childNodes))};var vd=b.fn.load;b.fn.load=function(a,c,g){if('string'!=typeof a&&
vd)return vd.apply(this,arguments);var k,l,D,G=this,aa=a.indexOf(' ');return-1<aa&&(k=b.trim(a.slice(aa,a.length)),a=a.slice(0,aa)),b.isFunction(c)?(g=c,c=void 0):c&&'object'==typeof c&&(l='POST'),0<G.length&&b.ajax({url:a,type:l||'GET',dataType:'html',data:c}).done(function(la){D=arguments;G.html(k?b('<div>').append(b.parseHTML(la)).find(k):la)}).always(g&&function(la,ya){G.each(function(){g.apply(this,D||[la.responseText,ya,la])})}),this};b.each('ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend'.split(' '),
function(a,c){b.fn[c]=function(g){return this.on(c,g)}});b.expr.filters.animated=function(a){return b.grep(b.timers,function(c){return a===c.elem}).length};b.offset={setOffset:function(a,c,g){var k,l,D,G=b.css(a,'position'),aa=b(a),la={};'static'===G&&(a.style.position='relative');var ya=aa.offset();var qa=b.css(a,'top');var Oa=b.css(a,'left');('absolute'===G||'fixed'===G)&&-1<b.inArray('auto',[qa,Oa])?(k=aa.position(),D=k.top,l=k.left):(D=parseFloat(qa)||0,l=parseFloat(Oa)||0);b.isFunction(c)&&(c=
c.call(a,g,b.extend({},ya)));null!=c.top&&(la.top=c.top-ya.top+D);null!=c.left&&(la.left=c.left-ya.left+l);'using'in c?c.using.call(a,la):aa.css(la)}};b.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(G){b.offset.setOffset(this,a,G)});var c,g,k={top:0,left:0},l=this[0],D=l&&l.ownerDocument;if(D)return c=D.documentElement,b.contains(c,l)?('undefined'!=typeof l.getBoundingClientRect&&(k=l.getBoundingClientRect()),g=xb(D),{top:k.top+(g.pageYOffset||c.scrollTop)-
(c.clientTop||0),left:k.left+(g.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):k},position:function(){if(this[0]){var a,c,g={top:0,left:0},k=this[0];return'fixed'===b.css(k,'position')?c=k.getBoundingClientRect():(a=this.offsetParent(),c=this.offset(),b.nodeName(a[0],'html')||(g=a.offset()),g.top+=b.css(a[0],'borderTopWidth',!0),g.left+=b.css(a[0],'borderLeftWidth',!0)),{top:c.top-g.top-b.css(k,'marginTop',!0),left:c.left-g.left-b.css(k,'marginLeft',!0)}}},offsetParent:function(){return this.map(function(){for(var a=
this.offsetParent;a&&!b.nodeName(a,'html')&&'static'===b.css(a,'position');)a=a.offsetParent;return a||wc})}});b.each({scrollLeft:'pageXOffset',scrollTop:'pageYOffset'},function(a,c){var g=/Y/.test(c);b.fn[a]=function(k){return Wa(this,function(l,D,G){var aa=xb(l);return void 0===G?aa?c in aa?aa[c]:aa.document.documentElement[D]:l[D]:void(aa?aa.scrollTo(g?b(aa).scrollLeft():G,g?G:b(aa).scrollTop()):l[D]=G)},a,k,arguments.length,null)}});b.each(['top','left'],function(a,c){b.cssHooks[c]=na(e.pixelPosition,
function(g,k){return k?(k=sc(g,c),Ob.test(k)?b(g).position()[c]+'px':k):void 0})});b.each({Height:'height',Width:'width'},function(a,c){b.each({padding:'inner'+a,content:c,'':'outer'+a},function(g,k){b.fn[k]=function(l,D){var G=arguments.length&&(g||'boolean'!=typeof l),aa=g||(!0===l||!0===D?'margin':'border');return Wa(this,function(la,ya,qa){var Oa;return b.isWindow(la)?la.document.documentElement['client'+a]:9===la.nodeType?(Oa=la.documentElement,Math.max(la.body['scroll'+a],Oa['scroll'+a],la.body['offset'+
a],Oa['offset'+a],Oa['client'+a])):void 0===qa?b.css(la,ya,aa):b.style(la,ya,qa,aa)},c,G?l:void 0,G,null)}})});b.fn.extend({bind:function(a,c,g){return this.on(a,null,c,g)},unbind:function(a,c){return this.off(a,null,c)},delegate:function(a,c,g,k){return this.on(c,a,g,k)},undelegate:function(a,c,g){return 1===arguments.length?this.off(a,'**'):this.off(c,a||'**',g)}});b.fn.size=function(){return this.length};b.fn.andSelf=b.fn.addBack;'function'==typeof define&&define.amd&&define('jquery',[],function(){return b});
var be=E.jQuery,ce=E.$;return b.noConflict=function(a){return E.$===b&&(E.$=ce),a&&E.jQuery===b&&(E.jQuery=be),b},Q||(E.jQuery=E.$=b),b});if('undefined'!==typeof module&&module.exports)var lib=require('../../index');
function Collection(E,Q){var da='undefined'!==typeof module&&module.exports?!1:!0,Ga=da?require('vendor/uuid'):require('uuid'),L=da?require('utils/merge'):require('../../../lib/merge'),V={isCaseSensitive:{false:{re:'^%s$',modifiers:'i'},true:{re:'^%s$'}}},pa=!1,U=!1,Y=null;da={useLocalStorage:!1,locale:'en',searchOptionRules:V};Q='object'==typeof Q?L(Q,da):da;var m=['not null'],T=function(w){try{return eval(w)}catch(q){throw Error('Could not evaluate condition `'+w+'`.\n'+q.stack);}};if('undefined'==
typeof E||''==E||null==E)E=[];if(!Array.isArray(E))throw Error('`new Collection([content] [, options] )`: `content` argument must be an Array !');E=E?JSON.clone(E):[];for(var x=[],ma=da=0,Da=E.length;ma<Da;++ma)E[ma]||(E[ma]={}),E[ma]._uuid=Ga.v4(),x[da]=E[ma]._uuid,++da;var R=E;R.setSearchOption=function(){if(!arguments.length)throw Error('searchOption cannot be left blank');if(3<arguments.length||3>arguments.length&&1<arguments.length)throw Error('argument length mismatch');var w=0,q=arguments.length;
if(1==arguments.length){if('object'!=typeof arguments[0])throw Error('searchOption must be an object');for(var r in arguments[0])if('undefined'==typeof V[r])throw Error(arguments[1]+' is not an allowed searchOption !');Y=arguments[0]}else for(Y||={};w<q;++w){if('undefined'==typeof V[arguments[1]])throw Error(arguments[1]+' is not an allowed searchOption !');'undefined'==typeof Y[arguments[0]]&&(Y[arguments[0]]={});/true|false/i.test(arguments[2])?Y[arguments[0]][arguments[1]]=/true/i.test(arguments[2])?
!0:!1:Y[arguments[0]][arguments[1]]=arguments[2]}return R};R.find=function(){pa=!1;'boolean'==typeof arguments[arguments.length-1]&&(pa=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);var w=null,q=null,r=null;try{w=JSON.stringify(arguments),q=JSON.parse(w),r=q.count()}catch(Ba){throw Error('filter must be an object\n'+Ba.stack);}if('undefined'!=typeof q&&0<r){1<r&&(pa=!0);r=w=null;var H=0,I=Array.isArray(this)?this:JSON.clone(E),A=[],y='',C=null,F=Y,O=Q.searchOptionRules,
z=null,S=[],X=function(Ba,ua,Aa,Ra,Sa){if(null===Ba&&null===Aa)++Ra;else if(Ba&&-1<m.indexOf(y)&&'not null'==y&&'undefined'!=typeof Aa&&'object'!==typeof Aa&&'null'!=Aa&&'undefined'!=Aa)0>A.indexOf(Aa)&&++Ra;else if('undefined'!=typeof Aa&&'object'!==typeof Aa&&/(<|>|=)/.test(Ba)&&!/undefined|function/.test(typeof Aa))ua=Ba,Sa=Aa+Ba,'string'==typeof Ba&&'string'==typeof Aa&&(Sa=Ba.replace(/^(<=|>=|!==|!=|===|!==)/g,''),'string'!=typeof Aa||/^"(.*)"$/.test(Sa)||(Ba=Ba.replace(Sa,'"'+Sa+'"')),Sa='"'+
Aa+'"'+Ba,Ba=ua),/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Aa)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Ba)?T(Aa.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+Ba.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Ra:T(Sa)&&++Ra;else if('undefined'!=typeof Aa&&'object'!==typeof Aa&&Aa===Ba&&!F||'undefined'!=typeof Aa&&'object'!==typeof Aa&&Aa===Ba&&'undefined'==typeof F[ua])++Ra;else if('undefined'!=
typeof Aa&&'object'!==typeof Aa&&F&&'undefined'!=typeof F[ua]){var Na=0;var zb=F[ua].count();for(var Ia in F[ua])Sa[Ia][F[ua][Ia]].re=Sa[Ia][F[ua][Ia]].re.replace(/%s/,Ba),C=Sa[Ia][F[ua][Ia]].modifiers?new RegExp(Sa[Ia][F[ua][Ia]].re,Sa[Ia][F[ua][Ia]].modifiers):new RegExp(Sa[Ia][F[ua][Ia]].re),C.test(Aa)&&++Na;Na==zb&&++Ra}return{matched:Ra}},va=function(Ba,ua,Aa,Ra){var Sa=ua.split(/\./g);Sa=Sa[Sa.length-1];C=new RegExp('("'+Sa+'":\\w+)');Sa=null;try{Aa&&(Sa=eval('_content.'+ua))}catch(Na){}Sa&&
(Array.isArray(Sa)?Sa=Sa[1].split(/:/)[1]:'string'==typeof Sa&&/:/.test(Sa)&&(Sa=Sa.split(/:/)[1]),/(<|>|=)/.test(Ba)?/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Sa)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Ba)?T(Sa.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+Ba.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Ra:T(Sa+Ba)&&++Ra:Sa==Ba&&++Ra);return{matched:Ra}},na=function(Ba,ua,
Aa,Ra,Sa){ua=ua.split(/\[\*\]/g);Sa=ua[0].replace(/\[\*\]/,'');Aa=Aa[Sa];ua=ua[1];/^\./.test(ua)&&(ua=ua.substr(1));Sa=0;if(Aa)for(var Na=0,zb=Aa.length;Na<zb&&!(S=/\./.test(ua)?va(Ba,ua,Aa[Na],Sa):X(Ba,ua,Aa[Na],Sa,O),Sa=S.matched,0<Sa);++Na);return{matched:Ra+Sa}},Ca;for(Ca in I)if(I[Ca]||(I[Ca]={}),!/undefined|function/.test(typeof I[Ca]))for(let Ba=0,ua=q.count();Ba<ua;++Ba){w=q[Ba];r=w.count();z=0;for(var Fa in w){if('undefined'==typeof w[Fa])throw Error('filter `'+Fa+'` cannot be left undefined');
y=null===w[Fa]||/(boolean|number)/.test(typeof w[Fa])?w[Fa]:w[Fa].toLocaleLowerCase();S=/\./.test(Fa)?/\[\*\]/.test(Fa)?na(w[Fa],Fa,I[Ca],z,0):va(w[Fa],Fa,I[Ca],z):X(w[Fa],Fa,I[Ca][Fa],z,O);z=S.matched}if(z==r)if(pa&&U&&0>x.indexOf(I[Ca]._uuid)||U||!pa){if(!pa||pa&&0>A.indexOf(I[Ca]._uuid)||U)A[H]=I[Ca],++H}else pa&&!U&&0>A.indexOf(I[Ca]._uuid)&&(A[H]=I[Ca],++H)}}else A=E;Y=null;A.insert=R.insert;A.notIn=R.notIn;A.find=this.find;A.update=R.update;A.replace=R.replace;A.or=R.or;A.findOne=R.findOne;
A.limit=R.limit;A.orderBy=R.orderBy;A.delete=R.delete;A.toRaw=R.toRaw;A.filter=R.filter;return A};R.findOne=function(){var w=null;'string'==typeof arguments[arguments.length-1]&&(delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(w=arguments);if('undefined'==typeof w||!w||'object'!=typeof w)throw Error('[ Collection ][ findOne ] `filters` argument must be defined: Array or Filter Object(s) expected');w=null;var q=Array.isArray(arguments[0])?arguments[0]:R.find.apply(this,
arguments)||[];0<q.length&&(w=q.limit(1).toRaw()[0]);return w};R.or=function(){arguments[arguments.length]=!0;++arguments.length;return R.find.apply(this,arguments)};R.limit=function(w){if('undefined'==typeof w||'number'!=typeof w)throw Error('[Collection::result->limit(resultLimit)] : `resultLimit` parametter must by a `number`');var q=Array.isArray(this)?this:JSON.clone(E);q=q.splice(0,w);q.insert=R.insert;q.update=R.update;q.replace=R.replace;q.notIn=R.notIn;q.findOne=R.findOne;q.orderBy=R.orderBy;
q.max=R.max;q.delete=R.delete;q.toRaw=R.toRaw;q.filter=R.filter;return q};R.notIn=function(){var w=null,q=null,r=!0;'string'==typeof arguments[arguments.length-1]&&(w=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'boolean'==typeof arguments[arguments.length-1]&&(r=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(q=arguments);if('undefined'==typeof q||!q||'object'!=typeof q)throw Error('[ Collection ][ notIn ] `filters` argument must be defined: Array or Filter Object(s) expected');
var H=JSON.clone(Array.isArray(this)?this:E);if(Array.isArray(arguments[0]))var I=arguments[0];else U=!0,I=R.find.apply(this,arguments)||[],U=!1;if(0<I.length){if(r&&w&&'undefined'==typeof I[0]&&'undefined'==typeof I[0][w])throw Error('[ Collection ][ notIn ] `key` not valid');r&&!w&&'undefined'!=typeof I[0]._uuid?w='_uuid':'undefined'!=typeof I[0].id&&(w='id');if(!w||'undefined'==typeof I[0][w])throw Error('No comparison key defined !');var A=0,y=I.length,C=0,F,O=q.count(),z;if(r&&'undefined'!=typeof H[C]&&
H[C].hasOwnProperty(w))for(;A<y&&H.length;++A)for(C=0,r=H.length;C<r;++C){if('undefined'!=typeof H[C]&&'undefined'!=typeof I[A]&&H[C][w]===I[A][w]){H.splice(C,1);break}}else if('undefined'==typeof H[C])H=JSON.clone(I);else for(;A<y&&H.length;++A)for(C=0,r=H.length;C<r;++C)if('undefined'!=typeof H[C]){for(F=z=0;F<O;++F){if('undefined'==typeof q[F])throw Error('filter `'+F+'` cannot be left undefined');var S=q[F].count();var X=0;for(w in q[F])H[C].hasOwnProperty(w)&&H[C][w]===I[A][w]&&++X;X==S&&++z}if(z){H.splice(C,
1);break}}}w=H;w.notIn=R.notIn;w.limit=R.limit;w.find=R.find;w.findOne=R.findOne;w.insert=R.insert;w.replace=R.replace;w.update=R.update;w.orderBy=R.orderBy;w.max=R.max;w.delete=R.delete;w.toRaw=R.toRaw;w.filter=R.filter;return w};R.insert=function(w){if('object'!==typeof w)throw Error('filter must be an object');var q=Array.isArray(this)?this:E;w._uuid=Ga.v4();q.push(w);q.limit=R.limit;q.find=R.find;q.findOne=R.findOne;q.update=R.update;q.replace=R.replace;q.orderBy=R.orderBy;q.max=R.max;q.notIn=
R.notIn;q.delete=R.delete;q.toRaw=R.toRaw;q.filter=R.filter;return q};R.update=function(){var w='_uuid',q,r=q=null;'string'==typeof arguments[arguments.length-1]&&(w=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(r=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(q=arguments);if('undefined'==typeof q||!q||'object'!=typeof q)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');
if('undefined'==typeof r||!r||'object'!=typeof r)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var H=Array.isArray(arguments[0])?arguments[0]:R.find.apply(this,arguments)||[];q=Array.isArray(this)?this:JSON.clone(E);if(0<H.length){H=H.toRaw();for(var I=0,A=H.length;I<A;++I){H[I]=L(JSON.clone(r),H[I]);for(var y=0,C=q.length;y<C;++y)if('undefined'==typeof q[y][w]&&'_uuid'==w&&'undefined'!=typeof q[y].id&&(w='id'),q[y][w]==H[I][w]){q[y]=H[I];break}}}q.limit=
R.limit;q.find=R.find;q.findOne=R.findOne;q.insert=R.insert;q.update=R.update;q.replace=R.replace;q.orderBy=R.orderBy;q.max=R.max;q.notIn=R.notIn;q.delete=R.delete;q.toRaw=R.toRaw;q.filter=R.filter;return q};R.replace=function(){var w='_uuid',q,r=q=null;'string'==typeof arguments[arguments.length-1]&&(w=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(r=arguments[arguments.length-1],delete arguments[arguments.length-
1],--arguments.length);0<arguments.length&&(q=arguments);if('undefined'==typeof q||!q||'object'!=typeof q)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');if('undefined'==typeof r||!r||'object'!=typeof r)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var H=Array.isArray(arguments[0])?arguments[0]:R.find.apply(this,arguments)||[];q=Array.isArray(this)?this:JSON.clone(E);if(0<H.length){H=H.toRaw();
for(var I=0,A=H.length;I<A;++I){H[I]=JSON.clone(r);for(var y=0,C=q.length;y<C;++y){if('undefined'==typeof q[y][w]&&'_uuid'==w&&'undefined'!=typeof q[y].id)w='id';else if('undefined'==typeof q[y][w]&&'_uuid'==w)throw Error('No comparison key defined !');if(q[y][w]==H[I][w]){q[y]=H[I];break}}}}q.limit=R.limit;q.find=R.find;q.findOne=R.findOne;q.insert=R.insert;q.update=R.update;q.replace=R.replace;q.orderBy=R.orderBy;q.max=R.max;q.notIn=R.notIn;q.delete=R.delete;q.toRaw=R.toRaw;q.filter=R.filter;return q};
R['delete']=function(){var w=R.notIn.apply(this,arguments);w.limit=R.limit;w.find=R.find;w.findOne=R.findOne;w.insert=R.insert;w.update=R.update;w.replace=R.replace;w.orderBy=R.orderBy;w.max=R.max;w.notIn=R.notIn;w.toRaw=R.toRaw;w.filter=R.filter;w.delete=this.delete;return w};R.orderBy=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->orderBy(filter) ] where `filter` must not be empty or null');if(1==arguments.length)var w=arguments[0];else{w=Array(arguments.length);
for(var q=0,r=w.length;q<r;++q)w[q]=arguments[q]}q=Array.isArray(this)?this:JSON.clone(E);return J(w,q.toRaw())};R.max=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->max(filter) ] where `filter` must not be empty or null');if(1<arguments.length||Array.isArray(arguments[0])||'object'==typeof arguments[0]&&1<arguments[0].count())throw Error('[ Collection->max(filter) ] only accept one filter length, and fileter count must be equal to 1');var w=arguments[0];
try{var q=Object.keys(w)[0],r={};r[q]='desc';return R.find(w).orderBy(r).limit(1)[0][q]}catch(H){throw H;}};var J=function(w,q){if('object'!=typeof w)throw Error('`filter` parametter must be an object or an array');var r={},H=null,I=null,A=H=null;H=[];if(0==w.count())return null;r.asc=function(y,C){var F=C.map(function(O,z){var S={};S.index=z;S[y]=O[y];return S});F.sort(function(O,z){var S=function(X,va){/^(true|false)$/i.test(X)&&(X=/true/i.test(X)?1:0);/^(true|false)$/i.test(va)&&(va=/true/i.test(va)?
1:0);return'string'==typeof X&&''!=X||'string'==typeof va?('number'==typeof X&&(X=''+X),'number'==typeof va&&(va=''+va),X.localeCompare(va,void 0,{sensitivity:'case',caseFirst:'upper'})):X>va?1:X<va?-1:0};return'object'==typeof O?S(O[y],z[y]):S(O,z)});return F.map(function(O,z,S){return C[O.index]})};r.desc=function(y,C){return r.asc(y,C).reverse()};H=function(y,C){var F=[],O=[];if(Array.isArray(C))for(var z=0,S=C.length;z<S;++z)F[z]=Object.keys(C[z])[0],O[z]=C[z][F[z]];else for(S in z=0,C)F[z]=S,
O[z]=C[S],++z;I=function(X,va,na,Ca,Fa){var Ba='desc'==Ca[Fa]?1:0,ua,Aa=ua=null;return'string'==typeof X[na[Fa]]&&''!=X[na[Fa]]?(ua=X[na[Fa]].localeCompare(va[na[Fa]]),0==Ba&&0!=ua?0>ua?-1:1:0!=ua?0>ua?1:-1:na.length-1>Fa?I(X,va,na,Ca,Fa+1):0):'number'==typeof X[na[Fa]]||'number'==typeof va[na[Fa]]?(ua=(''+X[na[Fa]]).localeCompare(''+va[na[Fa]],void 0,{numeric:!0}),0==Ba&&0!=ua?0>ua?-1:1:0!=ua?0>ua?1:-1:na.length-1>Fa?I(X,va,na,Ca,Fa+1):0):'boolean'==typeof X[na[Fa]]||'boolean'==typeof va[na[Fa]]?
('boolean'==typeof X[na[Fa]]&&(ua=X[na[Fa]]?1:0),'boolean'==typeof va[na[Fa]]&&(Aa=va[na[Fa]]?1:0),ua>Aa?0==Ba?1:-1:ua<Aa?0==Ba?-1:1:na.length-1>Fa?I(X,va,na,Ca,Fa+1):0):X[na[Fa]]>va[na[Fa]]?0==Ba?1:-1:X[na[Fa]]<va[na[Fa]]?0==Ba?-1:1:na.length-1>Fa?I(X,va,na,Ca,Fa+1):0};return y.sort(function(X,va){return I(X,va,F,O,0)})};Array.isArray(w)||1<w.count()?H=H(q,w):(A=Object.keys(w)[0],H=w[A],H=r[H](A,q));H.find=R.find;H.findOne=R.findOne;H.limit=R.limit;H.notIn=R.notIn;H.insert=R.insert;H.update=R.update;
H.replace=R.replace;H.delete=R.delete;H.orderBy=R.orderBy;H.max=R.max;H.toRaw=R.toRaw;H.filter=R.filter;return H};R.toRaw=function(){for(var w=Array.isArray(this)?this:E,q=0,r=w.length;q<r;++q)w[q]._uuid&&delete w[q]._uuid;return JSON.clone(w)};R.filter=function(w){if('undefined'==typeof w)throw Error('`filter` parametter must be a string or an array.');var q=Array.isArray(this)?this:E;if(!q.length)return[];var r=0,H=q.length,I=[],A=0;if(Array.isArray(w))for(var y,C=w.length,F;r<H;++r){F=!1;for(y=
0;y<C;++y)'undefined'!=typeof q[r][w[y]]&&('undefined'==typeof I[A]&&(I[A]={}),I[A][w[y]]=q[r][w[y]],F=!0);F&&++A}else for(;r<H;++r)'undefined'!=typeof q[r][w]&&('undefined'==typeof I[A]&&(I[A]={}),I[A][w]=q[r][w],++A);return JSON.clone(I)};return R}'undefined'!==typeof module&&module.exports?module.exports=Collection:'function'===typeof define&&define.amd&&define('utils/collection',[],function(){return Collection});
function FormValidatorUtil(E,Q,da,Ga){var L='undefined'!==typeof module&&module.exports?!1:!0,V=L?require('utils/merge'):require('../../../../../lib/merge');L||require('../../../../../helpers');L&&require('helpers/dateFormat');var pa=L?require('utils/routing'):require('../../../../../lib/routing'),U=function(){var q=!1,r=null;L?L&&'undefined'!=typeof gina.forms&&(r=gina.forms):r=getContext('gina').forms||null;r&&'undefined'!=typeof r.validators&&(q=!0);return q},Y={errors:{},keys:{'%l':'label','%n':'name',
'%s':'size'},data:{},excluded:[],errorLabels:{is:'Condition not satisfied',isEmail:'A valid email is required',isRequired:'Cannot be left empty',isBoolean:'Must be a valid boolean',isNumber:'Must be a number: allowed values are integers or floats',isNumberLength:'Must contain %s characters',isNumberMinLength:'Should be at least %s characters',isNumberMaxLength:'Should not be more than %s characters',isInteger:'Must be an integer',isIntegerLength:'Must have %s characters',isIntegerMinLength:'Should be at least %s characters',
isIntegerMaxLength:'Should not be more than %s characters',toInteger:'Could not be converted to integer',isFloat:'Must be a proper float',isFloatException:'Float exception found: %n',toFloat:'Could not be converted to float',toFloatNAN:'Value must be a valid number',isDate:'Must be a valid Date',isString:'Must be a string',isStringLength:'Must have %s characters',isStringMinLength:'Should be at least %s characters',isStringMaxLength:'Should not be more than %s characters',isJsonWebToken:'Must be a valid JSON Web Token',
query:'Must be a valid response',isApiError:'Condition not satisfied'}},m=null;if(E)m=V(JSON.clone(E),m),Y.data=V(JSON.clone(E),Y.data);else throw Error('missing data param');var T=function(q,r){var H=null;for(let I in Ga)if(Ga[I].name===r){H=(new DOMParser).parseFromString(q.innerHTML,'text/html').getElementById(Ga[I].id);break}if(H)return H;throw Error('Field `'+r+'` not found in fieldsSet');},x=function(q){var r;var H='';var I=q.length;for(r=0;r<I;){var A=q[r++];switch(A>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:H+=
String.fromCharCode(A);break;case 12:case 13:var y=q[r++];H+=String.fromCharCode((A&31)<<6|y&63);break;case 14:y=q[r++];var C=q[r++];H+=String.fromCharCode((A&15)<<12|(y&63)<<6|(C&63)<<0)}}return H},ma=function(q,r){var H=m[this.name].errors||{},I=this.target.id||this.target.getAttribute('id');if(m.isValid()){var A=this.target.dataset.ginaFormValidatorTestedValue;console.debug('[ '+this.name+' ]','TESTED VALUE -> '+this.value+' vs '+A);I='asyncCompleted.'+I;var y=this.target.form.getAttribute('id'),
C='undefined'!=typeof gina.validator&&'undefined'!=typeof gina.validator.$forms[y]&&'undefined'!=typeof gina.validator.$forms[y].cachedErrors?gina.validator.$forms[y].cachedErrors:null;if(!A||'undefined'==typeof A||A!==this.value)this.target.dataset.ginaFormValidatorTestedValue=this.value,C&&'undefined'!=typeof C[this.name]&&'undefined'!=typeof C[this.name].query&&(delete C[this.name].query,'undefined'!=typeof gina.validator.$forms[y]&&'undefined'!=typeof gina.validator.$forms[y].errors&&delete gina.validator.$forms[y].errors.query);
else if(A===this.value){var F=!1;C&&'undefined'!=typeof C[this.name]&&'undefined'!=typeof C[this.name].query&&'undefined'!=typeof C[this.name].query[this.value]&&(this.error=r=C[this.name].query[this.value].slice(0),F=!0);H.query=w(this.error||r||Y.errorLabels.query,this);F&&(this.errors=H,this.valid=!1);'undefined'!=typeof gina.events[I]&&triggerEvent(gina,this.target,I,m[this.name]);return m[this.name]}var O=null,z=this;if(window.XMLHttpRequest)O=new XMLHttpRequest;else if(window.ActiveXObject)try{O=
new ActiveXObject('Msxml2.XMLHTTP')}catch(na){try{O=new ActiveXObject('Microsoft.XMLHTTP')}catch(Ca){}}r={isSynchrone:!1,headers:{}};A=q.data||null;H=null;I=/^true$/i.test(this.target.form.dataset.ginaFormLiveCheckEnabled)?!0:!1;H=JSON.stringify(A);if(/\$/.test(H)){A=H.match(/\$[-_\[\]a-z 0-9]+/g)||[];y=C=null;for(let na=0,Ca=A.length;na<Ca;na++)y=A[na].replace(/\$/g,''),re=new RegExp('\\'+A[na].replace(/\[|\]/g,'\\$&'),'g'),C=Y.data[y]||null,!C&&I&&(C=T(this.target.form,y).value),H=H.replace(re,
C)}A=H.replace(/\\"/g,'');var S='undefined'==typeof q.validIf?!0:q.validIf;r=V(r,q,da);delete r.data;delete r.validIf;H=r.headers['Content-Type'];var X=null;I=this.target.getAttribute('id');if(!/^http/.test(r.url)&&/@/.test(r.url))try{F=pa.getRoute(r.url),r.url=F.toUrl()}catch(na){throw na;}if(r.withCredentials){if('withCredentials'in O)r.isSynchrone?O.open(r.method,r.url,r.isSynchrone):O.open(r.method,r.url);else if('undefined'!=typeof XDomainRequest)O=new XDomainRequest,O.open(r.method,r.url);else throw O=
null,X='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ',Error(X);O.responseType='undefined'!=typeof r.responseType?r.responseType:'';O.withCredentials=!0}else r.isSynchrone?O.open(r.method,r.url,r.isSynchrone):O.open(r.method,r.url);for(var va in r.headers)'Content-Type'==va&&'undefined'!=typeof H&&null!=H&&''!=H||O.setRequestHeader(va,r.headers[va]);'undefined'!=typeof H&&null!=H&&''!=H&&O.setRequestHeader('Content-Type',H);O&&(O.onload=function(){try{X=
this.responseText;var na=this.getResponseHeader('Content-Type');if(/\/json/.test(na))X=JSON.parse(this.responseText),'undefined'==typeof X.status&&(X.status=this.status);else if(X={status:O.status,message:''},/^(\{|\[)/.test(O.responseText))try{X=V(X,JSON.parse(O.responseText))}catch(Na){X=V(X,Na)}na=X;z.value=Y.data[z.name]=z.value?z.value.toLowerCase():z.value;var Ca=na.isValid||!1;Ca=S!=Ca?!1:!0;m[z.name].valid=Ca;var Fa=m[z.name].errors||{},Ba='undefined'!=typeof na.error&&'undefined'!=typeof na.fields?
na.fields:{};if(0<Ba.count()&&!Ca||!Ca){if(!Ca){var ua=null;'undefined'!=typeof Ba[z.name]?Y.errorLabels.query=Ba[z.name]:'undefined'!=typeof na.error&&/^5/.test(na.status)&&(ua=na.error);Fa.query=w(ua||z.error||q.error||Y.errorLabels.query,z);console.debug('query error detected !! ',na)}Fa.query||''!=z.value||(Ca=!0)}Ca&&'undefined'!=typeof Fa.query&&delete Fa.query;z.valid=Ca;var Aa=gina.validator.$forms[z.target.form.getAttribute('id')].cachedErrors||{};if(0<Fa.count()){z.errors=Fa;'undefined'==
typeof m[z.name].errors&&(m[z.name].errors={});m[z.name].errors=V(m[z.name].errors,Fa);'undefined'!=typeof Fa.query&&Fa.query&&('undefined'==typeof Aa[z.name]&&(Aa[z.name]={}),'undefined'==typeof Aa[z.name].query&&(Aa[z.name].query={}),Aa[z.name].query[z.value]=Fa.query.slice(0));var Ra=z.target.getAttribute('data-gina-form-errors');/query/.test(Ra)||z.target.setAttribute('data-gina-form-errors',Ra&&''!=Ra?Ra+' query':'query')}else'undefined'!=typeof Aa[z.name]&&'undefined'!=typeof Aa[z.name].query&&
'undefined'!=typeof Aa[z.name].query[z.value]&&delete Aa[z.name].query[z.value];var Sa=z.target.id||z.target.getAttribute('id');console.debug('prematurely completed event `asyncCompleted.'+Sa+'`');return triggerEvent(gina,z.target,'asyncCompleted.'+Sa,m[z.name])}catch(Na){throw Na;}},E?O.send(A):O.send())}else console.debug('stopping on errors ...'),triggerEvent(gina,this.target,'asyncCompleted.'+I,m[this.name])},Da=async function(q,r,H,I){var A=(new (require(_(GINA_FRAMEWORK_DIR+'/core/config.js',
!0)))).getInstance(),y=null,C=null,F=null,O=getContext('bundle');if(/@/.test(q.url)){var z=q.url.split(/@/);C=z[0];F=z[1];getConfig(O,'app');try{A.bundle!==F&&(y=getConfig(O,'app').proxy[F])}catch(na){throw Error('Could not retrieve `proxy` configuration for bundle `'+F+'`. Please check your `/config/app.json`.\n'+na.stack);}z=null}else throw Error('external url/domain not  handled at this moment, please contact us if you need support for it.');z=JSON.clone(pa.getRoute(q.url,q.data));var S=A[F][A.env];
y||(A.bundle==F&&(y=getConfig(O,'settings').server.credentials,q.ca=y.ca||null,q.hostname=S.server.scheme+'://'+S.host,q.port=S.port[S.server.protocol][S.server.scheme],q.protocol=S.server.protocol,q.rejectUnauthorized=!1),y={ca:q.ca,hostname:q.hostname,port:q.port,path:q.path},'undefined'!=typeof q.protocol&&(y.protocol=q.protocol),'undefined'!=typeof q.rejectUnauthorized&&(y.rejectUnauthorized=q.rejectUnauthorized));C={method:z.method,requirements:z.requirements,namespace:z.namespace||void 0,url:unescape(z.url),
rule:C+'@'+F,param:JSON.clone(z.param),middleware:JSON.clone(z.middleware),bundle:z.bundle,isXMLRequest:r.isXMLRequest,isWithCredentials:r.isWithCredentials};F=C.rule.replace('@'+F,'')||'_common';F={template:'undefined'!=typeof S.content.templates?S.content.templates[F]||S.content.templates._common:void 0,conf:JSON.clone(S),cacheless:S.cacheless};F=V(F,C);F.conf=JSON.clone(S);F.conf.content.routing[F.rule].param=C.param;F.template&&'undefined'==typeof F.template.ginaLoader&&(F.template.ginaLoader=
F.conf.content.templates._common.ginaLoader);F.conf.content.routing[F.rule].param=C.param;delete F.middleware;delete F.param;delete F.requirements;S=new (require(_(GINA_FRAMEWORK_DIR+'/core/controller/controller.js'),!0))(F);S.name=z.param.control;S.setOptions(r,H,I,F);r='object'==typeof q.data&&0<q.data.count()?q.data:{};if(/^get|delete|put$/i.test(q.method)){H=0;for(let na in r)'object'==typeof r[na]&&encodeURIComponent(JSON.stringify(r[na])),H++}y.method=q.method;y.path=z.url;q=require('util').promisify;
var X={isValid:!1},va=!1;await q(S.query)(y,r).then(function(na){X=na}).catch(function(na){va=na});va&&(console.error(va),X.error=va);return X},R=null;R=L?ma:Da;var J=function(q,r){var H=null,I=null;'undefined'==typeof m[q]&&'undefined'!=typeof r&&(m[q]=H=r);if('object'==typeof m[q])try{H=JSON.parse(JSON.stringify(m[q]))}catch(A){H=m[q]}else H=m[q];I='';L&&'undefined'!=typeof Q&&(I=Q[q].getAttribute('data-gina-form-field-label')||'');m[q]={target:L&&'undefined'!=typeof Q?Q[q]:null,name:q,value:H,
valid:!1,label:I,exclude:!1};m[q].is=function(A,y,C){var F=!1,O='undefined'!=typeof window&&'undefined'!=typeof window._currentValidatorAlias?window._currentValidatorAlias:'is';'undefined'!=typeof window&&window._currentValidatorAlias&&delete window._currentValidatorAlias;var z=m[this.name].errors||{};Y.data[this.name]=m[this.name].value;'undefined'==typeof z.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value||!z.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value?
F=!0:z.isRequired||'string'!=typeof this.value||''!=this.value||(F=!0);if(!F&&/^(true|false)$/i.test(A))F=A;else if(!F){var S=null,X=null;if(/[!=>><a-z 0-9]+/i.test(A)){if((X=A.match(/\${0}[-_,.\[\]a-z0-9]+/ig))&&0<X.length){for(var va=0,na=X.length;va<na;++va)'undefined'!=typeof m[X[va]]&&X[va]&&(S=new RegExp('\\$'+X[va]+'(?!\\S+)','g'),A=''==m[X[va]].value?A.replace(S,'""'):'string'==typeof m[X[va]].value?A.replace(S,'"'+m[X[va]].value+'"'):A.replace(S,m[X[va]].value));try{A=A.replace(/(\(|\)|return)/g,
''),F=/^\//.test(A)?eval(A+'.test("'+this.value+'")'):eval(A)}catch(Ca){throw Error(Ca.stack||Ca.message);}}}else if(A instanceof RegExp)F=A.test(this.value)?!0:!1;else if('boolean'==typeof A)F=A?!0:!1;else try{/\/(.*)\//.test(A)?(S=A.match(/\/(.*)\//).pop(),X=A.replace('/'+S+'/',''),F=(new RegExp(S,X)).test(this.value)):F=eval(A)}catch(Ca){throw Error(Ca.stack||Ca.message);}}F?F&&'undefined'!=typeof z[O]&&delete z[O]:(z[O]=w(this.error||y||Y.errorLabels[O],this),'undefined'!=typeof C&&(z.stack=C));
this.valid=F;0<z.count()&&(this.errors=z);return m[this.name]};m[q].set=function(A){this.value=Y.data[this.name]=A;this.target.setAttribute('value',A);return m[this.name]};m[q].isEmail=function(){this.value=Y.data[this.name]=this.value?this.value.toLowerCase():this.value;L&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var A=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.value)?
!0:!1,y=m[this.name].errors||{};y.isRequired||''!=this.value||(A=!0);A?A&&'undefined'!=typeof y.isEmail&&delete y.isEmail:y.isEmail=w(this.error||Y.errorLabels.isEmail,this);this.valid=A;0<y.count()&&(this.errors=y);return m[this.name]};m[q].isJsonWebToken=function(){this.value=Y.data[this.name]=this.value?this.value.toLowerCase():this.value;L&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var A=/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/.test(this.value)?
!0:!1,y=m[this.name].errors||{};y.isRequired||''!=this.value||(A=!0);A?A&&'undefined'!=typeof y.isJsonWebToken&&delete y.isJsonWebToken:y.isJsonWebToken=w(this.error||Y.errorLabels.isJsonWebToken,this);this.valid=A;0<y.count()&&(this.errors=y);return m[this.name]};m[q].isBoolean=function(){var A=null,y=m[this.name].errors||{};y.isRequired&&0==this.value&&(delete y.isRequired,this.errors=y);switch(this.value){case 'true':case !0:case 1:A=this.value=Y.data[this.name]=!0;break;case 'false':case !1:case 0:A=
this.value=Y.data[this.name]=!1}(A=null!==A?!0:!1)?A&&'undefined'!=typeof y.isBoolean&&delete y.isBoolean:y.isBoolean=w(this.error||Y.errorLabels.isBoolean,this);this.valid=A;0<y.count()&&(this.errors=y);return m[this.name]};m[q].isNumber=function(A,y){var C=this.value,F=!1,O=!0,z=!0,S=m[this.name].errors||{};try{'string'==typeof C&&/,|\./g.test(C)?C=Y.data[this.name]=this.value=parseFloat(C.replace(/,/g,'.').replace(/\s+/g,'')):'string'==typeof C&&''!=C&&(C=Y.data[this.name]=this.value=parseInt(C.replace(/\s+/g,
'')))}catch(va){S.isNumber=w(this.error||Y.errorLabels.isNumber,this),this.valid=!1,0<S.count()&&(this.errors=S)}if(+C===+C&&(F=!0,!S.isRequired&&''!=C)){var X=C.toString().length;A&&'number'==typeof A&&X<A&&(O=!1,this.size=A);y&&'number'==typeof y&&X>y&&(z=!1,this.size=y)}F&&O&&z||(F||(S.isNumber=w(this.error||Y.errorLabels.isNumber,this)),O&&z||(O||(S.isNumberLength=w(this.error||Y.errorLabels.isNumberMinLength,this)),z||(S.isNumberLength=w(this.error||Y.errorLabels.isNumberMaxLength,this)),A===
y&&(S.isNumberLength=w(this.error||Y.errorLabels.isNumberLength,this))),F=!1);F&&'undefined'!=typeof S.isNumberLength&&delete S.isNumberLength;this.valid=F;this.value=Y.data[this.name]=''!=C?Number(C):C;0<S.count()&&(this.errors=S);return m[this.name]};m[q].toInteger=function(){var A=this.value,y=m[this.name].errors||{};if(A)try{this.value=Y.data[this.name]=Math.round(A)}catch(C){y.toInteger=w(this.error||Y.errorLabels.toInteger,this),this.valid=!1,0<y.count()&&(this.errors=y)}return m[this.name]};
m[q].isInteger=function(A,y){var C=this.value,F=!1,O=!0,z=!0,S=m[this.name].errors||{};+C===+C&&0===C%1&&(F=!0,S.isRequired||''==C||(A&&'number'==typeof A&&C.length<A&&(O=!1,this.size=A),y&&'number'==typeof y&&C.length>y&&(z=!1,this.size=y)));F&&O&&z||(F||(S.isInteger=w(this.error||Y.errorLabels.isInteger,this)),O&&z||(O||(S.isIntegerLength=w(this.error||Y.errorLabels.isIntegerMinLength,this),F=!1),z||(S.isIntegerLength=w(this.error||Y.errorLabels.isIntegerMaxLength,this),F=!1),A===y&&(S.isIntegerLength=
w(this.error||Y.errorLabels.isIntegerLength,this),F=!1)));this.valid=F;this.value=Y.data[this.name]=Number(C);0<S.count()&&(this.errors=S);return m[this.name]};m[q].toFloat=function(A){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''),/,/.test(this.value)&&!/\./.test(this.value)?this.value=this.value.replace(/,/g,'.'):this.value=this.value.replace(/,/g,''));var y=Y.data[this.name]=this.value,C=m[this.name].errors||{},F=!0;A?this.decimals=parseInt(A):'undefined'==typeof this.decimals&&
(this.decimals=2);if(y)if(this.isNumber().valid)try{Number.isFinite(y)||(y=this.value=Y.data[this.name]=new Number(parseFloat(y.match(/[0-9.,]+/g).join('').replace(/,/,'.')))),L&&this.target.setAttribute('value',y)}catch(O){F=!1,C.toFloat=w(this.error||Y.errorLabels.toFloat,this),this.valid=!1,0<C.count()&&(this.errors=C)}else F=!1,C.toFloat=w(this.error||Y.errorLabels.toFloatNAN,this);else return m[this.name];this.decimals&&y&&!C.toFloat&&(this.value=Y.data[this.name]=parseFloat(this.value.toFixed(this.decimals)));
this.valid=F;0<C.count()&&(this.errors=C);return m[this.name]};m[q].isFloat=function(A){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''));var y=Y.data[this.name]=this.value;A=m[this.name].errors||{};'string'==typeof y&&/\./.test(y)&&Number.isFinite(Number(y));'string'==typeof y&&/,/g.test(y)&&(y=this.value=Y.data[this.name]=Number(y.replace(/,/g,'.')));Number(y)===y&&0!==y%1?(this.value=Y.data[this.name]=Number(y),y=!0):y=!1;A.isRequired||''!=this.value||(y=!0);y||(A.isFloat=
w(this.error||Y.errorLabels.isFloat,this));this.valid=y;0<A.count()&&(this.errors=A);return m[this.name]};m[q].isRequired=function(A){if('boolean'==typeof A&&!A)return this.valid=!0,A=Y.excluded.indexOf(this.name),-1<A&&Y.excluded.splice(A,1),m[this.name];if(L&&this.target&&'INPUT'==this.target.tagName&&'undefined'!=typeof this.target.type&&'radio'==this.target.type){A=document.getElementsByName(this.name);for(var y=0,C=A.length;y<C;++y)if(A[y].checked){/true|false/.test(A[y].value)?this.value=Y.data[this.name]=
/true/.test(A[y].value)?!0:!1:this.value=Y.data[this.name]=A[y].value;this.valid=!0;break}}A='undefined'==typeof this.value||null==this.value||''==this.value||/^\s+/.test(this.value)?!1:!0;y=m[this.name].errors||{};A?A&&'undefined'!=typeof y.isRequired&&delete y.isRequired:y.isRequired=w(this.error||Y.errorLabels.isRequired,this);this.valid=A;0<y.count()&&(this.errors=y);return m[this.name]};m[q].isString=function(A,y){var C=Y.data[this.name]=this.value,F=!1,O=!0,z=!0,S=m[this.name].errors||{};'string'!=
typeof C||S.isRequired||''==C||(F=!0,A&&'number'==typeof A&&C.length<A&&(O=!1,this.size=A),y&&'number'==typeof y&&C.length>y&&(z=!1,this.size=y));F&&O&&z||(!F&&S.isRequired&&''==C?(F=!1,S.isString=w(this.error||Y.errorLabels.isString,this)):F||S.isRequired||(F=!0),O&&z||(F=!1,O||(S.isStringLength=w(this.error||Y.errorLabels.isStringMinLength,this)),z||(S.isStringLength=w(this.error||Y.errorLabels.isStringMaxLength,this)),A===y&&(S.isStringLength=w(this.error||Y.errorLabels.isStringLength,this))));
this.valid=F;0<S.count()&&(this.errors=S);return m[this.name]};m[q].isDate=function(A){var y=this.value,C=!1,F=m[this.name].errors||{},O=null;if(!y||''==y||/NaN|Invalid Date/i.test(y))return/NaN|Invalid Date/i.test(y)&&(console.warn('[FormValidator::isDate] Provided value for field `'+this.name+'` is not allowed: `'+y+'`'),F.isDate=w(this.error||Y.errorLabels.isDate,this)),this.valid=C,0<F.count()&&(this.errors=F),m[this.name];if('undefined'==typeof A||'undefined'!=typeof A&&/true/i.test(A))A='yyyy-mm-dd';
if(y instanceof Date)y=y.format(A);else{try{O=A.match(/[^\/\- ]+/g)}catch(na){throw Error('[FormValidator::isDate] Provided mask not allowed: `'+A+'`');}try{y=y.match(/[^\/\- ]+/g);var z={},S;var X=0;for(S=O.length;X<S;++X)z[O[X]]=y[X];for(var va in z)A=A.replace(new RegExp(va,'g'),z[va])}catch(na){throw Error('[FormValidator::isDate] Provided value not allowed: `'+y+'`'+na);}y=this.value=Y.data[this.name]=new Date(A);if(/Invalid Date/i.test(y)||!1===y instanceof Date)return F.isRequired||''!=this.value?
F.isDate=w(this.error||Y.errorLabels.isDate,this):C=!0,this.valid=C,0<F.count()&&(this.errors=F),m[this.name];C=!0}this.valid=C;return y};m[q].format=function(A,y){var C=this.value;return C?C.format(A,y):m[this.name]};m[q].setFlash=function(A,y){'undefined'!=typeof y&&''!=y&&(this.error=y);return m[this.name]};m[q].setLabel=function(A){'undefined'!=typeof A&&''!=A&&(this.label=A);return m[this.name]};m[q].trim=function(A){if('boolean'==typeof A&&A)return this.value=this.value.replace(/^\s+|\s+$/,
''),Y.data[this.name]=Y.data[this.name]=this.value,m[this.name]};m[q].exclude=function(A){if('boolean'==typeof A&&!A)return/^true|false$/i.test(this.value)&&(this.value=/^true$/i.test(this.value)?!0:!1,Y.data[this.name]=this.value),m[this.name];this.isExcluded=!1;0>Y.excluded.indexOf(this.name)&&(Y.excluded.push(this.name),this.isExcluded=!0);return m[this.name]};m[q].query=R;m[q].getValidationContext=function(){return{isGFFCtx:L,self:m,local:Y,replace:w}};if(U()){H=r=null;try{for(let A in gina.forms.validators)H=
'/validators/'+A+'/main.js',Y.errorLabels[A]='Condition not satisfied',L?(r=x(gina.forms.validators[A].data),r=r.replace(/(\)\s+\{|\)\{){1}/,'$&\n\tvar validationContext = this.getValidationContext(),isGFFCtx = validationContext.isGFFCtx,self = validationContext.self,local = validationContext.local,replace = validationContext.replace;')):r=gina.forms.validators[A].toString(),m[q][A]=eval('('+r+')\n//# sourceURL='+A+'.js')}catch(A){throw Error('[UserFormValidator] Could not evaluate: `'+H+'`\n'+A.stack);
}}};for(let q in m)J(q,m[q]);m.addField=function(q,r){'undefined'==typeof m[q]&&J(q,r)};m.isValid=function(){return 0<m.getErrors().count()?!1:!0};m.setErrors=function(q){if(!q)return{};for(var r in m)if('object'==typeof m[r]){for(var H in m[r])'object'==typeof q[r]&&'undefined'!=typeof q[r][H]&&('undefined'!=typeof m[r].valid&&/^true$/i.test(m[r].valid)?delete q[r][H]:('undefined'==typeof m[r].errors&&(m[r].errors={}),m[r].errors[H]=q[r][H]));('undefined'==typeof m[r].errors&&'undefined'!=typeof q[r]||
'undefined'!=typeof m[r].errors&&0==m[r].errors.count()&&'undefined'!=typeof q[r])&&delete q[r]}return q};m.getErrors=function(q){var r={};if('undefined'!=typeof q)return'undefined'!=typeof m[q]&&m[q]&&'undefined'!=typeof m[q].errors&&0<m[q].errors.count()&&(r[q]=m[q].errors),r;for(var H in m)'object'==typeof m[H]&&'undefined'!=typeof m[H].errors&&0<m[H].errors.count()&&(r[H]=m[H].errors);return r};m.toData=function(){if(0<Y.excluded.length)for(var q=0,r=Y.excluded.length;q<r;++q)'undefined'!=typeof Y.data[Y.excluded[q]]&&
delete Y.data[Y.excluded[q]];return Y.data};var w=function(q,r){var H=q.match(/%[a-z]+/gi);if(H)for(var I=0,A=H.length;I<A;++I)q=q.replace(new RegExp(H[I],'g'),r[Y.keys[H[I]]]);return q};m.setErrorLabels=function(q){'undefined'!=typeof q&&(Y.errorLabels=V(q,Y.errorLabels))};return m}'undefined'!==typeof module&&module.exports?module.exports=FormValidatorUtil:'function'===typeof define&&define.amd&&define('utils/form-validator',[],function(){return FormValidatorUtil});
function Routing(){var E='undefined'!==typeof module&&module.exports?!1:!0,Q={allowedMethods:['get','post','put','delete'],reservedParams:['controle','file','title','namespace','path'],notFound:{}};Q.allowedMethodsString=Q.allowedMethods.join(',');var da=null,Ga=null,L=null;E?(Ga&&'function'==typeof Ga||(Ga=require('utils/merge')),L&&'function'==typeof L||(L=require('utils/form-validator'))):(require('fs'),require('util'),require('../../inherits'),Ga=require('../../merge'),da=require(__dirname+'/../../../core/plugins')||
getContext('gina').plugins,L=da.Validator);Q.getUrlProps=function(m,T){var x={};if(E){var ma=window.gina.config;x.hostname=ma.hostname;'undefined'!=typeof m&&(m=routing.getRoute('webroot@'+m),x.hostname=m.hostname,x.host=m.host,x.webroot=m.webroot)}else ma=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(ma.getRouting=getContext('gina').Config.instance.getRouting),'undefined'==typeof m&&(m=ma.bundle),'undefined'==typeof T&&(T=ma.env),x.hostname=ma.envConf[m][T].hostname,
x.host=ma.envConf[m][T].host,x.webroot=ma.envConf[m][T].server.webroot;return x};Q.compareUrls=async function(m,T,x,ma,Da){'undefined'==typeof x&&(x={routing:{}});if(/,/.test(T)){var R=0;T=T.split(/,/g);for(var J=T.length,w={past:!1,request:x};R<J&&!w.past;)w=await V(m,T[R],x,ma,Da),++R;return w}return await V(m,T,x,ma,Da)};var V=async function(m,T,x,ma,Da){var R=m.url.split(/\//);T=T.split(/\//);var J=0,w=0,q=T.length,r=0,H={},I=0,A=x.method.toLowerCase(),y=m.method.toLowerCase(),C=!1;if('undefined'!=
typeof m.requirements&&/get|delete/i.test(A)&&'undefined'!=typeof x[A]||'undefined'!=typeof m.requirements&&/get/i.test(A)&&/delete/i.test(y)){/get/i.test(A)&&/delete/i.test(y)&&(A=y);if(/^(delete)$/i.test(A)&&R.length===T.length){'undefined'==typeof x[A]&&(x[A]={});for(let z=0,S=T.length;z<S;z++)if(R[z]===T[z])++r;else if(y=T[z].substr(1),'undefined'!=typeof m.requirements[y]){y=m.requirements[y];if(/^\//.test(y))y=y.substr(1,y.lastIndexOf('/')-1);else if(/^validator::/.test(y)&&await pa(T[z],R[z],
m,x,ma,Da)){++r;continue}/^:/.test(T[z])&&'undefined'!=typeof y&&(new RegExp(y)).test(R[z])&&(++r,x[A][T[z].substr(1)]=R[z])}C=!0}for(var F in x[A])'undefined'!=typeof m.requirements[F]&&0>T.indexOf(':'+F)&&(T[w]=':'+F,++w,R[J]=x[A][F],++J,C||R.length!==T.length||++q)}if(!C&&R.length===T.length)for(;I<q;++I)R[I]===T[I]?++r:r==I&&/:/.test(T[I])&&await pa(T[I],R[I],m,x,ma,Da)&&++r;if('undefined'!=typeof m.requirements&&A==m.method.toLowerCase()&&!C&&r>=q)for(F=Object.getOwnPropertyNames(m.requirements),
J=0,T.join(',').match(/:[-_a-z0-9]+/g);J<F.length;){w=F[J];if('undefined'==typeof m.param[w]&&/^validator::/i.test(m.requirements[w])){if(T.length!=R.length)break;var O=T.join(',').match(/:[-_a-z0-9]+/g);let z=m.requirements[w];I={};y={};C={};try{y=JSON.parse(z.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(S){throw S;}if('undefined'!=typeof y.query&&'undefined'!=typeof y.query.data){I=y.query.data;for(let S in I)0>O.indexOf(I[S])&&delete I[S];
for(let S=0,X=T.length;S<X;S++)/^:/.test(T[S])&&(O=T[S].replace(/^:/,''),''!=O&&'undefined'!=typeof R[S]&&(I[O]=R[S],'undefined'==typeof x.params[O]&&(x.params[O]=R[S])))}I=Ga(I,JSON.clone(x[A])||{});'undefined'==typeof I[w]&&(I[w]=null);C[w]=y;_validator=E?new L(I):new L('routing',I,null,C);if(0==y.count()){console.error('Route validation failed '+m.rule);--r;J++;continue}for(let S in y)if('undefined'!=typeof y[S].data&&(y[S].data=I),C=Array.isArray(y[S])?await _validator[w][S].apply(_validator[w],
y[S]):await _validator[w][S](y[S],x,ma,Da),!C.isValid&&(--r,'undefined'!=typeof C.error))throw C.error;}J++}H.past=r===q?!0:!1;H.past&&(x.routing=Y(m,x[A]),H.request=x);return H},pa=async function(m,T,x,ma,Da,R){var J=-1,w=m.match(/:\w+/g);J=new RegExp(m,'g');var q=null,r=null,H=null;q=!1;var I=q=r=r=null,A=null,y=ma.method.toLowerCase();if(!w.length)return!1;x.param.path&&J.test(x.param.path)&&(x.param.path=x.param.path.replace(J,T));x.param.namespace&&J.test(x.param.namespace)&&(x.param.namespace=
x.param.namespace.replace(J,T));'undefined'!=typeof x.param.file&&/:/.test(x.param.file)&&(q=new RegExp('(:'+m+'/|:'+m+'$)','g'),U.variable=T,x.param.file=x.param.file.replace(q,U));x.param.title&&J.test(x.param.title)&&(x.param.title=x.param.title.replace(J,T));if(1==w.length){q=new RegExp(w[0]);J=-1<w.indexOf(m)?w.indexOf(m):!1;!1===J&&m.match(q)&&(J=0);if(!1===J)return J;if(x.method.toLowerCase()!==y)return!1;'undefined'==typeof ma[y]&&(ma[y]={});H=w[J].substr(1);J=x.requirements[H];if(/^\//.test(J))q=
J.match(/\/(.*)\//).pop(),r=J.replace('/'+q+'/',''),q=(new RegExp(q,r)).test(T);else if(/^validator::/.test(J)&&T){r={};q={};I={};A='';m.replace(new RegExp('[^'+H+']','g'),function(S){A+=S});r[H]=T.replace(new RegExp(A,'g'),'');try{q=JSON.parse(J.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(S){throw S;}'undefined'!=typeof q.query&&'undefined'!=typeof q.query.data&&m==q.query.data[Object.keys(q.query.data)[0]]&&(q.query.data[Object.keys(q.query.data)[0]]=
r[H],ma.params[H]=r[H]);I[H]=q;r=new L('routing',r,null,I);if(0==q.count())return console.error('Route validation failed '+x.rule),!1;for(var C in q)Array.isArray(q[C])?await r[H][C].apply(r[H],q[C]):await r[H][C](q[C],ma,Da,R);q=r.isValid()}else q=(new RegExp(x.requirements[H])).test(T);if('undefined'!=typeof x.param[H]&&'undefined'!=typeof x.requirements&&'undefined'!=typeof x.requirements[H]&&'undefined'!=typeof ma.params&&q)return ma.params[H]=T,'undefined'==typeof ma[y][H]&&(ma[y][H]=T),!0}else{Da=
x.url;R=ma.url;y={};I='';var F=!1,O=0;C=0;for(var z=R.length;C<z;++C)if(R.charAt(C)!=Da.charAt(O)||F){if(''==I)F=!0,I+=R.charAt(C);else if(C>Da.indexOf(w[0])+w[0].length){J=x.requirements[w[0]];T=I.substr(0,I.length);if(/^\//.test(J))q=J.match(/\/(.*)\//).pop(),r=J.replace('/'+q+'/',''),q=(new RegExp(q,r)).test(T);else if(/^validator::/.test(J)){r={};q={};I={};A='';m.replace(new RegExp('[^'+H[0]+']','g'),function(S){A+=S});r[H[0]]=T.replace(new RegExp(A,'g'),'');q=JSON.parse(J.split(/::/).splice(1)[0].replace(/([^\W+ true false])+(\w+)/g,
'"$&"'));I[H[0]]=q;r=new L('routing',r,null,I);for(let S in q)if(Array.isArray(q[S]))r[H[0]][S].apply(r[H[0]],q[S]);else r[H[0]][S](q[S]);q=r.isValid()}else q=(new RegExp(x.requirements[H[0]])).test(T);if(q)y[w[0].substr(1)]=T;else return!1;I='';F=!1;O=Da.indexOf(w[0])+w[0].length;--C;w.splice(0,1)}else I+=R.charAt(C),++O;if(C==z-1)if(J=x.requirements[w[0]],T=I.substr(0,I.length),/^\//.test(J)?(q=J.match(/\/(.*)\//).pop(),r=J.replace('/'+q+'/',''),q=(new RegExp(q,r)).test(T)):q=(new RegExp(x.requirements[H])).test(T),
q)y[w[0].substr(1)]=T;else return!1}else++O;if(y.count()==w.length){H=null;for(H in y)ma.params[H]=y[H];return!0}}return!1},U=function(m){return/\/$/.test(m)?U.variable+'/':U.variable},Y=function(m,T){var x=null,ma,Da=m.url,R=null;for(R in m.param)if(('undefined'==typeof T||'undefined'!=typeof T[R])&&/^:/.test(m.param[R])){var J=m.param[R].substr(1);if('undefined'!=typeof T&&'undefined'!=typeof T[J]){var w=new RegExp('(:'+J+'/|:'+J+'$)','g');'undefined'!=typeof m.param.path&&/:/.test(m.param.path)&&
(m.param.path=m.param.path.replace(w,T[J]));'undefined'!=typeof m.param.title&&/:/.test(m.param.title)&&(m.param.title=m.param.title.replace(w,T[J]));'undefined'!=typeof m.param.namespace&&/:/.test(m.param.namespace)&&(m.param.namespace=m.param.namespace.replace(w,T[J]));'undefined'!=typeof m.param.file&&/:/.test(m.param.file)&&(U.variable=T[J],m.param.file=m.param.file.replace(w,U));if(/,/.test(m.url)){x=m.url.split(/,/g);var q=0;for(ma=x.length;q<ma;++q)U.variable=T[J],x[q]=x[q].replace(w,U);m.url=
x.join(',')}else U.variable=T[J],m.url=m.url.replace(w,U)}}if(x){q=0;ma=x.length;Da=Da.split(/,/g);var r=0;for(m.urlIndex=0;q<ma;++q)if(x=0,w=Da[0].match(/:[-_a-z0-9]+/ig)){R=0;for(J=w.length;R<J;R++){var H=w[R].substr(1);'undefined'!=typeof T[H]&&T[H]&&x++}x>r&&(r=x,m.urlIndex=q)}}return m};Q.getRoute=function(m,T,x){var ma=null;E?ma=window.gina.config:(ma=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(ma.getRouting=getContext('gina').Config.instance.getRouting));var Da=
ma.env||GINA_ENV,R=null,J=ma.bundle;/@/.test(m)||'undefined'==typeof J||null==J||(m=m.toLowerCase(),m+='@'+J);if(/@/.test(m)){var w=m.replace(/(.*):\/\//,'').split(/@/);J=w[1];/\/(.*)$/.test(m)&&(R=m.replace(/(.*):\/\//,'').split(/\/(.*)$/)[1],J=J.replace(/\/(.*)$/,''),Da=R||Da);m=w[0].toLowerCase()+'@'+J}R=ma.getRouting(J,Da);if('undefined'==typeof R[m])throw Error('[ RoutingHelper::getRouting(rule, params) ] : `'+m+'` not found !');ma=JSON.clone(R[m]);J=null;ma=Y(ma,T);/,/.test(ma.url)&&('undefined'!=
typeof ma.urlIndex&&(x=ma.urlIndex,delete ma.urlIndex),x='undefined'!=typeof x?x:0,ma.url=ma.url.split(/,/g)[x]);/\/$/.test(ma.url)&&'/'!=ma.url&&(ma.url=ma.url.substr(0,ma.url.length-1));if(/GET/i.test(ma.method)&&'undefined'!=typeof T){x='?';R=R[m].url;for(let q in ma.param)-1<Q.reservedParams.indexOf(q)||(new RegExp(ma.param[q])).test(R)||'undefined'!=typeof T[q]&&(x+=q+'='+encodeURIComponent(T[q])+'&');1<x.length&&(x=x.substring(0,x.length-1),ma.url+=x)}ma.toUrl=function(q){var r=null;/^redirect$/i.test(this.param.control)&&
(r=Q.getUrlProps(this.bundle,Da||GINA_ENV));var H=this.webroot||r.webroot;r=this.hostname||r.hostname;var I=this.url;this.url='undefined'!=typeof q&&1==q?I.replace(H,'/'):I;return r+this.url};ma.request=function(q,r){var H=null,I=null;'function'==typeof arguments[arguments.length-1]&&(H=arguments[arguments.length-1]);'object'==typeof arguments[2]&&(I=arguments[2]);var A=this.webroot||I.webroot,y=this.hostname||I.hostname;I='undefined'!=typeof q&&1==q?path.replace(A,'/'):this.url||I.url;y=/^https/.test(y)?
'https':'http';E?window.open(I,'undefined'!=typeof r&&'undefined'!=typeof r.target?r.target:'_self'):('undefined'==typeof r.agent&&(r.agent=!1),y=require(''+y),A=function(C){var F='',O=!1;C.on('data',function(z){F+=z});C.on('error',function(z){O='Failed to get mail content';z&&'undefined'!=typeof z.stack?O+=z.stack:'string'==typeof z&&(O+='\n'+z)});C.on('end',function(){if(/^\{/.test(F))try{F=JSON.parse(F),'undefined'!=typeof F.error&&(O=JSON.clone(F),F=null)}catch(z){O=z}O?H(O):H(!1,F)})},H?y.get(I,
r,A):y.get(I,r))};/:/.test(ma.url)&&(T=ma.url.match(/(:(.*)\/|:(.*)$)/g).map(function(q){return q.replace(/\//g,'')}).join(', '),J='[ RoutingHelper::getRoute(rule[, bundle, method]) ] : route [ %r ] param placeholder not defined: `'+ma.url+'` !\n Check your route description to compare requirements against param variables [ '+T+']',J=J.replace(/%r/,m),console.warn(Error(J)));return ma};Q.getRouteByUrl=function(m,T,x,ma,Da){2==arguments.length&&'undefined'!=typeof arguments[1]&&-1<Q.allowedMethods.indexOf(arguments[1].toLowerCase())&&
(x=arguments[1],T=void 0);var R=null,J=null,w=null,q=null,r=null,H=null;if(/#/.test(m)&&1<m.length){var I=m.split(/#/);m=I[0];r='#'+I[1];I=null}1==arguments.length&&'undefined'!=typeof arguments[0]&&(/^(https|http)/i.test(m)||/^\//.test(m)||(m='/'+m),R='/'+m.split(/\//g)[1],E&&(q=gina.config.reverseRouting,w=gina.config.routing),'undefined'!=typeof q[R]&&(I=w[q[R]],T=I.bundle,R=I.webroot,H=I.hostname,I=null));Da='boolean'!=typeof arguments[arguments.length-1]?!1:arguments[arguments.length-1];var A=
!1,y=null,C=null,F=y=C=null;I='undefined'!=typeof x?!0:!1;E?(y=window.gina.config,T='undefined'!=typeof T?T:y.bundle,C=y.env,w=w||y.getRouting(T),q=q||y.reverseRouting,isXMLRequest='undefined'!=typeof isXMLRequest?isXMLRequest:!1,H=H||y.hostname,R=R||y.webroot,ma={routing:{},method:x,params:{},url:m}):(y=getContext('gina').config,T='undefined'!=typeof T?T:y.bundle,C=y.env,w=y.getRouting(T),H=y.envConf[T][C].hostname,R=y.envConf[T][C].server.webroot,ma||={routing:{},isXMLRequest:!1,method:'undefined'!=
typeof x?x.toLowerCase():'get',params:{},url:m},Da&&(ma.method=x),isXMLRequest=ma.isXMLRequest||!1);C=m.replace(new RegExp('^('+H+'|'+H.replace(/:\d+/,'')+')'),'');'undefined'==typeof ma.routing.path&&(ma.routing.path=unescape(C));x='undefined'!=typeof x?x.toLowerCase():'get';I&&(ma.originalMethod=ma.method,ma.method=x,ma.routing.path=unescape(C));ma.method||(ma.method=x);y={};R=new RegExp(x,'i');q=null;var O;for(O in w){if('undefined'==typeof w[O].param)break;if(w[O].bundle==T&&(q=w[O].method,/,/.test(q)&&
R.test(q)&&(q=ma.method),'undefined'==typeof w[O].method||R.test(q))){y={method:q,requirements:w[O].requirements,namespace:w[O].namespace||void 0,url:unescape(C),rule:w[O].originalRule||O,param:w[O].param,middleware:JSON.clone(w[O].middleware),bundle:w[O].bundle,isXMLRequest};try{if(F=Q.compareUrls(y,w[O].url,ma),F.past){J=JSON.clone(w[O]);J.name=O;A=!0;F={};break}}catch(z){throw Error('Route [ '+O+' ] needs your attention.\n'+z.stack);}}}if(A)return/\/$/.test(m)&&'/'!=m&&(m=m.substr(0,m.length-1)),
r&&(m+=r),J.url=m,J.toUrl=function(z){var S=this.webroot,X=this.hostname,va=this.url;this.url='undefined'!=typeof z&&1==z?va.replace(S,'/'):va;return X+this.url},J;if(E){r=!1;if('#'==m&&/GET/i.test(x)&&I||/^404:/.test(m))m=location.pathname,r=!0;'undefined'==typeof Q.notFound&&(Q.notFound={});w=null;J='[ RoutingHelper::getRouteByUrl(rule[, bundle, method]) ] : route [ %r ] is called but not found inside your view: `'+m+'` !';if((w=(w=gina.hasPopinHandler&&gina.popinIsBinded?gina.popin.getActivePopin().target.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/):
document.body.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/))&&0<w.length?w[0]:null)&&I&&r)return r=w.match(/\[\w+\]/)[0],w=w.replace('404:'+r,r.replace(/\[|\]/g,'')+'::'),J=J.replace(/%r/,w.replace(/404:\s+/,'')),'undefined'==typeof Q.notFound[w]?Q.notFound[w]={count:1,message:J}:I&&'undefined'!=typeof Q.notFound[w]&&++Q.notFound[w].count,!1;if((r=gina.config.reverseRouting[m]||null)&&'undefined'!=typeof r&&r.split(/@(.+)$/)[1]==T)return w=r,'undefined'==typeof Q.notFound[w]?(J=J.replace(/%r/,x.toUpperCase()+
'::'+r),Q.notFound[w]={count:1,message:J}):I&&'undefined'!=typeof Q.notFound[w]&&++Q.notFound[w].count,!1;w=Q.compareUrls(y,m,ma)||null;w.past&&I&&(w=x.toUpperCase()+'::'+w.request.routing.rule,'undefined'==typeof Q.notFound[w]?J=J.replace(/%r/,w):++Q.notFound[w].count);return!1}console.warn(Error('[ RoutingHelper::getRouteByUrl(rule[, bundle, method, request]) ] : route not found for url: `'+m+'` !').stack);return!1};return Q}
'undefined'!==typeof module&&module.exports?module.exports=Routing():'function'===typeof define&&define.amd&&define('utils/routing',['require','utils/form-validator','utils/merge'],function(){return Routing()});
function StoragePlugin(E){function Q(J){T=JSON.parse(Y.getItem(this.bucket));'undefined'==typeof T[J]&&(T[J]=[],Y.setItem(this.bucket,JSON.stringify(T)),T=JSON.parse(Y.getItem(this.bucket)));m[J]={_collection:J,_bucket:this.bucket};m[J]=Ga(m[J],Da);return m[J]}function da(J){if('object'!==typeof J)throw Error('filter must be an object');var w=T[this._collection],q=J.count(),r=0,H=null;if(0==q)return null;for(var I in w)for(var A in J){var y='boolean'!=typeof J[A]?J[A].toLocaleLowerCase():J[A];J[A]&&
-1<x.indexOf(y)&&'not null'==y&&'undefined'!=typeof w[I][A]&&'object'!==typeof w[I][A]&&w[I][A]===J[A]&&'null'!=w[I][A]&&'undefined'!=w[I][A]?0>H.indexOf(w[I][A])&&(++r,r===q&&(H=w[I],H._index=I,H._collection=this._collection,H._bucket=this._bucket)):'undefined'!=typeof w[I][A]&&'object'!==typeof w[I][A]&&w[I][A]===J[A]&&(++r,r===q&&(H=w[I],H._index=I,H._collection=this._collection,H._bucket=this._bucket,H._filter=J))}H&&(H.save=R);return H}var Ga=Ga||require('utils/merge');Q=Q||require('utils/collection');
var L=L||require('vendor/uuid'),V=V||require('helpers/dateFormat'),pa={bucket:'default'},U={},Y=null,m={},T={},x=['not null'],ma={bucket:void 0,drop:function(){Y.removeItem(pa.bucket);U=null;for(var J in this)delete this[J];return U},Collection:Q},Da={insert:function(J){J._id=L.v1();J._createdAt=(new Date).format('isoDateTime');J._updatedAt=(new Date).format('isoDateTime');T[this._collection][T[this._collection].length]=J;Y.setItem(this._bucket,JSON.stringify(T))},find:function(J,w){if(!J)return T[this._collection];
if('object'!==typeof J)throw Error('filter must be an object');w=T[this._collection];J.count();var q=0,r=[],H;for(H in w)for(var I in J){var A='boolean'!=typeof J[I]?J[I].toLocaleLowerCase():J[I];J[I]&&-1<x.indexOf(A)&&'not null'==A&&'undefined'!=typeof w[H][I]&&'object'!==typeof w[H][I]&&'null'!=w[H][I]&&'undefined'!=w[H][I]?0>r.indexOf(w[H][I])&&(r[q]=w[H][I],++q):'undefined'!=typeof w[H][I]&&'object'!==typeof w[H][I]&&w[H][I]===J[I]&&(r[q]=w[H],++q)}return r},findOne:da,update:null,'delete':function(J){if('object'!==
typeof J)throw Error('filter must be an object');var w=JSON.clone(T[this._collection]),q=0,r=[],H;for(H in w)for(var I in J)J[I]&&-1<x.indexOf(J[I].toLocaleLowerCase())&&'not null'==J[I].toLowerCase()&&'undefined'!=typeof w[H][I]&&'object'!==typeof w[H][I]&&'null'!=w[H][I]&&'undefined'!=w[H][I]?0>r.indexOf(w[H][I])&&(r[q]=w[H][I],delete T[this._collection][H][I],++q):'undefined'!=typeof w[H][I]&&'object'!==typeof w[H][I]&&w[H][I]===J[I]&&(r[q]=w[H],T[this._collection].splice(H,1),++q);return 0<r.length?
(Y.setItem(this._bucket,JSON.stringify(T)),!0):!1},drop:function(J){if('undefined'==typeof T[this._collection])throw Error('Collection `'+J+'` not found');delete m[this._collection];delete T[this._collection];Y.setItem(this._bucket,JSON.stringify(T))}},R=function(J){J=J||!1;try{var w=JSON.clone(T),q=this._index,r=this._collection,H=this._bucket,I=this._filter;this._updatedAt=(new Date).format('isoDateTime');Ga(w[r][q],this,!0);delete w[r][q]._index;delete w[r][q]._collection;delete w[r][q]._bucket;
delete w[r][q].save;delete w[r][q]._filter;if(J&&'object'==typeof w[r][q]){var A=function(C,F){for(var O=0,z=C.length;O<z;++O)'object'!=typeof F[O]||'undefined'==typeof C[O]||Array.isArray(C[O])?Array.isArray(C[O])?A(C[O],F[O]):'undefined'==typeof C[O]&&delete F[O]:y(C[O],F[O]);return F},y=function(C,F){for(var O in F)'object'!=typeof F[O]||'undefined'==typeof C[O]||Array.isArray(C[O])?Array.isArray(C[O])?A(C[O],F[O]):'undefined'==typeof C[O]&&delete F[O]:y(C[O],F[O]);return F};Array.isArray(w[r][q])?
w[r][q]=A(this,w[r][q]):'object'==typeof w[r][q]?w[r][q]=y(this,w[r][q]):'undefined'==typeof this[prop]&&delete w[r][q]}T[r][q]=w[r][q];Y.setItem(H,JSON.stringify(T));return da(I)}catch(C){throw C;}};(function(J){if(!window.localStorage||window.localStorage&&'undefined'==!typeof window.localStorage.setItem)throw Error('Make sure your browser supports `window.localStorage` to use Gina Storage. See: `https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Browser_compatibility`');if('object'!=
typeof J&&'undefined'!=typeof J)throw Error('`options` must be an object');'undefined'==typeof J&&(J={});pa=Ga(J,pa);Y=window.localStorage;J=pa.bucket;if(!Y.getItem(J)&&void 0!=J)Y.setItem(J,JSON.stringify(T));else if(void 0==J)throw Error('`bucket` name cannot be undefined');U.bucket=J;U=Ga(U,ma)})(E);return U}
if('undefined'!==typeof module&&module.exports){var merge=require('utils/merge');Collection=require('utils/collection');var uuid=require('uuid');module.exports=StoragePlugin}else'function'===typeof define&&define.amd&&define('gina/storage',['helpers/dateFormat','helpers/prototypes'],function(){return StoragePlugin});function insertAfter(E,Q){E.parentNode.insertBefore(Q,E.nextSibling)}
function getElementsByAttribute(E){for(var Q=[],da=0,Ga=document.getElementsByTagName('*'),L=0,V=Ga.length;L<V;++L)null!==Ga[L].getAttribute(E)&&(Q[da]=Ga[L],++da);return Q}
(function(E){var Q=E.prototype,da=Q.parseFromString;try{if((new E).parseFromString('','text/html'))return}catch(Ga){}Q.parseFromString=function(Ga,L){if(/^\s*text\/html\s*(?:;|$)/i.test(L)){var V=document.implementation.createHTMLDocument('');-1<Ga.toLowerCase().indexOf('<!doctype')?V.documentElement.innerHTML=Ga:V.body.innerHTML=Ga;return V}return da.apply(this,arguments)}})(DOMParser);define('utils/dom',function(){});
function ValidatorPlugin(E,Q,da){this.plugin='validator';var Ga='init ready registered success error progress submit reset change changed keydown keyup focusout focusin validate validated destroy asyncCompleted'.split(' '),L='undefined'!==typeof module&&module.exports?!1:!0,V=null;L?(require('utils/events'),registerEvents(this.plugin,Ga),require('utils/dom'),require('utils/effects'),V=gina.config.envIsDev):(V=/^true$/i.test(process.env.NODE_ENV_IS_DEV)?!0:!1)&&delete require.cache[require.resolve('./form-validator')];
var pa=L?require('vendor/uuid'):require('uuid'),U=L?require('utils/merge'):require('../../../../../lib/merge'),Y=L?require('utils/inherits'):require('../../../../../lib/inherits'),m=L?require('utils/form-validator'):require('./form-validator'),T=L?require('utils/routing'):require('../../../../../lib/routing'),x={id:'validator-'+pa.v4(),plugin:this.plugin,on:L?on:null,eventData:{},target:L?document:null,errors:{},initialized:!1,isReady:!1,rules:{},$forms:{},getFormById:null,validateFormById:null,setOptions:null,
resetErrorsDisplay:null,resetFields:null},ma={id:null,plugin:this.plugin,on:L?on:null,eventData:{},target:L?document:null,cachedErrors:{},binded:!1,unbinded:!1,withUserBindings:!1,rules:{},setOptions:null,send:null,isValidating:null,isSubmitting:null,submit:null,destroy:null,resetErrorsDisplay:null,resetFields:null},Da={},R={},J=null,w={url:'',method:'GET',isSynchrone:!1,withCredentials:!1,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}},
q=function(e,b,h){h='undefined'!=typeof h?{id:h}:null;var n={},v;for(v in b)n[v]=b[v];if('undefined'!=typeof e&&0<e.count()){try{Sa(e,''),Aa(e)}catch(p){throw p;}return M(h,n,null,x.rules)}return new m(n)},r=function(e){w=e=U(e,w)},H=function(e){var b=null;if(!x.$forms)throw Error('`$forms` collection not found');if('undefined'==typeof e)throw Error('[ FormValidator::getFormById(formId) ] `formId` is missing');e=e.replace(/#/,'');if(null!=document.getElementById(e)&&'undefined'==typeof x.$forms[e]){var h=
document.getElementById(e),n,v=typeof(0<Da.count())?Da:x.rules;h.getAttribute?(id=h.getAttribute('id')||'form.'+pa.v4(),id!==h.getAttribute('id')&&h.setAttribute('id',id)):(id='form.'+pa.v4(),h.setAttribute('id',id));h.id=ma.id=id;if('undefined'!=typeof h.id&&'null'!=h.id&&''!=h.id){ma.target=h;x.$forms[h.id]=U({},ma);if(n=h.getAttribute('data-gina-form-rule')){n=n.replace(/\-|\//g,'.');if('undefined'==typeof v[n])throw Error('['+h.id+'] no rule found with key: `null`');n=v[n]}'string'==typeof h.id&&
'undefined'!=typeof v[h.id.replace(/\-/g,'.')]?$target=x.$forms[h.id].target:'object'==typeof h.id?(delete x.$forms[h.id],v=h.attributes.getNamedItem('id').nodeValue||'form.'+pa.v4(),h.setAttribute('id',v),h.id=v,ma.target=h,x.$forms[v]=U({},ma),$target=x.$forms[v].target):$target=x.$forms[h.id].target;n?Gb($target,n):Gb($target)}}'undefined'!=typeof x.$forms[e]&&(x.$forms[e].withUserBindings=!0,b='undefined'!=typeof this.$forms&&'undefined'==typeof this.$forms[e]?this.$forms[e]=x.$forms[e]:x.$forms[e]);
if(!b)throw Error('Validator::getFormById(...) exception: could not retrieve form `'+e+'`');b.binded||(Gb(b.target),b=x.$forms[e]);V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),h={id:e,rules:x.$forms[e].rules},'undefined'!=typeof x.$forms[e].errors&&(h.errors=x.$forms[e].errors),window.ginaToolbar.update('forms',h));return b},I=function(){var e=!1,b=null;gina.hasPopinHandler&&gina.popinIsBinded&&(b=gina.popin.getActivePopin());b&&b.isOpen&&
(e=!0);return e},A=function(e,b){var h=typeof(0<Da.count())?Da:x.rules;if(!x.$forms)throw Error('`$forms` collection not found');if('undefined'!=typeof e&&'undefined'!=typeof x.$forms[e])return x.$forms[e];if('undefined'==typeof e)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)e=this.id;else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `formId` is missing');if('string'==typeof e)e=e.replace(/#/,'');else{if('object'!=typeof e||Array.isArray(e))throw Error('[ FormValidator::validateFormById(formId[, customRule]) ] `formId` should be a `string`');
var n=e.form;e=n.getAttribute('id')||'form.'+pa.v4();n.setAttribute('id',e)}var v=document.getElementsByTagName('form');for(var p={},B=0,W=v.length;B<W;++B)n=v[B].getAttribute('id')||null,'undefined'==typeof p[n]?p[n]=!0:'undefined'==typeof x.$forms[n]||x.$forms[n].warned||(gina.popinIsBinded?console.warn('Popin/Validator::bindForm($target, customRule): `'+n+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.\n Check inside your popin content'):console.warn('Validator::bindForm($target, customRule): `'+
n+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.'),x.$forms[n].warned=!0);if('undefined'!=typeof this.$forms&&'undefined'!=typeof x.$forms[e])v=this.$forms[e]=x.$forms[e];else{n=document.getElementById(e);ma.id=e;ma.target=n;v=this.$forms[e]=x.$forms[e]=U({},ma);if('undefined'==typeof b)if(p=e.replace(/\-/g,'.'),'undefined'!=typeof h)v.rule=Na(p);else{if('undefined'!=typeof v.target&&null!==v.target&&v.target.getAttribute('data-gina-form-rule'))if(p=v.target.getAttribute('data-gina-form-rule').replace(/\-|\//g,
'.'),'undefined'!=typeof h)v.rule=Na(p);else throw Error('[ FormValidator::validateFormById(formId) ] using `data-gina-form-rule` on form `'+v.target+'`: no matching rule found');}else if(p=b.replace(/\-|\//g,'.'),'undefined'!=typeof h)v.rule=Na(p);else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+b+'` is not a valid rule');n&&'undefined'!=typeof this.isPopinContext&&/true/i.test(this.isPopinContext)&&(n.isPopinContext=this.isPopinContext);n&&!v.binded&&Gb(n,p)}if(!v)throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+
e+'` not found');return v||null},y=function(e){var b=e.form.getAttribute('id');if(!/^true$/i.test(x.$forms[b].isValidating)){var h=e.parentNode;e=!1;b=h.getElementsByTagName('div');/form\-item\-warning/.test(h.className)?h.className=h.className.replace(/form\-item\-warning/,'form-item-error'):/form\-item\-error/.test(h.className)&&(h.className=h.className.replace(/form\-item\-error/,'form-item-warning'),e=!0);h=0;for(var n=b.length;h<n;++h)if(/form\-item\-error\-message/.test(b[h].className)){b[h].className=
e?b[h].className+' hidden':b[h].className.replace(/(\s+hidden|hidden)/,'');break}}},C={},F=function(e,b,h,n){if(V)var v=null;var p=!1;if('undefined'!=typeof e.dataset.ginaFormIsResetting&&/^(true)$/i.test(e.dataset.ginaFormIsResetting))b={},C={},e.dataset.ginaFormIsResetting=!1;else if(/^(true)$/i.test(e.dataset.ginaFormLiveCheckEnabled)&&'undefined'!=typeof n){var B='string'!=typeof e.id?e.getAttribute('id'):e.id;'undefined'==typeof C[B]&&(C[B]={});if(0<b.count()){if(C[B][n]={},C[B][n]=U(b[n],C[B][n]),
0==C[B][n].count()&&delete C[B][n],b=C[B],!x.$forms[B].sent||x.$forms[B].isValidating)p=!0}else'undefined'!=typeof C[B][n]&&(delete C[B][n],'undefined'!=typeof window.gina.validator.$forms[B].errors&&'undefined'!=typeof window.gina.validator.$forms[B].errors[n]&&delete window.gina.validator.$forms[B].errors[n]),'undefined'!=typeof x.$forms&&'undefined'!=typeof x.$forms[B]&&'undefined'!=typeof x.$forms[B].errors&&0==x.$forms[B].errors.count()&&Yb(e,!0),'undefined'!=typeof C[B]&&0==C[B].count()?delete C[B]:
b=C[B]}var W=null;B=e.getAttribute('id');h='undefined'!=typeof h?h:{};for(var N=0,ba=e.length;N<ba;++N){var P=e[N];if('undefined'==typeof n||n==P.name){if(/form\-item\-wrapper$/.test(P.parentNode.className)){var u=P.parentNode.parentNode;var fa=P.parentNode}else u=P.parentNode,fa=P;var ra=P.getAttribute('name');var ka=P.getAttribute('data-gina-form-errors');if(ra){if('undefined'!=typeof b[ra]&&!/(form\-item\-error|form\-item\-warning)/.test(u.className)){u.className=p?u.className+(''==u.className?
'form-item-warning':' form-item-warning'):u.className+(''==u.className?'form-item-error':' form-item-error');W=document.createElement('div');W.className=p?'form-item-error-message hidden':'form-item-error-message';for(var ia in b[ra])'stack'!=ia&&(u=document.createElement('p'),u.appendChild(document.createTextNode(b[ra][ia])),W.appendChild(u)),V&&(v||={},v[ra]||(v[ra]={}),v[ra][ia]=b[ra][ia]);'hidden'!=fa.type&&insertAfter(fa,W)}else if('undefined'==typeof b[ra]&&/(form\-item\-error|form\-item\-warning)/.test(u.className)||
'undefined'!=typeof b[ra]&&0==b[ra].count()&&/(form\-item\-error|form\-item\-warning)/.test(u.className)){ra=u.getElementsByTagName('div');fa=0;for(ka=ra.length;fa<ka;++fa)if(/form\-item\-error\-message/.test(ra[fa].className)){ra[fa].parentElement.removeChild(ra[fa]);break}u.className=u.className.replace(/(\s+form\-item\-error|form\-item\-error|\s+form\-item\-warning|form\-item\-warning)/,'')}else if('undefined'!=typeof b[ra]&&ka){u=u.getElementsByTagName('div');ka=0;for(var za=u.length;ka<za;++ka)if('form-item-error-message'==
u[ka].className){u[ka].parentElement.removeChild(u[ka]);W=document.createElement('div');W.setAttribute('class','form-item-error-message');for(ia in b[ra])u=document.createElement('p'),u.appendChild(document.createTextNode(b[ra][ia])),W.appendChild(u),V&&(v||={},v[ra]||(v[ra]={}),v[ra][ia]=b[ra][ia]);break}W&&'hidden'!=fa.type&&insertAfter(fa,W)}if('undefined'!=typeof n&&n===P.name)break}}}v?(triggerEvent(gina,e,'error.'+B,b),V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||
(gina.forms.errors={}),e={id:B,errors:v},window.ginaToolbar.update('forms',e))):V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),e={id:B,errors:{}},L&&window.ginaToolbar.update('forms',e));if(gina&&L&&V&&x.$forms[B].isSubmitting&&/^true$/i.test(x.$forms[B].isSubmitting)&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&h)try{window.ginaToolbar.update('data-xhr',h)}catch(xa){throw xa;}},O=function(e){var b=null;'undefined'==typeof e&&
'undefined'!=typeof this.id&&(e=this.id);/^string$/i.test(typeof e)?(b=e.replace(/#/,''),b=document.getElementById(b)):e instanceof HTMLFormElement?b=e:/^object$/i.test(typeof e)&&(b=e.target);if(!b)throw Error('[ FormValidator::resetErrorsDisplay([ formId | <form> ]) ] `'+e+'` not found');b.dataset.ginaFormIsResetting=!0;F(b,{});return b},z=function(e){if('undefined'==typeof e){var b='undefined'!=typeof this.target?this.target.getAttribute('id'):this.getAttribute('id');e=x.$forms[b]}else if('string'==
typeof e){b=e.replace(/#/,'');if('undefined'==typeof x.$forms[b])throw Error('[ FormValidator::resetErrorsDisplay([formId]) ] `'+e+'` not found');e=x.$forms[b]}if(e.fieldsSet){var h;for(h in e.fieldsSet){b=document.getElementById(h);var n=b.tagName.toLowerCase();var v=b.tagName;/textarea/i.test(v)?(v=e.fieldsSet[h].defaultValue,b.value=v,triggerEvent(gina,b,'change')):'input'==n?(v=e.fieldsSet[h].defaultValue,/$(on|true|false)$/i.test(v)&&(v=/$(on|true)$/i.test(v)?!0:!1),/^(checkbox|radio)$/i.test(b.type)?
b.checked=e.fieldsSet[h].defaultChecked:/^(checkbox|radio)$/i.test(b.type)||(b.value=v),triggerEvent(gina,b,'change')):'select'==n&&(v=e.fieldsSet[h].selectedIndex||0,b.selectedIndex=v,b.dataset.value=b.options[b.selectedIndex].value,triggerEvent(gina,b,'change'))}}return e},S=function(){var e=null,b=null;'undefined'!=typeof this.getAttribute?(e=this.getAttribute('id'),b=this):'undefined'!=typeof this.target&&null!=this.target&&'undefined'!=typeof this.target.getAttribute&&(e=this.target.getAttribute('id'),
b=this.target);if('undefined'==typeof x.$forms[e])throw Error('[ FormValidator::submit() ] not `$form` binded. Use `FormValidator::getFormById(id)` or `FormValidator::validateFormById(id)` first ');triggerEvent(gina,b,'submit');return this},X=function(e,b){var h=this.target,n=h.getAttribute('id'),v=x.$forms[n]||this,p=null,B=null,W=null,N=null;if(!('undefined'!=typeof v.isSending&&/^true$/i.test(v.isSending)||'undefined'!=typeof v.sent&&/^true$/i.test(v.sent))){x.$forms[n].isSending=!0;b='undefined'!=
typeof b?U(b,w):w;'undefined'!=typeof v.id&&(b.headers['X-Gina-Form-Id']=v.id,'undefined'!=typeof gina.forms.rules&&0<v.rules.count()&&'undefined'!=typeof v.rules[v.id]&&(b.headers['X-Gina-Form-Rule']=v.id+'@'+gina.config.bundle));'undefined'!=typeof v.target.dataset.ginaFormRule&&(b.headers['X-Gina-Form-Rule']=v.target.dataset.ginaFormRule+'@'+gina.config.bundle);(N=h.getAttribute('data-gina-form-event-on-submit-success')||h.getAttribute('data-gina-form-event-on-submit-error')?!0:!1)&&Fa(v);var ba=
h.getAttribute('action')||b.url,P=h.getAttribute('method')||b.method;P=P.toUpperCase();b.method=P;b.url=ba;J||=setupXhr(b);ba=h.getAttribute('enctype')||b.headers['Content-Type'];if(b.withCredentials){if('withCredentials'in J)b.isSynchrone?J.open(b.method,b.url,b.isSynchrone):J.open(b.method,b.url);else if('undefined'!=typeof XDomainRequest)J=new XDomainRequest,J.open(b.method,b.url);else{J=null;p='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,
h,'error.'+n,p);return}J.responseType='undefined'!=typeof b.responseType?b.responseType:'';J.withCredentials=!0}else b.isSynchrone?J.open(b.method,b.url,b.isSynchrone):J.open(b.method,b.url);for(var u in b.headers)'Content-Type'==u&&'undefined'!=typeof ba&&null!=ba&&''!=ba||J.setRequestHeader(u,b.headers[u]);if(J){J.onreadystatechange=function(xa){v.isSubmitting=!1;v.isSending=!1;setTimeout(function(){v.sent=!1},1E3);xa=/Google Inc/i.test(navigator.vendor)?50:0;2==J.readyState&&(W=/^attachment;/.test(J.getResponseHeader('Content-Disposition'))?
!0:!1,!J.responseType&&W&&(J.responseType='blob'));if(4==J.readyState){var Ya=null,Ta=J.getResponseHeader('Content-Type');if(/^2/.test(J.status)){try{if(/blob/.test(J.responseType)||W){if('undefined'==typeof Ta||null==Ta)Ta='application/octet-stream';Ya=new Blob([this.response],{type:Ta});var ob=document.createElement('a');ob.style='display: none';document.body.appendChild(ob);var wb=window.URL.createObjectURL(Ya);ob.href=wb;var Kb=J.getResponseHeader('Content-Disposition');ob.download=Kb.match('=(.*)')[0].substr(1);
ob.click();window.URL.revokeObjectURL(wb);p={status:J.status,statusText:J.statusText,responseType:Ya.type,type:Ya.type,size:Ya.size}}else p=J.responseText;/\/json/.test(Ta)&&(p=JSON.parse(J.responseText),'undefined'==typeof p.status&&(p.status=J.status));if(/\/html/.test(Ta)&&(p={contentType:Ta,content:J.responseText},'undefined'==typeof p.status&&(p.status=J.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler)){var eb=gina.popin.getActivePopin();if(eb){B={};try{B=(new DOMParser).parseFromString(p.content,
'text/html').getElementById('gina-without-layout-xhr-data'),B=JSON.parse(decodeURIComponent(B.value)),XHRView=(new DOMParser).parseFromString(p.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&V&&typeof window.ginaToolbar&&'undefined'!=typeof B&&window.ginaToolbar.update('data-xhr',B),gina&&V&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(Z){throw Z;}eb.loadContent(p.content);
p=B;triggerEvent(gina,h,'success.'+n,p);return}}B=v.eventData.success=p;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&B)try{V&&'undefined'!=typeof B&&/\/html|\/json/.test(Ta)&&window.ginaToolbar.update('data-xhr',B)}catch(Z){throw Z;}/^gina\-upload/i.test(n)&&va(gina,h,'success',n,p);var yb=!1;'undefined'!=typeof p.isXhrRedirect&&/^true$/i.test(p.isXhrRedirect)&&(yb=!0);if('undefined'!=typeof gina.popin&&gina.hasPopinHandler&&'undefined'!=typeof p.popin||'undefined'!=typeof gina.popin&&
gina.hasPopinHandler&&'undefined'!=typeof p.location&&yb){eb=gina.popin.getActivePopin();if(!eb&&'undefined'!=typeof p.popin){if('undefined'!=typeof p.popin&&'undefined'==typeof p.popin.name)throw Error('To get a `$popin` instance, you need at list a `popin.name`.');eb=gina.popin.getPopinByName(p.popin.name);if(!eb)throw Error('Popin with name: `'+p.popin.name+'` not found.');}if('undefined'!=typeof p.popin&&'undefined'!=typeof p.popin.close){eb.isRedirecting=!1;eb.close();var Vb=p.popin.reload?p.popin.reload:
!1;p.popin.location||p.popin.url||(delete p.popin,Vb&&(p.popin={reload:Vb}))}if('undefined'!=typeof p.popin&&'undefined'!=typeof p.popin.location||'undefined'!=typeof p.popin&&'undefined'!=typeof p.popin.url||'undefined'!=typeof p.location&&yb){yb=null;eb&&(yb=eb.name,eb.isRedirecting=!0);'undefined'!=typeof p.popin&&'undefined'!=typeof p.popin.target&&(p.popin.target='_'+p.popin.target);var Wa=p.location||p.popin.location||p.popin.url;if('undefined'!=typeof p.popin&&'undefined'!=typeof p.popin.name&&
yb!=p.popin.name){eb&&eb.close();yb=p.popin.name;eb=gina.popin.getPopinByName(yb);if(!eb)throw Error('Popin with name `'+yb+'` not found !');eb.load(eb.name,Wa,eb.options)}else eb&&eb.load(eb.name,Wa,eb.options);if(eb)return setTimeout(function(Z){Z.isOpen||Z.open()},50,eb)}}triggerEvent(gina,h,'success.'+n,p);N&&triggerEvent(gina,h,'success.'+n+'.hform',p)}catch(Z){p={status:422,error:Z.message,stack:Z.stack};B=v.eventData.error=p;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&
B)try{V&&'undefined'!=typeof B&&window.ginaToolbar.update('data-xhr',B)}catch(ha){throw ha;}/^gina\-upload/i.test(n)&&va(gina,h,'error',n,p);triggerEvent(gina,h,'error.'+n,p);N&&triggerEvent(gina,h,'error.'+n+'.hform',p)}if('undefined'!=typeof p&&'undefined'!=typeof p.location)return window.location.hash='',p.location=/^http/.test(p.location)||/^\//.test(p.location)?p.location:location.protocol+'//'+p.location,setTimeout(()=>{window.location.href=p.location},xa)}else if(0!=J.status)if(p={status:J.status},
/blob/.test(J.responseType)){Ya=new Blob([this.response],{type:'text/plain'});var fb=new FileReader,ea='';fb.addEventListener('loadend',Z=>{/string/i.test(typeof Z.srcElement.result)?ea+=Z.srcElement.result:'object'==typeof Z.srcElement.result?p=U(p,Z.srcElement.result):p.message+=Z.srcElement.result;if(/2/.test(fb.readyState)){if(/^(\{|\[)/.test(ea))try{p=U(p,JSON.parse(ea))}catch(ha){p=U(p,ha)}p.message||delete p.message;B=v.eventData.error=p;if(gina&&V&&'undefined'!=typeof window.ginaToolbar&&
window.ginaToolbar&&B)try{window.ginaToolbar.update('data-xhr',B)}catch(ha){throw ha;}/^gina\-upload/i.test(n)&&va(gina,h,'error',n,p);triggerEvent(gina,h,'error.'+n,p);N&&triggerEvent(gina,h,'error.'+n+'.hform',p)}});fb.readAsText(Ya)}else{if(/^(\{|\[)/.test(J.responseText))try{p=U(JSON.parse(J.responseText),p)}catch(Z){p=U(Z,p)}else'object'==typeof J.responseText?p=U(J.responseText,p):p.message=J.responseText;if('undefined'!=typeof p&&'undefined'!=typeof p.error&&p.fields&&'object'==typeof p.fields){eb=
'undefined'!=typeof p.message?p.message:null;Wa={};for(yb in p.fields)xa={},xa[yb]={},xa[yb].isApiError=p.fields[yb],eb&&!xa[yb].isApiError&&(xa[yb].isApiError=p.error),Wa[yb]=xa[yb],F(v.target,xa,e,yb);p.fields=Wa}B=v.eventData.error=p;if(gina&&V&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&B)try{window.ginaToolbar.update('data-xhr',B)}catch(Z){throw Z;}/^gina\-upload/i.test(n)&&va(gina,h,'error',n,p);triggerEvent(gina,h,'error.'+n,p);N&&triggerEvent(gina,h,'error.'+n+'.hform',p)}}};
J.onprogress=function(xa){var Ya='0';xa.lengthComputable&&(Ya=xa.loaded/xa.total,Ya=parseInt(100*Ya));xa={status:100,progress:Ya};v.eventData.onprogress=xa;triggerEvent(gina,h,'progress.'+n,xa)};J.ontimeout=function(xa){p={status:408,error:'Request Timeout'};v.eventData.ontimeout=p;/^gina\-upload/i.test(n)&&va(gina,h,'error',n,p);triggerEvent(gina,h,'error.'+n,p);N&&triggerEvent(gina,h,'error.'+n+'.hform',p)};e||(e=event.detail.data);if(e){b=!1;if('object'==typeof e){u=[];P=0;var fa={};try{if(e instanceof
FormData){var ra=event.currentTarget.getAttribute('data-gina-form-upload-group')||'untagged',ka,ia;for([ka,ia]of e.entries())ia instanceof File?(b||=!0,u[P]={key:ka,group:ra,file:ia,bin:''},++P):fa[ka]=ia}else e=JSON.stringify(e);if(b&&0<u.length){var za='--ginaWKBoundary'+pa.v4().replace(/\-/g,'');return Ca(u,za,'',0,function(xa,Ya,Ta){if(xa)/^gina\-upload/i.test(n)&&va(gina,h,'error',n,xa),triggerEvent(gina,h,'error.'+n,xa),N&&triggerEvent(gina,h,'error.'+n+'.hform',xa);else return Ta&&(J.setRequestHeader('Content-Type',
'multipart/form-data; boundary='+za),J.send(Ya),v.sent=!0,V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),window.ginaToolbar.update('forms',{id:n,sent:Ya}))),!1})}'undefined'!=typeof fa&&0<fa.count()&&(e=JSON.stringify(fa))}catch(xa){/^gina\-upload/i.test(n)&&va(gina,h,'error',n,xa),triggerEvent(gina,h,'error.'+n,xa),N&&triggerEvent(gina,h,'error.'+n+'.hform',xa)}}b||('undefined'!=typeof ba&&null!=ba&&''!=ba&&J.setRequestHeader('Content-Type',
ba),J.send(e))}else'undefined'!=typeof ba&&null!=ba&&''!=ba&&J.setRequestHeader('Content-Type',ba),J.send();v.sent=!0;V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),ra={id:n,sent:'string'==typeof e?JSON.parse(e):e},window.ginaToolbar.update('forms',ra))}}},va=function(e,b,h,n,v){e=b.uploadProperties||null;if(!e)throw Error('No uploadProperties found !!');b=document.getElementById(e.uploadTriggerId);n=null;var p=v.files||[],B=null;e.hasPreviewContainer&&
(n=document.getElementById(e.previewContainer.id))&&(n.innerHTML='');e.errorField&&(B=document.getElementById(e.errorField));B&&(B.style.display='none');if(B&&'success'!=h){var W=v.message||v.error;B.innerHTML='<p>'+W+'</p>';fadeIn(B)}else if(B||'success'==h)for(h=0,v=p.length;h<v;++h){var N=n.id.replace(/\-preview/,'-'+h+'-reset-trigger');W=!1;B=document.getElementById(N);var ba=['reset','js-upload-reset'];B?(/a/i.test(B.tagName)&&(B.href='#'),B.innerHTML&&''!=B.innerHTML||(B.innerHTML=b.getAttribute('data-gina-form-upload-reset-label')||
'Reset'),'undefined'==typeof B.className&&(B.className=''),N=U(B.className.split(/\s+/g),ba),B.className=N.join(' ')):(W=!0,B=document.createElement('A'),B.href='#',B.innerHTML=b.getAttribute('data-gina-form-upload-reset-label')||'Reset',B.className=ba.join(' '),B.id=N);B.style.display='none';if('undefined'==typeof p[h].preview&&e.hasPreviewContainer&&/^image/.test(p[h].mime)&&''!=p[h].location){N=document.createElement('IMG');N.src=p[h].tmpUri;N.style.display='none';N.setAttribute('data-upload-original-filename',
p[h].originalFilename);N.setAttribute('data-upload-reset-link-id',B.id);ba=n.getAttribute('data-preview-max-width')||null;if(N.width&&ba&&N.width>ba){var P=N.width/ba;N.width=ba;N.height/=P}else!N.width&&ba&&(N.width=ba);/ul/i.test(e.previewContainer.tagName)?(ba=document.createElement('LI'),ba.className='item',ba.appendChild(N),n.appendChild(ba)):n.appendChild(N);fadeIn(N)}N=e.uploadFields[h];for(var u in N)if('name'==u&&''!=N[u].value||!p[h][u]||'preview'==u&&'undefined'==typeof p[h][u]||/(height|width)/i.test(u)&&
!/^image/.test(p[h].mime))/(preview|height|width)/i.test(u)&&(ba=document.getElementById(N[u].id))&&ba.parentNode.removeChild(ba);else if(N[u].value=p[h][u],'preview'==u)for(var fa in p[h][u])if('undefined'!=typeof p[h][u][fa]&&'undefined'!=typeof N[u][fa]&&(N[u][fa].value=p[h][u][fa]),'tmpUri'==fa&&e.hasPreviewContainer){P=document.createElement('IMG');P.src=p[h][u].tmpUri;P.style.display='none';P.setAttribute('data-upload-original-filename',p[h].originalFilename);P.setAttribute('data-upload-preview-original-filename',
p[h][u].originalFilename);P.setAttribute('data-upload-reset-link-id',B.id);if(ba=n.getAttribute('data-preview-max-width')||null)P.width=ba;/ul/i.test(e.previewContainer.tagName)?(ba=document.createElement('LI'),ba.className='item',ba.appendChild(P),n.appendChild(ba)):n.appendChild(P);fadeIn(P)}e.hasPreviewContainer&&(/ul/i.test(e.previewContainer.tagName)?(ba=document.createElement('LI'),ba.className='item',W&&ba.appendChild(B),n.appendChild(ba)):W&&n.appendChild(B));Eb('reset',b,h);fadeIn(B)}else throw Error(W);
},na=function(e,b){console.debug(b+' input files');var h=/reset/i.test(b)?!0:!1,n=null,v=null,p=document.getElementById(e.id+'-preview').childNodes,B=null,W=e.customFiles,N=[];for(let ba=0,P=p.length;ba<P;ba++)if(/img/i.test(p[ba].tagName)){h?(n=p[ba].getAttribute('data-upload-original-filename'),N.push(n),(v=p[ba].getAttribute('data-upload-preview-original-filename'))&&N.push(v)):(n=p[ba].src.substr(p[ba].src.lastIndexOf('/')+1),N.push(n));for(let u=0,fa=W.length;u<fa;u++)if(W[u].name==n){B=h?document.getElementById(p[ba].getAttribute('data-upload-'+
b+'-link-id')):document.getElementById(W[u].deleteLinkId);B.style.display='none';p[ba].style.display='none';W.splice(u,1);e.customFiles=W;h&&(e.value=W.join(', C:\\fakepath\\'));n=new RegExp('^'+(e.name+'['+u+']').replace(/\-|\[|\]|\./g,'\\$&'));for(let ka=0,ia=e.form.length;ka<ia;ka++)if(v=e.form[ka].dataset.ginaFormUploadIsLocked||!1,n.test(e.form[ka].name)&&!/true/i.test(v)&&(e.form[ka].remove(),ia--,ka--,gina&&V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar))try{window.ginaToolbar.update('data-xhr',
{files:W})}catch(za){throw za;}v=e.getAttribute('data-gina-form-upload-'+b+'-action');if(!v||'undefined'==typeof v||''==v||/404/.test(v))throw Error('input file `'+e.id+'` error: `data-gina-form-upload-'+b+'-action` is required. You need to provide a valide url.');(n=e.getAttribute('data-gina-form-upload-'+b+'-method'))&&'undefined'!=typeof n&&''!=n?n=n.toUpperCase():h?n='POST':(n=1<N.length?'POST':'DELETE',console.warn('`data-gina-form-upload-'+b+'-method` was not defined. Switching to `'+n+'` by default.'));
let ra=e.getAttribute('data-gina-form-upload-'+b+'-is-synchrone');if(/null/i.test(ra)||'undefined'==typeof n||''==n)ra=!0;v=setupXhr({url:v,method:n,isSynchrone:ra,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}});/GET|DELETE/i.test(n)?v.send():v.send(JSON.stringify({files:N}));if(/none/i.test(window.getComputedStyle(e).display)){if(/none/i.test(e.parentElement.style.display)){e.parentElement.style.display='block';return}e.style.display=
'block'}removeListener(gina,$uploadResetTrigger,'click',function(){B.remove();p[ba].remove()});P--;ba--;break}}},Ca=function(e,b,h,n,v){var p=new FileReader;p.addEventListener('load',function(B){B.preventDefault();try{var W=this.result,N=void 0;B='';var ba=null;'undefined'==typeof N&&(N=8);var P=N/8;switch(N){case 8:ba=new Uint8Array(W);break;case 16:ba=new Uint16Array(W);break;case 32:ba=new Uint32Array(W);break;default:ba=new Uint8Array(W)}var u=ba.length,fa=Math.pow(2,8)+P;W=0;for(P=N=null;W<u;W+=
fa)N=Math.min(fa,u-W),P=ba.subarray(W,W+N),B+=String.fromCharCode.apply(null,P);e[this.index].bin+=B;e[this.index].file.type||(e[this.index].file.type='application/octet-stream')}catch(ra){return v(ra,null,!0)}h+='--'+b+'\r\n';h+='Content-Disposition: form-data; name="'+e[this.index].key+'"; group="'+e[this.index].group+'"; filename="'+e[this.index].file.name+'"\r\nContent-Type: '+e[this.index].file.type+'\r\nContent-Length: '+e[this.index].bin.length+'\r\n\r\n';h+=e[this.index].bin+'\r\n';++this.index;
this.index==e.length?(h+='--'+b+'--',v(!1,h,!0)):Ca(e,b,h,this.index,v)},!1);p.index=n;e[n].bin='';p.readAsArrayBuffer(e[n].file)},Fa=function(e){var b=e.target.getAttribute('data-gina-form-event-on-submit-success')||null;if(null!=b)if(/\((.*)\)/.test(b))eval(b);else e.on('success.hform',window[b]);b=e.target.getAttribute('data-gina-form-event-on-submit-error')||null;if(null!=b)if(/\((.*)\)/.test(b))eval(b);else e.on('error.hform',window[b])},Ba=function(e){var b=null,h=e;if(!x.$forms)throw Error('`$forms` collection not found');
if('undefined'==typeof h)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)h=this.id;else throw Error('[ FormValidator::destroy(formId) ] `formId` is missing');if('string'==typeof h)h=h.replace(/#/,'');else{if('object'!=typeof h||Array.isArray(h))throw Error('[ FormValidator::destroy(formId) ] `formId` should be a `string`');e=h.form;h=e.getAttribute('id')||'form.'+pa.v4();e.setAttribute('id',h)}'undefined'!=typeof x.$forms[h]?b=x.$forms[h]:'undefined'!=typeof this.binded&&(b=this);if(b)addListener(gina,
b.target,'destroy.'+h,function(n){cancelEvent(n);delete x.$forms[h];removeListener(gina,n.currentTarget,n.type);removeListener(gina,n.currentTarget,'destroy')}),b=Fb(b),triggerEvent(gina,b.target,'destroy.'+h);else throw Error('[ FormValidator::destroy(formId) ] `'+h+'` not found');},ua=function(e){e='undefined'!=typeof e?e:x.rules;for(let n in e){var b=Object.getOwnPropertyNames(e[n]),h=0;let v=b.length,p=!1,B=null;for(;h<v;){if(/^_case_/.test(b[h])){p=!0;B=b[h];break}h++}p||'object'!=typeof e[n]||
ua(e[n]);if(B&&Array.isArray(e[n][B].conditions)&&0<e[n][B].conditions.length)for(b=0,h=e[n][B].conditions.length;b<h;)'undefined'!=typeof e[n][B].conditions[b].rules&&0==e[n][B].conditions[b].rules.count()&&(e[n][B].conditions.splice(b,1),h--,b--),b++}},Aa=function(e){var b=JSON.stringify(e),h=b.match(/("@import\s+[-_a-z A-Z 0-9/.]+")/g)||[],n=[];for(let W=0,N=h.length;W<N;W++)0>n.indexOf(h[W])&&n.push(h[W]);h=n;n=b.match(/("_merging(.*))(\s+:|:)(.*)(",|")/g);x.rules||(x.rules={});if(h&&0<h.length){e=
{};for(let W=0,N=h.length;W<N;++W){var v=h[W].replace(/(@import\s+|"|')/g,'');var p=v.replace(/(@import\s+|"|')/g,'').split(/\s/g);for(let ba=0,P=p.length;ba<P;++ba){var B=p[ba].replace(/\//g,'.').replace(/\-/g,'.');'undefined'!=typeof x.rules[B]?(B=JSON.stringify(x.rules[B]),B=JSON.parse(B),B._comment='undefined'!=typeof B._comment?B._comment+'\n':'',B._comment+='Imported from `'+v+'`',B=JSON.stringify(B),b=b.replace(new RegExp(h[W],'g'),B),x.rules=JSON.parse(JSON.stringify(x.rules).replace(new RegExp(h[W],
'g'),'{}'))):console.warn('[formValidator:rules] <@import error> on `'+h[W]+'`: rule `'+p[ba]+'` not found. Ignoring.')}p=new RegExp(h[W]);if(v=n&&p.test(n.join())?!0:!1)for(let ba=0,P=n.length;ba<P;ba++)if(p.test(n[ba])){v=JSON.stringify(e);v=v.substr(1,v.length-1);ba<P-1&&(v+=',');try{b=b.replace(new RegExp(n[ba],'g'),v),x.rules=JSON.parse(JSON.stringify(x.rules).replace(new RegExp(n[ba],'g'),'{}'))}catch(u){throw u;}}e={}}e=JSON.parse(b);Sa(e,'');try{ua()}catch(W){console.error(W.stack)}}return e},
Ra=function(e){gina.hasValidator?(x=U(x,gina.validator),x.on('init',function(b){x.isReady=!0;triggerEvent(gina,x.target,'ready.'+x.id,x)})):(x.target=document,x.setOptions=r,x.getFormById=H,x.validateFormById=A,x.resetErrorsDisplay=O,x.resetFields=z,x.handleErrorsDisplay=F,x.send=X,x.on('init',function(b){if('undefined'!=typeof e&&e.count())try{Sa(e,''),e=Aa(e),gina.forms.rules='undefined'!=typeof gina.forms.rules&&gina.forms.rules?U(gina.forms.rules,e,!0):e,x.rules=U(x.rules,JSON.clone(gina.forms.rules),
!0)}catch(W){throw W;}Da.count()||(Da=JSON.clone(x.rules));ma.setOptions=r;ma.getFormById=H;ma.validateFormById=A;ma.resetErrorsDisplay=O;ma.resetFields=z;ma.handleErrorsDisplay=F;ma.submit=S;ma.send=X;ma.unbind=Fb;ma.bind=Gb;ma.reBind=xb;ma.destroy=Ba;b=0;for(var h=document.getElementsByTagName('form'),n=0,v=h.length;n<v;++n){if(h[n].getAttribute){var p=h[n].getAttribute('id')||'form.'+pa.v4();p!==h[n].getAttribute('id')&&h[n].setAttribute('id',p)}else p='form.'+pa.v4(),h[n].setAttribute('id',p);
ma.id=p;ma.target=h[n];x.$forms[p]=U({},ma);var B=h[n].getAttribute('data-gina-form-rule');if(B){B=B.replace(/\-|\//g,'.');'undefined'!=typeof e&&(x.$forms[p].rules[B]=x.rules[B]=Da[B]=U(JSON.clone(eval('gina.forms.rules.'+B)),x.rules[B]));if('undefined'==typeof Da[B])throw Error('['+p+'] no rule found with key: `'+B+'`. Please check if json is not malformed @ /forms/rules/'+B.replace(/\./g,'/')+'.json');B=x.rules[B]}'string'==typeof p&&'undefined'!=typeof Da[p.replace(/\-/g,'.')]||'object'==typeof B?
(p=x.$forms[p].target,B?Gb(p,B):Gb(p),++b):('object'==typeof h[n].id?(delete x.$forms[h[n].id],p=h[n].attributes.getNamedItem('id').nodeValue||'form.'+pa.v4(),h[n].setAttribute('id',p),h[n].id=p,ma.target=h[n],x.$forms[p]=U({},ma),p=x.$forms[p].target):p=x.$forms[h[n].id].target,B?Gb(p,B):Gb(p))}if(window.XMLHttpRequest)J=new XMLHttpRequest;else if(window.ActiveXObject)try{J=new ActiveXObject('Msxml2.XMLHTTP')}catch(W){try{J=new ActiveXObject('Microsoft.XMLHTTP')}catch(N){}}x.isReady=!0;gina.hasValidator=
!0;gina.validator=x;triggerEvent(gina,x.target,'ready.'+x.id,x)}));x.initialized=!0;return x},Sa=function(e,b){var h;for(h in e)if('object'==typeof e[h]&&'undefined'==typeof x.rules[b+h]){var n=h;/\[|\]/.test(h)&&(n=h.replace(/\[/g,'.').replace(/\]/g,''));x.rules[b+n]=e[h];Sa(e[h],b+n+'.')}},Na=function(e){if('undefined'!=typeof Da[e])return Da[e];var b=null;if('undefined'==typeof x.rules[e]){if(Sa(Da,''),Da=Aa(Da),b=Da[e],!b)return{}}else b=x.rules[e];b=JSON.clone(b);var h=new RegExp('^'+e),n=new RegExp('^'+
e+'.'),v=null,p=function(W,N,ba,P,u,fa,ra){if(N.length){var ka=Object.getOwnPropertyNames(W)[0],ia=N[0];ia=''==u?u+=ia:u+'['+ia+']';1==N.length&&(W[ka]=U(W[ka],ba,!0));N.splice(0,1);ia==ka?p(W[ka],N,ba,P,ia,fa,ra):'undefined'!=typeof W[ka]?p(W[ka],N,ba,P,ia,fa,ra):p(W,N,ba,P,u,fa,ra)}},B;for(B in x.rules)B!=e&&h.test(B)&&(v=B.replace(n,''),/\./.test(v)&&(v=v.split(/\./g),p(b,v,x.rules[B],b,'',0,b.count()-1)));return Da[e]=b},zb=function(e,b,h,n,v,p,B){var W=window.gina._global;W.register({root:e||
null,obj:h||null,value:p||null,rootObj:B||null});if(v==n)return eval(root+'=value'),b=JSON.clone(rootObj),W.unregister(['root','obj','rootObj','value','valueType']),b;e=b[v].replace(/^\[|\]$/g,'');'undefined'!=typeof rootObj&&rootObj?root+=/^\d+$/.test(e)?'['+e+']':'["'+e+'"]':(rootObj={},root='rootObj',root+=/^\d+$/.test(e)?'['+e+']':'["'+e+'"]',eval(root+'=obj'));p=(h='undefined'!=typeof b[v+1]?b[v+1].replace(/^\[|\]$/g,''):null)&&parseInt(h)==h?[]:{};W.register({valueType:p});h&&eval(root+' = valueType');
if('undefined'==typeof obj[e])return/^\d+$/.test(h)?obj[e]=[]:obj[e]={},++v,zb(root,b,obj[e],n,v,value,rootObj);++v;return zb(root,b,obj[e],n,v,value,rootObj)},Ia=function(e,b,h,n,v){if(v>=n)return!1;var p=h[v].replace(/^\[|\]$/g,''),B=v<n-1&&'undefined'!=typeof h[v+1]?h[v+1].replace(/^\[|\]$/g,''):null;'undefined'==typeof e[p]&&(B&&/^\d+$/.test(B)?(parseInt(B),e[p]=[]):e[p]={});Array.isArray(e[p])?(B=zb(p,h,e[p],h.length,1,b,null),e[p]=U(e[p],B)):v==n-1&&(e[p]=b);Ia(e[p],b,h,n,v+1)},La=function(e){var b=
null,h={},n=null,v=function(W,N,ba,P,u){if(u==P)return W;var fa=N?Object.keys(ba)[u]:u;/\[(.*)\]/.test(fa)?(n=fa,b=fa.match(/(\[[-_\[a-z 0-9]*\]\]|\[[-_\[a-z 0-9]*\])/ig),fa=fa.match(/^[-_a-z 0-9]+\[{0}/ig),'undefined'==typeof W[fa]&&(W[fa]=Array.isArray(ba[n])?[]:{}),Ia(h,ba[n],b,b.length,0),W[fa]=U(W[fa],h),h={}):W[fa]=ba[fa];++u;return v(W,N,ba,P,u)},p='undefined'==typeof e?0:1,B=!1;Array.isArray(e)?p=e.length:'object'==typeof e&&(p=e.count(),B=!0);return v({},B,e,p,0)},Za=function(e){var b=x.$forms[e.form.getAttribute('id')],
h=/^true$/i.test(e.disabled)?!0:!1;h&&'undefined'!=typeof b.rule&&'undefined'!=typeof b.rule[e.name]&&'undefined'!=typeof b.rule[e.name].exclude&&/^false$/i.test(b.rule[e.name].exclude)&&(h=!1);if(/^(radio|text|hidden|password|number|date|email)$/i.test(e.type)&&!h){var n=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,'value'),v=n.set;n.set=function(p){Object.defineProperty(this,'value',{set:v});var B='change.'+this.id;p===this.value&&p===this.defaultValue||p===this.value||(this.value=
p,console.debug('Value set: '+p),'undefined'!=typeof gina.events[B]&&(console.debug('trigger event on: ',this.name,B),triggerEvent(gina,this,B,p)));Object.defineProperty(this,'value',n)};Object.defineProperty(e,'value',n)}},vb=function(e,b,h,n){'undefined'==typeof n&&(n=!1);var v=e.rules,p=x.$forms[b.form.getAttribute('id')],B=/^true$/i.test(b.disabled)?!0:!1;B&&'undefined'!=typeof p.rule&&'undefined'!=typeof p.rule[b.name]&&'undefined'!=typeof p.rule[b.name].exclude&&/^false$/i.test(p.rule[b.name].exclude)&&
(B=!1);if(/^(radio|checkbox|text|hidden|password|number|date|email)$/i.test(b.type)&&!B||n&&!B){n=b.name;p=v[n]||null;if(!p&&(Qa(v,b),'undefined'==typeof v[n]))return;if(e.target.dataset.ginaFormLiveCheckEnabled&&p&&(n=[],p=null,B=0,/^(radio|checkbox)$/i.test(b.type)?p=/^(radio|checkbox)$/i.test(b.type)?'changed.'+b.id:'change.'+b.id:(addEventListener(gina,b,'focusout.'+b.id,function(N){N.preventDefault();clearTimeout(h)}),p='change.'+b.id,'undefined'==typeof gina.events[p]&&(n[B]=p,++B),p='keyup.'+
b.id,'undefined'==typeof gina.events[p]&&(n[B]=p,++B),p='focusin.'+b.id,'undefined'==typeof gina.events[p]&&(n[B]=p,++B),p='focusout.'+b.id),'undefined'==typeof gina.events[p]&&(n[B]=p,++B),0<n.length)){var W=!1;addListener(gina,b,n,function(N){N.preventDefault();clearTimeout(h);if(!W&&/^changed\./i.test(N.type)||!W&&/^(radio|checkbox)$/i.test(N.target.type))W=!0;else if(W&&/^changed\./i.test(N.type)||W&&/^(radio|checkbox)$/i.test(N.target.type))return!1;if('undefined'!=typeof x.$forms[N.target.form.getAttribute('id')].isSubmitting&&
/true/i.test(x.$forms[N.target.form.getAttribute('id')].isSubmitting))return!1;var ba=function(){console.debug('processing: '+N.target.name+'/'+N.target.id);if(!/^(radio|checkbox)$/i.test(N.target.type)&&N.target.value===N.target.defaultValue&&''!=N.target.value){var P=x.$forms[N.target.form.getAttribute('id')].errors;if(P&&0!=P.count())F(N.target.form,P,null,N.target.name);else return F(N.target.form,{},null,N.target.name),cancelEvent(N)}P={};var u={};P[N.target.name]=N.target.value;u[N.target.name]=
N.target;x.$forms[N.target.form.getAttribute('id')].isValidating=!0;M(N.target,P,u,e.rules,function(fa){x.$forms[N.target.form.getAttribute('id')].isValidating=!1;fa.isValid()?F(N.target.form,{},fa.data,N.target.name):F(N.target.form,fa.error,fa.data,N.target.name);var ra=N.target.form,ka=fa=null,ia=null;ka=Zb(ra,v);fa=ka.fields;ka=ka.$fields;var za=ra.getAttribute('id');ia=x.$forms[za].rules;x.$forms[za].isValidating=!0;M(ra,fa,ka,ia,function(xa){x.$forms[za].isValidating=!1;console.debug('['+za+
'] onSilentGlobalLiveValidation: '+xa.isValid(),xa);var Ya=xa.isValid();V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:za,errors:xa.error||{}}));Yb(ra,Ya);W=!1})})};if(/^changed\./i.test(N.type)||/^change\./i.test(N.type)&&'radio'==N.target.type)return function(P,u){if(!(0<u))return++u,setTimeout(()=>{console.debug(' changed .... '+b.id);ba()},0)}(W,0);/^focusin\./i.test(N.type)?/\-error/.test(b.parentNode.className)&&
(console.debug('#1 you just focusin ....'+b.id,b.value),y(b)):/^focusout\./i.test(N.type)?/\-warning/.test(b.parentNode.className)&&(console.debug('#1 you just focusout ....'+b.id,b.value),y(b),F(b.form,x.$forms[b.form.getAttribute('id')].errors,null,b.name)):/^keyup\./i.test(N.type)?(b.ginaFormValidatorTestedValue=b.value,h=setTimeout(function(){-1<['91','17'].indexOf(''+N.keyCode)&&0==R.count()||(console.debug(' keyup ('+N.keyCode+') .... '+b.id,b.value,' VS ',b.ginaFormValidatorTestedValue+'(old)'),
ba())},1E3)):/^change\./i.test(N.type)&&!/^(checkbox)$/i.test(N.target.type)&&(console.debug(' change .... '+b.id),ba())})}}},cb=function(e,b){e.setSelectionRange?(e.focus(),e.setSelectionRange(b,b)):e.createTextRange&&(e=e.createTextRange(),e.collapse(!0),e.moveEnd('character',b),e.moveStart('character',b),e.select())},Xa=function(e,b){if(document.activeElement&&document.activeElement.form){e=Array.prototype.filter.call(document.activeElement.form.querySelectorAll('a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), select:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])'),
function(v){return 0<v.offsetWidth||0<v.offsetHeight||v===document.activeElement});var h=e.indexOf(document.activeElement);if(-1<h){var n=e[h+1];b&&(n=e[h-1]);(n||e[0]).focus()}}},Cb=function(e,b){e.setAttribute('readonly','readonly');addListener(gina,e,'focusout.'+e.id,function(h){h.preventDefault();clearTimeout(b);h=h.currentTarget;triggerEvent(gina,h,'change.'+h.id);h.setAttribute('readonly','readonly')});addListener(gina,e,'focusin.'+e.id,function(h){h.preventDefault();h.currentTarget.removeAttribute('readonly');
var n='keydown.'+h.currentTarget.id;'undefined'==typeof gina.events[n]&&addListener(gina,h.currentTarget,n,function(v){v.preventDefault();clearTimeout(b);var p=v.currentTarget,B=v.currentTarget.value,W=p.selectionStart,N=p.selectionEnd;p.removeAttribute('readonly');switch(v.keyCode){case 46:case 8:W!=N?(p.value=B.substr(0,W)+B.substr(N),0==W&&(p.value=B.substr(N))):p.value=0==W?B.substring(W+1):B.substr(0,W-1)+B.substr(N);v.currentTarget.setAttribute('readonly','readonly');setTimeout(()=>{p.removeAttribute('readonly');
setTimeout(()=>{W!=N?cb(p,W):0==W?cb(p,W):cb(p,W-1)},0)},0);break;case 9:R[16]&&R[9]?Xa(p,!0):Xa(p);break;case 13:case 16:break;case 37:console.debug('moving left ',W-1);cb(p,W-1);break;case 39:W+1<B.length+1&&cb(p,W+1);break;case 17:case 91:console.debug('CMD hit');v.preventDefault();break;case 67:if(R[67]&&R[91]||R[67]&&R[17]){p.setSelectionRange(W,N);document.execCommand('copy');break}case 86:if(R[86]&&R[91]||R[86]&&R[17]){W!=N&&(p.value=p.value.replace(B.substring(W,N),''));cb(p,W);document.execCommand('paste');
break}case 88:if(R[88]&&R[91]||R[88]&&R[17]){p.setSelectionRange(W,N);document.execCommand('cut');break}case 90:if(R[90]&&R[91]||R[90]&&R[17]){p.value=p.defaultValue;break}default:W!=N?(p.value=B.substr(0,W)+v.key,N-1<B.length&&(p.value+=B.substring(N))):p.value=0==W?v.key+B.substring(W):B.substr(0,W)+v.key+B.substr(N),v.currentTarget.setAttribute('readonly','readonly'),setTimeout(()=>{p.removeAttribute('readonly');setTimeout(()=>{cb(p,W+1)},0)},0)}})})},Db=function(e,b){if(/^(input|textarea)$/i.test(b.tagName)&&
'undefined'==typeof gina.events['registered.'+b.id]){/^file$/i.test(b.type)||Za(b);switch(b.tagName.toLowerCase()){case 'textarea':vb(e,b,null,!0);break;default:vb(e,b,null),e=b.getAttribute('autocomplete'),/safari/i.test(navigator.userAgent)&&e&&/^(off|false)/i.test(e)&&Cb(b,null)}gina.events['registered.'+b.id]=b.id}},Eb=function(e,b,h){var n=b.id+'-'+h+'-'+e+'-trigger',v=document.getElementById(n);v||(n=b.getAttribute('data-gina-form-upload--'+h+ +e+'-trigger'),v=document.getElementById(n));v&&
'undefined'==typeof v.isBinded||v&&'undefined'!=typeof v.isBinded&&!/true/i.test(v.isBinded)?(addListener(gina,v,'click',function(p){p.preventDefault();na(b,e)}),v.isBinded=!0):console.warn('[FormValidator::bindForm][upload]['+b.id+'] : did not find `upload '+e+' trigger`.\nPlease, make sure that your delete element ID is `'+n+'-'+e+'-trigger`, or add to your file input ('+b.id+') -> `data-gina-form-upload-'+e+'-trigger="your-custom-id"` definition.')},ub=function(e,b){var h=function(n,v,p){var B=
null;switch(v){case 'data-gina-form-upload-action':B='upload-to-tmp-xml';break;case 'data-gina-form-upload-reset-action':B='upload-delete-from-tmp-xml'}var W=n.getAttribute(v);if(!W||''==W){B||console.warn('`'+v+'` definition not found for `'+n.id+'`. Trying to get default route.');var N=null;try{B&&(W=T.getRoute(B))}catch(ba){N=ba}W?(console.info('Ignore previous warnings regarding upload. I have found a default `'+v+'` route: `'+B+'@'+W.bundle+'`'),n.setAttribute('data-gina-form-upload-action',
W.toUrl())):(n='`'+v+'` needs to be defined to proceed for your `input[type=file]` with ID `'+n.id+'`\n'+N+'\n',p&&(p.innerHTML+=n.replace(/(\n|\r)/g,'<br>')),console.error(n))}};h(e,'data-gina-form-upload-action',b);h(e,'data-gina-form-upload-reset-action',b);h(e,'data-gina-form-upload-delete-action',b)},xb=function(e,b,h){e=Fb(e);Gb(e.target,b);return h?h(e):e},Fb=function(e){var b=null,h=null;try{if(e.getAttribute&&e.getAttribute('id'))if(h=e.getAttribute('id'),'undefined'!=typeof x.$forms[h])b=
x.$forms[h];else throw Error('form instance `'+h+'` not found');else if('undefined'!=typeof e.target)b=e,h=b.id;else throw Error('Validator::unbindForm($target): `$target` must be a DOM element\n'+err.stack);}catch(B){throw Error('Validator::unbindForm($target) could not unbind form `'+e+'`\n'+B.stack);}if('undefined'!=typeof b&&!b.binded)return b;removeListener(gina,b,'success.'+h);removeListener(gina,b,'error.'+h);b.target.getAttribute('data-gina-form-event-on-submit-success')&&removeListener(gina,
b,'success.'+h+'.hform');b.target.getAttribute('data-gina-form-event-on-submit-error')&&removeListener(gina,b,'error.'+h+'.hform');removeListener(gina,b,'validate.'+h);removeListener(gina,b,'validated.'+h);removeListener(gina,b,'submit.'+h);removeListener(gina,b,'reset.'+h);e=[];h=b.target.getElementsByTagName('button');if(0<h.length)for(let B=0,W=h.length;B<W;++B)e.push(h[B]);h=b.target.getElementsByTagName('a');if(0<h.length)for(let B=0,W=h.length;B<W;++B)e.push(h[B]);h=b.target.getElementsByTagName('input');
if(0<h.length)for(let B=0,W=h.length;B<W;++B)if(/^(hidden)$/i.test(h[B].type)||e.push(h[B]),/^(file)$/i.test(h[B].type)){var n=h[B].getAttribute('data-gina-form-virtual');if(n){var v=H(n).target;if(v){e.push(v);for(let N=0,ba=Ga.length;N<ba;N++){var p=Ga[N];'undefined'!=typeof gina.events[p+'.'+n+'.hform']&&gina.events[p+'.'+n+'.hform']==n&&removeListener(gina,v,p+'.'+n+'.hform')}}}}else for(let N=0,ba=Ga.length;N<ba;N++)n=Ga[N]+'.'+h[B].id,'undefined'!=typeof gina.events[n]&&gina.events[n]==h[B].id&&
removeListener(gina,h[B],n),n=Ga[N],'undefined'!=typeof gina.events[n]&&gina.events[n]==h[B].id&&removeListener(gina,h[B],n),n=h[B].id,'undefined'!=typeof gina.events[n]&&gina.events[n]==h[B].id&&removeListener(gina,h[B],n);h=b.target.getElementsByTagName('textarea');if(0<h.length)for(let B=0,W=h.length;B<W;++B)e.push(h[B]);h=b.target.getElementsByTagName('form');if(0<h.length)for(let B=0,W=h.length;B<W;++B)e.push(h[B]);e.push(b.target);for(let B=0,W=e.length;B<W;++B){h=e[B];n=h.getAttribute('id');
for(let N=0,ba=Ga.length;N<ba;N++)p=v=Ga[N],'undefined'!=typeof gina.events[p]&&gina.events[p]==n&&removeListener(gina,h,p),p=n,'undefined'!=typeof gina.events[p]&&gina.events[p]==n&&removeListener(gina,h,p),p=v+'.'+n,'undefined'!=typeof gina.events[p]&&gina.events[p]==n&&removeListener(gina,h,p),p=v+'.'+n,'undefined'!=typeof gina.events[p]&&gina.events[p]==p&&removeListener(gina,h,p),p=v+'.'+n+'.hform','undefined'!=typeof gina.events[p]&&gina.events[p]==n&&removeListener(gina,h,p)}evt=null;b.binded=
!1;return b},Qa=function(e,b){b=b.name;if(!e[b])for(let h in e)if(/^\//.test(h)&&(re=h.match(/\/(.*)\//).pop(),flags=h.replace('/'+re+'/',''),re=re.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),re=new RegExp(re,flags),re.test(b))){e[b]=e[h];break}},Gb=function(e,b){var h=null,n=null,v=typeof(0<Da.count())?Da:x.rules;try{if(e.getAttribute&&e.getAttribute('id'))if(n=e.getAttribute('id'),'undefined'!=typeof x.$forms[n])h=x.$forms[n];else throw Error('form instance `'+n+'` not found');else throw Error('Validator::bindForm($target, customRule): `$target` must be a DOM element\n'+
err.stack);}catch(ea){throw Error('Validator::bindForm($target, customRule) could not bind form `'+e+'`\n'+ea.stack);}if('undefined'!=typeof h&&h.binded)return!1;console.debug('binding for: '+n);var p=!1,B=null,W='',N=null;'undefined'!=typeof b||'string'==typeof n&&'undefined'!=typeof v[n.replace(/\-|\//g,'.')]?(p=!0,B=b&&'object'==typeof b?b:b&&'string'==typeof b&&'undefined'!=typeof v[b.replace(/\-|\//g,'.')]?Na(b.replace(/\-|\//g,'.')):Na(n.replace(/\-|\//g,'.')),h.rules=B,V&&L&&'undefined'!=typeof window.ginaToolbar&&
window.ginaToolbar&&(gina.forms.rules||(gina.forms.rules={}),objCallback={id:n,rules:h.rules},window.ginaToolbar.update('forms',objCallback))):h.rules={};'undefined'==typeof h.target.dataset.ginaFormLiveCheckEnabled&&0<h.rules.count()?h.target.dataset.ginaFormLiveCheckEnabled=!0:h.target.dataset.ginaFormLiveCheckEnabled='undefined'!=typeof h.target.dataset.ginaFormLiveCheckEnabled?/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)?!0:!1:!1;h.fieldsSet||(h.fieldsSet={});N=null;e.getElementsByTagName('a');
b=e.getElementsByTagName('input');var ba=e.getElementsByTagName('textarea');N=e.getElementsByTagName('select');var P={},u=[],fa={},ra=null,ka={},ia=null,za=null;for(let ea=0,Z=ba.length;ea<Z;++ea)Qa(h.rules,ba[ea]),za=ba[ea].getAttribute('id'),za&&''!=za||(za='textareas.'+pa.v4(),ba[ea].setAttribute('id',za)),h.fieldsSet[za]||(h.fieldsSet[za]={id:za,name:ba[ea].name||null,value:ba[ea].value||'',defaultValue:ba[ea].value||''}),/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)&&Db(h,ba[ea]);
for(let ea=0,Z=b.length;ea<Z;++ea){Qa(h.rules,b[ea]);za=b[ea].getAttribute('id');za&&''!=za||(za='input.'+pa.v4(),b[ea].setAttribute('id',za));h.fieldsSet[za]||(ra=b[ea].value,/$(on|true|false)$/i.test(ra)&&(ra=/$(on|true)$/i.test(ra)?!0:!1),h.fieldsSet[za]={id:za,name:b[ea].name||null,value:ra||!/^(checkbox|radio)$/i.test(b[ea].type)?'':b[ea].checked,defaultValue:/^(checkbox|radio)$/i.test(b[ea].type)?b[ea].checked:ra},/^(checkbox|radio)$/i.test(b[ea].type)&&'undefined'==typeof h.fieldsSet[za].defaultChecked&&
(h.fieldsSet[za].defaultChecked=/^(true|on)$/i.test(b[ea].checked)||/^(true|on)$/.test(ra)&&/^(checkbox)$/i.test(b[ea].type)?!0:!1,/^radio$/i.test(b[ea].type)&&(h.fieldsSet[za].value=b[ea].value,h.fieldsSet[za].defaultValue=b[ea].value)));/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)&&Db(h,b[ea]);if(ra=b[ea].getAttribute('data-gina-form-element-group'))0>u.indexOf(ra)&&u.push(ra),ia=b[ea].getAttribute('name')||za,ia===za&&b[ea].setAttribute('name',za),P[za]={id:za,name:ia,group:ra,target:b[ea]},
fa[b[ea].name]=new RegExp('^'+ra.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')),p&&('undefined'==typeof h.rules[b[ea].name]&&(h.rules[b[ea].name]={}),'undefined'!=typeof h.rules[b[ea].name].isRequired&&h.rules[b[ea].name].isRequired||(h.rules[b[ea].name].exclude=!0));if(0<fa.count())for(var xa in fa)b[ea].name!=xa&&(b[ea].getAttribute('data-gina-form-element-group'),fa[xa].test(b[ea].name)&&(b[ea].disabled=!0,'undefined'==typeof ka[xa]&&(ka[xa]={}),ka[xa][b[ea].name]=b[ea]));if(/^file$/i.test(b[ea].type)){za=
b[ea].getAttribute('data-gina-form-upload-trigger');za||(za=b[ea].id);ra=null;ia=(new DOMParser).parseFromString(e.innerHTML,'text/html');za&&(ra=document.getElementById(za));ba=document.getElementById(b[ea].id+'-error');ub(b[ea],ba);if((ba=ia.getElementById(za+'-preview'))&&ra&&!/none/i.test(window.getComputedStyle(ba).display)&&!/none/i.test(ba.parentElement.style.display)){ia=0;console.debug('preview is visible ...');ra.customFiles=[];ra.form=e;ba=ba.childNodes;for(let ha=0,oa=ba.length;ha<oa;ha++){var Ya=
null;if(/ul/i.test(ba[ha].tagName))for(let Ma=0,$a=ba[ha].length;Ma<$a;Ma++){let db=$$els[ha];for(let Ka=0,sb=db.length;Ka<sb;Ka++)/img/i.test(db[Ka])&&(Ya=db[Ka],Ya.setAttribute(''),ia++)}else/img/i.test(ba[ha].tagName)&&(Ya=ba[ha],deleteLinkId=za+'-'+ia+'-delete-trigger',Ya=Ya.src.substr(Ya.src.lastIndexOf('/')+1),ra.customFiles.push({name:Ya,deleteLinkId}),Eb('delete',ra,ia),ia++)}}addListener(gina,b[ea],'change',function(ha){ha.preventDefault();var oa=ha.currentTarget;ha=oa.files;oa.customFiles=
Array.from(ha);if(!ha.length)return!1;var Ma=oa.getAttribute('data-gina-form-upload-action'),$a=oa.getAttribute('name'),db='gina-upload-'+$a.replace(/\[/g,'-').replace(/\]/g,'-'+h.id);oa.setAttribute('data-gina-form-virtual',db);var Ka=oa.getAttribute('data-gina-form-upload-on-success'),sb=oa.getAttribute('data-gina-form-upload-on-error'),hb=null;if(0<ha.length){var lb=null;if(I()){lb=gina.popin.getActivePopin();lb.$target=(new DOMParser).parseFromString(lb.target.outerHTML,'text/html');lb.$target.getElementById(lb.id).innerHTML=
document.getElementById(lb.id).innerHTML;var mb=lb.$target.getElementById(db)}else mb=document.getElementById(db);if(!mb){try{mb=H(db)||null}catch(Tc){}mb||=I()?lb.$target.createElement('form'):document.createElement('form');mb.id=db;mb.action=Ma;mb.enctype='multipart/form-data';mb.method='POST';if('undefined'!=typeof oa.form){Ma='files';var nb=oa.getAttribute('data-gina-form-upload-prefix')||oa.name||oa.getAttribute('name'),jb=oa.id||oa.getAttribute('id'),Pb=!1,Hb=oa.getAttribute('data-gina-form-upload-preview')||
jb+'-preview';Hb=I()?lb.$target.getElementById(Hb):document.getElementById(Hb);'undefined'!=typeof Hb&&(Pb=!0);nb&&(Ma=nb);nb=[];for(var Jb='name group originalFilename ext encoding size height width location mime preview'.split(' '),Mb=oa.form.getElementsByTagName('INPUT'),ac,Wb,Gc,qc,Ob=0,Nc=ha.length;Ob<Nc;++Ob){Eb('reset',oa,Ob);nb[Ob]=null;ac=Ma+'['+Ob+']';qc=new RegExp('^'+ac.replace(/\[/g,'\\[').replace(/\]/g,'\\]'));for(var wc=0,xc=Mb.length;wc<xc;++wc)ac=Mb[wc].getAttribute('type'),hb=Mb[wc].getAttribute('data-gina-form-upload-error')||
jb+'-error'||null,ac&&/hidden/i.test(ac)&&(Wb=Mb[wc],ac=/\[\w+\]$/i.test(Wb.name)?Wb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Wb.name,Gc=/\[\w+\]$/i.test(Wb.name)?Wb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Wb.name,Wb&&'undefiend'!=typeof ac&&-1<Jb.indexOf(ac)&&qc.test(Wb.name)?(nb[Ob]||(nb[Ob]={}),/\[preview\]/i.test(Wb.name)?('undefined'==typeof nb[Ob].preview&&(nb[Ob].preview={}),nb[Ob].preview[ac]=Wb):nb[Ob][ac]=Wb):Wb&&'undefiend'!=typeof ac&&0>Jb.indexOf(ac)&&qc.test(Wb.name)&&(nb[Ob]||
(nb[Ob]={}),/\[preview\]/i.test(Wb.name)?('undefined'==typeof nb[Ob].preview&&(nb[Ob].preview={}),nb[Ob].preview[Gc]=Wb):nb[Ob][Gc]=Wb));qc=0;for(wc=Jb.length;qc<wc;++qc)nb[Ob]||(nb[Ob]={}),'undefined'==typeof nb[Ob][Jb[qc]]&&(ac=Ma+'['+Ob+']['+Jb[qc]+']',$newVirtualField=document.createElement('input'),$newVirtualField.type='hidden',$newVirtualField.id='input.'+pa.v4(),$newVirtualField.name=ac,$newVirtualField.value='',oa.form.appendChild($newVirtualField),nb[Ob][Jb[qc]]=oa.form[oa.form.length-1])}mb.uploadProperties=
{id:oa.form.id||oa.getAttribute('id'),uploadTriggerId:oa.id,$form:oa.form,errorField:hb,mandatoryFields:Jb,uploadFields:nb,hasPreviewContainer:Pb,isPopinContext:I()};Pb&&(mb.uploadProperties.previewContainer=Hb)}Ka?mb.setAttribute('data-gina-form-event-on-submit-success',Ka):mb.setAttribute('data-gina-form-event-on-submit-success','onGenericXhrResponse');sb?mb.setAttribute('data-gina-form-event-on-submit-error',sb):mb.setAttribute('data-gina-form-event-on-submit-error','onGenericXhrResponse');I()?
document.getElementById(lb.id).appendChild(mb):document.body.appendChild(mb)}try{var sc=H(db),Sc=new FormData;oa=null;db=0;for(var Oc=ha.length;db<Oc;++db)oa=ha[db],Sc.append($a,oa,oa.name);sc.send(Sc,{withCredentials:!0})}catch(Tc){throw Tc;}}})}}var Ta=function(ea,Z){ea.setAttribute('data-value',ea.value);if(/^(true)$/i.test(Z.target.dataset.ginaFormLiveCheckEnabled&&0<Z.rules.count())){var ha={},oa={},Ma=null;Ma=ea.form;ha[event.target.name]=event.target.value;oa[event.target.name]=event.target;
x.$forms[Ma.getAttribute('id')].isValidating=!0;M(event.target,ha,oa,Z.rules,function($a){x.$forms[Ma.getAttribute('id')].isValidating=!1;$a.isValid()?F(Ma,{},$a.data,event.target.name):F(Ma,$a.error,$a.data,event.target.name);var db=Ma,Ka=$a=null,sb=null;Ka=Zb(db,v);$a=Ka.fields;Ka=Ka.$fields;var hb=db.getAttribute('id');sb=x.$forms[hb].rules;x.$forms[hb].isValidating=!0;M(db,$a,Ka,sb,function(lb){x.$forms[hb].isValidating=!1;console.debug('[updateSelect]: onSilentGlobalLiveValidation: '+lb.isValid(),
lb);lb=lb.isValid();Yb(db,lb);once=!1})})}};ra=ka=null;xa=0;for(fa=N.length;xa<fa;++xa)if(Qa(h.rules,N[xa]),za=N[xa].getAttribute('id'),!za||!/^gina\-toolbar/.test(za)){za&&''!=za||(za='select.'+pa.v4(),N[xa].setAttribute('id',za));if(ra=N[xa].getAttribute('data-gina-form-element-group'))ka=N[xa].getAttribute('name')||za,ka===za&&N[xa].setAttribute('name',za),P[za]={id:za,name:ka,group:ra,target:N[xa]};addListener(gina,N[xa],'change',function(ea){ea=ea.target;/select/i.test(ea.type)&&Ta(ea,h)});if(N[xa].options&&
!h.fieldsSet[za]){ka=0;if(ra=N[xa].getAttribute('data-value')||null)for(ia=0,ba=N[xa].options.length;ia<ba;++ia)if(N[xa].options[ia].value==ra){ka=ia;N[xa].selectedIndex=ka;break}'undefined'!=typeof N[xa].options[N[xa].selectedIndex]&&N[xa].options[N[xa].selectedIndex].index&&(ka=N[xa].options[N[xa].selectedIndex].index);h.fieldsSet[za]={id:za,name:N[xa].name||null,value:N[xa].options[ka].value||ra||null,selectedIndex:ka||0};'undefined'!=typeof N[xa].selectedIndex&&(N[xa].options[ka].selected=!0,
N[xa].setAttribute('data-value',N[xa].options[ka].value))}}var ob=function(ea,Z,ha,oa){'undefined'==typeof oa&&(oa=!1);if('undefined'==typeof P[ea])throw Error('Radio & Checkbox dependencies not met: you must use the ID attribue of the `master element` as the `data-gina-form-element-group`');var Ma=ea.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');ea=P[ea].target.checked;for(let Ka in P)if(!/radio|checkbox/i.test(P[Ka].target.type)){var $a=new RegExp(Ma);var db=new RegExp(Z);if($a.test(P[Ka].group)&&db.test(P[Ka].group)||
$a.test(P[Ka].group))P[Ka].target.disabled=!0,'undefined'==typeof h.rules[P[Ka].name]&&(h.rules[P[Ka].name]={}),h.rules[P[Ka].name].exclude=!0,oa?(P[Ka].target.disabled=ea?!1:!0,h.rules[P[Ka].name].exclude=ea?!1:!0):(P[Ka].target.disabled=ha,h.rules[P[Ka].name].exclude=ha)}},wb=function(ea,Z,ha,oa){'undefined'==typeof oa&&(oa=!1);if(oa&&'undefined'!=typeof P[Z.id])return ea=/true/i.test(Z.checked)?!1:!0,ob(Z.id,P[Z.id].group,ea,oa);ha=Z.name;p&&'undefined'==typeof ea.rules[ha]&&(ea.rules[ha]={});
/^true$/i.test(Z.checked)?p&&(ea.rules[ha].exclude=!1,'undefined'!=typeof P[Z.id]&&ob(Z.id,P[Z.id].group,!1,oa)):p&&(ea.rules[ha].exclude=!0,'undefined'!=typeof P[Z.id]&&ob(Z.id,P[Z.id].group,!0,oa))},Kb=function(ea,Z){'undefined'==typeof Z&&(Z=!1);var ha=function(Ka,sb,hb){if(sb)wb(h,Ka,sb);else for(let lb in P)if(db.test(P[lb].group)||db.test(P[lb].target.getAttribute('data-gina-form-element-group')))P[lb].target.disabled=hb};Z&&/^(on)$/i.test(ea.value)&&!ea.checked&&(ea.value=!1);var oa=ea.getAttribute('data-value')||
ea.getAttribute('value')||ea.value;oa=/^(true|on)$/.test(oa)?!0:oa;''===oa&&(oa=!1);var Ma=/^(true|on|false)$/i.test(oa)?!0:!1;Z&&Ma&&(/^true$/i.test(oa)&&!ea.checked?ea.checked=!0:/^false$/i.test(oa)&&ea.checked&&(ea.checked=!1));oa=ea.checked;var $a=ea.getAttribute('data-gina-form-element-group')||null,db=new RegExp(ea.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));oa&&'null'!=oa&&'false'!=oa&&''!=oa?(Z?eb(ea):(setTimeout(function(){ea.checked=!0;ha(ea,$a,!1);eb(ea)},0),ea.setAttribute('checked','checked')),
Ma&&(ea.value=!0,ea.setAttribute('value',!0),typeof('undefined'!=ea.getAttribute('data-value'))&&ea.setAttribute('data-value',!0))):(Z?eb(ea):setTimeout(function(){ea.checked=!1;ha(ea,$a,!0);eb(ea)},0),ea.removeAttribute('checked'),Ma&&(ea.value=!1,ea.setAttribute('value','false'),typeof('undefined'!=ea.getAttribute('data-value'))&&ea.setAttribute('data-value','false')))},eb=function(ea){ea=new RegExp(ea.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(let Z in P)(/checkbox/i.test(P[Z].target.type)&&
ea.test(P[Z].group)||/checkbox/i.test(P[Z].target.type)&&ea.test(P[Z].target.getAttribute('data-gina-form-element-group')))&&wb(h,P[Z].target,P[Z].group,!0)},yb=function(ea,Z){Z=ea.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');Z=new RegExp(Z);for(let ha in P)if(/checkbox|radio/i.test(P[ha].target.type)||(P[ha].target.disabled=!0,'undefined'==typeof h.rules[P[ha].name]&&(h.rules[P[ha].name]={}),h.rules[P[ha].name].exclude=!0),Z.test(P[ha].group)||Z.test(P[ha].target.getAttribute('data-gina-form-element-group').replace(/\-|_|@|#|\.|\[|\]/g,
'\\$&')))P[ha].target.disabled=!0,'undefined'==typeof h.rules[P[ha].name]&&(h.rules[P[ha].name]={}),/^(true|on)$/i.test(ea.checked)?(P[ha].target.disabled=!1,h.rules[P[ha].name].exclude=!1):(P[ha].target.disabled=!0,h.rules[P[ha].name].exclude=!0);eb(ea)},Vb=null,Wa=function(ea,Z,ha){Z='undefined'!=typeof Z&&Z?!0:!1;ha='undefined'!=typeof ha&&ha?!0:!1;var oa=ea.checked,Ma=/^(true|false)$/i.test(ea.value);Vb=document.getElementsByName(ea.name);for(let $a=0,db=Vb.length;$a<db;++$a)Vb[$a].id!==ea.id&&
oa&&(Vb[$a].checked=!1,Vb[$a].removeAttribute('checked'),yb(Vb[$a],!0));Z?yb(ea):(oa&&'null'!=oa&&'false'!=oa&&''!=oa?setTimeout(function(){ha?yb(ea):(ea.checked=!1,ea.removeAttribute('checked'))},0):setTimeout(function(){ha?yb(ea):(ea.checked=!0,ea.setAttribute('checked','checked'))},0),Ma&&(ea.value=/^true$/.test(ea.value)?!0:!1))};xa=0;for(fa=b.length;xa<fa;++xa){N=b[xa].getAttribute('type');if('undefined'==typeof b[xa].id||''==b[xa].id)b[xa].id=N+'-'+pa.v4(),b[xa].setAttribute('id',b[xa].id);
if('undefined'!=typeof N&&/^checkbox$/i.test(N)){if(b[xa].disabled&&-1<u.indexOf(b[xa].id)||!b[xa].checked&&-1<u.indexOf(b[xa].id)){N=new RegExp(b[xa].id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(var fb in P)N.test(P[fb].group)&&(P[fb].target.disabled=!0)}W='change.'+b[xa].id;N=function(ea,Z){addListener(gina,ea,Z,function(ha){Kb(ha.target);triggerEvent(gina,ha.target,'changed.'+ha.target.id)});Kb(ea,!0)};'undefined'!=typeof gina.events[W]&&gina.events[W]==b[xa].id&&removeListener(gina,b[xa],W);N(b[xa],
W)}else'undefined'!=typeof N&&/^radio$/i.test(N)&&(W=b[xa].id,N=function(ea,Z){addListener(gina,ea,Z,function(ha){Wa(ha.target);triggerEvent(gina,ha.target,'changed.'+ha.target.id)});Wa(ea,!0)},'undefined'!=typeof gina.events[W]&&gina.events[W]==b[xa].id&&removeListener(gina,b[xa],W),N(b[xa],W))}W='click';N=function(){var ea=null;ea='reset.'+e.id;'undefined'==typeof gina.events[ea]&&addListener(gina,e,ea,function(Z){Z.preventDefault();var ha=x.$forms[Z.currentTarget.id||Z.target.id];ha.target.dataset.ginaFormIsResetting=
!0;z(ha);Z=Zb(ha.target,ha.rules,!0);M(ha.target,Z.fields,Z.$fields,ha.rules,function(oa){var Ma=oa.isValid();console.debug('silent reset validation result[isValid:'+Ma+']: ',oa);F(ha.target,{});Yb(ha.target,Ma);ha.target.dataset.ginaFormIsResetting=!1})});addListener(gina,e,'reset',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;Z.preventDefault();var oa=ha.id;if(!oa)return!1;/^reset\./.test(oa)||(oa='reset.'+ha.id);gina.events[oa]&&triggerEvent(gina,
ha,oa,Z.detail)});addListener(gina,e,'keydown',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;R[Z.keyCode]='keydown'==Z.type;var oa=ha.id;if(!oa)return!1;/^keydown\./.test(oa)||(oa='keydown.'+ha.id);gina.events[oa]&&(cancelEvent(Z),triggerEvent(gina,ha,oa,Z.detail,Z))});addListener(gina,e,'keyup',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;R[Z.keyCode]&&delete R[Z.keyCode];var oa=ha.id;if(!oa)return!1;
/^keyup\./.test(oa)||(oa='keyup.'+ha.id);gina.events[oa]&&(cancelEvent(Z),triggerEvent(gina,ha,oa,Z.detail,Z))});addListener(gina,e,'focusin',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;var oa=ha.id;if(!oa)return!1;/^focusin\./.test(oa)||(oa='focusin.'+ha.id);gina.events[oa]&&(cancelEvent(Z),triggerEvent(gina,ha,oa,Z.detail))});addListener(gina,e,'focusout',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;
var oa=ha.id;if(!oa)return!1;/^focusout\./.test(oa)||(oa='focusout.'+ha.id);gina.events[oa]&&(cancelEvent(Z),triggerEvent(gina,ha,oa,Z.detail))});addListener(gina,e,'change',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;var oa=ha.id;if(!oa)return!1;/^change\./.test(oa)||(oa='change.'+ha.id);gina.events[oa]&&(cancelEvent(Z),triggerEvent(gina,ha,oa,Z.detail))});addListener(gina,e,'click',function(Z){var ha=Z.target,oa=!1,Ma=!1;if(/(label)/i.test(Z.target.tagName)&&
'undefined'!=typeof Z.target.control&&null!=Z.target.control&&/(checkbox|radio)/i.test(Z.target.control.type)||/(label)/i.test(Z.target.parentNode.tagName)&&'undefined'!=typeof Z.target.parentNode.control&&null!=Z.target.parentNode.control&&/(checkbox|radio)/i.test(Z.target.parentNode.control.type))Ma=Z.target.getAttribute('for')||Z.target.parentNode.getAttribute('for')?!0:!1,ha=Z.target.control||Z.target.parentNode.control;if(!ha.disabled&&/(checkbox|radio)/i.test(ha.type)&&!Ma){if(/checkbox/i.test(ha.type))return Kb(ha);
if(/radio/i.test(ha.type))return Wa(ha,!1,!0)}if(/(button|input)/i.test(ha.tagName)&&/(submit|checkbox|radio)/i.test(ha.type)||/a/i.test(ha.tagName)&&ha.attributes.getNamedItem('data-gina-form-submit')||/a/i.test(ha.parentNode.tagName)&&ha.parentNode.attributes.getNamedItem('data-gina-form-submit')){Ma=ha.attributes.getNamedItem('data-gina-form-submit');var $a=ha.parentNode.attributes.getNamedItem('data-gina-form-submit');if(Ma||$a)oa=!0,($a=Ma?ha.getAttribute('data-gina-form-submit-method'):ha.parentNode.getAttribute('data-gina-form-submit-method'))&&
(Ma&&ha.form?ha.form.setAttribute('method',$a):ha.parentNode.form&&ha.parentNode.form.setAttribute('method',$a));'undefined'!=typeof ha.id&&ha.getAttribute('id')||ha.setAttribute('id','click.'+pa.v4());ha.id=ha.getAttribute('id');if(/^click\./.test(ha.id)||p){Ma=ha.id;if(!Ma)return!1;/^click\./.test(Ma)||(Ma=ha.id);if(!ha.disabled&&/(checkbox|radio)/i.test(ha.type)){if(/checkbox/i.test(ha.type))return Kb(ha);if(/radio/i.test(ha.type))return Wa(ha,!1,!0)}if('undefined'!=typeof Z.defaultPrevented&&
Z.defaultPrevented)return!1;'submit'!=ha.type||/^submit\./i.test(Ma)||(Ma='submit.'+Ma);'reset'!=ha.type||/^reset\./i.test(Ma)||(Ma='reset.'+Ma);gina.events[Ma]?(cancelEvent(Z),triggerEvent(gina,ha,Ma,Z.detail)):oa&&'undefined'!=typeof this.id&&''!=this.id&&'undefined'!=typeof gina.validator.$forms[this.id]&&(gina.validator.getFormById(this.id).submit(),cancelEvent(Z))}}})};N();W='validate.'+n;N=function(){addListener(gina,e,W,function(ea){cancelEvent(ea);var Z=h.eventData.error||h.eventData.validation||
ea.detail;F(ea.target,Z.fields||Z.error,Z.data);ea=ea.target.getAttribute('id');if('undefined'!=typeof Z.isValid&&Z.isValid()){var ha=x.$forms[ea].target.getAttribute('data-gina-form-inherits-data')||null;ha&&(Z.data=U(Z.data,JSON.parse(decodeURIComponent(ha))));x.$forms[ea]?x.$forms[ea].send(Z.data):h&&h.send(Z.data)}})};'undefined'!=typeof gina.events[W]&&gina.events[W]=='validate.'+n&&removeListener(gina,h,W,N);N();fb=function(ea,Z){/^submit\./i.test(ea)||(ea='submit.'+ea);addListener(gina,Z,ea,
function(ha){cancelEvent(ha);var oa={};ha={_length:0};var Ma=e.getAttribute('id'),$a='undefined'!=typeof x.$forms[Ma]?x.$forms[Ma].rules:null;x.$forms[Ma].sent||(oa=Zb(e,$a),ha=oa.fields,oa=oa.$fields,$a=x.$forms[Ma].rules,0==ha._length?(delete ha._length,ha={error:[],isValid:function(){return!0},data:La(ha)},triggerEvent(gina,e,'validate.'+n,ha)):(n=e.getAttribute('id'),B=($a=e.getAttribute('data-gina-form-rule'))?Na($a.replace(/\-|\//g,'.')):Na(n.replace(/\-/g,'.')),x.$forms[Ma].isSubmitting=!0,
x.$forms[Ma].isSending=!1,M(e,ha,oa,B,function(db){triggerEvent(gina,e,'validate.'+n,db)})))})};u=null;b=[];u=[];N=null;u=e.getElementsByTagName('button');if(0<u.length)for(let ea=0,Z=u.length;ea<Z;++ea)'submit'==u[ea].type&&b.push(u[ea]);u=e.getElementsByTagName('a');if(0<u.length)for(let ea=0,Z=u.length;ea<Z;++ea)u[ea].attributes.getNamedItem('data-gina-form-submit')?b.push(u[ea]):u[ea].getAttribute('id')||/gina\-popin/.test(u[ea].className)||gina.popinIsBinded||/gina\-link/.test(u[ea].className)||
(N='link.'+pa.v4(),u[ea].id=N);N=null;xa=!1;for(let ea=0,Z=b.length;ea<Z;++ea){u=b[ea];if(/button/i.test(u.tagName)&&'undefined'!=typeof u.type&&/submit/i.test(u.type)||/a/i.test(u.tagName)&&'undefined'!=typeof u.dataset.ginaFormSubmit&&/^true$/i.test(u.dataset.ginaFormSubmit)||/a/i.test(u.parentNode.tagName)&&'undefined'!=typeof u.parentNode.dataset.ginaFormSubmit&&/^true$/i.test(u.parentNode.dataset.ginaFormSubmit)){/a/i.test(u.parentNode.tagName)&&(u=u.parentNode);if('undefined'==typeof u.id||
'undefined'!=typeof u.id&&''==u.id)u.id='click.'+pa.v4(),u.setAttribute('id',u.id);/a/i.test(u.tagName)&&'undefined'==typeof u.form&&(u.form={id:h.id});'undefined'==typeof u.dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof x.$forms[h.id]&&'undefined'==typeof x.$forms[h.id].submitTrigger&&'undefined'!=typeof u.form.id&&h.id==u.form.id&&(console.debug('attching submitTrigger: '+u.id,'  form id: '+h.id),x.$forms[h.id].submitTrigger=h.submitTrigger=u.id||u.getAttribute('id'),u.dataset.ginaFormSubmitTriggerFor=
h.id)}'A'==u.tagName&&(N=u.getAttribute('onclick'),xa=u.getAttribute('data-gina-form-submit'),N||xa?/return false/i.test(N)||xa||(N=/;$/.test(N)?N+'return false;':N+'; return false;'):u.setAttribute('onclick','return false;'));u.id?W=u.id:(W='click.'+pa.v4(),u.id=W,u.setAttribute('id',W));'undefined'!=typeof gina.events[W]&&gina.events[W]==u.id||fb(W,u)}W='submit';addListener(gina,e,W,function(ea){var Z=ea.target,ha=Z.getAttribute('id'),oa=x.$forms[ha],Ma=h.binded;(oa=(new DOMParser).parseFromString(Z.innerHTML,
'text/html').getElementById(oa.submitTrigger))&&oa.disabled&&cancelEvent(ea);if('undefined'!=typeof ea.defaultPrevented&&ea.defaultPrevented)return!1;(p||Ma)&&cancelEvent(ea);ea={};Ma={_length:0};oa='undefined'!=typeof gina.validator.$forms[ha]?gina.validator.$forms[ha].rules:null;for(var $a=null,db=null,Ka=0,sb=Z.length;Ka<sb;++Ka)$a=Z[Ka].getAttribute('name'),db=Z[Ka].disabled||Z[Ka].getAttribute('disabled'),db=/disabled|true/i.test(db)?!0:!1,$a&&!db&&('undefined'!=typeof Z[Ka].type&&'radio'==Z[Ka].type||
'undefined'!=typeof Z[Ka].type&&'checkbox'==Z[Ka].type?Z[Ka].checked?/^(true|false)$/.test(Z[Ka].value)?Ma[$a]=Z[Ka].value=/^true$/.test(Z[Ka].value)?!0:!1:Ma[$a]=Z[Ka].value:oa&&'undefined'!=typeof oa[$a]&&'undefined'!=typeof oa[$a].isBoolean&&'checkbox'==Z[Ka].type&&!/^(true|false)$/.test(Z[Ka].value)&&(Ma[$a]=!1):Ma[$a]=Z[Ka].value,ea[$a]=Z[Ka],ea[$a].setAttribute('data-gina-form-errors',''));Ma._length=Ma.count();0==Ma._length?(delete Ma._length,ea={error:[],isValid:function(){return!0},data:La(Ma)},
'undefined'!=typeof gina.events['submit.'+ha]?triggerEvent(gina,Z,'submit.'+ha,ea):triggerEvent(gina,Z,'validate.'+ha,ea)):(B=(oa=Z.getAttribute('data-gina-form-rule'))?Na(oa.replace(/\-|\//g,'.')):Na(ha.replace(/\-/g,'.')),x.$forms[ha].isValidating=!0,M(Z,Ma,ea,B,function(hb){x.$forms[ha].isValidating=!1;'undefined'!=typeof gina.events['submit.'+ha]?triggerEvent(gina,Z,'submit.'+ha,hb):triggerEvent(gina,Z,'validate.'+ha,hb)}))});x.$forms[n].binded=!0;/^(true)$/i.test(h.target.dataset.ginaFormLiveCheckEnabled&&
0<h.rules.count())?(console.debug('silent validation mode on'),fb=Zb(h.target,h.rules),M(h.target,fb.fields,fb.$fields,h.rules,function(ea){console.debug('silent validation result[isValid:'+ea.isValid()+']: ',ea);V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:n,errors:ea.error}));Yb(h,ea.isValid())})):/^(true)$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)||Yb(h,!0)},Yb=function(e,b){$formInstance=
null;e instanceof HTMLFormElement?(e=e.getAttribute('id'),$formInstance=x.$forms[e]):$formInstance=e;'undefined'==typeof $formInstance.submitTrigger?console.warn('This might be normal, so do not worry if this form is handled by your javascript: `'+$formInstance.id+'`\nGina could not complete `updateSubmitTriggerState()`: `submitTrigger` might not be attached to form instance `'+$formInstance.id+'`\nTo disable this warning, You just need to disable `Form Live Checking on your form by adding to your <form>: `data-gina-form-live-check-enabled=false``'):
document.getElementById($formInstance.submitTrigger)&&(/true/i.test(b)?document.getElementById($formInstance.submitTrigger).disabled=!1:document.getElementById($formInstance.submitTrigger).disabled=!0)},Zb=function(e,b,h){'undefined'==typeof h&&(h=!1);var n={},v={},p=e.id||e.getAttribute('id');'undefined'==typeof b&&(b='undefined'!=typeof x.$forms[p].rules&&0<x.$forms[p].rules.count()?x.$forms[p].rules:null,b||'undefined'==typeof gina.validator.$forms[p]||(b=gina.validator.$forms[p].rules));for(var B=
0,W=e.length;B<W;++B){if(h)switch(e[B].tagName.toLowerCase()){case 'input':/^(hidden|text)$/i.test(e[B].type)&&(e[B].value=e[B].defaultValue)}if(/button/i.test(e[B].tagName)&&'undefined'!=typeof e[B].type&&/submit/i.test(e[B].type)||/a/i.test(e[B].tagName)&&'undefined'!=typeof e[B].dataset.ginaFormSubmit&&/^true$/i.test(e[B].dataset.ginaFormSubmit))/a/i.test(e[B].tagName)&&'undefined'==typeof e[B].form&&(e[B].form={id:p}),'undefined'==typeof e[B].dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof x.$forms[p]&&
'undefined'==typeof x.$forms[p].submitTrigger&&'undefined'!=typeof e[B].form.id&&p==e[B].form.id&&(x.$forms[p].submitTrigger=e[B].id||e[B].getAttribute('id'),e[B].dataset.ginaFormSubmitTriggerFor=p);var N=e[B].getAttribute('name');var ba=e[B].disabled||e[B].getAttribute('disabled');ba=/disabled|true/i.test(ba)?!0:!1;if(N&&!ba){if('undefined'!=typeof e[B].type&&'radio'==e[B].type||'undefined'!=typeof e[B].type&&'checkbox'==e[B].type)if(e[B].checked||'undefined'==typeof b[N]&&'undefined'!=e[B].value&&
/^(true|false)$/.test(e[B].value)||!e[B].checked&&'undefined'!=typeof b[N]&&'undefined'!=typeof b[N].isBoolean&&/^(true|false)$/.test(e[B].value))if(/^(true|false)$/.test(e[B].value))if('undefined'==typeof b[N]?b[N]={isBoolean:!0}:'undefined'!=typeof b[N]&&'undefined'==typeof b[N].isBoolean&&(b[N].isBoolean=!0,b[N].isRequired=!0),'radio'==e[B].type){if('undefined'==typeof b[N])throw Error('rule '+N+' is not defined');/^true$/.test(b[N].isBoolean)&&e[B].checked&&(v[N]=/^true$/.test(e[B].value)?!0:
!1)}else v[N]=e[B].value=/^true$/.test(e[B].value)?!0:!1;else v[N]=e[B].value;else b&&'undefined'!=typeof b[N]&&'undefined'!=typeof b[N].isBoolean&&'undefined'!=typeof b[N].isRequired&&!/^(true|false)$/.test(e[B].value)&&(v[N]=!1);else v[N]=e[B].value;'undefined'==typeof n[N]&&(n[N]=e[B],n[N].setAttribute('data-gina-form-errors',''))}}v._length=v.count()||0;return{$fields:n,fields:v,rules:b}},ta=function(e,b,h,n){return'undefined'==typeof e[h]||/^(null|NaN|undefined|\s*)$/i.test(b[h])?b[h]:'undefined'!=
typeof e[h].isNumber||'undefined'!=typeof e[h].isInteger||'undefined'!=typeof e[h].isFloat||'undefined'!=typeof e[h].toFloat||'undefined'!=typeof e[h].toInteger?(/,/.test(b[h])&&(b[h]=b[h].replace(/,/g,'.').replace(/\s+/g,'')),b[h]):'boolean'==typeof b[h]?b[h]:e[h].isBoolean?/^true$/i.test(b[h])?!0:!1:'undefined'!=typeof n&&/^true$/i.test(n)?'\\"'+b[h]+'\\"':b[h]},wa=function(e,b){'string'!=typeof e&&(e=JSON.stringify(JSON.clone(e)));e=JSON.parse(e.replace(/"(true|false)"/gi,'$1'));for(let h in b)b[h]=
ta(e,b,h);return b},Ha=function(e,b,h,n){var v=JSON.parse(e.replace(/"(true|false)"/gi,'$1')),p=JSON.stringify(v);n&&(b=h[Object.getOwnPropertyNames(h)[0]].form,h=Zb(b,v),delete h.fields._length,b=h.fields,h=h.$fields);n=[];var B=0;for(W in b)n[B]=W,B++;n.sort().reverse();for(let ba=0,P=n.length;ba<P;ba++){var W=n[ba].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');W=new RegExp('\\$'+W,'g');B='\\"'+b[n[ba]]+'\\"';var N=W.test(p);N&&'undefined'!=typeof v[n[ba]]?B=ta(v,b,n[ba],!0):N&&console.warn('`'+n[ba]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+
n[ba]+'` to `string`.');e=e.replace(W,B)}if(/\$(.*)/.test(e))for(let ba=0,P=n.length;ba<P;ba++)W=n[ba].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'),W=new RegExp('\\$'+W,'g'),B=''!=h[n[ba]].value?'\\"'+h[n[ba]].value+'\\"':'\\"\\"',(N=W.test(p))&&'undefined'!=typeof v[n[ba]]?B=ta(v,b,n[ba],!0):N&&console.warn('`'+n[ba]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+n[ba]+'` to `string`.'),e=e.replace(W,B||h[n[ba]].checked);return JSON.parse(e)},M=function(e,
b,h,n,v){delete b._length;var p=JSON.stringify(n);b=wa(p,b);/\$(.*)/.test(p)&&(n=!/^form$/i.test(e.tagName)&&1==h.count()&&/true/i.test(e.form.dataset.ginaFormLiveCheckEnabled)?!0:!1,n=Ha(p,b,h,n));var B=null,W=p=null,N=!1,ba=0;b.count();var P=!1,u=null,fa=null,ra=null,ka=0,ia=null,za=null,xa=null,Ya=function(Wa,fb,ea){if('undefined'==typeof fb[Wa]){skipTest=!1;for(var Z in fb)if(!/^_comment$/i.test(Z)&&/^\//.test(Z)&&(ia=Z.match(/\/(.*)\//).pop(),za=Z.replace('/'+ia+'/',''),ia=ia.replace(/\[/g,'\\[').replace(/\]/g,
'\\]'),ia=new RegExp(ia,za),ia.test(Wa))){skipTest=!0;fb[Wa]=fb[Z];break}if('undefined'==typeof fb[Wa])return}var ha=Object.getOwnPropertyNames(fb)||[];Z=0;var oa=ha.length;if(0<oa)for(;Z<oa;)'undefined'!=typeof fb[ha[Z]].exclude&&/^true$/i.test(fb[ha[Z]].exclude)&&(ha.splice(Z,1),oa--,Z--),Z++;for(var Ma in fb[Wa])if('function'==typeof Ta[Wa][Ma]){/^((is)\d+|is$)/.test(Ma)&&'undefined'==typeof Ta[Wa][Ma]&&(Ta[Wa][Ma]=function(){},Ta[Wa][Ma]=Y(Ta[Wa][Ma],Ta[Wa][Ma.replace(/\d+/,'')]),Ta[Wa][Ma].setAlias=
function(hb){this._currentValidatorAlias=hb}(Ma));try{if(Array.isArray(fb[Wa][Ma])){xa=JSON.clone(fb[Wa][Ma]);if(/\$[\-\w\[\]]*/.test(xa[0])){var $a=xa[0].match(/\$[\-\w\[\]]*/g);Z=0;for(var db=$a.length;Z<db;++Z)xa[0]=xa[0].replace($a[Z],Ta[$a[Z].replace('$','')].value)}Ta[Wa][Ma].apply(Ta[Wa],xa)}else if(/^query$/.test(Ma)){u=h[Wa];fa=u.getAttribute('id');ra='asyncCompleted.'+fa;var Ka=0,sb=!1;if('undefined'!=typeof gina.events[ra]){console.debug('event `'+ra+'` already added');ka=0;break}++ka;
addListener(gina,u,ra,function(hb){hb.preventDefault();Ka++;--ka;var lb=Object.getOwnPropertyNames(fb[Wa]);lb[lb.length-1]==Ma&&(P=!0);lb='asyncCompleted.'+hb.target.getAttribute('id');if(!/true/.test(sb)){Ta[Wa]=hb.detail;var mb=e;/^form$/i.test(e.tagName)||(mb=e.form);var nb=mb.getAttribute('id');if(P&&0>=ka&&!sb&&(sb=!0,removeListener(gina,hb.target,lb),v._data=Ta.toData(),v._errors=Ta.getErrors(Wa),v._errors&&0<v._errors.count())){'undefined'==typeof x.$forms[nb].errors&&(x.$forms[nb].errors=
{});x.$forms[nb].errors[Wa]=v._errors[Wa];if(!jb&&/^true|false$/i.test(x.$forms[nb].isValidating)||''!=Ta[Wa].target.value)y(eb[Wa]),F(mb,v._errors,v._data,Wa),Yb(mb,jb);V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:nb,errors:x.$forms[nb].errors||{}}));triggerEvent(gina,mb,'validated.'+nb,v);return}hb=!1;var jb=null;1==ha.length||ha[ha.length-1]==Wa?(jb=0<v._errors.count()?!1:!0,!jb&&/^true|false$/i.test(x.$forms[nb].isValidating)&&
(x.$forms[nb].errors=U(v._errors,x.$forms[nb].errors),y(eb[Wa]),F(mb,v._errors,v._data,Wa),Yb(mb,jb)),triggerEvent(gina,mb,'validated.'+nb,v)):/^true$/i.test(x.$forms[nb].isValidating)&&1<ha.length&&ha[ha.length-1]!=Wa&&(hb=!0);hb&&M(mb,Kb,eb,fb,function(Pb){x.$forms[nb].isValidating=!1;jb=Pb.isValid();V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:nb,errors:Pb.error||{}}));F(mb,Pb.error,Pb.data,Wa);
Yb(mb,jb)})}});Ta[Wa][Ma](fb[Wa][Ma]);continue}else Ta[Wa][Ma](fb[Wa][Ma]);delete ea[Wa]}catch(hb){if('conditions'==Ma)throw Error('[ ginaFormValidator ] could not evaluate `'+Wa+'->'+Ma+'()` where `conditions` must be a `collection` (Array)\nStack:\n'+hb);throw Error('[ ginaFormValidator ] could not evaluate `'+Wa+'->'+Ma+'()`\nStack:\n'+hb);}}},Ta=null,ob={},wb=!1;L?/^form$/i.test(e.tagName)?(B=e.getAttribute('id'),p='validated.'+B,x.$forms[B].fields=b,'undefined'!=typeof e.eventData&&'undefined'!=
typeof e.eventData.error&&delete e.eventData.error,Ta=new m(b,h,w)):(wb=!0,B=e.form.getAttribute('id')||e.form.target.getAttribute('id'),p='validated.'+B,x.$forms[B].fields=b,Ta=new m(b,h,w,x.$forms[B].fieldsSet)):Ta=new m(b,null,w);var Kb=null,eb=null;if(wb){wb=e.form.getAttribute('id');var yb=Zb(x.$forms[wb].target,x.$forms[wb].rules,!1);Kb=wa(JSON.stringify(x.$forms[wb].rules),JSON.clone(yb.fields));eb=yb.$fields}else Kb=JSON.clone(b),eb=h;wb='undefined'!=typeof n?JSON.clone(n):{};var Vb=function(Wa,
fb,ea,Z,ha,oa,Ma,$a){var db=null;if('undefined'!=typeof oa)for(var Ka in Z)if(L&&'undefined'==typeof ha[Ka])console.warn('field `'+Ka+'` found for your form rule ('+Wa.id+'), but not found in $field collection.\nPlease, check your HTML or remove `'+Ka+'` declaration from your rule if this is a mistake.');else{L&&ha[Ka].getAttribute('data-gina-form-element-group')&&'undefined'!=typeof oa[Ka]&&'undefined'!=typeof oa[Ka].exclude&&oa[Ka].exclude&&!ha[Ka].disabled&&(oa[Ka].exclude=!1);var sb='undefined'!=
typeof oa['_case_'+Ka]?!0:!1;if(L&&'input'==ha[Ka].tagName.toLowerCase()&&/(checkbox)/i.test(ha[Ka].getAttribute('type')))if(!ha[Ka].checked&&'undefined'!=typeof oa[Ka]&&'undefined'!=typeof oa[Ka].isRequired&&/^(false)$/i.test(oa[Ka].isRequired)||ha[Ka].disabled)oa[Ka]={exclude:!0};else if(!ha[Ka].checked&&'undefined'==typeof oa[Ka])continue;for(var hb in oa)if(/^_case_/.test(hb)&&'undefined'!=typeof oa[hb].conditions&&(!Array.isArray(oa[hb].conditions)||oa[hb].conditions.length)&&'undefined'!=typeof oa[hb].conditions[0].rules&&
'undefined'!=typeof oa[hb].conditions&&Array.isArray(oa[hb].conditions))if(db=hb.replace('_case_',''),'undefined'==typeof eb[db])console.warn('Found case `'+hb+'` but field `'+db+'` is misssing in the dom.\n You should add `'+db+'` element to your form in order to allow Validator to process this case.');else{'undefined'==typeof fb[db]&&(fb[db]=eb[db].value);var lb=fb[db];L&&('true'==Z[Ka]?lb=!0:'false'==Z[Ka]&&(lb=!1));for(var mb=0,nb=oa[hb].conditions.length;mb<nb;++mb)if(oa[hb].conditions[mb].case==
lb)for(var jb in oa[hb].conditions[mb].rules)if(!/^_comment$/i.test(jb)&&jb!=db&&ha[jb])if(Ka==jb||/^\//.test(jb)||'undefined'!=typeof Z[jb]||'undefined'==typeof fb[jb])if(/^\//.test(jb)){if(ia=jb.match(/\/(.*)\//).pop(),za=jb.replace('/'+ia+'/',''),ia=ia.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),ia=new RegExp(ia,za),ia.test(Ka)){if(oa[hb].conditions[mb].case==lb||/^\//.test(oa[hb].conditions[mb].case)&&(new RegExp(oa[hb].conditions[mb].case)).test(lb))Pb='undefined'!=typeof oa[jb]?oa[jb]:{},oa[jb]=
U(oa[hb].conditions[mb].rules[jb],Pb);db!=jb&&'undefined'!=typeof oa[jb]&&Ya(jb,oa,Z)}}else'undefined'!=typeof oa[hb].conditions[mb].rules[jb]&&(caseField=jb,lb=Z[caseField],'undefined'==typeof ha[caseField]?console.warn('ignoring case `'+caseField+'`: field `NaN'):(L&&/^(true|false)$/i.test(lb)&&'undefined'!=typeof oa[caseField]&&'undefined'!=typeof oa[caseField].isBoolean&&/^(true)$/i.test(oa[caseField].isBoolean)&&(lb=/^(true)$/i.test(lb)?!0:!1),'undefined'!=typeof oa[hb].conditions[mb].rules[jb]&&
(Pb='undefined'!=typeof oa[hb].conditions[mb].rules[jb]?oa[hb].conditions[mb].rules[jb]:{},oa[jb]=Pb),db!=jb&&'undefined'!=typeof oa[jb]&&'undefined'!=typeof Z[jb]&&Ya(jb,oa,Z)));else{Z[jb]=fb[jb];var Pb='undefined'!=typeof oa[jb]?oa[jb]:{};oa[jb]=U(oa[hb].conditions[mb].rules[jb],Pb);Ya(jb,oa,Z)}}if(db!=Ka&&('undefined'!=typeof oa[Ka]&&Ya(Ka,oa,fb),sb)){++$a;sb=oa['_case_'+Ka].conditions;if(!sb)throw Error('[ ginaFormValidator ] case `_case_'+Ka+'` found without `condition(s)` !\nPlease, check your delcaration for `_case_'+
Ka+'`');for(let Mb=0,ac=sb.length;Mb<ac;++Mb)if(lb=fb[Ka],L&&('true'==Z[Ka]?lb=!0:'false'==Z[Ka]&&(lb=!1)),sb[Mb]['case']===lb||Array.isArray(sb[Mb]['case'])&&-1<sb[Mb]['case'].indexOf(lb)||/^\//.test(sb[Mb]['case'])){Pb={};if('undefined'==typeof sb[Mb].rules[Ka]&&'undefined'==typeof fb[Ka]||ha[Ka].disabled)sb[Mb].rules[Ka]={exclude:!0};for(var Hb in sb[Mb].rules)if(!/^_comment$/i.test(Hb))if(/^\//.test(Hb)){ia=Hb.match(/\/(.*)\//).pop();za=Hb.replace('/'+ia+'/','');ia=ia.replace(/\[/g,'\\[').replace(/\]/g,
'\\]');ia=new RegExp(ia,za);for(var Jb in ha)ia.test(Jb)&&(/^\//.test(sb[Mb]['case'])?(ia=sb[Mb]['case'].match(/\/(.*)\//).pop(),za=sb[Mb]['case'].replace('/'+ia+'/',''),ia=new RegExp(ia,za),ia.test(lb)&&(Pb[Jb]=sb[Mb].rules[Hb])):Pb[Jb]=sb[Mb].rules[Hb],'undefined'==typeof Z[Jb]&&'undefined'!=typeof ha[Jb]&&'undefined'!=typeof ha[Jb].value&&(Z[Jb]=ha[Jb].value,L&&/(true|false)/i.test(Z[Jb])&&('true'==Z[Jb]?Z[Jb]=!0:'false'==Z[Jb]&&(Z[Jb]=!1)),Ta.addField(Jb,Z[Jb]),'undefined'!=typeof ea[Jb]&&(Pb[Jb]=
U(Pb[Jb],ea[Jb]))))}else/^\//.test(sb[Mb]['case'])?(ia=sb[Mb]['case'].match(/\/(.*)\//).pop(),za=sb[Mb]['case'].replace('/'+ia+'/',''),ia=ia.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),ia=new RegExp(ia,za),ia.test(lb)&&(Pb[Hb]=sb[Mb].rules[Hb])):Pb[Hb]=sb[Mb].rules[Hb],'undefined'==typeof Z[Hb]&&'undefined'!=typeof ha[Hb]&&'undefined'!=typeof ha[Hb].value&&(Z[Hb]=ha[Hb].value,L&&/(true|false)/i.test(Z[Hb])&&('true'==Z[Hb]?Z[Hb]=!0:'false'==Z[Hb]&&(Z[Hb]=!1)),Ta.addField(Hb,Z[Hb]),'undefined'!=typeof ea[Hb]&&
(Pb[Hb]=U(Pb[Hb],ea[Hb])));++ba;if(L)Vb(Wa,fb,ea,Z,ha,Pb,Ma,$a);else return Vb(Wa,fb,ea,Z,ha,Pb,Ma,$a)}--$a}}--ba;if(0>=$a&&0>ba){fb=Ta.getErrors();for(Ka in fb){for(rule in fb[Ka])ob[Ka]||(ob[Ka]=''),0>ob[Ka].indexOf(rule)&&(ob[Ka]+=rule+' ');L&&ha[Ka].setAttribute('data-gina-form-errors',ob[Ka].substr(0,ob[Ka].length-1))}try{W=La(Ta.toData()),V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.validated||(gina.forms.validated={}),gina.forms.validated[B]||(gina.forms.validated[B]=
{}),window.ginaToolbar.update('forms',{id:B,validated:W}))}catch(Mb){throw Mb;}P=!0;if(!N&&0>=ka)if('undefined'!=typeof Ma&&'function'===typeof Ma)Ma._errors=Ta.getErrors(),Ma._data=Ta.toData(),triggerEvent(gina,Wa,'validated.'+B,Ma);else return N=!0,{isValid:Ta.isValid,error:fb,data:W}}};L&&addListener(gina,e,p,function(Wa){Wa.preventDefault();if(!N){N=!0;P=!1;ka=0;var fb=Wa.detail,ea=fb._data||Ta.toData(),Z=fb._errors||Ta.getErrors()||null;console.debug('instance errors: ',x.$forms[B].errors,' VS cbErrors: ',
Z,Ta.isValid(),' VS d.getErrors(): ',Ta.getErrors());0<Z.count()&&Ta.isValid()&&(Ta.isValid=function(){return!1});fb({isValid:Ta.isValid,error:Z,data:La(ea)});removeListener(gina,Wa.target,'validated.'+Wa.target.id)}});if(L)Vb(e,Kb,wb,b,h,n,v,0);else return Vb(e,Kb,wb,b,h,n,v,0)};return L?Ra(E):q(E,Q,da)}'undefined'!==typeof module&&module.exports?module.exports=ValidatorPlugin:'function'===typeof define&&define.amd&&define('gina/validator',['utils/events','utils/dom','utils/form-validator'],function(){return ValidatorPlugin});
define('gina/toolbar','require jquery vendor/uuid utils/collection utils/routing gina/storage gina/validator'.split(' '),function(E){var Q=E('jquery');Q.noConflict();var da=E('utils/routing');E('utils/collection');var Ga=E('gina/storage');return function(){var L=null,V=!1,pa=!1,U=!1,Y,m=(new Ga({bucket:'gina'})).Collection('plugin'),T=null,x=null,ma=!1,Da=null,R=null,J=null,w=null,q=null,r='',H=null,I=null,A=null,y='',C=null,F=0,O=0,z=0,S='',X={},va=null,na=null,Ca=null,Fa=null,Ba=null,ua=null,Aa=
null,Ra=null,Sa=null,Na=null,zb=null,Ia=null,La=null,Za=null,vb=function(){T=Q('#gina-toolbar');if(!T.length)return!1;Da=T.find('.gina-toolbar-tab > a');R=Q('#gina-toolbar-toggle');J=Q('#gina-toolbar-panels');w=J.find('.gina-toolbar-panel');H=Q('#gina-toolbar-vposition');I=Q('#gina-toolbar-hposition');A=H.add(I);C=Q('#gina-toolbar-width');T.find('.gina-toolbar-main');va=Q('#gina-toolbar-json');na=Q('#gina-toolbar-gina-json');Ca=Q('#gina-toolbar-toggle-code-raw');$forms=Q('form:not(.gina-toolbar-options, .gina-toolbar-content)');
Sa=Q('#gina-toolbar-data-html');Na=Q('#gina-toolbar-view-html');zb=Q('#gina-toolbar-forms-html');Ra=Q('#gina-toolbar-configuration-environment-html');Ia=Q('#gina-toolbar-code-toggle');T.prepend('<textarea class="gina-toolbar-copy"></textarea>');La=T.find('.gina-toolbar-copy');x=m.findOne({_name:'toolbar'});x||(x={_name:'toolbar',_version:'1.0.3',_description:'Toolbar settings',_licence:'MIT',_author:[{name:'Fabrice Delaneau',company:'Freelancer'},{name:'Martin-Luther Etouman',company:'Rhinostone'}],
position:'top-right',width:'30',panelId:'#gina-toolbar-data',isCollapsed:!0,isUnfolded:[],debug:{forms:{active:!1,strategy:'frontend'}}},m.insert(x),x=m.findOne({_name:'toolbar'}));'1.0.3'!=x._version&&('1.0.1'>x._version&&(x.isUnfolded||(x.isUnfolded=[]),void 0!=x.codeFolding&&delete x.codeFolding),'undefined'==typeof x.isUnfolded||Array.isArray(x.isUnfolded)||(x.isUnfolded=[]),x._version='1.0.3',x.save(!0));y=x.position;F=x.width;r=x.panelId;ma=x.isCollapsed;T.removeClass('gina-toolbar-hidden');
Cb()},cb=function(h,n,v){var p=null;try{var B=va?va.text():'';''==B||'null'==B?va.text('Empty'):(Ba=JSON.parse(B),Aa=JSON.parse(na.text()),va.text(''),Fa||(Fa={jsonObject:JSON.clone(Ba),ginaJsonObject:JSON.clone(Aa)},ua={}))}catch(fa){if(B='Could not load'+(h?' [ '+h+' ] ':' ')+'json\n'+(fa.stack||fa.message||fa),va)va.text(B);else throw B;}if(Ba){n&&!v?(Ba[h]||(Ba[h]={}),Ba[h]=Aa[h]=n):'data-xhr'==h&&!n&&Ba['data-xhr']?delete Ba['data-xhr']:v&&(Ba=n,Aa=v);b(Ba,'');delete Ba.environment.routing;delete Aa.environment.routing;
delete Ba.environment.reverseRouting;delete Aa.environment.reverseRouting;delete Ba.environment.forms;delete Aa.environment.forms;Ra.html(Gb(Ba.environment,Aa.environment));p=Ba.data;var W=Ba.view;v=Ba.forms;var N=Aa.data,ba=Aa.view;B=Aa.forms;pa=Y=!1;var P=null,u=!1;/^(view-xhr)$/.test(h)&&(P=!0,W=Ba[h],ba=Aa[h],p=Ba['data-xhr'],N=Aa['data-xhr']);if(!h||/^(data)$/.test(h))Sa.html('<ul class="gina-toolbar-code">'+Gb(p,N,null,P)+'</ul>'),Na.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),
Na.html(Zb(W,ba,null,P,Na)),p=$forms,zb.html(''),zb.html(wa(v,B,zb,0,p,p.length,P)),zb.find('div.gina-toolbar-section > h2').off('click').on('click',function(fa){fa.preventDefault();Q(this).parent().find('ul').first().slideToggle()});if(/^(data-xhr|view-xhr)$/.test(h)){if('undefined'==typeof Ba[h]||!Ba[h]||'null'==Ba[h])return!1;P=!0;u='undefined'!=typeof Ba[h].isXHRViewData?!0:u;u||/^(view-xhr)$/.test(h)||'undefined'==typeof Ba['el-xhr']||(ua.data=JSON.clone(Ba[h]));u&&delete Ba[h].isXHRViewData;
/^(data-xhr)$/.test(h)?Sa.html('<ul class="gina-toolbar-code">'+Gb(Ba[h],Aa[h],null,P)+'</ul>'):/^(view-xhr)$/.test(h)&&(Na.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),Na.html(Zb(Ba[h],Aa[h],null,P,Na)))}/^(el-xhr)$/.test(h)&&(P=!0,p=Q('#'+n).find('form:not(.gina-toolbar-options, .gina-toolbar-content)'),zb.html(''),zb.html(wa(v,B,zb,0,p,p.length,
P)),zb.find('div.gina-toolbar-section > h2').off('click').on('click',function(fa){fa.preventDefault();Q(this).parent().find('ul').first().slideToggle()}));/^(forms)$/.test(h)&&(pa=P=!0,Q('#gina-toolbar-form-'+n.id).length||(p=$forms,zb.html(''),zb.html(wa(v,B,zb,0,p,p.length,P)),zb.find('div.gina-toolbar-section > h2').off('click').on('click',function(fa){fa.preventDefault();Q(this).parent().find('ul').first().slideToggle()})),'undefined'!=typeof n.rules&&Ha(n.id,'rules',n.rules,P),'undefined'!=typeof n.errors&&
0<n.errors.count()&&Ha(n.id,'errors',n.errors,P),'undefined'!=typeof n.sent&&Ha(n.id,'sent',n.sent,P));x.currentFile=Ba.file;x.currentFile||(x.currentFile=Ba.file);Ba.file==x.currentFile&&Q(document).ready(function(){pa?(V=!0,0<x.isUnfolded.length&&!Y&&(Y=!0,setTimeout(function(){0<x.isUnfolded.length&&Xa(x.isUnfolded,x.isUnfolded.length,0)},200))):P?(V=!0,0<x.isUnfolded.length&&!Y&&(Y=!0,Xa(x.isUnfolded,x.isUnfolded.length,0))):(V=!1,setTimeout(function(){0<x.isUnfolded.length&&Xa(x.isUnfolded,x.isUnfolded.length,
0)},200))})}if(!h||'el-xhr'==h&&!U)U=h&&'el-xhr'==h?!0:!1,ta(h)},Xa=function(h,n,v){if(v==n)return!1;var p=h[v],B=null;V&&/^xhr-/.test(p)?(p=p.replace(/^xhr-/,''),B=Q('.gina-toolbar-xhr-folding-state-'+p)):B=Q('.gina-toolbar-folding-state-'+p);xb(B,function(){v+=1;Xa(h,n,v)})},Cb=function(){Sa.add(Na).off('click','a').on('click','a',function(n){n.preventDefault();xb(Q(this),null,!0)}).add(zb).off('click','a').on('click','a',function(n){n.preventDefault();xb(Q(this),null,!0)});Ia.off('click').on('click',
function(n){n.preventDefault();xb('all',null,!0)});Sa.add(Na,zb).off('click','.gina-toolbar-value').on('click','.gina-toolbar-value',function(n){n.preventDefault();try{Za=Q(this).text(),La.text(Za),La.select(),document.execCommand('copy',!1,null),La.blur()}catch(v){alert('Please press Ctrl/Cmd+C to copy the value')}});Ca.off('click').on('click',function(n){Ba&&window.open('','JSON RAW','width=400,height=100').document.write(JSON.stringify(Ba.data))});Da.off('click').on('click',function(n){n.preventDefault();
Da.removeClass('gina-toolbar-active');w.removeClass('gina-toolbar-active');Q(this).addClass('gina-toolbar-active');r=Q(this).attr('href');q=Q(r).addClass('gina-toolbar-active');x.panelId=r;x.save()});R.off('click').on('click',function(n){n.preventDefault();T.toggleClass('gina-toolbar-collapsed');ma=T.hasClass('gina-toolbar-collapsed');x.isCollapsed=ma;x.save()});A.off('change').on('change',function(n){n.preventDefault();n=H.val();var v=I.val();y=n+'-'+v;Db(y);x.position=y;x.save()});C.off('change').on('change',
function(n){n.preventDefault();F=C.val();Eb(F);x.width=F;x.save()});Q(window).off('resize').on('resize',function(){ub()});Q('body').off('keypress').on('keypress',function(n){if(!/INPUT|TEXTAREA/.test(n.target.tagName)){S=n.keyCode?n.keyCode:n.which?n.which:n.charCode;n=new Date;if('undefined'!=typeof X.keynum&&X.keynum==S&&'undefined'!=typeof X.pressTime&&500>n.getTime()-X.pressTime)switch(S){case 103:T.toggle()}X.pressTime=n.getTime();X.keynum=S}});Da.filter('[href="'+r+'"]').trigger('click');ma||
Q('#gina-toolbar-toggle').trigger('click');Db(y);var h=y.split('-');H.val(h[0]);I.val(h[1]);Eb(F);C.val(F);ub();h=va?va.text():'';/^\{\{ (.*) \}\}/.test(h)?e(h,cb):cb()},Db=function(h){T.removeClass('gina-toolbar-top-left gina-toolbar-top-right gina-toolbar-bottom-left gina-toolbar-bottom-right').addClass('gina-toolbar-'+h)},Eb=function(h){T.removeClass('gina-toolbar-auto gina-toolbar-100 gina-toolbar-80 gina-toolbar-60 gina-toolbar-50 gina-toolbar-40 gina-toolbar-30').addClass('gina-toolbar-'+h)},
ub=function(){O=window.innerHeight-32;T.find('.gina-toolbar-main').css('max-height',O+'px');var h=q.find('.gina-toolbar-main'),n=h.find('.gina-toolbar-content');z=h.height();z==O?n.addClass('gina-toolbar-content-end'):n.removeClass('gina-toolbar-content-end')},xb=function(h,n,v){'undefined'==typeof v&&(v=!1);if(void 0!=h&&h.length&&'all'!=h){L=h.attr('class');var p=!1;if(/(gina-toolbar-folding-state-[a-z 0-9_-]+|gina-toolbar-xhr-folding-state-[a-z 0-9_-]+)/i.test(L))if(/gina-toolbar-folding-state-[a-z0-9_-]+/i.test(L)?
L=L.match(/gina-toolbar-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-folding-state-/,''):(p=!0,'undefined'!=typeof L&&(L=L.match(/gina-toolbar-xhr-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-xhr-folding-state-/,'xhr-'))),0>x.isUnfolded.indexOf(L))x.isUnfolded.push(L),x.save(),h.hasClass('gina-toolbar-unfolded')||(h.addClass('gina-toolbar-unfolded'),h.next('ul').slideToggle('fast'));else if(-1<x.isUnfolded.indexOf(L)&&h.hasClass('gina-toolbar-unfolded')){for(var B=new RegExp('^('+
L+')'),W=0,N=x.isUnfolded.length;W<N;++W)B.test(x.isUnfolded[W])&&(!pa&&v||pa&&p||v)&&(x.isUnfolded.splice(W,1),--W);x.save(!0);0>x.isUnfolded.indexOf(L)&&(h.removeClass('gina-toolbar-unfolded'),h.next('ul').slideToggle('fast'))}else h.addClass('gina-toolbar-unfolded'),h.next('ul').slideToggle('fast')}'undefined'!=typeof n&&null!=n&&n()},Fb=function(h){var n={},v=null,p=[],B=0;for(v in h)h.hasOwnProperty(v)&&(p[B]=v,++B);var W=p.length;p.sort();for(B=0;B<W;++B)v=p[B],n[v]=h[v];return n},Qa=function(h,
n){var v='';if('undefined'!=typeof h&&''!=h){var p=h;'string'==typeof h&&(p=h.replace(/(\]\[|\[)/g,'-').replace(/\]/,'').replace(/[^A-Za-z0-9_-]/g,'_'));v+=p+'-'}'undefined'!=typeof n&&''!=n?(h=n,'string'==typeof n&&(h=n.replace(/(\]\[|\[)/g,'-').replace(/\]/,'')),v+=h):v=v.substr(0,v.length-1);return v.trim()},Gb=function(h,n,v,p,B){var W='';v='undefined'!=typeof v&&null!=v?v.replace(/[^A-Za-z0-9_-]/g,'_'):'';var N='undefined'!=typeof B&&null!=B?B:'',ba='undefined'!=typeof p&&null!=p?'-xhr':'';h=
Fb(h);n=Fb(n);for(var P in h)if('object'!=typeof h[P]||Array.isArray(h[P])||null===h[P])if(Array.isArray(h[P])){v+='-'+P.replace(/[^A-Za-z0-9_-]/g,'_');var u=0<h[P].length||'undefined'!=typeof n[P]&&0<n[P].length?'':' is-empty';W+='<li class="gina-toolbar-collection">';W+='<a href="#" class="gina-toolbar-key gina-toolbar'+ba+'-folding-state-'+Qa(N,P.replace(/[^A-Za-z0-9_-]/g,'_'))+u+'">'+P+' <span>['+h[P].length+']</span></a>';W+='<ul class="gina-toolbar-collection">'+Yb(h[P],n[P],v,p,B)+'</ul>';
W+='</li>';v=v.substr(0,v.length-P.length)}else u=null===n[P]?'null':typeof n[P],'undefined'==u?(W+='<li class="gina-toolbar-key-value">',W+='<span class="gina-toolbar-key gina-toolbar-key-added">'+P+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+u+'">'+h[P]+'</span>'):(h[P]!==n[P]&&(W+='<li class="gina-toolbar-key-value gina-toolbar-is-overridden">',W+='<span class="gina-toolbar-key">'+P+':</span> <span class="gina-toolbar-value">'+n[P]+'</span>',W+='</li>'),W+='<li class="gina-toolbar-key-value">',
W+='<span class="gina-toolbar-key">'+P+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+u+'">'+h[P]+'</span>'),W+='</li>';else v+='-'+P.replace(/[^A-Za-z0-9_-]/g,'_'),u=0<h[P].count()||'undefined'!=typeof n[P]&&0<n[P].count()?'':' is-empty',W+='<li class="gina-toolbar-object">',W+='<a href="#" class="gina-toolbar-key gina-toolbar'+ba+'-folding-state-'+Qa(N,P.replace(/[^A-Za-z0-9_-]/g,'_'))+u+'">'+P+' <span>{ }</span></a>',W+='<ul class="gina-toolbar-object">'+Gb(h[P],n[P],v,
p,B)+'</ul>',W+='</li>',v=v.substr(0,v.length-P.length);return W},Yb=function(h,n,v,p,B){var W='';v='undefined'!=typeof v&&null!=v?v:'';var N='undefined'!=typeof B&&null!=B?B:'',ba='undefined'!=typeof p&&null!=p?'-xhr':'';n||=[];for(var P=0,u=h.length;P<u;++P)'object'!=typeof h[P]||Array.isArray(h[P])?Array.isArray(h[P])?(v+='-'+P,''==N&&(N=v),W+='<li class="gina-toolbar-collection">',W+='<a href="#" class="gina-toolbar-key gina-toolbar'+ba+'-folding-state-'+Qa(N,P)+'">'+P+'<span>[ ]</span></a>',
W+='<ul class="gina-toolbar-collection">'+Yb(h[P],n[P],v,p,B)+'</ul>',W+='</li>',v=v.substr(0,v.length-P.toString().length)):W+='<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+P+':</span> <span class="gina-toolbar-value">'+h[P]+'</span></li>':(n[P]||(n[P]=h[P]),v+='-'+P,''==N&&(N=v),W+='<li class="gina-toolbar-object">',W+='<a href="#" class="gina-toolbar-key gina-toolbar'+ba+'-folding-state-'+Qa(N,P)+'">'+P+' <span>{ }</span></a>',W+='<ul class="gina-toolbar-object">'+Gb(h[P],
n[P],v,p,B)+'</ul>',W+='</li>',v=v.substr(0,v.length-P.toString().length-1));return W},Zb=function(h,n,v,p,B,W){v=null!=v?v.replace(/[^A-Za-z0-9_-]/g,'_'):'';var N='undefined'!=typeof p&&null!=p?'-xhr':'';h=Fb(h);n=Fb(n);W||=B;for(var ba in h){var P=ba;if('object'!=typeof h[ba]||Array.isArray(h[ba])||null===h[ba])if(Array.isArray(h[ba])){var u=Q('#gina-toolbar-view-'+v.substr(0,v.length-1));var fa=u.length?!0:!1;!fa||/^html/.test(v)?(u=Q('.'+v),fa=v+ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-',u.append('<li class="gina-toolbar-collection"><a href="#" class="gina-toolbar-key gina-toolbar'+
N+'-folding-state-'+Qa(ba.replace(/[^A-Za-z0-9_-]/g,'_'),fa.substr(0,fa.length-1))+'">'+ba+' <span>['+h[ba].length+']</span></a><ul> '+Yb(h[ba],n[ba],fa,u.find('li ul.'+v.substr(0,v.length-1)),P)+'</ul></li>')):(fa=v+ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-',u.find('li.'+v.substr(0,v.length-1)+' ul').append('<li class="gina-toolbar-collection"><a class="gina-toolbar-key gina-toolbar'+N+'-folding-state-'+Qa(ba.replace(/[^A-Za-z0-9_-]/g,'_'),fa.substr(0,fa.length-1))+'">'+ba+' <span>['+h[ba].length+']</span></a><ul>'+
Yb(h[ba],n[ba],fa,u.find('li ul.'+v.substr(0,v.length-1)),P)+'</ul></li>'));v+=ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-';v=v.substr(0,v.length-ba.length-1)}else if(P=null===n[ba]?'null':typeof n[ba],'undefined'==P)/\-$/.test(v)&&(v=v.substr(0,v.length-1)),v&&B.find('ul.'+v).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key gina-toolbar-key-added">'+ba+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+P+'">'+h[ba]+'</span></li>');else if(h[ba]!==n[ba]){v||(v+=
ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-');try{B.find('ul.'+v).append('<li class="gina-toolbar-key-value gina-toolbar-is-overridden"><span class="gina-toolbar-key">'+ba+':</span> <span class="gina-toolbar-value">'+n[ba]+'</span></li>'),B.find('ul.'+v).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ba+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+P+'">'+h[ba]+'</span></li>')}catch(ra){throw Error('GinaToolbarError: `ul.'+v+'` not found');}}else!v||
/^html\-properties/.test(v)?W.find('.gina-toolbar-properties').append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ba+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+P+'">'+h[ba]+'</span></li>'):W.find('ul.'+v.substr(0,v.length-1)).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ba+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+P+'">'+h[ba]+'</span></li>');else u=Q('#gina-toolbar-view-'+v.substr(0,v.length-
1)),(fa=u.length?!0:!1)?(fa=v+ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-',u.find('ul.'+v.substr(0,v.length-1)).append('<li class="gina-toolbar-object"><a href="#" class="gina-toolbar-key gina-toolbar'+N+'-folding-state-'+Qa(ba.replace(/[^A-Za-z0-9_-]/g,'_'),fa.substr(0,fa.length-1))+'">'+ba+' <span>{ }</span></a><ul class="gina-toolbar-object '+fa.substr(0,fa.length-1)+'"></ul></li>'),Zb(h[ba],n[ba],fa,p,u.find('ul.'+v.substr(0,v.length-1)),W),v+=ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-'):(v+=ba.replace(/[^A-Za-z0-9_-]/g,
'_')+'-','params'==ba?(P='<div id="gina-toolbar-view-'+v.substr(0,v.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+v.substr(0,v.length-1)+'</h2><ul class="'+v.substr(0,v.length-1)+'"></ul></div>',Q('#gina-toolbar-view-html-properties').before(P)):/^html/.test(v)||(P='<div id="gina-toolbar-view-'+v.substr(0,v.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+v.substr(0,v.length-1)+'</h2><ul class="'+v.substr(0,v.length-1)+'"></ul></div>',
B.append(P)),Zb(h[ba],n[ba],v,p,B.find('ul.'+v.substr(0,v.length-1)),W)),v=v.substr(0,v.length-ba.length-1)}return W.html()},ta=function(h){h=gina.hasPopinHandler?gina.popin.getActivePopin():null;var n,v=(gina.hasPopinHandler?Q('#'+h.id):Q('body')).html().match(/404:\[(.+)\](.+)@(.+)"/gm);if(v){var p=0;for(n=v.length;p<n;++p){h=v[p].replace(/"(.*)|"/g,'');var B=h.match(/\[(.*)\]/g,'')[0].replace(/\[|\]/g,'');da.getRouteByUrl(h,B)}}fLen=da.notFound.count();if(0<fLen)for(f in da.notFound)console.warn('(x'+
da.notFound[f].count+') '+f+' => '+da.notFound[f].message)},wa=function(h,n,v,p,B,W,N){if(!W)return!1;for(var ba=B[p].attributes,P,u=B[p].getAttribute('id')||B[p].id,fa=Q('<div id="gina-toolbar-form-'+u+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+u+'</h2><ul class="gina-toolbar-section-content gina-toolbar-code" style="display: none;"><li class="gina-toolbar-form-attributes"><h3 class="gina-toolbar-sub-section-title">'+'gina-toolbar-form-attributes'.replace(/gina-toolbar-form-/,
'')+'</h3><ul class="gina-toolbar-code"></ul></li></ul></div>'),ra,ka,ia=null,za=0,xa=ba.length;za<xa;++za)ra=ba[za].name,ka=ba[za].nodeValue,/^method$/.test(ra)&&(ka=ka.toUpperCase()),/^class$/.test(ra)&&/\s+/.test(ka)&&(ka='<ul><li>'+ka.replace(/\s+/g,'</li><li>')+'</li></ul>'),/^action$/.test(ra)&&((P='undefined'!=typeof ba.method?ba.method.nodeValue:void 0)||console.warn('[ ToolbarFormHelper::UndefinedMethod : form `'+ba.id.nodeValue+'` method attribute cannot be left undefined !'),P=da.getRouteByUrl(ka,
P),'undefined'!=typeof P&&P||(P={name:'not found',namespace:'not found',param:{control:'not found',file:'not found'}}),ka='<ul><li><span class="gina-toolbar-key">url</span><span class="gina-toolbar-value">'+(ka||'#')+'</span></li><li><span class="gina-toolbar-key">route</span><span class="gina-toolbar-value">'+P.name+'</span></li><li><span class="gina-toolbar-key">namespace</span><span class="gina-toolbar-value">'+(P.namespace||'root controller')+'</span></li><li><span class="gina-toolbar-key">control</span><span class="gina-toolbar-value">'+
P.param.control+'</span></li><li><span class="gina-toolbar-key">file</span><span class="gina-toolbar-value">'+P.param.file+'</span></li><ul>',ia='<li><span class="gina-toolbar-key">'+ra+':</span><span class="gina-toolbar-value">'+ka+'</span></li>'),/^data-gina-form-event/.test(ra)?(P='events',ia=fa.find('.gina-toolbar-form-attributes').find('.gina-toolbar-key-events').length?!0:!1,ra=ra.replace(/^data-gina-form-event-/,''),ia||fa.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+
P+'"><h3 class="gina-toolbar-sub-section-title">'+P+'</h3><ul class="gina-toolbar-code"></ul></li>'),ia='<li><span class="gina-toolbar-key">'+ra+':</span><span class="gina-toolbar-value">'+ka+'</span></li>',fa.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+P+' > ul').append(ia)):(/^action$/.test(ra)||(ia='<li><span class="gina-toolbar-key">'+ra+':</span><span class="gina-toolbar-value">'+ka+'</span></li>'),fa.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-attributes > ul').append(ia));
ba=null;try{var Ya=B[p].getAttribute('data-gina-form-rule');ba='undefined'!=typeof Ya&&null!=Ya?eval('gina.forms.rules.'+Ya.replace(/-/g,'.')):eval('gina.forms.rules.'+u.replace(/-/g,'.'))}catch(Ta){}ba&&(P='rules',fa.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+P+'"><h3 class="gina-toolbar-sub-section-title">'+P+'</h3><ul class="gina-toolbar-properties">'+Gb(ba,ba,u,N,P)+'</ul></li>'));v.append(fa);++p;p<W&&wa(h,n,v,p,B,W,N)},Ha=function(h,n,v,p){var B=Q('#gina-toolbar-form-'+
h);$section=B.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+n+'> ul');if(0<$section.length){if(0==v.count())return B.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+n).remove(),!1;$section.html(Gb(v,v,h,p,n))}else B.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+n+'"><h3 class="gina-toolbar-sub-section-title">'+n+'</h3><ul class="gina-toolbar-properties">'+Gb(v,v,h,p,n)+'</ul></li>');h=B.find('ul.gina-toolbar-section-content');
h.is(':visible')||h.slideToggle()},M=function(h,n){return h='<label class="gina-toolbar-input-file"><input type="file" multiple id="'+(h+'">')+n+'</label>'},e=function(h,n){h=M('mock','Select your JSON file');Sa.html(h);va.text('');Sa.find('input').off('change').on('change',function(v){var p=Q(this)[0].files,B=v=null;if(1==p.length)v=Q(this)[0].files[0],B=new FileReader,B.addEventListener('load',function(){va.text(B.result);na.text(B.result);n()},!1),B.readAsBinaryString(v);else{var W=0;B=[];for(var N=
0,ba=p.length;N<ba;++N)switch(v=p[N],!0){case /user/.test(v.name):B[N]=new FileReader;B[N].addEventListener('load',function(P){va.text(P.currentTarget.result);++W;W==p.length&&n()},!1);B[N].readAsBinaryString(v);break;case /gina/.test(v.name):B[N]=new FileReader,B[N].addEventListener('load',function(P){na.text(P.currentTarget.result);++W;W==p.length&&n()},!1),B[N].readAsBinaryString(v)}}});return!1},b=function(h,n){for(var v in h)'object'==typeof h[v]&&b(h[v],n+v+'-')};this.update=function(h,n){cb(h,
n)};this.restore=function(){ua&&'undefined'!=typeof ua.data&&(Fa.jsonObject.data=ua.data);cb('data',Fa.jsonObject,Fa.ginaJsonObject);U=!1;da.notFound={}};if('undefined'!=typeof gina.validator)gina.validator.on('initialized',function(){console.log('toolbar validator ready');vb()});else vb()}});
define('gina','require vendor/uuid utils/merge utils/events helpers/prototypes helpers/dateFormat gina/toolbar'.split(' '),function(E){E('utils/events');var Q=E('utils/merge'),da=E('helpers/dateFormat')();E('helpers/prototypes')({dateFormat:da});var Ga=E('vendor/uuid');window.process||function(L,V,pa,U,Y,m,T){for(m=L[pa]||(L[pa]={});!T&&Y<U.length;)T=L[U[Y++]+'requestAnimationFrame'];m[V]=m[V]||T&&T.bind(L)||L.setImmediate||L.setTimeout}(window,'nextTick','process',['r','webkitR','mozR','msR','oR'],
0);window.getComputedStyle||(window.getComputedStyle=function(L,V){this.el=L;this.getPropertyValue=function(pa){var U=/(\-([a-z]){1})/g;'float'==pa&&(pa='styleFloat');U.test(pa)&&(pa=pa.replace(U,function(Y,m,T){return T.toUpperCase()}));return L.currentStyle[pa]?L.currentStyle[pa]:null};return this});return function(L){this.plugin='gina';var V='gina-'+Ga.v1(),pa=document,U;document.id=V;V={id:V,isFrameworkLoaded:!1,hasValidator:!1,hasPopinHandler:!1,config:{},registeredEvents:{},events:{},setOptions:function(Y){U=
Q(U,Y,!0)}};'undefined'!=typeof parent.window.gina&&(window.gina=Q(window.gina||{},parent.window.gina));V=Q(window.gina||{},V);registerEvents(this.plugin,['ginaloaded','ready']);triggerEvent(L,pa,'ginaloaded',V)}});
!function(E,Q){'object'==typeof exports&&'undefined'!=typeof module?module.exports=Q():'function'==typeof define&&define.amd?define('vendor/engine.io',Q):(E='undefined'!=typeof globalThis?globalThis:E||self).eio=Q()}(this,function(){function E(ta){return E='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(wa){return typeof wa}:function(wa){return wa&&'function'==typeof Symbol&&wa.constructor===Symbol&&wa!==Symbol.prototype?'symbol':typeof wa},E(ta)}function Q(ta,wa){if(!(ta instanceof
wa))throw new TypeError('Cannot call a class as a function');}function da(ta,wa){for(var Ha=0;Ha<wa.length;Ha++){var M=wa[Ha];M.enumerable=M.enumerable||!1;M.configurable=!0;'value'in M&&(M.writable=!0);Object.defineProperty(ta,M.key,M)}}function Ga(ta,wa,Ha){return wa&&da(ta.prototype,wa),Ha&&da(ta,Ha),ta}function L(){return L=Object.assign||function(ta){for(var wa=1;wa<arguments.length;wa++){var Ha=arguments[wa],M;for(M in Ha)Object.prototype.hasOwnProperty.call(Ha,M)&&(ta[M]=Ha[M])}return ta},
L.apply(this,arguments)}function V(ta,wa){if('function'!=typeof wa&&null!==wa)throw new TypeError('Super expression must either be null or a function');ta.prototype=Object.create(wa&&wa.prototype,{constructor:{value:ta,writable:!0,configurable:!0}});wa&&U(ta,wa)}function pa(ta){return pa=Object.setPrototypeOf?Object.getPrototypeOf:function(wa){return wa.__proto__||Object.getPrototypeOf(wa)},pa(ta)}function U(ta,wa){return U=Object.setPrototypeOf||function(Ha,M){return Ha.__proto__=M,Ha},U(ta,wa)}
function Y(){if('undefined'==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(ta){return!1}}function m(ta,wa,Ha){return m=Y()?Reflect.construct:function(M,e,b){var h=[null];h.push.apply(h,e);M=new (Function.bind.apply(M,h));return b&&U(M,b.prototype),M},m.apply(null,arguments)}function T(ta){var wa='function'==typeof Map?new Map:void 0;return T=function(Ha){function M(){return m(Ha,
arguments,pa(this).constructor)}if(null===Ha||(e=Ha,-1===Function.toString.call(e).indexOf('[native code]')))return Ha;var e;if('function'!=typeof Ha)throw new TypeError('Super expression must either be null or a function');if(void 0!==wa){if(wa.has(Ha))return wa.get(Ha);wa.set(Ha,M)}return M.prototype=Object.create(Ha.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),U(M,Ha)},T(ta)}function x(ta){if(void 0===ta)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return ta}function ma(ta){var wa=Y();return function(){var Ha=pa(ta);if(wa){var M=pa(this).constructor;Ha=Reflect.construct(Ha,arguments,M)}else Ha=Ha.apply(this,arguments);return!Ha||'object'!=typeof Ha&&'function'!=typeof Ha?x(this):Ha}}function Da(ta,wa,Ha){return Da='undefined'!=typeof Reflect&&Reflect.get?Reflect.get:function(M,e,b){for(;!Object.prototype.hasOwnProperty.call(M,e)&&null!==(M=pa(M)););if(M)return e=Object.getOwnPropertyDescriptor(M,e),e.get?e.get.call(b):e.value},Da(ta,wa,Ha||
ta)}function R(ta){if(ta){for(var wa in R.prototype)ta[wa]=R.prototype[wa];return ta}}function J(ta){for(var wa=arguments.length,Ha=Array(1<wa?wa-1:0),M=1;M<wa;M++)Ha[M-1]=arguments[M];return Ha.reduce(function(e,b){return ta.hasOwnProperty(b)&&(e[b]=ta[b]),e},{})}function w(ta,wa){wa.useNativeTimers?(ta.setTimeoutFn=zb.bind(Na),ta.clearTimeoutFn=Ia.bind(Na)):(ta.setTimeoutFn=setTimeout.bind(Na),ta.clearTimeoutFn=clearTimeout.bind(Na))}function q(ta){var wa='';do wa=vb[ta%64]+wa,ta=Math.floor(ta/
64);while(0<ta);return wa}function r(){var ta=q(+new Date);return ta!==La?(cb=0,La=ta):ta+'.'+q(cb++)}function H(ta){var wa='',Ha;for(Ha in ta)ta.hasOwnProperty(Ha)&&(wa.length&&(wa+='&'),wa+=encodeURIComponent(Ha)+'='+encodeURIComponent(ta[Ha]));return wa}function I(ta){var wa={};ta=ta.split('&');for(var Ha=0,M=ta.length;Ha<M;Ha++){var e=ta[Ha].split('=');wa[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return wa}function A(ta){ta=ta.xdomain;try{if('undefined'!=typeof XMLHttpRequest&&(!ta||
Cb))return new XMLHttpRequest}catch(wa){}if(!ta)try{return new (Na[['Active'].concat('Object').join('X')])('Microsoft.XMLHTTP')}catch(wa){}}function y(){}function C(){for(var ta in Eb.requests)Eb.requests.hasOwnProperty(ta)&&Eb.requests[ta].abort()}function F(ta){var wa=ta,Ha=ta.indexOf('['),M=ta.indexOf(']');-1!=Ha&&-1!=M&&(ta=ta.substring(0,Ha)+ta.substring(Ha,M).replace(/:/g,';')+ta.substring(M,ta.length));var e,b;ta=Gb.exec(ta||'');for(var h={},n=14;n--;)h[Yb[n]]=ta[n]||'';return-1!=Ha&&-1!=M&&
(h.source=wa,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,':'),h.authority=h.authority.replace('[','').replace(']','').replace(/;/g,':'),h.ipv6uri=!0),h.pathNames=function(v,p){v=p.replace(/\/{2,9}/g,'/').split('/');'/'!=p.substr(0,1)&&0!==p.length||v.splice(0,1);'/'==p.substr(p.length-1,1)&&v.splice(v.length-1,1);return v}(0,h.path),h.queryKey=(e=h.query,b={},e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(v,p,B){p&&(b[p]=B)}),b),h}var O=Object.create(null);O.open='0';O.close='1';O.ping=
'2';O.pong='3';O.message='4';O.upgrade='5';O.noop='6';var z=Object.create(null);Object.keys(O).forEach(function(ta){z[O[ta]]=ta});for(var S={type:'error',data:'parser error'},X='function'==typeof Blob||'undefined'!=typeof Blob&&'[object BlobConstructor]'===Object.prototype.toString.call(Blob),va='function'==typeof ArrayBuffer,na=function(ta,wa,Ha){var M=ta.type;ta=ta.data;return X&&ta instanceof Blob?wa?Ha(ta):Ca(ta,Ha):va&&(ta instanceof ArrayBuffer||('function'==typeof ArrayBuffer.isView?ArrayBuffer.isView(ta):
ta&&ta.buffer instanceof ArrayBuffer))?wa?Ha(ta):Ca(new Blob([ta]),Ha):Ha(O[M]+(ta||''))},Ca=function(ta,wa){var Ha=new FileReader;return Ha.onload=function(){var M=Ha.result.split(',')[1];wa('b'+M)},Ha.readAsDataURL(ta)},Fa='undefined'==typeof Uint8Array?[]:new Uint8Array(256),Ba=0;64>Ba;Ba++)Fa['ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.charCodeAt(Ba)]=Ba;var ua='function'==typeof ArrayBuffer,Aa=function(ta,wa){if('string'!=typeof ta)return{type:'message',data:Ra(ta,wa)};
var Ha=ta.charAt(0);if('b'===Ha){ta=ta.substring(1);if(ua){var M=.75*ta.length;Ha=ta.length;var e=0;'='===ta[ta.length-1]&&(M--,'='===ta[ta.length-2]&&M--);var b=new ArrayBuffer(M),h=new Uint8Array(b);for(M=0;M<Ha;M+=4){var n=Fa[ta.charCodeAt(M)];var v=Fa[ta.charCodeAt(M+1)];var p=Fa[ta.charCodeAt(M+2)];var B=Fa[ta.charCodeAt(M+3)];h[e++]=n<<2|v>>4;h[e++]=(15&v)<<4|p>>2;h[e++]=(3&p)<<6|63&B}wa=Ra(b,wa)}else wa={base64:!0,data:ta};wa={type:'message',data:wa}}else wa=z[Ha]?1<ta.length?{type:z[Ha],data:ta.substring(1)}:
{type:z[Ha]}:S;return wa},Ra=function(ta,wa){return'blob'===wa&&ta instanceof ArrayBuffer?new Blob([ta]):ta},Sa=String.fromCharCode(30);R.prototype.on=R.prototype.addEventListener=function(ta,wa){return this._callbacks=this._callbacks||{},(this._callbacks['$'+ta]=this._callbacks['$'+ta]||[]).push(wa),this};R.prototype.once=function(ta,wa){function Ha(){this.off(ta,Ha);wa.apply(this,arguments)}return Ha.fn=wa,this.on(ta,Ha),this};R.prototype.off=R.prototype.removeListener=R.prototype.removeAllListeners=
R.prototype.removeEventListener=function(ta,wa){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var Ha,M=this._callbacks['$'+ta];if(!M)return this;if(1==arguments.length)return delete this._callbacks['$'+ta],this;for(var e=0;e<M.length;e++)if((Ha=M[e])===wa||Ha.fn===wa){M.splice(e,1);break}return 0===M.length&&delete this._callbacks['$'+ta],this};R.prototype.emit=function(ta){this._callbacks=this._callbacks||{};for(var wa=Array(arguments.length-1),Ha=this._callbacks['$'+
ta],M=1;M<arguments.length;M++)wa[M-1]=arguments[M];if(Ha){M=0;for(var e=(Ha=Ha.slice(0)).length;M<e;++M)Ha[M].apply(this,wa)}return this};R.prototype.emitReserved=R.prototype.emit;R.prototype.listeners=function(ta){return this._callbacks=this._callbacks||{},this._callbacks['$'+ta]||[]};R.prototype.hasListeners=function(ta){return!!this.listeners(ta).length};var Na='undefined'!=typeof self?self:'undefined'!=typeof window?window:Function('return this')(),zb=setTimeout,Ia=clearTimeout,La,Za=function(ta){function wa(M,
e,b){var h;return Q(this,wa),(h=Ha.call(this,M)).description=e,h.context=b,h.type='TransportError',h}V(wa,ta);var Ha=ma(wa);return wa}(T(Error));Ba=function(ta){function wa(M){var e;return Q(this,wa),(e=Ha.call(this)).writable=!1,w(x(e),M),e.opts=M,e.query=M.query,e.readyState='',e.socket=M.socket,e}V(wa,ta);var Ha=ma(wa);return Ga(wa,[{key:'onError',value:function(M,e,b){return Da(pa(wa.prototype),'emitReserved',this).call(this,'error',new Za(M,e,b)),this}},{key:'open',value:function(){return'closed'!==
this.readyState&&''!==this.readyState||(this.readyState='opening',this.doOpen()),this}},{key:'close',value:function(){return'opening'!==this.readyState&&'open'!==this.readyState||(this.doClose(),this.onClose()),this}},{key:'send',value:function(M){'open'===this.readyState&&this.write(M)}},{key:'onOpen',value:function(){this.readyState='open';this.writable=!0;Da(pa(wa.prototype),'emitReserved',this).call(this,'open')}},{key:'onData',value:function(M){M=Aa(M,this.socket.binaryType);this.onPacket(M)}},
{key:'onPacket',value:function(M){Da(pa(wa.prototype),'emitReserved',this).call(this,'packet',M)}},{key:'onClose',value:function(M){this.readyState='closed';Da(pa(wa.prototype),'emitReserved',this).call(this,'close',M)}}]),wa}(R);for(var vb='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''),cb=0,Xa=0;64>Xa;Xa++);Xa=!1;try{Xa='undefined'!=typeof XMLHttpRequest&&'withCredentials'in new XMLHttpRequest}catch(ta){}var Cb=Xa,Db=null!=(new A({xdomain:!1})).responseType;Xa=function(ta){function wa(M){var e;
if(Q(this,wa),(e=Ha.call(this,M)).polling=!1,'undefined'!=typeof location){var b='https:'===location.protocol,h=location.port;h||=b?'443':'80';e.xd='undefined'!=typeof location&&M.hostname!==location.hostname||h!==M.port;e.xs=M.secure!==b}M=M&&M.forceBase64;return e.supportsBinary=Db&&!M,e}V(wa,ta);var Ha=ma(wa);return Ga(wa,[{key:'doOpen',value:function(){this.poll()}},{key:'pause',value:function(M){var e=this;this.readyState='pausing';var b=function(){e.readyState='paused';M()};if(this.polling||
!this.writable){var h=0;this.polling&&(h++,this.once('pollComplete',function(){--h||b()}));this.writable||(h++,this.once('drain',function(){--h||b()}))}else b()}},{key:'poll',value:function(){this.polling=!0;this.doPoll();this.emitReserved('poll')}},{key:'onData',value:function(M){var e=this;(function(b,h){b=b.split(Sa);for(var n=[],v=0;v<b.length;v++){var p=Aa(b[v],h);if(n.push(p),'error'===p.type)break}return n})(M,this.socket.binaryType).forEach(function(b){if('opening'===e.readyState&&'open'===
b.type&&e.onOpen(),'close'===b.type)return e.onClose({description:'transport closed by the server'}),!1;e.onPacket(b)});'closed'!==this.readyState&&(this.polling=!1,this.emitReserved('pollComplete'),'open'===this.readyState&&this.poll())}},{key:'doClose',value:function(){var M=this,e=function(){M.write([{type:'close'}])};'open'===this.readyState?e():this.once('open',e)}},{key:'write',value:function(M){var e=this;this.writable=!1;(function(b,h){var n=b.length,v=Array(n),p=0;b.forEach(function(B,W){na(B,
!1,function(N){v[W]=N;++p===n&&h(v.join(Sa))})})})(M,function(b){e.doWrite(b,function(){e.writable=!0;e.emitReserved('drain')})})}},{key:'uri',value:function(){var M=this.query||{},e=this.opts.secure?'https':'http',b='';!1!==this.opts.timestampRequests&&(M[this.opts.timestampParam]=r());this.supportsBinary||M.sid||(M.b64=1);this.opts.port&&('https'===e&&443!==Number(this.opts.port)||'http'===e&&80!==Number(this.opts.port))&&(b=':'+this.opts.port);M=H(M);return e+'://'+(-1!==this.opts.hostname.indexOf(':')?
'['+this.opts.hostname+']':this.opts.hostname)+b+this.opts.path+(M.length?'?'+M:'')}},{key:'request',value:function(){var M=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return L(M,{xd:this.xd,xs:this.xs},this.opts),new Eb(this.uri(),M)}},{key:'doWrite',value:function(M,e){var b=this;M=this.request({method:'POST',data:M});M.on('success',e);M.on('error',function(h,n){b.onError('xhr post error',h,n)})}},{key:'doPoll',value:function(){var M=this,e=this.request();e.on('data',this.onData.bind(this));
e.on('error',function(b,h){M.onError('xhr poll error',b,h)});this.pollXhr=e}},{key:'name',get:function(){return'polling'}}]),wa}(Ba);var Eb=function(ta){function wa(M,e){var b;return Q(this,wa),w(x(b=Ha.call(this)),e),b.opts=e,b.method=e.method||'GET',b.uri=M,b.async=!1!==e.async,b.data=void 0!==e.data?e.data:null,b.create(),b}V(wa,ta);var Ha=ma(wa);return Ga(wa,[{key:'create',value:function(){var M=this,e=J(this.opts,'agent','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','autoUnref');
e.xdomain=!!this.opts.xd;e.xscheme=!!this.opts.xs;var b=this.xhr=new A(e);try{b.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var h in b.setDisableHeaderCheck&&b.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(h)&&b.setRequestHeader(h,this.opts.extraHeaders[h])}catch(n){}if('POST'===this.method)try{b.setRequestHeader('Content-type','text/plain;charset=UTF-8')}catch(n){}try{b.setRequestHeader('Accept','*/*')}catch(n){}'withCredentials'in
b&&(b.withCredentials=this.opts.withCredentials);this.opts.requestTimeout&&(b.timeout=this.opts.requestTimeout);b.onreadystatechange=function(){4===b.readyState&&(200===b.status||1223===b.status?M.onLoad():M.setTimeoutFn(function(){M.onError('number'==typeof b.status?b.status:0)},0))};b.send(this.data)}catch(n){return void this.setTimeoutFn(function(){M.onError(n)},0)}'undefined'!=typeof document&&(this.index=wa.requestsCount++,wa.requests[this.index]=this)}},{key:'onError',value:function(M){this.emitReserved('error',
M,this.xhr);this.cleanup(!0)}},{key:'cleanup',value:function(M){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=y,M)try{this.xhr.abort()}catch(e){}'undefined'!=typeof document&&delete wa.requests[this.index];this.xhr=null}}},{key:'onLoad',value:function(){var M=this.xhr.responseText;null!==M&&(this.emitReserved('data',M),this.emitReserved('success'),this.cleanup())}},{key:'abort',value:function(){this.cleanup()}}]),wa}(R);if(Eb.requestsCount=0,Eb.requests={},'undefined'!=typeof document)'function'==
typeof attachEvent?attachEvent('onunload',C):'function'==typeof addEventListener&&addEventListener('onpagehide'in Na?'pagehide':'unload',C,!1);var ub='function'==typeof Promise&&'function'==typeof Promise.resolve?function(ta){return Promise.resolve().then(ta)}:function(ta,wa){return wa(ta,0)},xb=Na.WebSocket||Na.MozWebSocket,Fb='undefined'!=typeof navigator&&'string'==typeof navigator.product&&'reactnative'===navigator.product.toLowerCase(),Qa={websocket:function(ta){function wa(M){var e;return Q(this,
wa),(e=Ha.call(this,M)).supportsBinary=!M.forceBase64,e}V(wa,ta);var Ha=ma(wa);return Ga(wa,[{key:'doOpen',value:function(){if(this.check()){var M=this.uri(),e=this.opts.protocols,b=Fb?{}:J(this.opts,'agent','perMessageDeflate','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','localAddress','protocolVersion','origin','maxPayload','family','checkServerIdentity');this.opts.extraHeaders&&(b.headers=this.opts.extraHeaders);try{this.ws=Fb?new xb(M,e,b):e?new xb(M,e):new xb(M)}catch(h){return this.emitReserved('error',
h)}this.ws.binaryType=this.socket.binaryType||'arraybuffer';this.addEventListeners()}}},{key:'addEventListeners',value:function(){var M=this;this.ws.onopen=function(){M.opts.autoUnref&&M.ws._socket.unref();M.onOpen()};this.ws.onclose=function(e){return M.onClose({description:'websocket connection closed',context:e})};this.ws.onmessage=function(e){return M.onData(e.data)};this.ws.onerror=function(e){return M.onError('websocket error',e)}}},{key:'write',value:function(M){var e=this;this.writable=!1;
for(var b=function(n){var v=n===M.length-1;na(M[n],e.supportsBinary,function(p){try{e.ws.send(p)}catch(B){}v&&ub(function(){e.writable=!0;e.emitReserved('drain')},e.setTimeoutFn)})},h=0;h<M.length;h++)b(h)}},{key:'doClose',value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:'uri',value:function(){var M=this.query||{},e=this.opts.secure?'wss':'ws',b='';this.opts.port&&('wss'===e&&443!==Number(this.opts.port)||'ws'===e&&80!==Number(this.opts.port))&&(b=':'+this.opts.port);this.opts.timestampRequests&&
(M[this.opts.timestampParam]=r());this.supportsBinary||(M.b64=1);M=H(M);return e+'://'+(-1!==this.opts.hostname.indexOf(':')?'['+this.opts.hostname+']':this.opts.hostname)+b+this.opts.path+(M.length?'?'+M:'')}},{key:'check',value:function(){return!!xb}},{key:'name',get:function(){return'websocket'}}]),wa}(Ba),polling:Xa},Gb=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
Yb='source protocol authority userInfo user password host port relative path directory file query anchor'.split(' '),Zb=function(ta){function wa(M){var e,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Q(this,wa),e=Ha.call(this),M&&'object'===E(M)&&(b=M,M=null),M?(M=F(M),b.hostname=M.host,b.secure='https'===M.protocol||'wss'===M.protocol,b.port=M.port,M.query&&(b.query=M.query)):b.host&&(b.hostname=F(b.host).host),w(x(e),b),e.secure=null!=b.secure?b.secure:'undefined'!=typeof location&&
'https:'===location.protocol,b.hostname&&!b.port&&(b.port=e.secure?'443':'80'),e.hostname=b.hostname||('undefined'!=typeof location?location.hostname:'localhost'),e.port=b.port||('undefined'!=typeof location&&location.port?location.port:e.secure?'443':'80'),e.transports=b.transports||['polling','websocket'],e.readyState='',e.writeBuffer=[],e.prevBufferLen=0,e.opts=L({path:'/engine.io',agent:!1,withCredentials:!1,upgrade:!0,timestampParam:'t',rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},
transportOptions:{},closeOnBeforeunload:!0},b),e.opts.path=e.opts.path.replace(/\/$/,'')+'/','string'==typeof e.opts.query&&(e.opts.query=I(e.opts.query)),e.id=null,e.upgrades=null,e.pingInterval=null,e.pingTimeout=null,e.pingTimeoutTimer=null,'function'==typeof addEventListener&&(e.opts.closeOnBeforeunload&&addEventListener('beforeunload',function(){e.transport&&(e.transport.removeAllListeners(),e.transport.close())},!1),'localhost'!==e.hostname&&(e.offlineEventListener=function(){e.onClose('transport close',
{description:'network connection lost'})},addEventListener('offline',e.offlineEventListener,!1))),e.open(),e}V(wa,ta);var Ha=ma(wa);return Ga(wa,[{key:'createTransport',value:function(M){var e=L({},this.opts.query);e.EIO=4;e.transport=M;this.id&&(e.sid=this.id);e=L({},this.opts.transportOptions[M],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Qa[M](e)}},{key:'open',value:function(){var M=this;if(this.opts.rememberUpgrade&&wa.priorWebsocketSuccess&&
-1!==this.transports.indexOf('websocket'))var e='websocket';else{if(0===this.transports.length)return void this.setTimeoutFn(function(){M.emitReserved('error','No transports available')},0);e=this.transports[0]}this.readyState='opening';try{e=this.createTransport(e)}catch(b){return this.transports.shift(),void this.open()}e.open();this.setTransport(e)}},{key:'setTransport',value:function(M){var e=this;this.transport&&this.transport.removeAllListeners();this.transport=M;M.on('drain',this.onDrain.bind(this)).on('packet',
this.onPacket.bind(this)).on('error',this.onError.bind(this)).on('close',function(b){return e.onClose('transport close',b)})}},{key:'probe',value:function(M){function e(){B||(B=!0,ba(),p.close(),p=null)}function b(){N('transport closed')}function h(){N('socket closed')}function n(P){p&&P.name!==p.name&&e()}var v=this,p=this.createTransport(M),B=!1;wa.priorWebsocketSuccess=!1;var W=function(){B||(p.send([{type:'ping',data:'probe'}]),p.once('packet',function(P){if(!B)if('pong'===P.type&&'probe'===P.data){if(v.upgrading=
!0,v.emitReserved('upgrading',p),p)wa.priorWebsocketSuccess='websocket'===p.name,v.transport.pause(function(){B||'closed'!==v.readyState&&(ba(),v.setTransport(p),p.send([{type:'upgrade'}]),v.emitReserved('upgrade',p),p=null,v.upgrading=!1,v.flush())})}else P=Error('probe error'),P.transport=p.name,v.emitReserved('upgradeError',P)}))},N=function(P){P=Error('probe error: '+P);P.transport=p.name;e();v.emitReserved('upgradeError',P)},ba=function(){p.removeListener('open',W);p.removeListener('error',N);
p.removeListener('close',b);v.off('close',h);v.off('upgrading',n)};p.once('open',W);p.once('error',N);p.once('close',b);this.once('close',h);this.once('upgrading',n);p.open()}},{key:'onOpen',value:function(){if(this.readyState='open',wa.priorWebsocketSuccess='websocket'===this.transport.name,this.emitReserved('open'),this.flush(),'open'===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var M=0,e=this.upgrades.length;M<e;M++)this.probe(this.upgrades[M])}},{key:'onPacket',value:function(M){if('opening'===
this.readyState||'open'===this.readyState||'closing'===this.readyState)switch(this.emitReserved('packet',M),this.emitReserved('heartbeat'),M.type){case 'open':this.onHandshake(JSON.parse(M.data));break;case 'ping':this.resetPingTimeout();this.sendPacket('pong');this.emitReserved('ping');this.emitReserved('pong');break;case 'error':var e=Error('server error');e.code=M.data;this.onError(e);break;case 'message':this.emitReserved('data',M.data),this.emitReserved('message',M.data)}}},{key:'onHandshake',
value:function(M){this.emitReserved('handshake',M);this.id=M.sid;this.transport.query.sid=M.sid;this.upgrades=this.filterUpgrades(M.upgrades);this.pingInterval=M.pingInterval;this.pingTimeout=M.pingTimeout;this.maxPayload=M.maxPayload;this.onOpen();'closed'!==this.readyState&&this.resetPingTimeout()}},{key:'resetPingTimeout',value:function(){var M=this;this.clearTimeoutFn(this.pingTimeoutTimer);this.pingTimeoutTimer=this.setTimeoutFn(function(){M.onClose('ping timeout')},this.pingInterval+this.pingTimeout);
this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:'onDrain',value:function(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emitReserved('drain'):this.flush()}},{key:'flush',value:function(){if('closed'!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var M=this.getWritablePackets();this.transport.send(M);this.prevBufferLen=M.length;this.emitReserved('flush')}}},{key:'getWritablePackets',value:function(){if(!(this.maxPayload&&
'polling'===this.transport.name&&1<this.writeBuffer.length))return this.writeBuffer;for(var M,e=1,b=0;b<this.writeBuffer.length;b++){if(M=this.writeBuffer[b].data){if('string'==typeof M){for(var h=0,n=0,v=0,p=M.length;v<p;v++)128>(h=M.charCodeAt(v))?n+=1:2048>h?n+=2:55296>h||57344<=h?n+=3:(v++,n+=4);M=n}else M=Math.ceil(1.33*(M.byteLength||M.size));e+=M}if(0<b&&e>this.maxPayload)return this.writeBuffer.slice(0,b);e+=2}return this.writeBuffer}},{key:'write',value:function(M,e,b){return this.sendPacket('message',
M,e,b),this}},{key:'send',value:function(M,e,b){return this.sendPacket('message',M,e,b),this}},{key:'sendPacket',value:function(M,e,b,h){if('function'==typeof e&&(h=e,e=void 0),'function'==typeof b&&(h=b,b=null),'closing'!==this.readyState&&'closed'!==this.readyState)(b=b||{}).compress=!1!==b.compress,M={type:M,data:e,options:b},this.emitReserved('packetCreate',M),this.writeBuffer.push(M),h&&this.once('flush',h),this.flush()}},{key:'close',value:function(){var M=this,e=function(){M.onClose('forced close');
M.transport.close()},b=function v(){M.off('upgrade',v);M.off('upgradeError',v);e()},h=function(){M.once('upgrade',b);M.once('upgradeError',b)};return'opening'!==this.readyState&&'open'!==this.readyState||(this.readyState='closing',this.writeBuffer.length?this.once('drain',function(){M.upgrading?h():e()}):this.upgrading?h():e()),this}},{key:'onError',value:function(M){wa.priorWebsocketSuccess=!1;this.emitReserved('error',M);this.onClose('transport error',M)}},{key:'onClose',value:function(M,e){'opening'!==
this.readyState&&'open'!==this.readyState&&'closing'!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners('close'),this.transport.close(),this.transport.removeAllListeners(),'function'==typeof removeEventListener&&removeEventListener('offline',this.offlineEventListener,!1),this.readyState='closed',this.id=null,this.emitReserved('close',M,e),this.writeBuffer=[],this.prevBufferLen=0)}},{key:'filterUpgrades',value:function(M){for(var e=[],b=0,h=M.length;b<
h;b++)~this.transports.indexOf(M[b])&&e.push(M[b]);return e}}]),wa}(R);Zb.protocol=4;return function(ta,wa){return new Zb(ta,wa)}});
function BindingHelper(E){var Q={};'undefined'!=typeof E&&(Q=E);Q.process=function(da,Ga,L){if('undefined'==typeof da||!Array.isArray(da))throw Error('`bindings` must be a defined array');'undefined'==typeof Ga&&(Ga=da.length,L=0);if(da[L]){var V=da[L];if('undefined'==typeof V.call)throw Error('`bindings.['+L+'].call` is required !');if('function'!=typeof Q[V.call])throw Error('`bindingContext.'+V.call+'` is not a function');var pa=V.call;delete V.call;try{if('undefined'!=typeof V.handler){if(!window[V.handler])throw Error('`'+
V.handler+'` could not be reached. You must expose it to the `window` do object before any call.');var U=V.handler;delete V.handler;window[U].apply(this,Object.values(V));V.handler=U}else Q[pa].apply(this,Object.values(V));V.call=pa}catch(Y){console.error('BindingHelper encountered error while trying to execute `'+pa+'`'+Y.stack||Y)}Q.process(da,Ga,L+1)}};return Q}define('helpers/binding',[],function(){return BindingHelper});
define('gina/link',['require','jquery','vendor/uuid','utils/merge','utils/events'],function(E){E('jquery').noConflict();var Q=E('vendor/uuid'),da=E('utils/merge');E('utils/events');return function(Ga){function L(w,q){var r=R(w),H=r.id,I=document.getElementById(H)||null;(I.getAttribute('data-gina-link-event-on-success')||I.getAttribute('data-gina-link-event-on-error'))&&listenToXhrEvents(r);q='undefined'==typeof q?T:da(q,T);/^(http|https):/.test(w)&&!(new RegExp('^'+window.location.protocol+'//'+window.location.host)).test(w)&&
((new RegExp(window.location.hostname)).test(w)||(w=w.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+w));q.url=w;r&&'undefined'!=typeof r.options&&(q=da(r.options,q));q.withCredentials?'withCredentials'in m?q.isSynchrone?m.open(q.method,q.url,q.isSynchrone):m.open(q.method,q.url):'undefined'!=typeof XDomainRequest?(m=new XDomainRequest,m.open(q.method,q.url)):(m=null,triggerEvent(gina,I,'error.'+H,'CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ')):
q.isSynchrone?m.open(q.method,q.url,q.isSynchrone):m.open(q.method,q.url);if(!m)throw Error('No `xhr` object initiated');q.$link=r;handleXhr(m,I,q,E);m.send()}function V(w,q){if('object'!=typeof q)throw Error('`options` must be an object');w.options=da(q,pa.options);q=document.getElementById(w.id)||null;if('undefined'==typeof U.$links[w.id]){if(-1<x.indexOf(w.id))throw Error('`link '+w.id+'` already exists !');if(!gina.events[evt]){addListener(gina,q,evt,function(I){cancelEvent(I);I=Da(I.target.id);
var A=I.url;'undefined'==typeof I.options.isSynchrone&&(I.options.isSynchrone=!1);'undefined'==typeof I.options.withCredentials&&(I.options.withCredentials=!1);L(A,I.options)});var r=q.childNodes,H=0;lLen=r.length;if(0<lLen)for(;H<lLen;++H)'undefined'!=typeof r[H].tagName&&ma(r[H],q,evt)}w.request=L;w.getLinkById=Da;w.getLinkByUrl=R;U.$links[w.id]=w}}this.plugin='link';registerEvents(this.plugin,'loaded ready open close destroy success error progress'.split(' '));var pa={options:{url:void 0,'class':'gina-link-default'},
authorizedEvents:['ready','success','error'],events:{}},U={plugin:this.plugin,id:'gina-links-'+Q.v4(),on,eventData:{},$links:{},target:document,isReady:!1,initialized:!1},Y={plugin:this.plugin,on,eventData:{},target:document,url:null,request:null,$forms:[]},m=null,T={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}},x=[],ma=function(w,q,r){addListener(gina,w,'click',function(H){cancelEvent(H);triggerEvent(gina,q,r)})},Da=function(w){return'undefined'!=
typeof U.$links[w]?U.$links[w]:null},R=function(w){var q=null,r;for(r in gina.link.$links)if('undefined'!=typeof gina.link.$links[r].url&&gina.link.$links[r].url==w){q=gina.link.$links[r];break}return q},J=function(w,q){'undefined'==typeof w&&(w=U.target);var r,H=null;w=w.getElementsByTagName('a');for(var I=0,A=w.length;I<A;++I)if(r=w[I].getAttribute('data-gina-link')){r=w[I];var y={type:'a',method:'GET'};var C=r.getAttribute('data-gina-link-url');y.url='undefined'!=typeof C&&null!=C?C:r.getAttribute('href');
C=r.getAttribute('id');if('undefined'==typeof C||null==C||''==C||/popin\.link/.test(C))C='link.click.gina-link-'+U.id+'-'+Q.v4();r.id=C;evt=y.id=C;r.setAttribute('id',evt);'A'==r.tagName&&(H=r.getAttribute('onclick'));H?'undefined'==typeof H||/return false/.test(H)||(H=/;$/.test(H)?H+'return false;':H+'; return false;',r.setAttribute('onclick',H)):r.setAttribute('onclick','return false;');'undefined'==typeof U.$links[y.id]&&(y.target=r,r=da(y,Y),V(r,q))}};return function(w){U.bindLinks=J;U.request=
L;U.getLinkById=Da;U.getLinkByUrl=R;U.on('init',function(q){if(window.XMLHttpRequest)m=new XMLHttpRequest;else if(window.ActiveXObject)try{m=new ActiveXObject('Msxml2.XMLHTTP')}catch(r){try{m=new ActiveXObject('Microsoft.XMLHTTP')}catch(H){}}evt='click';addListener(gina,U.target,evt,function(r){'undefined'==typeof r.target.id&&(r.target.setAttribute('id',evt+'.'+Q.v4()),r.target.id=r.target.getAttribute('id'));if(/^link\.click\./.test(r.target.id)){cancelEvent(r);var H=r.target.id;(new RegExp('^link.click.gina-link-'+
U.id)).test(H)&&triggerEvent(gina,r.target,H,r.detail)}});'undefined'==typeof w&&(w={});U.options=w;J(U.target,w);gina.linkIsBinded=!0;U.isReady=!0;gina.hasLinkHandler=!0;gina.link=da(gina.link,U);triggerEvent(gina,U.target,'ready.'+U.id,U)});U.initialized=!0;return U}(Ga)}});
define('gina/popin','require jquery vendor/uuid utils/merge utils/routing utils/events'.split(' '),function(E){E('jquery').noConflict();var Q=E('vendor/uuid'),da=E('utils/merge');E('utils/routing');E('utils/events');return function(Ga){function L(){var z=null,S;for(S in gina.popin.$popins)if('undefined'!=typeof gina.popin.$popins[S].isOpen&&gina.popin.$popins[S].isOpen){z=gina.popin.$popins[S];break}!z&&gina.popin.activePopinId&&(z=gina.popin.$popins[gina.popin.activePopinId]);return z}function V(z,
S){var X=z.target,va=z.type;'undefined'!=typeof z.detail&&'function'==typeof z.detail.trim&&(X.innerHTML=z.detail.trim());z=function(Xa,Cb,Db){var Eb=Db.getAttribute('data-gina-popin-is-link');Eb=/^true$/i.test(Eb)?!0:!1;'link'!=Xa||Eb||(Xa='action');addListener(gina,Db,Cb,function(ub){cancelEvent(ub);if('close'!=Xa){var xb=!1,Fb='loaded.'+S.id;'undefined'==typeof gina.events[Fb]&&addListener(gina,X,Fb,function(Qa){Qa.preventDefault();xb||(xb=!0,Y(Qa.detail))});Fb={isSynchrone:!1,withCredentials:!1};
Fb=da(S.options,Fb);U(S.name,Db.href,Fb)}removeListener(gina,ub.target,ub.type)});addListener(gina,Db,'click',function(ub){cancelEvent(ub);if(null!=ub.target.getAttribute('disabled')&&'false'!=ub.target.getAttribute('disabled'))return!1;if('link'==Xa){var xb=ub.target.getAttribute('href')||null,Fb=ub.target.getAttribute('target');null!=Fb&&''!=Fb?window.open(xb,Fb):triggerEvent(gina,ub.target,ub.currentTarget.id,S)}else'undefined'==typeof ub.target.id&&(ub.target.setAttribute('id',Cb+'.'+Q.v4()),
ub.target.id=ub.target.getAttribute('id')),/^popin\.close\./.test(ub.target.id)&&(cancelEvent(ub),S.isRedirecting=!1,ma(S.name)),/^popin\.click\./.test(ub.target.id)&&(cancelEvent(ub),xb=ub.target.id,(new RegExp('^popin.click.gina-popin-'+J.id)).test(xb)&&triggerEvent(gina,ub.target,xb,ub.detail))})};gina.popinIsBinded=!0;var na=null,Ca=null,Fa=null;S.isOpen||addListener(gina,J.target.childNodes[0],'mousedown',function(Xa){if(/gina-popin-is-active/.test(Xa.target.className)){removeListener(gina,Xa.target,
'mousedown');Xa=[];na=0;var Cb=X.getElementsByTagName('button');Ca=0;Fa=Cb.length;if(0<Fa)for(;Ca<Fa;++Ca)/gina-popin-close/.test(Cb[Ca].className)&&(Xa[na]=Cb[Ca],++na);Cb=X.getElementsByTagName('div');Ca=0;Fa=Cb.length;if(0<Fa)for(;Ca<Fa;++Ca)/gina-popin-close/.test(Cb[Ca].className)&&(Xa[na]=Cb[Ca],++na);Cb=X.getElementsByTagName('a');Ca=0;Fa=Cb.length;if(0<Fa)for(;Ca<Fa;++Ca)/gina-popin-close/.test(Cb[Ca].className)&&(Xa[na]=Cb[Ca],++na);Ca=0;for(Fa=Xa.length;Ca<Fa;++Ca){Cb=Xa[Ca];let Db=Cb.getAttribute('id');
for(let Eb=0,ub=Da.length;Eb<ub;Eb++){let xb=Da[Eb];'undefined'!=typeof gina.events[xb]&&gina.events[xb]==Db&&removeListener(gina,Cb,xb);'undefined'!=typeof gina.events[Db]&&gina.events[Db]==Db&&removeListener(gina,Cb,Db);'undefined'!=typeof gina.events[xb+'.'+Db]&&gina.events[xb+'.'+Db]==Db&&removeListener(gina,Cb,xb+'.'+Db);'undefined'!=typeof gina.events[xb+'.'+Db]&&gina.events[xb+'.'+Db]==xb+'.'+Db&&removeListener(gina,Cb,xb+'.'+Db)}}S.isRedirecting=!1;ma(S.name)}});/<form/i.test(X.innerHTML)&&
'undefined'!=typeof q&&q&&(S.hasForm=!0);var Ba=[],ua=[],Aa=[];ua=X.getElementsByTagName('button');Ca=na=0;Fa=ua.length;if(0<ua.length)for(;Ca<Fa;++Ca)/gina-popin-close/.test(ua[Ca].className)&&(Ba[na]=ua[Ca],++na);ua=X.getElementsByTagName('div');Ca=0;Fa=ua.length;if(0<Fa)for(;Ca<Fa;++Ca)/gina-popin-close/.test(ua[Ca].className)&&(Ba[na]=ua[Ca],++na);ua=X.getElementsByTagName('a');Ca=0;Fa=ua.length;if(0<Fa)for(;Ca<Fa;++Ca)/gina-popin-close/.test(ua[Ca].className)?(Ba[na]=ua[Ca],++na):('undefined'==
typeof ua[Ca]||/(#|#.*)$/.test(ua[Ca].href)||ua[Ca].id)&&('undefined'==typeof ua[Ca]||/(#|#.*)$/.test(ua[Ca].href)||/^(click\.|popin\.link)/.test(ua[Ca].id))||Aa.push(ua[Ca]);var Ra=null;ua=null;Ca=0;for(Fa=Ba.length;Ca<Fa;++Ca)'A'==Ba[Ca].tagName&&(Ra=Ba[Ca].getAttribute('onclick')),Ra?'undefined'==typeof Ra||/return false/.test(Ra)||(Ra=/;$/.test(Ra)?Ra+'return false;':Ra+'; return false;'):Ba[Ca].setAttribute('onclick','return false;'),Ba[Ca].id?ua=Ba[Ca].id:(ua='popin.close.'+Q.v4(),Ba[Ca].id=
ua,Ba[Ca].setAttribute('id',ua)),'undefined'!=typeof gina.events[ua]&&gina.events[ua]==Ba[Ca].id||z('close',ua,Ba[Ca]);na=0;Fa=Aa.length;var Sa=null,Na=null,zb=null,Ia={},La=null,Za=new DOMParser,vb=null,cb=null;for(ua=Ba=Ba=null;na<Fa;++na)null==Aa[na].getAttribute('disabled')&&(Aa[na].id=/^null$/i.test(Aa[na].getAttribute('id'))?null:Aa[na].getAttribute('id'),Aa[na].id&&/^popin\.link/.test(Aa[na].id)&&/^popin\.click/.test(Aa[na].id)?ua=Aa[na].id:(ua=!0,Ba=Aa[na].getAttribute('href'),Ba&&''!=Ba&&
'#'!=Ba||('#'!=Ba&&Aa[na].setAttribute('href','#'),ua=!1),/^null$/i.test(Aa[na].id)?ua?(ua='popin.link.'+Q.v4(),Aa[na].setAttribute('data-gina-popin-is-link',!0)):(ua='popin.click.'+Q.v4(),Aa[na].setAttribute('data-gina-popin-is-link',!1)):ua=Aa[na].id,Aa[na].id=ua,Aa[na].setAttribute('id',ua)),Ba=(Ba=Aa[na].getAttribute('data-gina-form-submit'))&&/^true$/i.test(Ba)?!0:!1,Ba||(/^(null|\s*)$/.test(Aa[na].getAttribute('href'))||addListener(gina,Aa[na],'click',function(Xa){Xa.preventDefault();S.isRedirecting=
!0;if(S.hasForm){Sa=S.target.getElementsByTagName('FORM');Na=0;for(zb=Sa.length;Na<zb;++Na)if(vb=Xa.currentTarget.id,cb=Za.parseFromString(Sa.item(Na).innerHTML,'text/html').getElementById(vb)||!1)La=Sa[Na].getAttribute('data-gina-form-inherits-data')||null,Ia=da(Ia,JSON.parse(decodeURIComponent(La)));0<Ia.count()&&(/\?/.test(Xa.currentTarget.href)?Xa.currentTarget.href+='&inheritedData='+encodeURIComponent(JSON.stringify(Ia)):Xa.currentTarget.href+='?inheritedData='+encodeURIComponent(JSON.stringify(Ia)))}}),
'undefined'!=typeof gina.events[ua]&&gina.events[ua]==Aa[na].id||z('link',ua,Aa[na])));if(S.hasForm)for(z=null,Aa=X.getElementsByTagName('form'),na=0,Fa=Aa.length;na<Fa;++na)Aa[na].id&&'string'==typeof Aa[na]?z=Aa[na].id:(z=Aa[na].getAttribute('id')||'form.'+Q.v4(),Aa[na].setAttribute('id',z),Aa[na].id=z),0>S.$forms.indexOf(z)&&S.$forms.push(z),Aa[na].close=ma,q.isPopinContext=!0,q.validateFormById(Aa[na].getAttribute('id')),removeListener(gina,S.target,va)}function pa(z,S){var X=L();if(gina&&'undefined'!=
typeof window.ginaToolbar&&window.ginaToolbar&&'undefined'!=typeof z&&'undefined'!=typeof S&&z){var va=z;try{X=null;!S&&va.error&&/^(\{|\[)/.test(va.error)&&(va.error=JSON.parse(va.error));if('undefined'!=typeof va.error&&'object'==typeof va.error&&'object'==typeof va.error){X={status:va.status};for(xErr in va.error)/^error$/.test(xErr)||(X[xErr]=va.error[xErr]);X.error=va.error.error;va=X}else'undefined'!=typeof va.error&&'string'==typeof va.error&&(va=z);va.isXHRViewData=!0;ginaToolbar.update('data-xhr',
va);return}catch(na){throw na;}}try{X=y(J.activePopinId)}catch(na){ginaToolbar.update('data-xhr',na)}va='string'==typeof z&&/<(.*)>/.test(z)?(new DOMParser).parseFromString(z,'text/html').getElementById('gina-without-layout-xhr-data'):document.getElementById('gina-without-layout-xhr-data');if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&va)try{'undefined'!=typeof va.value&&va.value&&(va=JSON.parse(decodeURIComponent(va.value)),va.isXHRViewData=!0,ginaToolbar.update('data-xhr',
va))}catch(na){throw na;}z='string'==typeof z&&/<(.*)>/.test(z)?(new DOMParser).parseFromString(z,'text/html').getElementById('gina-without-layout-xhr-view'):document.getElementById('gina-without-layout-xhr-view');if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&z)try{'undefined'!=typeof z.value&&z.value&&(z=JSON.parse(decodeURIComponent(z.value)),ginaToolbar.update('view-xhr',z)),ginaToolbar.update('el-xhr',X.id)}catch(na){throw na;}}function U(z,S,X){if('undefined'==typeof z){if('undefined'==
typeof this.name)throw Error('`$popin.name` needs to be defined !');z=this.name}else'undefined'==typeof this.name&&'undefined'!=z&&(this.name=z);var va=C(z),na=va.id;gina.popin.activePopinId||(gina.popin.activePopinId=na);var Ca=document.getElementById(na)||null;null==Ca&&(z=va.options.class+' '+na,Ca=document.createElement('div'),Ca.setAttribute('id',na),Ca.setAttribute('class',z),J.target.firstChild.appendChild(Ca));'undefined'==typeof X?X=O:(z=O.withCredentials,X=da(X,O),X.withCredentials=z);!/^(http|https):/.test(S)||
(new RegExp('^'+window.location.protocol+'//'+window.location.host)).test(S)||(new RegExp(window.location.hostname)).test(S)||(S=S.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+S,X.withCredentials=!1);X.url=S;va.options=da(X,va.options);X.withCredentials?'withCredentials'in r?X.isSynchrone?r.open(X.method,X.url,X.isSynchrone):r.open(X.method,X.url):'undefined'!=typeof XDomainRequest?(r=new XDomainRequest,r.open(X.method,X.url)):(r=null,triggerEvent(gina,Ca,'error.'+na,'CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ')):
X.isSynchrone?r.open(X.method,X.url,X.isSynchrone):r.open(X.method,X.url);if(r){r.withCredentials='undefined'!=typeof X.withCredentials?X.withCredentials:!1;r.onerror=function(Ba,ua){Ba={status:r.status,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};J.eventData.error=Ba+'\n'+ua;pa(Ba,!0);triggerEvent(gina,Ca,'error.'+na,Ba)};for(var Fa in X.headers)r.setRequestHeader(Fa,X.headers[Fa]);r.onreadystatechange=function(Ba){if(4==r.readyState)if(/^2/.test(r.status))try{var ua=
r.responseText,Aa=r.getResponseHeader('Content-Type'),Ra=/application\/json/.test(Aa)?!0:!1;Ba=!0;Ra&&(ua=JSON.parse(r.responseText),ua.status=r.status,ua.contentType=Aa,Ba=!1);J.eventData.success=ua;if(!Ra&&va.isOpen&&!va.hasForm||!Ra&&va.isOpen&&Ba)Y(ua,Ba);else{if(Ra&&'undefined'!=typeof ua.location||Ra&&'undefined'!=typeof ua.reload){Aa=!1;'undefined'!=typeof ua.isXhrRedirect&&/^true$/i.test(ua.isXhrRedirect)&&(Aa=!0);if('undefined'!=typeof ua.location&&Aa){if('undefined'!=typeof ua.popin&&'undefined'!=
typeof ua.popin.close){va.isRedirecting=!1;va.close();var Sa=ua.popin.reload?ua.popin.reload:!1;ua.popin.location||ua.popin.url||(delete ua.popin,Sa&&(ua.popin={reload:Sa}))}Ra='_self';'undefined'!=typeof ua.target&&(ua.target='_'+ua.target,Ra=ua.target);if(/^_self$/.test(Ra))return Ra=null,Ra='undefined'!=typeof ua.popin?ua.popin.location||ua.popin.url:ua.location,va.load(va.name,Ra,va.options),setTimeout(function(Na){Na.isOpen||Na.open()},50,va);window.open(ua.location,Ra);return}if('undefined'!=
typeof ua.location){document.location=ua.location;return}if('undefined'!=typeof ua.reload){document.location.reload();return}'undefined'!=typeof ua.popin&&'undefined'!=typeof ua.popin.close&&(va.isRedirecting=!1,ma(va.name))}if(!Ra){triggerEvent(gina,Ca,'loaded.'+na,ua);return}triggerEvent(gina,$forms[0],'success.'+na,ua)}GINA_ENV_IS_DEV&&pa(ua)}catch(Na){Ra=!1,ua={status:422,error:Na.description||Na.stack},/application\/json/.test(r.getResponseHeader('Content-Type'))&&(ua.error=JSON.parse(r.responseText),
Ra=!0),J.eventData.error=ua,GINA_ENV_IS_DEV&&pa(ua,Ra),triggerEvent(gina,Ca,'error.'+na,ua)}else Ra=!1,ua={status:r.status,error:r.responseText},/application\/json/.test(r.getResponseHeader('Content-Type'))&&(ua.error=JSON.parse(r.responseText),Ra=!0),J.eventData.error=ua,GINA_ENV_IS_DEV&&pa(ua,Ra),triggerEvent(gina,Ca,'error.'+na,ua)};r.send();return{open:function(){var Ba=!1;addListener(gina,Ca,'loaded.'+na,function(ua){ua.preventDefault();Ba||(Ba=!0,J.activePopinId=va.id,V(ua,va),T(va.name))})}}}}
function Y(z,S){var X=L();if(X){if(!X.isOpen)throw Error('Popin `'+X.name+'` is not open !');X.isRedirecting='undefined'!=typeof S?S:!1;S=X.target;S.innerHTML=z.trim();x(X.name,!0);V({target:S,type:'loaded.'+X.id},X);X.isRedirecting?triggerEvent(gina,J.target,'loaded.'+X.id,X):triggerEvent(gina,J.target,'open.'+X.id,X)}}function m(z){var S=setupXhr();S.open('GET',z,!0);S.setRequestHeader('Content-Type','text/javascript');S.onload=function(){eval(S.response)};S.send()}function T(z){var S='undefined'!=
typeof z?C(z):y(this.id);if(!S)throw Error('Popin name `'+z+'` not found !');z=document.getElementById(S.id);var X=S.parentScripts,va=z.getElementsByTagName('script'),na=0,Ca=va.length,Fa=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');for(Fa=new RegExp(Fa+':\\d+|'+Fa);na<Ca;++na){if('undefined'==typeof va[na].src||''==va[na].src)continue;let Ba=va[na].src.replace(/(https|http|):\/\//,'').replace(Fa,'');-1<X.indexOf(Ba)||m(va[na].src)}V({target:z,type:'loaded.'+S.id},S);
/gina-popin-is-active/.test(z.className)||(z.className+=' gina-popin-is-active');/gina-popin-is-active/.test(J.target.firstChild.className)||(J.target.firstChild.className+=' gina-popin-is-active');/gina-popin-is-active/.test(J.target.firstChild.className)&&removeListener(gina,J.target,'open.'+S.id);S.isOpen=!0;S.target=z;J.activePopinId=S.id;GINA_ENV_IS_DEV&&pa();triggerEvent(gina,J.target,'open.'+S.id,S)}function x(z,S){var X='undefined'!=typeof z?C(z):L();if(!X&&'undefined'!=typeof z)throw Error('Popin `'+
z+'` not found !');if('undefined'!=typeof X&&null!=X&&(z=X.target,S='undefined'!=typeof S?S:!1,null!=z&&/gina-popin-is-active/.test(z.className))){S||(J.target.firstChild.className=J.target.firstChild.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,''),z.className=z.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,''),z.innerHTML='');if(q&&(S=0,z=X.$forms.length,q.$forms&&0<z))for(;S<z;++S)'undefined'!=typeof q.$forms[X.$forms[S]]&&
q.$forms[X.$forms[S]].destroy(),X.$forms.splice(S,1);gina.popinIsBinded=!1;removeListener(gina,X.target,'loaded.'+X.id)}}function ma(z){if('undefined'==typeof z&&/^true$/.test(this.isOpen)){z=this.name;var S=this}else{S=C(z)||L();if(!S)return;z=S.name}if(!S&&'undefined'!=typeof z)throw Error('Popin `'+z+'` not found !');if(S.isOpen&&'undefined'!=typeof S&&null!=S&&!S.isRedirecting){var X=S.target;removeListener(gina,S.target,'ready.'+J.id);S.hasForm&&(S.hasForm=!1);if(null!=X&&/gina-popin-is-active/.test(X.className)){x(z);
S.isOpen=!1;gina.popinIsBinded=!1;GINA_ENV_IS_DEV&&gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&ginaToolbar.restore();J.activePopinId=null;if(0<S.$headers.length){z=0;X=S.$headers.length;try{for(;z<X;++z)document.getElementById(S.$headers[z].id).remove()}catch(va){console.warn('Could not remove script `'+S.$headers[z].id+'`\n'+va.stack)}S.$headers=[]}triggerEvent(gina,S.target,'close.'+S.id,S)}}}this.plugin='popin';var Da='init loaded ready open close click destroy success error progress'.split(' ');
registerEvents(this.plugin,Da);var R={name:void 0,'class':'gina-popin-default'},J={plugin:this.plugin,id:'gina-popins-'+Q.v4(),on,eventData:{},$popins:{},activePopinId:null,getActivePopin:null,target:document,isReady:!1,initialized:!1},w={plugin:this.plugin,on,eventData:{},target:document,name:null,load:null,loadContent:null,open:null,isOpen:!1,isRedirecting:!1,close:null,$forms:[],hasForm:!1,$headers:[]},q=null,r=null,H=[],I=function(){var z=document.createElement('div');z.id=J.id;z.setAttribute('id',
J.id);z.setAttribute('class','gina-popins');var S=document.createElement('div');S.setAttribute('id','gina-popins-overlay');S.setAttribute('class','gina-popins-overlay');z.appendChild(S);document.body.appendChild(z);J.target=z;J.on=on;gina.popinContainer=J.id},A=function(z,S,X){addListener(gina,z,'click',function(va){cancelEvent(va);triggerEvent(gina,S,X)})},y=function(z){return'undefined'!=typeof J.$popins[z]?J.$popins[z]:null},C=function(z){var S=null,X;for(X in J.$popins)if(J.$popins[X].name===
z){S=J.$popins[X];break}return S},F=function(z,S){S=getElementsByAttribute('data-gina-popin-name');var X=null,va=null,na=null,Ca=null,Fa=null,Ba=null;Fa=0;for(Ba=S.length;Fa<Ba;++Fa){X=S[Fa];va=X.getAttribute('data-gina-popin-name');'A'==X.tagName&&(na=X.getAttribute('href'),''==na||'#'==na||/#/.test(na))&&(na=null);na||'undefined'==typeof X.getAttribute('data-gina-popin-url')||(na=X.getAttribute('data-gina-popin-url'));if(!na)throw Error('Found `data-gina-popin-name` without `url` !');X.url||(X.url=
na);X.popinName||(X.popinName=va);if(va==z.name&&(Ca='popin.click.gina-popin-'+J.id+'-'+Q.v4()+'-'+va,X.id=Ca,X.setAttribute('id',Ca),!gina.events[Ca])){addListener(gina,X,Ca,function(Aa){cancelEvent(Aa);var Ra=!1;addListener(gina,z.target,'loaded.'+z.id,function(Na){Na.preventDefault();Ra||(Ra=!0,console.debug('active popin should be ',z.id),gina.popin.activePopinId=z.id,V(Na,z),z.isOpen||T(z.name))});Aa={isSynchrone:!1,withCredentials:!1};Aa=da(z.options,Aa);var Sa=this.getAttribute('data-gina-popin-url')||
this.getAttribute('href');if(!Sa)throw Error('Popin `url` not defined, please check value for `data-gina-popin-url`');U(z.name,Sa,Aa)});va=X.childNodes;var ua=0;lLen=va.length;if(0<lLen)for(;ua<lLen;++ua)'undefined'!=typeof va[ua].tagName&&A(va[ua],X,Ca)}}Ca='click';addListener(gina,document,Ca,function(Aa){if(null!=Aa.target.getAttribute('disabled')&&'false'!=Aa.target.getAttribute('disabled'))return!1;'undefined'==typeof Aa.target.id&&(Aa.target.setAttribute('id',Ca+'.'+Q.v4()),Aa.target.id=Aa.target.getAttribute('id'));
if(/^popin\.close\./.test(Aa.target.id)){cancelEvent(Aa);var Ra=Aa.target.id;triggerEvent(gina,Aa.target,Ra,Aa.detail)}/^popin\.click\./.test(Aa.target.id)&&(cancelEvent(Aa),Ra=Aa.target.id,(new RegExp('^popin.click.gina-popin-'+J.id)).test(Ra)&&triggerEvent(gina,Aa.target,Ra,Aa.detail))});gina.popinIsBinded=!1},O={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}};gina.hasPopinHandler?(J.target=document.getElementById(gina.popinContainer),J.on=on):
I();return function(z){J.getPopinById=y;J.getPopinByName=C;J.load=U;J.loadContent=Y;J.getActivePopin=L;J.open=T;J.close=ma;addListener(gina,J.target,'init.'+J.id,function(S){S=null;if('undefined'==typeof J.$popins['gina-popin-'+J.id+'-'+z.name]){var X=S=da({},w);if('object'!=typeof z)throw Error('`options` must be an object');X.options=da(z,R);X.id='gina-popin-'+J.id+'-'+X.options.name;if('undefined'==typeof J.$popins[X.id]){if('string'!=typeof X.options.name||''==X.options.name)throw Error('`options.name` can not be left `empty` or `undefined`');
if(-1<H.indexOf(X.options.name))throw Error('`popin '+X.options.name+'` already exists !');'undefined'!=typeof X.options.validator&&(q=X.options.validator,X.validateFormById=q.validateFormById);X.options['class']='gina-popin-container '+X.options['class'];X.name=X.options.name;X.target=J.target;X.load=U;X.loadContent=Y;X.open=T;X.close=ma;GINA_ENV_IS_DEV&&(X.updateToolbar=pa);X.parentScripts=[];X.parentStyles=[];var va=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');va=new RegExp(va+
':\\d+|'+va);var na=document.getElementsByTagName('script');for(let Fa=0,Ba=na.length;Fa<Ba;Fa++)if(na[Fa].src&&''!=na[Fa].src){var Ca=na[Fa].src.replace(/(https|http|):\/\//,'').replace(va,'');X.parentScripts[Fa]=Ca}na=document.getElementsByTagName('link');for(let Fa=0,Ba=na.length;Fa<Ba;Fa++)'undefined'!=typeof na[Fa].rel&&/stylesheet/i.test(na[Fa].rel)&&(Ca=na[Fa].href.replace(/(https|http|):\/\//,'').replace(va,''),X.parentStyles[Fa]=Ca);J.$popins[X.id]=X;if(window.XMLHttpRequest)r=new XMLHttpRequest;
else if(window.ActiveXObject)try{r=new ActiveXObject('Msxml2.XMLHTTP')}catch(Fa){try{r=new ActiveXObject('Microsoft.XMLHTTP')}catch(Ba){}}F(X)}}J.isReady=!0;gina.hasPopinHandler=!0;gina.popin=da(gina.popin,J);triggerEvent(gina,J.target,'ready.'+J.id,S)});J.initialized=!0;return J}(Ga)}});function fadeIn(E){var Q=.1;E.style.display='block';var da=setInterval(function(){1<=Q&&clearInterval(da);E.style.opacity=Q;E.style.filter='alpha(opacity='+100*Q+')';Q+=.1*Q},10)}
function fadeOut(E){var Q=1,da=setInterval(function(){.1>=Q&&(clearInterval(da),E.style.display='none');E.style.opacity=Q;E.style.filter='alpha(opacity='+100*Q+')';Q-=.1*Q},50)}define('utils/effects',function(){});
'function'!==typeof Object.assign&&Object.defineProperty(Object,'assign',{value:function(E,Q){if(null===E||void 0===E)throw new TypeError('Cannot convert undefined or null to object');for(var da=Object(E),Ga=1;Ga<arguments.length;Ga++){var L=arguments[Ga];if(null!==L&&void 0!==L)for(var V in L)Object.prototype.hasOwnProperty.call(L,V)&&(da[V]=L[V])}return da},writable:!0,configurable:!0});
if('undefined'==typeof JSON.clone){var clone=function(E,Q){if(null==E||'object'!=typeof E||E.constructor!=Object&&E.constructor!=Array)return E;if(E.constructor==Date||E.constructor==RegExp||E.constructor==Function||E.constructor==String||E.constructor==Number||E.constructor==Boolean)return new E.constructor(E);Q=Q||new E.constructor;for(var da=0,Ga=Object.getOwnPropertyNames(E).length||0,L=Object.keys(E);da<Ga;)Q[L[da]]='undefined'==typeof Q[L[da]]?clone(E[L[da]],null):Q[L[da]],da++;return Q};JSON.clone=
clone}if('undefined'==typeof JSON.escape){var escape=function(E){try{return E.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(Q){throw Q;}};JSON.escape=escape}define('utils/polyfill',function(){});
function Inherits(E,Q){return function(da,Ga){var L='undefined'==typeof da||'undefined'==typeof Ga?"inherits(a, b): neither [ a ] nor [ b ] can't be undefined or null":!1;if(L)throw Error(L);L=function(){return function(){if(this){this.prototype=da.prototype;this.name||(this.name=da.name);this.prototype.name=this.name;for(var V in Ga.prototype)this[V]||(this[V]=Ga.prototype[V]);Ga.apply(this,arguments);da.apply(this,arguments)}}}(da,Ga);void 0==da.prototype&&(da.prototype={});void 0==Ga.prototype&&
(Ga.prototype={});da.prototype=Object.create(Ga.prototype,{});L.prototype=Object.create(da.prototype,{});return L}}'undefined'!==typeof module&&module.exports?module.exports=Inherits():'function'===typeof define&&define.amd&&define('utils/inherits',[],function(){return Inherits()});var readyList=[{name:'gina',ctx:window.gina,fn:window.onGinaLoaded}],readyFired=!1,readyEventHandlersInstalled=!1;
function ready(){if(!readyFired){readyFired=!0;var E=null,Q=function(da,Ga){if(Ga[da])if('gina'==Ga[da].name)var L=window.setInterval(function(V,pa){try{if('undefined'==typeof pa&&(pa=window.readyList),pa[V].ctx=window.gina,E=pa[V].fn.call(window,pa[V].ctx,window.require))window.clearInterval(L),++V,Q(V,pa)}catch(U){throw window.clearInterval(L),U;}},50,da,Ga);else window.$||'undefined'==typeof parent.window.$||(window.$=parent.window.$),'undefined'==typeof window.originalContext&&'undefined'!=typeof window.$&&
(window.originalContext=window.$),Ga[da].ctx=window.originalContext||$,Ga[da].fn.call(window,Ga[da].ctx,window.require),++da,Q(da,Ga);else Ga=[]};Q(0,readyList)}}function readyStateChange(){'complete'===document.readyState&&gina.ready()}
if('undefined'==typeof window.gina){var gina={_global:{register:function(E){if('undefined'!=typeof E)for(let Q in E)window[Q]=E[Q]},unregister:function(E){if('undefined'==typeof E||!Array.isArray(E))throw Error('`variables` needs to ba an array');for(let Q=0,da=E.length;Q<da;Q++)delete window[E[Q]]}},ready:function(E,Q){readyFired?setTimeout(function(){E(Q)},1):(readyList.push({name:'anonymous',fn:E,ctx:Q}),'complete'===document.readyState||!document.attachEvent&&'interactive'===document.readyState?
setTimeout(ready,1):readyEventHandlersInstalled||(document.addEventListener?(document.addEventListener('DOMContentLoaded',ready,!1),window.addEventListener('load',ready,!1)):(document.attachEvent('onreadystatechange',readyStateChange),window.attachEvent('onload',ready)),readyEventHandlersInstalled=!0))}};window.gina=gina}define('core',['require','gina'],function(E){E('gina')(window.gina)});require.config({packages:['gina']});require('vendor/uuid vendor/engine.io core helpers/prototypes helpers/binding helpers/dateFormat gina/link gina/validator gina/popin gina/storage utils/dom utils/events utils/effects utils/polyfill utils/inherits utils/form-validator utils/collection utils/routing'.split(' '));
for(var tags=document.getElementsByTagName('script'),t=0,len=tags.length;t<len;++t)if(/gina.min.js|gina.js/.test(tags[t].getAttribute('src'))){tags[t].onload=function(E){if(window.onGinaLoaded)var Q=window.onGinaLoaded;document.addEventListener?document.addEventListener('ginaloaded',function(da){window.gina=da.detail;Q(da.detail)}):document.attachEvent&&document.attachEvent('ginaloaded',function(da){window.gina=da.detail;Q(da.detail)})}();break};
