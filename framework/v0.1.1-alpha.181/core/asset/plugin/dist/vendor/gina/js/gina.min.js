/*
 RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license  @source https://gist.github.com/1129031  Engine.IO v6.2.2
 (c) 2014-2022 Guillermo Rauch
 Released under the MIT License.
*/
var requirejs,require,define;
(function(C,R){function ha(Ia,Ka){return Ka||''}function Ba(Ia){return'[object Function]'===Ga.call(Ia)}function Z(Ia){return'[object Array]'===Ga.call(Ia)}function N(Ia,Ka){if(Ia){var Ya;for(Ya=0;Ya<Ia.length&&(!Ia[Ya]||!Ka(Ia[Ya],Ya,Ia));Ya+=1);}}function na(Ia,Ka){if(Ia){var Ya;for(Ya=Ia.length-1;-1<Ya&&(!Ia[Ya]||!Ka(Ia[Ya],Ya,Ia));--Ya);}}function S(Ia,Ka){return W.call(Ia,Ka)}function U(Ia,Ka){return S(Ia,Ka)&&Ia[Ka]}function q(Ia,Ka){for(var Ya in Ia)if(S(Ia,Ya)&&Ka(Ia[Ya],Ya))break}function I(Ia,
Ka,Ya,pb){Ka&&q(Ka,function($a,jb){if(Ya||!S(Ia,jb))!pb||'object'!==typeof $a||!$a||Z($a)||Ba($a)||$a instanceof RegExp?Ia[jb]=$a:(Ia[jb]||(Ia[jb]={}),I(Ia[jb],$a,Ya,pb))});return Ia}function p(Ia,Ka){return function(){return Ka.apply(Ia,arguments)}}function ca(Ia){throw Ia;}function Fa(Ia){if(!Ia)return Ia;var Ka=C;N(Ia.split('.'),function(Ya){Ka=Ka[Ya]});return Ka}function L(Ia,Ka,Ya,pb){Ka=Error(Ka+'\nhttps://requirejs.org/docs/errors.html#'+Ia);Ka.requireType=Ia;Ka.requireModules=pb;Ya&&(Ka.originalError=
Ya);return Ka}function O(){if(z&&'interactive'===z.readyState)return z;na(document.getElementsByTagName('script'),function(Ia){if('interactive'===Ia.readyState)return z=Ia});return z}var E,D,l,z,y,G,r,v=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,F=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,J=/\.js$/,T=/^\.\//;var sa=Object.prototype;var Ga=sa.toString,W=sa.hasOwnProperty,ia=!('undefined'===typeof window||'undefined'===typeof navigator||!window.document),da=!ia&&'undefined'!==typeof importScripts,
wa=ia&&'PLAYSTATION 3'===navigator.platform?/^complete$/:/^(complete|loaded)$/,ka='undefined'!==typeof opera&&'[object Opera]'===opera.toString(),ta={},Da={},Qa=[],La=!1;if('undefined'===typeof define){if('undefined'!==typeof requirejs){if(Ba(requirejs))return;Da=requirejs;requirejs=void 0}'undefined'===typeof require||Ba(require)||(Da=require,require=void 0);var Ea=requirejs=function(Ia,Ka,Ya,pb){var $a='_';if(!Z(Ia)&&'string'!==typeof Ia){var jb=Ia;Z(Ka)?(Ia=Ka,Ka=Ya,Ya=pb):Ia=[]}jb&&jb.context&&
($a=jb.context);(pb=U(ta,$a))||(pb=ta[$a]=Ea.s.newContext($a));jb&&pb.configure(jb);return pb.require(Ia,Ka,Ya)};Ea.config=function(Ia){return Ea(Ia)};Ea.nextTick='undefined'!==typeof R?function(Ia){R(Ia,4)}:function(Ia){Ia()};require||=Ea;Ea.version='2.3.6';Ea.jsExtRegExp=/^\/|:|\?|\.js$/;Ea.isBrowser=ia;sa=Ea.s={contexts:ta,newContext:function(Ia){function Ka(w,ja,ua){var oa;ja=ja&&ja.split('/');var la=Ja.map,Ca=la&&la['*'];if(w){w=w.split('/');var za=w.length-1;Ja.nodeIdCompat&&J.test(w[za])&&
(w[za]=w[za].replace(J,''));'.'===w[0].charAt(0)&&ja&&(za=ja.slice(0,ja.length-1),w=za.concat(w));za=w;for(oa=0;oa<za.length;oa++){var Sa=za[oa];'.'===Sa?(za.splice(oa,1),--oa):'..'===Sa&&0!==oa&&(1!==oa||'..'!==za[2])&&'..'!==za[oa-1]&&0<oa&&(za.splice(oa-1,2),oa-=2)}w=w.join('/')}if(ua&&la&&(ja||Ca)){za=w.split('/');oa=za.length;a:for(;0<oa;--oa){var Va=za.slice(0,oa).join('/');if(ja)for(Sa=ja.length;0<Sa;--Sa)if(ua=U(la,ja.slice(0,Sa).join('/')))if(ua=U(ua,Va)){var qb=ua;var sb=oa;break a}if(!Hb&&
Ca&&U(Ca,Va)){var Hb=U(Ca,Va);var Ob=oa}}!qb&&Hb&&(qb=Hb,sb=Ob);qb&&(za.splice(0,sb,qb),w=za.join('/'))}return(qb=U(Ja.pkgs,w))?qb:w}function Ya(w){ia&&N(document.getElementsByTagName('script'),function(ja){if(ja.getAttribute('data-requiremodule')===w&&ja.getAttribute('data-requirecontext')===Q.contextName)return ja.parentNode.removeChild(ja),!0})}function pb(w){var ja=U(Ja.paths,w);if(ja&&Z(ja)&&1<ja.length)return ja.shift(),Q.require.undef(w),Q.makeRequire(null,{skipMap:!0})([w]),!0}function $a(w){var ja=
w?w.indexOf('!'):-1;if(-1<ja){var ua=w.substring(0,ja);w=w.substring(ja+1,w.length)}return[ua,w]}function jb(w,ja,ua,oa){var la=null,Ca=ja?ja.name:null,za=w,Sa=!0,Va='';w||(Sa=!1,w='_@r'+(A+=1));w=$a(w);la=w[0];w=w[1];if(la){la=Ka(la,Ca,oa);var qb=U(n,la)}if(w)if(la)Va=ua?w:qb&&qb.normalize?qb.normalize(w,function(Hb){return Ka(Hb,Ca,oa)}):-1===w.indexOf('!')?Ka(w,Ca,oa):w;else{Va=Ka(w,Ca,oa);w=$a(Va);la=w[0];Va=w[1];ua=!0;var sb=Q.nameToUrl(Va)}ua=!la||qb||ua?'':'_unnormalized'+(V+=1);return{prefix:la,
name:Va,parentMap:ja,unnormalized:!!ua,url:sb,originalName:za,isDefine:Sa,id:(la?la+'!'+Va:Va)+ua}}function bc(w){var ja=w.id,ua=U(M,ja);ua||=M[ja]=new Q.Module(w);return ua}function $b(w,ja,ua){var oa=w.id,la=U(M,oa);if(!S(n,oa)||la&&!la.defineEmitComplete)if(la=bc(w),la.error&&'error'===ja)ua(la.error);else la.on(ja,ua);else'defined'===ja&&ua(n[oa])}function fb(w,ja){var ua=w.requireModules,oa=!1;if(ja)ja(w);else if(N(ua,function(la){if(la=U(M,la))la.error=w,la.events.error&&(oa=!0,la.emit('error',
w))}),!oa)Ea.onError(w)}function Cb(){Qa.length&&(N(Qa,function(w){var ja=w[0];'string'===typeof ja&&(Q.defQueueMap[ja]=!0);h.push(w)}),Qa=[])}function yb(w){delete M[w];delete e[w]}function Gb(w,ja,ua){var oa=w.map.id;w.error?w.emit('error',w.error):(ja[oa]=!0,N(w.depMaps,function(la,Ca){la=la.id;var za=U(M,la);!za||w.depMatched[Ca]||ua[la]||(U(ja,la)?(w.defineDep(Ca,n[la]),w.check()):Gb(za,ja,ua))}),ua[oa]=!0)}function Na(){var w,ja,ua=(w=1E3*Ja.waitSeconds)&&Q.startTime+w<(new Date).getTime(),
oa=[],la=[],Ca=!1,za=!0;if(!xa){xa=!0;q(e,function(Sa){var Va=Sa.map,qb=Va.id;if(Sa.enabled&&(Va.isDefine||la.push(Sa),!Sa.error))if(!Sa.inited&&ua)pb(qb)?Ca=ja=!0:(oa.push(qb),Ya(qb));else if(!Sa.inited&&Sa.fetched&&Va.isDefine&&(Ca=!0,!Va.prefix))return za=!1});if(ua&&oa.length)return w=L('timeout','Load timeout for modules: '+oa,null,oa),w.contextName=Q.contextName,fb(w);za&&N(la,function(Sa){Gb(Sa,{},{})});ua&&!ja||!Ca||!ia&&!da||ya||(ya=R(function(){ya=0;Na()},50));xa=!1}}function db(w){S(n,
w[0])||bc(jb(w[0],null,!0)).init(w[1],w[2])}function Eb(w){w=w.currentTarget||w.srcElement;var ja=Q.onScriptLoad;w.detachEvent&&!ka?w.detachEvent('onreadystatechange',ja):w.removeEventListener('load',ja,!1);ja=Q.onScriptError;w.detachEvent&&!ka||w.removeEventListener('error',ja,!1);return{node:w,id:w&&w.getAttribute('data-requiremodule')}}function Pb(){for(Cb();h.length;){var w=h.shift();if(null===w[0])return fb(L('mismatch','Mismatched anonymous define() module: '+w[w.length-1]));db(w)}Q.defQueueMap=
{}}var xa,ya,Ja={waitSeconds:7,baseUrl:'./',paths:{},bundles:{},pkgs:{},shim:{},config:{}},M={},e={},b={},h=[],n={},x={},u={},A=1,V=1;var P={require:function(w){return w.require?w.require:w.require=Q.makeRequire(w.map)},exports:function(w){w.usingExports=!0;if(w.map.isDefine)return w.exports?n[w.map.id]=w.exports:w.exports=n[w.map.id]={}},module:function(w){return w.module?w.module:w.module={id:w.map.id,uri:w.map.url,config:function(){return U(Ja.config,w.map.id)||{}},exports:w.exports||(w.exports=
{})}}};var aa=function(w){this.events=U(b,w.id)||{};this.map=w;this.shim=U(Ja.shim,w.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};aa.prototype={init:function(w,ja,ua,oa){oa=oa||{};if(!this.inited){this.factory=ja;if(ua)this.on('error',ua);else this.events.error&&(ua=p(this,function(la){this.emit('error',la)}));this.depMaps=w&&w.slice(0);this.errback=ua;this.inited=!0;this.ignore=oa.ignore;oa.enabled||this.enabled?this.enable():this.check()}},defineDep:function(w,
ja){this.depMatched[w]||(this.depMatched[w]=!0,--this.depCount,this.depExports[w]=ja)},fetch:function(){if(!this.fetched){this.fetched=!0;Q.startTime=(new Date).getTime();var w=this.map;if(this.shim)Q.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],p(this,function(){return w.prefix?this.callPlugin():this.load()}));else return w.prefix?this.callPlugin():this.load()}},load:function(){var w=this.map.url;x[w]||(x[w]=!0,Q.load(this.map.id,w))},check:function(){if(this.enabled&&!this.enabling){var w=
this.map.id;var ja=this.depExports;var ua=this.exports,oa=this.factory;if(!this.inited)S(Q.defQueueMap,w)||this.fetch();else if(this.error)this.emit('error',this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(Ba(oa)){if(this.events.error&&this.map.isDefine||Ea.onError!==ca)try{ua=Q.execCb(w,oa,ja,ua)}catch(za){var la=za}else ua=Q.execCb(w,oa,ja,ua);this.map.isDefine&&void 0===ua&&((ja=this.module)?ua=ja.exports:this.usingExports&&(ua=this.exports));if(la)return la.requireMap=
this.map,la.requireModules=this.map.isDefine?[this.map.id]:null,la.requireType=this.map.isDefine?'define':'require',fb(this.error=la)}else ua=oa;this.exports=ua;if(this.map.isDefine&&!this.ignore&&(n[w]=ua,Ea.onResourceLoad)){var Ca=[];N(this.depMaps,function(za){Ca.push(za.normalizedMap||za)});Ea.onResourceLoad(Q,this.map,Ca)}yb(w);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit('defined',this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var w=
this.map,ja=w.id,ua=jb(w.prefix);this.depMaps.push(ua);$b(ua,'defined',p(this,function(oa){var la=U(u,this.map.id),Ca=this.map.name,za=this.map.parentMap?this.map.parentMap.name:null,Sa=Q.makeRequire(w.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){oa.normalize&&(Ca=oa.normalize(Ca,function(sb){return Ka(sb,za,!0)})||'');var Va=jb(w.prefix+'!'+Ca,this.map.parentMap,!0);$b(Va,'defined',p(this,function(sb){this.map.normalizedMap=Va;this.init([],function(){return sb},null,{enabled:!0,
ignore:!0})}));if(oa=U(M,Va.id)){this.depMaps.push(Va);if(this.events.error)oa.on('error',p(this,function(sb){this.emit('error',sb)}));oa.enable()}}else if(la)this.map.url=Q.nameToUrl(la),this.load();else{var qb=p(this,function(sb){this.init([],function(){return sb},null,{enabled:!0})});qb.error=p(this,function(sb){this.inited=!0;this.error=sb;sb.requireModules=[ja];q(M,function(Hb){0===Hb.map.id.indexOf(ja+'_unnormalized')&&yb(Hb.map.id)});fb(sb)});qb.fromText=p(this,function(sb,Hb){var Ob=w.name,
zb=jb(Ob),Vb=La;Hb&&(sb=Hb);Vb&&(La=!1);bc(zb);S(Ja.config,ja)&&(Ja.config[Ob]=Ja.config[ja]);try{Ea.exec(sb)}catch(Za){return fb(L('fromtexteval','fromText eval for '+ja+' failed: '+Za,Za,[ja]))}Vb&&(La=!0);this.depMaps.push(zb);Q.completeLoad(Ob);Sa([Ob],qb)});oa.load(w.name,Sa,qb,Ja)}}));Q.enable(ua,this);this.pluginMaps[ua.id]=ua},enable:function(){e[this.map.id]=this;this.enabling=this.enabled=!0;N(this.depMaps,p(this,function(w,ja){var ua;if('string'===typeof w){w=jb(w,this.map.isDefine?this.map:
this.map.parentMap,!1,!this.skipMap);this.depMaps[ja]=w;if(ua=U(P,w.id)){this.depExports[ja]=ua(this);return}this.depCount+=1;$b(w,'defined',p(this,function(la){this.undefed||(this.defineDep(ja,la),this.check())}));this.errback?$b(w,'error',p(this,this.errback)):this.events.error&&$b(w,'error',p(this,function(la){this.emit('error',la)}))}ua=w.id;var oa=M[ua];S(P,ua)||!oa||oa.enabled||Q.enable(w,this)}));q(this.pluginMaps,p(this,function(w){var ja=U(M,w.id);ja&&!ja.enabled&&Q.enable(w,this)}));this.enabling=
!1;this.check()},on:function(w,ja){var ua=this.events[w];ua||=this.events[w]=[];ua.push(ja)},emit:function(w,ja){N(this.events[w],function(ua){ua(ja)});'error'===w&&delete this.events[w]}};var Q={config:Ja,contextName:Ia,registry:M,defined:n,urlFetched:x,defQueue:h,defQueueMap:{},Module:aa,makeModuleMap:jb,nextTick:Ea.nextTick,onError:fb,configure:function(w){w.baseUrl&&'/'!==w.baseUrl.charAt(w.baseUrl.length-1)&&(w.baseUrl+='/');if('string'===typeof w.urlArgs){var ja=w.urlArgs;w.urlArgs=function(la,
Ca){return(-1===Ca.indexOf('?')?'?':'&')+ja}}var ua=Ja.shim,oa={paths:!0,bundles:!0,config:!0,map:!0};q(w,function(la,Ca){oa[Ca]?(Ja[Ca]||(Ja[Ca]={}),I(Ja[Ca],la,!0,!0)):Ja[Ca]=la});w.bundles&&q(w.bundles,function(la,Ca){N(la,function(za){za!==Ca&&(u[za]=Ca)})});w.shim&&(q(w.shim,function(la,Ca){Z(la)&&(la={deps:la});!la.exports&&!la.init||la.exportsFn||(la.exportsFn=Q.makeShimExports(la));ua[Ca]=la}),Ja.shim=ua);w.packages&&N(w.packages,function(la){la='string'===typeof la?{name:la}:la;var Ca=la.name;
la.location&&(Ja.paths[Ca]=la.location);Ja.pkgs[Ca]=la.name+'/'+(la.main||'main').replace(T,'').replace(J,'')});q(M,function(la,Ca){la.inited||la.map.unnormalized||(la.map=jb(Ca,null,!0))});(w.deps||w.callback)&&Q.require(w.deps||[],w.callback)},makeShimExports:function(w){return function(){var ja;w.init&&(ja=w.init.apply(C,arguments));return ja||w.exports&&Fa(w.exports)}},makeRequire:function(w,ja){function ua(oa,la,Ca){var za;ja.enableBuildCallback&&la&&Ba(la)&&(la.__requireJsBuild=!0);if('string'===
typeof oa){if(Ba(la))return fb(L('requireargs','Invalid require call'),Ca);if(w&&S(P,oa))return P[oa](M[w.id]);if(Ea.get)return Ea.get(Q,oa,w,ua);var Sa=jb(oa,w,!1,!0);Sa=Sa.id;return S(n,Sa)?n[Sa]:fb(L('notloaded','Module name "'+Sa+'" has not been loaded yet for context: '+Ia+(w?'':'. Use require([])')))}Pb();Q.nextTick(function(){Pb();za=bc(jb(null,w));za.skipMap=ja.skipMap;za.init(oa,la,Ca,{enabled:!0});Na()});return ua}ja=ja||{};I(ua,{isBrowser:ia,toUrl:function(oa){var la=oa.lastIndexOf('.'),
Ca=oa.split('/')[0];if(-1!==la&&('.'!==Ca&&'..'!==Ca||1<la)){var za=oa.substring(la,oa.length);oa=oa.substring(0,la)}return Q.nameToUrl(Ka(oa,w&&w.id,!0),za,!0)},defined:function(oa){return S(n,jb(oa,w,!1,!0).id)},specified:function(oa){oa=jb(oa,w,!1,!0).id;return S(n,oa)||S(M,oa)}});w||(ua.undef=function(oa){Cb();var la=jb(oa,w,!0),Ca=U(M,oa);Ca.undefed=!0;Ya(oa);delete n[oa];delete x[la.url];delete b[oa];na(h,function(za,Sa){za[0]===oa&&h.splice(Sa,1)});delete Q.defQueueMap[oa];Ca&&(Ca.events.defined&&
(b[oa]=Ca.events),yb(oa))});return ua},enable:function(w){U(M,w.id)&&bc(w).enable()},completeLoad:function(w){var ja=U(Ja.shim,w)||{},ua=ja.exports;for(Cb();h.length;){var oa=h.shift();if(null===oa[0]){oa[0]=w;if(la)break;var la=!0}else oa[0]===w&&(la=!0);db(oa)}Q.defQueueMap={};oa=U(M,w);if(!la&&!S(n,w)&&oa&&!oa.inited)if(!Ja.enforceDefine||ua&&Fa(ua))db([w,ja.deps||[],ja.exportsFn]);else return pb(w)?void 0:fb(L('nodefine','No define call for '+w,null,[w]));Na()},nameToUrl:function(w,ja,ua){var oa,
la;(oa=U(Ja.pkgs,w))&&(w=oa);if(oa=U(u,w))return Q.nameToUrl(oa,ja,ua);if(Ea.jsExtRegExp.test(w))oa=w+(ja||'');else{oa=Ja.paths;var Ca=w.split('/');for(la=Ca.length;0<la;--la){var za=Ca.slice(0,la).join('/');if(za=U(oa,za)){Z(za)&&(za=za[0]);Ca.splice(0,la,za);break}}oa=Ca.join('/');oa+=ja||(/^data:|^blob:|\?/.test(oa)||ua?'':'.js');oa=('/'===oa.charAt(0)||oa.match(/^[\w\+\.\-]+:/)?'':Ja.baseUrl)+oa}return Ja.urlArgs&&!/^blob:/.test(oa)?oa+Ja.urlArgs(w,oa):oa},load:function(w,ja){Ea.load(Q,w,ja)},
execCb:function(w,ja,ua,oa){return ja.apply(oa,ua)},onScriptLoad:function(w){if('load'===w.type||wa.test((w.currentTarget||w.srcElement).readyState))z=null,w=Eb(w),Q.completeLoad(w.id)},onScriptError:function(w){var ja=Eb(w);if(!pb(ja.id)){var ua=[];q(M,function(oa,la){0!==la.indexOf('_@r')&&N(oa.depMaps,function(Ca){if(Ca.id===ja.id)return ua.push(la),!0})});return fb(L('scripterror','Script error for "'+ja.id+(ua.length?'", needed by: '+ua.join(', '):'"'),w,[ja.id]))}}};Q.require=Q.makeRequire();
return Q}};Ea({});N(['toUrl','undef','defined','specified'],function(Ia){Ea[Ia]=function(){var Ka=ta._;return Ka.require[Ia].apply(Ka,arguments)}});if(ia){var Oa=sa.head=document.getElementsByTagName('head')[0];if(E=document.getElementsByTagName('base')[0])Oa=sa.head=E.parentNode}Ea.onError=ca;Ea.createNode=function(Ia,Ka,Ya){Ka=Ia.xhtml?document.createElementNS('http://www.w3.org/1999/xhtml','html:script'):document.createElement('script');Ka.type=Ia.scriptType||'text/javascript';Ka.charset='utf-8';
Ka.async=!0;return Ka};Ea.load=function(Ia,Ka,Ya){var pb=Ia&&Ia.config||{};if(ia){var $a=Ea.createNode(pb,Ka,Ya);$a.setAttribute('data-requirecontext',Ia.contextName);$a.setAttribute('data-requiremodule',Ka);!$a.attachEvent||$a.attachEvent.toString&&0>$a.attachEvent.toString().indexOf('[native code')||ka?($a.addEventListener('load',Ia.onScriptLoad,!1),$a.addEventListener('error',Ia.onScriptError,!1)):(La=!0,$a.attachEvent('onreadystatechange',Ia.onScriptLoad));$a.src=Ya;if(pb.onNodeCreated)pb.onNodeCreated($a,
pb,Ka,Ya);y=$a;E?Oa.insertBefore($a,E):Oa.appendChild($a);y=null;return $a}if(da)try{R(function(){},0),importScripts(Ya),Ia.completeLoad(Ka)}catch(jb){Ia.onError(L('importscripts','importScripts failed for '+Ka+' at '+Ya,jb,[Ka]))}};ia&&!Da.skipDataMain&&na(document.getElementsByTagName('script'),function(Ia){Oa||(Oa=Ia.parentNode);if(D=Ia.getAttribute('data-main'))return G=D,Da.baseUrl||-1!==G.indexOf('!')||(l=G.split('/'),G=l.pop(),r=l.length?l.join('/')+'/':'./',Da.baseUrl=r),G=G.replace(J,''),
Ea.jsExtRegExp.test(G)&&(G=D),Da.deps=Da.deps?Da.deps.concat(G):[G],!0});define=function(Ia,Ka,Ya){var pb;'string'!==typeof Ia&&(Ya=Ka,Ka=Ia,Ia=null);Z(Ka)||(Ya=Ka,Ka=null);!Ka&&Ba(Ya)&&(Ka=[],Ya.length&&(Ya.toString().replace(v,ha).replace(F,function(jb,bc){Ka.push(bc)}),Ka=(1===Ya.length?['require']:['require','exports','module']).concat(Ka)));if(La&&(pb=y||O())){Ia||=pb.getAttribute('data-requiremodule');var $a=ta[pb.getAttribute('data-requirecontext')]}$a?($a.defQueue.push([Ia,Ka,Ya]),$a.defQueueMap[Ia]=
!0):Qa.push([Ia,Ka,Ya])};define.amd={jQuery:!0};Ea.exec=function(Ia){return eval(Ia)};Ea(Da)}})(this,'undefined'===typeof setTimeout?void 0:setTimeout);define('requireLib',function(){});
!function(C,R){'object'==typeof exports&&'undefined'!=typeof module?R(exports):'function'==typeof define&&define.amd?define('vendor/uuid',['exports'],R):R((C=C||self).uuid={})}(this,function(C){function R(){if(!q)throw Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');return q(I)}function ha(l,z){z=z||0;var y=Fa;return[y[l[z++]],y[l[z++]],y[l[z++]],y[l[z++]],'-',y[l[z++]],y[l[z++]],'-',y[l[z++]],y[l[z++]],'-',y[l[z++]],y[l[z++]],'-',
y[l[z++]],y[l[z++]],y[l[z++]],y[l[z++]],y[l[z++]],y[l[z++]]].join('')}function Ba(l,z,y){var G=function(r,v,F,J){J=F&&J||0;if('string'==typeof r&&(r=function(T){T=unescape(encodeURIComponent(T));for(var sa=Array(T.length),Ga=0;Ga<T.length;Ga++)sa[Ga]=T.charCodeAt(Ga);return sa}(r)),'string'==typeof v&&(v=function(T){var sa=[];return T.replace(/[a-fA-F0-9]{2}/g,function(Ga){sa.push(parseInt(Ga,16))}),sa}(v)),!Array.isArray(r))throw TypeError('value must be an array of bytes');if(!Array.isArray(v)||
16!==v.length)throw TypeError('namespace must be uuid string or an Array of 16 byte values');r=y(v.concat(r));if(r[6]=15&r[6]|z,r[8]=63&r[8]|128,F)for(v=0;16>v;++v)F[J+v]=r[v];return F||ha(r)};try{G.name=l}catch(r){}return G.DNS='6ba7b810-9dad-11d1-80b4-00c04fd430c8',G.URL='6ba7b811-9dad-11d1-80b4-00c04fd430c8',G}function Z(l,z){var y=(65535&l)+(65535&z);return(l>>16)+(z>>16)+(y>>16)<<16|65535&y}function N(l,z,y,G,r,v){return Z((F=Z(Z(z,l),Z(G,v)))<<(J=r)|F>>>32-J,y);var F,J}function na(l,z,y,G,r,
v,F){return N(z&y|~z&G,l,z,r,v,F)}function S(l,z,y,G,r,v,F){return N(z&G|y&~G,l,z,r,v,F)}function U(l,z,y,G,r,v,F){return N(y^(z|~G),l,z,r,v,F)}for(var q='undefined'!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||'undefined'!=typeof msCrypto&&'function'==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),I=new Uint8Array(16),p,ca,Fa=[],L=0;256>L;++L)Fa[L]=(L+256).toString(16).substr(1);var O=0,E=0;L=Ba('v3',48,function(l){if('string'==typeof l){var z=
unescape(encodeURIComponent(l));l=Array(z.length);for(var y=0;y<z.length;y++)l[y]=z.charCodeAt(y)}return function(G){var r,v=[],F=32*G.length;for(r=0;r<F;r+=8){var J=G[r>>5]>>>r%32&255;J=parseInt('0123456789abcdef'.charAt(J>>>4&15)+'0123456789abcdef'.charAt(15&J),16);v.push(J)}return v}(function(G,r){G[r>>5]|=128<<r%32;G[14+(r+64>>>9<<4)]=r;var v=1732584193,F=-271733879,J=-1732584194,T=271733878;for(r=0;r<G.length;r+=16){var sa=v;var Ga=F;var W=J;var ia=T;v=na(v,F,J,T,G[r],7,-680876936);T=na(T,v,
F,J,G[r+1],12,-389564586);J=na(J,T,v,F,G[r+2],17,606105819);F=na(F,J,T,v,G[r+3],22,-1044525330);v=na(v,F,J,T,G[r+4],7,-176418897);T=na(T,v,F,J,G[r+5],12,1200080426);J=na(J,T,v,F,G[r+6],17,-1473231341);F=na(F,J,T,v,G[r+7],22,-45705983);v=na(v,F,J,T,G[r+8],7,1770035416);T=na(T,v,F,J,G[r+9],12,-1958414417);J=na(J,T,v,F,G[r+10],17,-42063);F=na(F,J,T,v,G[r+11],22,-1990404162);v=na(v,F,J,T,G[r+12],7,1804603682);T=na(T,v,F,J,G[r+13],12,-40341101);J=na(J,T,v,F,G[r+14],17,-1502002290);F=na(F,J,T,v,G[r+15],
22,1236535329);v=S(v,F,J,T,G[r+1],5,-165796510);T=S(T,v,F,J,G[r+6],9,-1069501632);J=S(J,T,v,F,G[r+11],14,643717713);F=S(F,J,T,v,G[r],20,-373897302);v=S(v,F,J,T,G[r+5],5,-701558691);T=S(T,v,F,J,G[r+10],9,38016083);J=S(J,T,v,F,G[r+15],14,-660478335);F=S(F,J,T,v,G[r+4],20,-405537848);v=S(v,F,J,T,G[r+9],5,568446438);T=S(T,v,F,J,G[r+14],9,-1019803690);J=S(J,T,v,F,G[r+3],14,-187363961);F=S(F,J,T,v,G[r+8],20,1163531501);v=S(v,F,J,T,G[r+13],5,-1444681467);T=S(T,v,F,J,G[r+2],9,-51403784);J=S(J,T,v,F,G[r+7],
14,1735328473);F=S(F,J,T,v,G[r+12],20,-1926607734);v=N(F^J^T,v,F,G[r+5],4,-378558);T=N(v^F^J,T,v,G[r+8],11,-2022574463);J=N(T^v^F,J,T,G[r+11],16,1839030562);F=N(J^T^v,F,J,G[r+14],23,-35309556);v=N(F^J^T,v,F,G[r+1],4,-1530992060);T=N(v^F^J,T,v,G[r+4],11,1272893353);J=N(T^v^F,J,T,G[r+7],16,-155497632);F=N(J^T^v,F,J,G[r+10],23,-1094730640);v=N(F^J^T,v,F,G[r+13],4,681279174);T=N(v^F^J,T,v,G[r],11,-358537222);J=N(T^v^F,J,T,G[r+3],16,-722521979);F=N(J^T^v,F,J,G[r+6],23,76029189);v=N(F^J^T,v,F,G[r+9],4,
-640364487);T=N(v^F^J,T,v,G[r+12],11,-421815835);J=N(T^v^F,J,T,G[r+15],16,530742520);F=N(J^T^v,F,J,G[r+2],23,-995338651);v=U(v,F,J,T,G[r],6,-198630844);T=U(T,v,F,J,G[r+7],10,1126891415);J=U(J,T,v,F,G[r+14],15,-1416354905);F=U(F,J,T,v,G[r+5],21,-57434055);v=U(v,F,J,T,G[r+12],6,1700485571);T=U(T,v,F,J,G[r+3],10,-1894986606);J=U(J,T,v,F,G[r+10],15,-1051523);F=U(F,J,T,v,G[r+1],21,-2054922799);v=U(v,F,J,T,G[r+8],6,1873313359);T=U(T,v,F,J,G[r+15],10,-30611744);J=U(J,T,v,F,G[r+6],15,-1560198380);F=U(F,J,
T,v,G[r+13],21,1309151649);v=U(v,F,J,T,G[r+4],6,-145523070);T=U(T,v,F,J,G[r+11],10,-1120210379);J=U(J,T,v,F,G[r+2],15,718787259);F=U(F,J,T,v,G[r+9],21,-343485551);v=Z(v,sa);F=Z(F,Ga);J=Z(J,W);T=Z(T,ia)}return[v,F,J,T]}(function(G){var r,v=[];v[(G.length>>2)-1]=void 0;for(r=0;r<v.length;r+=1)v[r]=0;var F=8*G.length;for(r=0;r<F;r+=8)v[r>>5]|=(255&G[r/8])<<r%32;return v}(l),8*l.length))});var D=Ba('v5',80,function(l){var z=[1518500249,1859775393,2400959708,3395469782],y=[1732584193,4023233417,2562383102,
271733878,3285377520];if('string'==typeof l){var G=unescape(encodeURIComponent(l));l=Array(G.length);for(var r=0;r<G.length;r++)l[r]=G.charCodeAt(r)}l.push(128);G=Math.ceil((l.length/4+2)/16);var v=Array(G);for(r=0;r<G;r++){v[r]=Array(16);for(var F=0;16>F;F++)v[r][F]=l[64*r+4*F]<<24|l[64*r+4*F+1]<<16|l[64*r+4*F+2]<<8|l[64*r+4*F+3]}v[G-1][14]=8*(l.length-1)/Math.pow(2,32);v[G-1][14]=Math.floor(v[G-1][14]);v[G-1][15]=8*(l.length-1)&4294967295;for(r=0;r<G;r++){l=Array(80);for(F=0;16>F;F++)l[F]=v[r][F];
for(F=16;80>F;F++){var J=l[F-3]^l[F-8]^l[F-14]^l[F-16];l[F]=J<<1|J>>>31}J=y[0];var T=y[1],sa=y[2],Ga=y[3],W=y[4];for(F=0;80>F;F++){var ia=Math.floor(F/20),da=J<<5|J>>>27;a:{switch(ia){case 0:var wa=T&sa^~T&Ga;break a;case 1:wa=T^sa^Ga;break a;case 2:wa=T&sa^T&Ga^sa&Ga;break a;case 3:wa=T^sa^Ga;break a}wa=void 0}ia=da+wa+W+z[ia]+l[F]>>>0;W=Ga;Ga=sa;sa=(T<<30|T>>>2)>>>0;T=J;J=ia}y[0]=y[0]+J>>>0;y[1]=y[1]+T>>>0;y[2]=y[2]+sa>>>0;y[3]=y[3]+Ga>>>0;y[4]=y[4]+W>>>0}return[y[0]>>24&255,y[0]>>16&255,y[0]>>
8&255,255&y[0],y[1]>>24&255,y[1]>>16&255,y[1]>>8&255,255&y[1],y[2]>>24&255,y[2]>>16&255,y[2]>>8&255,255&y[2],y[3]>>24&255,y[3]>>16&255,y[3]>>8&255,255&y[3],y[4]>>24&255,y[4]>>16&255,y[4]>>8&255,255&y[4]]});C.v1=function(l,z,y){y=z&&y||0;var G=z||[],r=(l=l||{}).node||p,v=void 0!==l.clockseq?l.clockseq:ca;if(null==r||null==v){var F=l.random||(l.rng||R)();null==r&&(r=p=[1|F[0],F[1],F[2],F[3],F[4],F[5]]);null==v&&(v=ca=16383&(F[6]<<8|F[7]))}F=void 0!==l.msecs?l.msecs:(new Date).getTime();var J=void 0!==
l.nsecs?l.nsecs:E+1,T=F-O+(J-E)/1E4;if(0>T&&void 0===l.clockseq&&(v=v+1&16383),(0>T||F>O)&&void 0===l.nsecs&&(J=0),1E4<=J)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");O=F;E=J;ca=v;l=(1E4*(268435455&(F+=122192928E5))+J)%4294967296;G[y++]=l>>>24&255;G[y++]=l>>>16&255;G[y++]=l>>>8&255;G[y++]=255&l;l=F/4294967296*1E4&268435455;G[y++]=l>>>8&255;G[y++]=255&l;G[y++]=l>>>24&15|16;G[y++]=l>>>16&255;G[y++]=v>>>8|128;G[y++]=255&v;for(v=0;6>v;++v)G[y+v]=r[v];return z||ha(G)};C.v3=L;C.v4=function(l,
z,y){y=z&&y||0;'string'==typeof l&&(z='binary'===l?Array(16):null,l=null);var G=(l=l||{}).random||(l.rng||R)();if(G[6]=15&G[6]|64,G[8]=63&G[8]|128,z)for(l=0;16>l;++l)z[y+l]=G[l];return z||ha(G)};C.v5=D;Object.defineProperty(C,'__esModule',{value:!0})});
function Merge(){var C=[],R=!1,ha=function(N,na){var S=N;R||('object'==typeof N&&Array.isArray(N),R=!0);'undefined'==typeof S&&(S='undefined'!=typeof na&&Array.isArray(na)?[]:{});var U=!1;'boolean'==typeof arguments[arguments.length-1]&&(U=arguments[arguments.length-1]);var q=1,I=arguments.length,p,ca;if('object'!==typeof S&&'function'!==typeof S)S=U?'undefined'==typeof arguments[2]?arguments[1]:arguments[2]:'undefined'==typeof arguments[0]?arguments[1]:arguments[0];else for(;q<I;++q)if('boolean'!=
typeof arguments[q]&&null!=(p=arguments[q])){if('object'!=typeof p){S=p;break}if(Array.isArray(p)&&Array.isArray(S))S=Ba(p,S,U);else for(var Fa in p){S||={name:null};var L=S[Fa];var O=p[Fa];if(S!==O)if(O&&(Z(O)||(ca=Array.isArray(O)))){var E=!1;if(ca){ca=!1;if(L&&Array.isArray(L))var D=L||[];else if(Z(L)){D=L||{};S[Fa]=D;continue}else D=[];C=D;D=Ba(O,D,U);S[Fa]=D}else{D=L&&Z(L)?L:null;if(!D){E=!0;D={};for(var l in O)D[l]=O[l]}if(U){for(l in O)'undefined'!=typeof O[l]?Array.isArray(O[l])&&Array.isArray(D[l])?
D[l]=Ba(O[l],D[l],U):D[l]=O[l]:Array.isArray(O[l])&&Array.isArray(D[l])&&(D[l]=Ba(O[l],D[l],U));S[Fa]=D}else{for(l in O)'undefined'==typeof D[l]?Array.isArray(O[l])&&Array.isArray(D[l])?D[l]=Ba(O[l],D[l],U):D[l]=O[l]:Array.isArray(O[l])&&Array.isArray(D[l])&&(D[l]=Ba(O[l],D[l],U));'boolean'==typeof L||E?E&&(S[Fa]=D):S[Fa]=ha(D,O,U)}}}else void 0!==O&&(S[Fa]='undefined'==typeof L||null==L||L===O||U?O:L)}}C=[];R=!1;return S},Ba=function(N,na,S){C=[];var U=[],q=ha.getKeyComparison();if(/^true$/i.test(S)){if('object'==
typeof N[0]&&null!=N[0]&&'undefined'!=typeof N[0][q]&&'object'==typeof na[0]&&'undefined'!=typeof na[0][q]){C=Array.isArray(na)?Array.from(na):JSON.clone(na);var I=0;for(S=C.length;I<S;++I)U.push(C[I][q]);S=JSON.clone(N);var p=0;I=0;N=S.length;for(var ca=L||0,Fa=na.length;ca<Fa;++ca)a:for(I=I||0;I<N;++I)if(S[I][q]===na[ca][q]){-1<U.indexOf(S[I][q])?(C[p]=S[I],++p):-1==U.indexOf(S[I][q])&&(U.push(S[I][q]),C[p]=S[I],++p);break a}else-1==U.indexOf(S[I][q])&&(U.push(S[I][q]),C.push(S[I]));return C}return Array.isArray(N)&&
0==N.length||'undefined'==typeof N?na:N}if(0==N.length&&0<na.length)return C=na;if(0==na.length&&0<N.length)for(I=0;I<N.length;++I)na.push(N[I]);if(0==C.length&&0<na.length)for(I=0;I<na.length;++I)'object'!=typeof na[I]&&-1==C.indexOf(na[I])&&C.push(na[I]);if(0<na.length){if('undefined'!=typeof N[0]&&'object'==typeof N[0]&&null!=N[0]&&'undefined'!=typeof N[0][q]&&'object'==typeof na[0]&&'undefined'!=typeof na[0][q]){C=Array.isArray(na)?Array.from(na):JSON.clone(na);S=JSON.clone(N);var L=null;I=0;
for(N=C.length;I<N;++I)U.push(C[I][q]);for(I=0;I<N;++I)a:for(ca=L||0,Fa=S.length;ca<Fa;++ca)if(null!=S[ca]&&'undefined'!=typeof S[ca][q]&&S[ca][q]!==C[I][q]){if(-1==U.indexOf(S[ca][q])){C.push(S[ca]);U.push(S[ca][q]);L=ca+1;N<Fa&&++N;break a}}else if(null!=S[ca]&&'undefined'!=typeof S[ca][q]&&S[ca][q]===C[I][q])L=ca+1;else break a;return C}for(I=0;I<N.length;++I)if(U=null,'undefined'==typeof N||'object'!=typeof N[I]||Array.isArray(N[I])||null==N[I]||(U=Object.getOwnPropertyNames(N[I])),'undefined'!=
typeof U&&null!=U&&(U=U[0]||null),-1<na.indexOf(N[I])&&S)na.splice(na.indexOf(N[I]),1,N[I]);else if('undefined'==typeof C[I]&&'object'==typeof N[I])for(p in C=na,'undefined'==typeof C[I]&&(C[I]={}),N[I])C[I].hasOwnProperty(p)||(C[I][p]=N[I][p]);else!S&&-1<C.indexOf(N[I])&&/number/i.test(typeof N[I])&&N[I]!==C[I]?C.push(N[I]):'undefined'==typeof na[I]||/null/i.test(na[I])||'undefined'==typeof na[I][q]||'undefined'==typeof N[I]||'undefined'==typeof N[I][q]||na[I][q]!=N[I][q]?-1==C.indexOf(N[I])&&'object'!=
typeof N[I]?C.push(N[I]):'undefined'==typeof na[I]||/null/i.test(na[I])||'undefined'==typeof na[I][U]||'undefined'==typeof N[I]||'undefined'==typeof N[I][U]||na[I][U]!=N[I][U]||(C[I]=S?N[I]:na[I]):C[I]=S?N[I]:na[I]}if(0<C.length&&0<na.length||0==C.length&&0==na.length)return C};Ba.prototype.setKeyComparison=function(N){this.keyComparison=N};var Z=function(N){if(!N||'[object Object]'!=={}.toString.call(N)||N.nodeType||N.setInterval)return!1;var na={}.hasOwnProperty,S=na.call(N,'constructor');na='undefined'!=
typeof N.constructor?na.call(N.constructor.prototype,'isPrototypeOf'):!1;return!N.constructor||S||na?!0:!1};ha.setKeyComparison=function(N){Ba.keyComparison=N;return ha};ha.getKeyComparison=function(){var N=Ba.keyComparison||'id';Ba.keyComparison='id';return N};return ha}'undefined'!==typeof module&&module.exports?('undefined'==typeof JSON.clone&&require('../../../helpers'),module.exports=Merge()):'function'===typeof define&&define.amd&&define('lib/merge',[],function(){return Merge()});
function registerEvents(C,R){'undefined'==typeof gina&&'undefined'!=typeof window.gina&&(gina=window.gina);gina.registeredEvents[C]=R}function mergeEventProps(C,R){for(let ha in R)'undefined'==typeof C[ha]&&(C[ha]=R[ha]);return C}
function addListener(C,R,ha,Ba){var Z=function(S,U,q,I){'undefined'!=typeof S.event&&S.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(q)&&-1==S.event[q].indexOf(U)&&(S.event[q][S.event[q].length]=U);'undefined'!=typeof U&&null!=U?U.addEventListener?U.addEventListener(q,I,!1):U.attachEvent&&U.attachEvent('on'+q,I):S.customEvent.addListener(q,I);gina.events[q]='undefined'!=typeof U.id&&'object'!=typeof U.id?U.id:U.getAttribute('id')},N=0,na=null;if(Array.isArray(ha))for(na=ha.length;N<na;N++)Z(C,
R,ha[N],Ba);else if(Array.isArray(R))for(N=0,na=R.length;N<na;N++){let S=/\.$/.test(ha)?ha+R[N].id:ha;Z(C,R[N],S,Ba)}else ha=/\.$/.test(ha)?ha+R.id:ha,Z(C,R,ha,Ba)}
function triggerEvent(C,R,ha,Ba,Z){if('undefined'!=typeof R&&null!=R){C=!1;if(jQuery){var N=jQuery.fn.jquery.split(/\./);N=2<N.length?N.splice(0,2).join('.'):N.join('.');N='1.7'>=N?jQuery(R).data('events'):jQuery._data(jQuery(R)[0],'events');if(N='undefined'!=typeof N&&'undefined'!=typeof N[ha]?!0:!1)N=jQuery.Event(ha),jQuery(R).trigger(N,Ba),C=N.isDefaultPrevented()}window.CustomEvent||document.createEvent?(window.CustomEvent?N=new CustomEvent(ha,{detail:Ba,bubbles:!0,cancelable:!0,target:R}):(N=
document.createEvent('HTMLEvents'),N.detail=Ba,N.target=R,N.initEvent(ha,!0,!0),N.eventName=ha),Z&&(N=mergeEventProps(N,Z)),'undefined'!=typeof N.defaultPrevented&&N.defaultPrevented&&(C=N.defaultPrevented),C||R.dispatchEvent(N)):document.createEventObject&&(N=document.createEventObject(),N.srcElement.id=R.id,N.detail=Ba,N.target=R,Z&&(N=mergeEventProps(N,Z)),R.fireEvent('on'+ha,N))}else C.customEvent.fire(ha,Ba)}
function cancelEvent(C){'undefined'!=typeof C&&null!=C&&(C.cancelBubble=!0,C.preventDefault&&C.preventDefault(),C.stopPropagation&&C.stopPropagation(),C.returnValue=!1)}
function setupXhr(C){var R=null;if(window.XMLHttpRequest)R=new XMLHttpRequest;else if(window.ActiveXObject)try{R=new ActiveXObject('Msxml2.XMLHTTP')}catch(Ba){try{R=new ActiveXObject('Microsoft.XMLHTTP')}catch(Z){}}if('undefined'!=typeof C){if(!C.url||'undefined'==typeof C.url)throw Error('Missing `options.url`');'undefined'==typeof C.method&&(C.method='GET');C.method=C.method.toUpperCase();if(C.withCredentials){if('withCredentials'in R)C.isSynchrone?R.open(C.method,C.url,C.isSynchrone):R.open(C.method,
C.url);else if('undefined'!=typeof XDomainRequest)R=new XDomainRequest,R.open(C.method,C.url);else{result='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,$target,'error.'+id,result);return}R.responseType='undefined'!=typeof C.responseType?C.responseType:'';R.withCredentials=!0}else C.isSynchrone?R.open(C.method,C.url,C.isSynchrone):R.open(C.method,C.url);for(var ha in C.headers)'Content-Type'==ha&&'undefined'!=typeof enctype&&null!=
enctype&&''!=enctype||R.setRequestHeader(ha,C.headers[ha])}return R}
function handleXhr(C,R,ha,Ba){if(!C)throw Error('No `xhr` object initiated');var Z=null,N=null,na=null,S=null,U=null,q=ha.$link||null,I=ha.$form||null,p=null;delete ha.$link;delete ha.$form;I||q?q?(q.target=document.getElementById(q.id),p=gina.link.target,U=gina.link.id):(p=I.target,U=p.getAttribute('id')):(p=R,U=p.getAttribute('id'));var ca=q&&R.getAttribute('data-gina-link-event-on-success')||q&&R.getAttribute('data-gina-link-event-on-error')?!0:!1,Fa=I&&p.getAttribute('data-gina-form-event-on-submit-success')||
I&&p.getAttribute('data-gina-form-event-on-submit-error')?!0:!1;Fa&&I&&listenToXhrEvents(I,'form');R=R.getAttribute('enctype')||ha.headers['Content-Type'];for(var L in ha.headers)'Content-Type'==L&&'undefined'!=typeof R&&null!=R&&''!=R||C.setRequestHeader(L,ha.headers[L]);C.withCredentials='undefined'!=typeof ha.withCredentials?ha.withCredentials:!1;C.onerror=function(O,E){O={status:C.status||500,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};
I&&(I.eventData.error=O);q&&(q.eventData.error=O);window.ginaToolbar.update('data-xhr',O,!0);triggerEvent(gina,p,'error.'+U,O);Fa&&triggerEvent(gina,p,'error.'+U+'.hform',O);ca&&triggerEvent(gina,p,'error.'+U+'.hlink',O)};C.onreadystatechange=function(O){O=/Google Inc/i.test(navigator.vendor)?50:0;2==C.readyState&&(N=/^attachment;/.test(C.getResponseHeader('Content-Disposition'))?!0:!1,!C.responseType&&N&&(C.responseType='blob'));if(4==C.readyState)if(Z=null,na=C.getResponseHeader('Content-Type'),
/^2/.test(C.status)){try{if(/blob/.test(C.responseType)||N){if('undefined'==typeof na||null==na)na='application/octet-stream';Z=new Blob([this.response],{type:na});var E=document.createElement('a');E.style='display: none';document.body.appendChild(E);var D=window.URL.createObjectURL(Z);E.href=D;var l=C.getResponseHeader('Content-Disposition');E.download=l.match('=(.*)')[0].substr(1);E.click();window.URL.revokeObjectURL(D);S={status:C.status,statusText:C.statusText,responseType:Z.type,type:Z.type,
size:Z.size}}!S&&/\/json/.test(na)&&(S=JSON.parse(C.responseText),'undefined'==typeof S.status&&(S.status=C.status||200));if(!S&&/\/html/.test(na)&&(S={contentType:na,content:C.responseText},'undefined'==typeof S.status&&(S.status=C.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler)){var z=gina.popin.getActivePopin();if(z){XHRData={};try{XHRData=(new DOMParser).parseFromString(S.content,'text/html').getElementById('gina-without-layout-xhr-data'),XHRData=JSON.parse(decodeURIComponent(XHRData.value)),
XHRView=(new DOMParser).parseFromString(S.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRData&&window.ginaToolbar.update('data-xhr',XHRData),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(v){throw v;}z.loadContent(S.content);S=XHRData;triggerEvent(gina,p,'success.'+U,S);return}}S||(S=C.responseText);I&&
(I.eventData.success=S);XHRData=S;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&/\/html/.test(na)&&window.ginaToolbar.update('data-xhr',XHRData)}catch(v){throw v;}triggerEvent(gina,p,'success.'+U,S);Fa&&triggerEvent(gina,p,'success.'+U+'.hform',S);ca&&triggerEvent(gina,p,'success.'+U+'.hlink',S)}catch(v){S={status:422,error:v.message,stack:v.stack};I&&(I.eventData.error=S);XHRData=S;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&
window.ginaToolbar.update('data-xhr',XHRData)}catch(F){throw F;}triggerEvent(gina,p,'error.'+U,S);Fa&&triggerEvent(gina,p,'error.'+U+'.hform',S);ca&&triggerEvent(gina,p,'error.'+U+'.hlink',S)}if('undefined'!=typeof S&&'undefined'!=typeof S.location)return window.location.hash='',S.location=/^http/.test(S.location)||/^\//.test(S.location)?S.location:location.protocol+'//'+S.location,setTimeout(()=>{window.location.href=S.location},O)}else if(0!=C.status)if(S={status:C.status,message:''},/blob/.test(C.responseType)){Z=
new Blob([this.response],{type:'text/plain'});var y=new FileReader,G='';y.addEventListener('loadend',v=>{/string/i.test(typeof v.srcElement.result)?G+=v.srcElement.result:'object'==typeof v.srcElement.result?S=merge(S,v.srcElement.result):S.message+=v.srcElement.result;if(/^2/.test(y.readyState)){if(/^(\{|\[)/.test(G))try{S=merge(S,JSON.parse(G))}catch(T){S=merge(S,T)}S.message||delete S.message;I&&(I.eventData.error=S);if('undefined'!=typeof S&&'undefined'!=typeof S.error&&S.error.fields&&'object'==
typeof S.error.fields){v={};var F=0,J;for(J in S.error.fields)++F,v[J]={isApplicationValidationError:S.error.fields[J]};0<F&&handleErrorsDisplay(I.target,v)}XHRData=S;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(T){throw T;}triggerEvent(gina,p,'error.'+U,S);Fa&&triggerEvent(gina,p,'error.'+U+'.hform',S);ca&&triggerEvent(gina,p,'error.'+U+'.hlink',S)}});y.readAsText(Z)}else{try{S=merge(S,JSON.parse(C.responseText))}catch(v){S=merge(S,
v)}I&&(I.eventData.error=S);if('undefined'!=typeof S&&'undefined'!=typeof S.error&&S.error.fields&&'object'==typeof S.error.fields){E={};D=0;for(var r in S.error.fields)++D,E[r]={isApplicationValidationError:S.error.fields[r]};0<D&&handleErrorsDisplay(I.target,E)}XHRData=S;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(v){throw v;}triggerEvent(gina,p,'error.'+U,S);Fa&&triggerEvent(gina,p,'error.'+U+'.hform',S);ca&&triggerEvent(gina,p,
'error.'+U+'.hlink',S)}};C.onprogress=function(O){var E='0';O.lengthComputable&&(E=O.loaded/O.total,E=parseInt(100*E));O={status:100,progress:E};I&&(I.eventData.onprogress=O);triggerEvent(gina,p,'progress.'+U,O)};C.ontimeout=function(O){S={status:408,error:'Request Timeout'};I&&(I.eventData.ontimeout=S);triggerEvent(gina,p,'error.'+U,S);Fa&&triggerEvent(gina,p,'error.'+U+'.hform',S);ca&&triggerEvent(gina,p,'error.'+U+'.hlink',S)}}
function removeListener(C,R,ha,Ba){'undefined'!=typeof C.event&&C.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(ha)&&-1!=C.event[ha].indexOf(R)&&C.event[ha].splice(C.event[ha].indexOf(R),1);if('undefined'!=typeof R&&null!=R)if(R.removeEventListener)if(Array.isArray(R))for(i=0,len=R.length;i<len;i++)C=/\.$/.test(ha)?ha+R[i].id:ha,R.removeEventListener(C,Ba,!1),'undefined'!=typeof gina.events[C]&&delete gina.events[C];else ha=/\.$/.test(ha)?ha+R.id:ha,R.removeEventListener(ha,Ba,!1);else{if(R.attachEvent)if(Array.isArray(R))for(i=
0,len=R.length;i<len;i++)C=/\.$/.test(ha)?ha+R[i].id:ha,R.detachEvent('on'+C,Ba),'undefined'!=typeof gina.events[C]&&delete gina.events[C];else ha=/\.$/.test(ha)?ha+R.id:ha,R.detachEvent('on'+ha,Ba)}else if(Array.isArray(R))for(i=0,len=R.length;i<len;i++){let Z=/\.$/.test(ha)?ha+R[i].id:ha;C.customEvent.removeListener(Z,Ba);'undefined'!=typeof gina.events[Z]&&delete gina.events[Z]}else ha=/\.$/.test(ha)?ha+R.id:ha,C.customEvent.removeListener(ha,Ba);'undefined'!=typeof gina.events[ha]&&delete gina.events[ha];
'undefined'!=typeof Ba&&Ba()}
function on(C,R){if(!this.plugin)throw Error('No `plugin` reference found for this event: `'+C);if(0>gina.registeredEvents[this.plugin].indexOf(C)&&!/^init$/.test(C)&&!/\.hform$/.test(C)&&!/\.hlink$/.test(C))R(Error('Event `'+C+'` not handled by ginaEventHandler'));else{var ha=null,Ba=null;'undefined'!=typeof this.id&&'object'!=typeof this.id?(ha=this.target||this,Ba=this.id):'undefined'!=typeof this.target?((ha=this.target)||(ha=this),Ba='undefined'!=typeof ha.getAttribute?ha.getAttribute('id'):
this.id):(ha=this.target,Ba=instance.id);this.eventData&&!ha.eventData&&(ha.eventData=this.eventData);C=/\.(hform|hlink)$/.test(C)?/\.hform$/.test(C)?C.replace(/\.hform$/,'.'+Ba+'.hform'):C.replace(/\.hlink$/,'.'+Ba+'.hlink'):C+('.'+Ba);gina.events[C]||(addListener(gina,ha,C,function(Z){cancelEvent(Z);var N=null;Z.detail?N=Z.detail:'undefined'!=typeof this.eventData.submit?N=this.eventData.submit:'undefined'!=typeof this.eventData.error?N=this.eventData.error:'undefined'!=typeof this.eventData.success&&
(N=this.eventData.success);R&&R(Z,N)}),this.initialized&&!this.isReady&&triggerEvent(gina,ha,'init.'+Ba));return this}}define('utils/events',function(){});
function PrototypesHelper(C){var R='undefined'!==typeof module&&module.exports?!1:!0,ha=C||null;C=null;if('undefined'==typeof GINA_DIR&&!R&&'undefined'!=typeof process&&3<process.argv.length)if(/^\{/.test(process.argv[2]))C=JSON.parse(process.argv[2]).envVars;else if(/\.ctx$/.test(process.argv[2])){C=require('fs');var Ba=process.argv[2].split(/\-\-argv\-filename=/)[1];C=JSON.parse(C.readFileSync(Ba).toString()).envVars}if(ha&&'undefined'!=typeof ha&&'undefined'!=typeof ha.dateFormat)for(let Z in ha.dateFormat)'undefined'==
typeof Date[Z]&&Object.defineProperty(Date.prototype,Z,{writable:!1,enumerable:!1,configurable:!0,value:function(){var N={0:this},na=1,S;for(S in arguments)N[na]=arguments[S],++na;N.length=na;return ha.dateFormat[Z].apply(this,N)}});'undefined'==typeof Array.clone&&Object.defineProperty(Array.prototype,'clone',{writable:!1,enumerable:!1,configurable:!0,value:function(){return this.slice(0)}});'undefined'!=typeof JSON.clone||R||('undefined'!=typeof C&&null!=C?JSON.clone=require(C.GINA_DIR+'/utils/prototypes.json_clone'):
(C||(R=process.cwd().match(/.*\/gina/)[0],require(R+'/utils/helper'),setEnvVar('GINA_DIR',R,!0),C=getEnvVars()),JSON.clone=require(getEnvVar('GINA_DIR')+'/utils/prototypes.json_clone')));'undefined'==typeof JSON.escape&&(JSON.escape=function(Z){try{return Z.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(N){throw N;}});'undefined'==typeof Array.toString&&(Array.prototype.toString=function(){return this.join()});'undefined'==typeof Array.inArray&&Object.defineProperty(Array.prototype,
'inArray',{writable:!1,enumerable:!1,configurable:!0,value:function(Z){return-1!=this.indexOf(Z)}});'undefined'==typeof Array.from&&Object.defineProperty(Array.prototype,'from',{writable:!1,enumerable:!1,configurable:!0,value:function(Z){for(var N={},na=[],S=Z.length,U=0,q=0;q<S;q++){var I=Z[q];1!==N[I]&&(N[I]=1,na[U++]=I)}return na}});'undefined'==typeof Object.count&&Object.defineProperty(Object.prototype,'count',{writable:!0,enumerable:!1,configurable:!0,value:function(){var Z=0;try{this instanceof
String&&JSON.parse(this);for(var N in this)this.hasOwnProperty(N)&&++Z;return Z}catch(na){return Z}}});'undefined'!=typeof global&&'undefined'==typeof global.__stack&&Object.defineProperty(global,'__stack',{configurable:!0,get:function(){var Z=Error.prepareStackTrace;Error.prepareStackTrace=function(na,S){return S};var N=Error();Error.captureStackTrace(N,arguments.callee);N=N.stack;Error.prepareStackTrace=Z;return N}})}
'undefined'!==typeof module&&module.exports?module.exports=PrototypesHelper:'function'===typeof define&&define.amd&&define('helpers/prototypes',[],function(){return PrototypesHelper});
function DateFormatHelper(){var C='undefined'!==typeof module&&module.exports?!1:!0,R=C?require('lib/merge'):require('./../lib/merge');var ha='en-US';var Ba='en';var Z={'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy',cookieDate:'GMT:ddd, dd mmm yyyy HH:MM:ss',logger:'yyyy mmm dd HH:MM:ss',shortTime:'h:MM TT',shortTime2:'h:MM',mediumTime:'h:MM:ss TT',mediumTime2:'h:MM:ss',longTime:'h:MM:ss TT Z',
longTime2:'h:MM:ss TT',concatenatedDate:'yyyymmdd',isoDate:'yyyy-mm-dd',isoTime:'HH:MM:ss',shortIsoTime:'HH:MM',longIsoTime:'HH:MM:ss TT',isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",longIsoDateTime:"yyyy-mm-dd'T'HH:MM:ss.L",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};var N={en:{dayNames:'Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday'.split(' '),monthNames:'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December'.split(' '),
masks:{'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy'}},fr:{dayNames:'dim lun mar mer jeu ven sam dimanche lundi mardi mercredi jeudi vendredi samedi'.split(' '),monthNames:'Jan F\u00e9v Mar Avr Mai Jui Juil Ao\u00fb Sep Oct Nov D\u00e9c Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre'.split(' '),masks:{'default':'ddd mmm dd yyyy HH:MM:ss',
shortDate:'d/m/yy',shortDate2:'dd/mm/yyyy',mediumDate:'d mmm, yyyy',longDate:'d mmmm, yyyy',fullDate:'dddd, d mmmm, yyyy'}}};var na=function(q,I){if(I instanceof Date)return q=q.getTime(),I=I.getTime(),Math.round(Math.abs(q-I)/864E5);throw Error('dateTo is not instance of Date() !');},S=['us','eu','corporate'],U=function(q){d=new Date(q.getFullYear(),q.getMonth(),q.getDate());q=d.getDay()||7;d.setDate(d.getDate()+4-q);q=new Date(Date.parse(d.getFullYear(),0,1));return Math.ceil(((d-q)/864E5+1)/7)};
return{setCulture:function(q,I){/\-/.test(I)?(ha=I,Ba=I.split(/\-/)[0]):Ba=I;return this},format:function(q,I,p){var ca=N[Ba]||N.en,Fa=null;try{Fa=R(ca.masks,Z)}catch(T){R=(C='undefined'!==typeof module&&module.exports?!1:!0)?require('lib/merge'):require('./../lib/merge'),Fa=R(ca.masks,Z)}'undefined'!=typeof N[ha]&&(ca=N[ha],'undefined'!=typeof N[ha].mask&&(Fa=R(ca.masks,Z)));var L=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,
O=/[^-+\dA-Z]/g,E=function(T,sa){T=String(T);for(sa=sa||2;T.length<sa;)T='0'+T;return T};1!=arguments.length||'[object String]'!=Object.prototype.toString.call(q)||/\d/.test(q)||(I=q,q=void 0);q=q?new Date(q):new Date;if(isNaN(q))throw SyntaxError('invalid date');I=String(Fa[I]||I||Fa['default']);'UTC:'==I.slice(0,4)&&(I=I.slice(4),p=!0);var D=p?'getUTC':'get';Fa=q[D+'Date']();var l=q[D+'Day'](),z=q[D+'Month'](),y=q[D+'FullYear'](),G=q[D+'Hours'](),r=q[D+'Minutes'](),v=q[D+'Seconds']();D=q[D+'Milliseconds']();
var F=p?0:q.getTimezoneOffset(),J={d:Fa,dd:E(Fa),ddd:ca.dayNames[l],dddd:ca.dayNames[l+7],m:z+1,mm:E(z+1),mmm:ca.monthNames[z],mmmm:ca.monthNames[z+12],yy:String(y).slice(2),yyyy:y,h:G%12||12,hh:E(G%12||12),H:G,HH:E(G),M:r,MM:E(r),s:v,ss:E(v),l:E(D,3),L:E(D),t:12>G?'a':'p',tt:12>G?'am':'pm',T:12>G?'A':'P',TT:12>G?'AM':'PM',Z:p?'UTC':(String(q).match(L)||['']).pop().replace(O,''),o:(0<F?'-':'+')+E(100*Math.floor(Math.abs(F)/60)+Math.abs(F)%60,4),S:['th','st','nd','rd'][3<Fa%10?0:(10!=Fa%100-Fa%10)*
Fa%10]};return I.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,function(T){return T in J?J[T]:T.slice(1,T.length-1)})},countDaysTo:na,getDaysTo:function(q,I,p){if(I instanceof Date){I=na(q,I);var ca=q.getMonth(),Fa=q.getFullYear();q=q.getDate()+1;q=new Date(Fa,ca,q);ca=[];for(Fa=0;Fa<I;++Fa)'undefined'!=typeof p?ca.push((new Date(q)).format(p)):ca.push(new Date(q)),q.setDate(q.getDate()+1);return ca||[]}throw Error('dateTo is not instance of Date() !');},getDaysInMonth:function(q){var I=
q.getMonth();q=q.getFullYear();q=new Date(q,I,1);for(var p=[];q.getMonth()===I;)p.push(new Date(q)),q.setDate(q.getDate()+1);return p},getQuarter:function(q,I){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>S.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');q=new Date;I=arguments[0]}'undefined'==typeof q&&(q=new Date);'undefined'==typeof I&&(I='corporate');I=I.toLowerCase();switch(I){case 'us':var p=[4,1,2,3];break;case 'corportate':case 'eu':p=
[1,2,3,4];break;default:p=[1,2,3,4]}return p[Math.floor(q.getMonth()/3)]},getHalfYear:function(q,I){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>S.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');q=new Date;I=arguments[0]}'undefined'==typeof q&&(q=new Date);'undefined'==typeof I&&(I='corporate');I=I.toLowerCase();return 2>=q.getQuarter(I)?1:2},getWeek:function(q,I){'undefined'==typeof q&&(q=new Date);'undefined'==typeof I&&(I='ISO 8601');
I=I.replace(/\s+/g,'').toLowerCase();switch(I){case 'corporate':case 'eu':case 'iso8601':return U(q);default:return U(q)}},addHours:function(q,I){q=new Date(q.getTime());q.setHours(q.getHours()+I);return q},addDays:function(q,I){q=new Date(q.getTime());q.setHours(q.getHours()+24*I);return q},addYears:function(q,I){q=new Date(q.getTime());q.setFullYear(q.getFullYear()+I);return q}}}
'undefined'!==typeof module&&module.exports?module.exports=DateFormatHelper:'function'===typeof define&&define.amd&&define('helpers/dateFormat',[],function(){return DateFormatHelper});
!function(C,R){'object'==typeof module&&'object'==typeof module.exports?module.exports=C.document?R(C,!0):function(ha){if(!ha.document)throw Error('jQuery requires a window with a document');return R(ha)}:R(C)}('undefined'!=typeof window?window:this,function(C,R){function ha(a){var c=!!a&&'length'in a&&a.length,g=b.type(a);return'function'===g||b.isWindow(a)?!1:'array'===g||0===c||'number'==typeof c&&0<c&&c-1 in a}function Ba(a,c,g){if(b.isFunction(c))return b.grep(a,function(k,m){return!!c.call(k,
m,k)!==g});if(c.nodeType)return b.grep(a,function(k){return k===c!==g});if('string'==typeof c){if(w.test(c))return b.filter(c,a,g);c=b.filter(c,a)}return b.grep(a,function(k){return-1<b.inArray(k,c)!==g})}function Z(a,c){do a=a[c];while(a&&1!==a.nodeType);return a}function N(a){var c={};return b.each(a.match(Ca)||[],function(g,k){c[k]=!0}),c}function na(){Na.addEventListener?(Na.removeEventListener('DOMContentLoaded',S),C.removeEventListener('load',S)):(Na.detachEvent('onreadystatechange',S),C.detachEvent('onload',
S))}function S(){(Na.addEventListener||'load'===C.event.type||'complete'===Na.readyState)&&(na(),b.ready())}function U(a,c,g){if(void 0===g&&1===a.nodeType){var k='data-'+c.replace(sb,'-$1').toLowerCase();if(g=a.getAttribute(k),'string'==typeof g){try{g='true'===g?!0:'false'===g?!1:'null'===g?null:+g+''===g?+g:qb.test(g)?b.parseJSON(g):g}catch(m){}b.data(a,c,g)}else g=void 0}return g}function q(a){for(var c in a)if(('data'!==c||!b.isEmptyObject(a[c]))&&'toJSON'!==c)return!1;return!0}function I(a,
c,g,k){if(Va(a)){var m,B,H=b.expando,Y=a.nodeType,pa=Y?b.cache:a,Aa=Y?a[H]:a[H]&&H;if(Aa&&pa[Aa]&&(k||pa[Aa].data)||void 0!==g||'string'!=typeof c)return Aa||=Y?a[H]=Gb.pop()||b.guid++:H,pa[Aa]||(pa[Aa]=Y?{}:{toJSON:b.noop}),'object'!=typeof c&&'function'!=typeof c||(k?pa[Aa]=b.extend(pa[Aa],c):pa[Aa].data=b.extend(pa[Aa].data,c)),B=pa[Aa],k||(B.data||(B.data={}),B=B.data),void 0!==g&&(B[b.camelCase(c)]=g),'string'==typeof c?(m=B[c],null==m&&(m=B[b.camelCase(c)])):m=B,m}}function p(a,c,g){if(Va(a)){var k,
m,B=a.nodeType,H=B?b.cache:a,Y=B?a[b.expando]:b.expando;if(H[Y]){if(c&&(k=g?H[Y]:H[Y].data)){b.isArray(c)?c=c.concat(b.map(c,b.camelCase)):c in k?c=[c]:(c=b.camelCase(c),c=c in k?[c]:c.split(' '));for(m=c.length;m--;)delete k[c[m]];if(g?!q(k):!b.isEmptyObject(k))return}(g||(delete H[Y].data,q(H[Y])))&&(B?b.cleanData([a],!0):e.deleteExpando||H!=H.window?delete H[Y]:H[Y]=void 0)}}}function ca(a,c,g,k){var m,B=1,H=20,Y=k?function(){return k.cur()}:function(){return b.css(a,c,'')},pa=Y(),Aa=g&&g[3]||
(b.cssNumber[c]?'':'px'),ra=(b.cssNumber[c]||'px'!==Aa&&+pa)&&Ob.exec(b.css(a,c));if(ra&&ra[3]!==Aa){Aa=Aa||ra[3];g=g||[];ra=+pa||1;do B=B||'.5',ra/=B,b.style(a,c,ra+Aa);while(B!==(B=Y()/pa)&&1!==B&&--H)}return g&&(ra=+ra||+pa||0,m=g[1]?ra+(g[1]+1)*g[2]:+g[2],k&&(k.unit=Aa,k.start=ra,k.end=m)),m}function Fa(a){var c='abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video'.split(' ');
a=a.createDocumentFragment();if(a.createElement)for(;c.length;)a.createElement(c.pop());return a}function L(a,c){var g,k,m=0,B='undefined'!=typeof a.getElementsByTagName?a.getElementsByTagName(c||'*'):'undefined'!=typeof a.querySelectorAll?a.querySelectorAll(c||'*'):void 0;if(!B)for(B=[],g=a.childNodes||a;null!=(k=g[m]);m++)!c||b.nodeName(k,c)?B.push(k):b.merge(B,L(k,c));return void 0===c||c&&b.nodeName(a,c)?b.merge([a],B):B}function O(a,c){for(var g,k=0;null!=(g=a[k]);k++)b._data(g,'globalEval',
!c||b._data(c[k],'globalEval'))}function E(a){gb.test(a.type)&&(a.defaultChecked=a.checked)}function D(a,c,g,k,m){for(var B,H,Y,pa,Aa,ra,Ta,Wa=a.length,wb=Fa(c),cb=[],Jb=0;Wa>Jb;Jb++)if(H=a[Jb],H||0===H)if('object'===b.type(H))b.merge(cb,H.nodeType?[H]:H);else if(Ra.test(H)){pa=pa||wb.appendChild(c.createElement('div'));Aa=(fa.exec(H)||['',''])[1].toLowerCase();Ta=qa[Aa]||qa._default;pa.innerHTML=Ta[1]+b.htmlPrefilter(H)+Ta[2];for(B=Ta[0];B--;)pa=pa.lastChild;if(!e.leadingWhitespace&&ea.test(H)&&
cb.push(c.createTextNode(ea.exec(H)[0])),!e.tbody)for(B=(H='table'!==Aa||ab.test(H)?'<table>'!==Ta[1]||ab.test(H)?0:pa:pa.firstChild)&&H.childNodes.length;B--;)b.nodeName(ra=H.childNodes[B],'tbody')&&!ra.childNodes.length&&H.removeChild(ra);b.merge(cb,pa.childNodes);for(pa.textContent='';pa.firstChild;)pa.removeChild(pa.firstChild);pa=wb.lastChild}else cb.push(c.createTextNode(H));pa&&wb.removeChild(pa);e.appendChecked||b.grep(L(cb,'input'),E);for(Jb=0;H=cb[Jb++];)if(k&&-1<b.inArray(H,k))m&&m.push(H);
else if(Y=b.contains(H.ownerDocument,H),pa=L(wb.appendChild(H),'script'),Y&&O(pa),g)for(B=0;H=pa[B++];)X.test(H.type||'')&&g.push(H);return wb}function l(){return!0}function z(){return!1}function y(){try{return Na.activeElement}catch(a){}}function G(a,c,g,k,m,B){var H,Y;if('object'==typeof c){'string'!=typeof g&&(k=k||g,g=void 0);for(Y in c)G(a,Y,g,k,c[Y],B);return a}if(null==k&&null==m?(m=g,k=g=void 0):null==m&&('string'==typeof g?(m=k,k=void 0):(m=k,k=g,g=void 0)),!1===m)m=z;else if(!m)return a;
return 1===B&&(H=m,m=function(pa){return b().off(pa),H.apply(this,arguments)},m.guid=H.guid||(H.guid=b.guid++)),a.each(function(){b.event.add(this,c,m,k,g)})}function r(a,c){return b.nodeName(a,'table')&&b.nodeName(11!==c.nodeType?c:c.firstChild,'tr')?a.getElementsByTagName('tbody')[0]||a.appendChild(a.ownerDocument.createElement('tbody')):a}function v(a){return a.type=(null!==b.find.attr(a,'type'))+'/'+a.type,a}function F(a){var c=Ib.exec(a.type);return c?a.type=c[1]:a.removeAttribute('type'),a}
function J(a,c){if(1===c.nodeType&&b.hasData(a)){var g,k;var m=b._data(a);a=b._data(c,m);var B=m.events;if(B)for(g in delete a.handle,a.events={},B)for(m=0,k=B[g].length;k>m;m++)b.event.add(c,g,B[g][m]);a.data&&(a.data=b.extend({},a.data))}}function T(a,c,g,k){c=Eb.apply([],c);var m,B,H,Y=0,pa=a.length,Aa=pa-1,ra=c[0],Ta=b.isFunction(ra);if(Ta||1<pa&&'string'==typeof ra&&!e.checkClone&&Db.test(ra))return a.each(function(wb){var cb=a.eq(wb);Ta&&(c[0]=ra.call(this,wb,cb.html()));T(cb,c,g,k)});if(pa&&
(H=D(c,a[0].ownerDocument,!1,a,k),m=H.firstChild,1===H.childNodes.length&&(H=m),m||k)){var Wa=b.map(L(H,'script'),v);for(B=Wa.length;pa>Y;Y++)m=H,Y!==Aa&&(m=b.clone(m,!0,!0),B&&b.merge(Wa,L(m,'script'))),g.call(a[Y],m,Y);if(B)for(H=Wa[Wa.length-1].ownerDocument,b.map(Wa,F),Y=0;B>Y;Y++)m=Wa[Y],X.test(m.type||'')&&!b._data(m,'globalEval')&&b.contains(H,m)&&(m.src?b._evalUrl&&b._evalUrl(m.src):b.globalEval((m.text||m.textContent||m.innerHTML||'').replace(Kb,'')));H=m=null}return a}function sa(a,c,g){for(var k=
c?b.filter(c,a):a,m=0;null!=(c=k[m]);m++)g||1!==c.nodeType||b.cleanData(L(c)),c.parentNode&&(g&&b.contains(c.ownerDocument,c)&&O(L(c,'script')),c.parentNode.removeChild(c));return a}function Ga(a,c){a=b(c.createElement(a)).appendTo(c.body);c=b.css(a[0],'display');return a.detach(),c}function W(a){var c=Na,g=Gc[a];return g||(g=Ga(a,c),'none'!==g&&g||(Wb=(Wb||b("<iframe frameborder='0' width='0' height='0'/>")).appendTo(c.documentElement),c=(Wb[0].contentWindow||Wb[0].contentDocument).document,c.write(),
c.close(),g=Ga(a,c),Wb.detach()),Gc[a]=g),g}function ia(a,c){return{get:function(){return a()?void delete this.get:(this.get=c).apply(this,arguments)}}}function da(a){if(a in jd)return a;for(var c=a.charAt(0).toUpperCase()+a.slice(1),g=kd.length;g--;)if(a=kd[g]+c,a in jd)return a}function wa(a,c){for(var g,k,m,B=[],H=0,Y=a.length;Y>H;H++)k=a[H],k.style&&(B[H]=b._data(k,'olddisplay'),g=k.style.display,c?(B[H]||'none'!==g||(k.style.display=''),''===k.style.display&&Vb(k)&&(B[H]=b._data(k,'olddisplay',
W(k.nodeName)))):(m=Vb(k),(g&&'none'!==g||!m)&&b._data(k,'olddisplay',m?g:b.css(k,'display'))));for(H=0;Y>H;H++)k=a[H],k.style&&(c&&'none'!==k.style.display&&''!==k.style.display||(k.style.display=c?B[H]||'':'none'));return a}function ka(a,c,g){return(a=wd.exec(c))?Math.max(0,a[1]-(g||0))+(a[2]||'px'):c}function ta(a,c,g,k,m){c=g===(k?'border':'content')?4:'width'===c?1:0;for(var B=0;4>c;c+=2)'margin'===g&&(B+=b.css(a,g+zb[c],!0,m)),k?('content'===g&&(B-=b.css(a,'padding'+zb[c],!0,m)),'margin'!==
g&&(B-=b.css(a,'border'+zb[c]+'Width',!0,m))):(B+=b.css(a,'padding'+zb[c],!0,m),'padding'!==g&&(B+=b.css(a,'border'+zb[c]+'Width',!0,m)));return B}function Da(a,c,g){var k=!0,m='width'===c?a.offsetWidth:a.offsetHeight,B=xc(a),H=e.boxSizing&&'border-box'===b.css(a,'boxSizing',!1,B);if(0>=m||null==m){if(m=sc(a,c,B),(0>m||null==m)&&(m=a.style[c]),Mb.test(m))return m;k=H&&(e.boxSizingReliable()||m===a.style[c]);m=parseFloat(m)||0}return m+ta(a,c,g||(H?'border':'content'),k,B)+'px'}function Qa(a,c,g,k,
m){return new Qa.prototype.init(a,c,g,k,m)}function La(){return C.setTimeout(function(){Hc=void 0}),Hc=b.now()}function Ea(a,c){var g={height:a},k=0;for(c=c?1:0;4>k;k+=2-c){var m=zb[k];g['margin'+m]=g['padding'+m]=a}return c&&(g.opacity=g.width=a),g}function Oa(a,c,g){for(var k,m=(Ka.tweeners[c]||[]).concat(Ka.tweeners['*']),B=0,H=m.length;H>B;B++)if(k=m[B].call(g,c,a))return k}function Ia(a,c){var g,k,m,B,H;for(g in a)if(k=b.camelCase(g),m=c[k],B=a[g],b.isArray(B)&&(m=B[1],B=a[g]=B[0]),g!==k&&(a[k]=
B,delete a[g]),H=b.cssHooks[k],H&&'expand'in H)for(g in B=H.expand(B),delete a[k],B)g in a||(a[g]=B[g],c[g]=m);else c[k]=m}function Ka(a,c,g){var k,m=0,B=Ka.prefilters.length,H=b.Deferred().always(function(){delete Y.elem}),Y=function(){if(k)return!1;var Aa=Hc||La();Aa=Math.max(0,pa.startTime+pa.duration-Aa);for(var ra=1-(Aa/pa.duration||0),Ta=0,Wa=pa.tweens.length;Wa>Ta;Ta++)pa.tweens[Ta].run(ra);return H.notifyWith(a,[pa,ra,Aa]),1>ra&&Wa?Aa:(H.resolveWith(a,[pa]),!1)},pa=H.promise({elem:a,props:b.extend({},
c),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},g),originalProperties:c,originalOptions:g,startTime:Hc||La(),duration:g.duration,tweens:[],createTween:function(Aa,ra){Aa=b.Tween(a,pa.opts,Aa,ra,pa.opts.specialEasing[Aa]||pa.opts.easing);return pa.tweens.push(Aa),Aa},stop:function(Aa){var ra=0,Ta=Aa?pa.tweens.length:0;if(k)return this;for(k=!0;Ta>ra;ra++)pa.tweens[ra].run(1);return Aa?(H.notifyWith(a,[pa,1,0]),H.resolveWith(a,[pa,Aa])):H.rejectWith(a,[pa,Aa]),this}});g=pa.props;for(Ia(g,
pa.opts.specialEasing);B>m;m++)if(c=Ka.prefilters[m].call(pa,a,g,pa.opts))return b.isFunction(c.stop)&&(b._queueHooks(pa.elem,pa.opts.queue).stop=b.proxy(c.stop,c)),c;return b.map(g,Oa,pa),b.isFunction(pa.opts.start)&&pa.opts.start.call(a,pa),b.fx.timer(b.extend(Y,{elem:a,anim:pa,queue:pa.opts.queue})),pa.progress(pa.opts.progress).done(pa.opts.done,pa.opts.complete).fail(pa.opts.fail).always(pa.opts.always)}function Ya(a){return b.attr(a,'class')||''}function pb(a){return function(c,g){'string'!=
typeof c&&(g=c,c='*');var k=0,m=c.toLowerCase().match(Ca)||[];if(b.isFunction(g))for(;c=m[k++];)'+'===c.charAt(0)?(c=c.slice(1)||'*',(a[c]=a[c]||[]).unshift(g)):(a[c]=a[c]||[]).push(g)}}function $a(a,c,g,k){function m(Y){var pa;return B[Y]=!0,b.each(a[Y]||[],function(Aa,ra){Aa=ra(c,g,k);return'string'!=typeof Aa||H||B[Aa]?H?!(pa=Aa):void 0:(c.dataTypes.unshift(Aa),m(Aa),!1)}),pa}var B={},H=a===Xc;return m(c.dataTypes[0])||!B['*']&&m('*')}function jb(a,c){var g,k,m=b.ajaxSettings.flatOptions||{};for(k in c)void 0!==
c[k]&&((m[k]?a:g||={})[k]=c[k]);return g&&b.extend(!0,a,g),a}function bc(a){if(!b.contains(a.ownerDocument||Na,a))return!0;for(;a&&1===a.nodeType;){if('none'===(a.style&&a.style.display||b.css(a,'display'))||'hidden'===a.type)return!0;a=a.parentNode}return!1}function $b(a,c,g,k){var m;if(b.isArray(c))b.each(c,function(B,H){g||xd.test(a)?k(a,H):$b(a+'['+('object'==typeof H&&null!=H?B:'')+']',H,g,k)});else if(g||'object'!==b.type(c))k(a,c);else for(m in c)$b(a+'['+m+']',c[m],g,k)}function fb(){try{return new C.XMLHttpRequest}catch(a){}}
function Cb(){try{return new C.ActiveXObject('Microsoft.XMLHTTP')}catch(a){}}function yb(a){return b.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var Gb=[],Na=C.document,db=Gb.slice,Eb=Gb.concat,Pb=Gb.push,xa=Gb.indexOf,ya={},Ja=ya.toString,M=ya.hasOwnProperty,e={},b=function(a,c){return new b.fn.init(a,c)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/^-ms-/,x=/-([\da-z])/gi,u=function(a,c){return c.toUpperCase()};b.fn=b.prototype={jquery:'1.12.4',constructor:b,selector:'',length:0,
toArray:function(){return db.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:db.call(this)},pushStack:function(a){a=b.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a){return b.each(this,a)},map:function(a){return this.pushStack(b.map(this,function(c,g){return a.call(c,g,c)}))},slice:function(){return this.pushStack(db.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var c=
this.length;a=+a+(0>a?c:0);return this.pushStack(0<=a&&c>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Pb,sort:Gb.sort,splice:Gb.splice};b.extend=b.fn.extend=function(){var a,c,g,k,m=arguments[0]||{},B=1,H=arguments.length,Y=!1;'boolean'==typeof m&&(Y=m,m=arguments[B]||{},B++);'object'==typeof m||b.isFunction(m)||(m={});for(B===H&&(m=this,B--);H>B;B++)if(null!=(g=arguments[B]))for(c in g){var pa=m[c];var Aa=g[c];m!==Aa&&(Y&&Aa&&(b.isPlainObject(Aa)||(a=b.isArray(Aa)))?
(a?(a=!1,k=pa&&b.isArray(pa)?pa:[]):k=pa&&b.isPlainObject(pa)?pa:{},m[c]=b.extend(Y,k,Aa)):void 0!==Aa&&(m[c]=Aa))}return m};b.extend({expando:'jQuery'+('1.12.4'+Math.random()).replace(/\D/g,''),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return'function'===b.type(a)},isArray:Array.isArray||function(a){return'array'===b.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var c=a&&a.toString();return!b.isArray(a)&&0<=c-parseFloat(c)+
1},isEmptyObject:function(a){for(var c in a)return!1;return!0},isPlainObject:function(a){var c;if(!a||'object'!==b.type(a)||a.nodeType||b.isWindow(a))return!1;try{if(a.constructor&&!M.call(a,'constructor')&&!M.call(a.constructor.prototype,'isPrototypeOf'))return!1}catch(g){return!1}if(!e.ownFirst)for(c in a)return M.call(a,c);for(c in a);return void 0===c||M.call(a,c)},type:function(a){return null==a?a+'':'object'==typeof a||'function'==typeof a?ya[Ja.call(a)]||'object':typeof a},globalEval:function(a){a&&
b.trim(a)&&(C.execScript||function(c){C.eval.call(C,c)})(a)},camelCase:function(a){return a.replace(n,'ms-').replace(x,u)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()},each:function(a,c){var g,k=0;if(ha(a))for(g=a.length;g>k&&!1!==c.call(a[k],k,a[k]);k++);else for(k in a)if(!1===c.call(a[k],k,a[k]))break;return a},trim:function(a){return null==a?'':(a+'').replace(h,'')},makeArray:function(a,c){c=c||[];return null!=a&&(ha(Object(a))?b.merge(c,'string'==typeof a?
[a]:a):Pb.call(c,a)),c},inArray:function(a,c,g){if(c){if(xa)return xa.call(c,a,g);var k=c.length;for(g=g?0>g?Math.max(0,k+g):g:0;k>g;g++)if(g in c&&c[g]===a)return g}return-1},merge:function(a,c){for(var g=+c.length,k=0,m=a.length;g>k;)a[m++]=c[k++];if(g!==g)for(;void 0!==c[k];)a[m++]=c[k++];return a.length=m,a},grep:function(a,c,g){for(var k=[],m=0,B=a.length,H=!g;B>m;m++)g=!c(a[m],m),g!==H&&k.push(a[m]);return k},map:function(a,c,g){var k,m=0,B=[];if(ha(a))for(k=a.length;k>m;m++){var H=c(a[m],m,
g);null!=H&&B.push(H)}else for(m in a)H=c(a[m],m,g),null!=H&&B.push(H);return Eb.apply([],B)},guid:1,proxy:function(a,c){var g,k,m;return'string'==typeof c&&(m=a[c],c=a,a=m),b.isFunction(a)?(g=db.call(arguments,2),k=function(){return a.apply(c||this,g.concat(db.call(arguments)))},k.guid=a.guid=a.guid||b.guid++,k):void 0},now:function(){return+new Date},support:e});'function'==typeof Symbol&&(b.fn[Symbol.iterator]=Gb[Symbol.iterator]);b.each('Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' '),
function(a,c){ya['[object '+c+']']=c.toLowerCase()});var A=function(a){function c(K,ba,ma,va){var Ha,Ma,Ua,bb,Xa=ba&&ba.ownerDocument,lb=ba?ba.nodeType:9;if(ma=ma||[],'string'!=typeof K||!K||1!==lb&&9!==lb&&11!==lb)return ma;if(!va&&((ba?ba.ownerDocument||ba:cc)!==tb&&Dc(ba),ba=ba||tb,hc)){if(11!==lb&&(bb=yd.exec(K)))if(Ha=bb[1])if(9===lb){if(!(Ma=ba.getElementById(Ha)))return ma;if(Ma.id===Ha)return ma.push(Ma),ma}else{if(Xa&&(Ma=Xa.getElementById(Ha))&&oc(ba,Ma)&&Ma.id===Ha)return ma.push(Ma),ma}else{if(bb[2])return Cc.apply(ma,
ba.getElementsByTagName(K)),ma;if((Ha=bb[3])&&Rb.getElementsByClassName&&ba.getElementsByClassName)return Cc.apply(ma,ba.getElementsByClassName(Ha)),ma}if(!(!Rb.qsa||dc[K+' ']||Xb&&Xb.test(K))){if(1!==lb){Xa=ba;var nb=K}else if('object'!==ba.nodeName.toLowerCase()){(Ua=ba.getAttribute('id'))?Ua=Ua.replace(zd,'\\$&'):ba.setAttribute('id',Ua=Ab);bb=Pc(K);Ha=bb.length;for(Ma=ld.test(Ua)?'#'+Ua:"[id='"+Ua+"']";Ha--;)bb[Ha]=Ma+' '+Wa(bb[Ha]);nb=bb.join(',');Xa=Yc.test(K)&&ra(ba.parentNode)||ba}if(nb)try{return Cc.apply(ma,
Xa.querySelectorAll(nb)),ma}catch(hb){}finally{Ua===Ab&&ba.removeAttribute('id')}}}return ic(K.replace(Qc,'$1'),ba,ma,va)}function g(){function K(ma,va){return ba.push(ma+' ')>Fb.cacheLength&&delete K[ba.shift()],K[ma+' ']=va}var ba=[];return K}function k(K){return K[Ab]=!0,K}function m(K){var ba=tb.createElement('div');try{return!!K(ba)}catch(ma){return!1}finally{ba.parentNode&&ba.parentNode.removeChild(ba)}}function B(K,ba){K=K.split('|');for(var ma=K.length;ma--;)Fb.attrHandle[K[ma]]=ba}function H(K,
ba){var ma=ba&&K,va=ma&&1===K.nodeType&&1===ba.nodeType&&(~ba.sourceIndex||-2147483648)-(~K.sourceIndex||-2147483648);if(va)return va;if(ma)for(;ma=ma.nextSibling;)if(ma===ba)return-1;return K?1:-1}function Y(K){return function(ba){return'input'===ba.nodeName.toLowerCase()&&ba.type===K}}function pa(K){return function(ba){var ma=ba.nodeName.toLowerCase();return('input'===ma||'button'===ma)&&ba.type===K}}function Aa(K){return k(function(ba){return ba=+ba,k(function(ma,va){for(var Ha,Ma=K([],ma.length,
ba),Ua=Ma.length;Ua--;)ma[Ha=Ma[Ua]]&&(ma[Ha]=!(va[Ha]=ma[Ha]))})})}function ra(K){return K&&'undefined'!=typeof K.getElementsByTagName&&K}function Ta(){}function Wa(K){for(var ba=0,ma=K.length,va='';ma>ba;ba++)va+=K[ba].value;return va}function wb(K,ba,ma){var va=ba.dir,Ha=ma&&'parentNode'===va,Ma=Sb++;return ba.first?function(Ua,bb,Xa){for(;Ua=Ua[va];)if(1===Ua.nodeType||Ha)return K(Ua,bb,Xa)}:function(Ua,bb,Xa){var lb,nb,hb,Lb=[Yb,Ma];if(Xa)for(;Ua=Ua[va];){if((1===Ua.nodeType||Ha)&&K(Ua,bb,Xa))return!0}else for(;Ua=
Ua[va];)if(1===Ua.nodeType||Ha){if(hb=Ua[Ab]||(Ua[Ab]={}),nb=hb[Ua.uniqueID]||(hb[Ua.uniqueID]={}),(lb=nb[va])&&lb[0]===Yb&&lb[1]===Ma)return Lb[2]=lb[2];if(nb[va]=Lb,Lb[2]=K(Ua,bb,Xa))return!0}}}function cb(K){return 1<K.length?function(ba,ma,va){for(var Ha=K.length;Ha--;)if(!K[Ha](ba,ma,va))return!1;return!0}:K[0]}function Jb(K,ba,ma,va,Ha){for(var Ma,Ua=[],bb=0,Xa=K.length,lb=null!=ba;Xa>bb;bb++)(Ma=K[bb])&&(ma&&!ma(Ma,va,Ha)||(Ua.push(Ma),lb&&ba.push(bb)));return Ua}function lc(K,ba,ma,va,Ha,
Ma){return va&&!va[Ab]&&(va=lc(va)),Ha&&!Ha[Ab]&&(Ha=lc(Ha,Ma)),k(function(Ua,bb,Xa,lb){var nb,hb=[],Lb=[],ec=bb.length,ac;if(!(ac=Ua)){ac=ba||'*';for(var ub=Xa.nodeType?[Xa]:Xa,tc=[],jc=0,rc=ub.length;rc>jc;jc++)c(ac,ub[jc],tc);ac=tc}ac=!K||!Ua&&ba?ac:Jb(ac,hb,K,Xa,lb);ub=ma?Ha||(Ua?K:ec||va)?[]:bb:ac;if(ma&&ma(ac,ub,Xa,lb),va){var fc=Jb(ub,Lb);va(fc,[],Xa,lb);for(Xa=fc.length;Xa--;)(nb=fc[Xa])&&(ub[Lb[Xa]]=!(ac[Lb[Xa]]=nb))}if(Ua){if(Ha||K){if(Ha){fc=[];for(Xa=ub.length;Xa--;)(nb=ub[Xa])&&fc.push(ac[Xa]=
nb);Ha(null,ub=[],fc,lb)}for(Xa=ub.length;Xa--;)(nb=ub[Xa])&&-1<(fc=Ha?Ec(Ua,nb):hb[Xa])&&(Ua[fc]=!(bb[fc]=nb))}}else ub=Jb(ub===bb?ub.splice(ec,ub.length):ub),Ha?Ha(null,bb,ub,lb):Cc.apply(bb,ub)})}function Ic(K){var ba,ma,va=K.length,Ha=Fb.relative[K[0].type];var Ma=Ha||Fb.relative[' '];for(var Ua=Ha?1:0,bb=wb(function(nb){return nb===ba},Ma,!0),Xa=wb(function(nb){return-1<Ec(ba,nb)},Ma,!0),lb=[function(nb,hb,Lb){nb=!Ha&&(Lb||hb!==Bb)||((ba=hb).nodeType?bb(nb,hb,Lb):Xa(nb,hb,Lb));return ba=null,
nb}];va>Ua;Ua++)if(Ma=Fb.relative[K[Ua].type])lb=[wb(cb(lb),Ma)];else{if(Ma=Fb.filter[K[Ua].type].apply(null,K[Ua].matches),Ma[Ab]){for(ma=++Ua;va>ma&&!Fb.relative[K[ma].type];ma++);return lc(1<Ua&&cb(lb),1<Ua&&Wa(K.slice(0,Ua-1).concat({value:' '===K[Ua-2].type?'*':''})).replace(Qc,'$1'),Ma,ma>Ua&&Ic(K.slice(Ua,ma)),va>ma&&Ic(K=K.slice(ma)),va>ma&&Wa(K))}lb.push(Ma)}return cb(lb)}function mc(K,ba){var ma=0<ba.length,va=0<K.length,Ha=function(Ma,Ua,bb,Xa,lb){var nb,hb,Lb=0,ec='0',ac=Ma&&[],ub=[],
tc=Bb,jc=Ma||va&&Fb.find.TAG('*',lb),rc=Yb+=null==tc?1:Math.random()||.1,fc=jc.length;for(lb&&(Bb=Ua===tb||Ua||lb);ec!==fc&&null!=(nb=jc[ec]);ec++){if(va&&nb){var Zc=0;for(Ua||nb.ownerDocument===tb||(Dc(nb),bb=!hc);hb=K[Zc++];)if(hb(nb,Ua||tb,bb)){Xa.push(nb);break}lb&&(Yb=rc)}ma&&((nb=!hb&&nb)&&Lb--,Ma&&ac.push(nb))}if(Lb+=ec,ma&&ec!==Lb){for(Zc=0;hb=ba[Zc++];)hb(ac,ub,Ua,bb);if(Ma){if(0<Lb)for(;ec--;)ac[ec]||ub[ec]||(ub[ec]=$c.call(Xa));ub=Jb(ub)}Cc.apply(Xa,ub);lb&&!Ma&&0<ub.length&&1<Lb+ba.length&&
c.uniqueSort(Xa)}return lb&&(Yb=rc,Bb=tc),ac};return ma?k(Ha):Ha}var yc,vb,ic,Bb,Qb,Tb,tb,kc,hc,Xb,gc,Ub,oc,Ab='sizzle'+1*new Date,cc=a.document,Yb=0,Sb=0,Jc=g(),pc=g(),dc=g(),uc=function(K,ba){return K===ba&&(Tb=!0),0},vc={}.hasOwnProperty,nc=[],$c=nc.pop,Ad=nc.push,Cc=nc.push,md=nc.slice,Ec=function(K,ba){for(var ma=0,va=K.length;va>ma;ma++)if(K[ma]===ba)return ma;return-1},Bd=RegExp('[\\x20\\t\\r\\n\\f]+','g'),Qc=RegExp('^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$','g'),
Cd=RegExp('^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*'),Dd=RegExp('^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*'),Ed=RegExp('=[\\x20\\t\\r\\n\\f]*([^\\]\'"]*?)[\\x20\\t\\r\\n\\f]*\\]','g'),Fd=RegExp(':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
ld=RegExp('^(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+$'),Rc={ID:RegExp('^#((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),CLASS:RegExp('^\\.((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),TAG:RegExp('^((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+|[*])'),ATTR:RegExp('^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]'),PSEUDO:RegExp('^:((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
CHILD:RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)','i'),bool:RegExp('^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$','i'),needsContext:RegExp('^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)',
'i')},Gd=/^(?:input|select|textarea|button)$/i,Hd=/^h\d$/i,Mc=/^[^{]+\{\s*\[native \w/,yd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Yc=/[+~]/,zd=/'|\\/g,zc=RegExp('\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)','ig'),Ac=function(K,ba,ma){K='0x'+ba-65536;return K!==K||ma?ba:0>K?String.fromCharCode(K+65536):String.fromCharCode(K>>10|55296,1023&K|56320)},nd=function(){Dc()};try{Cc.apply(nc=md.call(cc.childNodes),cc.childNodes),nc[cc.childNodes.length].nodeType}catch(K){Cc={apply:nc.length?
function(ba,ma){Ad.apply(ba,md.call(ma))}:function(ba,ma){for(var va=ba.length,Ha=0;ba[va++]=ma[Ha++];);ba.length=va-1}}}var Rb=c.support={};var Id=c.isXML=function(K){return(K=K&&(K.ownerDocument||K).documentElement)?'HTML'!==K.nodeName:!1};var Dc=c.setDocument=function(K){var ba,ma;K=K?K.ownerDocument||K:cc;return K!==tb&&9===K.nodeType&&K.documentElement?(tb=K,kc=tb.documentElement,hc=!Id(tb),(ma=tb.defaultView)&&ma.top!==ma&&(ma.addEventListener?ma.addEventListener('unload',nd,!1):ma.attachEvent&&
ma.attachEvent('onunload',nd)),Rb.attributes=m(function(va){return va.className='i',!va.getAttribute('className')}),Rb.getElementsByTagName=m(function(va){return va.appendChild(tb.createComment('')),!va.getElementsByTagName('*').length}),Rb.getElementsByClassName=Mc.test(tb.getElementsByClassName),Rb.getById=m(function(va){return kc.appendChild(va).id=Ab,!tb.getElementsByName||!tb.getElementsByName(Ab).length}),Rb.getById?(Fb.find.ID=function(va,Ha){if('undefined'!=typeof Ha.getElementById&&hc)return(va=
Ha.getElementById(va))?[va]:[]},Fb.filter.ID=function(va){var Ha=va.replace(zc,Ac);return function(Ma){return Ma.getAttribute('id')===Ha}}):(delete Fb.find.ID,Fb.filter.ID=function(va){var Ha=va.replace(zc,Ac);return function(Ma){return(Ma='undefined'!=typeof Ma.getAttributeNode&&Ma.getAttributeNode('id'))&&Ma.value===Ha}}),Fb.find.TAG=Rb.getElementsByTagName?function(va,Ha){return'undefined'!=typeof Ha.getElementsByTagName?Ha.getElementsByTagName(va):Rb.qsa?Ha.querySelectorAll(va):void 0}:function(va,
Ha){var Ma=[],Ua=0;Ha=Ha.getElementsByTagName(va);if('*'===va){for(;va=Ha[Ua++];)1===va.nodeType&&Ma.push(va);return Ma}return Ha},Fb.find.CLASS=Rb.getElementsByClassName&&function(va,Ha){return'undefined'!=typeof Ha.getElementsByClassName&&hc?Ha.getElementsByClassName(va):void 0},gc=[],Xb=[],(Rb.qsa=Mc.test(tb.querySelectorAll))&&(m(function(va){kc.appendChild(va).innerHTML="<a id='"+Ab+"'></a><select id='"+Ab+"-\r\\' msallowcapture=''><option selected=''></option></select>";va.querySelectorAll("[msallowcapture^='']").length&&
Xb.push('[*^$]=[\\x20\\t\\r\\n\\f]*(?:\'\'|"")');va.querySelectorAll('[selected]').length||Xb.push('\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)');va.querySelectorAll('[id~='+Ab+'-]').length||Xb.push('~=');va.querySelectorAll(':checked').length||Xb.push(':checked');va.querySelectorAll('a#'+Ab+'+*').length||Xb.push('.#.+[+~]')}),m(function(va){var Ha=tb.createElement('input');Ha.setAttribute('type',
'hidden');va.appendChild(Ha).setAttribute('name','D');va.querySelectorAll('[name=d]').length&&Xb.push('name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=');va.querySelectorAll(':enabled').length||Xb.push(':enabled',':disabled');va.querySelectorAll('*,:x');Xb.push(',.*:')})),(Rb.matchesSelector=Mc.test(Ub=kc.matches||kc.webkitMatchesSelector||kc.mozMatchesSelector||kc.oMatchesSelector||kc.msMatchesSelector))&&m(function(va){Rb.disconnectedMatch=Ub.call(va,'div');Ub.call(va,"[s!='']:x");gc.push('!=',':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)')}),
Xb=Xb.length&&new RegExp(Xb.join('|')),gc=gc.length&&new RegExp(gc.join('|')),ba=Mc.test(kc.compareDocumentPosition),oc=ba||Mc.test(kc.contains)?function(va,Ha){var Ma=9===va.nodeType?va.documentElement:va;Ha=Ha&&Ha.parentNode;return va===Ha||!(!Ha||1!==Ha.nodeType||!(Ma.contains?Ma.contains(Ha):va.compareDocumentPosition&&16&va.compareDocumentPosition(Ha)))}:function(va,Ha){if(Ha)for(;Ha=Ha.parentNode;)if(Ha===va)return!0;return!1},uc=ba?function(va,Ha){if(va===Ha)return Tb=!0,0;var Ma=!va.compareDocumentPosition-
!Ha.compareDocumentPosition;return Ma?Ma:(Ma=(va.ownerDocument||va)===(Ha.ownerDocument||Ha)?va.compareDocumentPosition(Ha):1,1&Ma||!Rb.sortDetached&&Ha.compareDocumentPosition(va)===Ma?va===tb||va.ownerDocument===cc&&oc(cc,va)?-1:Ha===tb||Ha.ownerDocument===cc&&oc(cc,Ha)?1:Qb?Ec(Qb,va)-Ec(Qb,Ha):0:4&Ma?-1:1)}:function(va,Ha){if(va===Ha)return Tb=!0,0;var Ma=0,Ua=va.parentNode,bb=Ha.parentNode,Xa=[va],lb=[Ha];if(!Ua||!bb)return va===tb?-1:Ha===tb?1:Ua?-1:bb?1:Qb?Ec(Qb,va)-Ec(Qb,Ha):0;if(Ua===bb)return H(va,
Ha);for(;va=va.parentNode;)Xa.unshift(va);for(va=Ha;va=va.parentNode;)lb.unshift(va);for(;Xa[Ma]===lb[Ma];)Ma++;return Ma?H(Xa[Ma],lb[Ma]):Xa[Ma]===cc?-1:lb[Ma]===cc?1:0},tb):tb};c.matches=function(K,ba){return c(K,null,null,ba)};c.matchesSelector=function(K,ba){if((K.ownerDocument||K)!==tb&&Dc(K),ba=ba.replace(Ed,"='$1']"),!(!Rb.matchesSelector||!hc||dc[ba+' ']||gc&&gc.test(ba)||Xb&&Xb.test(ba)))try{var ma=Ub.call(K,ba);if(ma||Rb.disconnectedMatch||K.document&&11!==K.document.nodeType)return ma}catch(va){}return 0<
c(ba,tb,null,[K]).length};c.contains=function(K,ba){return(K.ownerDocument||K)!==tb&&Dc(K),oc(K,ba)};c.attr=function(K,ba){(K.ownerDocument||K)!==tb&&Dc(K);var ma=Fb.attrHandle[ba.toLowerCase()];ma=ma&&vc.call(Fb.attrHandle,ba.toLowerCase())?ma(K,ba,!hc):void 0;return void 0!==ma?ma:Rb.attributes||!hc?K.getAttribute(ba):(ma=K.getAttributeNode(ba))&&ma.specified?ma.value:null};c.error=function(K){throw Error('Syntax error, unrecognized expression: '+K);};c.uniqueSort=function(K){var ba,ma=[],va=0,
Ha=0;if(Tb=!Rb.detectDuplicates,Qb=!Rb.sortStable&&K.slice(0),K.sort(uc),Tb){for(;ba=K[Ha++];)ba===K[Ha]&&(va=ma.push(Ha));for(;va--;)K.splice(ma[va],1)}return Qb=null,K};var ad=c.getText=function(K){var ba,ma='',va=0;if(ba=K.nodeType)if(1===ba||9===ba||11===ba){if('string'==typeof K.textContent)return K.textContent;for(K=K.firstChild;K;K=K.nextSibling)ma+=ad(K)}else{if(3===ba||4===ba)return K.nodeValue}else for(;ba=K[va++];)ma+=ad(ba);return ma};var Fb=c.selectors={cacheLength:50,createPseudo:k,
match:Rc,attrHandle:{},find:{},relative:{'>':{dir:'parentNode',first:!0},' ':{dir:'parentNode'},'+':{dir:'previousSibling',first:!0},'~':{dir:'previousSibling'}},preFilter:{ATTR:function(K){return K[1]=K[1].replace(zc,Ac),K[3]=(K[3]||K[4]||K[5]||'').replace(zc,Ac),'~='===K[2]&&(K[3]=' '+K[3]+' '),K.slice(0,4)},CHILD:function(K){return K[1]=K[1].toLowerCase(),'nth'===K[1].slice(0,3)?(K[3]||c.error(K[0]),K[4]=+(K[4]?K[5]+(K[6]||1):2*('even'===K[3]||'odd'===K[3])),K[5]=+(K[7]+K[8]||'odd'===K[3])):K[3]&&
c.error(K[0]),K},PSEUDO:function(K){var ba,ma=!K[6]&&K[2];return Rc.CHILD.test(K[0])?null:(K[3]?K[2]=K[4]||K[5]||'':ma&&Fd.test(ma)&&(ba=Pc(ma,!0))&&(ba=ma.indexOf(')',ma.length-ba)-ma.length)&&(K[0]=K[0].slice(0,ba),K[2]=ma.slice(0,ba)),K.slice(0,3))}},filter:{TAG:function(K){var ba=K.replace(zc,Ac).toLowerCase();return'*'===K?function(){return!0}:function(ma){return ma.nodeName&&ma.nodeName.toLowerCase()===ba}},CLASS:function(K){var ba=Jc[K+' '];return ba||(ba=new RegExp('(^|[\\x20\\t\\r\\n\\f])'+
K+'([\\x20\\t\\r\\n\\f]|$)'),Jc(K,function(ma){return ba.test('string'==typeof ma.className&&ma.className||'undefined'!=typeof ma.getAttribute&&ma.getAttribute('class')||'')}))},ATTR:function(K,ba,ma){return function(va){va=c.attr(va,K);return null==va?'!='===ba:ba?(va+='','='===ba?va===ma:'!='===ba?va!==ma:'^='===ba?ma&&0===va.indexOf(ma):'*='===ba?ma&&-1<va.indexOf(ma):'$='===ba?ma&&va.slice(-ma.length)===ma:'~='===ba?-1<(' '+va.replace(Bd,' ')+' ').indexOf(ma):'|='===ba?va===ma||va.slice(0,ma.length+
1)===ma+'-':!1):!0}},CHILD:function(K,ba,ma,va,Ha){var Ma='nth'!==K.slice(0,3),Ua='last'!==K.slice(-4),bb='of-type'===ba;return 1===va&&0===Ha?function(Xa){return!!Xa.parentNode}:function(Xa,lb,nb){var hb,Lb;lb=Ma!==Ua?'nextSibling':'previousSibling';var ec=Xa.parentNode,ac=bb&&Xa.nodeName.toLowerCase();nb=!nb&&!bb;var ub=!1;if(ec){if(Ma){for(;lb;){for(hb=Xa;hb=hb[lb];)if(bb?hb.nodeName.toLowerCase()===ac:1===hb.nodeType)return!1;var tc=lb='only'===K&&!tc&&'nextSibling'}return!0}if(tc=[Ua?ec.firstChild:
ec.lastChild],Ua&&nb){hb=ec;var jc=hb[Ab]||(hb[Ab]={});var rc=jc[hb.uniqueID]||(jc[hb.uniqueID]={});var fc=rc[K]||[];ub=(Lb=fc[0]===Yb&&fc[1])&&fc[2];for(hb=Lb&&ec.childNodes[Lb];hb=++Lb&&hb&&hb[lb]||(ub=Lb=0)||tc.pop();)if(1===hb.nodeType&&++ub&&hb===Xa){rc[K]=[Yb,Lb,ub];break}}else if(nb&&(hb=Xa,jc=hb[Ab]||(hb[Ab]={}),rc=jc[hb.uniqueID]||(jc[hb.uniqueID]={}),fc=rc[K]||[],Lb=fc[0]===Yb&&fc[1],ub=Lb),!1===ub)for(;(hb=++Lb&&hb&&hb[lb]||(ub=Lb=0)||tc.pop())&&((bb?hb.nodeName.toLowerCase()!==ac:1!==
hb.nodeType)||!++ub||(nb&&(jc=hb[Ab]||(hb[Ab]={}),rc=jc[hb.uniqueID]||(jc[hb.uniqueID]={}),rc[K]=[Yb,ub]),hb!==Xa)););return ub-=Ha,ub===va||0===ub%va&&0<=ub/va}}},PSEUDO:function(K,ba){var ma,va=Fb.pseudos[K]||Fb.setFilters[K.toLowerCase()]||c.error('unsupported pseudo: '+K);return va[Ab]?va(ba):1<va.length?(ma=[K,K,'',ba],Fb.setFilters.hasOwnProperty(K.toLowerCase())?k(function(Ha,Ma){for(var Ua,bb=va(Ha,ba),Xa=bb.length;Xa--;)Ua=Ec(Ha,bb[Xa]),Ha[Ua]=!(Ma[Ua]=bb[Xa])}):function(Ha){return va(Ha,
0,ma)}):va}},pseudos:{not:k(function(K){var ba=[],ma=[],va=vb(K.replace(Qc,'$1'));return va[Ab]?k(function(Ha,Ma,Ua,bb){var Xa;Ua=va(Ha,null,bb,[]);for(bb=Ha.length;bb--;)(Xa=Ua[bb])&&(Ha[bb]=!(Ma[bb]=Xa))}):function(Ha,Ma,Ua){return ba[0]=Ha,va(ba,null,Ua,ma),ba[0]=null,!ma.pop()}}),has:k(function(K){return function(ba){return 0<c(K,ba).length}}),contains:k(function(K){return K=K.replace(zc,Ac),function(ba){return-1<(ba.textContent||ba.innerText||ad(ba)).indexOf(K)}}),lang:k(function(K){return ld.test(K||
'')||c.error('unsupported lang: '+K),K=K.replace(zc,Ac).toLowerCase(),function(ba){var ma;do if(ma=hc?ba.lang:ba.getAttribute('xml:lang')||ba.getAttribute('lang'))return ma=ma.toLowerCase(),ma===K||0===ma.indexOf(K+'-');while((ba=ba.parentNode)&&1===ba.nodeType);return!1}}),target:function(K){var ba=a.location&&a.location.hash;return ba&&ba.slice(1)===K.id},root:function(K){return K===kc},focus:function(K){return K===tb.activeElement&&(!tb.hasFocus||tb.hasFocus())&&!!(K.type||K.href||~K.tabIndex)},
enabled:function(K){return!1===K.disabled},disabled:function(K){return!0===K.disabled},checked:function(K){var ba=K.nodeName.toLowerCase();return'input'===ba&&!!K.checked||'option'===ba&&!!K.selected},selected:function(K){return K.parentNode&&K.parentNode.selectedIndex,!0===K.selected},empty:function(K){for(K=K.firstChild;K;K=K.nextSibling)if(6>K.nodeType)return!1;return!0},parent:function(K){return!Fb.pseudos.empty(K)},header:function(K){return Hd.test(K.nodeName)},input:function(K){return Gd.test(K.nodeName)},
button:function(K){var ba=K.nodeName.toLowerCase();return'input'===ba&&'button'===K.type||'button'===ba},text:function(K){var ba;return'input'===K.nodeName.toLowerCase()&&'text'===K.type&&(null==(ba=K.getAttribute('type'))||'text'===ba.toLowerCase())},first:Aa(function(){return[0]}),last:Aa(function(K,ba){return[ba-1]}),eq:Aa(function(K,ba,ma){return[0>ma?ma+ba:ma]}),even:Aa(function(K,ba){for(var ma=0;ba>ma;ma+=2)K.push(ma);return K}),odd:Aa(function(K,ba){for(var ma=1;ba>ma;ma+=2)K.push(ma);return K}),
lt:Aa(function(K,ba,ma){for(ba=0>ma?ma+ba:ma;0<=--ba;)K.push(ba);return K}),gt:Aa(function(K,ba,ma){for(ma=0>ma?ma+ba:ma;++ma<ba;)K.push(ma);return K})}};Fb.pseudos.nth=Fb.pseudos.eq;for(yc in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Fb.pseudos[yc]=Y(yc);for(yc in{submit:!0,reset:!0})Fb.pseudos[yc]=pa(yc);Ta.prototype=Fb.filters=Fb.pseudos;Fb.setFilters=new Ta;var Pc=c.tokenize=function(K,ba){var ma,va,Ha,Ma,Ua;if(Ma=pc[K+' '])return ba?0:Ma.slice(0);Ma=K;var bb=[];for(Ua=Fb.preFilter;Ma;){Xa&&
!(ma=Cd.exec(Ma))||(ma&&(Ma=Ma.slice(ma[0].length)||Ma),bb.push(va=[]));var Xa=!1;(ma=Dd.exec(Ma))&&(Xa=ma.shift(),va.push({value:Xa,type:ma[0].replace(Qc,' ')}),Ma=Ma.slice(Xa.length));for(Ha in Fb.filter)!(ma=Rc[Ha].exec(Ma))||Ua[Ha]&&!(ma=Ua[Ha](ma))||(Xa=ma.shift(),va.push({value:Xa,type:Ha,matches:ma}),Ma=Ma.slice(Xa.length));if(!Xa)break}return ba?Ma.length:Ma?c.error(K):pc(K,bb).slice(0)};return vb=c.compile=function(K,ba){var ma,va=[],Ha=[],Ma=dc[K+' '];if(!Ma){ba||=Pc(K);for(ma=ba.length;ma--;)Ma=
Ic(ba[ma]),Ma[Ab]?va.push(Ma):Ha.push(Ma);Ma=dc(K,mc(Ha,va));Ma.selector=K}return Ma},ic=c.select=function(K,ba,ma,va){var Ha,Ma,Ua,bb,Xa,lb='function'==typeof K&&K,nb=!va&&Pc(K=lb.selector||K);if(ma=ma||[],1===nb.length){if(Ma=nb[0]=nb[0].slice(0),2<Ma.length&&'ID'===(Ua=Ma[0]).type&&Rb.getById&&9===ba.nodeType&&hc&&Fb.relative[Ma[1].type]){if(ba=(Fb.find.ID(Ua.matches[0].replace(zc,Ac),ba)||[])[0],!ba)return ma;lb&&(ba=ba.parentNode);K=K.slice(Ma.shift().value.length)}for(Ha=Rc.needsContext.test(K)?
0:Ma.length;Ha--&&(Ua=Ma[Ha],!Fb.relative[bb=Ua.type]);)if((Xa=Fb.find[bb])&&(va=Xa(Ua.matches[0].replace(zc,Ac),Yc.test(Ma[0].type)&&ra(ba.parentNode)||ba))){if(Ma.splice(Ha,1),K=va.length&&Wa(Ma),!K)return Cc.apply(ma,va),ma;break}}return(lb||vb(K,nb))(va,ba,!hc,ma,!ba||Yc.test(K)&&ra(ba.parentNode)||ba),ma},Rb.sortStable=Ab.split('').sort(uc).join('')===Ab,Rb.detectDuplicates=!!Tb,Dc(),Rb.sortDetached=m(function(K){return 1&K.compareDocumentPosition(tb.createElement('div'))}),m(function(K){return K.innerHTML=
"<a href='#'></a>",'#'===K.firstChild.getAttribute('href')})||B('type|href|height|width',function(K,ba,ma){return ma?void 0:K.getAttribute(ba,'type'===ba.toLowerCase()?1:2)}),Rb.attributes&&m(function(K){return K.innerHTML='<input/>',K.firstChild.setAttribute('value',''),''===K.firstChild.getAttribute('value')})||B('value',function(K,ba,ma){return ma||'input'!==K.nodeName.toLowerCase()?void 0:K.defaultValue}),m(function(K){return null==K.getAttribute('disabled')})||B('checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',
function(K,ba,ma){var va;return ma?void 0:!0===K[ba]?ba.toLowerCase():(va=K.getAttributeNode(ba))&&va.specified?va.value:null}),c}(C);b.find=A;b.expr=A.selectors;b.expr[':']=b.expr.pseudos;b.uniqueSort=b.unique=A.uniqueSort;b.text=A.getText;b.isXMLDoc=A.isXML;b.contains=A.contains;var V=function(a,c,g){for(var k=[],m=void 0!==g;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(m&&b(a).is(g))break;k.push(a)}return k},P=function(a,c){for(var g=[];a;a=a.nextSibling)1===a.nodeType&&a!==c&&g.push(a);return g},
aa=b.expr.match.needsContext,Q=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;b.filter=function(a,c,g){var k=c[0];return g&&(a=':not('+a+')'),1===c.length&&1===k.nodeType?b.find.matchesSelector(k,a)?[k]:[]:b.find.matches(a,b.grep(c,function(m){return 1===m.nodeType}))};b.fn.extend({find:function(a){var c,g=[],k=this,m=k.length;if('string'!=typeof a)return this.pushStack(b(a).filter(function(){for(c=0;m>c;c++)if(b.contains(k[c],this))return!0}));for(c=0;m>c;c++)b.find(a,k[c],g);return g=this.pushStack(1<
m?b.unique(g):g),g.selector=this.selector?this.selector+' '+a:a,g},filter:function(a){return this.pushStack(Ba(this,a||[],!1))},not:function(a){return this.pushStack(Ba(this,a||[],!0))},is:function(a){return!!Ba(this,'string'==typeof a&&aa.test(a)?b(a):a||[],!1).length}});var ja=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(b.fn.init=function(a,c,g){var k,m;if(!a)return this;if(g=g||ua,'string'==typeof a){if(k='<'===a.charAt(0)&&'>'===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:ja.exec(a),!k||!k[1]&&
c)return!c||c.jquery?(c||g).find(a):this.constructor(c).find(a);if(k[1]){if(c=c instanceof b?c[0]:c,b.merge(this,b.parseHTML(k[1],c&&c.nodeType?c.ownerDocument||c:Na,!0)),Q.test(k[1])&&b.isPlainObject(c))for(k in c)b.isFunction(this[k])?this[k](c[k]):this.attr(k,c[k]);return this}if(m=Na.getElementById(k[2]),m&&m.parentNode){if(m.id!==k[2])return ua.find(a);this.length=1;this[0]=m}return this.context=Na,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):b.isFunction(a)?
'undefined'!=typeof g.ready?g.ready(a):a(b):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),b.makeArray(a,this))}).prototype=b.fn;var ua=b(Na);var oa=/^(?:parents|prev(?:Until|All))/,la={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({has:function(a){var c,g=b(a,this),k=g.length;return this.filter(function(){for(c=0;k>c;c++)if(b.contains(this,g[c]))return!0})},closest:function(a,c){for(var g,k=0,m=this.length,B=[],H=aa.test(a)||'string'!=typeof a?b(a,c||this.context):
0;m>k;k++)for(g=this[k];g&&g!==c;g=g.parentNode)if(11>g.nodeType&&(H?-1<H.index(g):1===g.nodeType&&b.find.matchesSelector(g,a))){B.push(g);break}return this.pushStack(1<B.length?b.uniqueSort(B):B)},index:function(a){return a?'string'==typeof a?b.inArray(this[0],b(a)):b.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,c){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(a,c))))},addBack:function(a){return this.add(null==a?this.prevObject:
this.prevObject.filter(a))}});b.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return V(a,'parentNode')},parentsUntil:function(a,c,g){return V(a,'parentNode',g)},next:function(a){return Z(a,'nextSibling')},prev:function(a){return Z(a,'previousSibling')},nextAll:function(a){return V(a,'nextSibling')},prevAll:function(a){return V(a,'previousSibling')},nextUntil:function(a,c,g){return V(a,'nextSibling',g)},prevUntil:function(a,c,g){return V(a,'previousSibling',
g)},siblings:function(a){return P((a.parentNode||{}).firstChild,a)},children:function(a){return P(a.firstChild)},contents:function(a){return b.nodeName(a,'iframe')?a.contentDocument||a.contentWindow.document:b.merge([],a.childNodes)}},function(a,c){b.fn[a]=function(g,k){var m=b.map(this,c,g);return'Until'!==a.slice(-5)&&(k=g),k&&'string'==typeof k&&(m=b.filter(k,m)),1<this.length&&(la[a]||(m=b.uniqueSort(m)),oa.test(a)&&(m=m.reverse())),this.pushStack(m)}});var Ca=/\S+/g;b.Callbacks=function(a){a=
'string'==typeof a?N(a):b.extend({},a);var c,g,k,m,B=[],H=[],Y=-1,pa=function(){m=a.once;for(k=c=!0;H.length;Y=-1)for(g=H.shift();++Y<B.length;)!1===B[Y].apply(g[0],g[1])&&a.stopOnFalse&&(Y=B.length,g=!1);a.memory||(g=!1);c=!1;m&&(B=g?[]:'')},Aa={add:function(){return B&&(g&&!c&&(Y=B.length-1,H.push(g)),function Wa(Ta){b.each(Ta,function(wb,cb){b.isFunction(cb)?a.unique&&Aa.has(cb)||B.push(cb):cb&&cb.length&&'string'!==b.type(cb)&&Wa(cb)})}(arguments),g&&!c&&pa()),this},remove:function(){return b.each(arguments,
function(ra,Ta){for(var Wa;-1<(Wa=b.inArray(Ta,B,Wa));)B.splice(Wa,1),Y>=Wa&&Y--}),this},has:function(ra){return ra?-1<b.inArray(ra,B):0<B.length},empty:function(){return B&&=[],this},disable:function(){return m=H=[],B=g='',this},disabled:function(){return!B},lock:function(){return m=!0,g||Aa.disable(),this},locked:function(){return!!m},fireWith:function(ra,Ta){return m||(Ta=Ta||[],Ta=[ra,Ta.slice?Ta.slice():Ta],H.push(Ta),c||pa()),this},fire:function(){return Aa.fireWith(this,arguments),this},fired:function(){return!!k}};
return Aa};b.extend({Deferred:function(a){var c=[['resolve','done',b.Callbacks('once memory'),'resolved'],['reject','fail',b.Callbacks('once memory'),'rejected'],['notify','progress',b.Callbacks('memory')]],g='pending',k={state:function(){return g},always:function(){return m.done(arguments).fail(arguments),this},then:function(){var B=arguments;return b.Deferred(function(H){b.each(c,function(Y,pa){var Aa=b.isFunction(B[Y])&&B[Y];m[pa[1]](function(){var ra=Aa&&Aa.apply(this,arguments);ra&&b.isFunction(ra.promise)?
ra.promise().progress(H.notify).done(H.resolve).fail(H.reject):H[pa[0]+'With'](this===k?H.promise():this,Aa?[ra]:arguments)})});B=null}).promise()},promise:function(B){return null!=B?b.extend(B,k):k}},m={};return k.pipe=k.then,b.each(c,function(B,H){var Y=H[2],pa=H[3];k[H[1]]=Y.add;pa&&Y.add(function(){g=pa},c[1^B][2].disable,c[2][2].lock);m[H[0]]=function(){return m[H[0]+'With'](this===m?k:this,arguments),this};m[H[0]+'With']=Y.fireWith}),k.promise(m),a&&a.call(m,m),m},when:function(a){var c=0,g=
db.call(arguments),k=g.length,m=1!==k||a&&b.isFunction(a.promise)?k:0,B=1===m?a:b.Deferred(),H=function(ra,Ta,Wa){return function(wb){Ta[ra]=this;Wa[ra]=1<arguments.length?db.call(arguments):wb;Wa===pa?B.notifyWith(Ta,Wa):--m||B.resolveWith(Ta,Wa)}},Y;if(1<k){var pa=Array(k);var Aa=Array(k);for(Y=Array(k);k>c;c++)g[c]&&b.isFunction(g[c].promise)?g[c].promise().progress(H(c,Aa,pa)).done(H(c,Y,g)).fail(B.reject):--m}return m||B.resolveWith(Y,g),B.promise()}});var za;b.fn.ready=function(a){return b.ready.promise().done(a),
this};b.extend({isReady:!1,readyWait:1,holdReady:function(a){a?b.readyWait++:b.ready(!0)},ready:function(a){(!0===a?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==a&&0<--b.readyWait||(za.resolveWith(Na,[b]),b.fn.triggerHandler&&(b(Na).triggerHandler('ready'),b(Na).off('ready'))))}});b.ready.promise=function(a){if(!za)if(za=b.Deferred(),'complete'===Na.readyState||'loading'!==Na.readyState&&!Na.documentElement.doScroll)C.setTimeout(b.ready);else if(Na.addEventListener)Na.addEventListener('DOMContentLoaded',
S),C.addEventListener('load',S);else{Na.attachEvent('onreadystatechange',S);C.attachEvent('onload',S);var c=!1;try{c=null==C.frameElement&&Na.documentElement}catch(g){}c&&c.doScroll&&!function k(){if(!b.isReady){try{c.doScroll('left')}catch(m){return C.setTimeout(k,50)}na();b.ready()}}()}return za.promise(a)};b.ready.promise();for(var Sa in b(e))break;e.ownFirst='0'===Sa;e.inlineBlockNeedsLayout=!1;b(function(){var a,c,g,k;(g=Na.getElementsByTagName('body')[0])&&g.style&&(c=Na.createElement('div'),
k=Na.createElement('div'),k.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',g.appendChild(k).appendChild(c),'undefined'!=typeof c.style.zoom&&(c.style.cssText='display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1',e.inlineBlockNeedsLayout=a=3===c.offsetWidth,a&&(g.style.zoom=1)),g.removeChild(k))});(function(){var a=Na.createElement('div');e.deleteExpando=!0;try{delete a.test}catch(c){e.deleteExpando=!1}})();var Va=function(a){var c=b.noData[(a.nodeName+' ').toLowerCase()],
g=+a.nodeType||1;return 1!==g&&9!==g?!1:!c||!0!==c&&a.getAttribute('classid')===c},qb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,sb=/([A-Z])/g;b.extend({cache:{},noData:{'applet ':!0,'embed ':!0,'object ':'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'},hasData:function(a){return a=a.nodeType?b.cache[a[b.expando]]:a[b.expando],!!a&&!q(a)},data:function(a,c,g){return I(a,c,g)},removeData:function(a,c){return p(a,c)},_data:function(a,c,g){return I(a,c,g,!0)},_removeData:function(a,c){return p(a,c,!0)}});b.fn.extend({data:function(a,
c){var g,k,m,B=this[0],H=B&&B.attributes;if(void 0===a){if(this.length&&(m=b.data(B),1===B.nodeType&&!b._data(B,'parsedAttrs'))){for(g=H.length;g--;)H[g]&&(k=H[g].name,0===k.indexOf('data-')&&(k=b.camelCase(k.slice(5)),U(B,k,m[k])));b._data(B,'parsedAttrs',!0)}return m}return'object'==typeof a?this.each(function(){b.data(this,a)}):1<arguments.length?this.each(function(){b.data(this,a,c)}):B?U(B,a,b.data(B,a)):void 0},removeData:function(a){return this.each(function(){b.removeData(this,a)})}});b.extend({queue:function(a,
c,g){var k;return a?(c=(c||'fx')+'queue',k=b._data(a,c),g&&(!k||b.isArray(g)?k=b._data(a,c,b.makeArray(g)):k.push(g)),k||[]):void 0},dequeue:function(a,c){c=c||'fx';var g=b.queue(a,c),k=g.length,m=g.shift(),B=b._queueHooks(a,c),H=function(){b.dequeue(a,c)};'inprogress'===m&&(m=g.shift(),k--);m&&('fx'===c&&g.unshift('inprogress'),delete B.stop,m.call(a,H,B));!k&&B&&B.empty.fire()},_queueHooks:function(a,c){var g=c+'queueHooks';return b._data(a,g)||b._data(a,g,{empty:b.Callbacks('once memory').add(function(){b._removeData(a,
c+'queue');b._removeData(a,g)})})}});b.fn.extend({queue:function(a,c){var g=2;return'string'!=typeof a&&(c=a,a='fx',g--),arguments.length<g?b.queue(this[0],a):void 0===c?this:this.each(function(){var k=b.queue(this,a,c);b._queueHooks(this,a);'fx'===a&&'inprogress'!==k[0]&&b.dequeue(this,a)})},dequeue:function(a){return this.each(function(){b.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||'fx',[])},promise:function(a,c){var g,k=1,m=b.Deferred(),B=this,H=this.length,Y=function(){--k||
m.resolveWith(B,[B])};'string'!=typeof a&&(c=a,a=void 0);for(a=a||'fx';H--;)(g=b._data(B[H],a+'queueHooks'))&&g.empty&&(k++,g.empty.add(Y));return Y(),m.promise(c)}});(function(){var a;e.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var c,g,k;return g=Na.getElementsByTagName('body')[0],g&&g.style?(c=Na.createElement('div'),k=Na.createElement('div'),k.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',g.appendChild(k).appendChild(c),'undefined'!=typeof c.style.zoom&&
(c.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1',c.appendChild(Na.createElement('div')).style.width='5px',a=3!==c.offsetWidth),g.removeChild(k),a):void 0}})();var Hb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ob=new RegExp('^(?:([+-])=|)('+Hb+')([a-z%]*)$','i'),zb=['Top','Right','Bottom','Left'],Vb=function(a,c){return a=c||a,'none'===b.css(a,'display')||!b.contains(a.ownerDocument,a)},
Za=function(a,c,g,k,m,B,H){var Y=0,pa=a.length,Aa=null==g;if('object'===b.type(g))for(Y in m=!0,g)Za(a,c,Y,g[Y],!0,B,H);else if(void 0!==k&&(m=!0,b.isFunction(k)||(H=!0),Aa&&(H?(c.call(a,k),c=null):(Aa=c,c=function(ra,Ta,Wa){return Aa.call(b(ra),Wa)})),c))for(;pa>Y;Y++)c(a[Y],g,H?k:k.call(a[Y],Y,c(a[Y],g)));return m?a:Aa?c.call(a):pa?c(a[0],g):B},gb=/^(?:checkbox|radio)$/i,fa=/<([\w:-]+)/,X=/^$|\/(?:java|ecma)script/i,ea=/^\s+/;!function(){var a=Na.createElement('div'),c=Na.createDocumentFragment(),
g=Na.createElement('input');a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";e.leadingWhitespace=3===a.firstChild.nodeType;e.tbody=!a.getElementsByTagName('tbody').length;e.htmlSerialize=!!a.getElementsByTagName('link').length;e.html5Clone='<:nav></:nav>'!==Na.createElement('nav').cloneNode(!0).outerHTML;g.type='checkbox';g.checked=!0;c.appendChild(g);e.appendChecked=g.checked;a.innerHTML='<textarea>x</textarea>';e.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue;
c.appendChild(a);g=Na.createElement('input');g.setAttribute('type','radio');g.setAttribute('checked','checked');g.setAttribute('name','t');a.appendChild(g);e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;e.noCloneEvent=!!a.addEventListener;a[b.expando]=1;e.attributes=!a.getAttribute(b.expando)}();var qa={option:[1,"<select multiple='multiple'>",'</select>'],legend:[1,'<fieldset>','</fieldset>'],area:[1,'<map>','</map>'],param:[1,'<object>','</object>'],thead:[1,'<table>','</table>'],
tr:[2,'<table><tbody>','</tbody></table>'],col:[2,'<table><tbody></tbody><colgroup>','</colgroup></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:e.htmlSerialize?[0,'','']:[1,'X<div>','</div>']};qa.optgroup=qa.option;qa.tbody=qa.tfoot=qa.colgroup=qa.caption=qa.thead;qa.th=qa.td;var Ra=/<|&#?\w+;/,ab=/<tbody/i;!function(){var a,c=Na.createElement('div');for(a in{submit:!0,change:!0,focusin:!0}){var g='on'+a;(e[a]=g in C)||(c.setAttribute(g,'t'),e[a]=!1===c.attributes[g].expando)}}();
var eb=/^(?:input|select|textarea)$/i,Pa=/^key/,xb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,kb=/^(?:focusinfocus|focusoutblur)$/,ib=/^([^.]*)(?:\.(.+)|)/;b.event={global:{},add:function(a,c,g,k,m){var B,H,Y,pa,Aa,ra,Ta,Wa;if(H=b._data(a)){g.handler&&(Y=g,g=Y.handler,m=Y.selector);g.guid||(g.guid=b.guid++);(B=H.events)||(B=H.events={});(Aa=H.handle)||(Aa=H.handle=function(Jb){return'undefined'==typeof b||Jb&&b.event.triggered===Jb.type?void 0:b.event.dispatch.apply(Aa.elem,arguments)},Aa.elem=
a);c=(c||'').match(Ca)||[''];for(H=c.length;H--;){var wb=ib.exec(c[H])||[];var cb=Wa=wb[1];wb=(wb[2]||'').split('.').sort();cb&&(pa=b.event.special[cb]||{},cb=(m?pa.delegateType:pa.bindType)||cb,pa=b.event.special[cb]||{},ra=b.extend({type:cb,origType:Wa,data:k,handler:g,guid:g.guid,selector:m,needsContext:m&&b.expr.match.needsContext.test(m),namespace:wb.join('.')},Y),(Ta=B[cb])||(Ta=B[cb]=[],Ta.delegateCount=0,pa.setup&&!1!==pa.setup.call(a,k,wb,Aa)||(a.addEventListener?a.addEventListener(cb,Aa,
!1):a.attachEvent&&a.attachEvent('on'+cb,Aa))),pa.add&&(pa.add.call(a,ra),ra.handler.guid||(ra.handler.guid=g.guid)),m?Ta.splice(Ta.delegateCount++,0,ra):Ta.push(ra),b.event.global[cb]=!0)}a=null}},remove:function(a,c,g,k,m){var B,H,Y,pa,Aa,ra,Ta,Wa,wb=b.hasData(a)&&b._data(a);if(wb&&(Aa=wb.events)){c=(c||'').match(Ca)||[''];for(pa=c.length;pa--;)if(H=ib.exec(c[pa])||[],ra=Wa=H[1],Ta=(H[2]||'').split('.').sort(),ra){var cb=b.event.special[ra]||{};ra=(k?cb.delegateType:cb.bindType)||ra;var Jb=Aa[ra]||
[];H=H[2]&&new RegExp('(^|\\.)'+Ta.join('\\.(?:.*\\.|)')+'(\\.|$)');for(Y=B=Jb.length;B--;){var lc=Jb[B];!m&&Wa!==lc.origType||g&&g.guid!==lc.guid||H&&!H.test(lc.namespace)||k&&k!==lc.selector&&('**'!==k||!lc.selector)||(Jb.splice(B,1),lc.selector&&Jb.delegateCount--,cb.remove&&cb.remove.call(a,lc))}Y&&!Jb.length&&(cb.teardown&&!1!==cb.teardown.call(a,Ta,wb.handle)||b.removeEvent(a,ra,wb.handle),delete Aa[ra])}else for(ra in Aa)b.event.remove(a,ra+c[pa],g,k,!0);b.isEmptyObject(Aa)&&(delete wb.handle,
b._removeData(a,'events'))}},trigger:function(a,c,g,k){var m,B,H,Y,pa=[g||Na],Aa=M.call(a,'type')?a.type:a;var ra=M.call(a,'namespace')?a.namespace.split('.'):[];if(H=m=g=g||Na,3!==g.nodeType&&8!==g.nodeType&&!kb.test(Aa+b.event.triggered)&&(-1<Aa.indexOf('.')&&(ra=Aa.split('.'),Aa=ra.shift(),ra.sort()),B=0>Aa.indexOf(':')&&'on'+Aa,a=a[b.expando]?a:new b.Event(Aa,'object'==typeof a&&a),a.isTrigger=k?2:3,a.namespace=ra.join('.'),a.rnamespace=a.namespace?new RegExp('(^|\\.)'+ra.join('\\.(?:.*\\.|)')+
'(\\.|$)'):null,a.result=void 0,a.target||(a.target=g),c=null==c?[a]:b.makeArray(c,[a]),Y=b.event.special[Aa]||{},k||!Y.trigger||!1!==Y.trigger.apply(g,c))){if(!k&&!Y.noBubble&&!b.isWindow(g)){var Ta=Y.delegateType||Aa;for(kb.test(Ta+Aa)||(H=H.parentNode);H;H=H.parentNode)pa.push(H),m=H;m===(g.ownerDocument||Na)&&pa.push(m.defaultView||m.parentWindow||C)}for(ra=0;(H=pa[ra++])&&!a.isPropagationStopped();)a.type=1<ra?Ta:Y.bindType||Aa,(m=(b._data(H,'events')||{})[a.type]&&b._data(H,'handle'))&&m.apply(H,
c),(m=B&&H[B])&&m.apply&&Va(H)&&(a.result=m.apply(H,c),!1===a.result&&a.preventDefault());if(a.type=Aa,!(k||a.isDefaultPrevented()||Y._default&&!1!==Y._default.apply(pa.pop(),c))&&Va(g)&&B&&g[Aa]&&!b.isWindow(g)){(m=g[B])&&(g[B]=null);b.event.triggered=Aa;try{g[Aa]()}catch(Wa){}b.event.triggered=void 0;m&&(g[B]=m)}return a.result}},dispatch:function(a){a=b.event.fix(a);var c,g,k,m,B=db.call(arguments);var H=(b._data(this,'events')||{})[a.type]||[];var Y=b.event.special[a.type]||{};if(B[0]=a,a.delegateTarget=
this,!Y.preDispatch||!1!==Y.preDispatch.call(this,a)){var pa=b.event.handlers.call(this,a,H);for(H=0;(k=pa[H++])&&!a.isPropagationStopped();)for(a.currentTarget=k.elem,c=0;(m=k.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(m.namespace)||(a.handleObj=m,a.data=m.data,g=((b.event.special[m.origType]||{}).handle||m.handler).apply(k.elem,B),void 0!==g&&!1===(a.result=g)&&(a.preventDefault(),a.stopPropagation()));return Y.postDispatch&&Y.postDispatch.call(this,a),
a.result}},handlers:function(a,c){var g,k=[],m=c.delegateCount,B=a.target;if(m&&B.nodeType&&('click'!==a.type||isNaN(a.button)||1>a.button))for(;B!=this;B=B.parentNode||this)if(1===B.nodeType&&(!0!==B.disabled||'click'!==a.type)){var H=[];for(g=0;m>g;g++){var Y=c[g];var pa=Y.selector+' ';void 0===H[pa]&&(H[pa]=Y.needsContext?-1<b(pa,this).index(B):b.find(pa,this,null,[B]).length);H[pa]&&H.push(Y)}H.length&&k.push({elem:B,handlers:H})}return m<c.length&&k.push({elem:this,handlers:c.slice(m)}),k},fix:function(a){if(a[b.expando])return a;
var c=a.type;var g=a,k=this.fixHooks[c];k||(this.fixHooks[c]=k=xb.test(c)?this.mouseHooks:Pa.test(c)?this.keyHooks:{});var m=k.props?this.props.concat(k.props):this.props;a=new b.Event(g);for(c=m.length;c--;){var B=m[c];a[B]=g[B]}return a.target||(a.target=g.srcElement||Na),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,k.filter?k.filter(a,g):a},props:'altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(' '),
fixHooks:{},keyHooks:{props:['char','charCode','key','keyCode'],filter:function(a,c){return null==a.which&&(a.which=null!=c.charCode?c.charCode:c.keyCode),a}},mouseHooks:{props:'button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement'.split(' '),filter:function(a,c){var g,k,m,B=c.button,H=c.fromElement;return null==a.pageX&&null!=c.clientX&&(k=a.target.ownerDocument||Na,m=k.documentElement,g=k.body,a.pageX=c.clientX+(m&&m.scrollLeft||g&&g.scrollLeft||0)-(m&&
m.clientLeft||g&&g.clientLeft||0),a.pageY=c.clientY+(m&&m.scrollTop||g&&g.scrollTop||0)-(m&&m.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&H&&(a.relatedTarget=H===a.target?c.toElement:H),a.which||void 0===B||(a.which=1&B?1:2&B?3:4&B?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==y()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:'focusin'},blur:{trigger:function(){return this===y()&&this.blur?(this.blur(),!1):void 0},delegateType:'focusout'},click:{trigger:function(){return b.nodeName(this,
'input')&&'checkbox'===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return b.nodeName(a.target,'a')}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,c,g){a=b.extend(new b.Event,g,{type:a,isSimulated:!0});b.event.trigger(a,null,c);a.isDefaultPrevented()&&g.preventDefault()}};b.removeEvent=Na.removeEventListener?function(a,c,g){a.removeEventListener&&a.removeEventListener(c,g)}:function(a,
c,g){c='on'+c;a.detachEvent&&('undefined'==typeof a[c]&&(a[c]=null),a.detachEvent(c,g))};b.Event=function(a,c){return this instanceof b.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?l:z):this.type=a,c&&b.extend(this,c),this.timeStamp=a&&a.timeStamp||b.now(),void(this[b.expando]=!0)):new b.Event(a,c)};b.Event.prototype={constructor:b.Event,isDefaultPrevented:z,isPropagationStopped:z,isImmediatePropagationStopped:z,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=l;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=l;a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=l;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};b.each({mouseenter:'mouseover',
mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},function(a,c){b.event.special[a]={delegateType:c,bindType:c,handle:function(g){var k,m=g.relatedTarget,B=g.handleObj;return m&&(m===this||b.contains(this,m))||(g.type=B.origType,k=B.handler.apply(this,arguments),g.type=c),k}}});e.submit||(b.event.special.submit={setup:function(){return b.nodeName(this,'form')?!1:void b.event.add(this,'click._submit keypress._submit',function(a){a=a.target;(a=b.nodeName(a,'input')||b.nodeName(a,
'button')?b.prop(a,'form'):void 0)&&!b._data(a,'submit')&&(b.event.add(a,'submit._submit',function(c){c._submitBubble=!0}),b._data(a,'submit',!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&b.event.simulate('submit',this.parentNode,a))},teardown:function(){return b.nodeName(this,'form')?!1:void b.event.remove(this,'._submit')}});e.change||(b.event.special.change={setup:function(){return eb.test(this.nodeName)?('checkbox'!==this.type&&'radio'!==
this.type||(b.event.add(this,'propertychange._change',function(a){'checked'===a.originalEvent.propertyName&&(this._justChanged=!0)}),b.event.add(this,'click._change',function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1);b.event.simulate('change',this,a)})),!1):void b.event.add(this,'beforeactivate._change',function(a){a=a.target;eb.test(a.nodeName)&&!b._data(a,'change')&&(b.event.add(a,'change._change',function(c){!this.parentNode||c.isSimulated||c.isTrigger||b.event.simulate('change',
this.parentNode,c)}),b._data(a,'change',!0))})},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||'radio'!==c.type&&'checkbox'!==c.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return b.event.remove(this,'._change'),!eb.test(this.nodeName)}});e.focusin||b.each({focus:'focusin',blur:'focusout'},function(a,c){var g=function(k){b.event.simulate(c,k.target,b.event.fix(k))};b.event.special[c]={setup:function(){var k=this.ownerDocument||this,m=b._data(k,
c);m||k.addEventListener(a,g,!0);b._data(k,c,(m||0)+1)},teardown:function(){var k=this.ownerDocument||this,m=b._data(k,c)-1;m?b._data(k,c,m):(k.removeEventListener(a,g,!0),b._removeData(k,c))}}});b.fn.extend({on:function(a,c,g,k){return G(this,a,c,g,k)},one:function(a,c,g,k){return G(this,a,c,g,k,1)},off:function(a,c,g){var k,m;if(a&&a.preventDefault&&a.handleObj)return k=a.handleObj,b(a.delegateTarget).off(k.namespace?k.origType+'.'+k.namespace:k.origType,k.selector,k.handler),this;if('object'==
typeof a){for(m in a)this.off(m,c,a[m]);return this}return!1!==c&&'function'!=typeof c||(g=c,c=void 0),!1===g&&(g=z),this.each(function(){b.event.remove(this,a,g,c)})},trigger:function(a,c){return this.each(function(){b.event.trigger(a,c,this)})},triggerHandler:function(a,c){var g=this[0];return g?b.event.trigger(a,c,g,!0):void 0}});var ob=/ jQuery\d+="(?:null|\d+)"/g,rb=RegExp('<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video)[\\s/>]',
'i'),mb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Nb=/<script|<style|<link/i,Db=/checked\s*(?:[^=]|=\s*.checked.)/i,Ib=/^true\/(.*)/,Kb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Zb=Fa(Na).appendChild(Na.createElement('div'));b.extend({htmlPrefilter:function(a){return a.replace(mb,'<$1></$2>')},clone:function(a,c,g){var k,m,B,H=b.contains(a.ownerDocument,a);if(e.html5Clone||b.isXMLDoc(a)||!rb.test('<'+a.nodeName+'>')?m=a.cloneNode(!0):(Zb.innerHTML=a.outerHTML,Zb.removeChild(m=
Zb.firstChild)),!(e.noCloneEvent&&e.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||b.isXMLDoc(a))){var Y=L(m);var pa=L(a);for(B=0;null!=(k=pa[B]);++B)if(Y[B]){var Aa=void 0,ra,Ta=k,Wa=Y[B];if(1===Wa.nodeType){if(ra=Wa.nodeName.toLowerCase(),!e.noCloneEvent&&Wa[b.expando]){k=b._data(Wa);for(Aa in k.events)b.removeEvent(Wa,Aa,k.handle);Wa.removeAttribute(b.expando)}'script'===ra&&Wa.text!==Ta.text?(v(Wa).text=Ta.text,F(Wa)):'object'===ra?(Wa.parentNode&&(Wa.outerHTML=Ta.outerHTML),e.html5Clone&&Ta.innerHTML&&
!b.trim(Wa.innerHTML)&&(Wa.innerHTML=Ta.innerHTML)):'input'===ra&&gb.test(Ta.type)?(Wa.defaultChecked=Wa.checked=Ta.checked,Wa.value!==Ta.value&&(Wa.value=Ta.value)):'option'===ra?Wa.defaultSelected=Wa.selected=Ta.defaultSelected:'input'!==ra&&'textarea'!==ra||(Wa.defaultValue=Ta.defaultValue)}}}if(c)if(g)for(pa=pa||L(a),Y=Y||L(m),B=0;null!=(k=pa[B]);B++)J(k,Y[B]);else J(a,m);return Y=L(m,'script'),0<Y.length&&O(Y,!H&&L(a,'script')),m},cleanData:function(a,c){for(var g,k,m,B,H=0,Y=b.expando,pa=b.cache,
Aa=e.attributes,ra=b.event.special;null!=(g=a[H]);H++)if((c||Va(g))&&(m=g[Y],B=m&&pa[m])){if(B.events)for(k in B.events)ra[k]?b.event.remove(g,k):b.removeEvent(g,k,B.handle);pa[m]&&(delete pa[m],Aa||'undefined'==typeof g.removeAttribute?g[Y]=void 0:g.removeAttribute(Y),Gb.push(m))}}});b.fn.extend({domManip:T,detach:function(a){return sa(this,a,!0)},remove:function(a){return sa(this,a)},text:function(a){return Za(this,function(c){return void 0===c?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||
Na).createTextNode(c))},null,a,arguments.length)},append:function(){return T(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||r(this,a).appendChild(a)})},prepend:function(){return T(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=r(this,a);c.insertBefore(a,c.firstChild)}})},before:function(){return T(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return T(this,arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,c=0;null!=(a=this[c]);c++){for(1===a.nodeType&&b.cleanData(L(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&b.nodeName(a,'select')&&(a.options.length=0)}return this},clone:function(a,c){return a=null==a?!1:a,c=null==c?a:c,this.map(function(){return b.clone(this,a,c)})},html:function(a){return Za(this,function(c){var g=this[0]||{},k=0,m=this.length;if(void 0===c)return 1===g.nodeType?
g.innerHTML.replace(ob,''):void 0;if(!('string'!=typeof c||Nb.test(c)||!e.htmlSerialize&&rb.test(c)||!e.leadingWhitespace&&ea.test(c)||qa[(fa.exec(c)||['',''])[1].toLowerCase()])){c=b.htmlPrefilter(c);try{for(;m>k;k++)g=this[k]||{},1===g.nodeType&&(b.cleanData(L(g,!1)),g.innerHTML=c);g=0}catch(B){}}g&&this.empty().append(c)},null,a,arguments.length)},replaceWith:function(){var a=[];return T(this,arguments,function(c){var g=this.parentNode;0>b.inArray(this,a)&&(b.cleanData(L(this)),g&&g.replaceChild(c,
this))},a)}});b.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},function(a,c){b.fn[a]=function(g){for(var k=0,m=[],B=b(g),H=B.length-1;H>=k;k++)g=k===H?this:this.clone(!0),b(B[k])[c](g),Pb.apply(m,g.get());return this.pushStack(m)}});var Wb,Gc={HTML:'block',BODY:'block'},qc=/^margin/,Mb=new RegExp('^('+Hb+')(?!px)[a-z%]+$','i'),Nc=function(a,c,g,k){var m,B={};for(m in c)B[m]=a.style[m],a.style[m]=c[m];g=g.apply(a,k||[]);for(m in c)a.style[m]=
B[m];return g},wc=Na.documentElement;!function(){var a,c,g,k,m,B,H=Na.createElement('div'),Y=Na.createElement('div');if(Y.style){Y.style.cssText='float:left;opacity:.5';e.opacity='0.5'===Y.style.opacity;e.cssFloat=!!Y.style.cssFloat;Y.style.backgroundClip='content-box';Y.cloneNode(!0).style.backgroundClip='';e.clearCloneStyle='content-box'===Y.style.backgroundClip;H=Na.createElement('div');H.style.cssText='border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute';
Y.innerHTML='';H.appendChild(Y);e.boxSizing=''===Y.style.boxSizing||''===Y.style.MozBoxSizing||''===Y.style.WebkitBoxSizing;b.extend(e,{reliableHiddenOffsets:function(){return null==a&&pa(),k},boxSizingReliable:function(){return null==a&&pa(),g},pixelMarginRight:function(){return null==a&&pa(),c},pixelPosition:function(){return null==a&&pa(),a},reliableMarginRight:function(){return null==a&&pa(),m},reliableMarginLeft:function(){return null==a&&pa(),B}});function pa(){var Aa,ra,Ta=Na.documentElement;
Ta.appendChild(H);Y.style.cssText='-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%';a=g=B=!1;c=m=!0;C.getComputedStyle&&(ra=C.getComputedStyle(Y),a='1%'!==(ra||{}).top,B='2px'===(ra||{}).marginLeft,g='4px'===(ra||{width:'4px'}).width,Y.style.marginRight='50%',c='4px'===(ra||{marginRight:'4px'}).marginRight,Aa=Y.appendChild(Na.createElement('div')),Aa.style.cssText=Y.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0',
Aa.style.marginRight=Aa.style.width='0',Y.style.width='1px',m=!parseFloat((C.getComputedStyle(Aa)||{}).marginRight),Y.removeChild(Aa));Y.style.display='none';(k=0===Y.getClientRects().length)&&(Y.style.display='',Y.innerHTML='<table><tr><td></td><td>t</td></tr></table>',Y.childNodes[0].style.borderCollapse='separate',Aa=Y.getElementsByTagName('td'),Aa[0].style.cssText='margin:0;border:0;padding:0;display:none',k=0===Aa[0].offsetHeight,k&&(Aa[0].style.display='',Aa[1].style.display='none',k=0===Aa[0].offsetHeight));
Ta.removeChild(H)}}}();var xc,sc,Sc=/^(top|right|bottom|left)$/;C.getComputedStyle?(xc=function(a){var c=a.ownerDocument.defaultView;return c&&c.opener||(c=C),c.getComputedStyle(a)},sc=function(a,c,g){var k,m,B,H,Y=a.style;return g=g||xc(a),H=g?g.getPropertyValue(c)||g[c]:void 0,''!==H&&void 0!==H||b.contains(a.ownerDocument,a)||(H=b.style(a,c)),g&&!e.pixelMarginRight()&&Mb.test(H)&&qc.test(c)&&(k=Y.width,m=Y.minWidth,B=Y.maxWidth,Y.minWidth=Y.maxWidth=Y.width=H,H=g.width,Y.width=k,Y.minWidth=m,Y.maxWidth=
B),void 0===H?H:H+''}):wc.currentStyle&&(xc=function(a){return a.currentStyle},sc=function(a,c,g){var k,m,B,H,Y=a.style;return g=g||xc(a),H=g?g[c]:void 0,null==H&&Y&&Y[c]&&(H=Y[c]),Mb.test(H)&&!Sc.test(c)&&(k=Y.left,m=a.runtimeStyle,B=m&&m.left,B&&(m.left=a.currentStyle.left),Y.left='fontSize'===c?'1em':H,H=Y.pixelLeft+'px',Y.left=k,B&&(m.left=B)),void 0===H?H:H+''||'auto'});var Oc=/alpha\([^)]*\)/i,Tc=/opacity\s*=\s*([^)]*)/i,Jd=/^(none|table(?!-c[ea]).+)/,wd=new RegExp('^('+Hb+')(.*)$','i'),Kd=
{position:'absolute',visibility:'hidden',display:'block'},od={letterSpacing:'0',fontWeight:'400'},kd=['Webkit','O','Moz','ms'],jd=Na.createElement('div').style;b.extend({cssHooks:{opacity:{get:function(a,c){if(c)return a=sc(a,'opacity'),''===a?'1':a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{'float':e.cssFloat?'cssFloat':'styleFloat'},style:function(a,
c,g,k){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var m,B,H,Y=b.camelCase(c),pa=a.style;if(c=b.cssProps[Y]||(b.cssProps[Y]=da(Y)||Y),H=b.cssHooks[c]||b.cssHooks[Y],void 0===g)return H&&'get'in H&&void 0!==(m=H.get(a,!1,k))?m:pa[c];if(B=typeof g,'string'===B&&(m=Ob.exec(g))&&m[1]&&(g=ca(a,c,m),B='number'),null!=g&&g===g&&('number'===B&&(g+=m&&m[3]||(b.cssNumber[Y]?'':'px')),e.clearCloneStyle||''!==g||0!==c.indexOf('background')||(pa[c]='inherit'),!(H&&'set'in H&&void 0===(g=H.set(a,g,k)))))try{pa[c]=
g}catch(Aa){}}},css:function(a,c,g,k){var m,B,H,Y=b.camelCase(c);return c=b.cssProps[Y]||(b.cssProps[Y]=da(Y)||Y),H=b.cssHooks[c]||b.cssHooks[Y],H&&'get'in H&&(B=H.get(a,!0,g)),void 0===B&&(B=sc(a,c,k)),'normal'===B&&c in od&&(B=od[c]),''===g||g?(m=parseFloat(B),!0===g||isFinite(m)?m||0:B):B}});b.each(['height','width'],function(a,c){b.cssHooks[c]={get:function(g,k,m){return k?Jd.test(b.css(g,'display'))&&0===g.offsetWidth?Nc(g,Kd,function(){return Da(g,c,m)}):Da(g,c,m):void 0},set:function(g,k,m){var B=
m&&xc(g);return ka(g,k,m?ta(g,c,m,e.boxSizing&&'border-box'===b.css(g,'boxSizing',!1,B),B):0)}}});e.opacity||(b.cssHooks.opacity={get:function(a,c){return Tc.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||'')?.01*parseFloat(RegExp.$1)+'':c?'1':''},set:function(a,c){var g=a.style;a=a.currentStyle;var k=b.isNumeric(c)?'alpha(opacity='+100*c+')':'',m=a&&a.filter||g.filter||'';g.zoom=1;(1<=c||''===c)&&''===b.trim(m.replace(Oc,''))&&g.removeAttribute&&(g.removeAttribute('filter'),''===
c||a&&!a.filter)||(g.filter=Oc.test(m)?m.replace(Oc,k):m+' '+k)}});b.cssHooks.marginRight=ia(e.reliableMarginRight,function(a,c){return c?Nc(a,{display:'inline-block'},sc,[a,'marginRight']):void 0});b.cssHooks.marginLeft=ia(e.reliableMarginLeft,function(a,c){return c?(parseFloat(sc(a,'marginLeft'))||(b.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Nc(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+'px':void 0});b.each({margin:'',padding:'',border:'Width'},function(a,
c){b.cssHooks[a+c]={expand:function(g){var k=0,m={};for(g='string'==typeof g?g.split(' '):[g];4>k;k++)m[a+zb[k]+c]=g[k]||g[k-2]||g[0];return m}};qc.test(a)||(b.cssHooks[a+c].set=ka)});b.fn.extend({css:function(a,c){return Za(this,function(g,k,m){var B,H={},Y=0;if(b.isArray(k)){m=xc(g);for(B=k.length;B>Y;Y++)H[k[Y]]=b.css(g,k[Y],!1,m);return H}return void 0!==m?b.style(g,k,m):b.css(g,k)},a,c,1<arguments.length)},show:function(){return wa(this,!0)},hide:function(){return wa(this)},toggle:function(a){return'boolean'==
typeof a?a?this.show():this.hide():this.each(function(){Vb(this)?b(this).show():b(this).hide()})}});b.Tween=Qa;Qa.prototype={constructor:Qa,init:function(a,c,g,k,m,B){this.elem=a;this.prop=g;this.easing=m||b.easing._default;this.options=c;this.start=this.now=this.cur();this.end=k;this.unit=B||(b.cssNumber[g]?'':'px')},cur:function(){var a=Qa.propHooks[this.prop];return a&&a.get?a.get(this):Qa.propHooks._default.get(this)},run:function(a){var c,g=Qa.propHooks[this.prop];return this.options.duration?
this.pos=c=b.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=c=a,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):Qa.propHooks._default.set(this),this}};Qa.prototype.init.prototype=Qa.prototype;Qa.propHooks={_default:{get:function(a){var c;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(c=b.css(a.elem,a.prop,''),c&&'auto'!==c?c:0)},set:function(a){b.fx.step[a.prop]?
b.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[b.cssProps[a.prop]]&&!b.cssHooks[a.prop]?a.elem[a.prop]=a.now:b.style(a.elem,a.prop,a.now+a.unit)}}};Qa.propHooks.scrollTop=Qa.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};b.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:'swing'};b.fx=Qa.prototype.init;b.fx.step={};var Hc,bd,Ld=/^(?:toggle|show|hide)$/,Md=/queueHooks$/;b.Animation=b.extend(Ka,
{tweeners:{'*':[function(a,c){var g=this.createTween(a,c);return ca(g.elem,a,Ob.exec(c),g),g}]},tweener:function(a,c){b.isFunction(a)?(c=a,a=['*']):a=a.match(Ca);for(var g,k=0,m=a.length;m>k;k++)g=a[k],Ka.tweeners[g]=Ka.tweeners[g]||[],Ka.tweeners[g].unshift(c)},prefilters:[function(a,c,g){var k,m,B,H,Y,pa,Aa,ra=this,Ta={},Wa=a.style,wb=a.nodeType&&Vb(a),cb=b._data(a,'fxshow');g.queue||(H=b._queueHooks(a,'fx'),null==H.unqueued&&(H.unqueued=0,Y=H.empty.fire,H.empty.fire=function(){H.unqueued||Y()}),
H.unqueued++,ra.always(function(){ra.always(function(){H.unqueued--;b.queue(a,'fx').length||H.empty.fire()})}));1===a.nodeType&&('height'in c||'width'in c)&&(g.overflow=[Wa.overflow,Wa.overflowX,Wa.overflowY],pa=b.css(a,'display'),Aa='none'===pa?b._data(a,'olddisplay')||W(a.nodeName):pa,'inline'===Aa&&'none'===b.css(a,'float')&&(e.inlineBlockNeedsLayout&&'inline'!==W(a.nodeName)?Wa.zoom=1:Wa.display='inline-block'));g.overflow&&(Wa.overflow='hidden',e.shrinkWrapBlocks()||ra.always(function(){Wa.overflow=
g.overflow[0];Wa.overflowX=g.overflow[1];Wa.overflowY=g.overflow[2]}));for(k in c)if(m=c[k],Ld.exec(m)){if(delete c[k],B=B||'toggle'===m,m===(wb?'hide':'show')){if('show'!==m||!cb||void 0===cb[k])continue;wb=!0}Ta[k]=cb&&cb[k]||b.style(a,k)}else pa=void 0;if(b.isEmptyObject(Ta))'inline'===('none'===pa?W(a.nodeName):pa)&&(Wa.display=pa);else for(k in cb?'hidden'in cb&&(wb=cb.hidden):cb=b._data(a,'fxshow',{}),B&&(cb.hidden=!wb),wb?b(a).show():ra.done(function(){b(a).hide()}),ra.done(function(){var Jb;
b._removeData(a,'fxshow');for(Jb in Ta)b.style(a,Jb,Ta[Jb])}),Ta)c=Oa(wb?cb[k]:0,k,ra),k in cb||(cb[k]=c.start,wb&&(c.end=c.start,c.start='width'===k||'height'===k?1:0))}],prefilter:function(a,c){c?Ka.prefilters.unshift(a):Ka.prefilters.push(a)}});b.speed=function(a,c,g){var k=a&&'object'==typeof a?b.extend({},a):{complete:g||!g&&c||b.isFunction(a)&&a,duration:a,easing:g&&c||c&&!b.isFunction(c)&&c};return k.duration=b.fx.off?0:'number'==typeof k.duration?k.duration:k.duration in b.fx.speeds?b.fx.speeds[k.duration]:
b.fx.speeds._default,null!=k.queue&&!0!==k.queue||(k.queue='fx'),k.old=k.complete,k.complete=function(){b.isFunction(k.old)&&k.old.call(this);k.queue&&b.dequeue(this,k.queue)},k};b.fn.extend({fadeTo:function(a,c,g,k){return this.filter(Vb).css('opacity',0).show().end().animate({opacity:c},a,g,k)},animate:function(a,c,g,k){var m=b.isEmptyObject(a),B=b.speed(c,g,k);c=function(){var H=Ka(this,b.extend({},a),B);(m||b._data(this,'finish'))&&H.stop(!0)};return c.finish=c,m||!1===B.queue?this.each(c):this.queue(B.queue,
c)},stop:function(a,c,g){var k=function(m){var B=m.stop;delete m.stop;B(g)};return'string'!=typeof a&&(g=c,c=a,a=void 0),c&&!1!==a&&this.queue(a||'fx',[]),this.each(function(){var m=!0,B=null!=a&&a+'queueHooks',H=b.timers,Y=b._data(this);if(B)Y[B]&&Y[B].stop&&k(Y[B]);else for(B in Y)Y[B]&&Y[B].stop&&Md.test(B)&&k(Y[B]);for(B=H.length;B--;)H[B].elem!==this||null!=a&&H[B].queue!==a||(H[B].anim.stop(g),m=!1,H.splice(B,1));!m&&g||b.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||'fx'),this.each(function(){var c=
b._data(this),g=c[a+'queue'];var k=c[a+'queueHooks'];var m=b.timers,B=g?g.length:0;c.finish=!0;b.queue(this,a,[]);k&&k.stop&&k.stop.call(this,!0);for(k=m.length;k--;)m[k].elem===this&&m[k].queue===a&&(m[k].anim.stop(!0),m.splice(k,1));for(k=0;B>k;k++)g[k]&&g[k].finish&&g[k].finish.call(this);delete c.finish})}});b.each(['toggle','show','hide'],function(a,c){var g=b.fn[c];b.fn[c]=function(k,m,B){return null==k||'boolean'==typeof k?g.apply(this,arguments):this.animate(Ea(c,!0),k,m,B)}});b.each({slideDown:Ea('show'),
slideUp:Ea('hide'),slideToggle:Ea('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},function(a,c){b.fn[a]=function(g,k,m){return this.animate(c,g,k,m)}});b.timers=[];b.fx.tick=function(){var a=b.timers,c=0;for(Hc=b.now();c<a.length;c++){var g=a[c];g()||a[c]!==g||a.splice(c--,1)}a.length||b.fx.stop();Hc=void 0};b.fx.timer=function(a){b.timers.push(a);a()?b.fx.start():b.timers.pop()};b.fx.interval=13;b.fx.start=function(){bd||=C.setInterval(b.fx.tick,b.fx.interval)};
b.fx.stop=function(){C.clearInterval(bd);bd=null};b.fx.speeds={slow:600,fast:200,_default:400};b.fn.delay=function(a,c){return a=b.fx?b.fx.speeds[a]||a:a,c=c||'fx',this.queue(c,function(g,k){var m=C.setTimeout(g,a);k.stop=function(){C.clearTimeout(m)}})};(function(){var a=Na.createElement('input');Na.createElement('div');var c=Na.createElement('select'),g=c.appendChild(Na.createElement('option'));var k=Na.createElement('div');k.setAttribute('className','t');k.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
k.getElementsByTagName('a');a.setAttribute('type','checkbox');k.appendChild(a);var m=k.getElementsByTagName('a')[0];m.style.cssText='top:1px';e.getSetAttribute='t'!==k.className;e.style=/top/.test(m.getAttribute('style'));e.hrefNormalized='/a'===m.getAttribute('href');e.checkOn=!!a.value;e.optSelected=g.selected;e.enctype=!!Na.createElement('form').enctype;c.disabled=!0;e.optDisabled=!g.disabled;a=Na.createElement('input');a.setAttribute('value','');e.input=''===a.getAttribute('value');a.value='t';
a.setAttribute('type','radio');e.radioValue='t'===a.value})();var Nd=/\r/g,Od=/[\x20\t\r\n\f]+/g;b.fn.extend({val:function(a){var c,g,k,m=this[0];if(arguments.length)return k=b.isFunction(a),this.each(function(B){var H;1===this.nodeType&&(H=k?a.call(this,B,b(this).val()):a,null==H?H='':'number'==typeof H?H+='':b.isArray(H)&&(H=b.map(H,function(Y){return null==Y?'':Y+''})),c=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],c&&'set'in c&&void 0!==c.set(this,H,'value')||(this.value=H))});
if(m)return c=b.valHooks[m.type]||b.valHooks[m.nodeName.toLowerCase()],c&&'get'in c&&void 0!==(g=c.get(m,'value'))?g:(g=m.value,'string'==typeof g?g.replace(Nd,''):null==g?'':g)}});b.extend({valHooks:{option:{get:function(a){var c=b.find.attr(a,'value');return null!=c?c:b.trim(b.text(a)).replace(Od,' ')}},select:{get:function(a){for(var c,g=a.options,k=a.selectedIndex,m='select-one'===a.type||0>k,B=m?null:[],H=m?k+1:g.length,Y=0>k?H:m?k:0;H>Y;Y++)if(c=g[Y],!(!c.selected&&Y!==k||(e.optDisabled?c.disabled:
null!==c.getAttribute('disabled'))||c.parentNode.disabled&&b.nodeName(c.parentNode,'optgroup'))){if(a=b(c).val(),m)return a;B.push(a)}return B},set:function(a,c){var g,k,m=a.options;c=b.makeArray(c);for(var B=m.length;B--;)if(k=m[B],-1<b.inArray(b.valHooks.option.get(k),c))try{k.selected=g=!0}catch(H){k.scrollHeight}else k.selected=!1;return g||(a.selectedIndex=-1),m}}}});b.each(['radio','checkbox'],function(){b.valHooks[this]={set:function(a,c){return b.isArray(c)?a.checked=-1<b.inArray(b(a).val(),
c):void 0}};e.checkOn||(b.valHooks[this].get=function(a){return null===a.getAttribute('value')?'on':a.value})});var Kc,Bc=b.expr.attrHandle,cd=/^(?:checked|selected)$/i,Fc=e.getSetAttribute,Uc=e.input;b.fn.extend({attr:function(a,c){return Za(this,b.attr,a,c,1<arguments.length)},removeAttr:function(a){return this.each(function(){b.removeAttr(this,a)})}});b.extend({attr:function(a,c,g){var k,m,B=a.nodeType;if(3!==B&&8!==B&&2!==B)return'undefined'==typeof a.getAttribute?b.prop(a,c,g):(1===B&&b.isXMLDoc(a)||
(c=c.toLowerCase(),m=b.attrHooks[c]||(b.expr.match.bool.test(c)?Pd:Kc)),void 0!==g?null===g?void b.removeAttr(a,c):m&&'set'in m&&void 0!==(k=m.set(a,g,c))?k:(a.setAttribute(c,g+''),g):m&&'get'in m&&null!==(k=m.get(a,c))?k:(k=b.find.attr(a,c),null==k?void 0:k))},attrHooks:{type:{set:function(a,c){if(!e.radioValue&&'radio'===c&&b.nodeName(a,'input')){var g=a.value;return a.setAttribute('type',c),g&&(a.value=g),c}}}},removeAttr:function(a,c){var g=0,k=c&&c.match(Ca);if(k&&1===a.nodeType)for(;c=k[g++];){var m=
b.propFix[c]||c;b.expr.match.bool.test(c)?Uc&&Fc||!cd.test(c)?a[m]=!1:a[b.camelCase('default-'+c)]=a[m]=!1:b.attr(a,c,'');a.removeAttribute(Fc?c:m)}}});var Pd={set:function(a,c,g){return!1===c?b.removeAttr(a,g):Uc&&Fc||!cd.test(g)?a.setAttribute(!Fc&&b.propFix[g]||g,g):a[b.camelCase('default-'+g)]=a[g]=!0,g}};b.each(b.expr.match.bool.source.match(/\w+/g),function(a,c){var g=Bc[c]||b.find.attr;Uc&&Fc||!cd.test(c)?Bc[c]=function(k,m,B){var H,Y;return B||(Y=Bc[m],Bc[m]=H,H=null!=g(k,m,B)?m.toLowerCase():
null,Bc[m]=Y),H}:Bc[c]=function(k,m,B){return B?void 0:k[b.camelCase('default-'+m)]?m.toLowerCase():null}});Uc&&Fc||(b.attrHooks.value={set:function(a,c,g){return b.nodeName(a,'input')?void(a.defaultValue=c):Kc&&Kc.set(a,c,g)}});Fc||(Kc={set:function(a,c,g){var k=a.getAttributeNode(g);return k||a.setAttributeNode(k=a.ownerDocument.createAttribute(g)),k.value=c+='','value'===g||c===a.getAttribute(g)?c:void 0}},Bc.id=Bc.name=Bc.coords=function(a,c,g){var k;return g?void 0:(k=a.getAttributeNode(c))&&
''!==k.value?k.value:null},b.valHooks.button={get:function(a,c){return(a=a.getAttributeNode(c))&&a.specified?a.value:void 0},set:Kc.set},b.attrHooks.contenteditable={set:function(a,c,g){Kc.set(a,''===c?!1:c,g)}},b.each(['width','height'],function(a,c){b.attrHooks[c]={set:function(g,k){return''===k?(g.setAttribute(c,'auto'),k):void 0}}}));e.style||(b.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,c){return a.style.cssText=c+''}});var Qd=/^(?:input|select|textarea|button|object)$/i,
Rd=/^(?:a|area)$/i;b.fn.extend({prop:function(a,c){return Za(this,b.prop,a,c,1<arguments.length)},removeProp:function(a){return a=b.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(c){}})}});b.extend({prop:function(a,c,g){var k,m,B=a.nodeType;if(3!==B&&8!==B&&2!==B)return 1===B&&b.isXMLDoc(a)||(c=b.propFix[c]||c,m=b.propHooks[c]),void 0!==g?m&&'set'in m&&void 0!==(k=m.set(a,g,c))?k:a[c]=g:m&&'get'in m&&null!==(k=m.get(a,c))?k:a[c]},propHooks:{tabIndex:{get:function(a){var c=
b.find.attr(a,'tabindex');return c?parseInt(c,10):Qd.test(a.nodeName)||Rd.test(a.nodeName)&&a.href?0:-1}}},propFix:{'for':'htmlFor','class':'className'}});e.hrefNormalized||b.each(['href','src'],function(a,c){b.propHooks[c]={get:function(g){return g.getAttribute(c,4)}}});e.optSelected||(b.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});
b.each('tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable'.split(' '),function(){b.propFix[this.toLowerCase()]=this});e.enctype||(b.propFix.enctype='encoding');var dd=/[\t\r\n\f]/g;b.fn.extend({addClass:function(a){var c,g,k,m,B,H,Y=0;if(b.isFunction(a))return this.each(function(pa){b(this).addClass(a.call(this,pa,Ya(this)))});if('string'==typeof a&&a)for(c=a.match(Ca)||[];g=this[Y++];)if(m=Ya(g),k=1===g.nodeType&&(' '+m+' ').replace(dd,' ')){for(H=
0;B=c[H++];)0>k.indexOf(' '+B+' ')&&(k+=B+' ');k=b.trim(k);m!==k&&b.attr(g,'class',k)}return this},removeClass:function(a){var c,g,k,m,B,H,Y=0;if(b.isFunction(a))return this.each(function(pa){b(this).removeClass(a.call(this,pa,Ya(this)))});if(!arguments.length)return this.attr('class','');if('string'==typeof a&&a)for(c=a.match(Ca)||[];g=this[Y++];)if(m=Ya(g),k=1===g.nodeType&&(' '+m+' ').replace(dd,' ')){for(H=0;B=c[H++];)for(;-1<k.indexOf(' '+B+' ');)k=k.replace(' '+B+' ',' ');k=b.trim(k);m!==k&&
b.attr(g,'class',k)}return this},toggleClass:function(a,c){var g=typeof a;return'boolean'==typeof c&&'string'===g?c?this.addClass(a):this.removeClass(a):b.isFunction(a)?this.each(function(k){b(this).toggleClass(a.call(this,k,Ya(this),c),c)}):this.each(function(){var k,m;if('string'===g){var B=0;var H=b(this);for(m=a.match(Ca)||[];k=m[B++];)H.hasClass(k)?H.removeClass(k):H.addClass(k)}else void 0!==a&&'boolean'!==g||(k=Ya(this),k&&b._data(this,'__className__',k),b.attr(this,'class',k||!1===a?'':b._data(this,
'__className__')||''))})},hasClass:function(a){var c,g=0;for(a=' '+a+' ';c=this[g++];)if(1===c.nodeType&&-1<(' '+Ya(c)+' ').replace(dd,' ').indexOf(a))return!0;return!1}});b.each('blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(' '),function(a,c){b.fn[c]=function(g,k){return 0<arguments.length?this.on(c,null,g,k):this.trigger(c)}});b.fn.extend({hover:function(a,
c){return this.mouseenter(a).mouseleave(c||a)}});var Sd=C.location,ed=b.now(),fd=/\?/,Td=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;b.parseJSON=function(a){if(C.JSON&&C.JSON.parse)return C.JSON.parse(a+'');var c,g=null,k=b.trim(a+'');return k&&!b.trim(k.replace(Td,function(m,B,H,Y){return c&&B&&(g=0),0===g?m:(c=H||B,g+=!Y-!H,'')}))?Function('return '+k)():b.error('Invalid JSON: '+a)};b.parseXML=function(a){var c,
g;if(!a||'string'!=typeof a)return null;try{C.DOMParser?(g=new C.DOMParser,c=g.parseFromString(a,'text/xml')):(c=new C.ActiveXObject('Microsoft.XMLDOM'),c.async='false',c.loadXML(a))}catch(k){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName('parsererror').length||b.error('Invalid XML: '+a),c};var Ud=/#.*$/,pd=/([?&])_=[^&]*/,Vd=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Wd=/^(?:GET|HEAD)$/,Xd=/^\/\//,qd=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,rd={},Xc={},sd='*/'.concat('*'),
gd=Sd.href,Lc=qd.exec(gd.toLowerCase())||[];b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gd,type:'GET',isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Lc[1]),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{'*':sd,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',json:'application/json, text/javascript'},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:'responseXML',
text:'responseText',json:'responseJSON'},converters:{'* text':String,'text html':!0,'text json':b.parseJSON,'text xml':b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,c){return c?jb(jb(a,b.ajaxSettings),c):jb(b.ajaxSettings,a)},ajaxPrefilter:pb(rd),ajaxTransport:pb(Xc),ajax:function(a,c){function g(Bb,Qb,Tb,tb){var kc,hc,Xb,gc=Qb;if(2!==mc){mc=2;H&&C.clearTimeout(H);pa=void 0;B=tb||'';vb.readyState=0<Bb?4:0;tb=200<=Bb&&300>Bb||304===Bb;if(Tb){var Ub=ra;for(var oc=vb,Ab,cc,Yb,Sb,
Jc=Ub.contents,pc=Ub.dataTypes;'*'===pc[0];)pc.shift(),void 0===cc&&(cc=Ub.mimeType||oc.getResponseHeader('Content-Type'));if(cc)for(Sb in Jc)if(Jc[Sb]&&Jc[Sb].test(cc)){pc.unshift(Sb);break}if(pc[0]in Tb)Yb=pc[0];else{for(Sb in Tb){if(!pc[0]||Ub.converters[Sb+' '+pc[0]]){Yb=Sb;break}Ab||=Sb}Yb=Yb||Ab}Ub=Yb?(Yb!==pc[0]&&pc.unshift(Yb),Tb[Yb]):void 0}a:{Tb=ra;Ab=Ub;cc=vb;Yb=tb;var dc,uc,vc;Ub={};oc=Tb.dataTypes.slice();if(oc[1])for(dc in Tb.converters)Ub[dc.toLowerCase()]=Tb.converters[dc];for(Sb=
oc.shift();Sb;)if(Tb.responseFields[Sb]&&(cc[Tb.responseFields[Sb]]=Ab),!vc&&Yb&&Tb.dataFilter&&(Ab=Tb.dataFilter(Ab,Tb.dataType)),vc=Sb,Sb=oc.shift())if('*'===Sb)Sb=vc;else if('*'!==vc&&vc!==Sb){if(dc=Ub[vc+' '+Sb]||Ub['* '+Sb],!dc)for(nc in Ub)if(uc=nc.split(' '),uc[1]===Sb&&(dc=Ub[vc+' '+uc[0]]||Ub['* '+uc[0]])){!0===dc?dc=Ub[nc]:!0!==Ub[nc]&&(Sb=uc[0],oc.unshift(uc[1]));break}if(!0!==dc)if(dc&&Tb['throws'])Ab=dc(Ab);else try{Ab=dc(Ab)}catch($c){var nc={state:'parsererror',error:dc?$c:'No conversion from '+
vc+' to '+Sb};break a}}nc={state:'success',data:Ab}}Ub=nc;tb?(ra.ifModified&&(Xb=vb.getResponseHeader('Last-Modified'),Xb&&(b.lastModified[ic]=Xb),Xb=vb.getResponseHeader('etag'),Xb&&(b.etag[ic]=Xb)),204===Bb||'HEAD'===ra.type?gc='nocontent':304===Bb?gc='notmodified':(gc=Ub.state,kc=Ub.data,hc=Ub.error,tb=!hc)):(hc=gc,!Bb&&gc||(gc='error',0>Bb&&(Bb=0)));vb.status=Bb;vb.statusText=(Qb||gc)+'';tb?wb.resolveWith(Ta,[kc,gc,vb]):wb.rejectWith(Ta,[vb,gc,hc]);vb.statusCode(Jb);Jb=void 0;Y&&Wa.trigger(tb?
'ajaxSuccess':'ajaxError',[vb,ra,tb?kc:hc]);cb.fireWith(Ta,[vb,gc]);Y&&(Wa.trigger('ajaxComplete',[vb,ra]),--b.active||b.event.trigger('ajaxStop'))}}'object'==typeof a&&(c=a,a=void 0);c=c||{};var k,m,B,H,Y,pa,Aa,ra=b.ajaxSetup({},c),Ta=ra.context||ra,Wa=ra.context&&(Ta.nodeType||Ta.jquery)?b(Ta):b.event,wb=b.Deferred(),cb=b.Callbacks('once memory'),Jb=ra.statusCode||{},lc={},Ic={},mc=0,yc='canceled',vb={readyState:0,getResponseHeader:function(Bb){var Qb;if(2===mc){if(!Aa)for(Aa={};Qb=Vd.exec(B);)Aa[Qb[1].toLowerCase()]=
Qb[2];Qb=Aa[Bb.toLowerCase()]}return null==Qb?null:Qb},getAllResponseHeaders:function(){return 2===mc?B:null},setRequestHeader:function(Bb,Qb){var Tb=Bb.toLowerCase();return mc||(Bb=Ic[Tb]=Ic[Tb]||Bb,lc[Bb]=Qb),this},overrideMimeType:function(Bb){return mc||(ra.mimeType=Bb),this},statusCode:function(Bb){var Qb;if(Bb)if(2>mc)for(Qb in Bb)Jb[Qb]=[Jb[Qb],Bb[Qb]];else vb.always(Bb[vb.status]);return this},abort:function(Bb){Bb=Bb||yc;return pa&&pa.abort(Bb),g(0,Bb),this}};if(wb.promise(vb).complete=cb.add,
vb.success=vb.done,vb.error=vb.fail,ra.url=((a||ra.url||gd)+'').replace(Ud,'').replace(Xd,Lc[1]+'//'),ra.type=c.method||c.type||ra.method||ra.type,ra.dataTypes=b.trim(ra.dataType||'*').toLowerCase().match(Ca)||[''],null==ra.crossDomain&&(k=qd.exec(ra.url.toLowerCase()),ra.crossDomain=!(!k||k[1]===Lc[1]&&k[2]===Lc[2]&&(k[3]||('http:'===k[1]?'80':'443'))===(Lc[3]||('http:'===Lc[1]?'80':'443')))),ra.data&&ra.processData&&'string'!=typeof ra.data&&(ra.data=b.param(ra.data,ra.traditional)),$a(rd,ra,c,
vb),2===mc)return vb;(Y=b.event&&ra.global)&&0===b.active++&&b.event.trigger('ajaxStart');ra.type=ra.type.toUpperCase();ra.hasContent=!Wd.test(ra.type);var ic=ra.url;ra.hasContent||(ra.data&&(ic=ra.url+=(fd.test(ic)?'&':'?')+ra.data,delete ra.data),!1===ra.cache&&(ra.url=pd.test(ic)?ic.replace(pd,'$1_='+ed++):ic+(fd.test(ic)?'&':'?')+'_='+ed++));ra.ifModified&&(b.lastModified[ic]&&vb.setRequestHeader('If-Modified-Since',b.lastModified[ic]),b.etag[ic]&&vb.setRequestHeader('If-None-Match',b.etag[ic]));
(ra.data&&ra.hasContent&&!1!==ra.contentType||c.contentType)&&vb.setRequestHeader('Content-Type',ra.contentType);vb.setRequestHeader('Accept',ra.dataTypes[0]&&ra.accepts[ra.dataTypes[0]]?ra.accepts[ra.dataTypes[0]]+('*'!==ra.dataTypes[0]?', '+sd+'; q=0.01':''):ra.accepts['*']);for(m in ra.headers)vb.setRequestHeader(m,ra.headers[m]);if(ra.beforeSend&&(!1===ra.beforeSend.call(Ta,vb,ra)||2===mc))return vb.abort();yc='abort';for(m in{success:1,error:1,complete:1})vb[m](ra[m]);if(pa=$a(Xc,ra,c,vb)){if(vb.readyState=
1,Y&&Wa.trigger('ajaxSend',[vb,ra]),2===mc)return vb;ra.async&&0<ra.timeout&&(H=C.setTimeout(function(){vb.abort('timeout')},ra.timeout));try{mc=1,pa.send(lc,g)}catch(Bb){if(!(2>mc))throw Bb;g(-1,Bb)}}else g(-1,'No Transport');return vb},getJSON:function(a,c,g){return b.get(a,c,g,'json')},getScript:function(a,c){return b.get(a,void 0,c,'script')}});b.each(['get','post'],function(a,c){b[c]=function(g,k,m,B){return b.isFunction(k)&&(B=B||m,m=k,k=void 0),b.ajax(b.extend({url:g,type:c,dataType:B,data:k,
success:m},b.isPlainObject(g)&&g))}});b._evalUrl=function(a){return b.ajax({url:a,type:'GET',dataType:'script',cache:!0,async:!1,global:!1,'throws':!0})};b.fn.extend({wrapAll:function(a){if(b.isFunction(a))return this.each(function(g){b(this).wrapAll(a.call(this,g))});if(this[0]){var c=b(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var g=this;g.firstChild&&1===g.firstChild.nodeType;)g=g.firstChild;return g}).append(this)}return this},wrapInner:function(a){return b.isFunction(a)?
this.each(function(c){b(this).wrapInner(a.call(this,c))}):this.each(function(){var c=b(this),g=c.contents();g.length?g.wrapAll(a):c.append(a)})},wrap:function(a){var c=b.isFunction(a);return this.each(function(g){b(this).wrapAll(c?a.call(this,g):a)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,'body')||b(this).replaceWith(this.childNodes)}).end()}});b.expr.filters.hidden=function(a){return e.reliableHiddenOffsets()?0>=a.offsetWidth&&0>=a.offsetHeight&&!a.getClientRects().length:
bc(a)};b.expr.filters.visible=function(a){return!b.expr.filters.hidden(a)};var Yd=/%20/g,xd=/\[\]$/,td=/\r?\n/g,Zd=/^(?:submit|button|image|reset|file)$/i,$d=/^(?:input|select|textarea|keygen)/i;b.param=function(a,c){var g,k=[],m=function(B,H){H=b.isFunction(H)?H():null==H?'':H;k[k.length]=encodeURIComponent(B)+'='+encodeURIComponent(H)};if(void 0===c&&(c=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(a)||a.jquery&&!b.isPlainObject(a))b.each(a,function(){m(this.name,this.value)});else for(g in a)$b(g,
a[g],c,m);return k.join('&').replace(Yd,'+')};b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=b.prop(this,'elements');return a?b.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!b(this).is(':disabled')&&$d.test(this.nodeName)&&!Zd.test(a)&&(this.checked||!gb.test(a))}).map(function(a,c){a=b(this).val();return null==a?null:b.isArray(a)?b.map(a,function(g){return{name:c.name,value:g.replace(td,
'\r\n')}}):{name:c.name,value:a.replace(td,'\r\n')}}).get()}});b.ajaxSettings.xhr=void 0!==C.ActiveXObject?function(){return this.isLocal?Cb():8<Na.documentMode?fb():/^(get|post|head|put|delete|options)$/i.test(this.type)&&fb()||Cb()}:fb;var ae=0,Vc={},Wc=b.ajaxSettings.xhr();C.attachEvent&&C.attachEvent('onunload',function(){for(var a in Vc)Vc[a](void 0,!0)});e.cors=!!Wc&&'withCredentials'in Wc;(Wc=e.ajax=!!Wc)&&b.ajaxTransport(function(a){if(!a.crossDomain||e.cors){var c;return{send:function(g,
k){var m,B=a.xhr(),H=++ae;if(B.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(m in a.xhrFields)B[m]=a.xhrFields[m];a.mimeType&&B.overrideMimeType&&B.overrideMimeType(a.mimeType);a.crossDomain||g['X-Requested-With']||(g['X-Requested-With']='XMLHttpRequest');for(m in g)void 0!==g[m]&&B.setRequestHeader(m,g[m]+'');B.send(a.hasContent&&a.data||null);c=function(Y,pa){if(c&&(pa||4===B.readyState))if(delete Vc[H],c=void 0,B.onreadystatechange=b.noop,pa)4!==B.readyState&&B.abort();else{var Aa=
{};var ra=B.status;'string'==typeof B.responseText&&(Aa.text=B.responseText);try{var Ta=B.statusText}catch(Wa){Ta=''}ra||!a.isLocal||a.crossDomain?1223===ra&&(ra=204):ra=Aa.text?200:404}Aa&&k(ra,Ta,Aa,B.getAllResponseHeaders())};a.async?4===B.readyState?C.setTimeout(c):B.onreadystatechange=Vc[H]=c:c()},abort:function(){c&&c(void 0,!0)}}}});b.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/\b(?:java|ecma)script\b/},
converters:{'text script':function(a){return b.globalEval(a),a}}});b.ajaxPrefilter('script',function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type='GET',a.global=!1)});b.ajaxTransport('script',function(a){if(a.crossDomain){var c,g=Na.head||b('head')[0]||Na.documentElement;return{send:function(k,m){c=Na.createElement('script');c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(B,H){(H||!c.readyState||/loaded|complete/.test(c.readyState))&&
(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,H||m(200,'success'))};g.insertBefore(c,g.firstChild)},abort:function(){c&&c.onload(void 0,!0)}}}});var ud=[],hd=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:'callback',jsonpCallback:function(){var a=ud.pop()||b.expando+'_'+ed++;return this[a]=!0,a}});b.ajaxPrefilter('json jsonp',function(a,c,g){var k,m,B,H=!1!==a.jsonp&&(hd.test(a.url)?'url':'string'==typeof a.data&&0===(a.contentType||'').indexOf('application/x-www-form-urlencoded')&&
hd.test(a.data)&&'data');return H||'jsonp'===a.dataTypes[0]?(k=a.jsonpCallback=b.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,H?a[H]=a[H].replace(hd,'$1'+k):!1!==a.jsonp&&(a.url+=(fd.test(a.url)?'&':'?')+a.jsonp+'='+k),a.converters['script json']=function(){return B||b.error(k+' was not called'),B[0]},a.dataTypes[0]='json',m=C[k],C[k]=function(){B=arguments},g.always(function(){void 0===m?b(C).removeProp(k):C[k]=m;a[k]&&(a.jsonpCallback=c.jsonpCallback,ud.push(k));B&&b.isFunction(m)&&
m(B[0]);B=m=void 0}),'script'):void 0});b.parseHTML=function(a,c,g){if(!a||'string'!=typeof a)return null;'boolean'==typeof c&&(g=c,c=!1);c=c||Na;var k=Q.exec(a);g=!g&&[];return k?[c.createElement(k[1])]:(k=D([a],c,g),g&&g.length&&b(g).remove(),b.merge([],k.childNodes))};var vd=b.fn.load;b.fn.load=function(a,c,g){if('string'!=typeof a&&vd)return vd.apply(this,arguments);var k,m,B,H=this,Y=a.indexOf(' ');return-1<Y&&(k=b.trim(a.slice(Y,a.length)),a=a.slice(0,Y)),b.isFunction(c)?(g=c,c=void 0):c&&'object'==
typeof c&&(m='POST'),0<H.length&&b.ajax({url:a,type:m||'GET',dataType:'html',data:c}).done(function(pa){B=arguments;H.html(k?b('<div>').append(b.parseHTML(pa)).find(k):pa)}).always(g&&function(pa,Aa){H.each(function(){g.apply(this,B||[pa.responseText,Aa,pa])})}),this};b.each('ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend'.split(' '),function(a,c){b.fn[c]=function(g){return this.on(c,g)}});b.expr.filters.animated=function(a){return b.grep(b.timers,function(c){return a===c.elem}).length};
b.offset={setOffset:function(a,c,g){var k,m,B,H=b.css(a,'position'),Y=b(a),pa={};'static'===H&&(a.style.position='relative');var Aa=Y.offset();var ra=b.css(a,'top');var Ta=b.css(a,'left');('absolute'===H||'fixed'===H)&&-1<b.inArray('auto',[ra,Ta])?(k=Y.position(),B=k.top,m=k.left):(B=parseFloat(ra)||0,m=parseFloat(Ta)||0);b.isFunction(c)&&(c=c.call(a,g,b.extend({},Aa)));null!=c.top&&(pa.top=c.top-Aa.top+B);null!=c.left&&(pa.left=c.left-Aa.left+m);'using'in c?c.using.call(a,pa):Y.css(pa)}};b.fn.extend({offset:function(a){if(arguments.length)return void 0===
a?this:this.each(function(H){b.offset.setOffset(this,a,H)});var c,g,k={top:0,left:0},m=this[0],B=m&&m.ownerDocument;if(B)return c=B.documentElement,b.contains(c,m)?('undefined'!=typeof m.getBoundingClientRect&&(k=m.getBoundingClientRect()),g=yb(B),{top:k.top+(g.pageYOffset||c.scrollTop)-(c.clientTop||0),left:k.left+(g.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):k},position:function(){if(this[0]){var a,c,g={top:0,left:0},k=this[0];return'fixed'===b.css(k,'position')?c=k.getBoundingClientRect():
(a=this.offsetParent(),c=this.offset(),b.nodeName(a[0],'html')||(g=a.offset()),g.top+=b.css(a[0],'borderTopWidth',!0),g.left+=b.css(a[0],'borderLeftWidth',!0)),{top:c.top-g.top-b.css(k,'marginTop',!0),left:c.left-g.left-b.css(k,'marginLeft',!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&!b.nodeName(a,'html')&&'static'===b.css(a,'position');)a=a.offsetParent;return a||wc})}});b.each({scrollLeft:'pageXOffset',scrollTop:'pageYOffset'},function(a,c){var g=/Y/.test(c);
b.fn[a]=function(k){return Za(this,function(m,B,H){var Y=yb(m);return void 0===H?Y?c in Y?Y[c]:Y.document.documentElement[B]:m[B]:void(Y?Y.scrollTo(g?b(Y).scrollLeft():H,g?H:b(Y).scrollTop()):m[B]=H)},a,k,arguments.length,null)}});b.each(['top','left'],function(a,c){b.cssHooks[c]=ia(e.pixelPosition,function(g,k){return k?(k=sc(g,c),Mb.test(k)?b(g).position()[c]+'px':k):void 0})});b.each({Height:'height',Width:'width'},function(a,c){b.each({padding:'inner'+a,content:c,'':'outer'+a},function(g,k){b.fn[k]=
function(m,B){var H=arguments.length&&(g||'boolean'!=typeof m),Y=g||(!0===m||!0===B?'margin':'border');return Za(this,function(pa,Aa,ra){var Ta;return b.isWindow(pa)?pa.document.documentElement['client'+a]:9===pa.nodeType?(Ta=pa.documentElement,Math.max(pa.body['scroll'+a],Ta['scroll'+a],pa.body['offset'+a],Ta['offset'+a],Ta['client'+a])):void 0===ra?b.css(pa,Aa,Y):b.style(pa,Aa,ra,Y)},c,H?m:void 0,H,null)}})});b.fn.extend({bind:function(a,c,g){return this.on(a,null,c,g)},unbind:function(a,c){return this.off(a,
null,c)},delegate:function(a,c,g,k){return this.on(c,a,g,k)},undelegate:function(a,c,g){return 1===arguments.length?this.off(a,'**'):this.off(c,a||'**',g)}});b.fn.size=function(){return this.length};b.fn.andSelf=b.fn.addBack;'function'==typeof define&&define.amd&&define('jquery',[],function(){return b});var be=C.jQuery,ce=C.$;return b.noConflict=function(a){return C.$===b&&(C.$=ce),a&&C.jQuery===b&&(C.jQuery=be),b},R||(C.jQuery=C.$=b),b});if('undefined'!==typeof module&&module.exports)var lib=require('../../index');
function Collection(C,R){var ha='undefined'!==typeof module&&module.exports?!1:!0,Ba=ha?require('vendor/uuid'):require('uuid'),Z=ha?require('lib/merge'):require('../../../lib/merge'),N={isCaseSensitive:{false:{re:'^%s$',modifiers:'i'},true:{re:'^%s$'}}},na=!1,S=!1,U=null;ha={useLocalStorage:!1,locale:'en',searchOptionRules:N};R='object'==typeof R?Z(R,ha):ha;var q=['not null'],I=function(E){try{return eval(E)}catch(D){throw Error('Could not evaluate condition `'+E+'`.\n'+D.stack);}};if('undefined'==
typeof C||''==C||null==C)C=[];if(!Array.isArray(C))throw Error('`new Collection([content] [, options] )`: `content` argument must be an Array !');C=C?JSON.clone(C):[];for(var p=[],ca=ha=0,Fa=C.length;ca<Fa;++ca)C[ca]||(C[ca]={}),C[ca]._uuid=Ba.v4(),p[ha]=C[ca]._uuid,++ha;var L=C;L.setSearchOption=function(){if(!arguments.length)throw Error('searchOption cannot be left blank');if(3<arguments.length||3>arguments.length&&1<arguments.length)throw Error('argument length mismatch');var E=0,D=arguments.length;
if(1==arguments.length){if('object'!=typeof arguments[0])throw Error('searchOption must be an object');for(var l in arguments[0])if('undefined'==typeof N[l])throw Error(arguments[1]+' is not an allowed searchOption !');U=arguments[0]}else for(U||={};E<D;++E){if('undefined'==typeof N[arguments[1]])throw Error(arguments[1]+' is not an allowed searchOption !');'undefined'==typeof U[arguments[0]]&&(U[arguments[0]]={});/true|false/i.test(arguments[2])?U[arguments[0]][arguments[1]]=/true/i.test(arguments[2])?
!0:!1:U[arguments[0]][arguments[1]]=arguments[2]}return L};L.find=function(){na=!1;'boolean'==typeof arguments[arguments.length-1]&&(na=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);var E=null,D=null,l=null;try{E=JSON.stringify(arguments),D=JSON.parse(E),l=D.count()}catch(ka){throw Error('filter must be an object\n'+ka.stack);}if('undefined'!=typeof D&&0<l){1<l&&(na=!0);l=E=null;var z=0,y=Array.isArray(this)?this:JSON.clone(C),G=[],r='',v=null,F=U,J=R.searchOptionRules,
T=null,sa=[],Ga=function(ka,ta,Da,Qa,La){if(null===ka&&null===Da)++Qa;else if(ka&&-1<q.indexOf(r)&&'not null'==r&&'undefined'!=typeof Da&&'object'!==typeof Da&&'null'!=Da&&'undefined'!=Da)0>G.indexOf(Da)&&++Qa;else if('undefined'!=typeof Da&&'object'!==typeof Da&&/(<|>|=)/.test(ka)&&!/undefined|function/.test(typeof Da))ta=ka,La=Da+ka,'string'==typeof ka&&'string'==typeof Da&&(La=ka.replace(/^(<=|>=|!==|!=|===|!==)/g,''),'string'!=typeof Da||/^"(.*)"$/.test(La)||(ka=ka.replace(La,'"'+La+'"')),La=
'"'+Da+'"'+ka,ka=ta),/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Da)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(ka)?I(Da.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+ka.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Qa:I(La)&&++Qa;else if('undefined'!=typeof Da&&'object'!==typeof Da&&Da===ka&&!F||'undefined'!=typeof Da&&'object'!==typeof Da&&Da===ka&&'undefined'==typeof F[ta])++Qa;
else if('undefined'!=typeof Da&&'object'!==typeof Da&&F&&'undefined'!=typeof F[ta]){var Ea=0;var Oa=F[ta].count();for(var Ia in F[ta])La[Ia][F[ta][Ia]].re=La[Ia][F[ta][Ia]].re.replace(/%s/,ka),v=La[Ia][F[ta][Ia]].modifiers?new RegExp(La[Ia][F[ta][Ia]].re,La[Ia][F[ta][Ia]].modifiers):new RegExp(La[Ia][F[ta][Ia]].re),v.test(Da)&&++Ea;Ea==Oa&&++Qa}return{matched:Qa}},W=function(ka,ta,Da,Qa){var La=ta.split(/\./g);La=La[La.length-1];v=new RegExp('("'+La+'":\\w+)');La=null;try{Da&&(La=eval('_content.'+
ta))}catch(Ea){}La&&(Array.isArray(La)?La=La[1].split(/:/)[1]:'string'==typeof La&&/:/.test(La)&&(La=La.split(/:/)[1]),/(<|>|=)/.test(ka)?/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(La)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(ka)?I(La.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+ka.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Qa:I(La+ka)&&++Qa:La==ka&&++Qa);return{matched:Qa}},
ia=function(ka,ta,Da,Qa,La){ta=ta.split(/\[\*\]/g);La=ta[0].replace(/\[\*\]/,'');Da=Da[La];ta=ta[1];/^\./.test(ta)&&(ta=ta.substr(1));La=0;if(Da)for(var Ea=0,Oa=Da.length;Ea<Oa&&!(sa=/\./.test(ta)?W(ka,ta,Da[Ea],La):Ga(ka,ta,Da[Ea],La,J),La=sa.matched,0<La);++Ea);return{matched:Qa+La}},da;for(da in y)if(y[da]||(y[da]={}),!/undefined|function/.test(typeof y[da]))for(let ka=0,ta=D.count();ka<ta;++ka){E=D[ka];l=E.count();T=0;for(var wa in E){if('undefined'==typeof E[wa])throw Error('filter `'+wa+'` cannot be left undefined');
r=null===E[wa]||/(boolean|number)/.test(typeof E[wa])?E[wa]:E[wa].toLocaleLowerCase();sa=/\./.test(wa)?/\[\*\]/.test(wa)?ia(E[wa],wa,y[da],T,0):W(E[wa],wa,y[da],T):Ga(E[wa],wa,y[da][wa],T,J);T=sa.matched}if(T==l)if(na&&S&&0>p.indexOf(y[da]._uuid)||S||!na){if(!na||na&&0>G.indexOf(y[da]._uuid)||S)G[z]=y[da],++z}else na&&!S&&0>G.indexOf(y[da]._uuid)&&(G[z]=y[da],++z)}}else G=C;U=null;G.insert=L.insert;G.notIn=L.notIn;G.find=this.find;G.update=L.update;G.replace=L.replace;G.or=L.or;G.findOne=L.findOne;
G.limit=L.limit;G.orderBy=L.orderBy;G.delete=L.delete;G.toRaw=L.toRaw;G.filter=L.filter;return G};L.findOne=function(){var E=null;'string'==typeof arguments[arguments.length-1]&&(delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(E=arguments);if('undefined'==typeof E||!E||'object'!=typeof E)throw Error('[ Collection ][ findOne ] `filters` argument must be defined: Array or Filter Object(s) expected');E=null;var D=Array.isArray(arguments[0])?arguments[0]:L.find.apply(this,
arguments)||[];0<D.length&&(E=D.limit(1).toRaw()[0]);return E};L.or=function(){arguments[arguments.length]=!0;++arguments.length;return L.find.apply(this,arguments)};L.limit=function(E){if('undefined'==typeof E||'number'!=typeof E)throw Error('[Collection::result->limit(resultLimit)] : `resultLimit` parametter must by a `number`');var D=Array.isArray(this)?this:JSON.clone(C);D=D.splice(0,E);D.insert=L.insert;D.update=L.update;D.replace=L.replace;D.notIn=L.notIn;D.findOne=L.findOne;D.orderBy=L.orderBy;
D.max=L.max;D.delete=L.delete;D.toRaw=L.toRaw;D.filter=L.filter;return D};L.notIn=function(){var E=null,D=null,l=!0;'string'==typeof arguments[arguments.length-1]&&(E=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'boolean'==typeof arguments[arguments.length-1]&&(l=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(D=arguments);if('undefined'==typeof D||!D||'object'!=typeof D)throw Error('[ Collection ][ notIn ] `filters` argument must be defined: Array or Filter Object(s) expected');
var z=JSON.clone(Array.isArray(this)?this:C);if(Array.isArray(arguments[0]))var y=arguments[0];else S=!0,y=L.find.apply(this,arguments)||[],S=!1;if(0<y.length){if(l&&E&&'undefined'==typeof y[0]&&'undefined'==typeof y[0][E])throw Error('[ Collection ][ notIn ] `key` not valid');l&&!E&&'undefined'!=typeof y[0]._uuid?E='_uuid':'undefined'!=typeof y[0].id&&(E='id');if(!E||'undefined'==typeof y[0][E])throw Error('No comparison key defined !');var G=0,r=y.length,v=0,F,J=D.count(),T;if(l&&'undefined'!=typeof z[v]&&
z[v].hasOwnProperty(E))for(;G<r&&z.length;++G)for(v=0,l=z.length;v<l;++v){if('undefined'!=typeof z[v]&&'undefined'!=typeof y[G]&&z[v][E]===y[G][E]){z.splice(v,1);break}}else if('undefined'==typeof z[v])z=JSON.clone(y);else for(;G<r&&z.length;++G)for(v=0,l=z.length;v<l;++v)if('undefined'!=typeof z[v]){for(F=T=0;F<J;++F){if('undefined'==typeof D[F])throw Error('filter `'+F+'` cannot be left undefined');var sa=D[F].count();var Ga=0;for(E in D[F])z[v].hasOwnProperty(E)&&z[v][E]===y[G][E]&&++Ga;Ga==sa&&
++T}if(T){z.splice(v,1);break}}}E=z;E.notIn=L.notIn;E.limit=L.limit;E.find=L.find;E.findOne=L.findOne;E.insert=L.insert;E.replace=L.replace;E.update=L.update;E.orderBy=L.orderBy;E.max=L.max;E.delete=L.delete;E.toRaw=L.toRaw;E.filter=L.filter;return E};L.insert=function(E){if('object'!==typeof E)throw Error('filter must be an object');var D=Array.isArray(this)?this:C;E._uuid=Ba.v4();D.push(E);D.limit=L.limit;D.find=L.find;D.findOne=L.findOne;D.update=L.update;D.replace=L.replace;D.orderBy=L.orderBy;
D.max=L.max;D.notIn=L.notIn;D.delete=L.delete;D.toRaw=L.toRaw;D.filter=L.filter;return D};L.update=function(){var E='_uuid',D,l=D=null;'string'==typeof arguments[arguments.length-1]&&(E=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(l=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(D=arguments);if('undefined'==typeof D||!D||'object'!=typeof D)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');
if('undefined'==typeof l||!l||'object'!=typeof l)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var z=Array.isArray(arguments[0])?arguments[0]:L.find.apply(this,arguments)||[];D=Array.isArray(this)?this:JSON.clone(C);if(0<z.length){z=z.toRaw();for(var y=0,G=z.length;y<G;++y){z[y]=Z(JSON.clone(l),z[y]);for(var r=0,v=D.length;r<v;++r)if('undefined'==typeof D[r][E]&&'_uuid'==E&&'undefined'!=typeof D[r].id&&(E='id'),D[r][E]==z[y][E]){D[r]=z[y];break}}}D.limit=
L.limit;D.find=L.find;D.findOne=L.findOne;D.insert=L.insert;D.update=L.update;D.replace=L.replace;D.orderBy=L.orderBy;D.max=L.max;D.notIn=L.notIn;D.delete=L.delete;D.toRaw=L.toRaw;D.filter=L.filter;return D};L.replace=function(){var E='_uuid',D,l=D=null;'string'==typeof arguments[arguments.length-1]&&(E=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(l=arguments[arguments.length-1],delete arguments[arguments.length-
1],--arguments.length);0<arguments.length&&(D=arguments);if('undefined'==typeof D||!D||'object'!=typeof D)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');if('undefined'==typeof l||!l||'object'!=typeof l)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var z=Array.isArray(arguments[0])?arguments[0]:L.find.apply(this,arguments)||[];D=Array.isArray(this)?this:JSON.clone(C);if(0<z.length){z=z.toRaw();
for(var y=0,G=z.length;y<G;++y){z[y]=JSON.clone(l);for(var r=0,v=D.length;r<v;++r){if('undefined'==typeof D[r][E]&&'_uuid'==E&&'undefined'!=typeof D[r].id)E='id';else if('undefined'==typeof D[r][E]&&'_uuid'==E)throw Error('No comparison key defined !');if(D[r][E]==z[y][E]){D[r]=z[y];break}}}}D.limit=L.limit;D.find=L.find;D.findOne=L.findOne;D.insert=L.insert;D.update=L.update;D.replace=L.replace;D.orderBy=L.orderBy;D.max=L.max;D.notIn=L.notIn;D.delete=L.delete;D.toRaw=L.toRaw;D.filter=L.filter;return D};
L['delete']=function(){var E=L.notIn.apply(this,arguments);E.limit=L.limit;E.find=L.find;E.findOne=L.findOne;E.insert=L.insert;E.update=L.update;E.replace=L.replace;E.orderBy=L.orderBy;E.max=L.max;E.notIn=L.notIn;E.toRaw=L.toRaw;E.filter=L.filter;E.delete=this.delete;return E};L.orderBy=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->orderBy(filter) ] where `filter` must not be empty or null');if(1==arguments.length)var E=arguments[0];else{E=Array(arguments.length);
for(var D=0,l=E.length;D<l;++D)E[D]=arguments[D]}D=Array.isArray(this)?this:JSON.clone(C);return O(E,D.toRaw())};L.max=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->max(filter) ] where `filter` must not be empty or null');if(1<arguments.length||Array.isArray(arguments[0])||'object'==typeof arguments[0]&&1<arguments[0].count())throw Error('[ Collection->max(filter) ] only accept one filter length, and fileter count must be equal to 1');var E=arguments[0];
try{var D=Object.keys(E)[0],l={};l[D]='desc';return L.find(E).orderBy(l).limit(1)[0][D]}catch(z){throw z;}};var O=function(E,D){if('object'!=typeof E)throw Error('`filter` parametter must be an object or an array');var l={},z=null,y=null,G=z=null;z=[];if(0==E.count())return null;l.asc=function(r,v){var F=v.map(function(J,T){var sa={};sa.index=T;sa[r]=J[r];return sa});F.sort(function(J,T){var sa=function(Ga,W){/^(true|false)$/i.test(Ga)&&(Ga=/true/i.test(Ga)?1:0);/^(true|false)$/i.test(W)&&(W=/true/i.test(W)?
1:0);return'string'==typeof Ga&&''!=Ga||'string'==typeof W?('number'==typeof Ga&&(Ga=''+Ga),'number'==typeof W&&(W=''+W),Ga.localeCompare(W,void 0,{sensitivity:'case',caseFirst:'upper'})):Ga>W?1:Ga<W?-1:0};return'object'==typeof J?sa(J[r],T[r]):sa(J,T)});return F.map(function(J,T,sa){return v[J.index]})};l.desc=function(r,v){return l.asc(r,v).reverse()};z=function(r,v){var F=[],J=[];if(Array.isArray(v))for(var T=0,sa=v.length;T<sa;++T)F[T]=Object.keys(v[T])[0],J[T]=v[T][F[T]];else for(sa in T=0,v)F[T]=
sa,J[T]=v[sa],++T;y=function(Ga,W,ia,da,wa){var ka='desc'==da[wa]?1:0,ta,Da=ta=null;return'string'==typeof Ga[ia[wa]]&&''!=Ga[ia[wa]]?(ta=Ga[ia[wa]].localeCompare(W[ia[wa]]),0==ka&&0!=ta?0>ta?-1:1:0!=ta?0>ta?1:-1:ia.length-1>wa?y(Ga,W,ia,da,wa+1):0):'number'==typeof Ga[ia[wa]]||'number'==typeof W[ia[wa]]?(ta=(''+Ga[ia[wa]]).localeCompare(''+W[ia[wa]],void 0,{numeric:!0}),0==ka&&0!=ta?0>ta?-1:1:0!=ta?0>ta?1:-1:ia.length-1>wa?y(Ga,W,ia,da,wa+1):0):'boolean'==typeof Ga[ia[wa]]||'boolean'==typeof W[ia[wa]]?
('boolean'==typeof Ga[ia[wa]]&&(ta=Ga[ia[wa]]?1:0),'boolean'==typeof W[ia[wa]]&&(Da=W[ia[wa]]?1:0),ta>Da?0==ka?1:-1:ta<Da?0==ka?-1:1:ia.length-1>wa?y(Ga,W,ia,da,wa+1):0):Ga[ia[wa]]>W[ia[wa]]?0==ka?1:-1:Ga[ia[wa]]<W[ia[wa]]?0==ka?-1:1:ia.length-1>wa?y(Ga,W,ia,da,wa+1):0};return r.sort(function(Ga,W){return y(Ga,W,F,J,0)})};Array.isArray(E)||1<E.count()?z=z(D,E):(G=Object.keys(E)[0],z=E[G],z=l[z](G,D));z.find=L.find;z.findOne=L.findOne;z.limit=L.limit;z.notIn=L.notIn;z.insert=L.insert;z.update=L.update;
z.replace=L.replace;z.delete=L.delete;z.orderBy=L.orderBy;z.max=L.max;z.toRaw=L.toRaw;z.filter=L.filter;return z};L.toRaw=function(){for(var E=Array.isArray(this)?this:C,D=0,l=E.length;D<l;++D)E[D]._uuid&&delete E[D]._uuid;return JSON.clone(E)};L.filter=function(E){if('undefined'==typeof E)throw Error('`filter` parametter must be a string or an array.');var D=Array.isArray(this)?this:C;if(!D.length)return[];var l=0,z=D.length,y=[],G=0;if(Array.isArray(E))for(var r,v=E.length,F;l<z;++l){F=!1;for(r=
0;r<v;++r)'undefined'!=typeof D[l][E[r]]&&('undefined'==typeof y[G]&&(y[G]={}),y[G][E[r]]=D[l][E[r]],F=!0);F&&++G}else for(;l<z;++l)'undefined'!=typeof D[l][E]&&('undefined'==typeof y[G]&&(y[G]={}),y[G][E]=D[l][E],++G);return JSON.clone(y)};return L}'undefined'!==typeof module&&module.exports?module.exports=Collection:'function'===typeof define&&define.amd&&define('lib/collection',[],function(){return Collection});
function FormValidatorUtil(C,R,ha,Ba){var Z='undefined'!==typeof module&&module.exports?!1:!0,N=Z?require('lib/merge'):require('../../../../../lib/merge');Z||require('../../../../../helpers');Z&&require('helpers/dateFormat');var na=Z?require('lib/routing'):require('../../../../../lib/routing'),S=function(){var l=!1,z=null;Z?Z&&'undefined'!=typeof gina.forms&&(z=gina.forms):z=getContext('gina').forms||null;z&&'undefined'!=typeof z.validators&&(l=!0);return l},U={errors:{},keys:{'%l':'label','%n':'name',
'%s':'size'},data:{},excluded:[],errorLabels:{is:'Condition not satisfied',isEmail:'A valid email is required',isRequired:'Cannot be left empty',isBoolean:'Must be a valid boolean',isNumber:'Must be a number: allowed values are integers or floats',isNumberLength:'Must contain %s characters',isNumberMinLength:'Should be at least %s characters',isNumberMaxLength:'Should not be more than %s characters',isInteger:'Must be an integer',isIntegerLength:'Must have %s characters',isIntegerMinLength:'Should be at least %s characters',
isIntegerMaxLength:'Should not be more than %s characters',toInteger:'Could not be converted to integer',isFloat:'Must be a proper float',isFloatException:'Float exception found: %n',toFloat:'Could not be converted to float',toFloatNAN:'Value must be a valid number',isDate:'Must be a valid Date',isString:'Must be a string',isStringLength:'Must have %s characters',isStringMinLength:'Should be at least %s characters',isStringMaxLength:'Should not be more than %s characters',isJsonWebToken:'Must be a valid JSON Web Token',
query:'Must be a valid response',isApiError:'Condition not satisfied'}},q=null;if(C)q=N(JSON.clone(C),q),U.data=N(JSON.clone(C),U.data);else throw Error('missing data param');var I=function(l,z){var y=null;for(let G in Ba)if(Ba[G].name===z){y=(new DOMParser).parseFromString(l.innerHTML,'text/html').getElementById(Ba[G].id);break}if(y)return y;throw Error('Field `'+z+'` not found in fieldsSet');},p=function(l){var z;var y='';var G=l.length;for(z=0;z<G;){var r=l[z++];switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:y+=
String.fromCharCode(r);break;case 12:case 13:var v=l[z++];y+=String.fromCharCode((r&31)<<6|v&63);break;case 14:v=l[z++];var F=l[z++];y+=String.fromCharCode((r&15)<<12|(v&63)<<6|(F&63)<<0)}}return y},ca=function(l,z){z=l.match(/\{\{([^{{}}]+)\}\}/g);for(let y=0,G=z.length;y<G;y++){let r=z[y].replace(/\[/g,'["').replace(/\]/g,'"]').replace(/\{|\}/g,'').trim();try{r=eval('data.'+r).replace(/^"|"$/g,''),l=l.replace(new RegExp(z[y].replace(/\{|\[|\]|\}/g,'\\$&'),'g'),r)}catch(v){}}return l},Fa=function(l,
z){var y=q[this.name].errors||{},G=this.target.id||this.target.getAttribute('id');if(q.isValid()){var r=this.target.dataset.ginaFormValidatorTestedValue;console.debug('[ '+this.name+' ]','TESTED VALUE -> '+this.value+' vs '+r);G='asyncCompleted.'+G;var v=this.target.form.getAttribute('id'),F='undefined'!=typeof gina.validator&&'undefined'!=typeof gina.validator.$forms[v]&&'undefined'!=typeof gina.validator.$forms[v].cachedErrors?gina.validator.$forms[v].cachedErrors:null;if(!r||'undefined'==typeof r||
r!==this.value)this.target.dataset.ginaFormValidatorTestedValue=this.value,F&&'undefined'!=typeof F[this.name]&&'undefined'!=typeof F[this.name].query&&(delete F[this.name].query,'undefined'!=typeof gina.validator.$forms[v]&&'undefined'!=typeof gina.validator.$forms[v].errors&&delete gina.validator.$forms[v].errors.query);else if(r===this.value){var J=!1;F&&'undefined'!=typeof F[this.name]&&'undefined'!=typeof F[this.name].query&&'undefined'!=typeof F[this.name].query[this.value]&&(this.error=z=F[this.name].query[this.value].slice(0),
J=!0);y.query=D(this.error||z||U.errorLabels.query,this);console.debug('[2] potential cached error detected !! ',J,F,' vs ',y.query);J&&(this.errors=y,this.valid=!1);'undefined'!=typeof gina.events[G]&&triggerEvent(gina,this.target,G,q[this.name]);return q[this.name]}var T=null,sa=this;if(window.XMLHttpRequest)T=new XMLHttpRequest;else if(window.ActiveXObject)try{T=new ActiveXObject('Msxml2.XMLHTTP')}catch(wa){try{T=new ActiveXObject('Microsoft.XMLHTTP')}catch(ka){}}z={isSynchrone:!1,headers:{}};
r=l.data||null;y=null;G=/^true$/i.test(this.target.form.dataset.ginaFormLiveCheckEnabled)?!0:!1;y=JSON.stringify(r);if(/\$/.test(y)){r=y.match(/\$[-_\[\]a-z 0-9]+/g)||[];v=F=null;for(let wa=0,ka=r.length;wa<ka;wa++)v=r[wa].replace(/\$/g,''),re=new RegExp('\\'+r[wa].replace(/\[|\]/g,'\\$&'),'g'),F=U.data[v]||null,!F&&G&&(F=I(this.target.form,v).value),y=y.replace(re,F)}r=y.replace(/\\"/g,'');var Ga='undefined'==typeof l.validIf?!0:l.validIf;z=N(z,l,ha);delete z.data;delete z.validIf;y=z.headers['Content-Type'];
var W=null;G=this.target.getAttribute('id');if(!/^http/.test(z.url)&&/@/.test(z.url))try{J=na.getRoute(z.url),z.url=J.toUrl()}catch(wa){throw wa;}if(z.withCredentials){if('withCredentials'in T)z.isSynchrone?T.open(z.method,z.url,z.isSynchrone):T.open(z.method,z.url);else if('undefined'!=typeof XDomainRequest)T=new XDomainRequest,T.open(z.method,z.url);else throw T=null,W='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ',Error(W);T.responseType='undefined'!=
typeof z.responseType?z.responseType:'';T.withCredentials=!0}else z.isSynchrone?T.open(z.method,z.url,z.isSynchrone):T.open(z.method,z.url);for(var ia in z.headers)'Content-Type'==ia&&'undefined'!=typeof y&&null!=y&&''!=y||T.setRequestHeader(ia,z.headers[ia]);'undefined'!=typeof y&&null!=y&&''!=y&&T.setRequestHeader('Content-Type',y);var da=function(wa){sa.value=U.data[sa.name]=sa.value?sa.value.toLowerCase():sa.value;var ka=wa.isValid||!1;ka=Ga!=ka?!1:!0;q[sa.name].valid=ka;var ta=q[sa.name].errors||
{},Da='undefined'!=typeof wa.error&&'undefined'!=typeof wa.fields?wa.fields:{};if(0<Da.count()&&!ka||!ka){if(!ka){var Qa=null;'undefined'!=typeof Da[sa.name]?U.errorLabels.query=ca(Da[sa.name],l.data):'undefined'!=typeof wa.error&&/^5/.test(wa.status)&&(Qa=wa.error);ta.query=D(Qa||sa.error||U.errorLabels.query||l.error,sa);console.debug('[1] query error detected !! ',wa)}ta.query||''!=sa.value||(ka=!0)}ka&&'undefined'!=typeof ta.query&&delete ta.query;sa.valid=ka;wa=gina.validator.$forms[sa.target.form.getAttribute('id')].cachedErrors||
{};0<ta.count()?(sa.errors=ta,'undefined'==typeof q[sa.name].errors&&(q[sa.name].errors={}),q[sa.name].errors=N(q[sa.name].errors,ta),'undefined'!=typeof ta.query&&ta.query&&('undefined'==typeof wa[sa.name]&&(wa[sa.name]={}),'undefined'==typeof wa[sa.name].query&&(wa[sa.name].query={}),wa[sa.name].query[sa.value]=ta.query.slice(0)),ta=sa.target.getAttribute('data-gina-form-errors'),/query/.test(ta)||sa.target.setAttribute('data-gina-form-errors',ta&&''!=ta?ta+' query':'query')):'undefined'!=typeof wa[sa.name]&&
'undefined'!=typeof wa[sa.name].query&&'undefined'!=typeof wa[sa.name].query[sa.value]&&delete wa[sa.name].query[sa.value];ta=sa.target.id||sa.target.getAttribute('id');console.debug('prematurely completed event `asyncCompleted.'+ta+'`');return triggerEvent(gina,sa.target,'asyncCompleted.'+ta,q[sa.name])};T&&(T.onerror=function(wa,ka){console.debug('query error [2] detected !! ',ka,'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.');isOnException=
!0;wa=this.getResponseHeader('Content-Type');if(/\/json/.test(wa))wa=JSON.parse(this.responseText),'undefined'==typeof wa.status&&(wa.status=this.status);else if(wa={status:T.status,message:''},/^(\{|\[)/.test(T.responseText))try{wa=N(wa,JSON.parse(T.responseText))}catch(ta){wa=N(wa,ta)}return da(wa)},T.onload=function(){try{W=this.responseText;var wa=this.getResponseHeader('Content-Type');if(/\/json/.test(wa))W=JSON.parse(this.responseText),'undefined'==typeof W.status&&(W.status=this.status);else if(W=
{status:T.status,message:''},/^(\{|\[)/.test(T.responseText))try{W=N(W,JSON.parse(T.responseText))}catch(ka){W=N(W,ka)}return da(W)}catch(ka){throw ka;}},C?T.send(r):T.send())}else console.debug('stopping on errors ...'),triggerEvent(gina,this.target,'asyncCompleted.'+G,q[this.name])},L=async function(l,z,y,G){var r=(new (require(_(GINA_FRAMEWORK_DIR+'/core/config.js',!0)))).getInstance(),v=null,F=null,J=null,T=getContext('bundle');if(/@/.test(l.url)){var sa=l.url.split(/@/);F=sa[0];J=sa[1];getConfig(T,
'app');try{r.bundle!==J&&(v=getConfig(T,'app').proxy[J])}catch(da){throw Error('Could not retrieve `proxy` configuration for bundle `'+J+'`. Please check your `/config/app.json`.\n'+da.stack);}sa=null}else throw Error('external url/domain not  handled at this moment, please contact us if you need support for it.');sa=JSON.clone(na.getRoute(l.url,l.data));var Ga=r[J][r.env];v||(r.bundle==J&&(v=getConfig(T,'settings').server.credentials,l.ca=v.ca||null,l.hostname=Ga.server.scheme+'://'+Ga.host,l.port=
Ga.port[Ga.server.protocol][Ga.server.scheme],l.protocol=Ga.server.protocol,l.rejectUnauthorized=!1),v={ca:l.ca,hostname:l.hostname,port:l.port,path:l.path},'undefined'!=typeof l.protocol&&(v.protocol=l.protocol),'undefined'!=typeof l.rejectUnauthorized&&(v.rejectUnauthorized=l.rejectUnauthorized));F={method:sa.method,requirements:sa.requirements,namespace:sa.namespace||void 0,url:decodeURI(sa.url),rule:F+'@'+J,param:JSON.clone(sa.param),middleware:JSON.clone(sa.middleware),bundle:sa.bundle,isXMLRequest:z.isXMLRequest,
isWithCredentials:z.isWithCredentials};J=F.rule.replace('@'+J,'')||'_common';J={template:'undefined'!=typeof Ga.content.templates?Ga.content.templates[J]||Ga.content.templates._common:void 0,cacheless:Ga.cacheless};J=N(J,F);Ga=JSON.clone(Ga);J.conf=Ga;J.conf.content.routing[J.rule].param=F.param;J.template&&'undefined'==typeof J.template.ginaLoader&&(J.template.ginaLoader=J.conf.content.templates._common.ginaLoader);J.conf.content.routing[J.rule].param=F.param;delete J.middleware;delete J.param;delete J.requirements;
Ga=new (require(_(GINA_FRAMEWORK_DIR+'/core/controller/controller.js'),!0))(J);Ga.name=sa.param.control;Ga.setOptions(z,y,G,J);z='object'==typeof l.data&&0<l.data.count()?l.data:{};if(/^get|delete|put$/i.test(l.method)){y=0;for(let da in z)'object'==typeof z[da]&&encodeRFC5987ValueChars(JSON.stringify(z[da])),y++}v.method=l.method;v.path=sa.url;l=require('util').promisify;var W={isValid:!1},ia=!1;await l(Ga.query)(v,z).then(function(da){W=da}).catch(function(da){ia=da});ia&&(console.error(ia),W.error=
ia);return W},O=null;O=Z?Fa:L;var E=function(l,z){var y=null,G=null;'undefined'==typeof q[l]&&'undefined'!=typeof z&&(q[l]=y=z);if('object'==typeof q[l])try{y=JSON.parse(JSON.stringify(q[l]))}catch(r){y=q[l]}else y=q[l];G='';Z&&'undefined'!=typeof R&&(G=R[l].getAttribute('data-gina-form-field-label')||'');q[l]={target:Z&&'undefined'!=typeof R?R[l]:null,name:l,value:y,valid:!1,label:G,exclude:!1};q[l].is=function(r,v,F){var J=!1,T='undefined'!=typeof window&&'undefined'!=typeof window._currentValidatorAlias?
window._currentValidatorAlias:'is';'undefined'!=typeof window&&window._currentValidatorAlias&&delete window._currentValidatorAlias;var sa=q[this.name].errors||{};U.data[this.name]=q[this.name].value;'undefined'==typeof sa.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value||!sa.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value?J=!0:sa.isRequired||'string'!=typeof this.value||''!=this.value||(J=!0);if(!J&&/^(true|false)$/i.test(r))J=r;else if(!J){var Ga=null,
W=null;if(/[!=>><a-z 0-9]+/i.test(r)){if((W=r.match(/\${0}[-_,.\[\]a-z0-9]+/ig))&&0<W.length){for(var ia=0,da=W.length;ia<da;++ia)'undefined'!=typeof q[W[ia]]&&W[ia]&&(Ga=new RegExp('\\$'+W[ia]+'(?!\\S+)','g'),r=''==q[W[ia]].value?r.replace(Ga,'""'):'string'==typeof q[W[ia]].value?r.replace(Ga,'"'+q[W[ia]].value+'"'):r.replace(Ga,q[W[ia]].value));try{r=r.replace(/(\(|\)|return)/g,''),J=/^\//.test(r)?eval(r+'.test("'+this.value+'")'):eval(r)}catch(wa){throw Error(wa.stack||wa.message);}}}else if(r instanceof
RegExp)J=r.test(this.value)?!0:!1;else if('boolean'==typeof r)J=r?!0:!1;else try{/\/(.*)\//.test(r)?(Ga=r.match(/\/(.*)\//).pop(),W=r.replace('/'+Ga+'/',''),J=(new RegExp(Ga,W)).test(this.value)):J=eval(r)}catch(wa){throw Error(wa.stack||wa.message);}}J?J&&'undefined'!=typeof sa[T]&&delete sa[T]:(sa[T]=D(this.error||v||U.errorLabels[T],this),'undefined'!=typeof F&&(sa.stack=F));this.valid=J;0<sa.count()&&(this.errors=sa);return q[this.name]};q[l].set=function(r){this.value=U.data[this.name]=r;this.target.setAttribute('value',
r);return q[this.name]};q[l].isEmail=function(){this.value=U.data[this.name]=this.value?this.value.toLowerCase():this.value;Z&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.value)?!0:!1,v=q[this.name].errors||{};v.isRequired||''!=this.value||(r=!0);r?r&&'undefined'!=typeof v.isEmail&&
delete v.isEmail:v.isEmail=D(this.error||U.errorLabels.isEmail,this);this.valid=r;0<v.count()&&(this.errors=v);return q[this.name]};q[l].isJsonWebToken=function(){this.value=U.data[this.name]=this.value?this.value.toLowerCase():this.value;Z&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var r=/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/.test(this.value)?!0:!1,v=q[this.name].errors||{};v.isRequired||''!=this.value||(r=!0);r?r&&'undefined'!=
typeof v.isJsonWebToken&&delete v.isJsonWebToken:v.isJsonWebToken=D(this.error||U.errorLabels.isJsonWebToken,this);this.valid=r;0<v.count()&&(this.errors=v);return q[this.name]};q[l].isBoolean=function(){var r=null,v=q[this.name].errors||{};v.isRequired&&0==this.value&&(delete v.isRequired,this.errors=v);switch(this.value){case 'true':case !0:case 1:r=this.value=U.data[this.name]=!0;break;case 'false':case !1:case 0:r=this.value=U.data[this.name]=!1}(r=null!==r?!0:!1)?r&&'undefined'!=typeof v.isBoolean&&
delete v.isBoolean:v.isBoolean=D(this.error||U.errorLabels.isBoolean,this);this.valid=r;0<v.count()&&(this.errors=v);return q[this.name]};q[l].isNumber=function(r,v){var F=this.value,J=!1,T=!0,sa=!0,Ga=q[this.name].errors||{};try{'string'==typeof F&&/,|\./g.test(F)?F=U.data[this.name]=this.value=parseFloat(F.replace(/,/g,'.').replace(/\s+/g,'')):'string'==typeof F&&''!=F&&(F=U.data[this.name]=this.value=parseInt(F.replace(/\s+/g,'')))}catch(ia){Ga.isNumber=D(this.error||U.errorLabels.isNumber,this),
this.valid=!1,0<Ga.count()&&(this.errors=Ga)}if(+F===+F&&(J=!0,!Ga.isRequired&&''!=F)){var W=F.toString().length;r&&'number'==typeof r&&W<r&&(T=!1,this.size=r);v&&'number'==typeof v&&W>v&&(sa=!1,this.size=v)}J&&T&&sa||(J||(Ga.isNumber=D(this.error||U.errorLabels.isNumber,this)),T&&sa||(T||(Ga.isNumberLength=D(this.error||U.errorLabels.isNumberMinLength,this)),sa||(Ga.isNumberLength=D(this.error||U.errorLabels.isNumberMaxLength,this)),r===v&&(Ga.isNumberLength=D(this.error||U.errorLabels.isNumberLength,
this))),J=!1);J&&'undefined'!=typeof Ga.isNumberLength&&delete Ga.isNumberLength;this.valid=J;this.value=U.data[this.name]=''!=F?Number(F):F;0<Ga.count()&&(this.errors=Ga);return q[this.name]};q[l].toInteger=function(){var r=this.value,v=q[this.name].errors||{};if(r)try{this.value=U.data[this.name]=Math.round(r)}catch(F){v.toInteger=D(this.error||U.errorLabels.toInteger,this),this.valid=!1,0<v.count()&&(this.errors=v)}return q[this.name]};q[l].isInteger=function(r,v){var F=this.value,J=!1,T=!0,sa=
!0,Ga=q[this.name].errors||{};+F===+F&&0===F%1&&(J=!0,Ga.isRequired||''==F||(r&&'number'==typeof r&&F.length<r&&(T=!1,this.size=r),v&&'number'==typeof v&&F.length>v&&(sa=!1,this.size=v)));J&&T&&sa||(J||(Ga.isInteger=D(this.error||U.errorLabels.isInteger,this)),T&&sa||(T||(Ga.isIntegerLength=D(this.error||U.errorLabels.isIntegerMinLength,this),J=!1),sa||(Ga.isIntegerLength=D(this.error||U.errorLabels.isIntegerMaxLength,this),J=!1),r===v&&(Ga.isIntegerLength=D(this.error||U.errorLabels.isIntegerLength,
this),J=!1)));this.valid=J;this.value=U.data[this.name]=Number(F);0<Ga.count()&&(this.errors=Ga);return q[this.name]};q[l].toFloat=function(r){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''),/,/.test(this.value)&&!/\./.test(this.value)?this.value=this.value.replace(/,/g,'.'):this.value=this.value.replace(/,/g,''));var v=U.data[this.name]=this.value,F=q[this.name].errors||{},J=!0;r?this.decimals=parseInt(r):'undefined'==typeof this.decimals&&(this.decimals=2);if(v)if(this.isNumber().valid)try{Number.isFinite(v)||
(v=this.value=U.data[this.name]=new Number(parseFloat(v.match(/[0-9.,]+/g).join('').replace(/,/,'.')))),Z&&this.target.setAttribute('value',v)}catch(T){J=!1,F.toFloat=D(this.error||U.errorLabels.toFloat,this),this.valid=!1,0<F.count()&&(this.errors=F)}else J=!1,F.toFloat=D(this.error||U.errorLabels.toFloatNAN,this);else return q[this.name];this.decimals&&v&&!F.toFloat&&(this.value=U.data[this.name]=parseFloat(this.value.toFixed(this.decimals)));this.valid=J;0<F.count()&&(this.errors=F);return q[this.name]};
q[l].isFloat=function(r){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''));var v=U.data[this.name]=this.value;r=q[this.name].errors||{};'string'==typeof v&&/\./.test(v)&&Number.isFinite(Number(v));'string'==typeof v&&/,/g.test(v)&&(v=this.value=U.data[this.name]=Number(v.replace(/,/g,'.')));Number(v)===v&&0!==v%1?(this.value=U.data[this.name]=Number(v),v=!0):v=!1;r.isRequired||''!=this.value||(v=!0);v||(r.isFloat=D(this.error||U.errorLabels.isFloat,this));this.valid=v;0<r.count()&&
(this.errors=r);return q[this.name]};q[l].isRequired=function(r){if('boolean'==typeof r&&!r)return this.valid=!0,r=U.excluded.indexOf(this.name),-1<r&&U.excluded.splice(r,1),q[this.name];if(Z&&this.target&&'INPUT'==this.target.tagName&&'undefined'!=typeof this.target.type&&'radio'==this.target.type){r=document.getElementsByName(this.name);for(var v=0,F=r.length;v<F;++v)if(r[v].checked){/true|false/.test(r[v].value)?this.value=U.data[this.name]=/true/.test(r[v].value)?!0:!1:this.value=U.data[this.name]=
r[v].value;this.valid=!0;break}}r='undefined'==typeof this.value||null==this.value||''==this.value||/^\s+/.test(this.value)?!1:!0;v=q[this.name].errors||{};r?r&&'undefined'!=typeof v.isRequired&&delete v.isRequired:v.isRequired=D(this.error||U.errorLabels.isRequired,this);this.valid=r;0<v.count()&&(this.errors=v);return q[this.name]};q[l].isString=function(r,v){var F=U.data[this.name]=this.value,J=!1,T=!0,sa=!0,Ga=q[this.name].errors||{};'string'!=typeof F||Ga.isRequired||''==F||(J=!0,r&&'number'==
typeof r&&F.length<r&&(T=!1,this.size=r),v&&'number'==typeof v&&F.length>v&&(sa=!1,this.size=v));J&&T&&sa||(!J&&Ga.isRequired&&''==F?(J=!1,Ga.isString=D(this.error||U.errorLabels.isString,this)):J||Ga.isRequired||(J=!0),T&&sa||(J=!1,T||(Ga.isStringLength=D(this.error||U.errorLabels.isStringMinLength,this)),sa||(Ga.isStringLength=D(this.error||U.errorLabels.isStringMaxLength,this)),r===v&&(Ga.isStringLength=D(this.error||U.errorLabels.isStringLength,this))));this.valid=J;0<Ga.count()&&(this.errors=
Ga);return q[this.name]};q[l].isDate=function(r){var v=this.value,F=!1,J=q[this.name].errors||{},T=null;if(!v||''==v||/NaN|Invalid Date/i.test(v))return/NaN|Invalid Date/i.test(v)&&(console.warn('[FormValidator::isDate] Provided value for field `'+this.name+'` is not allowed: `'+v+'`'),J.isDate=D(this.error||U.errorLabels.isDate,this)),this.valid=F,0<J.count()&&(this.errors=J),q[this.name];if('undefined'==typeof r||'undefined'!=typeof r&&/true/i.test(r))r='yyyy-mm-dd';if(v instanceof Date)v=v.format(r);
else{try{T=r.match(/[^\/\- ]+/g)}catch(da){throw Error('[FormValidator::isDate] Provided mask not allowed: `'+r+'`');}try{v=v.match(/[^\/\- ]+/g);var sa={},Ga;var W=0;for(Ga=T.length;W<Ga;++W)sa[T[W]]=v[W];for(var ia in sa)r=r.replace(new RegExp(ia,'g'),sa[ia])}catch(da){throw Error('[FormValidator::isDate] Provided value not allowed: `'+v+'`'+da);}v=this.value=U.data[this.name]=new Date(r);if(/Invalid Date/i.test(v)||!1===v instanceof Date)return J.isRequired||''!=this.value?J.isDate=D(this.error||
U.errorLabels.isDate,this):F=!0,this.valid=F,0<J.count()&&(this.errors=J),q[this.name];F=!0}this.valid=F;return v};q[l].format=function(r,v){var F=this.value;return F?F.format(r,v):q[this.name]};q[l].setFlash=function(r,v){'undefined'!=typeof v&&''!=v&&(this.error=v);return q[this.name]};q[l].setLabel=function(r){'undefined'!=typeof r&&''!=r&&(this.label=r);return q[this.name]};q[l].trim=function(r){if('boolean'==typeof r&&r)return this.value=this.value.replace(/^\s+|\s+$/,''),U.data[this.name]=U.data[this.name]=
this.value,q[this.name]};q[l].exclude=function(r){if('boolean'==typeof r&&!r)return/^true|false$/i.test(this.value)&&(this.value=/^true$/i.test(this.value)?!0:!1,U.data[this.name]=this.value),q[this.name];this.isExcluded=!1;0>U.excluded.indexOf(this.name)&&(U.excluded.push(this.name),this.isExcluded=!0);return q[this.name]};q[l].query=O;q[l].getValidationContext=function(){return{isGFFCtx:Z,self:q,local:U,replace:D}};if(S()){y=z=null;try{for(let r in gina.forms.validators)y='/validators/'+r+'/main.js',
U.errorLabels[r]='Condition not satisfied',Z?(z=p(gina.forms.validators[r].data),z=z.replace(/(\)\s+\{|\)\{){1}/,'$&\n\tvar validationContext = this.getValidationContext(),isGFFCtx = validationContext.isGFFCtx,self = validationContext.self,local = validationContext.local,replace = validationContext.replace;')):z=gina.forms.validators[r].toString(),q[l][r]=eval('('+z+')\n//# sourceURL='+r+'.js')}catch(r){throw Error('[UserFormValidator] Could not evaluate: `'+y+'`\n'+r.stack);}}};for(let l in q)E(l,
q[l]);q.addField=function(l,z){'undefined'==typeof q[l]&&E(l,z)};q.isValid=function(){return 0<q.getErrors().count()?!1:!0};q.setErrors=function(l){if(!l)return{};for(var z in q)if('object'==typeof q[z]){for(var y in q[z])'object'==typeof l[z]&&'undefined'!=typeof l[z][y]&&('undefined'!=typeof q[z].valid&&/^true$/i.test(q[z].valid)?delete l[z][y]:('undefined'==typeof q[z].errors&&(q[z].errors={}),q[z].errors[y]=l[z][y]));('undefined'==typeof q[z].errors&&'undefined'!=typeof l[z]||'undefined'!=typeof q[z].errors&&
0==q[z].errors.count()&&'undefined'!=typeof l[z])&&delete l[z]}return l};q.getErrors=function(l){var z={};if('undefined'!=typeof l)return'undefined'!=typeof q[l]&&q[l]&&'undefined'!=typeof q[l].errors&&0<q[l].errors.count()&&(z[l]=q[l].errors),z;for(var y in q)'object'==typeof q[y]&&'undefined'!=typeof q[y].errors&&0<q[y].errors.count()&&(z[y]=q[y].errors);return z};q.toData=function(){if(0<U.excluded.length)for(var l=0,z=U.excluded.length;l<z;++l)'undefined'!=typeof U.data[U.excluded[l]]&&delete U.data[U.excluded[l]];
return U.data};var D=function(l,z){var y=l.match(/%[a-z]+/gi);if(y)for(var G=0,r=y.length;G<r;++G)l=l.replace(new RegExp(y[G],'g'),z[U.keys[y[G]]]);return l};q.setErrorLabels=function(l){'undefined'!=typeof l&&(U.errorLabels=N(l,U.errorLabels))};return q}'undefined'!==typeof module&&module.exports?module.exports=FormValidatorUtil:'function'===typeof define&&define.amd&&define('lib/form-validator',[],function(){return FormValidatorUtil});
function Routing(){var C='undefined'!==typeof module&&module.exports?!1:!0,R={allowedMethods:['get','post','put','delete'],reservedParams:['controle','file','title','namespace','path'],notFound:{}};R.allowedMethodsString=R.allowedMethods.join(',');var ha=null,Ba=null,Z=null;C?(Ba&&'function'==typeof Ba||(Ba=require('lib/merge')),Z&&'function'==typeof Z||(Z=require('lib/form-validator'))):(require('fs'),require('util'),require('../../inherits'),Ba=require('../../merge'),ha=require(__dirname+'/../../../core/plugins')||
getContext('gina').plugins,Z=ha.Validator);R.getUrlProps=function(q,I){var p={};if(C){var ca=window.gina.config;p.hostname=ca.hostname;'undefined'!=typeof q&&(q=routing.getRoute('webroot@'+q),p.hostname=q.hostname,p.host=q.host,p.webroot=q.webroot)}else ca=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(ca.getRouting=getContext('gina').Config.instance.getRouting),'undefined'==typeof q&&(q=ca.bundle),'undefined'==typeof I&&(I=ca.env),p.hostname=ca.envConf[q][I].hostname,
p.host=ca.envConf[q][I].host,p.webroot=ca.envConf[q][I].server.webroot;return p};R.compareUrls=async function(q,I,p,ca,Fa){'undefined'==typeof p&&(p={routing:{}});if(/,/.test(I)){var L=0;I=I.split(/,/g);for(var O=I.length,E={past:!1,request:p};L<O&&!E.past;)E=await N(q,I[L],p,ca,Fa),++L;return E}return await N(q,I,p,ca,Fa)};var N=async function(q,I,p,ca,Fa){var L=q.url.split(/\//);I=I.split(/\//);var O=0,E=0,D=I.length,l=0,z={},y=0,G=p.method.toLowerCase(),r=q.method.toLowerCase(),v=!1;if('undefined'!=
typeof q.requirements&&/get|delete/i.test(G)&&'undefined'!=typeof p[G]||'undefined'!=typeof q.requirements&&/get/i.test(G)&&/delete/i.test(r)){/get/i.test(G)&&/delete/i.test(r)&&(G=r);if(/^(delete)$/i.test(G)&&L.length===I.length){'undefined'==typeof p[G]&&(p[G]={});for(let T=0,sa=I.length;T<sa;T++)if(L[T]===I[T])++l;else if(r=I[T].substr(1),'undefined'!=typeof q.requirements[r]){r=q.requirements[r];if(/^\//.test(r))r=r.substr(1,r.lastIndexOf('/')-1);else if(/^validator::/.test(r)&&await na(I[T],
L[T],q,p,ca,Fa)){++l;continue}/^:/.test(I[T])&&'undefined'!=typeof r&&(new RegExp(r)).test(L[T])&&(++l,p[G][I[T].substr(1)]=L[T])}v=!0}for(var F in p[G])'undefined'!=typeof q.requirements[F]&&0>I.indexOf(':'+F)&&(I[E]=':'+F,++E,L[O]=p[G][F],++O,v||L.length!==I.length||++D)}if(!v&&L.length===I.length)for(;y<D;++y)L[y]===I[y]?++l:l==y&&/:/.test(I[y])&&await na(I[y],L[y],q,p,ca,Fa)&&++l;if('undefined'!=typeof q.requirements&&G==q.method.toLowerCase()&&!v&&l>=D)for(F=Object.getOwnPropertyNames(q.requirements),
O=0,I.join(',').match(/:[-_a-z0-9]+/g);O<F.length;){E=F[O];if('undefined'==typeof q.param[E]&&/^validator::/i.test(q.requirements[E])){if(I.length!=L.length)break;var J=I.join(',').match(/:[-_a-z0-9]+/g);let T=q.requirements[E];y={};r={};v={};try{r=JSON.parse(T.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(sa){throw sa;}if('undefined'!=typeof r.query&&'undefined'!=typeof r.query.data){y=r.query.data;for(let sa in y)0>J.indexOf(y[sa])&&
delete y[sa];for(let sa=0,Ga=I.length;sa<Ga;sa++)/^:/.test(I[sa])&&(J=I[sa].replace(/^:/,''),''!=J&&'undefined'!=typeof L[sa]&&(y[J]=L[sa],'undefined'==typeof p.params[J]&&(p.params[J]=L[sa])))}y=Ba(y,JSON.clone(p[G])||{});'undefined'==typeof y[E]&&(y[E]=null);v[E]=r;_validator=C?new Z(y):new Z('routing',y,null,v);if(0==r.count()){console.error('Route validation failed '+q.rule);--l;O++;continue}for(let sa in r)if('undefined'!=typeof r[sa].data&&(r[sa].data=y),v=Array.isArray(r[sa])?await _validator[E][sa].apply(_validator[E],
r[sa]):await _validator[E][sa](r[sa],p,ca,Fa),!v.isValid&&(--l,'undefined'!=typeof v.error))throw v.error;}O++}z.past=l===D?!0:!1;z.past&&(p.routing=U(q,p[G]),z.request=p);return z},na=async function(q,I,p,ca,Fa,L){var O=-1,E=q.match(/:\w+/g);O=new RegExp(q,'g');var D=null,l=null,z=null;D=!1;var y=D=l=l=null,G=null,r=ca.method.toLowerCase();if(!E.length)return!1;p.param.path&&O.test(p.param.path)&&(p.param.path=p.param.path.replace(O,I));p.param.namespace&&O.test(p.param.namespace)&&(p.param.namespace=
p.param.namespace.replace(O,I));'undefined'!=typeof p.param.file&&/:/.test(p.param.file)&&(D=new RegExp('(:'+q+'/|:'+q+'$)','g'),S.variable=I,p.param.file=p.param.file.replace(D,S));p.param.title&&O.test(p.param.title)&&(p.param.title=p.param.title.replace(O,I));if(1==E.length){D=new RegExp(E[0]);O=-1<E.indexOf(q)?E.indexOf(q):!1;!1===O&&q.match(D)&&(O=0);if(!1===O)return O;if(p.method.toLowerCase()!==r)return!1;'undefined'==typeof ca[r]&&(ca[r]={});z=E[O].substr(1);O=p.requirements[z];if(/^\//.test(O))D=
O.match(/\/(.*)\//).pop(),l=O.replace('/'+D+'/',''),D=(new RegExp(D,l)).test(I);else if(/^validator::/.test(O)&&I){l={};D={};y={};G='';q.replace(new RegExp('[^'+z+']','g'),function(sa){G+=sa});l[z]=I.replace(new RegExp(G,'g'),'');try{D=JSON.parse(O.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(sa){throw sa;}'undefined'!=typeof D.query&&'undefined'!=typeof D.query.data&&q==D.query.data[Object.keys(D.query.data)[0]]&&(D.query.data[Object.keys(D.query.data)[0]]=
l[z],ca.params[z]=l[z]);y[z]=D;l=new Z('routing',l,null,y);if(0==D.count())return console.error('Route validation failed '+p.rule),!1;for(var v in D)Array.isArray(D[v])?await l[z][v].apply(l[z],D[v]):await l[z][v](D[v],ca,Fa,L);D=l.isValid()}else D=(new RegExp(p.requirements[z])).test(I);if('undefined'!=typeof p.param[z]&&'undefined'!=typeof p.requirements&&'undefined'!=typeof p.requirements[z]&&'undefined'!=typeof ca.params&&D)return ca.params[z]=I,'undefined'==typeof ca[r][z]&&(ca[r][z]=I),!0}else{Fa=
p.url;L=ca.url;r={};y='';var F=!1,J=0;v=0;for(var T=L.length;v<T;++v)if(L.charAt(v)!=Fa.charAt(J)||F){if(''==y)F=!0,y+=L.charAt(v);else if(v>Fa.indexOf(E[0])+E[0].length){O=p.requirements[E[0]];I=y.substr(0,y.length);if(/^\//.test(O))D=O.match(/\/(.*)\//).pop(),l=O.replace('/'+D+'/',''),D=(new RegExp(D,l)).test(I);else if(/^validator::/.test(O)){l={};D={};y={};G='';q.replace(new RegExp('[^'+z[0]+']','g'),function(sa){G+=sa});l[z[0]]=I.replace(new RegExp(G,'g'),'');D=JSON.parse(O.split(/::/).splice(1)[0].replace(/([^\W+ true false])+(\w+)/g,
'"$&"'));y[z[0]]=D;l=new Z('routing',l,null,y);for(let sa in D)if(Array.isArray(D[sa]))l[z[0]][sa].apply(l[z[0]],D[sa]);else l[z[0]][sa](D[sa]);D=l.isValid()}else D=(new RegExp(p.requirements[z[0]])).test(I);if(D)r[E[0].substr(1)]=I;else return!1;y='';F=!1;J=Fa.indexOf(E[0])+E[0].length;--v;E.splice(0,1)}else y+=L.charAt(v),++J;if(v==T-1)if(O=p.requirements[E[0]],I=y.substr(0,y.length),/^\//.test(O)?(D=O.match(/\/(.*)\//).pop(),l=O.replace('/'+D+'/',''),D=(new RegExp(D,l)).test(I)):D=(new RegExp(p.requirements[z])).test(I),
D)r[E[0].substr(1)]=I;else return!1}else++J;if(r.count()==E.length){z=null;for(z in r)ca.params[z]=r[z];return!0}}return!1},S=function(q){return/\/$/.test(q)?S.variable+'/':S.variable},U=function(q,I){var p=null,ca,Fa=q.url,L=null;for(L in q.param)if(('undefined'==typeof I||'undefined'!=typeof I[L])&&/^:/.test(q.param[L])){var O=q.param[L].substr(1);if('undefined'!=typeof I&&'undefined'!=typeof I[O]){var E=new RegExp('(:'+O+'/|:'+O+'$)','g');'undefined'!=typeof q.param.path&&/:/.test(q.param.path)&&
(q.param.path=q.param.path.replace(E,I[O]));'undefined'!=typeof q.param.title&&/:/.test(q.param.title)&&(q.param.title=q.param.title.replace(E,I[O]));'undefined'!=typeof q.param.namespace&&/:/.test(q.param.namespace)&&(q.param.namespace=q.param.namespace.replace(E,I[O]));'undefined'!=typeof q.param.file&&/:/.test(q.param.file)&&(S.variable=I[O],q.param.file=q.param.file.replace(E,S));if(/,/.test(q.url)){p=q.url.split(/,/g);var D=0;for(ca=p.length;D<ca;++D)S.variable=I[O],p[D]=p[D].replace(E,S);q.url=
p.join(',')}else S.variable=I[O],q.url=q.url.replace(E,S)}}if(p){D=0;ca=p.length;Fa=Fa.split(/,/g);var l=0;for(q.urlIndex=0;D<ca;++D)if(p=0,E=Fa[0].match(/:[-_a-z0-9]+/ig)){L=0;for(O=E.length;L<O;L++){var z=E[L].substr(1);'undefined'!=typeof I[z]&&I[z]&&p++}p>l&&(l=p,q.urlIndex=D)}}return q};R.getRoute=function(q,I,p){var ca=null;C?ca=window.gina.config:(ca=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(ca.getRouting=getContext('gina').Config.instance.getRouting));var Fa=
ca.env||GINA_ENV,L=null,O=ca.bundle;/@/.test(q)||'undefined'==typeof O||null==O||(q=q.toLowerCase(),q+='@'+O);if(/@/.test(q)){var E=q.replace(/(.*):\/\//,'').split(/@/);O=E[1];/\/(.*)$/.test(q)&&(L=q.replace(/(.*):\/\//,'').split(/\/(.*)$/)[1],O=O.replace(/\/(.*)$/,''),Fa=L||Fa);q=E[0].toLowerCase()+'@'+O}L=ca.getRouting(O,Fa);if('undefined'==typeof L[q])throw Error('[ RoutingHelper::getRouting(rule, params) ] : `'+q+'` not found !');ca=JSON.clone(L[q]);O=null;ca=U(ca,I);/,/.test(ca.url)&&('undefined'!=
typeof ca.urlIndex&&(p=ca.urlIndex,delete ca.urlIndex),p='undefined'!=typeof p?p:0,ca.url=ca.url.split(/,/g)[p]);/\/$/.test(ca.url)&&'/'!=ca.url&&(ca.url=ca.url.substr(0,ca.url.length-1));if(/GET/i.test(ca.method)&&'undefined'!=typeof I){p='?';L=L[q].url;for(let D in ca.param)-1<R.reservedParams.indexOf(D)||(new RegExp(ca.param[D])).test(L)||'undefined'!=typeof I[D]&&(p+=D+'='+encodeRFC5987ValueChars(I[D])+'&');1<p.length&&(p=p.substring(0,p.length-1),ca.url+=p)}ca.toUrl=function(D){var l=null;/^redirect$/i.test(this.param.control)&&
(l=R.getUrlProps(this.bundle,Fa||GINA_ENV));var z=this.webroot||l.webroot;l=this.hostname||l.hostname;var y=this.url;this.url='undefined'!=typeof D&&1==D?y.replace(z,'/'):y;return l+this.url};ca.request=function(D,l){var z=null,y=null;'function'==typeof arguments[arguments.length-1]&&(z=arguments[arguments.length-1]);'object'==typeof arguments[2]&&(y=arguments[2]);var G=this.webroot||y.webroot,r=this.hostname||y.hostname;y='undefined'!=typeof D&&1==D?path.replace(G,'/'):this.url||y.url;r=/^https/.test(r)?
'https':'http';C?window.open(y,'undefined'!=typeof l&&'undefined'!=typeof l.target?l.target:'_self'):('undefined'==typeof l.agent&&(l.agent=!1),r=require(''+r),G=function(v){var F='',J=!1;v.on('data',function(T){F+=T});v.on('error',function(T){J='Failed to get mail content';T&&'undefined'!=typeof T.stack?J+=T.stack:'string'==typeof T&&(J+='\n'+T)});v.on('end',function(){if(/^\{/.test(F))try{F=JSON.parse(F),'undefined'!=typeof F.error&&(J=JSON.clone(F),F=null)}catch(T){J=T}J?z(J):z(!1,F)})},z?r.get(y,
l,G):r.get(y,l))};/:/.test(ca.url)&&(I=ca.url.match(/(:(.*)\/|:(.*)$)/g).map(function(D){return D.replace(/\//g,'')}).join(', '),O='[ RoutingHelper::getRoute(rule[, bundle, method]) ] : route [ %r ] param placeholder not defined: `'+ca.url+'` !\n Check your route description to compare requirements against param variables [ '+I+']',O=O.replace(/%r/,q),console.warn(Error(O)));return ca};R.getRouteByUrl=function(q,I,p,ca,Fa){2==arguments.length&&'undefined'!=typeof arguments[1]&&-1<R.allowedMethods.indexOf(arguments[1].toLowerCase())&&
(p=arguments[1],I=void 0);var L=null,O=null,E=null,D=null,l=null,z=null;if(/#/.test(q)&&1<q.length){var y=q.split(/#/);q=y[0];l='#'+y[1];y=null}1==arguments.length&&'undefined'!=typeof arguments[0]&&(/^(https|http)/i.test(q)||/^\//.test(q)||(q='/'+q),L='/'+q.split(/\//g)[1],C&&(D=gina.config.reverseRouting,E=gina.config.routing),'undefined'!=typeof D[L]&&(y=E[D[L]],I=y.bundle,L=y.webroot,z=y.hostname,y=null));Fa='boolean'!=typeof arguments[arguments.length-1]?!1:arguments[arguments.length-1];var G=
!1,r=null,v=null,F=r=v=null;y='undefined'!=typeof p?!0:!1;C?(r=window.gina.config,I='undefined'!=typeof I?I:r.bundle,v=r.env,E=E||r.getRouting(I),D=D||r.reverseRouting,isXMLRequest='undefined'!=typeof isXMLRequest?isXMLRequest:!1,z=z||r.hostname,L=L||r.webroot,ca={routing:{},method:p,params:{},url:q}):(r=getContext('gina').config,I='undefined'!=typeof I?I:r.bundle,v=r.env,E=r.getRouting(I),z=r.envConf[I][v].hostname,L=r.envConf[I][v].server.webroot,ca||={routing:{},isXMLRequest:!1,method:'undefined'!=
typeof p?p.toLowerCase():'get',params:{},url:q},Fa&&(ca.method=p),isXMLRequest=ca.isXMLRequest||!1);v=q.replace(new RegExp('^('+z+'|'+z.replace(/:\d+/,'')+')'),'');'undefined'==typeof ca.routing.path&&(ca.routing.path=decodeURI(v));p='undefined'!=typeof p?p.toLowerCase():'get';y&&(ca.originalMethod=ca.method,ca.method=p,ca.routing.path=decodeURI(v));ca.method||(ca.method=p);r={};L=new RegExp(p,'i');D=null;var J;for(J in E){if('undefined'==typeof E[J].param)break;if(E[J].bundle==I&&(D=E[J].method,
/,/.test(D)&&L.test(D)&&(D=ca.method),'undefined'==typeof E[J].method||L.test(D))){r={method:D,requirements:E[J].requirements,namespace:E[J].namespace||void 0,url:decodeURI(v),rule:E[J].originalRule||J,param:E[J].param,middleware:JSON.clone(E[J].middleware),bundle:E[J].bundle,isXMLRequest};try{if(F=R.compareUrls(r,E[J].url,ca),F.past){O=JSON.clone(E[J]);O.name=J;G=!0;F={};break}}catch(T){throw Error('Route [ '+J+' ] needs your attention.\n'+T.stack);}}}if(G)return/\/$/.test(q)&&'/'!=q&&(q=q.substr(0,
q.length-1)),l&&(q+=l),O.url=q,O.toUrl=function(T){var sa=this.webroot,Ga=this.hostname,W=this.url;this.url='undefined'!=typeof T&&1==T?W.replace(sa,'/'):W;return Ga+this.url},O;if(C){l=!1;if('#'==q&&/GET/i.test(p)&&y||/^404:/.test(q))q=location.pathname,l=!0;'undefined'==typeof R.notFound&&(R.notFound={});E=null;O='[ RoutingHelper::getRouteByUrl(rule[, bundle, method]) ] : route [ %r ] is called but not found inside your view: `'+q+'` !';if((E=(E=gina.hasPopinHandler&&gina.popinIsBinded?gina.popin.getActivePopin().target.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/):
document.body.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/))&&0<E.length?E[0]:null)&&y&&l)return l=E.match(/\[\w+\]/)[0],E=E.replace('404:'+l,l.replace(/\[|\]/g,'')+'::'),O=O.replace(/%r/,E.replace(/404:\s+/,'')),'undefined'==typeof R.notFound[E]?R.notFound[E]={count:1,message:O}:y&&'undefined'!=typeof R.notFound[E]&&++R.notFound[E].count,!1;if((l=gina.config.reverseRouting[q]||null)&&'undefined'!=typeof l&&l.split(/@(.+)$/)[1]==I)return E=l,'undefined'==typeof R.notFound[E]?(O=O.replace(/%r/,p.toUpperCase()+
'::'+l),R.notFound[E]={count:1,message:O}):y&&'undefined'!=typeof R.notFound[E]&&++R.notFound[E].count,!1;E=R.compareUrls(r,q,ca)||null;E.past&&y&&(E=p.toUpperCase()+'::'+E.request.routing.rule,'undefined'==typeof R.notFound[E]?O=O.replace(/%r/,E):++R.notFound[E].count);return!1}console.warn(Error('[ RoutingHelper::getRouteByUrl(rule[, bundle, method, request]) ] : route not found for url: `'+q+'` !').stack);return!1};return R}
'undefined'!==typeof module&&module.exports?module.exports=Routing():'function'===typeof define&&define.amd&&define('lib/routing',['require','lib/form-validator','lib/merge'],function(){return Routing()});
function StoragePlugin(C){function R(O){I=JSON.parse(U.getItem(this.bucket));'undefined'==typeof I[O]&&(I[O]=[],U.setItem(this.bucket,JSON.stringify(I)),I=JSON.parse(U.getItem(this.bucket)));q[O]={_collection:O,_bucket:this.bucket};q[O]=Ba(q[O],Fa);return q[O]}function ha(O){if('object'!==typeof O)throw Error('filter must be an object');var E=I[this._collection],D=O.count(),l=0,z=null;if(0==D)return null;for(var y in E)for(var G in O){var r='boolean'!=typeof O[G]?O[G].toLocaleLowerCase():O[G];O[G]&&
-1<p.indexOf(r)&&'not null'==r&&'undefined'!=typeof E[y][G]&&'object'!==typeof E[y][G]&&E[y][G]===O[G]&&'null'!=E[y][G]&&'undefined'!=E[y][G]?0>z.indexOf(E[y][G])&&(++l,l===D&&(z=E[y],z._index=y,z._collection=this._collection,z._bucket=this._bucket)):'undefined'!=typeof E[y][G]&&'object'!==typeof E[y][G]&&E[y][G]===O[G]&&(++l,l===D&&(z=E[y],z._index=y,z._collection=this._collection,z._bucket=this._bucket,z._filter=O))}z&&(z.save=L);return z}var Ba=Ba||require('lib/merge');R=R||require('lib/collection');
var Z=Z||require('vendor/uuid'),N=N||require('helpers/dateFormat'),na={bucket:'default'},S={},U=null,q={},I={},p=['not null'],ca={bucket:void 0,drop:function(){U.removeItem(na.bucket);S=null;for(var O in this)delete this[O];return S},Collection:R},Fa={insert:function(O){O._id=Z.v1();O._createdAt=(new Date).format('isoDateTime');O._updatedAt=(new Date).format('isoDateTime');I[this._collection][I[this._collection].length]=O;U.setItem(this._bucket,JSON.stringify(I))},find:function(O,E){if(!O)return I[this._collection];
if('object'!==typeof O)throw Error('filter must be an object');E=I[this._collection];O.count();var D=0,l=[],z;for(z in E)for(var y in O){var G='boolean'!=typeof O[y]?O[y].toLocaleLowerCase():O[y];O[y]&&-1<p.indexOf(G)&&'not null'==G&&'undefined'!=typeof E[z][y]&&'object'!==typeof E[z][y]&&'null'!=E[z][y]&&'undefined'!=E[z][y]?0>l.indexOf(E[z][y])&&(l[D]=E[z][y],++D):'undefined'!=typeof E[z][y]&&'object'!==typeof E[z][y]&&E[z][y]===O[y]&&(l[D]=E[z],++D)}return l},findOne:ha,update:null,'delete':function(O){if('object'!==
typeof O)throw Error('filter must be an object');var E=JSON.clone(I[this._collection]),D=0,l=[],z;for(z in E)for(var y in O)O[y]&&-1<p.indexOf(O[y].toLocaleLowerCase())&&'not null'==O[y].toLowerCase()&&'undefined'!=typeof E[z][y]&&'object'!==typeof E[z][y]&&'null'!=E[z][y]&&'undefined'!=E[z][y]?0>l.indexOf(E[z][y])&&(l[D]=E[z][y],delete I[this._collection][z][y],++D):'undefined'!=typeof E[z][y]&&'object'!==typeof E[z][y]&&E[z][y]===O[y]&&(l[D]=E[z],I[this._collection].splice(z,1),++D);return 0<l.length?
(U.setItem(this._bucket,JSON.stringify(I)),!0):!1},drop:function(O){if('undefined'==typeof I[this._collection])throw Error('Collection `'+O+'` not found');delete q[this._collection];delete I[this._collection];U.setItem(this._bucket,JSON.stringify(I))}},L=function(O){O=O||!1;try{var E=JSON.clone(I),D=this._index,l=this._collection,z=this._bucket,y=this._filter;this._updatedAt=(new Date).format('isoDateTime');E[l][D]=Ba(E[l][D],this,!0);delete E[l][D]._index;delete E[l][D]._collection;delete E[l][D]._bucket;
delete E[l][D].save;delete E[l][D]._filter;if(O&&'object'==typeof E[l][D]){var G=function(v,F){for(var J=0,T=v.length;J<T;++J)'object'!=typeof F[J]||'undefined'==typeof v[J]||Array.isArray(v[J])?Array.isArray(v[J])?G(v[J],F[J]):'undefined'==typeof v[J]&&delete F[J]:r(v[J],F[J]);return F},r=function(v,F){for(var J in F)'object'!=typeof F[J]||'undefined'==typeof v[J]||Array.isArray(v[J])?Array.isArray(v[J])?G(v[J],F[J]):'undefined'==typeof v[J]&&delete F[J]:r(v[J],F[J]);return F};Array.isArray(E[l][D])?
E[l][D]=G(this,E[l][D]):'object'==typeof E[l][D]?E[l][D]=r(this,E[l][D]):'undefined'==typeof this[prop]&&delete E[l][D]}I[l][D]=E[l][D];U.setItem(z,JSON.stringify(I));return ha(y)}catch(v){throw v;}};(function(O){if(!window.localStorage||window.localStorage&&'undefined'==!typeof window.localStorage.setItem)throw Error('Make sure your browser supports `window.localStorage` to use Gina Storage. See: `https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Browser_compatibility`');if('object'!=
typeof O&&'undefined'!=typeof O)throw Error('`options` must be an object');'undefined'==typeof O&&(O={});na=Ba(O,na);U=window.localStorage;O=na.bucket;if(!U.getItem(O)&&void 0!=O)U.setItem(O,JSON.stringify(I));else if(void 0==O)throw Error('`bucket` name cannot be undefined');S.bucket=O;S=Ba(S,ca)})(C);return S}
if('undefined'!==typeof module&&module.exports){var merge=require('lib/merge');Collection=require('lib/collection');var uuid=require('uuid');module.exports=StoragePlugin}else'function'===typeof define&&define.amd&&define('gina/storage',['helpers/dateFormat','helpers/prototypes'],function(){return StoragePlugin});function insertAfter(C,R){C.parentNode.insertBefore(R,C.nextSibling)}
function getElementsByAttribute(C){for(var R=[],ha=0,Ba=document.getElementsByTagName('*'),Z=0,N=Ba.length;Z<N;++Z)null!==Ba[Z].getAttribute(C)&&(R[ha]=Ba[Z],++ha);return R}
(function(C){var R=C.prototype,ha=R.parseFromString;try{if((new C).parseFromString('','text/html'))return}catch(Ba){}R.parseFromString=function(Ba,Z){if(/^\s*text\/html\s*(?:;|$)/i.test(Z)){var N=document.implementation.createHTMLDocument('');-1<Ba.toLowerCase().indexOf('<!doctype')?N.documentElement.innerHTML=Ba:N.body.innerHTML=Ba;return N}return ha.apply(this,arguments)}})(DOMParser);define('utils/dom',function(){});
function ValidatorPlugin(C,R,ha){this.plugin='validator';var Ba='init ready registered success error progress submit reset change changed keydown keyup focusout focusin validate validated destroy asyncCompleted'.split(' '),Z='undefined'!==typeof module&&module.exports?!1:!0,N=null;Z?(require('utils/events'),registerEvents(this.plugin,Ba),require('utils/dom'),require('utils/effects'),N=gina.config.envIsDev):(N=/^true$/i.test(process.env.NODE_ENV_IS_DEV)?!0:!1)&&delete require.cache[require.resolve('./form-validator')];
var na=Z?require('vendor/uuid'):require('uuid'),S=Z?require('lib/merge'):require('../../../../../lib/merge'),U=Z?require('lib/inherits'):require('../../../../../lib/inherits'),q=Z?require('lib/form-validator'):require('./form-validator'),I=Z?require('lib/routing'):require('../../../../../lib/routing'),p={id:'validator-'+na.v4(),plugin:this.plugin,on:Z?on:null,eventData:{},target:Z?document:null,errors:{},initialized:!1,isReady:!1,rules:{},$forms:{},getFormById:null,validateFormById:null,setOptions:null,
resetErrorsDisplay:null,resetFields:null},ca={id:null,plugin:this.plugin,on:Z?on:null,eventData:{},target:Z?document:null,cachedErrors:{},binded:!1,unbinded:!1,withUserBindings:!1,rules:{},setOptions:null,send:null,isValidating:null,isSubmitting:null,submit:null,destroy:null,resetErrorsDisplay:null,resetFields:null},Fa={},L={},O=null,E={url:'',method:'GET',isSynchrone:!1,withCredentials:!1,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}},
D=function(e,b,h){h='undefined'!=typeof h?{id:h}:null;var n={},x;for(x in b)n[x]=b[x];if('undefined'!=typeof e&&0<e.count()){try{La(e,''),Da(e)}catch(u){throw u;}return M(h,n,null,p.rules)}return new q(n)},l=function(e){E=e=S(e,E)},z=function(e){var b=null;if(!p.$forms)throw Error('`$forms` collection not found');if('undefined'==typeof e)throw Error('[ FormValidator::getFormById(formId) ] `formId` is missing');e=e.replace(/#/,'');if(null!=document.getElementById(e)&&'undefined'==typeof p.$forms[e]){var h=
document.getElementById(e),n,x=typeof(0<Fa.count())?Fa:p.rules;h.getAttribute?(id=h.getAttribute('id')||'form.'+na.v4(),id!==h.getAttribute('id')&&h.setAttribute('id',id)):(id='form.'+na.v4(),h.setAttribute('id',id));h.id=ca.id=id;if('undefined'!=typeof h.id&&'null'!=h.id&&''!=h.id){ca.target=h;p.$forms[h.id]=S({},ca);if(n=h.getAttribute('data-gina-form-rule')){n=n.replace(/\-|\//g,'.');if('undefined'==typeof x[n])throw Error('['+h.id+'] no rule found with key: `null`');n=x[n]}'string'==typeof h.id&&
'undefined'!=typeof x[h.id.replace(/\-/g,'.')]?$target=p.$forms[h.id].target:'object'==typeof h.id?(delete p.$forms[h.id],x=h.attributes.getNamedItem('id').nodeValue||'form.'+na.v4(),h.setAttribute('id',x),h.id=x,ca.target=h,p.$forms[x]=S({},ca),$target=p.$forms[x].target):$target=p.$forms[h.id].target;n?db($target,n):db($target)}}'undefined'!=typeof p.$forms[e]&&(p.$forms[e].withUserBindings=!0,b='undefined'!=typeof this.$forms&&'undefined'==typeof this.$forms[e]?this.$forms[e]=p.$forms[e]:p.$forms[e]);
if(!b)throw Error('Validator::getFormById(...) exception: could not retrieve form `'+e+'`');b.binded||(db(b.target),b=p.$forms[e]);N&&Z&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),h={id:e,rules:p.$forms[e].rules},'undefined'!=typeof p.$forms[e].errors&&(h.errors=p.$forms[e].errors),window.ginaToolbar.update('forms',h));return b},y=function(){var e=!1,b=null;gina.hasPopinHandler&&gina.popinIsBinded&&(b=gina.popin.getActivePopin());b&&b.isOpen&&
(e=!0);return e},G=function(e,b){var h=typeof(0<Fa.count())?Fa:p.rules;if(!p.$forms)throw Error('`$forms` collection not found');if('undefined'!=typeof e&&'undefined'!=typeof p.$forms[e])return p.$forms[e];if('undefined'==typeof e)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)e=this.id;else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `formId` is missing');if('string'==typeof e)e=e.replace(/#/,'');else{if('object'!=typeof e||Array.isArray(e))throw Error('[ FormValidator::validateFormById(formId[, customRule]) ] `formId` should be a `string`');
var n=e.form;e=n.getAttribute('id')||'form.'+na.v4();n.setAttribute('id',e)}var x=document.getElementsByTagName('form');for(var u={},A=0,V=x.length;A<V;++A)n=x[A].getAttribute('id')||null,'undefined'==typeof u[n]?u[n]=!0:'undefined'==typeof p.$forms[n]||p.$forms[n].warned||(gina.popinIsBinded?console.warn('Popin/Validator::bindForm($target, customRule): `'+n+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.\n Check inside your popin content'):console.warn('Validator::bindForm($target, customRule): `'+
n+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.'),p.$forms[n].warned=!0);if('undefined'!=typeof this.$forms&&'undefined'!=typeof p.$forms[e])x=this.$forms[e]=p.$forms[e];else{n=document.getElementById(e);ca.id=e;ca.target=n;x=this.$forms[e]=p.$forms[e]=S({},ca);if('undefined'==typeof b)if(u=e.replace(/\-/g,'.'),'undefined'!=typeof h)x.rule=Ea(u);else{if('undefined'!=typeof x.target&&null!==x.target&&x.target.getAttribute('data-gina-form-rule'))if(u=x.target.getAttribute('data-gina-form-rule').replace(/\-|\//g,
'.'),'undefined'!=typeof h)x.rule=Ea(u);else throw Error('[ FormValidator::validateFormById(formId) ] using `data-gina-form-rule` on form `'+x.target+'`: no matching rule found');}else if(u=b.replace(/\-|\//g,'.'),'undefined'!=typeof h)x.rule=Ea(u);else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+b+'` is not a valid rule');n&&'undefined'!=typeof this.isPopinContext&&/true/i.test(this.isPopinContext)&&(n.isPopinContext=this.isPopinContext);n&&!x.binded&&db(n,u)}if(!x)throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+
e+'` not found');return x||null},r=function(e){var b=e.form.getAttribute('id');if(!/^true$/i.test(p.$forms[b].isValidating)){var h=e.parentNode;e=!1;b=h.getElementsByTagName('div');/form\-item\-warning/.test(h.className)?h.className=h.className.replace(/form\-item\-warning/,'form-item-error'):/form\-item\-error/.test(h.className)&&(h.className=h.className.replace(/form\-item\-error/,'form-item-warning'),e=!0);h=0;for(var n=b.length;h<n;++h)if(/form\-item\-error\-message/.test(b[h].className)){b[h].className=
e?b[h].className+' hidden':b[h].className.replace(/(\s+hidden|hidden)/,'');break}}},v={},F=function(e,b,h,n){if(N)var x=null;var u=!1;if('undefined'!=typeof e.dataset.ginaFormIsResetting&&/^(true)$/i.test(e.dataset.ginaFormIsResetting))b={},v={},e.dataset.ginaFormIsResetting=!1;else if(/^(true)$/i.test(e.dataset.ginaFormLiveCheckEnabled)&&'undefined'!=typeof n){var A='string'!=typeof e.id?e.getAttribute('id'):e.id;'undefined'==typeof v[A]&&(v[A]={});if(0<b.count()){if(v[A][n]={},v[A][n]=S(b[n],v[A][n]),
0==v[A][n].count()&&delete v[A][n],b=v[A],!p.$forms[A].sent||p.$forms[A].isValidating)u=!0}else'undefined'!=typeof v[A][n]&&(delete v[A][n],'undefined'!=typeof window.gina.validator.$forms[A].errors&&'undefined'!=typeof window.gina.validator.$forms[A].errors[n]&&delete window.gina.validator.$forms[A].errors[n]),'undefined'!=typeof p.$forms&&'undefined'!=typeof p.$forms[A]&&'undefined'!=typeof p.$forms[A].errors&&0==p.$forms[A].errors.count()&&Eb(e,!0),'undefined'!=typeof v[A]&&0==v[A].count()?delete v[A]:
b=v[A]}var V=null;A=e.getAttribute('id');h='undefined'!=typeof h?h:{};for(var P=0,aa=e.length;P<aa;++P){var Q=e[P];if('undefined'==typeof n||n==Q.name){if(/form\-item\-wrapper$/.test(Q.parentNode.className)){var w=Q.parentNode.parentNode;var ja=Q.parentNode}else w=Q.parentNode,ja=Q;var ua=Q.getAttribute('name');var oa=Q.getAttribute('data-gina-form-errors');if(ua){if('undefined'!=typeof b[ua]&&!/(form\-item\-error|form\-item\-warning)/.test(w.className)){w.className=u?w.className+(''==w.className?
'form-item-warning':' form-item-warning'):w.className+(''==w.className?'form-item-error':' form-item-error');V=document.createElement('div');V.className=u?'form-item-error-message hidden':'form-item-error-message';for(var la in b[ua])'stack'!=la&&(w=document.createElement('p'),w.appendChild(document.createTextNode(b[ua][la])),V.appendChild(w)),N&&(x||={},x[ua]||(x[ua]={}),x[ua][la]=b[ua][la]);'hidden'!=ja.type&&insertAfter(ja,V)}else if('undefined'==typeof b[ua]&&/(form\-item\-error|form\-item\-warning)/.test(w.className)||
'undefined'!=typeof b[ua]&&0==b[ua].count()&&/(form\-item\-error|form\-item\-warning)/.test(w.className)){ua=w.getElementsByTagName('div');ja=0;for(oa=ua.length;ja<oa;++ja)if(/form\-item\-error\-message/.test(ua[ja].className)){ua[ja].parentElement.removeChild(ua[ja]);break}w.className=w.className.replace(/(\s+form\-item\-error|form\-item\-error|\s+form\-item\-warning|form\-item\-warning)/,'')}else if('undefined'!=typeof b[ua]&&oa){w=w.getElementsByTagName('div');oa=0;for(var Ca=w.length;oa<Ca;++oa)if('form-item-error-message'==
w[oa].className){w[oa].parentElement.removeChild(w[oa]);V=document.createElement('div');V.setAttribute('class','form-item-error-message');for(la in b[ua])w=document.createElement('p'),w.appendChild(document.createTextNode(b[ua][la])),V.appendChild(w),N&&(x||={},x[ua]||(x[ua]={}),x[ua][la]=b[ua][la]);break}V&&'hidden'!=ja.type&&insertAfter(ja,V)}if('undefined'!=typeof n&&n===Q.name)break}}}x?(triggerEvent(gina,e,'error.'+A,b),N&&Z&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||
(gina.forms.errors={}),e={id:A,errors:x},window.ginaToolbar.update('forms',e))):N&&Z&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),e={id:A,errors:{}},Z&&window.ginaToolbar.update('forms',e));if(gina&&Z&&N&&p.$forms[A].isSubmitting&&/^true$/i.test(p.$forms[A].isSubmitting)&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&h)try{window.ginaToolbar.update('data-xhr',h)}catch(za){throw za;}},J=function(e){var b=null;'undefined'==typeof e&&
'undefined'!=typeof this.id&&(e=this.id);/^string$/i.test(typeof e)?(b=e.replace(/#/,''),b=document.getElementById(b)):e instanceof HTMLFormElement?b=e:/^object$/i.test(typeof e)&&(b=e.target);if(!b)throw Error('[ FormValidator::resetErrorsDisplay([ formId | <form> ]) ] `'+e+'` not found');b.dataset.ginaFormIsResetting=!0;F(b,{});return b},T=function(e){if('undefined'==typeof e){var b='undefined'!=typeof this.target?this.target.getAttribute('id'):this.getAttribute('id');e=p.$forms[b]}else if('string'==
typeof e){b=e.replace(/#/,'');if('undefined'==typeof p.$forms[b])throw Error('[ FormValidator::resetErrorsDisplay([formId]) ] `'+e+'` not found');e=p.$forms[b]}if(e.fieldsSet){var h;for(h in e.fieldsSet){b=document.getElementById(h);var n=b.tagName.toLowerCase();var x=b.tagName;/textarea/i.test(x)?(x=e.fieldsSet[h].defaultValue,b.value=x,triggerEvent(gina,b,'change')):'input'==n?(x=e.fieldsSet[h].defaultValue,/$(on|true|false)$/i.test(x)&&(x=/$(on|true)$/i.test(x)?!0:!1),/^(checkbox|radio)$/i.test(b.type)?
b.checked=e.fieldsSet[h].defaultChecked:/^(checkbox|radio)$/i.test(b.type)||(b.value=x),triggerEvent(gina,b,'change')):'select'==n&&(x=e.fieldsSet[h].selectedIndex||0,b.selectedIndex=x,b.dataset.value=b.options[b.selectedIndex].value,triggerEvent(gina,b,'change'))}}return e},sa=function(){var e=null,b=null;'undefined'!=typeof this.getAttribute?(e=this.getAttribute('id'),b=this):'undefined'!=typeof this.target&&null!=this.target&&'undefined'!=typeof this.target.getAttribute&&(e=this.target.getAttribute('id'),
b=this.target);if('undefined'==typeof p.$forms[e])throw Error('[ FormValidator::submit() ] not `$form` binded. Use `FormValidator::getFormById(id)` or `FormValidator::validateFormById(id)` first ');triggerEvent(gina,b,'submit');return this},Ga=function(e,b){var h=this.target,n=h.getAttribute('id'),x=p.$forms[n]||this,u=null,A=null,V=null,P=null;if(!('undefined'!=typeof x.isSending&&/^true$/i.test(x.isSending)||'undefined'!=typeof x.sent&&/^true$/i.test(x.sent))){p.$forms[n].isSending=!0;b='undefined'!=
typeof b?S(b,E):E;'undefined'!=typeof x.id&&(b.headers['X-Gina-Form-Id']=x.id,'undefined'!=typeof gina.forms.rules&&0<x.rules.count()&&'undefined'!=typeof x.rules[x.id]&&(b.headers['X-Gina-Form-Rule']=x.id+'@'+gina.config.bundle));'undefined'!=typeof x.target.dataset.ginaFormRule&&(b.headers['X-Gina-Form-Rule']=x.target.dataset.ginaFormRule+'@'+gina.config.bundle);(P=h.getAttribute('data-gina-form-event-on-submit-success')||h.getAttribute('data-gina-form-event-on-submit-error')?!0:!1)&&wa(x);var aa=
h.getAttribute('action')||b.url,Q=h.getAttribute('method')||b.method;Q=Q.toUpperCase();b.method=Q;b.url=aa;O||=setupXhr(b);aa=h.getAttribute('enctype')||b.headers['Content-Type'];if(b.withCredentials){if('withCredentials'in O)b.isSynchrone?O.open(b.method,b.url,b.isSynchrone):O.open(b.method,b.url);else if('undefined'!=typeof XDomainRequest)O=new XDomainRequest,O.open(b.method,b.url);else{O=null;u='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,
h,'error.'+n,u);return}O.responseType='undefined'!=typeof b.responseType?b.responseType:'';O.withCredentials=!0}else b.isSynchrone?O.open(b.method,b.url,b.isSynchrone):O.open(b.method,b.url);for(var w in b.headers)'Content-Type'==w&&'undefined'!=typeof aa&&null!=aa&&''!=aa||O.setRequestHeader(w,b.headers[w]);if(O){O.onreadystatechange=function(za){x.isSubmitting=!1;x.isSending=!1;setTimeout(function(){x.sent=!1},1E3);za=/Google Inc/i.test(navigator.vendor)?50:0;2==O.readyState&&(V=/^attachment;/.test(O.getResponseHeader('Content-Disposition'))?
!0:!1,!O.responseType&&V&&(O.responseType='blob'));if(4==O.readyState){var Sa=null,Va=null,qb=O.getResponseHeader('Content-Type');if(/^2/.test(O.status)){try{if(/blob/.test(O.responseType)||V){if('undefined'==typeof qb||null==qb)qb='application/octet-stream';Va=new Blob([this.response],{type:qb});var sb=document.createElement('a');sb.style='display: none';document.body.appendChild(sb);var Hb=window.URL.createObjectURL(Va);sb.href=Hb;var Ob=O.getResponseHeader('Content-Disposition');sb.download=Ob.match('=(.*)')[0].substr(1);
sb.click();window.URL.revokeObjectURL(Hb);u={status:O.status,statusText:O.statusText,responseType:Va.type,type:Va.type,size:Va.size}}else u=O.responseText;/\/json/.test(qb)&&(u=JSON.parse(O.responseText),'undefined'==typeof u.status&&(u.status=O.status));if(/\/html/.test(qb)&&(u={contentType:qb,content:O.responseText},'undefined'==typeof u.status&&(u.status=O.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler&&(Sa=gina.popin.getActivePopin()))){A={};try{A=(new DOMParser).parseFromString(u.content,
'text/html').getElementById('gina-without-layout-xhr-data'),A=JSON.parse(decodeURIComponent(A.value)),XHRView=(new DOMParser).parseFromString(u.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&N&&typeof window.ginaToolbar&&'undefined'!=typeof A&&window.ginaToolbar.update('data-xhr',A),gina&&N&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(X){throw X;}Sa.loadContent(u.content);
u=A;triggerEvent(gina,h,'success.'+n,u);return}A=x.eventData.success=u;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&A)try{N&&'undefined'!=typeof A&&!/\/html|\/json/.test(qb)&&window.ginaToolbar.update('data-xhr',A)}catch(X){throw X;}/^gina\-upload/i.test(n)&&W(gina,h,'success',n,u);var zb=!1;'undefined'!=typeof u.isXhrRedirect&&/^true$/i.test(u.isXhrRedirect)&&(zb=!0);if('undefined'!=typeof gina.popin&&gina.hasPopinHandler&&'undefined'!=typeof u.popin||'undefined'!=typeof gina.popin&&
gina.hasPopinHandler&&'undefined'!=typeof u.location&&zb){Sa=gina.popin.getActivePopin();if(!Sa&&'undefined'!=typeof u.popin){if('undefined'!=typeof u.popin&&'undefined'==typeof u.popin.name)throw Error('To get a `$popin` instance, you need at list a `popin.name`.');Sa=gina.popin.getPopinByName(u.popin.name);if(!Sa)throw Error('Popin with name: `'+u.popin.name+'` not found.');}if('undefined'!=typeof u.popin&&'undefined'!=typeof u.popin.close){Sa.isRedirecting=!1;Sa.close();var Vb=u.popin.reload?u.popin.reload:
!1;u.popin.location||u.popin.url||(delete u.popin,Vb&&(u.popin={reload:Vb}))}if('undefined'!=typeof u.popin&&'undefined'!=typeof u.popin.location||'undefined'!=typeof u.popin&&'undefined'!=typeof u.popin.url||'undefined'!=typeof u.location&&zb){zb=null;Sa&&(zb=Sa.name,Sa.isRedirecting=!0);'undefined'!=typeof u.popin&&'undefined'!=typeof u.popin.target&&(u.popin.target='_'+u.popin.target);var Za=u.location||u.popin.location||u.popin.url;if('undefined'!=typeof u.popin&&'undefined'!=typeof u.popin.name&&
zb!=u.popin.name){Sa&&Sa.isOpen&&Sa.close();zb=u.popin.name;Sa=gina.popin.getPopinByName(zb);if(!Sa)throw Error('Popin with name `'+zb+'` not found !');console.debug('Validator::Popin now redirecting [1-c]');Sa.load(Sa.name,Za,Sa.options)}else Sa&&(console.debug('Validator::Popin now redirecting [1-d]'),Sa&&Sa.isOpen&&Sa.close(),Sa.load(Sa.name,Za,Sa.options));if(Sa&&!Sa.isOpen)return setTimeout(function(X){X.isOpen||X.open()},50,Sa)}}triggerEvent(gina,h,'success.'+n,u);P&&triggerEvent(gina,h,'success.'+
n+'.hform',u)}catch(X){u={status:422,error:X.message,stack:X.stack};A=x.eventData.error=u;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&A)try{N&&'undefined'!=typeof A&&window.ginaToolbar.update('data-xhr',A)}catch(ea){throw ea;}/^gina\-upload/i.test(n)&&W(gina,h,'error',n,u);triggerEvent(gina,h,'error.'+n,u);P&&triggerEvent(gina,h,'error.'+n+'.hform',u)}if('undefined'!=typeof u&&'undefined'!=typeof u.location)return window.location.hash='',u.location=/^http/.test(u.location)||
/^\//.test(u.location)?u.location:location.protocol+'//'+u.location,setTimeout(()=>{window.location.href=u.location},za)}else if(0!=O.status)if(u={status:O.status},/blob/.test(O.responseType)){Va=new Blob([this.response],{type:'text/plain'});var gb=new FileReader,fa='';gb.addEventListener('loadend',X=>{/string/i.test(typeof X.srcElement.result)?fa+=X.srcElement.result:'object'==typeof X.srcElement.result?u=S(u,X.srcElement.result):u.message+=X.srcElement.result;if(/2/.test(gb.readyState)){if(/^(\{|\[)/.test(fa))try{u=
S(u,JSON.parse(fa))}catch(ea){u=S(u,ea)}u.message||delete u.message;A=x.eventData.error=u;if(gina&&N&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&A)try{window.ginaToolbar.update('data-xhr',A)}catch(ea){throw ea;}/^gina\-upload/i.test(n)&&W(gina,h,'error',n,u);triggerEvent(gina,h,'error.'+n,u);P&&triggerEvent(gina,h,'error.'+n+'.hform',u)}});gb.readAsText(Va)}else{if(/^(\{|\[)/.test(O.responseText))try{u=S(JSON.parse(O.responseText),u)}catch(X){u=S(X,u)}else'object'==typeof O.responseText?
u=S(O.responseText,u):u.message=O.responseText;if('undefined'!=typeof u&&'undefined'!=typeof u.error&&u.fields&&'object'==typeof u.fields){Za='undefined'!=typeof u.message?u.message:null;za={};for(zb in u.fields)Sa={},Sa[zb]={},Sa[zb].isApiError=u.fields[zb],Za&&!Sa[zb].isApiError&&(Sa[zb].isApiError=u.error),za[zb]=Sa[zb],F(x.target,Sa,e,zb);u.fields=za}A=x.eventData.error=u;if(gina&&N&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&A)try{window.ginaToolbar.update('data-xhr',A)}catch(X){throw X;
}/^gina\-upload/i.test(n)&&W(gina,h,'error',n,u);triggerEvent(gina,h,'error.'+n,u);P&&triggerEvent(gina,h,'error.'+n+'.hform',u)}}};O.onprogress=function(za){var Sa='0';za.lengthComputable&&(Sa=za.loaded/za.total,Sa=parseInt(100*Sa));za={status:100,progress:Sa};x.eventData.onprogress=za;triggerEvent(gina,h,'progress.'+n,za)};O.ontimeout=function(za){u={status:408,error:'Request Timeout'};x.eventData.ontimeout=u;/^gina\-upload/i.test(n)&&W(gina,h,'error',n,u);triggerEvent(gina,h,'error.'+n,u);P&&triggerEvent(gina,
h,'error.'+n+'.hform',u)};e||(e=event.detail.data);if(e){b=!1;if('object'==typeof e){w=[];Q=0;var ja={};try{if(e instanceof FormData){var ua=event.currentTarget.getAttribute('data-gina-form-upload-group')||'untagged',oa,la;for([oa,la]of e.entries())la instanceof File?(b||=!0,w[Q]={key:oa,group:ua,file:la,bin:''},++Q):ja[oa]=la}else e=JSON.stringify(e);if(b&&0<w.length){var Ca='--ginaWKBoundary'+na.v4().replace(/\-/g,'');return da(w,Ca,'',0,function(za,Sa,Va){if(za)/^gina\-upload/i.test(n)&&W(gina,
h,'error',n,za),triggerEvent(gina,h,'error.'+n,za),P&&triggerEvent(gina,h,'error.'+n+'.hform',za);else return Va&&(O.setRequestHeader('Content-Type','multipart/form-data; boundary='+Ca),O.send(Sa),x.sent=!0,N&&Z&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),window.ginaToolbar.update('forms',{id:n,sent:Sa}))),!1})}'undefined'!=typeof ja&&0<ja.count()&&(e=JSON.stringify(ja))}catch(za){/^gina\-upload/i.test(n)&&W(gina,h,'error',n,za),triggerEvent(gina,
h,'error.'+n,za),P&&triggerEvent(gina,h,'error.'+n+'.hform',za)}}b||('undefined'!=typeof aa&&null!=aa&&''!=aa&&O.setRequestHeader('Content-Type',aa),O.send(e))}else'undefined'!=typeof aa&&null!=aa&&''!=aa&&O.setRequestHeader('Content-Type',aa),O.send();x.sent=!0;N&&Z&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),ua={id:n,sent:'string'==typeof e?JSON.parse(e):e},window.ginaToolbar.update('forms',ua))}}},W=function(e,b,h,n,x){e=b.uploadProperties||
null;if(!e)throw Error('No uploadProperties found !!');b=document.getElementById(e.uploadTriggerId);n=null;var u=x.files||[],A=null;e.hasPreviewContainer&&(n=document.getElementById(e.previewContainer.id))&&(n.innerHTML='');e.errorField&&(A=document.getElementById(e.errorField));A&&(A.style.display='none');if(A&&'success'!=h){var V=x.message||x.error;A.innerHTML='<p>'+V+'</p>';fadeIn(A)}else if(A||'success'==h)for(h=0,x=u.length;h<x;++h){var P=n.id.replace(/\-preview/,'-'+h+'-reset-trigger');V=!1;
A=document.getElementById(P);var aa=['reset','js-upload-reset'];A?(/a/i.test(A.tagName)&&(A.href='#'),A.innerHTML&&''!=A.innerHTML||(A.innerHTML=b.getAttribute('data-gina-form-upload-reset-label')||'Reset'),'undefined'==typeof A.className&&(A.className=''),P=S(A.className.split(/\s+/g),aa),A.className=P.join(' ')):(V=!0,A=document.createElement('A'),A.href='#',A.innerHTML=b.getAttribute('data-gina-form-upload-reset-label')||'Reset',A.className=aa.join(' '),A.id=P);A.style.display='none';if('undefined'==
typeof u[h].preview&&e.hasPreviewContainer&&/^image/.test(u[h].mime)&&''!=u[h].location){P=document.createElement('IMG');P.src=u[h].tmpUri;P.style.display='none';P.setAttribute('data-upload-original-filename',u[h].originalFilename);P.setAttribute('data-upload-reset-link-id',A.id);aa=n.getAttribute('data-preview-max-width')||null;if(P.width&&aa&&P.width>aa){var Q=P.width/aa;P.width=aa;P.height/=Q}else!P.width&&aa&&(P.width=aa);/ul/i.test(e.previewContainer.tagName)?(aa=document.createElement('LI'),
aa.className='item',aa.appendChild(P),n.appendChild(aa)):n.appendChild(P);fadeIn(P)}P=e.uploadFields[h];for(var w in P)if('name'==w&&''!=P[w].value||!u[h][w]||'preview'==w&&'undefined'==typeof u[h][w]||/(height|width)/i.test(w)&&!/^image/.test(u[h].mime))/(preview|height|width)/i.test(w)&&(aa=document.getElementById(P[w].id))&&aa.parentNode.removeChild(aa);else if(P[w].value=u[h][w],'preview'==w)for(var ja in u[h][w])if('undefined'!=typeof u[h][w][ja]&&'undefined'!=typeof P[w][ja]&&(P[w][ja].value=
u[h][w][ja]),'tmpUri'==ja&&e.hasPreviewContainer){Q=document.createElement('IMG');Q.src=u[h][w].tmpUri;Q.style.display='none';Q.setAttribute('data-upload-original-filename',u[h].originalFilename);Q.setAttribute('data-upload-preview-original-filename',u[h][w].originalFilename);Q.setAttribute('data-upload-reset-link-id',A.id);if(aa=n.getAttribute('data-preview-max-width')||null)Q.width=aa;/ul/i.test(e.previewContainer.tagName)?(aa=document.createElement('LI'),aa.className='item',aa.appendChild(Q),n.appendChild(aa)):
n.appendChild(Q);fadeIn(Q)}e.hasPreviewContainer&&(/ul/i.test(e.previewContainer.tagName)?(aa=document.createElement('LI'),aa.className='item',V&&aa.appendChild(A),n.appendChild(aa)):V&&n.appendChild(A));fb('reset',b,h);fadeIn(A)}else throw Error(V);},ia=function(e,b){console.debug(b+' input files');var h=/reset/i.test(b)?!0:!1,n=null,x=null,u=document.getElementById(e.id+'-preview').childNodes,A=null,V=e.customFiles,P=[];for(let aa=0,Q=u.length;aa<Q;aa++)if(/img/i.test(u[aa].tagName)){h?(n=u[aa].getAttribute('data-upload-original-filename'),
P.push(n),(x=u[aa].getAttribute('data-upload-preview-original-filename'))&&P.push(x)):(n=u[aa].src.substr(u[aa].src.lastIndexOf('/')+1),P.push(n));for(let w=0,ja=V.length;w<ja;w++)if(V[w].name==n){A=h?document.getElementById(u[aa].getAttribute('data-upload-'+b+'-link-id')):document.getElementById(V[w].deleteLinkId);A.style.display='none';u[aa].style.display='none';V.splice(w,1);e.customFiles=V;h&&(e.value=V.join(', C:\\fakepath\\'));n=new RegExp('^'+(e.name+'['+w+']').replace(/\-|\[|\]|\./g,'\\$&'));
for(let oa=0,la=e.form.length;oa<la;oa++)if(x=e.form[oa].dataset.ginaFormUploadIsLocked||!1,n.test(e.form[oa].name)&&!/true/i.test(x)&&(e.form[oa].remove(),la--,oa--,gina&&N&&Z&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar))try{window.ginaToolbar.update('data-xhr',{files:V})}catch(Ca){throw Ca;}x=e.getAttribute('data-gina-form-upload-'+b+'-action');if(!x||'undefined'==typeof x||''==x||/404/.test(x))throw Error('input file `'+e.id+'` error: `data-gina-form-upload-'+b+'-action` is required. You need to provide a valide url.');
(n=e.getAttribute('data-gina-form-upload-'+b+'-method'))&&'undefined'!=typeof n&&''!=n?n=n.toUpperCase():h?n='POST':(n=1<P.length?'POST':'DELETE',console.warn('`data-gina-form-upload-'+b+'-method` was not defined. Switching to `'+n+'` by default.'));let ua=e.getAttribute('data-gina-form-upload-'+b+'-is-synchrone');if(/null/i.test(ua)||'undefined'==typeof n||''==n)ua=!0;x=setupXhr({url:x,method:n,isSynchrone:ua,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}});
/GET|DELETE/i.test(n)?x.send():x.send(JSON.stringify({files:P}));if(/none/i.test(window.getComputedStyle(e).display)){if(/none/i.test(e.parentElement.style.display)){e.parentElement.style.display='block';return}e.style.display='block'}removeListener(gina,$uploadResetTrigger,'click',function(){A.remove();u[aa].remove()});Q--;aa--;break}}},da=function(e,b,h,n,x){var u=new FileReader;u.addEventListener('load',function(A){A.preventDefault();try{var V=this.result,P=void 0;A='';var aa=null;'undefined'==
typeof P&&(P=8);var Q=P/8;switch(P){case 8:aa=new Uint8Array(V);break;case 16:aa=new Uint16Array(V);break;case 32:aa=new Uint32Array(V);break;default:aa=new Uint8Array(V)}var w=aa.length,ja=Math.pow(2,8)+Q;V=0;for(Q=P=null;V<w;V+=ja)P=Math.min(ja,w-V),Q=aa.subarray(V,V+P),A+=String.fromCharCode.apply(null,Q);e[this.index].bin+=A;e[this.index].file.type||(e[this.index].file.type='application/octet-stream')}catch(ua){return x(ua,null,!0)}h+='--'+b+'\r\n';h+='Content-Disposition: form-data; name="'+
e[this.index].key+'"; group="'+e[this.index].group+'"; filename="'+e[this.index].file.name+'"\r\nContent-Type: '+e[this.index].file.type+'\r\nContent-Length: '+e[this.index].bin.length+'\r\n\r\n';h+=e[this.index].bin+'\r\n';++this.index;this.index==e.length?(h+='--'+b+'--',x(!1,h,!0)):da(e,b,h,this.index,x)},!1);u.index=n;e[n].bin='';u.readAsArrayBuffer(e[n].file)},wa=function(e){var b=e.target.getAttribute('data-gina-form-event-on-submit-success')||null;if(null!=b)if(/\((.*)\)/.test(b))eval(b);else e.on('success.hform',
window[b]);b=e.target.getAttribute('data-gina-form-event-on-submit-error')||null;if(null!=b)if(/\((.*)\)/.test(b))eval(b);else e.on('error.hform',window[b])},ka=function(e){var b=null,h=e;if(!p.$forms)throw Error('`$forms` collection not found');if('undefined'==typeof h)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)h=this.id;else throw Error('[ FormValidator::destroy(formId) ] `formId` is missing');if('string'==typeof h)h=h.replace(/#/,'');else{if('object'!=typeof h||Array.isArray(h))throw Error('[ FormValidator::destroy(formId) ] `formId` should be a `string`');
e=h.form;h=e.getAttribute('id')||'form.'+na.v4();e.setAttribute('id',h)}'undefined'!=typeof p.$forms[h]?b=p.$forms[h]:'undefined'!=typeof this.binded&&(b=this);if(b)addListener(gina,b.target,'destroy.'+h,function(n){cancelEvent(n);delete p.$forms[h];removeListener(gina,n.currentTarget,n.type);removeListener(gina,n.currentTarget,'destroy')}),b=Gb(b),triggerEvent(gina,b.target,'destroy.'+h);else throw Error('[ FormValidator::destroy(formId) ] `'+h+'` not found');},ta=function(e){e='undefined'!=typeof e?
e:p.rules;for(let n in e){var b=Object.getOwnPropertyNames(e[n]),h=0;let x=b.length,u=!1,A=null;for(;h<x;){if(/^_case_/.test(b[h])){u=!0;A=b[h];break}h++}u||'object'!=typeof e[n]||ta(e[n]);if(A&&Array.isArray(e[n][A].conditions)&&0<e[n][A].conditions.length)for(b=0,h=e[n][A].conditions.length;b<h;)'undefined'!=typeof e[n][A].conditions[b].rules&&0==e[n][A].conditions[b].rules.count()&&(e[n][A].conditions.splice(b,1),h--,b--),b++}},Da=function(e){var b=JSON.stringify(e),h=b.match(/("@import\s+[-_a-z A-Z 0-9/.]+")/g)||
[],n=[];for(let V=0,P=h.length;V<P;V++)0>n.indexOf(h[V])&&n.push(h[V]);h=n;n=b.match(/("_merging(.*))(\s+:|:)(.*)(",|")/g);p.rules||(p.rules={});if(h&&0<h.length){e={};for(let V=0,P=h.length;V<P;++V){var x=h[V].replace(/(@import\s+|"|')/g,'');var u=x.replace(/(@import\s+|"|')/g,'').split(/\s/g);for(let aa=0,Q=u.length;aa<Q;++aa){var A=u[aa].replace(/\//g,'.').replace(/\-/g,'.');'undefined'!=typeof p.rules[A]?(A=JSON.stringify(p.rules[A]),A=JSON.parse(A),A._comment='undefined'!=typeof A._comment?A._comment+
'\n':'',A._comment+='Imported from `'+x+'`',A=JSON.stringify(A),b=b.replace(new RegExp(h[V],'g'),A),p.rules=JSON.parse(JSON.stringify(p.rules).replace(new RegExp(h[V],'g'),'{}'))):console.warn('[formValidator:rules] <@import error> on `'+h[V]+'`: rule `'+u[aa]+'` not found. Ignoring.')}u=new RegExp(h[V]);if(x=n&&u.test(n.join())?!0:!1)for(let aa=0,Q=n.length;aa<Q;aa++)if(u.test(n[aa])){x=JSON.stringify(e);x=x.substr(1,x.length-1);aa<Q-1&&(x+=',');try{b=b.replace(new RegExp(n[aa],'g'),x),p.rules=JSON.parse(JSON.stringify(p.rules).replace(new RegExp(n[aa],
'g'),'{}'))}catch(w){throw w;}}e={}}e=JSON.parse(b);La(e,'');try{ta()}catch(V){console.error(V.stack)}}return e},Qa=function(e){gina.hasValidator?(p=S(p,gina.validator),p.on('init',function(b){p.isReady=!0;triggerEvent(gina,p.target,'ready.'+p.id,p)})):(p.target=document,p.setOptions=l,p.getFormById=z,p.validateFormById=G,p.resetErrorsDisplay=J,p.resetFields=T,p.handleErrorsDisplay=F,p.send=Ga,p.on('init',function(b){if('undefined'!=typeof e&&e.count())try{La(e,''),e=Da(e),gina.forms.rules='undefined'!=
typeof gina.forms.rules&&gina.forms.rules?S(gina.forms.rules,e,!0):e,p.rules=S(p.rules,JSON.clone(gina.forms.rules),!0)}catch(V){throw V;}Fa.count()||(Fa=JSON.clone(p.rules));ca.setOptions=l;ca.getFormById=z;ca.validateFormById=G;ca.resetErrorsDisplay=J;ca.resetFields=T;ca.handleErrorsDisplay=F;ca.submit=sa;ca.send=Ga;ca.unbind=Gb;ca.bind=db;ca.reBind=yb;ca.destroy=ka;b=0;for(var h=document.getElementsByTagName('form'),n=0,x=h.length;n<x;++n){if(h[n].getAttribute){var u=h[n].getAttribute('id')||'form.'+
na.v4();u!==h[n].getAttribute('id')&&h[n].setAttribute('id',u)}else u='form.'+na.v4(),h[n].setAttribute('id',u);ca.id=u;ca.target=h[n];p.$forms[u]=S({},ca);var A=h[n].getAttribute('data-gina-form-rule');if(A){A=A.replace(/\-|\//g,'.');'undefined'!=typeof e&&(p.$forms[u].rules[A]=p.rules[A]=Fa[A]=S(JSON.clone(eval('gina.forms.rules.'+A)),p.rules[A]));if('undefined'==typeof Fa[A])throw Error('['+u+'] no rule found with key: `'+A+'`. Please check if json is not malformed @ /forms/rules/'+A.replace(/\./g,
'/')+'.json');A=p.rules[A]}'string'==typeof u&&'undefined'!=typeof Fa[u.replace(/\-/g,'.')]||'object'==typeof A?(u=p.$forms[u].target,A?db(u,A):db(u),++b):('object'==typeof h[n].id?(delete p.$forms[h[n].id],u=h[n].attributes.getNamedItem('id').nodeValue||'form.'+na.v4(),h[n].setAttribute('id',u),h[n].id=u,ca.target=h[n],p.$forms[u]=S({},ca),u=p.$forms[u].target):u=p.$forms[h[n].id].target,A?db(u,A):db(u))}if(window.XMLHttpRequest)O=new XMLHttpRequest;else if(window.ActiveXObject)try{O=new ActiveXObject('Msxml2.XMLHTTP')}catch(V){try{O=
new ActiveXObject('Microsoft.XMLHTTP')}catch(P){}}p.isReady=!0;gina.hasValidator=!0;gina.validator=p;triggerEvent(gina,p.target,'ready.'+p.id,p)}));p.initialized=!0;return p},La=function(e,b){var h;for(h in e)if('object'==typeof e[h]&&'undefined'==typeof p.rules[b+h]){var n=h;/\[|\]/.test(h)&&(n=h.replace(/\[/g,'.').replace(/\]/g,''));p.rules[b+n]=e[h];La(e[h],b+n+'.')}},Ea=function(e){if('undefined'!=typeof Fa[e])return Fa[e];var b=null;if('undefined'==typeof p.rules[e]){if(La(Fa,''),Fa=Da(Fa),b=
Fa[e],!b)return{}}else b=p.rules[e];b=JSON.clone(b);var h=new RegExp('^'+e),n=new RegExp('^'+e+'.'),x=null,u=function(V,P,aa,Q,w,ja,ua){if(P.length){var oa=Object.getOwnPropertyNames(V)[0],la=P[0];la=''==w?w+=la:w+'['+la+']';1==P.length&&(V[oa]=S(V[oa],aa,!0));P.splice(0,1);la==oa?u(V[oa],P,aa,Q,la,ja,ua):'undefined'!=typeof V[oa]?u(V[oa],P,aa,Q,la,ja,ua):u(V,P,aa,Q,w,ja,ua)}},A;for(A in p.rules)A!=e&&h.test(A)&&(x=A.replace(n,''),/\./.test(x)&&(x=x.split(/\./g),u(b,x,p.rules[A],b,'',0,b.count()-
1)));return Fa[e]=b},Oa=function(e,b,h,n,x,u,A){var V=window.gina._global;V.register({root:e||null,obj:h||null,value:u||null,rootObj:A||null});if(x==n)return eval(root+'=value'),b=JSON.clone(rootObj),V.unregister(['root','obj','rootObj','value','valueType']),b;e=b[x].replace(/^\[|\]$/g,'');'undefined'!=typeof rootObj&&rootObj?root+=/^\d+$/.test(e)?'['+e+']':'["'+e+'"]':(rootObj={},root='rootObj',root+=/^\d+$/.test(e)?'['+e+']':'["'+e+'"]',eval(root+'=obj'));u=(h='undefined'!=typeof b[x+1]?b[x+1].replace(/^\[|\]$/g,
''):null)&&parseInt(h)==h?[]:{};V.register({valueType:u});h&&eval(root+' = valueType');if('undefined'==typeof obj[e])return/^\d+$/.test(h)?obj[e]=[]:obj[e]={},++x,Oa(root,b,obj[e],n,x,value,rootObj);++x;return Oa(root,b,obj[e],n,x,value,rootObj)},Ia=function(e,b,h,n,x){if(x>=n)return!1;var u=h[x].replace(/^\[|\]$/g,''),A=x<n-1&&'undefined'!=typeof h[x+1]?h[x+1].replace(/^\[|\]$/g,''):null;'undefined'==typeof e[u]&&(A&&/^\d+$/.test(A)?(parseInt(A),e[u]=[]):e[u]={});Array.isArray(e[u])?(A=Oa(u,h,e[u],
h.length,1,b,null),e[u]=S(e[u],A)):x==n-1&&(e[u]=b);Ia(e[u],b,h,n,x+1)},Ka=function(e){var b=null,h={},n=null,x=function(V,P,aa,Q,w){if(w==Q)return V;var ja=P?Object.keys(aa)[w]:w;/\[(.*)\]/.test(ja)?(n=ja,b=ja.match(/(\[[-_\[a-z 0-9]*\]\]|\[[-_\[a-z 0-9]*\])/ig),ja=ja.match(/^[-_a-z 0-9]+\[{0}/ig),'undefined'==typeof V[ja]&&(V[ja]=Array.isArray(aa[n])?[]:{}),Ia(h,aa[n],b,b.length,0),V[ja]=S(V[ja],h),h={}):V[ja]=aa[ja];++w;return x(V,P,aa,Q,w)},u='undefined'==typeof e?0:1,A=!1;Array.isArray(e)?u=
e.length:'object'==typeof e&&(u=e.count(),A=!0);return x({},A,e,u,0)},Ya=function(e){var b=p.$forms[e.form.getAttribute('id')],h=/^true$/i.test(e.disabled)?!0:!1;h&&'undefined'!=typeof b.rule&&'undefined'!=typeof b.rule[e.name]&&'undefined'!=typeof b.rule[e.name].exclude&&/^false$/i.test(b.rule[e.name].exclude)&&(h=!1);if(/^(radio|text|hidden|password|number|date|email)$/i.test(e.type)&&!h){var n=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,'value'),x=n.set;n.set=function(u){Object.defineProperty(this,
'value',{set:x});var A='change.'+this.id;u===this.value&&u===this.defaultValue||u===this.value||(this.value=u,console.debug('Value set: '+u),'undefined'!=typeof gina.events[A]&&(console.debug('trigger event on: ',this.name,A),triggerEvent(gina,this,A,u)));Object.defineProperty(this,'value',n)};Object.defineProperty(e,'value',n)}},pb=function(e,b,h,n){'undefined'==typeof n&&(n=!1);var x=e.rules,u=p.$forms[b.form.getAttribute('id')],A=/^true$/i.test(b.disabled)?!0:!1;A&&'undefined'!=typeof u.rule&&
'undefined'!=typeof u.rule[b.name]&&'undefined'!=typeof u.rule[b.name].exclude&&/^false$/i.test(u.rule[b.name].exclude)&&(A=!1);if(/^(radio|checkbox|text|hidden|password|number|date|email)$/i.test(b.type)&&!A||n&&!A){n=b.name;u=x[n]||null;if(!u&&(Na(x,b),'undefined'==typeof x[n]))return;if(e.target.dataset.ginaFormLiveCheckEnabled&&u&&(n=[],u=null,A=0,/^(radio|checkbox)$/i.test(b.type)?u=/^(radio|checkbox)$/i.test(b.type)?'changed.'+b.id:'change.'+b.id:(addEventListener(gina,b,'focusout.'+b.id,function(P){P.preventDefault();
clearTimeout(h)}),u='change.'+b.id,'undefined'==typeof gina.events[u]&&(n[A]=u,++A),u='keyup.'+b.id,'undefined'==typeof gina.events[u]&&(n[A]=u,++A),u='focusin.'+b.id,'undefined'==typeof gina.events[u]&&(n[A]=u,++A),u='focusout.'+b.id),'undefined'==typeof gina.events[u]&&(n[A]=u,++A),0<n.length)){var V=!1;addListener(gina,b,n,function(P){P.preventDefault();clearTimeout(h);if(!V&&/^changed\./i.test(P.type)||!V&&/^(radio|checkbox)$/i.test(P.target.type))V=!0;else if(V&&/^changed\./i.test(P.type)||V&&
/^(radio|checkbox)$/i.test(P.target.type))return!1;if('undefined'!=typeof p.$forms[P.target.form.getAttribute('id')].isSubmitting&&/true/i.test(p.$forms[P.target.form.getAttribute('id')].isSubmitting))return!1;var aa=function(){console.debug('processing: '+P.target.name+'/'+P.target.id);if(!/^(radio|checkbox)$/i.test(P.target.type)&&P.target.value===P.target.defaultValue&&''!=P.target.value){var Q=p.$forms[P.target.form.getAttribute('id')].errors;if(Q&&0!=Q.count())F(P.target.form,Q,null,P.target.name);
else return F(P.target.form,{},null,P.target.name),cancelEvent(P)}Q={};var w={};Q[P.target.name]=P.target.value;w[P.target.name]=P.target;p.$forms[P.target.form.getAttribute('id')].isValidating=!0;M(P.target,Q,w,e.rules,function(ja){p.$forms[P.target.form.getAttribute('id')].isValidating=!1;ja.isValid()?F(P.target.form,{},ja.data,P.target.name):F(P.target.form,ja.error,ja.data,P.target.name);var ua=P.target.form,oa=ja=null,la=null;oa=Pb(ua,x);ja=oa.fields;oa=oa.$fields;var Ca=ua.getAttribute('id');
la=p.$forms[Ca].rules;p.$forms[Ca].isValidating=!0;M(ua,ja,oa,la,function(za){p.$forms[Ca].isValidating=!1;console.debug('['+Ca+'] onSilentGlobalLiveValidation: '+za.isValid(),za);var Sa=za.isValid();N&&Z&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:Ca,errors:za.error||{}}));Eb(ua,Sa);V=!1})})};if(/^changed\./i.test(P.type)||/^change\./i.test(P.type)&&'radio'==P.target.type)return function(Q,w){if(!(0<
w))return++w,setTimeout(()=>{console.debug(' changed .... '+b.id);aa()},0)}(V,0);/^focusin\./i.test(P.type)?/\-error/.test(b.parentNode.className)&&(console.debug('#1 you just focusin ....'+b.id,b.value),r(b)):/^focusout\./i.test(P.type)?/\-warning/.test(b.parentNode.className)&&(console.debug('#1 you just focusout ....'+b.id,b.value),r(b),F(b.form,p.$forms[b.form.getAttribute('id')].errors,null,b.name)):/^keyup\./i.test(P.type)?(b.ginaFormValidatorTestedValue=b.value,h=setTimeout(function(){-1<['91',
'17'].indexOf(''+P.keyCode)&&0==L.count()||(console.debug(' keyup ('+P.keyCode+') .... '+b.id,b.value,' VS ',b.ginaFormValidatorTestedValue+'(old)'),aa())},1E3)):/^change\./i.test(P.type)&&!/^(checkbox)$/i.test(P.target.type)&&(console.debug(' change .... '+b.id),aa())})}}},$a=function(e,b){e.setSelectionRange?(e.focus(),e.setSelectionRange(b,b)):e.createTextRange&&(e=e.createTextRange(),e.collapse(!0),e.moveEnd('character',b),e.moveStart('character',b),e.select())},jb=function(e,b){if(document.activeElement&&
document.activeElement.form){e=Array.prototype.filter.call(document.activeElement.form.querySelectorAll('a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), select:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])'),function(x){return 0<x.offsetWidth||0<x.offsetHeight||x===document.activeElement});var h=e.indexOf(document.activeElement);if(-1<h){var n=e[h+1];b&&(n=e[h-1]);(n||e[0]).focus()}}},bc=function(e,b){e.setAttribute('readonly','readonly');addListener(gina,
e,'focusout.'+e.id,function(h){h.preventDefault();clearTimeout(b);h=h.currentTarget;triggerEvent(gina,h,'change.'+h.id);h.setAttribute('readonly','readonly')});addListener(gina,e,'focusin.'+e.id,function(h){h.preventDefault();h.currentTarget.removeAttribute('readonly');var n='keydown.'+h.currentTarget.id;'undefined'==typeof gina.events[n]&&addListener(gina,h.currentTarget,n,function(x){x.preventDefault();clearTimeout(b);var u=x.currentTarget,A=x.currentTarget.value,V=u.selectionStart,P=u.selectionEnd;
u.removeAttribute('readonly');switch(x.keyCode){case 46:case 8:V!=P?(u.value=A.substr(0,V)+A.substr(P),0==V&&(u.value=A.substr(P))):u.value=0==V?A.substring(V+1):A.substr(0,V-1)+A.substr(P);x.currentTarget.setAttribute('readonly','readonly');setTimeout(()=>{u.removeAttribute('readonly');setTimeout(()=>{V!=P?$a(u,V):0==V?$a(u,V):$a(u,V-1)},0)},0);break;case 9:L[16]&&L[9]?jb(u,!0):jb(u);break;case 13:case 16:break;case 37:console.debug('moving left ',V-1);$a(u,V-1);break;case 39:V+1<A.length+1&&$a(u,
V+1);break;case 17:case 91:console.debug('CMD hit');x.preventDefault();break;case 67:if(L[67]&&L[91]||L[67]&&L[17]){u.setSelectionRange(V,P);document.execCommand('copy');break}case 86:if(L[86]&&L[91]||L[86]&&L[17]){V!=P&&(u.value=u.value.replace(A.substring(V,P),''));$a(u,V);document.execCommand('paste');break}case 88:if(L[88]&&L[91]||L[88]&&L[17]){u.setSelectionRange(V,P);document.execCommand('cut');break}case 90:if(L[90]&&L[91]||L[90]&&L[17]){u.value=u.defaultValue;break}default:V!=P?(u.value=A.substr(0,
V)+x.key,P-1<A.length&&(u.value+=A.substring(P))):u.value=0==V?x.key+A.substring(V):A.substr(0,V)+x.key+A.substr(P),x.currentTarget.setAttribute('readonly','readonly'),setTimeout(()=>{u.removeAttribute('readonly');setTimeout(()=>{$a(u,V+1)},0)},0)}})})},$b=function(e,b){if(/^(input|textarea)$/i.test(b.tagName)&&'undefined'==typeof gina.events['registered.'+b.id]){/^file$/i.test(b.type)||Ya(b);switch(b.tagName.toLowerCase()){case 'textarea':pb(e,b,null,!0);break;default:pb(e,b,null),e=b.getAttribute('autocomplete'),
/safari/i.test(navigator.userAgent)&&e&&/^(off|false)/i.test(e)&&bc(b,null)}gina.events['registered.'+b.id]=b.id}},fb=function(e,b,h){var n=b.id+'-'+h+'-'+e+'-trigger',x=document.getElementById(n);x||(n=b.getAttribute('data-gina-form-upload--'+h+ +e+'-trigger'),x=document.getElementById(n));x&&'undefined'==typeof x.isBinded||x&&'undefined'!=typeof x.isBinded&&!/true/i.test(x.isBinded)?(addListener(gina,x,'click',function(u){u.preventDefault();ia(b,e)}),x.isBinded=!0):console.warn('[FormValidator::bindForm][upload]['+
b.id+'] : did not find `upload '+e+' trigger`.\nPlease, make sure that your delete element ID is `'+n+'-'+e+'-trigger`, or add to your file input ('+b.id+') -> `data-gina-form-upload-'+e+'-trigger="your-custom-id"` definition.')},Cb=function(e,b){var h=function(n,x,u){var A=null;switch(x){case 'data-gina-form-upload-action':A='upload-to-tmp-xml';break;case 'data-gina-form-upload-reset-action':A='upload-delete-from-tmp-xml'}var V=n.getAttribute(x);if(!V||''==V){A||console.warn('`'+x+'` definition not found for `'+
n.id+'`. Trying to get default route.');var P=null;try{A&&(V=I.getRoute(A))}catch(aa){P=aa}V?(console.info('Ignore previous warnings regarding upload. I have found a default `'+x+'` route: `'+A+'@'+V.bundle+'`'),n.setAttribute('data-gina-form-upload-action',V.toUrl())):(n='`'+x+'` needs to be defined to proceed for your `input[type=file]` with ID `'+n.id+'`\n'+P+'\n',u&&(u.innerHTML+=n.replace(/(\n|\r)/g,'<br>')),console.error(n))}};h(e,'data-gina-form-upload-action',b);h(e,'data-gina-form-upload-reset-action',
b);h(e,'data-gina-form-upload-delete-action',b)},yb=function(e,b,h){e=Gb(e);db(e.target,b);return h?h(e):e},Gb=function(e){var b=null,h=null;try{if(e.getAttribute&&e.getAttribute('id'))if(h=e.getAttribute('id'),'undefined'!=typeof p.$forms[h])b=p.$forms[h];else throw Error('form instance `'+h+'` not found');else if('undefined'!=typeof e.target)b=e,h=b.id;else throw Error('Validator::unbindForm($target): `$target` must be a DOM element\n'+err.stack);}catch(A){throw Error('Validator::unbindForm($target) could not unbind form `'+
e+'`\n'+A.stack);}if('undefined'!=typeof b&&!b.binded)return b;removeListener(gina,b,'success.'+h);removeListener(gina,b,'error.'+h);b.target.getAttribute('data-gina-form-event-on-submit-success')&&removeListener(gina,b,'success.'+h+'.hform');b.target.getAttribute('data-gina-form-event-on-submit-error')&&removeListener(gina,b,'error.'+h+'.hform');removeListener(gina,b,'validate.'+h);removeListener(gina,b,'validated.'+h);removeListener(gina,b,'submit.'+h);removeListener(gina,b,'reset.'+h);e=[];h=b.target.getElementsByTagName('button');
if(0<h.length)for(let A=0,V=h.length;A<V;++A)e.push(h[A]);h=b.target.getElementsByTagName('a');if(0<h.length)for(let A=0,V=h.length;A<V;++A)e.push(h[A]);h=b.target.getElementsByTagName('input');if(0<h.length)for(let A=0,V=h.length;A<V;++A)if(/^(hidden)$/i.test(h[A].type)||e.push(h[A]),/^(file)$/i.test(h[A].type)){var n=h[A].getAttribute('data-gina-form-virtual');if(n){var x=z(n).target;if(x){e.push(x);for(let P=0,aa=Ba.length;P<aa;P++){var u=Ba[P];'undefined'!=typeof gina.events[u+'.'+n+'.hform']&&
gina.events[u+'.'+n+'.hform']==n&&removeListener(gina,x,u+'.'+n+'.hform')}}}}else for(let P=0,aa=Ba.length;P<aa;P++)n=Ba[P]+'.'+h[A].id,'undefined'!=typeof gina.events[n]&&gina.events[n]==h[A].id&&removeListener(gina,h[A],n),n=Ba[P],'undefined'!=typeof gina.events[n]&&gina.events[n]==h[A].id&&removeListener(gina,h[A],n),n=h[A].id,'undefined'!=typeof gina.events[n]&&gina.events[n]==h[A].id&&removeListener(gina,h[A],n);h=b.target.getElementsByTagName('textarea');if(0<h.length)for(let A=0,V=h.length;A<
V;++A)e.push(h[A]);h=b.target.getElementsByTagName('form');if(0<h.length)for(let A=0,V=h.length;A<V;++A)e.push(h[A]);e.push(b.target);for(let A=0,V=e.length;A<V;++A){h=e[A];n=h.getAttribute('id');for(let P=0,aa=Ba.length;P<aa;P++)u=x=Ba[P],'undefined'!=typeof gina.events[u]&&gina.events[u]==n&&removeListener(gina,h,u),u=n,'undefined'!=typeof gina.events[u]&&gina.events[u]==n&&removeListener(gina,h,u),u=x+'.'+n,'undefined'!=typeof gina.events[u]&&gina.events[u]==n&&removeListener(gina,h,u),u=x+'.'+
n,'undefined'!=typeof gina.events[u]&&gina.events[u]==u&&removeListener(gina,h,u),u=x+'.'+n+'.hform','undefined'!=typeof gina.events[u]&&gina.events[u]==n&&removeListener(gina,h,u)}evt=null;b.binded=!1;return b},Na=function(e,b){b=b.name;if(!e[b])for(let h in e)if(/^\//.test(h)&&(re=h.match(/\/(.*)\//).pop(),flags=h.replace('/'+re+'/',''),re=re.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),re=new RegExp(re,flags),re.test(b))){e[b]=e[h];break}},db=function(e,b){var h=null,n=null,x=typeof(0<Fa.count())?
Fa:p.rules;try{if(e.getAttribute&&e.getAttribute('id'))if(n=e.getAttribute('id'),'undefined'!=typeof p.$forms[n])h=p.$forms[n];else throw Error('form instance `'+n+'` not found');else throw Error('Validator::bindForm($target, customRule): `$target` must be a DOM element\n'+err.stack);}catch(fa){throw Error('Validator::bindForm($target, customRule) could not bind form `'+e+'`\n'+fa.stack);}if('undefined'!=typeof h&&h.binded)return!1;console.debug('binding for: '+n);var u=!1,A=null,V='',P=null;'undefined'!=
typeof b||'string'==typeof n&&'undefined'!=typeof x[n.replace(/\-|\//g,'.')]?(u=!0,A=b&&'object'==typeof b?b:b&&'string'==typeof b&&'undefined'!=typeof x[b.replace(/\-|\//g,'.')]?Ea(b.replace(/\-|\//g,'.')):Ea(n.replace(/\-|\//g,'.')),h.rules=A,N&&Z&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.rules||(gina.forms.rules={}),objCallback={id:n,rules:h.rules},window.ginaToolbar.update('forms',objCallback))):h.rules={};'undefined'==typeof h.target.dataset.ginaFormLiveCheckEnabled&&
0<h.rules.count()?h.target.dataset.ginaFormLiveCheckEnabled=!0:h.target.dataset.ginaFormLiveCheckEnabled='undefined'!=typeof h.target.dataset.ginaFormLiveCheckEnabled?/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)?!0:!1:!1;h.fieldsSet||(h.fieldsSet={});P=null;e.getElementsByTagName('a');b=e.getElementsByTagName('input');var aa=e.getElementsByTagName('textarea');P=e.getElementsByTagName('select');var Q={},w=[],ja={},ua=null,oa={},la=null,Ca=null;for(let fa=0,X=aa.length;fa<X;++fa)Na(h.rules,
aa[fa]),Ca=aa[fa].getAttribute('id'),Ca&&''!=Ca||(Ca='textareas.'+na.v4(),aa[fa].setAttribute('id',Ca)),h.fieldsSet[Ca]||(h.fieldsSet[Ca]={id:Ca,name:aa[fa].name||null,value:aa[fa].value||'',defaultValue:aa[fa].value||''}),/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)&&$b(h,aa[fa]);for(let fa=0,X=b.length;fa<X;++fa){Na(h.rules,b[fa]);Ca=b[fa].getAttribute('id');Ca&&''!=Ca||(Ca='input.'+na.v4(),b[fa].setAttribute('id',Ca));h.fieldsSet[Ca]||(ua=b[fa].value,/$(on|true|false)$/i.test(ua)&&
(ua=/$(on|true)$/i.test(ua)?!0:!1),h.fieldsSet[Ca]={id:Ca,name:b[fa].name||null,value:ua||!/^(checkbox|radio)$/i.test(b[fa].type)?'':b[fa].checked,defaultValue:/^(checkbox|radio)$/i.test(b[fa].type)?b[fa].checked:ua},/^(checkbox|radio)$/i.test(b[fa].type)&&'undefined'==typeof h.fieldsSet[Ca].defaultChecked&&(h.fieldsSet[Ca].defaultChecked=/^(true|on)$/i.test(b[fa].checked)||/^(true|on)$/.test(ua)&&/^(checkbox)$/i.test(b[fa].type)?!0:!1,/^radio$/i.test(b[fa].type)&&(h.fieldsSet[Ca].value=b[fa].value,
h.fieldsSet[Ca].defaultValue=b[fa].value)));/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)&&$b(h,b[fa]);if(ua=b[fa].getAttribute('data-gina-form-element-group'))0>w.indexOf(ua)&&w.push(ua),la=b[fa].getAttribute('name')||Ca,la===Ca&&b[fa].setAttribute('name',Ca),Q[Ca]={id:Ca,name:la,group:ua,target:b[fa]},ja[b[fa].name]=new RegExp('^'+ua.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')),u&&('undefined'==typeof h.rules[b[fa].name]&&(h.rules[b[fa].name]={}),'undefined'!=typeof h.rules[b[fa].name].isRequired&&
h.rules[b[fa].name].isRequired||(h.rules[b[fa].name].exclude=!0));if(0<ja.count())for(var za in ja)b[fa].name!=za&&(b[fa].getAttribute('data-gina-form-element-group'),ja[za].test(b[fa].name)&&(b[fa].disabled=!0,'undefined'==typeof oa[za]&&(oa[za]={}),oa[za][b[fa].name]=b[fa]));if(/^file$/i.test(b[fa].type)){Ca=b[fa].getAttribute('data-gina-form-upload-trigger');Ca||(Ca=b[fa].id);ua=null;la=(new DOMParser).parseFromString(e.innerHTML,'text/html');Ca&&(ua=document.getElementById(Ca));aa=document.getElementById(b[fa].id+
'-error');Cb(b[fa],aa);if((aa=la.getElementById(Ca+'-preview'))&&ua&&!/none/i.test(window.getComputedStyle(aa).display)&&!/none/i.test(aa.parentElement.style.display)){la=0;console.debug('preview is visible ...');ua.customFiles=[];ua.form=e;aa=aa.childNodes;for(let ea=0,qa=aa.length;ea<qa;ea++){var Sa=null;if(/ul/i.test(aa[ea].tagName))for(let Ra=0,ab=aa[ea].length;Ra<ab;Ra++){let eb=$$els[ea];for(let Pa=0,xb=eb.length;Pa<xb;Pa++)/img/i.test(eb[Pa])&&(Sa=eb[Pa],Sa.setAttribute(''),la++)}else/img/i.test(aa[ea].tagName)&&
(Sa=aa[ea],deleteLinkId=Ca+'-'+la+'-delete-trigger',Sa=Sa.src.substr(Sa.src.lastIndexOf('/')+1),ua.customFiles.push({name:Sa,deleteLinkId}),fb('delete',ua,la),la++)}}addListener(gina,b[fa],'change',function(ea){ea.preventDefault();var qa=ea.currentTarget;ea=qa.files;qa.customFiles=Array.from(ea);if(!ea.length)return!1;var Ra=qa.getAttribute('data-gina-form-upload-action'),ab=qa.getAttribute('name'),eb='gina-upload-'+ab.replace(/\[/g,'-').replace(/\]/g,'-'+h.id);qa.setAttribute('data-gina-form-virtual',
eb);var Pa=qa.getAttribute('data-gina-form-upload-on-success'),xb=qa.getAttribute('data-gina-form-upload-on-error'),kb=null;if(0<ea.length){var ib=null;if(y()){ib=gina.popin.getActivePopin();ib.$target=(new DOMParser).parseFromString(ib.target.outerHTML,'text/html');ib.$target.getElementById(ib.id).innerHTML=document.getElementById(ib.id).innerHTML;var ob=ib.$target.getElementById(eb)}else ob=document.getElementById(eb);if(!ob){try{ob=z(eb)||null}catch(Tc){}ob||=y()?ib.$target.createElement('form'):
document.createElement('form');ob.id=eb;ob.action=Ra;ob.enctype='multipart/form-data';ob.method='POST';if('undefined'!=typeof qa.form){Ra='files';var rb=qa.getAttribute('data-gina-form-upload-prefix')||qa.name||qa.getAttribute('name'),mb=qa.id||qa.getAttribute('id'),Nb=!1,Db=qa.getAttribute('data-gina-form-upload-preview')||mb+'-preview';Db=y()?ib.$target.getElementById(Db):document.getElementById(Db);'undefined'!=typeof Db&&(Nb=!0);rb&&(Ra=rb);rb=[];for(var Ib='name group originalFilename ext encoding size height width location mime preview'.split(' '),
Kb=qa.form.getElementsByTagName('INPUT'),Zb,Wb,Gc,qc,Mb=0,Nc=ea.length;Mb<Nc;++Mb){fb('reset',qa,Mb);rb[Mb]=null;Zb=Ra+'['+Mb+']';qc=new RegExp('^'+Zb.replace(/\[/g,'\\[').replace(/\]/g,'\\]'));for(var wc=0,xc=Kb.length;wc<xc;++wc)Zb=Kb[wc].getAttribute('type'),kb=Kb[wc].getAttribute('data-gina-form-upload-error')||mb+'-error'||null,Zb&&/hidden/i.test(Zb)&&(Wb=Kb[wc],Zb=/\[\w+\]$/i.test(Wb.name)?Wb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Wb.name,Gc=/\[\w+\]$/i.test(Wb.name)?Wb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,
''):Wb.name,Wb&&'undefiend'!=typeof Zb&&-1<Ib.indexOf(Zb)&&qc.test(Wb.name)?(rb[Mb]||(rb[Mb]={}),/\[preview\]/i.test(Wb.name)?('undefined'==typeof rb[Mb].preview&&(rb[Mb].preview={}),rb[Mb].preview[Zb]=Wb):rb[Mb][Zb]=Wb):Wb&&'undefiend'!=typeof Zb&&0>Ib.indexOf(Zb)&&qc.test(Wb.name)&&(rb[Mb]||(rb[Mb]={}),/\[preview\]/i.test(Wb.name)?('undefined'==typeof rb[Mb].preview&&(rb[Mb].preview={}),rb[Mb].preview[Gc]=Wb):rb[Mb][Gc]=Wb));qc=0;for(wc=Ib.length;qc<wc;++qc)rb[Mb]||(rb[Mb]={}),'undefined'==typeof rb[Mb][Ib[qc]]&&
(Zb=Ra+'['+Mb+']['+Ib[qc]+']',$newVirtualField=document.createElement('input'),$newVirtualField.type='hidden',$newVirtualField.id='input.'+na.v4(),$newVirtualField.name=Zb,$newVirtualField.value='',qa.form.appendChild($newVirtualField),rb[Mb][Ib[qc]]=qa.form[qa.form.length-1])}ob.uploadProperties={id:qa.form.id||qa.getAttribute('id'),uploadTriggerId:qa.id,$form:qa.form,errorField:kb,mandatoryFields:Ib,uploadFields:rb,hasPreviewContainer:Nb,isPopinContext:y()};Nb&&(ob.uploadProperties.previewContainer=
Db)}Pa?ob.setAttribute('data-gina-form-event-on-submit-success',Pa):ob.setAttribute('data-gina-form-event-on-submit-success','onGenericXhrResponse');xb?ob.setAttribute('data-gina-form-event-on-submit-error',xb):ob.setAttribute('data-gina-form-event-on-submit-error','onGenericXhrResponse');y()?document.getElementById(ib.id).appendChild(ob):document.body.appendChild(ob)}try{var sc=z(eb),Sc=new FormData;qa=null;eb=0;for(var Oc=ea.length;eb<Oc;++eb)qa=ea[eb],Sc.append(ab,qa,qa.name);sc.send(Sc,{withCredentials:!0})}catch(Tc){throw Tc;
}}})}}var Va=function(fa,X){fa.setAttribute('data-value',fa.value);if(/^(true)$/i.test(X.target.dataset.ginaFormLiveCheckEnabled&&0<X.rules.count())){var ea={},qa={},Ra=null;Ra=fa.form;ea[event.target.name]=event.target.value;qa[event.target.name]=event.target;p.$forms[Ra.getAttribute('id')].isValidating=!0;M(event.target,ea,qa,X.rules,function(ab){p.$forms[Ra.getAttribute('id')].isValidating=!1;ab.isValid()?F(Ra,{},ab.data,event.target.name):F(Ra,ab.error,ab.data,event.target.name);var eb=Ra,Pa=
ab=null,xb=null;Pa=Pb(eb,x);ab=Pa.fields;Pa=Pa.$fields;var kb=eb.getAttribute('id');xb=p.$forms[kb].rules;p.$forms[kb].isValidating=!0;M(eb,ab,Pa,xb,function(ib){p.$forms[kb].isValidating=!1;console.debug('[updateSelect]: onSilentGlobalLiveValidation: '+ib.isValid(),ib);ib=ib.isValid();Eb(eb,ib);once=!1})})}};ua=oa=null;za=0;for(ja=P.length;za<ja;++za)if(Na(h.rules,P[za]),Ca=P[za].getAttribute('id'),!Ca||!/^gina\-toolbar/.test(Ca)){Ca&&''!=Ca||(Ca='select.'+na.v4(),P[za].setAttribute('id',Ca));if(ua=
P[za].getAttribute('data-gina-form-element-group'))oa=P[za].getAttribute('name')||Ca,oa===Ca&&P[za].setAttribute('name',Ca),Q[Ca]={id:Ca,name:oa,group:ua,target:P[za]};addListener(gina,P[za],'change',function(fa){fa=fa.target;/select/i.test(fa.type)&&Va(fa,h)});if(P[za].options&&!h.fieldsSet[Ca]){oa=0;if(ua=P[za].getAttribute('data-value')||null)for(la=0,aa=P[za].options.length;la<aa;++la)if(P[za].options[la].value==ua){oa=la;P[za].selectedIndex=oa;break}'undefined'!=typeof P[za].options[P[za].selectedIndex]&&
P[za].options[P[za].selectedIndex].index&&(oa=P[za].options[P[za].selectedIndex].index);h.fieldsSet[Ca]={id:Ca,name:P[za].name||null,value:P[za].options[oa].value||ua||null,selectedIndex:oa||0};'undefined'!=typeof P[za].selectedIndex&&(P[za].options[oa].selected=!0,P[za].setAttribute('data-value',P[za].options[oa].value))}}var qb=function(fa,X,ea,qa){'undefined'==typeof qa&&(qa=!1);if('undefined'==typeof Q[fa])throw Error('Radio & Checkbox dependencies not met: you must use the ID attribue of the `master element` as the `data-gina-form-element-group`');
var Ra=fa.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');fa=Q[fa].target.checked;for(let Pa in Q)if(!/radio|checkbox/i.test(Q[Pa].target.type)){var ab=new RegExp(Ra);var eb=new RegExp(X);if(ab.test(Q[Pa].group)&&eb.test(Q[Pa].group)||ab.test(Q[Pa].group))Q[Pa].target.disabled=!0,'undefined'==typeof h.rules[Q[Pa].name]&&(h.rules[Q[Pa].name]={}),h.rules[Q[Pa].name].exclude=!0,qa?(Q[Pa].target.disabled=fa?!1:!0,h.rules[Q[Pa].name].exclude=fa?!1:!0):(Q[Pa].target.disabled=ea,h.rules[Q[Pa].name].exclude=ea)}},sb=
function(fa,X,ea,qa){'undefined'==typeof qa&&(qa=!1);if(qa&&'undefined'!=typeof Q[X.id])return fa=/true/i.test(X.checked)?!1:!0,qb(X.id,Q[X.id].group,fa,qa);ea=X.name;u&&'undefined'==typeof fa.rules[ea]&&(fa.rules[ea]={});/^true$/i.test(X.checked)?u&&(fa.rules[ea].exclude=!1,'undefined'!=typeof Q[X.id]&&qb(X.id,Q[X.id].group,!1,qa)):u&&(fa.rules[ea].exclude=!0,'undefined'!=typeof Q[X.id]&&qb(X.id,Q[X.id].group,!0,qa))},Hb=function(fa,X){'undefined'==typeof X&&(X=!1);var ea=function(Pa,xb,kb){if(xb)sb(h,
Pa,xb);else for(let ib in Q)if(eb.test(Q[ib].group)||eb.test(Q[ib].target.getAttribute('data-gina-form-element-group')))Q[ib].target.disabled=kb};X&&/^(on)$/i.test(fa.value)&&!fa.checked&&(fa.value=!1);var qa=fa.getAttribute('data-value')||fa.getAttribute('value')||fa.value;qa=/^(true|on)$/.test(qa)?!0:qa;''===qa&&(qa=!1);var Ra=/^(true|on|false)$/i.test(qa)?!0:!1;X&&Ra&&(/^true$/i.test(qa)&&!fa.checked?fa.checked=!0:/^false$/i.test(qa)&&fa.checked&&(fa.checked=!1));qa=fa.checked;var ab=fa.getAttribute('data-gina-form-element-group')||
null,eb=new RegExp(fa.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));qa&&'null'!=qa&&'false'!=qa&&''!=qa?(X?Ob(fa):(setTimeout(function(){fa.checked=!0;ea(fa,ab,!1);Ob(fa)},0),fa.setAttribute('checked','checked')),Ra&&(fa.value=!0,fa.setAttribute('value',!0),typeof('undefined'!=fa.getAttribute('data-value'))&&fa.setAttribute('data-value',!0))):(X?Ob(fa):setTimeout(function(){fa.checked=!1;ea(fa,ab,!0);Ob(fa)},0),fa.removeAttribute('checked'),Ra&&(fa.value=!1,fa.setAttribute('value','false'),typeof('undefined'!=
fa.getAttribute('data-value'))&&fa.setAttribute('data-value','false')))},Ob=function(fa){fa=new RegExp(fa.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(let X in Q)(/checkbox/i.test(Q[X].target.type)&&fa.test(Q[X].group)||/checkbox/i.test(Q[X].target.type)&&fa.test(Q[X].target.getAttribute('data-gina-form-element-group')))&&sb(h,Q[X].target,Q[X].group,!0)},zb=function(fa,X){X=fa.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');X=new RegExp(X);for(let ea in Q)if(/checkbox|radio/i.test(Q[ea].target.type)||(Q[ea].target.disabled=
!0,'undefined'==typeof h.rules[Q[ea].name]&&(h.rules[Q[ea].name]={}),h.rules[Q[ea].name].exclude=!0),X.test(Q[ea].group)||X.test(Q[ea].target.getAttribute('data-gina-form-element-group').replace(/\-|_|@|#|\.|\[|\]/g,'\\$&')))Q[ea].target.disabled=!0,'undefined'==typeof h.rules[Q[ea].name]&&(h.rules[Q[ea].name]={}),/^(true|on)$/i.test(fa.checked)?(Q[ea].target.disabled=!1,h.rules[Q[ea].name].exclude=!1):(Q[ea].target.disabled=!0,h.rules[Q[ea].name].exclude=!0);Ob(fa)},Vb=null,Za=function(fa,X,ea){X=
'undefined'!=typeof X&&X?!0:!1;ea='undefined'!=typeof ea&&ea?!0:!1;var qa=fa.checked,Ra=/^(true|false)$/i.test(fa.value);Vb=document.getElementsByName(fa.name);for(let ab=0,eb=Vb.length;ab<eb;++ab)Vb[ab].id!==fa.id&&qa&&(Vb[ab].checked=!1,Vb[ab].removeAttribute('checked'),zb(Vb[ab],!0));X?zb(fa):(qa&&'null'!=qa&&'false'!=qa&&''!=qa?setTimeout(function(){ea?zb(fa):(fa.checked=!1,fa.removeAttribute('checked'))},0):setTimeout(function(){ea?zb(fa):(fa.checked=!0,fa.setAttribute('checked','checked'))},
0),Ra&&(fa.value=/^true$/.test(fa.value)?!0:!1))};za=0;for(ja=b.length;za<ja;++za){P=b[za].getAttribute('type');if('undefined'==typeof b[za].id||''==b[za].id)b[za].id=P+'-'+na.v4(),b[za].setAttribute('id',b[za].id);if('undefined'!=typeof P&&/^checkbox$/i.test(P)){if(b[za].disabled&&-1<w.indexOf(b[za].id)||!b[za].checked&&-1<w.indexOf(b[za].id)){P=new RegExp(b[za].id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(var gb in Q)P.test(Q[gb].group)&&(Q[gb].target.disabled=!0)}V='change.'+b[za].id;P=function(fa,
X){addListener(gina,fa,X,function(ea){Hb(ea.target);triggerEvent(gina,ea.target,'changed.'+ea.target.id)});Hb(fa,!0)};'undefined'!=typeof gina.events[V]&&gina.events[V]==b[za].id&&removeListener(gina,b[za],V);P(b[za],V)}else'undefined'!=typeof P&&/^radio$/i.test(P)&&(V=b[za].id,P=function(fa,X){addListener(gina,fa,X,function(ea){Za(ea.target);triggerEvent(gina,ea.target,'changed.'+ea.target.id)});Za(fa,!0)},'undefined'!=typeof gina.events[V]&&gina.events[V]==b[za].id&&removeListener(gina,b[za],V),
P(b[za],V))}V='click';P=function(){var fa=null;fa='reset.'+e.id;'undefined'==typeof gina.events[fa]&&addListener(gina,e,fa,function(X){X.preventDefault();var ea=p.$forms[X.currentTarget.id||X.target.id];ea.target.dataset.ginaFormIsResetting=!0;T(ea);X=Pb(ea.target,ea.rules,!0);M(ea.target,X.fields,X.$fields,ea.rules,function(qa){var Ra=qa.isValid();console.debug('silent reset validation result[isValid:'+Ra+']: ',qa);F(ea.target,{});Eb(ea.target,Ra);ea.target.dataset.ginaFormIsResetting=!1})});addListener(gina,
e,'reset',function(X){var ea=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;X.preventDefault();var qa=ea.id;if(!qa)return!1;/^reset\./.test(qa)||(qa='reset.'+ea.id);gina.events[qa]&&triggerEvent(gina,ea,qa,X.detail)});addListener(gina,e,'keydown',function(X){var ea=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;L[X.keyCode]='keydown'==X.type;var qa=ea.id;if(!qa)return!1;/^keydown\./.test(qa)||(qa='keydown.'+ea.id);gina.events[qa]&&
(cancelEvent(X),triggerEvent(gina,ea,qa,X.detail,X))});addListener(gina,e,'keyup',function(X){var ea=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;L[X.keyCode]&&delete L[X.keyCode];var qa=ea.id;if(!qa)return!1;/^keyup\./.test(qa)||(qa='keyup.'+ea.id);gina.events[qa]&&(cancelEvent(X),triggerEvent(gina,ea,qa,X.detail,X))});addListener(gina,e,'focusin',function(X){var ea=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;var qa=ea.id;if(!qa)return!1;
/^focusin\./.test(qa)||(qa='focusin.'+ea.id);gina.events[qa]&&(cancelEvent(X),triggerEvent(gina,ea,qa,X.detail))});addListener(gina,e,'focusout',function(X){var ea=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;var qa=ea.id;if(!qa)return!1;/^focusout\./.test(qa)||(qa='focusout.'+ea.id);gina.events[qa]&&(cancelEvent(X),triggerEvent(gina,ea,qa,X.detail))});addListener(gina,e,'change',function(X){var ea=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;
var qa=ea.id;if(!qa)return!1;/^change\./.test(qa)||(qa='change.'+ea.id);gina.events[qa]&&(cancelEvent(X),triggerEvent(gina,ea,qa,X.detail))});addListener(gina,e,'click',function(X){var ea=X.target,qa=!1,Ra=!1;if(/(label)/i.test(X.target.tagName)&&'undefined'!=typeof X.target.control&&null!=X.target.control&&/(checkbox|radio)/i.test(X.target.control.type)||/(label)/i.test(X.target.parentNode.tagName)&&'undefined'!=typeof X.target.parentNode.control&&null!=X.target.parentNode.control&&/(checkbox|radio)/i.test(X.target.parentNode.control.type))Ra=
X.target.getAttribute('for')||X.target.parentNode.getAttribute('for')?!0:!1,ea=X.target.control||X.target.parentNode.control;if(!ea.disabled&&/(checkbox|radio)/i.test(ea.type)&&!Ra){if(/checkbox/i.test(ea.type))return Hb(ea);if(/radio/i.test(ea.type))return Za(ea,!1,!0)}if(/(button|input)/i.test(ea.tagName)&&/(submit|checkbox|radio)/i.test(ea.type)||/a/i.test(ea.tagName)&&ea.attributes.getNamedItem('data-gina-form-submit')||/a/i.test(ea.parentNode.tagName)&&ea.parentNode.attributes.getNamedItem('data-gina-form-submit')){Ra=
ea.attributes.getNamedItem('data-gina-form-submit');var ab=ea.parentNode.attributes.getNamedItem('data-gina-form-submit');if(Ra||ab)qa=!0,(ab=Ra?ea.getAttribute('data-gina-form-submit-method')||X.currentTarget.getAttribute('method'):ea.parentNode.getAttribute('data-gina-form-submit-method')||X.currentTarget.getAttribute('method'))&&(Ra&&ea.form?ea.form.setAttribute?ea.form.setAttribute('method',ab):X.currentTarget.setAttribute('method',ab):ea.parentNode.form&&(ea.parentNode.form.setAttribute?ea.parentNode.form.setAttribute('method',
ab):X.currentTarget.setAttribute('method',ab)));'undefined'!=typeof ea.id&&ea.getAttribute('id')||ea.setAttribute('id','click.'+na.v4());ea.id=ea.getAttribute('id');if(/^click\./.test(ea.id)||u){Ra=ea.id;if(!Ra)return!1;/^click\./.test(Ra)||(Ra=ea.id);if(!ea.disabled&&/(checkbox|radio)/i.test(ea.type)){if(/checkbox/i.test(ea.type))return Hb(ea);if(/radio/i.test(ea.type))return Za(ea,!1,!0)}if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;if('submit'==ea.type&&!/^submit\./i.test(Ra)||
qa&&!/^submit\./i.test(Ra))Ra='submit.'+Ra;'reset'!=ea.type||/^reset\./i.test(Ra)||(Ra='reset.'+Ra);gina.events[Ra]?(cancelEvent(X),triggerEvent(gina,ea,Ra,X.detail)):qa&&'undefined'!=typeof this.id&&''!=this.id&&'undefined'!=typeof gina.validator.$forms[this.id]&&(gina.validator.getFormById(this.id).submit(),cancelEvent(X))}}})};P();V='validate.'+n;P=function(){addListener(gina,e,V,function(fa){cancelEvent(fa);var X=h.eventData.error||h.eventData.validation||fa.detail;F(fa.target,X.fields||X.error,
X.data);fa=fa.target.getAttribute('id');if('undefined'!=typeof X.isValid&&X.isValid()){var ea=p.$forms[fa].target.getAttribute('data-gina-form-inherits-data')||null;ea&&(X.data=S(X.data,JSON.parse(decodeURIComponent(ea))));p.$forms[fa]?p.$forms[fa].send(X.data):h&&h.send(X.data)}})};'undefined'!=typeof gina.events[V]&&gina.events[V]=='validate.'+n&&removeListener(gina,h,V,P);P();gb=function(fa,X){/^submit\./i.test(fa)||(fa='submit.'+fa);addListener(gina,X,fa,function(ea){cancelEvent(ea);var qa={};
ea={_length:0};var Ra=e.getAttribute('id'),ab='undefined'!=typeof p.$forms[Ra]?p.$forms[Ra].rules:null;p.$forms[Ra].sent||(qa=Pb(e,ab),ea=qa.fields,qa=qa.$fields,ab=p.$forms[Ra].rules,0==ea._length?(delete ea._length,ea={error:[],isValid:function(){return!0},data:Ka(ea)},triggerEvent(gina,e,'validate.'+n,ea)):(n=e.getAttribute('id'),A=(ab=e.getAttribute('data-gina-form-rule'))?Ea(ab.replace(/\-|\//g,'.')):Ea(n.replace(/\-/g,'.')),p.$forms[Ra].isSubmitting=!0,p.$forms[Ra].isSending=!1,M(e,ea,qa,A,
function(eb){triggerEvent(gina,e,'validate.'+n,eb)})))})};w=null;b=[];w=[];P=null;w=e.getElementsByTagName('button');if(0<w.length)for(let fa=0,X=w.length;fa<X;++fa)'submit'==w[fa].type&&b.push(w[fa]);w=e.getElementsByTagName('a');if(0<w.length)for(let fa=0,X=w.length;fa<X;++fa)w[fa].attributes.getNamedItem('data-gina-form-submit')?b.push(w[fa]):w[fa].getAttribute('id')||/gina\-popin/.test(w[fa].className)||gina.popinIsBinded||/gina\-link/.test(w[fa].className)||(P='link.'+na.v4(),w[fa].id=P);P=null;
za=!1;for(let fa=0,X=b.length;fa<X;++fa){w=b[fa];if(/button/i.test(w.tagName)&&'undefined'!=typeof w.type&&/submit/i.test(w.type)||/a/i.test(w.tagName)&&'undefined'!=typeof w.dataset.ginaFormSubmit&&/^true$/i.test(w.dataset.ginaFormSubmit)||/a/i.test(w.parentNode.tagName)&&'undefined'!=typeof w.parentNode.dataset.ginaFormSubmit&&/^true$/i.test(w.parentNode.dataset.ginaFormSubmit)){/a/i.test(w.parentNode.tagName)&&(w=w.parentNode);if('undefined'==typeof w.id||'undefined'!=typeof w.id&&''==w.id)w.id=
'click.'+na.v4(),w.setAttribute('id',w.id);/a/i.test(w.tagName)&&'undefined'==typeof w.form&&(w.form={id:h.id});'undefined'==typeof w.dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof p.$forms[h.id]&&'undefined'==typeof p.$forms[h.id].submitTrigger&&'undefined'!=typeof w.form.id&&h.id==w.form.id&&(console.debug('attching submitTrigger: '+w.id,'  form id: '+h.id),p.$forms[h.id].submitTrigger=h.submitTrigger=w.id||w.getAttribute('id'),w.dataset.ginaFormSubmitTriggerFor=h.id)}'A'==w.tagName&&(P=
w.getAttribute('onclick'),za=w.getAttribute('data-gina-form-submit'),P||za?/return false/i.test(P)||za||(P=/;$/.test(P)?P+'return false;':P+'; return false;'):w.setAttribute('onclick','return false;'));w.id?V=w.id:(V='click.'+na.v4(),w.id=V,w.setAttribute('id',V));'undefined'!=typeof gina.events[V]&&gina.events[V]==w.id||gb(V,w)}V='submit';addListener(gina,e,V,function(fa){var X=fa.target,ea=X.getAttribute('id'),qa=p.$forms[ea],Ra=h.binded;(qa=(new DOMParser).parseFromString(X.innerHTML,'text/html').getElementById(qa.submitTrigger))&&
qa.disabled&&cancelEvent(fa);if('undefined'!=typeof fa.defaultPrevented&&fa.defaultPrevented)return!1;(u||Ra)&&cancelEvent(fa);fa={};Ra={_length:0};qa='undefined'!=typeof gina.validator.$forms[ea]?gina.validator.$forms[ea].rules:null;for(var ab=null,eb=null,Pa=0,xb=X.length;Pa<xb;++Pa)ab=X[Pa].getAttribute('name'),eb=X[Pa].disabled||X[Pa].getAttribute('disabled'),eb=/disabled|true/i.test(eb)?!0:!1,ab&&!eb&&('undefined'!=typeof X[Pa].type&&'radio'==X[Pa].type||'undefined'!=typeof X[Pa].type&&'checkbox'==
X[Pa].type?X[Pa].checked?/^(true|false)$/.test(X[Pa].value)?Ra[ab]=X[Pa].value=/^true$/.test(X[Pa].value)?!0:!1:Ra[ab]=X[Pa].value:qa&&'undefined'!=typeof qa[ab]&&'undefined'!=typeof qa[ab].isBoolean&&'checkbox'==X[Pa].type&&!/^(true|false)$/.test(X[Pa].value)&&(Ra[ab]=!1):Ra[ab]=X[Pa].value,fa[ab]=X[Pa],fa[ab].setAttribute('data-gina-form-errors',''));Ra._length=Ra.count();0==Ra._length?(delete Ra._length,fa={error:[],isValid:function(){return!0},data:Ka(Ra)},'undefined'!=typeof gina.events['submit.'+
ea]?triggerEvent(gina,X,'submit.'+ea,fa):triggerEvent(gina,X,'validate.'+ea,fa)):(A=(qa=X.getAttribute('data-gina-form-rule'))?Ea(qa.replace(/\-|\//g,'.')):Ea(ea.replace(/\-/g,'.')),p.$forms[ea].isValidating=!0,M(X,Ra,fa,A,function(kb){p.$forms[ea].isValidating=!1;'undefined'!=typeof gina.events['submit.'+ea]?triggerEvent(gina,X,'submit.'+ea,kb):triggerEvent(gina,X,'validate.'+ea,kb)}))});p.$forms[n].binded=!0;/^(true)$/i.test(h.target.dataset.ginaFormLiveCheckEnabled&&0<h.rules.count())?(console.debug('silent validation mode on'),
gb=Pb(h.target,h.rules),M(h.target,gb.fields,gb.$fields,h.rules,function(fa){console.debug('silent validation result[isValid:'+fa.isValid()+']: ',fa);N&&Z&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:n,errors:fa.error}));Eb(h,fa.isValid())})):/^(true)$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)||Eb(h,!0)},Eb=function(e,b){$formInstance=null;e instanceof HTMLFormElement?(e=e.getAttribute('id'),$formInstance=
p.$forms[e]):$formInstance=e;'undefined'==typeof $formInstance.submitTrigger?console.warn('This might be normal, so do not worry if this form is handled by your javascript: `'+$formInstance.id+'`\nGina could not complete `updateSubmitTriggerState()`: `submitTrigger` might not be attached to form instance `'+$formInstance.id+'`\nTo disable this warning, You just need to disable `Form Live Checking on your form by adding to your <form>: `data-gina-form-live-check-enabled=false``'):document.getElementById($formInstance.submitTrigger)&&
(/true/i.test(b)?document.getElementById($formInstance.submitTrigger).disabled=!1:document.getElementById($formInstance.submitTrigger).disabled=!0)},Pb=function(e,b,h){'undefined'==typeof h&&(h=!1);var n={},x={},u=e.id||e.getAttribute('id');'undefined'==typeof b&&(b='undefined'!=typeof p.$forms[u].rules&&0<p.$forms[u].rules.count()?p.$forms[u].rules:null,b||'undefined'==typeof gina.validator.$forms[u]||(b=gina.validator.$forms[u].rules));for(var A=0,V=e.length;A<V;++A){if(h)switch(e[A].tagName.toLowerCase()){case 'input':/^(hidden|text)$/i.test(e[A].type)&&
(e[A].value=e[A].defaultValue)}if(/button/i.test(e[A].tagName)&&'undefined'!=typeof e[A].type&&/submit/i.test(e[A].type)||/a/i.test(e[A].tagName)&&'undefined'!=typeof e[A].dataset.ginaFormSubmit&&/^true$/i.test(e[A].dataset.ginaFormSubmit))/a/i.test(e[A].tagName)&&'undefined'==typeof e[A].form&&(e[A].form={id:u}),'undefined'==typeof e[A].dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof p.$forms[u]&&'undefined'==typeof p.$forms[u].submitTrigger&&'undefined'!=typeof e[A].form.id&&u==e[A].form.id&&
(p.$forms[u].submitTrigger=e[A].id||e[A].getAttribute('id'),e[A].dataset.ginaFormSubmitTriggerFor=u);var P=e[A].getAttribute('name');var aa=e[A].disabled||e[A].getAttribute('disabled');aa=/disabled|true/i.test(aa)?!0:!1;if(P&&!aa){if('undefined'!=typeof e[A].type&&'radio'==e[A].type||'undefined'!=typeof e[A].type&&'checkbox'==e[A].type)if(e[A].checked||'undefined'==typeof b[P]&&'undefined'!=e[A].value&&/^(true|false)$/.test(e[A].value)||!e[A].checked&&'undefined'!=typeof b[P]&&'undefined'!=typeof b[P].isBoolean&&
/^(true|false)$/.test(e[A].value))if(/^(true|false)$/.test(e[A].value))if('undefined'==typeof b[P]?b[P]={isBoolean:!0}:'undefined'!=typeof b[P]&&'undefined'==typeof b[P].isBoolean&&(b[P].isBoolean=!0,b[P].isRequired=!0),'radio'==e[A].type){if('undefined'==typeof b[P])throw Error('rule '+P+' is not defined');/^true$/.test(b[P].isBoolean)&&e[A].checked&&(x[P]=/^true$/.test(e[A].value)?!0:!1)}else x[P]=e[A].value=/^true$/.test(e[A].value)?!0:!1;else x[P]=e[A].value;else b&&'undefined'!=typeof b[P]&&
'undefined'!=typeof b[P].isBoolean&&'undefined'!=typeof b[P].isRequired&&!/^(true|false)$/.test(e[A].value)&&(x[P]=!1);else x[P]=e[A].value;'undefined'==typeof n[P]&&(n[P]=e[A],n[P].setAttribute('data-gina-form-errors',''))}}x._length=x.count()||0;return{$fields:n,fields:x,rules:b}},xa=function(e,b,h,n){return'undefined'==typeof e[h]||/^(null|NaN|undefined|\s*)$/i.test(b[h])?b[h]:'undefined'!=typeof e[h].isNumber||'undefined'!=typeof e[h].isInteger||'undefined'!=typeof e[h].isFloat||'undefined'!=
typeof e[h].toFloat||'undefined'!=typeof e[h].toInteger?(/,/.test(b[h])&&(b[h]=b[h].replace(/,/g,'.').replace(/\s+/g,'')),b[h]):'boolean'==typeof b[h]?b[h]:e[h].isBoolean?/^true$/i.test(b[h])?!0:!1:'undefined'!=typeof n&&/^true$/i.test(n)?'\\"'+b[h]+'\\"':b[h]},ya=function(e,b){'string'!=typeof e&&(e=JSON.stringify(JSON.clone(e)));e=JSON.parse(e.replace(/"(true|false)"/gi,'$1'));for(let h in b)b[h]=xa(e,b,h);return b},Ja=function(e,b,h,n){var x=JSON.parse(e.replace(/"(true|false)"/gi,'$1')),u=JSON.stringify(x);
n&&(b=h[Object.getOwnPropertyNames(h)[0]].form,h=Pb(b,x),delete h.fields._length,b=h.fields,h=h.$fields);n=[];var A=0;for(V in b)n[A]=V,A++;n.sort().reverse();for(let aa=0,Q=n.length;aa<Q;aa++){var V=n[aa].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');V=new RegExp('\\$'+V,'g');A='\\"'+b[n[aa]]+'\\"';var P=V.test(u);P&&'undefined'!=typeof x[n[aa]]?A=xa(x,b,n[aa],!0):P&&console.warn('`'+n[aa]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+n[aa]+'` to `string`.');
e=e.replace(V,A)}if(/\$(.*)/.test(e))for(let aa=0,Q=n.length;aa<Q;aa++)V=n[aa].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'),V=new RegExp('\\$'+V,'g'),A=''!=h[n[aa]].value?'\\"'+h[n[aa]].value+'\\"':'\\"\\"',(P=V.test(u))&&'undefined'!=typeof x[n[aa]]?A=xa(x,b,n[aa],!0):P&&console.warn('`'+n[aa]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+n[aa]+'` to `string`.'),e=e.replace(V,A||h[n[aa]].checked);return JSON.parse(e)},M=function(e,b,h,n,x){delete b._length;
var u=JSON.stringify(n);b=ya(u,b);/\$(.*)/.test(u)&&(n=!/^form$/i.test(e.tagName)&&1==h.count()&&/true/i.test(e.form.dataset.ginaFormLiveCheckEnabled)?!0:!1,n=Ja(u,b,h,n));var A=null,V=u=null,P=!1,aa=0;b.count();var Q=!1,w=null,ja=null,ua=null,oa=0,la=null,Ca=null,za=null,Sa=function(Za,gb,fa){if('undefined'==typeof gb[Za]){skipTest=!1;for(var X in gb)if(!/^_comment$/i.test(X)&&/^\//.test(X)&&(la=X.match(/\/(.*)\//).pop(),Ca=X.replace('/'+la+'/',''),la=la.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),
la=new RegExp(la,Ca),la.test(Za))){skipTest=!0;gb[Za]=gb[X];break}if('undefined'==typeof gb[Za])return}var ea=Object.getOwnPropertyNames(gb)||[];X=0;var qa=ea.length;if(0<qa)for(;X<qa;)'undefined'!=typeof gb[ea[X]].exclude&&/^true$/i.test(gb[ea[X]].exclude)&&(ea.splice(X,1),qa--,X--),X++;for(var Ra in gb[Za])if('function'==typeof Va[Za][Ra]){/^((is)\d+|is$)/.test(Ra)&&'undefined'==typeof Va[Za][Ra]&&(Va[Za][Ra]=function(){},Va[Za][Ra]=U(Va[Za][Ra],Va[Za][Ra.replace(/\d+/,'')]),Va[Za][Ra].setAlias=
function(kb){this._currentValidatorAlias=kb}(Ra));try{if(Array.isArray(gb[Za][Ra])){za=JSON.clone(gb[Za][Ra]);if(/\$[\-\w\[\]]*/.test(za[0])){var ab=za[0].match(/\$[\-\w\[\]]*/g);X=0;for(var eb=ab.length;X<eb;++X)za[0]=za[0].replace(ab[X],Va[ab[X].replace('$','')].value)}Va[Za][Ra].apply(Va[Za],za)}else if(/^query$/.test(Ra)){w=h[Za];ja=w.getAttribute('id');ua='asyncCompleted.'+ja;var Pa=0,xb=!1;if('undefined'!=typeof gina.events[ua]){console.debug('event `'+ua+'` already added');oa=0;break}++oa;
addListener(gina,w,ua,function(kb){kb.preventDefault();Pa++;--oa;var ib=Object.getOwnPropertyNames(gb[Za]);ib[ib.length-1]==Ra&&(Q=!0);ib='asyncCompleted.'+kb.target.getAttribute('id');if(!/true/.test(xb)){Va[Za]=kb.detail;var ob=e;/^form$/i.test(e.tagName)||(ob=e.form);var rb=ob.getAttribute('id');if(Q&&0>=oa&&!xb&&(xb=!0,removeListener(gina,kb.target,ib),x._data=Va.toData(),x._errors=Va.getErrors(Za),x._errors&&0<x._errors.count())){'undefined'==typeof p.$forms[rb].errors&&(p.$forms[rb].errors=
{});p.$forms[rb].errors[Za]=x._errors[Za];if(!mb&&/^true|false$/i.test(p.$forms[rb].isValidating)||''!=Va[Za].target.value)r(Ob[Za]),F(ob,x._errors,x._data,Za),Eb(ob,mb);N&&Z&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:rb,errors:p.$forms[rb].errors||{}}));triggerEvent(gina,ob,'validated.'+rb,x);return}kb=!1;var mb=null;1==ea.length||ea[ea.length-1]==Za?(mb=0<x._errors.count()?!1:!0,!mb&&/^true|false$/i.test(p.$forms[rb].isValidating)&&
(p.$forms[rb].errors=S(x._errors,p.$forms[rb].errors),r(Ob[Za]),F(ob,x._errors,x._data,Za),Eb(ob,mb)),triggerEvent(gina,ob,'validated.'+rb,x)):/^true$/i.test(p.$forms[rb].isValidating)&&1<ea.length&&ea[ea.length-1]!=Za&&(kb=!0);kb&&M(ob,Hb,Ob,gb,function(Nb){p.$forms[rb].isValidating=!1;mb=Nb.isValid();N&&Z&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:rb,errors:Nb.error||{}}));F(ob,Nb.error,Nb.data,Za);
Eb(ob,mb)})}});Va[Za][Ra](gb[Za][Ra]);continue}else Va[Za][Ra](gb[Za][Ra]);delete fa[Za]}catch(kb){if('conditions'==Ra)throw Error('[ ginaFormValidator ] could not evaluate `'+Za+'->'+Ra+'()` where `conditions` must be a `collection` (Array)\nStack:\n'+kb);throw Error('[ ginaFormValidator ] could not evaluate `'+Za+'->'+Ra+'()`\nStack:\n'+kb);}}},Va=null,qb={},sb=!1;Z?/^form$/i.test(e.tagName)?(A=e.getAttribute('id'),u='validated.'+A,p.$forms[A].fields=b,'undefined'!=typeof e.eventData&&'undefined'!=
typeof e.eventData.error&&delete e.eventData.error,Va=new q(b,h,E)):(sb=!0,A=e.form.getAttribute('id')||e.form.target.getAttribute('id'),u='validated.'+A,p.$forms[A].fields=b,Va=new q(b,h,E,p.$forms[A].fieldsSet)):Va=new q(b,null,E);var Hb=null,Ob=null;if(sb){sb=e.form.getAttribute('id');var zb=Pb(p.$forms[sb].target,p.$forms[sb].rules,!1);Hb=ya(JSON.stringify(p.$forms[sb].rules),JSON.clone(zb.fields));Ob=zb.$fields}else Hb=JSON.clone(b),Ob=h;sb='undefined'!=typeof n?JSON.clone(n):{};var Vb=function(Za,
gb,fa,X,ea,qa,Ra,ab){var eb=null;if('undefined'!=typeof qa)for(var Pa in X){var xb=ea[Pa].getAttribute('type');if(Z&&'undefined'==typeof ea[Pa])console.warn('field `'+Pa+'` found for your form rule ('+Za.id+'), but not found in $field collection.\nPlease, check your HTML or remove `'+Pa+'` declaration from your rule if this is a mistake.');else{Z&&ea[Pa].getAttribute('data-gina-form-element-group')&&'undefined'!=typeof qa[Pa]&&'undefined'!=typeof qa[Pa].exclude&&qa[Pa].exclude&&!ea[Pa].disabled&&
(qa[Pa].exclude=!1);var kb='undefined'!=typeof qa['_case_'+Pa]?!0:!1;if(Z&&'input'==ea[Pa].tagName.toLowerCase()&&/^(checkbox)$/i.test(xb))if(!ea[Pa].checked&&'undefined'!=typeof qa[Pa]&&'undefined'!=typeof qa[Pa].isRequired&&/^(false)$/i.test(qa[Pa].isRequired)||ea[Pa].disabled)qa[Pa]={exclude:!0};else{if(!ea[Pa].checked&&'undefined'==typeof qa[Pa])continue}else Z&&'input'==ea[Pa].tagName.toLowerCase()&&/^(radio)$/i.test(xb)&&console.debug('Radio: ',ea[Pa].id,ea[Pa].checked,ea[Pa].value);for(var ib in qa)if(/^_case_/.test(ib)&&
'undefined'!=typeof qa[ib].conditions&&(!Array.isArray(qa[ib].conditions)||qa[ib].conditions.length)&&'undefined'!=typeof qa[ib].conditions[0].rules&&'undefined'!=typeof qa[ib].conditions&&Array.isArray(qa[ib].conditions))if(eb=ib.replace('_case_',''),'undefined'==typeof Ob[eb])console.warn('Found case `'+ib+'` but field `'+eb+'` is misssing in the dom.\n You should add `'+eb+'` element to your form in order to allow Validator to process this case.');else{'undefined'==typeof gb[eb]&&(gb[eb]=Ob[eb].value);
xb=gb[eb];Z&&('true'==X[Pa]?xb=!0:'false'==X[Pa]&&(xb=!1));for(var ob=0,rb=qa[ib].conditions.length;ob<rb;++ob)if(qa[ib].conditions[ob].case==xb)for(var mb in qa[ib].conditions[ob].rules)if(!/^_comment$/i.test(mb)&&mb!=eb&&ea[mb])if(Pa==mb||/^\//.test(mb)||'undefined'!=typeof X[mb]||'undefined'==typeof gb[mb])if(/^\//.test(mb)){if(la=mb.match(/\/(.*)\//).pop(),Ca=mb.replace('/'+la+'/',''),la=la.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),la=new RegExp(la,Ca),la.test(Pa)){if(qa[ib].conditions[ob].case==
xb||/^\//.test(qa[ib].conditions[ob].case)&&(new RegExp(qa[ib].conditions[ob].case)).test(xb))Nb='undefined'!=typeof qa[mb]?qa[mb]:{},qa[mb]=S(qa[ib].conditions[ob].rules[mb],Nb);eb!=mb&&'undefined'!=typeof qa[mb]&&Sa(mb,qa,X)}}else'undefined'!=typeof qa[ib].conditions[ob].rules[mb]&&(caseField=mb,xb=X[caseField],'undefined'==typeof ea[caseField]?console.warn('ignoring case `'+caseField+'`: field `NaN'):(Z&&/^(true|false)$/i.test(xb)&&'undefined'!=typeof qa[caseField]&&'undefined'!=typeof qa[caseField].isBoolean&&
/^(true)$/i.test(qa[caseField].isBoolean)&&(xb=/^(true)$/i.test(xb)?!0:!1),'undefined'!=typeof qa[ib].conditions[ob].rules[mb]&&(Nb='undefined'!=typeof qa[ib].conditions[ob].rules[mb]?qa[ib].conditions[ob].rules[mb]:{},qa[mb]=Nb),eb!=mb&&'undefined'!=typeof qa[mb]&&'undefined'!=typeof X[mb]&&Sa(mb,qa,X)));else{X[mb]=gb[mb];var Nb='undefined'!=typeof qa[mb]?qa[mb]:{};qa[mb]=S(qa[ib].conditions[ob].rules[mb],Nb);Sa(mb,qa,X)}}if(eb!=Pa&&('undefined'!=typeof qa[Pa]&&Sa(Pa,qa,gb),kb)){++ab;kb=qa['_case_'+
Pa].conditions;if(!kb)throw Error('[ ginaFormValidator ] case `_case_'+Pa+'` found without `condition(s)` !\nPlease, check your delcaration for `_case_'+Pa+'`');for(let Kb=0,Zb=kb.length;Kb<Zb;++Kb)if(xb=gb[Pa],Z&&('true'==X[Pa]?xb=!0:'false'==X[Pa]&&(xb=!1)),kb[Kb]['case']===xb||Array.isArray(kb[Kb]['case'])&&-1<kb[Kb]['case'].indexOf(xb)||/^\//.test(kb[Kb]['case'])){Nb={};if('undefined'==typeof kb[Kb].rules[Pa]&&'undefined'==typeof gb[Pa]||ea[Pa].disabled)kb[Kb].rules[Pa]={exclude:!0};for(var Db in kb[Kb].rules)if(!/^_comment$/i.test(Db))if(/^\//.test(Db)){la=
Db.match(/\/(.*)\//).pop();Ca=Db.replace('/'+la+'/','');la=la.replace(/\[/g,'\\[').replace(/\]/g,'\\]');la=new RegExp(la,Ca);for(var Ib in ea)la.test(Ib)&&(/^\//.test(kb[Kb]['case'])?(la=kb[Kb]['case'].match(/\/(.*)\//).pop(),Ca=kb[Kb]['case'].replace('/'+la+'/',''),la=new RegExp(la,Ca),la.test(xb)&&(Nb[Ib]=kb[Kb].rules[Db])):Nb[Ib]=kb[Kb].rules[Db],'undefined'==typeof X[Ib]&&'undefined'!=typeof ea[Ib]&&'undefined'!=typeof ea[Ib].value&&(X[Ib]=ea[Ib].value,Z&&/(true|false)/i.test(X[Ib])&&('true'==
X[Ib]?X[Ib]=!0:'false'==X[Ib]&&(X[Ib]=!1)),Va.addField(Ib,X[Ib]),'undefined'!=typeof fa[Ib]&&(Nb[Ib]=S(Nb[Ib],fa[Ib]))))}else/^\//.test(kb[Kb]['case'])?(la=kb[Kb]['case'].match(/\/(.*)\//).pop(),Ca=kb[Kb]['case'].replace('/'+la+'/',''),la=la.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),la=new RegExp(la,Ca),la.test(xb)&&(Nb[Db]=kb[Kb].rules[Db])):Nb[Db]=kb[Kb].rules[Db],'undefined'==typeof X[Db]&&'undefined'!=typeof ea[Db]&&'undefined'!=typeof ea[Db].value&&(X[Db]=ea[Db].value,Z&&/(true|false)/i.test(X[Db])&&
('true'==X[Db]?X[Db]=!0:'false'==X[Db]&&(X[Db]=!1)),Va.addField(Db,X[Db]),'undefined'!=typeof fa[Db]&&(Nb[Db]=S(Nb[Db],fa[Db])));++aa;if(Z)Vb(Za,gb,fa,X,ea,Nb,Ra,ab);else return Vb(Za,gb,fa,X,ea,Nb,Ra,ab)}--ab}}}--aa;if(0>=ab&&0>aa){gb=Va.getErrors();for(Pa in gb){for(rule in gb[Pa])qb[Pa]||(qb[Pa]=''),0>qb[Pa].indexOf(rule)&&(qb[Pa]+=rule+' ');Z&&ea[Pa].setAttribute('data-gina-form-errors',qb[Pa].substr(0,qb[Pa].length-1))}try{V=Ka(Va.toData()),N&&Z&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&
(gina.forms.validated||(gina.forms.validated={}),gina.forms.validated[A]||(gina.forms.validated[A]={}),window.ginaToolbar.update('forms',{id:A,validated:V}))}catch(Kb){throw Kb;}Q=!0;if(!P&&0>=oa)if('undefined'!=typeof Ra&&'function'===typeof Ra)Ra._errors=Va.getErrors(),Ra._data=Va.toData(),triggerEvent(gina,Za,'validated.'+A,Ra);else return P=!0,{isValid:Va.isValid,error:gb,data:V}}};Z&&addListener(gina,e,u,function(Za){Za.preventDefault();if(!P){P=!0;Q=!1;oa=0;var gb=Za.detail,fa=gb._data||Va.toData(),
X=gb._errors||Va.getErrors()||null;console.debug('instance errors: ',p.$forms[A].errors,' VS cbErrors: ',X,Va.isValid(),' VS d.getErrors(): ',Va.getErrors());0<X.count()&&Va.isValid()&&(Va.isValid=function(){return!1});gb({isValid:Va.isValid,error:X,data:Ka(fa)});removeListener(gina,Za.target,'validated.'+Za.target.id)}});if(Z)Vb(e,Hb,sb,b,h,n,x,0);else return Vb(e,Hb,sb,b,h,n,x,0)};return Z?Qa(C):D(C,R,ha)}
'undefined'!==typeof module&&module.exports?module.exports=ValidatorPlugin:'function'===typeof define&&define.amd&&define('gina/validator',['utils/events','utils/dom','lib/form-validator'],function(){return ValidatorPlugin});
define('gina/toolbar','require jquery vendor/uuid lib/collection lib/routing gina/storage gina/validator'.split(' '),function(C){var R=C('jquery');R.noConflict();var ha=C('lib/routing');C('lib/collection');var Ba=C('gina/storage');return function(){var Z=null,N=!1,na=!1,S=!1,U,q=(new Ba({bucket:'gina'})).Collection('plugin'),I=null,p=null,ca=!1,Fa=null,L=null,O=null,E=null,D=null,l='',z=null,y=null,G=null,r='',v=null,F=0,J=0,T=0,sa='',Ga={},W=null,ia=null,da=null,wa=null,ka=null,ta=null,Da=null,Qa=
null,La=null,Ea=null,Oa=null,Ia=null,Ka=null,Ya=null,pb=function(){I=R('#gina-toolbar');if(!I.length)return!1;Fa=I.find('.gina-toolbar-tab > a');L=R('#gina-toolbar-toggle');O=R('#gina-toolbar-panels');E=O.find('.gina-toolbar-panel');z=R('#gina-toolbar-vposition');y=R('#gina-toolbar-hposition');G=z.add(y);v=R('#gina-toolbar-width');I.find('.gina-toolbar-main');W=R('#gina-toolbar-json');ia=R('#gina-toolbar-gina-json');da=R('#gina-toolbar-toggle-code-raw');$forms=R('form:not(.gina-toolbar-options, .gina-toolbar-content)');
La=R('#gina-toolbar-data-html');Ea=R('#gina-toolbar-view-html');Oa=R('#gina-toolbar-forms-html');Qa=R('#gina-toolbar-configuration-environment-html');Ia=R('#gina-toolbar-code-toggle');I.prepend('<textarea class="gina-toolbar-copy"></textarea>');Ka=I.find('.gina-toolbar-copy');p=q.findOne({_name:'toolbar'});p||(p={_name:'toolbar',_version:'1.0.3',_description:'Toolbar settings',_licence:'MIT',_author:[{name:'Fabrice Delaneau',company:'Freelancer'},{name:'Martin-Luther Etouman',company:'Rhinostone'}],
position:'top-right',width:'30',panelId:'#gina-toolbar-data',isCollapsed:!0,isUnfolded:[],debug:{forms:{active:!1,strategy:'frontend'}}},q.insert(p),p=q.findOne({_name:'toolbar'}));'1.0.3'!=p._version&&('1.0.1'>p._version&&(p.isUnfolded||(p.isUnfolded=[]),void 0!=p.codeFolding&&delete p.codeFolding),'undefined'==typeof p.isUnfolded||Array.isArray(p.isUnfolded)||(p.isUnfolded=[]),p._version='1.0.3',p.save(!0));r=p.position;F=p.width;l=p.panelId;ca=p.isCollapsed;I.removeClass('gina-toolbar-hidden');
bc()},$a=function(h,n,x){var u=null,A=null;try{A=W?W.text():'',''==A||'null'==A?W.text('{}'):(ka=JSON.parse(A),Da=JSON.parse(ia.text()),W.text(''),wa||(wa={jsonObject:JSON.clone(ka),ginaJsonObject:JSON.clone(Da)},ta={}))}catch(ja){console.error('Could not load'+(h?' [ '+h+' ] ':' ')+'json\n'+ja.message+'\n'+ja.stack)}if(ka){n&&!x?(ka[h]||(ka[h]={}),ka[h]=Da[h]=n):'data-xhr'==h&&!n&&ka['data-xhr']?delete ka['data-xhr']:x&&(ka=n,Da=x);b(ka,'');Da.environment&&(delete Da.environment.routing,delete Da.environment.reverseRouting,
delete Da.environment.forms);ka.environment&&(delete ka.environment.routing,delete ka.environment.reverseRouting,delete ka.environment.forms);Qa.html(db(ka.environment,Da.environment));u=ka.data;var V=ka.view;x=ka.forms;var P=Da.data,aa=Da.view;A=Da.forms;na=U=!1;var Q=null,w=!1;/^(view-xhr)$/.test(h)&&(Q=!0,V=ka[h],aa=Da[h],u=ka['data-xhr'],P=Da['data-xhr']);if(!h||/^(data)$/.test(h))La.html('<ul class="gina-toolbar-code">'+db(u,P,null,Q)+'</ul>'),Ea.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),
Ea.html(Pb(V,aa,null,Q,Ea)),u=$forms,Oa.html(''),Oa.html(ya(x,A,Oa,0,u,u.length,Q)),Oa.find('div.gina-toolbar-section > h2').off('click').on('click',function(ja){ja.preventDefault();R(this).parent().find('ul').first().slideToggle()});if(/^(data-xhr|view-xhr)$/.test(h)){if('undefined'==typeof ka[h]||!ka[h]||'null'==ka[h])return!1;Q=!0;w='undefined'!=typeof ka[h].isXHRViewData?!0:w;w||/^(view-xhr)$/.test(h)||'undefined'==typeof ka['el-xhr']||(ta.data=JSON.clone(ka[h]));w&&delete ka[h].isXHRViewData;
/^(data-xhr)$/.test(h)?La.html('<ul class="gina-toolbar-code">'+db(ka[h],Da[h],null,Q)+'</ul>'):/^(view-xhr)$/.test(h)&&(Ea.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),Ea.html(Pb(ka[h],Da[h],null,Q,Ea)))}/^(el-xhr)$/.test(h)&&(Q=!0,u=R('#'+n).find('form:not(.gina-toolbar-options, .gina-toolbar-content)'),Oa.html(''),Oa.html(ya(x,A,Oa,0,u,u.length,
Q)),Oa.find('div.gina-toolbar-section > h2').off('click').on('click',function(ja){ja.preventDefault();R(this).parent().find('ul').first().slideToggle()}));/^(forms)$/.test(h)&&(na=Q=!0,R('#gina-toolbar-form-'+n.id).length||(u=$forms,Oa.html(''),Oa.html(ya(x,A,Oa,0,u,u.length,Q)),Oa.find('div.gina-toolbar-section > h2').off('click').on('click',function(ja){ja.preventDefault();R(this).parent().find('ul').first().slideToggle()})),'undefined'!=typeof n.rules&&Ja(n.id,'rules',n.rules,Q),'undefined'!=typeof n.errors&&
0<n.errors.count()&&Ja(n.id,'errors',n.errors,Q),'undefined'!=typeof n.sent&&Ja(n.id,'sent',n.sent,Q));p.currentFile=ka.file;p.currentFile||(p.currentFile=ka.file);ka.file==p.currentFile&&R(document).ready(function(){na?(N=!0,0<p.isUnfolded.length&&!U&&(U=!0,setTimeout(function(){0<p.isUnfolded.length&&jb(p.isUnfolded,p.isUnfolded.length,0)},200))):Q?(N=!0,0<p.isUnfolded.length&&!U&&(U=!0,jb(p.isUnfolded,p.isUnfolded.length,0))):(N=!1,setTimeout(function(){0<p.isUnfolded.length&&jb(p.isUnfolded,p.isUnfolded.length,
0)},200))})}if(!h||'el-xhr'==h&&!S)S=h&&'el-xhr'==h?!0:!1,xa(h)},jb=function(h,n,x){if(x==n)return!1;var u=h[x],A=null;N&&/^xhr-/.test(u)?(u=u.replace(/^xhr-/,''),A=R('.gina-toolbar-xhr-folding-state-'+u)):A=R('.gina-toolbar-folding-state-'+u);yb(A,function(){x+=1;jb(h,n,x)})},bc=function(){La.add(Ea).off('click','a').on('click','a',function(n){n.preventDefault();yb(R(this),null,!0)}).add(Oa).off('click','a').on('click','a',function(n){n.preventDefault();yb(R(this),null,!0)});Ia.off('click').on('click',
function(n){n.preventDefault();yb('all',null,!0)});La.add(Ea,Oa).off('click','.gina-toolbar-value').on('click','.gina-toolbar-value',function(n){n.preventDefault();try{Ya=R(this).text(),Ka.text(Ya),Ka.select(),document.execCommand('copy',!1,null),Ka.blur()}catch(x){alert('Please press Ctrl/Cmd+C to copy the value')}});da.off('click').on('click',function(n){ka&&window.open('','JSON RAW','width=400,height=100').document.write(JSON.stringify(ka.data))});Fa.off('click').on('click',function(n){n.preventDefault();
Fa.removeClass('gina-toolbar-active');E.removeClass('gina-toolbar-active');R(this).addClass('gina-toolbar-active');l=R(this).attr('href');D=R(l).addClass('gina-toolbar-active');p.panelId=l;p.save()});L.off('click').on('click',function(n){n.preventDefault();I.toggleClass('gina-toolbar-collapsed');ca=I.hasClass('gina-toolbar-collapsed');p.isCollapsed=ca;p.save()});G.off('change').on('change',function(n){n.preventDefault();n=z.val();var x=y.val();r=n+'-'+x;$b(r);p.position=r;p.save()});v.off('change').on('change',
function(n){n.preventDefault();F=v.val();fb(F);p.width=F;p.save()});R(window).off('resize').on('resize',function(){Cb()});R('body').off('keypress').on('keypress',function(n){if(!/INPUT|TEXTAREA/.test(n.target.tagName)){sa=n.keyCode?n.keyCode:n.which?n.which:n.charCode;n=new Date;if('undefined'!=typeof Ga.keynum&&Ga.keynum==sa&&'undefined'!=typeof Ga.pressTime&&500>n.getTime()-Ga.pressTime)switch(sa){case 103:I.toggle()}Ga.pressTime=n.getTime();Ga.keynum=sa}});Fa.filter('[href="'+l+'"]').trigger('click');
ca||R('#gina-toolbar-toggle').trigger('click');$b(r);var h=r.split('-');z.val(h[0]);y.val(h[1]);fb(F);v.val(F);Cb();h=W?W.text():'';/^\{\{ (.*) \}\}/.test(h)?e(h,$a):$a()},$b=function(h){I.removeClass('gina-toolbar-top-left gina-toolbar-top-right gina-toolbar-bottom-left gina-toolbar-bottom-right').addClass('gina-toolbar-'+h)},fb=function(h){I.removeClass('gina-toolbar-auto gina-toolbar-100 gina-toolbar-80 gina-toolbar-60 gina-toolbar-50 gina-toolbar-40 gina-toolbar-30').addClass('gina-toolbar-'+
h)},Cb=function(){J=window.innerHeight-32;I.find('.gina-toolbar-main').css('max-height',J+'px');var h=D.find('.gina-toolbar-main'),n=h.find('.gina-toolbar-content');T=h.height();T==J?n.addClass('gina-toolbar-content-end'):n.removeClass('gina-toolbar-content-end')},yb=function(h,n,x){'undefined'==typeof x&&(x=!1);if(void 0!=h&&h.length&&'all'!=h){Z=h.attr('class');var u=!1;if(/(gina-toolbar-folding-state-[a-z 0-9_-]+|gina-toolbar-xhr-folding-state-[a-z 0-9_-]+)/i.test(Z))if(/gina-toolbar-folding-state-[a-z0-9_-]+/i.test(Z)?
Z=Z.match(/gina-toolbar-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-folding-state-/,''):(u=!0,'undefined'!=typeof Z&&(Z=Z.match(/gina-toolbar-xhr-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-xhr-folding-state-/,'xhr-'))),0>p.isUnfolded.indexOf(Z))p.isUnfolded.push(Z),p.save(),h.hasClass('gina-toolbar-unfolded')||(h.addClass('gina-toolbar-unfolded'),h.next('ul').slideToggle('fast'));else if(-1<p.isUnfolded.indexOf(Z)&&h.hasClass('gina-toolbar-unfolded')){for(var A=new RegExp('^('+
Z+')'),V=0,P=p.isUnfolded.length;V<P;++V)A.test(p.isUnfolded[V])&&(!na&&x||na&&u||x)&&(p.isUnfolded.splice(V,1),--V);p.save(!0);0>p.isUnfolded.indexOf(Z)&&(h.removeClass('gina-toolbar-unfolded'),h.next('ul').slideToggle('fast'))}else h.addClass('gina-toolbar-unfolded'),h.next('ul').slideToggle('fast')}'undefined'!=typeof n&&null!=n&&n()},Gb=function(h){var n={},x=null,u=[],A=0;for(x in h)h.hasOwnProperty(x)&&(u[A]=x,++A);var V=u.length;u.sort();for(A=0;A<V;++A)x=u[A],n[x]=h[x];return n},Na=function(h,
n){var x='';if('undefined'!=typeof h&&''!=h){var u=h;'string'==typeof h&&(u=h.replace(/(\]\[|\[)/g,'-').replace(/\]/,'').replace(/[^A-Za-z0-9_-]/g,'_'));x+=u+'-'}'undefined'!=typeof n&&''!=n?(h=n,'string'==typeof n&&(h=n.replace(/(\]\[|\[)/g,'-').replace(/\]/,'')),x+=h):x=x.substr(0,x.length-1);return x.trim()},db=function(h,n,x,u,A){var V='';x='undefined'!=typeof x&&null!=x?x.replace(/[^A-Za-z0-9_-]/g,'_'):'';var P='undefined'!=typeof A&&null!=A?A:'',aa='undefined'!=typeof u&&null!=u?'-xhr':'';h=
Gb(h);n=Gb(n);for(var Q in h)if('object'!=typeof h[Q]||Array.isArray(h[Q])||null===h[Q])if(Array.isArray(h[Q])){x+='-'+Q.replace(/[^A-Za-z0-9_-]/g,'_');var w=0<h[Q].length||'undefined'!=typeof n[Q]&&0<n[Q].length?'':' is-empty';V+='<li class="gina-toolbar-collection">';V+='<a href="#" class="gina-toolbar-key gina-toolbar'+aa+'-folding-state-'+Na(P,Q.replace(/[^A-Za-z0-9_-]/g,'_'))+w+'">'+Q+' <span>['+h[Q].length+']</span></a>';V+='<ul class="gina-toolbar-collection">'+Eb(h[Q],n[Q],x,u,A)+'</ul>';
V+='</li>';x=x.substr(0,x.length-Q.length)}else w=null===n[Q]?'null':typeof n[Q],'undefined'==w?(V+='<li class="gina-toolbar-key-value">',V+='<span class="gina-toolbar-key gina-toolbar-key-added">'+Q+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+w+'">'+h[Q]+'</span>'):(h[Q]!==n[Q]&&(V+='<li class="gina-toolbar-key-value gina-toolbar-is-overridden">',V+='<span class="gina-toolbar-key">'+Q+':</span> <span class="gina-toolbar-value">'+n[Q]+'</span>',V+='</li>'),V+='<li class="gina-toolbar-key-value">',
V+='<span class="gina-toolbar-key">'+Q+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+w+'">'+h[Q]+'</span>'),V+='</li>';else x+='-'+Q.replace(/[^A-Za-z0-9_-]/g,'_'),w=0<h[Q].count()||'undefined'!=typeof n[Q]&&0<n[Q].count()?'':' is-empty',V+='<li class="gina-toolbar-object">',V+='<a href="#" class="gina-toolbar-key gina-toolbar'+aa+'-folding-state-'+Na(P,Q.replace(/[^A-Za-z0-9_-]/g,'_'))+w+'">'+Q+' <span>{ }</span></a>',V+='<ul class="gina-toolbar-object">'+db(h[Q],n[Q],x,
u,A)+'</ul>',V+='</li>',x=x.substr(0,x.length-Q.length);return V},Eb=function(h,n,x,u,A){var V='';x='undefined'!=typeof x&&null!=x?x:'';var P='undefined'!=typeof A&&null!=A?A:'',aa='undefined'!=typeof u&&null!=u?'-xhr':'';n||=[];for(var Q=0,w=h.length;Q<w;++Q)'object'!=typeof h[Q]||Array.isArray(h[Q])?Array.isArray(h[Q])?(x+='-'+Q,''==P&&(P=x),V+='<li class="gina-toolbar-collection">',V+='<a href="#" class="gina-toolbar-key gina-toolbar'+aa+'-folding-state-'+Na(P,Q)+'">'+Q+'<span>[ ]</span></a>',
V+='<ul class="gina-toolbar-collection">'+Eb(h[Q],n[Q],x,u,A)+'</ul>',V+='</li>',x=x.substr(0,x.length-Q.toString().length)):V+='<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+Q+':</span> <span class="gina-toolbar-value">'+h[Q]+'</span></li>':(n[Q]||(n[Q]=h[Q]),x+='-'+Q,''==P&&(P=x),V+='<li class="gina-toolbar-object">',V+='<a href="#" class="gina-toolbar-key gina-toolbar'+aa+'-folding-state-'+Na(P,Q)+'">'+Q+' <span>{ }</span></a>',V+='<ul class="gina-toolbar-object">'+db(h[Q],
n[Q],x,u,A)+'</ul>',V+='</li>',x=x.substr(0,x.length-Q.toString().length-1));return V},Pb=function(h,n,x,u,A,V){x=null!=x?x.replace(/[^A-Za-z0-9_-]/g,'_'):'';var P='undefined'!=typeof u&&null!=u?'-xhr':'';h=Gb(h);n=Gb(n);V||=A;for(var aa in h){var Q=aa;if('object'!=typeof h[aa]||Array.isArray(h[aa])||null===h[aa])if(Array.isArray(h[aa])){var w=R('#gina-toolbar-view-'+x.substr(0,x.length-1));var ja=w.length?!0:!1;!ja||/^html/.test(x)?(w=R('.'+x),ja=x+aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-',w.append('<li class="gina-toolbar-collection"><a href="#" class="gina-toolbar-key gina-toolbar'+
P+'-folding-state-'+Na(aa.replace(/[^A-Za-z0-9_-]/g,'_'),ja.substr(0,ja.length-1))+'">'+aa+' <span>['+h[aa].length+']</span></a><ul> '+Eb(h[aa],n[aa],ja,w.find('li ul.'+x.substr(0,x.length-1)),Q)+'</ul></li>')):(ja=x+aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-',w.find('li.'+x.substr(0,x.length-1)+' ul').append('<li class="gina-toolbar-collection"><a class="gina-toolbar-key gina-toolbar'+P+'-folding-state-'+Na(aa.replace(/[^A-Za-z0-9_-]/g,'_'),ja.substr(0,ja.length-1))+'">'+aa+' <span>['+h[aa].length+']</span></a><ul>'+
Eb(h[aa],n[aa],ja,w.find('li ul.'+x.substr(0,x.length-1)),Q)+'</ul></li>'));x+=aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-';x=x.substr(0,x.length-aa.length-1)}else if(Q=null===n[aa]?'null':typeof n[aa],'undefined'==Q)/\-$/.test(x)&&(x=x.substr(0,x.length-1)),x&&A.find('ul.'+x).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key gina-toolbar-key-added">'+aa+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+h[aa]+'</span></li>');else if(h[aa]!==n[aa]){x||(x+=
aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-');try{A.find('ul.'+x).append('<li class="gina-toolbar-key-value gina-toolbar-is-overridden"><span class="gina-toolbar-key">'+aa+':</span> <span class="gina-toolbar-value">'+n[aa]+'</span></li>'),A.find('ul.'+x).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+aa+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+h[aa]+'</span></li>')}catch(ua){throw Error('GinaToolbarError: `ul.'+x+'` not found');}}else!x||
/^html\-properties/.test(x)?V.find('.gina-toolbar-properties').append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+aa+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+h[aa]+'</span></li>'):V.find('ul.'+x.substr(0,x.length-1)).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+aa+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+h[aa]+'</span></li>');else w=R('#gina-toolbar-view-'+x.substr(0,x.length-
1)),(ja=w.length?!0:!1)?(ja=x+aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-',w.find('ul.'+x.substr(0,x.length-1)).append('<li class="gina-toolbar-object"><a href="#" class="gina-toolbar-key gina-toolbar'+P+'-folding-state-'+Na(aa.replace(/[^A-Za-z0-9_-]/g,'_'),ja.substr(0,ja.length-1))+'">'+aa+' <span>{ }</span></a><ul class="gina-toolbar-object '+ja.substr(0,ja.length-1)+'"></ul></li>'),Pb(h[aa],n[aa],ja,u,w.find('ul.'+x.substr(0,x.length-1)),V),x+=aa.replace(/[^A-Za-z0-9_-]/g,'_')+'-'):(x+=aa.replace(/[^A-Za-z0-9_-]/g,
'_')+'-','params'==aa?(Q='<div id="gina-toolbar-view-'+x.substr(0,x.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+x.substr(0,x.length-1)+'</h2><ul class="'+x.substr(0,x.length-1)+'"></ul></div>',R('#gina-toolbar-view-html-properties').before(Q)):/^html/.test(x)||(Q='<div id="gina-toolbar-view-'+x.substr(0,x.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+x.substr(0,x.length-1)+'</h2><ul class="'+x.substr(0,x.length-1)+'"></ul></div>',
A.append(Q)),Pb(h[aa],n[aa],x,u,A.find('ul.'+x.substr(0,x.length-1)),V)),x=x.substr(0,x.length-aa.length-1)}return V.html()},xa=function(h){h=gina.hasPopinHandler?gina.popin.getActivePopin():null;var n,x=(gina.hasPopinHandler?R('#'+h.id):R('body')).html().match(/404:\[(.+)\](.+)@(.+)"/gm);if(x){var u=0;for(n=x.length;u<n;++u){h=x[u].replace(/"(.*)|"/g,'');var A=h.match(/\[(.*)\]/g,'')[0].replace(/\[|\]/g,'');ha.getRouteByUrl(h,A)}}fLen=ha.notFound.count();if(0<fLen)for(f in ha.notFound)console.warn('(x'+
ha.notFound[f].count+') '+f+' => '+ha.notFound[f].message)},ya=function(h,n,x,u,A,V,P){if(!V)return!1;for(var aa=A[u].attributes,Q,w=A[u].getAttribute('id')||A[u].id,ja=R('<div id="gina-toolbar-form-'+w+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+w+'</h2><ul class="gina-toolbar-section-content gina-toolbar-code" style="display: none;"><li class="gina-toolbar-form-attributes"><h3 class="gina-toolbar-sub-section-title">'+'gina-toolbar-form-attributes'.replace(/gina-toolbar-form-/,
'')+'</h3><ul class="gina-toolbar-code"></ul></li></ul></div>'),ua,oa,la=null,Ca=0,za=aa.length;Ca<za;++Ca)ua=aa[Ca].name,oa=aa[Ca].nodeValue,/^method$/.test(ua)&&(oa=oa.toUpperCase()),/^class$/.test(ua)&&/\s+/.test(oa)&&(oa='<ul><li>'+oa.replace(/\s+/g,'</li><li>')+'</li></ul>'),/^action$/.test(ua)&&((Q='undefined'!=typeof aa.method?aa.method.nodeValue:void 0)||console.warn('[ ToolbarFormHelper::UndefinedMethod : form `'+aa.id.nodeValue+'` method attribute cannot be left undefined !'),Q=ha.getRouteByUrl(oa,
Q),'undefined'!=typeof Q&&Q||(Q={name:'not found',namespace:'not found',param:{control:'not found',file:'not found'}}),oa='<ul><li><span class="gina-toolbar-key">url</span><span class="gina-toolbar-value">'+(oa||'#')+'</span></li><li><span class="gina-toolbar-key">route</span><span class="gina-toolbar-value">'+Q.name+'</span></li><li><span class="gina-toolbar-key">namespace</span><span class="gina-toolbar-value">'+(Q.namespace||'root controller')+'</span></li><li><span class="gina-toolbar-key">control</span><span class="gina-toolbar-value">'+
Q.param.control+'</span></li><li><span class="gina-toolbar-key">file</span><span class="gina-toolbar-value">'+Q.param.file+'</span></li><ul>',la='<li><span class="gina-toolbar-key">'+ua+':</span><span class="gina-toolbar-value">'+oa+'</span></li>'),/^data-gina-form-event/.test(ua)?(Q='events',la=ja.find('.gina-toolbar-form-attributes').find('.gina-toolbar-key-events').length?!0:!1,ua=ua.replace(/^data-gina-form-event-/,''),la||ja.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+
Q+'"><h3 class="gina-toolbar-sub-section-title">'+Q+'</h3><ul class="gina-toolbar-code"></ul></li>'),la='<li><span class="gina-toolbar-key">'+ua+':</span><span class="gina-toolbar-value">'+oa+'</span></li>',ja.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+Q+' > ul').append(la)):(/^action$/.test(ua)||(la='<li><span class="gina-toolbar-key">'+ua+':</span><span class="gina-toolbar-value">'+oa+'</span></li>'),ja.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-attributes > ul').append(la));
aa=null;try{var Sa=A[u].getAttribute('data-gina-form-rule');aa='undefined'!=typeof Sa&&null!=Sa?eval('gina.forms.rules.'+Sa.replace(/-/g,'.')):eval('gina.forms.rules.'+w.replace(/-/g,'.'))}catch(Va){}aa&&(Q='rules',ja.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+Q+'"><h3 class="gina-toolbar-sub-section-title">'+Q+'</h3><ul class="gina-toolbar-properties">'+db(aa,aa,w,P,Q)+'</ul></li>'));x.append(ja);++u;u<V&&ya(h,n,x,u,A,V,P)},Ja=function(h,n,x,u){var A=R('#gina-toolbar-form-'+
h);$section=A.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+n+'> ul');if(0<$section.length){if(0==x.count())return A.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+n).remove(),!1;$section.html(db(x,x,h,u,n))}else A.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+n+'"><h3 class="gina-toolbar-sub-section-title">'+n+'</h3><ul class="gina-toolbar-properties">'+db(x,x,h,u,n)+'</ul></li>');h=A.find('ul.gina-toolbar-section-content');
h.is(':visible')||h.slideToggle()},M=function(h,n){return h='<label class="gina-toolbar-input-file"><input type="file" multiple id="'+(h+'">')+n+'</label>'},e=function(h,n){h=M('mock','Select your JSON file');La.html(h);W.text('');La.find('input').off('change').on('change',function(x){var u=R(this)[0].files,A=x=null;if(1==u.length)x=R(this)[0].files[0],A=new FileReader,A.addEventListener('load',function(){W.text(A.result);ia.text(A.result);n()},!1),A.readAsBinaryString(x);else{var V=0;A=[];for(var P=
0,aa=u.length;P<aa;++P)switch(x=u[P],!0){case /user/.test(x.name):A[P]=new FileReader;A[P].addEventListener('load',function(Q){W.text(Q.currentTarget.result);++V;V==u.length&&n()},!1);A[P].readAsBinaryString(x);break;case /gina/.test(x.name):A[P]=new FileReader,A[P].addEventListener('load',function(Q){ia.text(Q.currentTarget.result);++V;V==u.length&&n()},!1),A[P].readAsBinaryString(x)}}});return!1},b=function(h,n){for(var x in h)'object'==typeof h[x]&&b(h[x],n+x+'-')};this.update=function(h,n){$a(h,
n)};this.restore=function(){ta&&'undefined'!=typeof ta.data&&(wa.jsonObject.data=ta.data);$a('data',wa.jsonObject,wa.ginaJsonObject);S=!1;ha.notFound={}};if('undefined'!=typeof gina.validator)gina.validator.on('initialized',function(){console.log('toolbar validator ready');pb()});else pb()}});
define('gina','require vendor/uuid lib/merge utils/events helpers/prototypes helpers/dateFormat gina/toolbar'.split(' '),function(C){C('utils/events');var R=C('lib/merge'),ha=C('helpers/dateFormat')();C('helpers/prototypes')({dateFormat:ha});var Ba=C('vendor/uuid');window.process||function(Z,N,na,S,U,q,I){for(q=Z[na]||(Z[na]={});!I&&U<S.length;)I=Z[S[U++]+'requestAnimationFrame'];q[N]=q[N]||I&&I.bind(Z)||Z.setImmediate||Z.setTimeout}(window,'nextTick','process',['r','webkitR','mozR','msR','oR'],0);
window.getComputedStyle||(window.getComputedStyle=function(Z,N){this.el=Z;this.getPropertyValue=function(na){var S=/(\-([a-z]){1})/g;'float'==na&&(na='styleFloat');S.test(na)&&(na=na.replace(S,function(U,q,I){return I.toUpperCase()}));return Z.currentStyle[na]?Z.currentStyle[na]:null};return this});return function(Z){this.plugin='gina';var N='gina-'+Ba.v1(),na=document,S;document.id=N;N={id:N,isFrameworkLoaded:!1,hasValidator:!1,hasPopinHandler:!1,config:{},registeredEvents:{},events:{},setOptions:function(U){S=
R(S,U,!0)}};'undefined'!=typeof parent.window.gina&&(window.gina=R(window.gina||{},parent.window.gina));N=R(window.gina||{},N);registerEvents(this.plugin,['ginaloaded','ready']);triggerEvent(Z,na,'ginaloaded',N)}});
!function(C,R){'object'==typeof exports&&'undefined'!=typeof module?module.exports=R():'function'==typeof define&&define.amd?define('vendor/engine.io',R):(C='undefined'!=typeof globalThis?globalThis:C||self).eio=R()}(this,function(){function C(xa){return C='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(ya){return typeof ya}:function(ya){return ya&&'function'==typeof Symbol&&ya.constructor===Symbol&&ya!==Symbol.prototype?'symbol':typeof ya},C(xa)}function R(xa,ya){if(!(xa instanceof
ya))throw new TypeError('Cannot call a class as a function');}function ha(xa,ya){for(var Ja=0;Ja<ya.length;Ja++){var M=ya[Ja];M.enumerable=M.enumerable||!1;M.configurable=!0;'value'in M&&(M.writable=!0);Object.defineProperty(xa,M.key,M)}}function Ba(xa,ya,Ja){return ya&&ha(xa.prototype,ya),Ja&&ha(xa,Ja),xa}function Z(){return Z=Object.assign||function(xa){for(var ya=1;ya<arguments.length;ya++){var Ja=arguments[ya],M;for(M in Ja)Object.prototype.hasOwnProperty.call(Ja,M)&&(xa[M]=Ja[M])}return xa},
Z.apply(this,arguments)}function N(xa,ya){if('function'!=typeof ya&&null!==ya)throw new TypeError('Super expression must either be null or a function');xa.prototype=Object.create(ya&&ya.prototype,{constructor:{value:xa,writable:!0,configurable:!0}});ya&&S(xa,ya)}function na(xa){return na=Object.setPrototypeOf?Object.getPrototypeOf:function(ya){return ya.__proto__||Object.getPrototypeOf(ya)},na(xa)}function S(xa,ya){return S=Object.setPrototypeOf||function(Ja,M){return Ja.__proto__=M,Ja},S(xa,ya)}
function U(){if('undefined'==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(xa){return!1}}function q(xa,ya,Ja){return q=U()?Reflect.construct:function(M,e,b){var h=[null];h.push.apply(h,e);M=new (Function.bind.apply(M,h));return b&&S(M,b.prototype),M},q.apply(null,arguments)}function I(xa){var ya='function'==typeof Map?new Map:void 0;return I=function(Ja){function M(){return q(Ja,
arguments,na(this).constructor)}if(null===Ja||(e=Ja,-1===Function.toString.call(e).indexOf('[native code]')))return Ja;var e;if('function'!=typeof Ja)throw new TypeError('Super expression must either be null or a function');if(void 0!==ya){if(ya.has(Ja))return ya.get(Ja);ya.set(Ja,M)}return M.prototype=Object.create(Ja.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),S(M,Ja)},I(xa)}function p(xa){if(void 0===xa)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return xa}function ca(xa){var ya=U();return function(){var Ja=na(xa);if(ya){var M=na(this).constructor;Ja=Reflect.construct(Ja,arguments,M)}else Ja=Ja.apply(this,arguments);return!Ja||'object'!=typeof Ja&&'function'!=typeof Ja?p(this):Ja}}function Fa(xa,ya,Ja){return Fa='undefined'!=typeof Reflect&&Reflect.get?Reflect.get:function(M,e,b){for(;!Object.prototype.hasOwnProperty.call(M,e)&&null!==(M=na(M)););if(M)return e=Object.getOwnPropertyDescriptor(M,e),e.get?e.get.call(b):e.value},Fa(xa,ya,Ja||
xa)}function L(xa){if(xa){for(var ya in L.prototype)xa[ya]=L.prototype[ya];return xa}}function O(xa){for(var ya=arguments.length,Ja=Array(1<ya?ya-1:0),M=1;M<ya;M++)Ja[M-1]=arguments[M];return Ja.reduce(function(e,b){return xa.hasOwnProperty(b)&&(e[b]=xa[b]),e},{})}function E(xa,ya){ya.useNativeTimers?(xa.setTimeoutFn=Oa.bind(Ea),xa.clearTimeoutFn=Ia.bind(Ea)):(xa.setTimeoutFn=setTimeout.bind(Ea),xa.clearTimeoutFn=clearTimeout.bind(Ea))}function D(xa){var ya='';do ya=pb[xa%64]+ya,xa=Math.floor(xa/
64);while(0<xa);return ya}function l(){var xa=D(+new Date);return xa!==Ka?($a=0,Ka=xa):xa+'.'+D($a++)}function z(xa){var ya='',Ja;for(Ja in xa)xa.hasOwnProperty(Ja)&&(ya.length&&(ya+='&'),ya+=encodeURIComponent(Ja)+'='+encodeURIComponent(xa[Ja]));return ya}function y(xa){var ya={};xa=xa.split('&');for(var Ja=0,M=xa.length;Ja<M;Ja++){var e=xa[Ja].split('=');ya[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return ya}function G(xa){xa=xa.xdomain;try{if('undefined'!=typeof XMLHttpRequest&&(!xa||
bc))return new XMLHttpRequest}catch(ya){}if(!xa)try{return new (Ea[['Active'].concat('Object').join('X')])('Microsoft.XMLHTTP')}catch(ya){}}function r(){}function v(){for(var xa in fb.requests)fb.requests.hasOwnProperty(xa)&&fb.requests[xa].abort()}function F(xa){var ya=xa,Ja=xa.indexOf('['),M=xa.indexOf(']');-1!=Ja&&-1!=M&&(xa=xa.substring(0,Ja)+xa.substring(Ja,M).replace(/:/g,';')+xa.substring(M,xa.length));var e,b;xa=db.exec(xa||'');for(var h={},n=14;n--;)h[Eb[n]]=xa[n]||'';return-1!=Ja&&-1!=M&&
(h.source=ya,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,':'),h.authority=h.authority.replace('[','').replace(']','').replace(/;/g,':'),h.ipv6uri=!0),h.pathNames=function(x,u){x=u.replace(/\/{2,9}/g,'/').split('/');'/'!=u.substr(0,1)&&0!==u.length||x.splice(0,1);'/'==u.substr(u.length-1,1)&&x.splice(x.length-1,1);return x}(0,h.path),h.queryKey=(e=h.query,b={},e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(x,u,A){u&&(b[u]=A)}),b),h}var J=Object.create(null);J.open='0';J.close='1';J.ping=
'2';J.pong='3';J.message='4';J.upgrade='5';J.noop='6';var T=Object.create(null);Object.keys(J).forEach(function(xa){T[J[xa]]=xa});for(var sa={type:'error',data:'parser error'},Ga='function'==typeof Blob||'undefined'!=typeof Blob&&'[object BlobConstructor]'===Object.prototype.toString.call(Blob),W='function'==typeof ArrayBuffer,ia=function(xa,ya,Ja){var M=xa.type;xa=xa.data;return Ga&&xa instanceof Blob?ya?Ja(xa):da(xa,Ja):W&&(xa instanceof ArrayBuffer||('function'==typeof ArrayBuffer.isView?ArrayBuffer.isView(xa):
xa&&xa.buffer instanceof ArrayBuffer))?ya?Ja(xa):da(new Blob([xa]),Ja):Ja(J[M]+(xa||''))},da=function(xa,ya){var Ja=new FileReader;return Ja.onload=function(){var M=Ja.result.split(',')[1];ya('b'+M)},Ja.readAsDataURL(xa)},wa='undefined'==typeof Uint8Array?[]:new Uint8Array(256),ka=0;64>ka;ka++)wa['ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.charCodeAt(ka)]=ka;var ta='function'==typeof ArrayBuffer,Da=function(xa,ya){if('string'!=typeof xa)return{type:'message',data:Qa(xa,ya)};
var Ja=xa.charAt(0);if('b'===Ja){xa=xa.substring(1);if(ta){var M=.75*xa.length;Ja=xa.length;var e=0;'='===xa[xa.length-1]&&(M--,'='===xa[xa.length-2]&&M--);var b=new ArrayBuffer(M),h=new Uint8Array(b);for(M=0;M<Ja;M+=4){var n=wa[xa.charCodeAt(M)];var x=wa[xa.charCodeAt(M+1)];var u=wa[xa.charCodeAt(M+2)];var A=wa[xa.charCodeAt(M+3)];h[e++]=n<<2|x>>4;h[e++]=(15&x)<<4|u>>2;h[e++]=(3&u)<<6|63&A}ya=Qa(b,ya)}else ya={base64:!0,data:xa};ya={type:'message',data:ya}}else ya=T[Ja]?1<xa.length?{type:T[Ja],data:xa.substring(1)}:
{type:T[Ja]}:sa;return ya},Qa=function(xa,ya){return'blob'===ya&&xa instanceof ArrayBuffer?new Blob([xa]):xa},La=String.fromCharCode(30);L.prototype.on=L.prototype.addEventListener=function(xa,ya){return this._callbacks=this._callbacks||{},(this._callbacks['$'+xa]=this._callbacks['$'+xa]||[]).push(ya),this};L.prototype.once=function(xa,ya){function Ja(){this.off(xa,Ja);ya.apply(this,arguments)}return Ja.fn=ya,this.on(xa,Ja),this};L.prototype.off=L.prototype.removeListener=L.prototype.removeAllListeners=
L.prototype.removeEventListener=function(xa,ya){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var Ja,M=this._callbacks['$'+xa];if(!M)return this;if(1==arguments.length)return delete this._callbacks['$'+xa],this;for(var e=0;e<M.length;e++)if((Ja=M[e])===ya||Ja.fn===ya){M.splice(e,1);break}return 0===M.length&&delete this._callbacks['$'+xa],this};L.prototype.emit=function(xa){this._callbacks=this._callbacks||{};for(var ya=Array(arguments.length-1),Ja=this._callbacks['$'+
xa],M=1;M<arguments.length;M++)ya[M-1]=arguments[M];if(Ja){M=0;for(var e=(Ja=Ja.slice(0)).length;M<e;++M)Ja[M].apply(this,ya)}return this};L.prototype.emitReserved=L.prototype.emit;L.prototype.listeners=function(xa){return this._callbacks=this._callbacks||{},this._callbacks['$'+xa]||[]};L.prototype.hasListeners=function(xa){return!!this.listeners(xa).length};var Ea='undefined'!=typeof self?self:'undefined'!=typeof window?window:Function('return this')(),Oa=setTimeout,Ia=clearTimeout,Ka,Ya=function(xa){function ya(M,
e,b){var h;return R(this,ya),(h=Ja.call(this,M)).description=e,h.context=b,h.type='TransportError',h}N(ya,xa);var Ja=ca(ya);return ya}(I(Error));ka=function(xa){function ya(M){var e;return R(this,ya),(e=Ja.call(this)).writable=!1,E(p(e),M),e.opts=M,e.query=M.query,e.readyState='',e.socket=M.socket,e}N(ya,xa);var Ja=ca(ya);return Ba(ya,[{key:'onError',value:function(M,e,b){return Fa(na(ya.prototype),'emitReserved',this).call(this,'error',new Ya(M,e,b)),this}},{key:'open',value:function(){return'closed'!==
this.readyState&&''!==this.readyState||(this.readyState='opening',this.doOpen()),this}},{key:'close',value:function(){return'opening'!==this.readyState&&'open'!==this.readyState||(this.doClose(),this.onClose()),this}},{key:'send',value:function(M){'open'===this.readyState&&this.write(M)}},{key:'onOpen',value:function(){this.readyState='open';this.writable=!0;Fa(na(ya.prototype),'emitReserved',this).call(this,'open')}},{key:'onData',value:function(M){M=Da(M,this.socket.binaryType);this.onPacket(M)}},
{key:'onPacket',value:function(M){Fa(na(ya.prototype),'emitReserved',this).call(this,'packet',M)}},{key:'onClose',value:function(M){this.readyState='closed';Fa(na(ya.prototype),'emitReserved',this).call(this,'close',M)}}]),ya}(L);for(var pb='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''),$a=0,jb=0;64>jb;jb++);jb=!1;try{jb='undefined'!=typeof XMLHttpRequest&&'withCredentials'in new XMLHttpRequest}catch(xa){}var bc=jb,$b=null!=(new G({xdomain:!1})).responseType;jb=function(xa){function ya(M){var e;
if(R(this,ya),(e=Ja.call(this,M)).polling=!1,'undefined'!=typeof location){var b='https:'===location.protocol,h=location.port;h||=b?'443':'80';e.xd='undefined'!=typeof location&&M.hostname!==location.hostname||h!==M.port;e.xs=M.secure!==b}M=M&&M.forceBase64;return e.supportsBinary=$b&&!M,e}N(ya,xa);var Ja=ca(ya);return Ba(ya,[{key:'doOpen',value:function(){this.poll()}},{key:'pause',value:function(M){var e=this;this.readyState='pausing';var b=function(){e.readyState='paused';M()};if(this.polling||
!this.writable){var h=0;this.polling&&(h++,this.once('pollComplete',function(){--h||b()}));this.writable||(h++,this.once('drain',function(){--h||b()}))}else b()}},{key:'poll',value:function(){this.polling=!0;this.doPoll();this.emitReserved('poll')}},{key:'onData',value:function(M){var e=this;(function(b,h){b=b.split(La);for(var n=[],x=0;x<b.length;x++){var u=Da(b[x],h);if(n.push(u),'error'===u.type)break}return n})(M,this.socket.binaryType).forEach(function(b){if('opening'===e.readyState&&'open'===
b.type&&e.onOpen(),'close'===b.type)return e.onClose({description:'transport closed by the server'}),!1;e.onPacket(b)});'closed'!==this.readyState&&(this.polling=!1,this.emitReserved('pollComplete'),'open'===this.readyState&&this.poll())}},{key:'doClose',value:function(){var M=this,e=function(){M.write([{type:'close'}])};'open'===this.readyState?e():this.once('open',e)}},{key:'write',value:function(M){var e=this;this.writable=!1;(function(b,h){var n=b.length,x=Array(n),u=0;b.forEach(function(A,V){ia(A,
!1,function(P){x[V]=P;++u===n&&h(x.join(La))})})})(M,function(b){e.doWrite(b,function(){e.writable=!0;e.emitReserved('drain')})})}},{key:'uri',value:function(){var M=this.query||{},e=this.opts.secure?'https':'http',b='';!1!==this.opts.timestampRequests&&(M[this.opts.timestampParam]=l());this.supportsBinary||M.sid||(M.b64=1);this.opts.port&&('https'===e&&443!==Number(this.opts.port)||'http'===e&&80!==Number(this.opts.port))&&(b=':'+this.opts.port);M=z(M);return e+'://'+(-1!==this.opts.hostname.indexOf(':')?
'['+this.opts.hostname+']':this.opts.hostname)+b+this.opts.path+(M.length?'?'+M:'')}},{key:'request',value:function(){var M=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Z(M,{xd:this.xd,xs:this.xs},this.opts),new fb(this.uri(),M)}},{key:'doWrite',value:function(M,e){var b=this;M=this.request({method:'POST',data:M});M.on('success',e);M.on('error',function(h,n){b.onError('xhr post error',h,n)})}},{key:'doPoll',value:function(){var M=this,e=this.request();e.on('data',this.onData.bind(this));
e.on('error',function(b,h){M.onError('xhr poll error',b,h)});this.pollXhr=e}},{key:'name',get:function(){return'polling'}}]),ya}(ka);var fb=function(xa){function ya(M,e){var b;return R(this,ya),E(p(b=Ja.call(this)),e),b.opts=e,b.method=e.method||'GET',b.uri=M,b.async=!1!==e.async,b.data=void 0!==e.data?e.data:null,b.create(),b}N(ya,xa);var Ja=ca(ya);return Ba(ya,[{key:'create',value:function(){var M=this,e=O(this.opts,'agent','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','autoUnref');
e.xdomain=!!this.opts.xd;e.xscheme=!!this.opts.xs;var b=this.xhr=new G(e);try{b.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var h in b.setDisableHeaderCheck&&b.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(h)&&b.setRequestHeader(h,this.opts.extraHeaders[h])}catch(n){}if('POST'===this.method)try{b.setRequestHeader('Content-type','text/plain;charset=UTF-8')}catch(n){}try{b.setRequestHeader('Accept','*/*')}catch(n){}'withCredentials'in
b&&(b.withCredentials=this.opts.withCredentials);this.opts.requestTimeout&&(b.timeout=this.opts.requestTimeout);b.onreadystatechange=function(){4===b.readyState&&(200===b.status||1223===b.status?M.onLoad():M.setTimeoutFn(function(){M.onError('number'==typeof b.status?b.status:0)},0))};b.send(this.data)}catch(n){return void this.setTimeoutFn(function(){M.onError(n)},0)}'undefined'!=typeof document&&(this.index=ya.requestsCount++,ya.requests[this.index]=this)}},{key:'onError',value:function(M){this.emitReserved('error',
M,this.xhr);this.cleanup(!0)}},{key:'cleanup',value:function(M){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=r,M)try{this.xhr.abort()}catch(e){}'undefined'!=typeof document&&delete ya.requests[this.index];this.xhr=null}}},{key:'onLoad',value:function(){var M=this.xhr.responseText;null!==M&&(this.emitReserved('data',M),this.emitReserved('success'),this.cleanup())}},{key:'abort',value:function(){this.cleanup()}}]),ya}(L);if(fb.requestsCount=0,fb.requests={},'undefined'!=typeof document)'function'==
typeof attachEvent?attachEvent('onunload',v):'function'==typeof addEventListener&&addEventListener('onpagehide'in Ea?'pagehide':'unload',v,!1);var Cb='function'==typeof Promise&&'function'==typeof Promise.resolve?function(xa){return Promise.resolve().then(xa)}:function(xa,ya){return ya(xa,0)},yb=Ea.WebSocket||Ea.MozWebSocket,Gb='undefined'!=typeof navigator&&'string'==typeof navigator.product&&'reactnative'===navigator.product.toLowerCase(),Na={websocket:function(xa){function ya(M){var e;return R(this,
ya),(e=Ja.call(this,M)).supportsBinary=!M.forceBase64,e}N(ya,xa);var Ja=ca(ya);return Ba(ya,[{key:'doOpen',value:function(){if(this.check()){var M=this.uri(),e=this.opts.protocols,b=Gb?{}:O(this.opts,'agent','perMessageDeflate','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','localAddress','protocolVersion','origin','maxPayload','family','checkServerIdentity');this.opts.extraHeaders&&(b.headers=this.opts.extraHeaders);try{this.ws=Gb?new yb(M,e,b):e?new yb(M,e):new yb(M)}catch(h){return this.emitReserved('error',
h)}this.ws.binaryType=this.socket.binaryType||'arraybuffer';this.addEventListeners()}}},{key:'addEventListeners',value:function(){var M=this;this.ws.onopen=function(){M.opts.autoUnref&&M.ws._socket.unref();M.onOpen()};this.ws.onclose=function(e){return M.onClose({description:'websocket connection closed',context:e})};this.ws.onmessage=function(e){return M.onData(e.data)};this.ws.onerror=function(e){return M.onError('websocket error',e)}}},{key:'write',value:function(M){var e=this;this.writable=!1;
for(var b=function(n){var x=n===M.length-1;ia(M[n],e.supportsBinary,function(u){try{e.ws.send(u)}catch(A){}x&&Cb(function(){e.writable=!0;e.emitReserved('drain')},e.setTimeoutFn)})},h=0;h<M.length;h++)b(h)}},{key:'doClose',value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:'uri',value:function(){var M=this.query||{},e=this.opts.secure?'wss':'ws',b='';this.opts.port&&('wss'===e&&443!==Number(this.opts.port)||'ws'===e&&80!==Number(this.opts.port))&&(b=':'+this.opts.port);this.opts.timestampRequests&&
(M[this.opts.timestampParam]=l());this.supportsBinary||(M.b64=1);M=z(M);return e+'://'+(-1!==this.opts.hostname.indexOf(':')?'['+this.opts.hostname+']':this.opts.hostname)+b+this.opts.path+(M.length?'?'+M:'')}},{key:'check',value:function(){return!!yb}},{key:'name',get:function(){return'websocket'}}]),ya}(ka),polling:jb},db=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
Eb='source protocol authority userInfo user password host port relative path directory file query anchor'.split(' '),Pb=function(xa){function ya(M){var e,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return R(this,ya),e=Ja.call(this),M&&'object'===C(M)&&(b=M,M=null),M?(M=F(M),b.hostname=M.host,b.secure='https'===M.protocol||'wss'===M.protocol,b.port=M.port,M.query&&(b.query=M.query)):b.host&&(b.hostname=F(b.host).host),E(p(e),b),e.secure=null!=b.secure?b.secure:'undefined'!=typeof location&&
'https:'===location.protocol,b.hostname&&!b.port&&(b.port=e.secure?'443':'80'),e.hostname=b.hostname||('undefined'!=typeof location?location.hostname:'localhost'),e.port=b.port||('undefined'!=typeof location&&location.port?location.port:e.secure?'443':'80'),e.transports=b.transports||['polling','websocket'],e.readyState='',e.writeBuffer=[],e.prevBufferLen=0,e.opts=Z({path:'/engine.io',agent:!1,withCredentials:!1,upgrade:!0,timestampParam:'t',rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},
transportOptions:{},closeOnBeforeunload:!0},b),e.opts.path=e.opts.path.replace(/\/$/,'')+'/','string'==typeof e.opts.query&&(e.opts.query=y(e.opts.query)),e.id=null,e.upgrades=null,e.pingInterval=null,e.pingTimeout=null,e.pingTimeoutTimer=null,'function'==typeof addEventListener&&(e.opts.closeOnBeforeunload&&addEventListener('beforeunload',function(){e.transport&&(e.transport.removeAllListeners(),e.transport.close())},!1),'localhost'!==e.hostname&&(e.offlineEventListener=function(){e.onClose('transport close',
{description:'network connection lost'})},addEventListener('offline',e.offlineEventListener,!1))),e.open(),e}N(ya,xa);var Ja=ca(ya);return Ba(ya,[{key:'createTransport',value:function(M){var e=Z({},this.opts.query);e.EIO=4;e.transport=M;this.id&&(e.sid=this.id);e=Z({},this.opts.transportOptions[M],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Na[M](e)}},{key:'open',value:function(){var M=this;if(this.opts.rememberUpgrade&&ya.priorWebsocketSuccess&&
-1!==this.transports.indexOf('websocket'))var e='websocket';else{if(0===this.transports.length)return void this.setTimeoutFn(function(){M.emitReserved('error','No transports available')},0);e=this.transports[0]}this.readyState='opening';try{e=this.createTransport(e)}catch(b){return this.transports.shift(),void this.open()}e.open();this.setTransport(e)}},{key:'setTransport',value:function(M){var e=this;this.transport&&this.transport.removeAllListeners();this.transport=M;M.on('drain',this.onDrain.bind(this)).on('packet',
this.onPacket.bind(this)).on('error',this.onError.bind(this)).on('close',function(b){return e.onClose('transport close',b)})}},{key:'probe',value:function(M){function e(){A||(A=!0,aa(),u.close(),u=null)}function b(){P('transport closed')}function h(){P('socket closed')}function n(Q){u&&Q.name!==u.name&&e()}var x=this,u=this.createTransport(M),A=!1;ya.priorWebsocketSuccess=!1;var V=function(){A||(u.send([{type:'ping',data:'probe'}]),u.once('packet',function(Q){if(!A)if('pong'===Q.type&&'probe'===Q.data){if(x.upgrading=
!0,x.emitReserved('upgrading',u),u)ya.priorWebsocketSuccess='websocket'===u.name,x.transport.pause(function(){A||'closed'!==x.readyState&&(aa(),x.setTransport(u),u.send([{type:'upgrade'}]),x.emitReserved('upgrade',u),u=null,x.upgrading=!1,x.flush())})}else Q=Error('probe error'),Q.transport=u.name,x.emitReserved('upgradeError',Q)}))},P=function(Q){Q=Error('probe error: '+Q);Q.transport=u.name;e();x.emitReserved('upgradeError',Q)},aa=function(){u.removeListener('open',V);u.removeListener('error',P);
u.removeListener('close',b);x.off('close',h);x.off('upgrading',n)};u.once('open',V);u.once('error',P);u.once('close',b);this.once('close',h);this.once('upgrading',n);u.open()}},{key:'onOpen',value:function(){if(this.readyState='open',ya.priorWebsocketSuccess='websocket'===this.transport.name,this.emitReserved('open'),this.flush(),'open'===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var M=0,e=this.upgrades.length;M<e;M++)this.probe(this.upgrades[M])}},{key:'onPacket',value:function(M){if('opening'===
this.readyState||'open'===this.readyState||'closing'===this.readyState)switch(this.emitReserved('packet',M),this.emitReserved('heartbeat'),M.type){case 'open':this.onHandshake(JSON.parse(M.data));break;case 'ping':this.resetPingTimeout();this.sendPacket('pong');this.emitReserved('ping');this.emitReserved('pong');break;case 'error':var e=Error('server error');e.code=M.data;this.onError(e);break;case 'message':this.emitReserved('data',M.data),this.emitReserved('message',M.data)}}},{key:'onHandshake',
value:function(M){this.emitReserved('handshake',M);this.id=M.sid;this.transport.query.sid=M.sid;this.upgrades=this.filterUpgrades(M.upgrades);this.pingInterval=M.pingInterval;this.pingTimeout=M.pingTimeout;this.maxPayload=M.maxPayload;this.onOpen();'closed'!==this.readyState&&this.resetPingTimeout()}},{key:'resetPingTimeout',value:function(){var M=this;this.clearTimeoutFn(this.pingTimeoutTimer);this.pingTimeoutTimer=this.setTimeoutFn(function(){M.onClose('ping timeout')},this.pingInterval+this.pingTimeout);
this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:'onDrain',value:function(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emitReserved('drain'):this.flush()}},{key:'flush',value:function(){if('closed'!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var M=this.getWritablePackets();this.transport.send(M);this.prevBufferLen=M.length;this.emitReserved('flush')}}},{key:'getWritablePackets',value:function(){if(!(this.maxPayload&&
'polling'===this.transport.name&&1<this.writeBuffer.length))return this.writeBuffer;for(var M,e=1,b=0;b<this.writeBuffer.length;b++){if(M=this.writeBuffer[b].data){if('string'==typeof M){for(var h=0,n=0,x=0,u=M.length;x<u;x++)128>(h=M.charCodeAt(x))?n+=1:2048>h?n+=2:55296>h||57344<=h?n+=3:(x++,n+=4);M=n}else M=Math.ceil(1.33*(M.byteLength||M.size));e+=M}if(0<b&&e>this.maxPayload)return this.writeBuffer.slice(0,b);e+=2}return this.writeBuffer}},{key:'write',value:function(M,e,b){return this.sendPacket('message',
M,e,b),this}},{key:'send',value:function(M,e,b){return this.sendPacket('message',M,e,b),this}},{key:'sendPacket',value:function(M,e,b,h){if('function'==typeof e&&(h=e,e=void 0),'function'==typeof b&&(h=b,b=null),'closing'!==this.readyState&&'closed'!==this.readyState)(b=b||{}).compress=!1!==b.compress,M={type:M,data:e,options:b},this.emitReserved('packetCreate',M),this.writeBuffer.push(M),h&&this.once('flush',h),this.flush()}},{key:'close',value:function(){var M=this,e=function(){M.onClose('forced close');
M.transport.close()},b=function x(){M.off('upgrade',x);M.off('upgradeError',x);e()},h=function(){M.once('upgrade',b);M.once('upgradeError',b)};return'opening'!==this.readyState&&'open'!==this.readyState||(this.readyState='closing',this.writeBuffer.length?this.once('drain',function(){M.upgrading?h():e()}):this.upgrading?h():e()),this}},{key:'onError',value:function(M){ya.priorWebsocketSuccess=!1;this.emitReserved('error',M);this.onClose('transport error',M)}},{key:'onClose',value:function(M,e){'opening'!==
this.readyState&&'open'!==this.readyState&&'closing'!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners('close'),this.transport.close(),this.transport.removeAllListeners(),'function'==typeof removeEventListener&&removeEventListener('offline',this.offlineEventListener,!1),this.readyState='closed',this.id=null,this.emitReserved('close',M,e),this.writeBuffer=[],this.prevBufferLen=0)}},{key:'filterUpgrades',value:function(M){for(var e=[],b=0,h=M.length;b<
h;b++)~this.transports.indexOf(M[b])&&e.push(M[b]);return e}}]),ya}(L);Pb.protocol=4;return function(xa,ya){return new Pb(xa,ya)}});
function BindingHelper(C){var R={};'undefined'!=typeof C&&(R=C);R.process=function(ha,Ba,Z){if('undefined'==typeof ha||!Array.isArray(ha))throw Error('`bindings` must be a defined array');'undefined'==typeof Ba&&(Ba=ha.length,Z=0);if(ha[Z]){var N=ha[Z];if('undefined'==typeof N.call)throw Error('`bindings.['+Z+'].call` is required !');if('function'!=typeof R[N.call])throw Error('`bindingContext.'+N.call+'` is not a function');var na=N.call;delete N.call;try{if('undefined'!=typeof N.handler){if(!window[N.handler])throw Error('`'+
N.handler+'` could not be reached. You must expose it to the `window` do object before any call.');var S=N.handler;delete N.handler;window[S].apply(this,Object.values(N));N.handler=S}else R[na].apply(this,Object.values(N));N.call=na}catch(U){console.error('BindingHelper encountered error while trying to execute `'+na+'`'+U.stack||U)}R.process(ha,Ba,Z+1)}};return R}define('helpers/binding',[],function(){return BindingHelper});
if('undefined'!==typeof module&&module.exports){var fs=require('fs'),execSync=require('child_process').execSync,util=require('util'),promisify=util.promisify;try{var console=require('../../logger')}catch(C){}}
function Domain(C,R){var ha='undefined'!==typeof module&&module.exports?!1:!0,Ba=!1;ha&&(Ba=!!window.MSInputMethodContext&&!!document.documentMode);'function'==typeof C&&(R=C,C=void 0);var Z={filename:'../dist/public_suffix_list.dat',url:'https://publicsuffix.org/list/public_suffix_list.dat',alternativeUrl:'https://raw.githubusercontent.com/publicsuffix/list/master/public_suffix_list.dat',isCachingRrequired:!1,isUpdating:!1},N=null,na=null,S=function(p,ca,Fa){if('undefined'==typeof ca)ca=Z;else for(let L in Z)'undefined'==
typeof ca[L]&&(ca[L]=Z[L]);ha||(ca.filename=__dirname+'/'+ca.filename);ha&&ca.isCachingRrequired&&(console.warn('[DOMAIN] `options.isCachingRrequired` is only available for backend'),ca.isCachingRrequired=!1);N=ca;if(Fa)return U(ca,function(L){L?Fa(L):(console.debug('[DOMAIN] PSL Loaded'),Fa(L,p))});U(ca);console.debug('[DOMAIN] PSL Loaded');return p},U=async function(p,ca){var Fa=ha||p.isCachingRrequired?p.url:p.filename,L='undefined'!=typeof p.isUpdating?p.isUpdating:!1,O=null;if(ha)if(na&&!L)ca(!1);
else if(window.fetch){O=L=null;try{L=await fetch(Fa),na=O=await L.text()}catch(D){O=Error('[DOMAIN] Could not load PSL\n'+(D.stack||D.message||D));ca(O);return}p.isUpdating=!1;ca(!1)}else O=Error('[DOMAIN] Fetch API not supported'),ca(O);else{Fa=!1;if('undefined'!=typeof fs.accessSync)try{fs.accessSync(p.filename,fs.constants.F_OK),Fa=!0}catch(D){Fa=!1;try{fs.lstatSync(p.filename).isSymbolicLink()&&(Fa=!0)}catch(l){}}else Fa=fs.existsSync(p.filename);Fa||(p.isCachingRrequired=!0);if(p.isCachingRrequired){Fa=
'curl -o '+p.filename+' '+p.url+' >/dev/null 2>&1';console.debug('[DOMAIN] Running: '+Fa);try{execSync(Fa)}catch(D){console.warn('[DOMAIN] could not fetch from `'+p.url+'`. Trying with `'+p.alternativeUrl+'`');Fa='curl -o '+p.filename+' '+p.alternativeUrl+' >/dev/null 2>&1';try{execSync(Fa)}catch(l){ca(l);return}}var E=!1;nIntervId=setInterval(()=>{if('undefined'!=typeof fs.accessSync)try{fs.accessSync(p.filename,fs.constants.F_OK),E=!0}catch(D){E=!1;try{fs.lstatSync(p.filename).isSymbolicLink()&&
(E=!0)}catch(l){}}else E=fs.existsSync(p.filename);E&&(clearInterval(nIntervId),na=fs.readFileSync(p.filename).toString(),ca(!1))},200)}try{na=fs.readFileSync(p.filename).toString(),ca&&ca(!1)}catch(D){console.warn('[DOMAIN] could not read from `'+p.filename+'`'),U(C,ca)}}},q=function(p){N.isUpdating=!0;U(N,p)},I={getRootDomain:function(p,ca){'undefined'==typeof ca&&(ca=!1);var Fa=!1,L=!1,O=p.replace(/^(.*):\/\/|\/(.*)/g,''),E=O.split(/\./g).reverse(),D=E.length?E.length-1:0,l=na.replace(/\/\/\s*(.*)\n|^\s*\n/gm,
'').split(/\n/).filter(function(z,y,G){/[^a-z 0-9.]+/.test(z)&&(z=z.replace(/[^a-z 0-9.]+/g,'').replace(/^\./g,''));return/\./.test(z)&&!Fa&&(new RegExp('.'+z+'$')).test(O)?(Fa=!0,D=z.split(/\./g).length,G.splice(0,G.length),!1):z});O=E[D];0<D&&(E=E.splice(0,D),L=E[0],/:(.*)$/.test(L)&&(L=L.replace(/:(.*)$/,'')),(L=Fa||!Fa&&-1<l.indexOf(L)?!0:!1)?1<D&&!Fa?(E.splice(2),O=E.reverse().join('.')):O+='.'+E.reverse().join('.'):1<D?(E.splice(2),O=E.reverse().join('.')):O+='.'+E.reverse().join('.'));/:(.*)$/.test(O)&&
(O=O.replace(/:(.*)$/,''));console.debug('[DOMAIN] isSLD: '+Fa,p,' -> ',O);/^true$/i.test(ca);return{value:O,isSLD:Fa,isRegisteredTldOrSld:L}}};ha?I.onReady=function(){}:I.updatePSL=q;return ha&&Ba&&!window.fetch?(Ba=document.createElement('script'),Ba.type='text/javascript',Ba.src='https://cdn.jsdelivr.net/npm/promise-polyfill@8.1.3/dist/polyfill.min.js',q=document.createElement('script'),q.type='text/javascript',q.src='https://cdn.jsdelivr.net/npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js',document.head.appendChild(Ba),
document.head.appendChild(q),setTimeout(()=>S(I,C,R),500)):S(I,C,R)}'undefined'!==typeof module&&module.exports?module.exports=Domain:'function'===typeof define&&define.amd&&define('lib/domain',[],function(){return Domain});
define('gina/link','require jquery vendor/uuid lib/domain lib/merge utils/events'.split(' '),function(C){C('jquery').noConflict();var R=C('vendor/uuid'),ha=C('lib/domain'),Ba=null,Z=C('lib/merge');C('utils/events');return function(N){function na(l,z){var y=E(l),G=y.id,r=document.getElementById(G)||null;(r.getAttribute('data-gina-link-event-on-success')||r.getAttribute('data-gina-link-event-on-error'))&&listenToXhrEvents(y);z='undefined'==typeof z?ca:Z(z,ca);if(/^(http|https):/.test(l)&&!(new RegExp('^'+
window.location.protocol+'//'+window.location.host)).test(l)){var v=Ba.getRootDomain(window.location.hostname).value,F=Ba.getRootDomain(l).value;v=v===F?!0:!1;gina.config.envIsDev&&(console.debug('Checking CORS from Popin plugin...TODO - local CORS Proxy'),console.debug('Is request from same domain ? ',v));v||(l=l.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+l)}z.url=l;y&&'undefined'!=typeof y.options&&(z=Z(y.options,z));z.withCredentials?'withCredentials'in p?z.isSynchrone?p.open(z.method,
z.url,z.isSynchrone):p.open(z.method,z.url):'undefined'!=typeof XDomainRequest?(p=new XDomainRequest,p.open(z.method,z.url)):(p=null,triggerEvent(gina,r,'error.'+G,'CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ')):z.isSynchrone?p.open(z.method,z.url,z.isSynchrone):p.open(z.method,z.url);if(!p)throw Error('No `xhr` object initiated');z.$link=y;handleXhr(p,r,z,C);p.send()}function S(l,z){if('object'!=typeof z)throw Error('`options` must be an object');
l.options=Z(z,U.options);z=document.getElementById(l.id)||null;if('undefined'==typeof q.$links[l.id]){if(-1<Fa.indexOf(l.id))throw Error('`link '+l.id+'` already exists !');if(!gina.events[evt]){addListener(gina,z,evt,function(r){cancelEvent(r);r=O(r.target.id);var v=r.url;'undefined'==typeof r.options.isSynchrone&&(r.options.isSynchrone=!1);'undefined'==typeof r.options.withCredentials&&(r.options.withCredentials=!1);na(v,r.options)});var y=z.childNodes,G=0;lLen=y.length;if(0<lLen)for(;G<lLen;++G)'undefined'!=
typeof y[G].tagName&&L(y[G],z,evt)}l.request=na;l.getLinkById=O;l.getLinkByUrl=E;q.$links[l.id]=l}}this.plugin='link';registerEvents(this.plugin,'loaded ready open close destroy success error progress'.split(' '));var U={options:{url:void 0,'class':'gina-link-default'},authorizedEvents:['ready','success','error'],events:{}},q={plugin:this.plugin,id:'gina-links-'+R.v4(),on,eventData:{},$links:{},target:document,isReady:!1,initialized:!1},I={plugin:this.plugin,on,eventData:{},target:document,url:null,
request:null,$forms:[]},p=null,ca={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}},Fa=[],L=function(l,z,y){addListener(gina,l,'click',function(G){cancelEvent(G);triggerEvent(gina,z,y)})},O=function(l){return'undefined'!=typeof q.$links[l]?q.$links[l]:null},E=function(l){var z=null,y;for(y in gina.link.$links)if('undefined'!=typeof gina.link.$links[y].url&&gina.link.$links[y].url==l){z=gina.link.$links[y];break}return z},D=function(l,z){'undefined'==
typeof l&&(l=q.target);var y,G=null;l=l.getElementsByTagName('a');for(var r=0,v=l.length;r<v;++r)if(((y=l[r].getAttribute('data-gina-link'))||''==y)&&!/^false$/i.test(y)){y=l[r];var F={type:'a',method:'GET'};var J=y.getAttribute('data-gina-link-url');F.url='undefined'!=typeof J&&null!=J?J:y.getAttribute('href');J=y.getAttribute('id');if('undefined'==typeof J||null==J||''==J||/popin\.link/.test(J))J='link.click.gina-link-'+q.id+'-'+R.v4();y.id=J;evt=F.id=J;y.setAttribute('id',evt);'A'==y.tagName&&
(G=y.getAttribute('onclick'));G?'undefined'==typeof G||/return false/.test(G)||(G=/;$/.test(G)?G+'return false;':G+'; return false;',y.setAttribute('onclick',G)):y.setAttribute('onclick','return false;');'undefined'==typeof q.$links[F.id]&&(F.target=y,y=Z(F,I),S(y,z))}};new ha(function(l,z){if(l)throw l;Ba=z});return function(l){q.bindLinks=D;q.request=na;q.getLinkById=O;q.getLinkByUrl=E;q.on('init',function(z){if(window.XMLHttpRequest)p=new XMLHttpRequest;else if(window.ActiveXObject)try{p=new ActiveXObject('Msxml2.XMLHTTP')}catch(y){try{p=
new ActiveXObject('Microsoft.XMLHTTP')}catch(G){}}evt='click';addListener(gina,q.target,evt,function(y){'undefined'==typeof y.target.id&&(y.target.setAttribute('id',evt+'.'+R.v4()),y.target.id=y.target.getAttribute('id'));if(/^link\.click\./.test(y.target.id)){cancelEvent(y);var G=y.target.id;(new RegExp('^link.click.gina-link-'+q.id)).test(G)&&triggerEvent(gina,y.target,G,y.detail)}});'undefined'==typeof l&&(l={});q.options=l;D(q.target,l);gina.linkIsBinded=!0;q.isReady=!0;gina.hasLinkHandler=!0;
gina.link=Z(gina.link,q);triggerEvent(gina,q.target,'ready.'+q.id,q)});q.initialized=!0;return q}(N)}});
define('gina/popin','require vendor/uuid jquery lib/domain lib/merge utils/events'.split(' '),function(C){C('jquery').noConflict();var R=C('vendor/uuid'),ha=C('lib/domain'),Ba=null,Z=C('lib/merge');C('utils/events');return function(N){function na(){var W=null,ia;for(ia in gina.popin.$popins)if('undefined'!=typeof gina.popin.$popins[ia].isOpen&&gina.popin.$popins[ia].isOpen){W=gina.popin.$popins[ia];break}!W&&gina.popin.activePopinId&&(W=gina.popin.$popins[gina.popin.activePopinId]);return W}function S(W,
ia){var da=W.target,wa=W.type;'undefined'!=typeof W.detail&&'function'==typeof W.detail.trim&&(da.innerHTML=W.detail.trim());W=function(fb,Cb,yb){var Gb=yb.getAttribute('data-gina-popin-is-link');Gb=/^true$/i.test(Gb)?!0:!1;'link'!=fb||Gb||(fb='action');addListener(gina,yb,Cb,function(Na){cancelEvent(Na);if('close'!=fb){var db=!1,Eb='loaded.'+ia.id;'undefined'==typeof gina.events[Eb]&&addListener(gina,da,Eb,function(Pb){Pb.preventDefault();db||(db=!0,I(Pb.detail))});Eb={isSynchrone:!1,withCredentials:!1};
Eb=Z(ia.options,Eb);q(ia.name,yb.href,Eb)}removeListener(gina,Na.target,Na.type)});addListener(gina,yb,'click',function(Na){cancelEvent(Na);if(null!=Na.target.getAttribute('disabled')&&'false'!=Na.target.getAttribute('disabled'))return!1;if('link'==fb){var db=Na.target.getAttribute('href')||null,Eb=Na.target.getAttribute('target');null!=Eb&&''!=Eb?window.open(db,Eb):triggerEvent(gina,Na.target,Na.currentTarget.id,ia)}else'undefined'==typeof Na.target.id&&(Na.target.setAttribute('id',Cb+'.'+R.v4()),
Na.target.id=Na.target.getAttribute('id')),/^popin\.close\./.test(Na.target.id)&&(cancelEvent(Na),ia.isRedirecting=!1,O(ia.name)),/^popin\.click\./.test(Na.target.id)&&(cancelEvent(Na),db=Na.target.id,(new RegExp('^popin.click.gina-popin-'+l.id)).test(db)&&triggerEvent(gina,Na.target,db,Na.detail))})};gina.popinIsBinded=!0;var ka=null,ta=null,Da=null;if(!ia.isOpen&&D.options.cancelOnOverlayClick){var Qa=ia.target;if(!D.options.useDialogMode||gina.config.envIsDev)Qa=l.target.childNodes[0];addListener(gina,
Qa,'mousedown',function(fb){if(/gina-popin-is-active/.test(fb.target.className)){removeListener(gina,fb.target,'mousedown');fb=[];ka=0;var Cb=da.getElementsByTagName('button');ta=0;Da=Cb.length;if(0<Da)for(;ta<Da;++ta)/gina-popin-close/.test(Cb[ta].className)&&(fb[ka]=Cb[ta],++ka);Cb=da.getElementsByTagName('div');ta=0;Da=Cb.length;if(0<Da)for(;ta<Da;++ta)/gina-popin-close/.test(Cb[ta].className)&&(fb[ka]=Cb[ta],++ka);Cb=da.getElementsByTagName('a');ta=0;Da=Cb.length;if(0<Da)for(;ta<Da;++ta)/gina-popin-close/.test(Cb[ta].className)&&
(fb[ka]=Cb[ta],++ka);ta=0;for(Da=fb.length;ta<Da;++ta){Cb=fb[ta];let yb=Cb.getAttribute('id');for(let Gb=0,Na=E.length;Gb<Na;Gb++){let db=E[Gb];'undefined'!=typeof gina.events[db]&&gina.events[db]==yb&&removeListener(gina,Cb,db);'undefined'!=typeof gina.events[yb]&&gina.events[yb]==yb&&removeListener(gina,Cb,yb);'undefined'!=typeof gina.events[db+'.'+yb]&&gina.events[db+'.'+yb]==yb&&removeListener(gina,Cb,db+'.'+yb);'undefined'!=typeof gina.events[db+'.'+yb]&&gina.events[db+'.'+yb]==db+'.'+yb&&removeListener(gina,
Cb,db+'.'+yb)}}ia.isRedirecting=!1;O(ia.name)}})}/<form/i.test(da.innerHTML)&&'undefined'!=typeof y&&y&&(ia.hasForm=!0);var La=[],Ea=[];Qa=[];Ea=da.getElementsByTagName('button');ta=ka=0;Da=Ea.length;if(0<Ea.length)for(;ta<Da;++ta)/gina-popin-close/.test(Ea[ta].className)&&(La[ka]=Ea[ta],++ka);Ea=da.getElementsByTagName('div');ta=0;Da=Ea.length;if(0<Da)for(;ta<Da;++ta)/gina-popin-close/.test(Ea[ta].className)&&(La[ka]=Ea[ta],++ka);Ea=da.getElementsByTagName('a');ta=0;Da=Ea.length;if(0<Da)for(;ta<
Da;++ta)/gina-popin-close/.test(Ea[ta].className)?(La[ka]=Ea[ta],++ka):('undefined'==typeof Ea[ta]||/(#|#.*)$/.test(Ea[ta].href)||Ea[ta].id)&&('undefined'==typeof Ea[ta]||/(#|#.*)$/.test(Ea[ta].href)||/^(click\.|popin\.link)/.test(Ea[ta].id))||Qa.push(Ea[ta]);var Oa=null;Ea=null;ta=0;for(Da=La.length;ta<Da;++ta)'A'==La[ta].tagName&&(Oa=La[ta].getAttribute('onclick')),Oa?'undefined'==typeof Oa||/return false/.test(Oa)||(Oa=/;$/.test(Oa)?Oa+'return false;':Oa+'; return false;'):La[ta].setAttribute('onclick',
'return false;'),La[ta].id?Ea=La[ta].id:(Ea='popin.close.'+R.v4(),La[ta].id=Ea,La[ta].setAttribute('id',Ea)),'undefined'!=typeof gina.events[Ea]&&gina.events[Ea]==La[ta].id||W('close',Ea,La[ta]);ka=0;Da=Qa.length;var Ia=null,Ka=null,Ya=null,pb={},$a=null,jb=new DOMParser,bc=null,$b=null;for(Ea=La=La=null;ka<Da;++ka)null==Qa[ka].getAttribute('disabled')&&(Qa[ka].id=/^null$/i.test(Qa[ka].getAttribute('id'))?null:Qa[ka].getAttribute('id'),Qa[ka].id&&/^popin\.link/.test(Qa[ka].id)&&/^popin\.click/.test(Qa[ka].id)?
Ea=Qa[ka].id:(Ea=!0,La=Qa[ka].getAttribute('href'),La&&''!=La&&'#'!=La||('#'!=La&&Qa[ka].setAttribute('href','#'),Ea=!1),/^null$/i.test(Qa[ka].id)?Ea?(Ea='popin.link.'+R.v4(),Qa[ka].setAttribute('data-gina-popin-is-link',!0)):(Ea='popin.click.'+R.v4(),Qa[ka].setAttribute('data-gina-popin-is-link',!1)):Ea=Qa[ka].id,Qa[ka].id=Ea,Qa[ka].setAttribute('id',Ea)),La=(La=Qa[ka].getAttribute('data-gina-form-submit'))&&/^true$/i.test(La)?!0:!1,La||(/^(null|\s*)$/.test(Qa[ka].getAttribute('href'))||addListener(gina,
Qa[ka],'click',function(fb){fb.preventDefault();ia.isRedirecting=!0;if(ia.hasForm){Ia=ia.target.getElementsByTagName('FORM');Ka=0;for(Ya=Ia.length;Ka<Ya;++Ka)if(bc=fb.currentTarget.id,$b=jb.parseFromString(Ia.item(Ka).innerHTML,'text/html').getElementById(bc)||!1)$a=Ia[Ka].getAttribute('data-gina-form-inherits-data')||null,pb=Z(pb,JSON.parse(decodeURIComponent($a)));0<pb.count()&&(/\?/.test(fb.currentTarget.href)?fb.currentTarget.href+='&inheritedData='+encodeRFC5987ValueChars(JSON.stringify(pb)):
fb.currentTarget.href+='?inheritedData='+encodeRFC5987ValueChars(JSON.stringify(pb)))}}),'undefined'!=typeof gina.events[Ea]&&gina.events[Ea]==Qa[ka].id||W('link',Ea,Qa[ka])));if(ia.hasForm)for(W=null,Qa=da.getElementsByTagName('form'),ka=0,Da=Qa.length;ka<Da;++ka)Qa[ka].id&&'string'==typeof Qa[ka]?W=Qa[ka].id:(W=Qa[ka].getAttribute('id')||'form.'+R.v4(),Qa[ka].setAttribute('id',W),Qa[ka].id=W),0>ia.$forms.indexOf(W)&&ia.$forms.push(W),Qa[ka].close=O,y.isPopinContext=!0,y.validateFormById(Qa[ka].getAttribute('id')),
removeListener(gina,ia.target,wa)}function U(W,ia){var da=na();if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&'undefined'!=typeof W&&'undefined'!=typeof ia&&W){da=W;try{var wa=null;!ia&&da.error&&/^(\{|\[)/.test(da.error)&&(da.error=JSON.parse(da.error));if('undefined'!=typeof da.error&&'object'==typeof da.error&&'object'==typeof da.error){wa={status:da.status};for(xErr in da.error)/^error$/.test(xErr)||(wa[xErr]=da.error[xErr]);wa.error=da.error.error;da=wa}else'undefined'!=
typeof da.error&&'string'==typeof da.error&&(da=W);da.isXHRViewData=!0;ginaToolbar.update('data-xhr',da);return}catch(ka){throw ka;}}try{da=J(l.activePopinId)}catch(ka){da&&ginaToolbar.update('data-xhr',ka)}da||(new DOMParser).parseFromString(W,'text/html').getElementsByClassName('popin')[0]||(new DOMParser).parseFromString(W,'text/html').getElementsByTagName('div');da='string'==typeof W&&/<(.*)>/.test(W)?(new DOMParser).parseFromString(W,'text/html').getElementById('gina-without-layout-xhr-data'):
document.getElementById('gina-without-layout-xhr-data');if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&da)try{'undefined'!=typeof da.value&&da.value&&(da=JSON.parse(decodeURIComponent(da.value)),da.isXHRViewData=!0,ginaToolbar.update('data-xhr',da))}catch(ka){throw ka;}W='string'==typeof W&&/<(.*)>/.test(W)?(new DOMParser).parseFromString(W,'text/html').getElementById('gina-without-layout-xhr-view'):document.getElementById('gina-without-layout-xhr-view');if(gina&&'undefined'!=
typeof window.ginaToolbar&&window.ginaToolbar&&W)try{'undefined'!=typeof W.value&&W.value&&(W=JSON.parse(decodeURIComponent(W.value)),ginaToolbar.update('view-xhr',W))}catch(ka){throw ka;}}function q(W,ia,da){if('undefined'==typeof W){if('undefined'==typeof this.name)throw Error('`$popin.name` needs to be defined !');W=this.name}else'undefined'==typeof this.name&&'undefined'!=W&&(this.name=W);var wa=T(W),ka=wa.id;gina.popin.activePopinId||(gina.popin.activePopinId=ka);var ta=document.getElementById(ka)||
null;if(null==ta){var Da=null;D.options.useDialogMode?(Da=wa.options.class+' '+ka,ta=document.createElement('dialog'),ta.setAttribute('id',ka),ta.setAttribute('class',Da),ta.setAttribute('data-type','modal'),ta.setAttribute('aria-labelledby',W),($overlay=document.getElementById('gina-popins-overlay'))?$overlay.appendChild(ta):l.target.appendChild(ta)):(Da=wa.options.class+' '+ka,ta=document.createElement('div'),ta.setAttribute('id',ka),ta.setAttribute('class',Da),l.target.firstChild.appendChild(ta))}'undefined'==
typeof da?da=Ga:(W=Ga.withCredentials,da=Z(da,Ga),da.withCredentials=W);/^(http|https):/.test(ia)&&!(new RegExp('^'+window.location.protocol+'//'+window.location.host)).test(ia)&&(W=Ba.getRootDomain(window.location.hostname).value,Da=Ba.getRootDomain(ia).value,W=W===Da?!0:!1,gina.config.envIsDev&&(console.debug('Checking CORS from Popin plugin...TODO - local CORS Proxy'),console.debug('Is request from same domain ? ',W)),W||(ia=ia.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+ia,da.withCredentials=
!1));da.url=ia;wa.options=Z(da,wa.options);var Qa=null;da.withCredentials?'withCredentials'in G?da.isSynchrone?G.open(da.method,da.url,da.isSynchrone):G.open(da.method,da.url):'undefined'!=typeof XDomainRequest?(G=new XDomainRequest,G.open(da.method,da.url)):(G=null,Qa='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ',triggerEvent(gina,ta,'error.'+ka,Qa)):da.isSynchrone?G.open(da.method,da.url,da.isSynchrone):G.open(da.method,da.url);var La=!1;if(G){G.withCredentials=
'undefined'!=typeof da.withCredentials?da.withCredentials:!1;G.onerror=function(Oa,Ia){Qa={status:G.status,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};La=!0;l.eventData.error=Qa+'\n'+Ia;U(Qa,La);triggerEvent(gina,ta,'error.'+ka,Qa)};for(var Ea in da.headers)G.setRequestHeader(Ea,da.headers[Ea]);G.onreadystatechange=function(Oa){if(4==G.readyState)if(Oa=null,/^2/.test(G.status))try{Oa=G.responseText;var Ia=G.getResponseHeader('Content-Type'),
Ka=/application\/json/.test(Ia)?!0:!1,Ya=!0;Ka&&(Oa=JSON.parse(G.responseText),Oa.status=G.status,Oa.contentType=Ia,Ya=!1);l.eventData.success=Oa;if(!Ka&&wa.isOpen&&!wa.hasForm||!Ka&&wa.isOpen&&Ya)I(Oa,Ya);else{if(Ka&&'undefined'!=typeof Oa.location||Ka&&'undefined'!=typeof Oa.reload){Ia=!1;'undefined'!=typeof Oa.isXhrRedirect&&/^true$/i.test(Oa.isXhrRedirect)&&(Ia=!0);if('undefined'!=typeof Oa.location&&Ia){if('undefined'!=typeof Oa.popin&&'undefined'!=typeof Oa.popin.close){wa.isRedirecting=!1;
wa.close();var pb=Oa.popin.reload?Oa.popin.reload:!1;Oa.popin.location||Oa.popin.url||(delete Oa.popin,pb&&(Oa.popin={reload:pb}))}Ka='_self';'undefined'!=typeof Oa.target&&(Oa.target='_'+Oa.target,Ka=Oa.target);if(/^_self$/.test(Ka))return Ka=null,Ka='undefined'!=typeof Oa.popin?Oa.popin.location||Oa.popin.url:Oa.location,wa.load(wa.name,Ka,wa.options),setTimeout(function($a){$a.isOpen||$a.open()},50,wa);window.open(Oa.location,Ka);return}if('undefined'!=typeof Oa.location){document.location=Oa.location;
return}if('undefined'!=typeof Oa.reload){document.location.reload();return}'undefined'!=typeof Oa.popin&&'undefined'!=typeof Oa.popin.close&&(wa.isRedirecting=!1,O(wa.name))}if(!Ka){GINA_ENV_IS_DEV&&U(Oa);triggerEvent(gina,ta,'loaded.'+ka,Oa);return}GINA_ENV_IS_DEV&&U(Oa);triggerEvent(gina,$forms[0],'success.'+ka,Oa)}GINA_ENV_IS_DEV&&U(Oa)}catch($a){La=!1,Oa={status:422,error:$a.description||$a.stack},/application\/json/.test(G.getResponseHeader('Content-Type'))&&(Oa.error=JSON.parse(G.responseText),
La=!0),l.eventData.error=Oa,GINA_ENV_IS_DEV&&U(Oa,La),triggerEvent(gina,ta,'error.'+ka,Oa)}else La=!1,Oa={status:G.status,error:G.responseText},/application\/json/.test(G.getResponseHeader('Content-Type'))&&(Oa.error=JSON.parse(G.responseText),La=!0),l.eventData.error=Oa,GINA_ENV_IS_DEV&&U(Oa,La),triggerEvent(gina,ta,'error.'+ka,Oa)};G.send();return{open:function(){var Oa=!1;addListener(gina,ta,'loaded.'+ka,function(Ia){Ia.preventDefault();Oa||(Oa=!0,l.activePopinId=wa.id,S(Ia,wa),Fa(wa.name))})}}}}
function I(W,ia){var da=na();if(da){if(!da.isOpen)throw Error('Popin `'+da.name+'` is not open !');da.isRedirecting='undefined'!=typeof ia?ia:!1;ia=da.target;ia.innerHTML=W.trim();L(da.name,!0);S({target:ia,type:'loaded.'+da.id},da);if(!D.options.useDialogMode&&/safari/i.test(window.navigator.userAgent))for(W=document.getElementsByTagName('link'),ia=0;ia<W.length;ia++)if('stylesheet'==W[ia].getAttribute('rel')){var wa=W[ia].getAttribute('href').split('?')[0];/gina\.min\.css|gina\.css/.test(wa)&&(wa=
wa+'?version='+(new Date).getMilliseconds(),W[ia].setAttribute('href',wa))}da.isRedirecting?triggerEvent(gina,l.target,'loaded.'+da.id,da):triggerEvent(gina,l.target,'open.'+da.id,da);if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar)try{ginaToolbar.update('el-xhr',da.id)}catch(ka){throw ka;}}}function p(W){var ia=setupXhr();ia.open('GET',W,!0);ia.setRequestHeader('Content-Type','text/javascript');ia.onload=function(){eval(ia.response)};ia.send()}function ca(W){var ia=setupXhr();
ia.open('GET',W,!0);ia.setRequestHeader('Content-Type','text/css');ia.onload=function(){eval(ia.response)};ia.send()}function Fa(W){var ia='undefined'!=typeof W?T(W):J(this.id);if(!ia)throw Error('Popin name `'+W+'` not found !');W=document.getElementById(ia.id);var da=ia.parentScripts,wa=W.getElementsByTagName('script'),ka=ia.parentStyles,ta=W.getElementsByTagName('link'),Da=0,Qa=wa.length,La=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');for(La=new RegExp(La+':\\d+|'+
La);Da<Qa;++Da){if('undefined'==typeof wa[Da].src||''==wa[Da].src)continue;let Ea=wa[Da].src.replace(/(https|http|):\/\//,'').replace(La,'');-1<da.indexOf(Ea)||p(wa[Da].src)}Da=0;for(Qa=ta.length;Da<Qa;++Da)'undefined'!=typeof ta[Da].href&&''!=ta[Da].href&&(da=ta[Da].href.replace(/(https|http|):\/\//,'').replace(La,''),-1<ka.indexOf(da)||ca(ta[Da].href));S({target:W,type:'loaded.'+ia.id},ia);/gina-popin-is-active/.test(W.className)||(W.className+=' gina-popin-is-active');if(!D.options.useDialogMode||
gina.config.envIsDev)/gina-popin-is-active/.test(l.target.firstChild.className)||(l.target.firstChild.className+=' gina-popin-is-active'),/gina-popin-is-active/.test(l.target.firstChild.className)&&removeListener(gina,l.target,'open.'+ia.id);D.options.useDialogMode&&!W.getAttribute('open')&&('function'===typeof W.showModal?gina.config.envIsDev?W.show():W.showModal():W.setAttribute('open',!0));ia.isOpen=!0;ia.target=W;l.activePopinId=ia.id;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar)try{ginaToolbar.update('el-xhr',
ia.id)}catch(Ea){throw Ea;}triggerEvent(gina,l.target,'open.'+ia.id,ia)}function L(W,ia){var da='undefined'!=typeof W?T(W):na();if(!da&&'undefined'!=typeof W)throw Error('Popin `'+W+'` not found !');if('undefined'!=typeof da&&null!=da&&(W=da.target,ia='undefined'!=typeof ia?ia:!1,null!=W&&/gina-popin-is-active/.test(W.className))){ia||(l.target.firstChild.className=l.target.firstChild.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,''),W.className=W.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,
''),W.innerHTML='');if(y&&(ia=0,W=da.$forms.length,y.$forms&&0<W))for(;ia<W;++ia)'undefined'!=typeof y.$forms[da.$forms[ia]]&&y.$forms[da.$forms[ia]].destroy(),da.$forms.splice(ia,1);gina.popinIsBinded=!1;removeListener(gina,da.target,'loaded.'+da.id)}}function O(W){if('undefined'==typeof W&&/^true$/.test(this.isOpen)){W=this.name;var ia=this}else{ia=T(W)||na();if(!ia)return;W=ia.name}if(!ia&&'undefined'!=typeof W)throw Error('Popin `'+W+'` not found !');if(ia.isOpen&&'undefined'!=typeof ia&&null!=
ia&&!ia.isRedirecting){var da=ia.target;'function'===typeof da.close?da.close():da.removeAttribute('open');removeListener(gina,ia.target,'ready.'+l.id);ia.hasForm&&(ia.hasForm=!1);if(null!=da&&/gina-popin-is-active/.test(da.className)){L(W);ia.isOpen=!1;gina.popinIsBinded=!1;GINA_ENV_IS_DEV&&gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&ginaToolbar.restore();l.activePopinId=null;if(0<ia.$headers.length){W=0;da=ia.$headers.length;try{for(;W<da;++W)document.getElementById(ia.$headers[W].id).remove()}catch(wa){console.warn('Could not remove script `'+
ia.$headers[W].id+'`\n'+wa.stack)}ia.$headers=[]}triggerEvent(gina,ia.target,'close.'+ia.id,ia)}}}this.plugin='popin';var E='init loaded ready open close click destroy success error progress'.split(' ');registerEvents(this.plugin,E);var D={options:{name:void 0,'class':'gina-popin-default',useDialogMode:!0,cancelOnOverlayClick:!1},authorizedEvents:['ready','error'],events:{}},l={plugin:this.plugin,id:'gina-popins-'+R.v4(),on,eventData:{},$popins:{},activePopinId:null,getActivePopin:null,target:document,
isReady:!1,initialized:!1},z={plugin:this.plugin,on,eventData:{},target:document,name:null,load:null,loadContent:null,open:null,isOpen:!1,isRedirecting:!1,close:null,$forms:[],hasForm:!1,$headers:[]},y=null,G=null,r=[],v=function(){var W=document.createElement('div');W.id=l.id;W.setAttribute('id',l.id);W.setAttribute('class','gina-popins');if(!D.options.useDialogMode||gina.config.envIsDev){var ia=document.createElement('div');ia.setAttribute('id','gina-popins-overlay');ia.setAttribute('class','gina-popins-overlay');
W.appendChild(ia)}document.body.appendChild(W);l.target=W;l.on=on;gina.popinContainer=l.id},F=function(W,ia,da){addListener(gina,W,'click',function(wa){cancelEvent(wa);triggerEvent(gina,ia,da)})},J=function(W){return'undefined'!=typeof l.$popins[W]?l.$popins[W]:null},T=function(W){var ia=null,da;for(da in l.$popins)if(l.$popins[da].name===W){ia=l.$popins[da];break}return ia},sa=function(W,ia){ia=getElementsByAttribute('data-gina-popin-name');var da=null,wa=null,ka=null,ta=null,Da=null,Qa=null;Da=
0;for(Qa=ia.length;Da<Qa;++Da){da=ia[Da];wa=da.getAttribute('data-gina-popin-name');'A'==da.tagName&&(ka=da.getAttribute('href'),''==ka||'#'==ka||/#/.test(ka))&&(ka=null);ka||'undefined'==typeof da.getAttribute('data-gina-popin-url')||(ka=da.getAttribute('data-gina-popin-url'));if(!ka)throw Error('Found `data-gina-popin-name` without `url` !');da.url||(da.url=ka);da.popinName||(da.popinName=wa);if(wa==W.name&&(ta='popin.click.gina-popin-'+l.id+'-'+R.v4()+'-'+wa,da.id=ta,da.setAttribute('id',ta),!gina.events[ta])){addListener(gina,
da,ta,function(Ea){cancelEvent(Ea);var Oa=!1;addListener(gina,W.target,'loaded.'+W.id,function(Ka){Ka.preventDefault();Oa||(Oa=!0,console.debug('active popin should be ',W.id),gina.popin.activePopinId=W.id,S(Ka,W),W.isOpen||Fa(W.name))});Ea={isSynchrone:!1,withCredentials:!1};Ea=Z(W.options,Ea);var Ia=this.getAttribute('data-gina-popin-url')||this.getAttribute('href');if(!Ia)throw Error('Popin `url` not defined, please check value for `data-gina-popin-url`');q(W.name,Ia,Ea)});wa=da.childNodes;var La=
0;lLen=wa.length;if(0<lLen)for(;La<lLen;++La)'undefined'!=typeof wa[La].tagName&&F(wa[La],da,ta)}}ta='click';addListener(gina,document,ta,function(Ea){if(null!=Ea.target.getAttribute('disabled')&&'false'!=Ea.target.getAttribute('disabled'))return!1;'undefined'==typeof Ea.target.id&&(Ea.target.setAttribute('id',ta+'.'+R.v4()),Ea.target.id=Ea.target.getAttribute('id'));if(/^popin\.close\./.test(Ea.target.id)){cancelEvent(Ea);var Oa=Ea.target.id;triggerEvent(gina,Ea.target,Oa,Ea.detail)}/^popin\.click\./.test(Ea.target.id)&&
(cancelEvent(Ea),Oa=Ea.target.id,(new RegExp('^popin.click.gina-popin-'+l.id)).test(Oa)&&triggerEvent(gina,Ea.target,Oa,Ea.detail))});gina.popinIsBinded=!1},Ga={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}};gina.hasPopinHandler?(l.target=document.getElementById(gina.popinContainer),l.on=on):v();new ha(function(W,ia){if(W)throw W;Ba=ia});return function(W){l.getPopinById=J;l.getPopinByName=T;l.load=q;l.loadContent=I;l.getActivePopin=na;l.open=
Fa;l.close=O;addListener(gina,l.target,'init.'+l.id,function(ia){ia=null;if('undefined'==typeof l.$popins['gina-popin-'+l.id+'-'+W.name]){var da=ia=Z({},z);if('object'!=typeof W)throw Error('`options` must be an object');da.options=Z(W,D.options);da.id='gina-popin-'+l.id+'-'+da.options.name;if('undefined'==typeof l.$popins[da.id]){if('string'!=typeof da.options.name||''==da.options.name)throw Error('`options.name` can not be left `empty` or `undefined`');if(-1<r.indexOf(da.options.name))throw Error('`popin '+
da.options.name+'` already exists !');'undefined'!=typeof da.options.validator&&(y=da.options.validator,da.validateFormById=y.validateFormById);da.options['class']='gina-popin-container '+da.options['class'];da.name=da.options.name;da.target=l.target;da.load=q;da.loadContent=I;da.open=Fa;da.close=O;GINA_ENV_IS_DEV&&(da.updateToolbar=U);da.parentScripts=[];da.parentStyles=[];var wa=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');wa=new RegExp(wa+':\\d+|'+wa);var ka=document.getElementsByTagName('script');
for(let Da=0,Qa=ka.length;Da<Qa;Da++)if(ka[Da].src&&''!=ka[Da].src){var ta=ka[Da].src.replace(/(https|http|):\/\//,'').replace(wa,'');da.parentScripts[Da]=ta}ka=document.getElementsByTagName('link');for(let Da=0,Qa=ka.length;Da<Qa;Da++)'undefined'!=typeof ka[Da].rel&&/stylesheet/i.test(ka[Da].rel)&&(ta=ka[Da].href.replace(/(https|http|):\/\//,'').replace(wa,''),da.parentStyles[Da]=ta);l.$popins[da.id]=da;if(window.XMLHttpRequest)G=new XMLHttpRequest;else if(window.ActiveXObject)try{G=new ActiveXObject('Msxml2.XMLHTTP')}catch(Da){try{G=
new ActiveXObject('Microsoft.XMLHTTP')}catch(Qa){}}sa(da)}}l.isReady=!0;gina.hasPopinHandler=!0;gina.popin=Z(gina.popin,l);triggerEvent(gina,l.target,'ready.'+l.id,ia)});l.initialized=!0;return l}(N)}});function fadeIn(C){var R=.1;C.style.display='block';var ha=setInterval(function(){1<=R&&clearInterval(ha);C.style.opacity=R;C.style.filter='alpha(opacity='+100*R+')';R+=.1*R},10)}
function fadeOut(C){var R=1,ha=setInterval(function(){.1>=R&&(clearInterval(ha),C.style.display='none');C.style.opacity=R;C.style.filter='alpha(opacity='+100*R+')';R-=.1*R},50)}define('utils/effects',function(){});
'function'!==typeof Object.assign&&Object.defineProperty(Object,'assign',{value:function(C,R){if(null===C||void 0===C)throw new TypeError('Cannot convert undefined or null to object');for(var ha=Object(C),Ba=1;Ba<arguments.length;Ba++){var Z=arguments[Ba];if(null!==Z&&void 0!==Z)for(var N in Z)Object.prototype.hasOwnProperty.call(Z,N)&&(ha[N]=Z[N])}return ha},writable:!0,configurable:!0});
if('undefined'==typeof JSON.clone){var clone=function(C,R){if(null==C||'object'!=typeof C||C.constructor!=Object&&C.constructor!=Array)return C;if(C.constructor==Date||C.constructor==RegExp||C.constructor==Function||C.constructor==String||C.constructor==Number||C.constructor==Boolean)return new C.constructor(C);R=R||new C.constructor;for(var ha=0,Ba=Object.getOwnPropertyNames(C).length||0,Z=Object.keys(C);ha<Ba;)R[Z[ha]]='undefined'==typeof R[Z[ha]]?clone(C[Z[ha]],null):R[Z[ha]],ha++;return R};JSON.clone=
clone}if('undefined'==typeof JSON.escape){var escape=function(C){try{return C.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(R){throw R;}};JSON.escape=escape}define('utils/polyfill',function(){});
function Inherits(C,R){return function(ha,Ba){var Z='undefined'==typeof ha||'undefined'==typeof Ba?"inherits(a, b): neither [ a ] nor [ b ] can't be undefined or null":!1;if(Z)throw Error(Z);Z=function(){return function(){if(this){this.prototype=ha.prototype;this.name||(this.name=ha.name);this.prototype.name=this.name;for(var N in Ba.prototype)this[N]||(this[N]=Ba.prototype[N]);Ba.apply(this,arguments);ha.apply(this,arguments)}}}(ha,Ba);void 0==ha.prototype&&(ha.prototype={});void 0==Ba.prototype&&
(Ba.prototype={});ha.prototype=Object.create(Ba.prototype,{});Z.prototype=Object.create(ha.prototype,{});return Z}}'undefined'!==typeof module&&module.exports?module.exports=Inherits():'function'===typeof define&&define.amd&&define('lib/inherits',[],function(){return Inherits()});var readyList=[{name:'gina',ctx:window.gina,fn:window.onGinaLoaded}],readyFired=!1,readyEventHandlersInstalled=!1;
function ready(){if(!readyFired){readyFired=!0;var C=null,R=function(ha,Ba){if(Ba[ha])if('gina'==Ba[ha].name)var Z=window.setInterval(function(N,na){try{if('undefined'==typeof na&&(na=window.readyList),na[N].ctx=window.gina,C=na[N].fn.call(window,na[N].ctx,window.require))window.clearInterval(Z),++N,R(N,na)}catch(S){throw window.clearInterval(Z),S;}},50,ha,Ba);else window.$||'undefined'==typeof parent.window.$||(window.$=parent.window.$),'undefined'==typeof window.originalContext&&'undefined'!=typeof window.$&&
(window.originalContext=window.$),Ba[ha].ctx=window.originalContext||$,Ba[ha].fn.call(window,Ba[ha].ctx,window.require),++ha,R(ha,Ba);else Ba=[]};R(0,readyList)}}function readyStateChange(){'complete'===document.readyState&&gina.ready()}
if('undefined'==typeof window.gina){var gina={_global:{register:function(C){if('undefined'!=typeof C)for(let R in C)window[R]=C[R]},unregister:function(C){if('undefined'==typeof C||!Array.isArray(C))throw Error('`variables` needs to ba an array');for(let R=0,ha=C.length;R<ha;R++)delete window[C[R]]}},ready:function(C,R){readyFired?setTimeout(function(){C(R)},1):(readyList.push({name:'anonymous',fn:C,ctx:R}),'complete'===document.readyState||!document.attachEvent&&'interactive'===document.readyState?
setTimeout(ready,1):readyEventHandlersInstalled||(document.addEventListener?(document.addEventListener('DOMContentLoaded',ready,!1),window.addEventListener('load',ready,!1)):(document.attachEvent('onreadystatechange',readyStateChange),window.attachEvent('onload',ready)),readyEventHandlersInstalled=!0))}};window.gina=gina}define('core',['require','gina'],function(C){C('gina')(window.gina)});require.config({packages:['gina']});require('vendor/uuid vendor/engine.io core helpers/prototypes helpers/binding helpers/dateFormat gina/link gina/validator gina/popin gina/storage utils/dom utils/events utils/effects utils/polyfill lib/inherits lib/form-validator lib/collection lib/domain lib/routing'.split(' '));
for(var tags=document.getElementsByTagName('script'),t=0,len=tags.length;t<len;++t)if(/gina.min.js|gina.js/.test(tags[t].getAttribute('src'))){tags[t].onload=function(C){if(window.onGinaLoaded)var R=window.onGinaLoaded;document.addEventListener?document.addEventListener('ginaloaded',function(ha){window.gina=ha.detail;R(ha.detail)}):document.attachEvent&&document.attachEvent('ginaloaded',function(ha){window.gina=ha.detail;R(ha.detail)})}();break};
