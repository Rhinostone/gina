/*
 RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license  @source https://gist.github.com/1129031  Engine.IO v6.2.2
 (c) 2014-2022 Guillermo Rauch
 Released under the MIT License.
*/
var requirejs,require,define;
(function(A,P){function V(Ia,Ja){return Ja||''}function na(Ia){return'[object Function]'===Fa.call(Ia)}function U(Ia){return'[object Array]'===Fa.call(Ia)}function M(Ia,Ja){if(Ia){var Ua;for(Ua=0;Ua<Ia.length&&(!Ia[Ua]||!Ja(Ia[Ua],Ua,Ia));Ua+=1);}}function ba(Ia,Ja){if(Ia){var Ua;for(Ua=Ia.length-1;-1<Ua&&(!Ia[Ua]||!Ja(Ia[Ua],Ua,Ia));--Ua);}}function Q(Ia,Ja){return W.call(Ia,Ja)}function S(Ia,Ja){return Q(Ia,Ja)&&Ia[Ja]}function u(Ia,Ja){for(var Ua in Ia)if(Q(Ia,Ua)&&Ja(Ia[Ua],Ua))break}function G(Ia,
Ja,Ua,pb){Ja&&u(Ja,function(ab,gb){if(Ua||!Q(Ia,gb))!pb||'object'!==typeof ab||!ab||U(ab)||na(ab)||ab instanceof RegExp?Ia[gb]=ab:(Ia[gb]||(Ia[gb]={}),G(Ia[gb],ab,Ua,pb))});return Ia}function r(Ia,Ja){return function(){return Ja.apply(Ia,arguments)}}function ea(Ia){throw Ia;}function Ea(Ia){if(!Ia)return Ia;var Ja=A;M(Ia.split('.'),function(Ua){Ja=Ja[Ua]});return Ja}function N(Ia,Ja,Ua,pb){Ja=Error(Ja+'\nhttps://requirejs.org/docs/errors.html#'+Ia);Ja.requireType=Ia;Ja.requireModules=pb;Ua&&(Ja.originalError=
Ua);return Ja}function O(){if(z&&'interactive'===z.readyState)return z;ba(document.getElementsByTagName('script'),function(Ia){if('interactive'===Ia.readyState)return z=Ia});return z}var D,C,m,z,y,H,v,w=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,F=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,J=/\.js$/,T=/^\.\//;var ta=Object.prototype;var Fa=ta.toString,W=ta.hasOwnProperty,la=!('undefined'===typeof window||'undefined'===typeof navigator||!window.document),ia=!la&&'undefined'!==typeof importScripts,
xa=la&&'PLAYSTATION 3'===navigator.platform?/^complete$/:/^(complete|loaded)$/,ma='undefined'!==typeof opera&&'[object Opera]'===opera.toString(),ua={},Ca={},Qa=[],La=!1;if('undefined'===typeof define){if('undefined'!==typeof requirejs){if(na(requirejs))return;Ca=requirejs;requirejs=void 0}'undefined'===typeof require||na(require)||(Ca=require,require=void 0);var Da=requirejs=function(Ia,Ja,Ua,pb){var ab='_';if(!U(Ia)&&'string'!==typeof Ia){var gb=Ia;U(Ja)?(Ia=Ja,Ja=Ua,Ua=pb):Ia=[]}gb&&gb.context&&
(ab=gb.context);(pb=S(ua,ab))||(pb=ua[ab]=Da.s.newContext(ab));gb&&pb.configure(gb);return pb.require(Ia,Ja,Ua)};Da.config=function(Ia){return Da(Ia)};Da.nextTick='undefined'!==typeof P?function(Ia){P(Ia,4)}:function(Ia){Ia()};require||=Da;Da.version='2.3.6';Da.jsExtRegExp=/^\/|:|\?|\.js$/;Da.isBrowser=la;ta=Da.s={contexts:ua,newContext:function(Ia){function Ja(E,oa,ra){var ja;oa=oa&&oa.split('/');var Z=l.map,Ga=Z&&Z['*'];if(E){E=E.split('/');var Pa=E.length-1;l.nodeIdCompat&&J.test(E[Pa])&&(E[Pa]=
E[Pa].replace(J,''));'.'===E[0].charAt(0)&&oa&&(Pa=oa.slice(0,oa.length-1),E=Pa.concat(E));Pa=E;for(ja=0;ja<Pa.length;ja++){var $a=Pa[ja];'.'===$a?(Pa.splice(ja,1),--ja):'..'===$a&&0!==ja&&(1!==ja||'..'!==Pa[2])&&'..'!==Pa[ja-1]&&0<ja&&(Pa.splice(ja-1,2),ja-=2)}E=E.join('/')}if(ra&&Z&&(oa||Ga)){Pa=E.split('/');ja=Pa.length;a:for(;0<ja;--ja){var ib=Pa.slice(0,ja).join('/');if(oa)for($a=oa.length;0<$a;--$a)if(ra=S(Z,oa.slice(0,$a).join('/')))if(ra=S(ra,ib)){var Cb=ra;var zb=ja;break a}if(!qb&&Ga&&S(Ga,
ib)){var qb=S(Ga,ib);var Mb=ja}}!Cb&&qb&&(Cb=qb,zb=Mb);Cb&&(Pa.splice(0,zb,Cb),E=Pa.join('/'))}return(Cb=S(l.pkgs,E))?Cb:E}function Ua(E){la&&M(document.getElementsByTagName('script'),function(oa){if(oa.getAttribute('data-requiremodule')===E&&oa.getAttribute('data-requirecontext')===fa.contextName)return oa.parentNode.removeChild(oa),!0})}function pb(E){var oa=S(l.paths,E);if(oa&&U(oa)&&1<oa.length)return oa.shift(),fa.require.undef(E),fa.makeRequire(null,{skipMap:!0})([E]),!0}function ab(E){var oa=
E?E.indexOf('!'):-1;if(-1<oa){var ra=E.substring(0,oa);E=E.substring(oa+1,E.length)}return[ra,E]}function gb(E,oa,ra,ja){var Z=null,Ga=oa?oa.name:null,Pa=E,$a=!0,ib='';E||($a=!1,E='_@r'+(K+=1));E=ab(E);Z=E[0];E=E[1];if(Z){Z=Ja(Z,Ga,ja);var Cb=S(q,Z)}if(E)if(Z)ib=ra?E:Cb&&Cb.normalize?Cb.normalize(E,function(qb){return Ja(qb,Ga,ja)}):-1===E.indexOf('!')?Ja(E,Ga,ja):E;else{ib=Ja(E,Ga,ja);E=ab(ib);Z=E[0];ib=E[1];ra=!0;var zb=fa.nameToUrl(ib)}ra=!Z||Cb||ra?'':'_unnormalized'+(ha+=1);return{prefix:Z,name:ib,
parentMap:oa,unnormalized:!!ra,url:zb,originalName:Pa,isDefine:$a,id:(Z?Z+'!'+ib:ib)+ra}}function Ub(E){var oa=E.id,ra=S(g,oa);ra||=g[oa]=new fa.Module(E);return ra}function Zb(E,oa,ra){var ja=E.id,Z=S(g,ja);if(!Q(q,ja)||Z&&!Z.defineEmitComplete)if(Z=Ub(E),Z.error&&'error'===oa)ra(Z.error);else Z.on(oa,ra);else'defined'===oa&&ra(q[ja])}function jb(E,oa){var ra=E.requireModules,ja=!1;if(oa)oa(E);else if(M(ra,function(Z){if(Z=S(g,Z))Z.error=E,Z.events.error&&(ja=!0,Z.emit('error',E))}),!ja)Da.onError(E)}
function Db(){Qa.length&&(M(Qa,function(E){var oa=E[0];'string'===typeof oa&&(fa.defQueueMap[oa]=!0);x.push(E)}),Qa=[])}function rb(E){delete g[E];delete h[E]}function xb(E,oa,ra){var ja=E.map.id;E.error?E.emit('error',E.error):(oa[ja]=!0,M(E.depMaps,function(Z,Ga){Z=Z.id;var Pa=S(g,Z);!Pa||E.depMatched[Ga]||ra[Z]||(S(oa,Z)?(E.defineDep(Ga,q[Z]),E.check()):xb(Pa,oa,ra))}),ra[ja]=!0)}function Ka(){var E,oa,ra=(E=1E3*l.waitSeconds)&&fa.startTime+E<(new Date).getTime(),ja=[],Z=[],Ga=!1,Pa=!0;if(!ya){ya=
!0;u(h,function($a){var ib=$a.map,Cb=ib.id;if($a.enabled&&(ib.isDefine||Z.push($a),!$a.error))if(!$a.inited&&ra)pb(Cb)?Ga=oa=!0:(ja.push(Cb),Ua(Cb));else if(!$a.inited&&$a.fetched&&ib.isDefine&&(Ga=!0,!ib.prefix))return Pa=!1});if(ra&&ja.length)return E=N('timeout','Load timeout for modules: '+ja,null,ja),E.contextName=fa.contextName,jb(E);Pa&&M(Z,function($a){xb($a,{},{})});ra&&!oa||!Ga||!la&&!ia||za||(za=P(function(){za=0;Ka()},50));ya=!1}}function db(E){Q(q,E[0])||Ub(gb(E[0],null,!0)).init(E[1],
E[2])}function Lb(E){E=E.currentTarget||E.srcElement;var oa=fa.onScriptLoad;E.detachEvent&&!ma?E.detachEvent('onreadystatechange',oa):E.removeEventListener('load',oa,!1);oa=fa.onScriptError;E.detachEvent&&!ma||E.removeEventListener('error',oa,!1);return{node:E,id:E&&E.getAttribute('data-requiremodule')}}function Vb(){for(Db();x.length;){var E=x.shift();if(null===E[0])return jb(N('mismatch','Mismatched anonymous define() module: '+E[E.length-1]));db(E)}fa.defQueueMap={}}var ya,za,l={waitSeconds:7,
baseUrl:'./',paths:{},bundles:{},pkgs:{},shim:{},config:{}},g={},h={},b={},x=[],q={},p={},R={},K=1,ha=1;var Aa={require:function(E){return E.require?E.require:E.require=fa.makeRequire(E.map)},exports:function(E){E.usingExports=!0;if(E.map.isDefine)return E.exports?q[E.map.id]=E.exports:E.exports=q[E.map.id]={}},module:function(E){return E.module?E.module:E.module={id:E.map.id,uri:E.map.url,config:function(){return S(l.config,E.map.id)||{}},exports:E.exports||(E.exports={})}}};var da=function(E){this.events=
S(b,E.id)||{};this.map=E;this.shim=S(l.shim,E.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};da.prototype={init:function(E,oa,ra,ja){ja=ja||{};if(!this.inited){this.factory=oa;if(ra)this.on('error',ra);else this.events.error&&(ra=r(this,function(Z){this.emit('error',Z)}));this.depMaps=E&&E.slice(0);this.errback=ra;this.inited=!0;this.ignore=ja.ignore;ja.enabled||this.enabled?this.enable():this.check()}},defineDep:function(E,oa){this.depMatched[E]||(this.depMatched[E]=
!0,--this.depCount,this.depExports[E]=oa)},fetch:function(){if(!this.fetched){this.fetched=!0;fa.startTime=(new Date).getTime();var E=this.map;if(this.shim)fa.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],r(this,function(){return E.prefix?this.callPlugin():this.load()}));else return E.prefix?this.callPlugin():this.load()}},load:function(){var E=this.map.url;p[E]||(p[E]=!0,fa.load(this.map.id,E))},check:function(){if(this.enabled&&!this.enabling){var E=this.map.id;var oa=this.depExports;
var ra=this.exports,ja=this.factory;if(!this.inited)Q(fa.defQueueMap,E)||this.fetch();else if(this.error)this.emit('error',this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(na(ja)){if(this.events.error&&this.map.isDefine||Da.onError!==ea)try{ra=fa.execCb(E,ja,oa,ra)}catch(Pa){var Z=Pa}else ra=fa.execCb(E,ja,oa,ra);this.map.isDefine&&void 0===ra&&((oa=this.module)?ra=oa.exports:this.usingExports&&(ra=this.exports));if(Z)return Z.requireMap=this.map,Z.requireModules=
this.map.isDefine?[this.map.id]:null,Z.requireType=this.map.isDefine?'define':'require',jb(this.error=Z)}else ra=ja;this.exports=ra;if(this.map.isDefine&&!this.ignore&&(q[E]=ra,Da.onResourceLoad)){var Ga=[];M(this.depMaps,function(Pa){Ga.push(Pa.normalizedMap||Pa)});Da.onResourceLoad(fa,this.map,Ga)}rb(E);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit('defined',this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var E=this.map,oa=
E.id,ra=gb(E.prefix);this.depMaps.push(ra);Zb(ra,'defined',r(this,function(ja){var Z=S(R,this.map.id),Ga=this.map.name,Pa=this.map.parentMap?this.map.parentMap.name:null,$a=fa.makeRequire(E.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){ja.normalize&&(Ga=ja.normalize(Ga,function(zb){return Ja(zb,Pa,!0)})||'');var ib=gb(E.prefix+'!'+Ga,this.map.parentMap,!0);Zb(ib,'defined',r(this,function(zb){this.map.normalizedMap=ib;this.init([],function(){return zb},null,{enabled:!0,ignore:!0})}));
if(ja=S(g,ib.id)){this.depMaps.push(ib);if(this.events.error)ja.on('error',r(this,function(zb){this.emit('error',zb)}));ja.enable()}}else if(Z)this.map.url=fa.nameToUrl(Z),this.load();else{var Cb=r(this,function(zb){this.init([],function(){return zb},null,{enabled:!0})});Cb.error=r(this,function(zb){this.inited=!0;this.error=zb;zb.requireModules=[oa];u(g,function(qb){0===qb.map.id.indexOf(oa+'_unnormalized')&&rb(qb.map.id)});jb(zb)});Cb.fromText=r(this,function(zb,qb){var Mb=E.name,Ya=gb(Mb),cb=La;
qb&&(zb=qb);cb&&(La=!1);Ub(Ya);Q(l.config,oa)&&(l.config[Mb]=l.config[oa]);try{Da.exec(zb)}catch(ca){return jb(N('fromtexteval','fromText eval for '+oa+' failed: '+ca,ca,[oa]))}cb&&(La=!0);this.depMaps.push(Ya);fa.completeLoad(Mb);$a([Mb],Cb)});ja.load(E.name,$a,Cb,l)}}));fa.enable(ra,this);this.pluginMaps[ra.id]=ra},enable:function(){h[this.map.id]=this;this.enabling=this.enabled=!0;M(this.depMaps,r(this,function(E,oa){var ra;if('string'===typeof E){E=gb(E,this.map.isDefine?this.map:this.map.parentMap,
!1,!this.skipMap);this.depMaps[oa]=E;if(ra=S(Aa,E.id)){this.depExports[oa]=ra(this);return}this.depCount+=1;Zb(E,'defined',r(this,function(Z){this.undefed||(this.defineDep(oa,Z),this.check())}));this.errback?Zb(E,'error',r(this,this.errback)):this.events.error&&Zb(E,'error',r(this,function(Z){this.emit('error',Z)}))}ra=E.id;var ja=g[ra];Q(Aa,ra)||!ja||ja.enabled||fa.enable(E,this)}));u(this.pluginMaps,r(this,function(E){var oa=S(g,E.id);oa&&!oa.enabled&&fa.enable(E,this)}));this.enabling=!1;this.check()},
on:function(E,oa){var ra=this.events[E];ra||=this.events[E]=[];ra.push(oa)},emit:function(E,oa){M(this.events[E],function(ra){ra(oa)});'error'===E&&delete this.events[E]}};var fa={config:l,contextName:Ia,registry:g,defined:q,urlFetched:p,defQueue:x,defQueueMap:{},Module:da,makeModuleMap:gb,nextTick:Da.nextTick,onError:jb,configure:function(E){E.baseUrl&&'/'!==E.baseUrl.charAt(E.baseUrl.length-1)&&(E.baseUrl+='/');if('string'===typeof E.urlArgs){var oa=E.urlArgs;E.urlArgs=function(Z,Ga){return(-1===
Ga.indexOf('?')?'?':'&')+oa}}var ra=l.shim,ja={paths:!0,bundles:!0,config:!0,map:!0};u(E,function(Z,Ga){ja[Ga]?(l[Ga]||(l[Ga]={}),G(l[Ga],Z,!0,!0)):l[Ga]=Z});E.bundles&&u(E.bundles,function(Z,Ga){M(Z,function(Pa){Pa!==Ga&&(R[Pa]=Ga)})});E.shim&&(u(E.shim,function(Z,Ga){U(Z)&&(Z={deps:Z});!Z.exports&&!Z.init||Z.exportsFn||(Z.exportsFn=fa.makeShimExports(Z));ra[Ga]=Z}),l.shim=ra);E.packages&&M(E.packages,function(Z){Z='string'===typeof Z?{name:Z}:Z;var Ga=Z.name;Z.location&&(l.paths[Ga]=Z.location);
l.pkgs[Ga]=Z.name+'/'+(Z.main||'main').replace(T,'').replace(J,'')});u(g,function(Z,Ga){Z.inited||Z.map.unnormalized||(Z.map=gb(Ga,null,!0))});(E.deps||E.callback)&&fa.require(E.deps||[],E.callback)},makeShimExports:function(E){return function(){var oa;E.init&&(oa=E.init.apply(A,arguments));return oa||E.exports&&Ea(E.exports)}},makeRequire:function(E,oa){function ra(ja,Z,Ga){var Pa;oa.enableBuildCallback&&Z&&na(Z)&&(Z.__requireJsBuild=!0);if('string'===typeof ja){if(na(Z))return jb(N('requireargs',
'Invalid require call'),Ga);if(E&&Q(Aa,ja))return Aa[ja](g[E.id]);if(Da.get)return Da.get(fa,ja,E,ra);var $a=gb(ja,E,!1,!0);$a=$a.id;return Q(q,$a)?q[$a]:jb(N('notloaded','Module name "'+$a+'" has not been loaded yet for context: '+Ia+(E?'':'. Use require([])')))}Vb();fa.nextTick(function(){Vb();Pa=Ub(gb(null,E));Pa.skipMap=oa.skipMap;Pa.init(ja,Z,Ga,{enabled:!0});Ka()});return ra}oa=oa||{};G(ra,{isBrowser:la,toUrl:function(ja){var Z=ja.lastIndexOf('.'),Ga=ja.split('/')[0];if(-1!==Z&&('.'!==Ga&&'..'!==
Ga||1<Z)){var Pa=ja.substring(Z,ja.length);ja=ja.substring(0,Z)}return fa.nameToUrl(Ja(ja,E&&E.id,!0),Pa,!0)},defined:function(ja){return Q(q,gb(ja,E,!1,!0).id)},specified:function(ja){ja=gb(ja,E,!1,!0).id;return Q(q,ja)||Q(g,ja)}});E||(ra.undef=function(ja){Db();var Z=gb(ja,E,!0),Ga=S(g,ja);Ga.undefed=!0;Ua(ja);delete q[ja];delete p[Z.url];delete b[ja];ba(x,function(Pa,$a){Pa[0]===ja&&x.splice($a,1)});delete fa.defQueueMap[ja];Ga&&(Ga.events.defined&&(b[ja]=Ga.events),rb(ja))});return ra},enable:function(E){S(g,
E.id)&&Ub(E).enable()},completeLoad:function(E){var oa=S(l.shim,E)||{},ra=oa.exports;for(Db();x.length;){var ja=x.shift();if(null===ja[0]){ja[0]=E;if(Z)break;var Z=!0}else ja[0]===E&&(Z=!0);db(ja)}fa.defQueueMap={};ja=S(g,E);if(!Z&&!Q(q,E)&&ja&&!ja.inited)if(!l.enforceDefine||ra&&Ea(ra))db([E,oa.deps||[],oa.exportsFn]);else return pb(E)?void 0:jb(N('nodefine','No define call for '+E,null,[E]));Ka()},nameToUrl:function(E,oa,ra){var ja,Z;(ja=S(l.pkgs,E))&&(E=ja);if(ja=S(R,E))return fa.nameToUrl(ja,
oa,ra);if(Da.jsExtRegExp.test(E))ja=E+(oa||'');else{ja=l.paths;var Ga=E.split('/');for(Z=Ga.length;0<Z;--Z){var Pa=Ga.slice(0,Z).join('/');if(Pa=S(ja,Pa)){U(Pa)&&(Pa=Pa[0]);Ga.splice(0,Z,Pa);break}}ja=Ga.join('/');ja+=oa||(/^data:|^blob:|\?/.test(ja)||ra?'':'.js');ja=('/'===ja.charAt(0)||ja.match(/^[\w\+\.\-]+:/)?'':l.baseUrl)+ja}return l.urlArgs&&!/^blob:/.test(ja)?ja+l.urlArgs(E,ja):ja},load:function(E,oa){Da.load(fa,E,oa)},execCb:function(E,oa,ra,ja){return oa.apply(ja,ra)},onScriptLoad:function(E){if('load'===
E.type||xa.test((E.currentTarget||E.srcElement).readyState))z=null,E=Lb(E),fa.completeLoad(E.id)},onScriptError:function(E){var oa=Lb(E);if(!pb(oa.id)){var ra=[];u(g,function(ja,Z){0!==Z.indexOf('_@r')&&M(ja.depMaps,function(Ga){if(Ga.id===oa.id)return ra.push(Z),!0})});return jb(N('scripterror','Script error for "'+oa.id+(ra.length?'", needed by: '+ra.join(', '):'"'),E,[oa.id]))}}};fa.require=fa.makeRequire();return fa}};Da({});M(['toUrl','undef','defined','specified'],function(Ia){Da[Ia]=function(){var Ja=
ua._;return Ja.require[Ia].apply(Ja,arguments)}});if(la){var Na=ta.head=document.getElementsByTagName('head')[0];if(D=document.getElementsByTagName('base')[0])Na=ta.head=D.parentNode}Da.onError=ea;Da.createNode=function(Ia,Ja,Ua){Ja=Ia.xhtml?document.createElementNS('http://www.w3.org/1999/xhtml','html:script'):document.createElement('script');Ja.type=Ia.scriptType||'text/javascript';Ja.charset='utf-8';Ja.async=!0;return Ja};Da.load=function(Ia,Ja,Ua){var pb=Ia&&Ia.config||{};if(la){var ab=Da.createNode(pb,
Ja,Ua);ab.setAttribute('data-requirecontext',Ia.contextName);ab.setAttribute('data-requiremodule',Ja);!ab.attachEvent||ab.attachEvent.toString&&0>ab.attachEvent.toString().indexOf('[native code')||ma?(ab.addEventListener('load',Ia.onScriptLoad,!1),ab.addEventListener('error',Ia.onScriptError,!1)):(La=!0,ab.attachEvent('onreadystatechange',Ia.onScriptLoad));ab.src=Ua;if(pb.onNodeCreated)pb.onNodeCreated(ab,pb,Ja,Ua);y=ab;D?Na.insertBefore(ab,D):Na.appendChild(ab);y=null;return ab}if(ia)try{P(function(){},
0),importScripts(Ua),Ia.completeLoad(Ja)}catch(gb){Ia.onError(N('importscripts','importScripts failed for '+Ja+' at '+Ua,gb,[Ja]))}};la&&!Ca.skipDataMain&&ba(document.getElementsByTagName('script'),function(Ia){Na||(Na=Ia.parentNode);if(C=Ia.getAttribute('data-main'))return H=C,Ca.baseUrl||-1!==H.indexOf('!')||(m=H.split('/'),H=m.pop(),v=m.length?m.join('/')+'/':'./',Ca.baseUrl=v),H=H.replace(J,''),Da.jsExtRegExp.test(H)&&(H=C),Ca.deps=Ca.deps?Ca.deps.concat(H):[H],!0});define=function(Ia,Ja,Ua){var pb;
'string'!==typeof Ia&&(Ua=Ja,Ja=Ia,Ia=null);U(Ja)||(Ua=Ja,Ja=null);!Ja&&na(Ua)&&(Ja=[],Ua.length&&(Ua.toString().replace(w,V).replace(F,function(gb,Ub){Ja.push(Ub)}),Ja=(1===Ua.length?['require']:['require','exports','module']).concat(Ja)));if(La&&(pb=y||O())){Ia||=pb.getAttribute('data-requiremodule');var ab=ua[pb.getAttribute('data-requirecontext')]}ab?(ab.defQueue.push([Ia,Ja,Ua]),ab.defQueueMap[Ia]=!0):Qa.push([Ia,Ja,Ua])};define.amd={jQuery:!0};Da.exec=function(Ia){return eval(Ia)};Da(Ca)}})(this,
'undefined'===typeof setTimeout?void 0:setTimeout);define('requireLib',function(){});
!function(A,P){'object'==typeof exports&&'undefined'!=typeof module?P(exports):'function'==typeof define&&define.amd?define('vendor/uuid',['exports'],P):P((A=A||self).uuid={})}(this,function(A){function P(){if(!u)throw Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');return u(G)}function V(m,z){z=z||0;var y=Ea;return[y[m[z++]],y[m[z++]],y[m[z++]],y[m[z++]],'-',y[m[z++]],y[m[z++]],'-',y[m[z++]],y[m[z++]],'-',y[m[z++]],y[m[z++]],'-',y[m[z++]],
y[m[z++]],y[m[z++]],y[m[z++]],y[m[z++]],y[m[z++]]].join('')}function na(m,z,y){var H=function(v,w,F,J){J=F&&J||0;if('string'==typeof v&&(v=function(T){T=unescape(encodeURIComponent(T));for(var ta=Array(T.length),Fa=0;Fa<T.length;Fa++)ta[Fa]=T.charCodeAt(Fa);return ta}(v)),'string'==typeof w&&(w=function(T){var ta=[];return T.replace(/[a-fA-F0-9]{2}/g,function(Fa){ta.push(parseInt(Fa,16))}),ta}(w)),!Array.isArray(v))throw TypeError('value must be an array of bytes');if(!Array.isArray(w)||16!==w.length)throw TypeError('namespace must be uuid string or an Array of 16 byte values');
v=y(w.concat(v));if(v[6]=15&v[6]|z,v[8]=63&v[8]|128,F)for(w=0;16>w;++w)F[J+w]=v[w];return F||V(v)};try{H.name=m}catch(v){}return H.DNS='6ba7b810-9dad-11d1-80b4-00c04fd430c8',H.URL='6ba7b811-9dad-11d1-80b4-00c04fd430c8',H}function U(m,z){var y=(65535&m)+(65535&z);return(m>>16)+(z>>16)+(y>>16)<<16|65535&y}function M(m,z,y,H,v,w){return U((F=U(U(z,m),U(H,w)))<<(J=v)|F>>>32-J,y);var F,J}function ba(m,z,y,H,v,w,F){return M(z&y|~z&H,m,z,v,w,F)}function Q(m,z,y,H,v,w,F){return M(z&H|y&~H,m,z,v,w,F)}function S(m,
z,y,H,v,w,F){return M(y^(z|~H),m,z,v,w,F)}for(var u='undefined'!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||'undefined'!=typeof msCrypto&&'function'==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),G=new Uint8Array(16),r,ea,Ea=[],N=0;256>N;++N)Ea[N]=(N+256).toString(16).substr(1);var O=0,D=0;N=na('v3',48,function(m){if('string'==typeof m){var z=unescape(encodeURIComponent(m));m=Array(z.length);for(var y=0;y<z.length;y++)m[y]=z.charCodeAt(y)}return function(H){var v,
w=[],F=32*H.length;for(v=0;v<F;v+=8){var J=H[v>>5]>>>v%32&255;J=parseInt('0123456789abcdef'.charAt(J>>>4&15)+'0123456789abcdef'.charAt(15&J),16);w.push(J)}return w}(function(H,v){H[v>>5]|=128<<v%32;H[14+(v+64>>>9<<4)]=v;var w=1732584193,F=-271733879,J=-1732584194,T=271733878;for(v=0;v<H.length;v+=16){var ta=w;var Fa=F;var W=J;var la=T;w=ba(w,F,J,T,H[v],7,-680876936);T=ba(T,w,F,J,H[v+1],12,-389564586);J=ba(J,T,w,F,H[v+2],17,606105819);F=ba(F,J,T,w,H[v+3],22,-1044525330);w=ba(w,F,J,T,H[v+4],7,-176418897);
T=ba(T,w,F,J,H[v+5],12,1200080426);J=ba(J,T,w,F,H[v+6],17,-1473231341);F=ba(F,J,T,w,H[v+7],22,-45705983);w=ba(w,F,J,T,H[v+8],7,1770035416);T=ba(T,w,F,J,H[v+9],12,-1958414417);J=ba(J,T,w,F,H[v+10],17,-42063);F=ba(F,J,T,w,H[v+11],22,-1990404162);w=ba(w,F,J,T,H[v+12],7,1804603682);T=ba(T,w,F,J,H[v+13],12,-40341101);J=ba(J,T,w,F,H[v+14],17,-1502002290);F=ba(F,J,T,w,H[v+15],22,1236535329);w=Q(w,F,J,T,H[v+1],5,-165796510);T=Q(T,w,F,J,H[v+6],9,-1069501632);J=Q(J,T,w,F,H[v+11],14,643717713);F=Q(F,J,T,w,H[v],
20,-373897302);w=Q(w,F,J,T,H[v+5],5,-701558691);T=Q(T,w,F,J,H[v+10],9,38016083);J=Q(J,T,w,F,H[v+15],14,-660478335);F=Q(F,J,T,w,H[v+4],20,-405537848);w=Q(w,F,J,T,H[v+9],5,568446438);T=Q(T,w,F,J,H[v+14],9,-1019803690);J=Q(J,T,w,F,H[v+3],14,-187363961);F=Q(F,J,T,w,H[v+8],20,1163531501);w=Q(w,F,J,T,H[v+13],5,-1444681467);T=Q(T,w,F,J,H[v+2],9,-51403784);J=Q(J,T,w,F,H[v+7],14,1735328473);F=Q(F,J,T,w,H[v+12],20,-1926607734);w=M(F^J^T,w,F,H[v+5],4,-378558);T=M(w^F^J,T,w,H[v+8],11,-2022574463);J=M(T^w^F,J,
T,H[v+11],16,1839030562);F=M(J^T^w,F,J,H[v+14],23,-35309556);w=M(F^J^T,w,F,H[v+1],4,-1530992060);T=M(w^F^J,T,w,H[v+4],11,1272893353);J=M(T^w^F,J,T,H[v+7],16,-155497632);F=M(J^T^w,F,J,H[v+10],23,-1094730640);w=M(F^J^T,w,F,H[v+13],4,681279174);T=M(w^F^J,T,w,H[v],11,-358537222);J=M(T^w^F,J,T,H[v+3],16,-722521979);F=M(J^T^w,F,J,H[v+6],23,76029189);w=M(F^J^T,w,F,H[v+9],4,-640364487);T=M(w^F^J,T,w,H[v+12],11,-421815835);J=M(T^w^F,J,T,H[v+15],16,530742520);F=M(J^T^w,F,J,H[v+2],23,-995338651);w=S(w,F,J,T,
H[v],6,-198630844);T=S(T,w,F,J,H[v+7],10,1126891415);J=S(J,T,w,F,H[v+14],15,-1416354905);F=S(F,J,T,w,H[v+5],21,-57434055);w=S(w,F,J,T,H[v+12],6,1700485571);T=S(T,w,F,J,H[v+3],10,-1894986606);J=S(J,T,w,F,H[v+10],15,-1051523);F=S(F,J,T,w,H[v+1],21,-2054922799);w=S(w,F,J,T,H[v+8],6,1873313359);T=S(T,w,F,J,H[v+15],10,-30611744);J=S(J,T,w,F,H[v+6],15,-1560198380);F=S(F,J,T,w,H[v+13],21,1309151649);w=S(w,F,J,T,H[v+4],6,-145523070);T=S(T,w,F,J,H[v+11],10,-1120210379);J=S(J,T,w,F,H[v+2],15,718787259);F=S(F,
J,T,w,H[v+9],21,-343485551);w=U(w,ta);F=U(F,Fa);J=U(J,W);T=U(T,la)}return[w,F,J,T]}(function(H){var v,w=[];w[(H.length>>2)-1]=void 0;for(v=0;v<w.length;v+=1)w[v]=0;var F=8*H.length;for(v=0;v<F;v+=8)w[v>>5]|=(255&H[v/8])<<v%32;return w}(m),8*m.length))});var C=na('v5',80,function(m){var z=[1518500249,1859775393,2400959708,3395469782],y=[1732584193,4023233417,2562383102,271733878,3285377520];if('string'==typeof m){var H=unescape(encodeURIComponent(m));m=Array(H.length);for(var v=0;v<H.length;v++)m[v]=
H.charCodeAt(v)}m.push(128);H=Math.ceil((m.length/4+2)/16);var w=Array(H);for(v=0;v<H;v++){w[v]=Array(16);for(var F=0;16>F;F++)w[v][F]=m[64*v+4*F]<<24|m[64*v+4*F+1]<<16|m[64*v+4*F+2]<<8|m[64*v+4*F+3]}w[H-1][14]=8*(m.length-1)/Math.pow(2,32);w[H-1][14]=Math.floor(w[H-1][14]);w[H-1][15]=8*(m.length-1)&4294967295;for(v=0;v<H;v++){m=Array(80);for(F=0;16>F;F++)m[F]=w[v][F];for(F=16;80>F;F++){var J=m[F-3]^m[F-8]^m[F-14]^m[F-16];m[F]=J<<1|J>>>31}J=y[0];var T=y[1],ta=y[2],Fa=y[3],W=y[4];for(F=0;80>F;F++){var la=
Math.floor(F/20),ia=J<<5|J>>>27;a:{switch(la){case 0:var xa=T&ta^~T&Fa;break a;case 1:xa=T^ta^Fa;break a;case 2:xa=T&ta^T&Fa^ta&Fa;break a;case 3:xa=T^ta^Fa;break a}xa=void 0}la=ia+xa+W+z[la]+m[F]>>>0;W=Fa;Fa=ta;ta=(T<<30|T>>>2)>>>0;T=J;J=la}y[0]=y[0]+J>>>0;y[1]=y[1]+T>>>0;y[2]=y[2]+ta>>>0;y[3]=y[3]+Fa>>>0;y[4]=y[4]+W>>>0}return[y[0]>>24&255,y[0]>>16&255,y[0]>>8&255,255&y[0],y[1]>>24&255,y[1]>>16&255,y[1]>>8&255,255&y[1],y[2]>>24&255,y[2]>>16&255,y[2]>>8&255,255&y[2],y[3]>>24&255,y[3]>>16&255,y[3]>>
8&255,255&y[3],y[4]>>24&255,y[4]>>16&255,y[4]>>8&255,255&y[4]]});A.v1=function(m,z,y){y=z&&y||0;var H=z||[],v=(m=m||{}).node||r,w=void 0!==m.clockseq?m.clockseq:ea;if(null==v||null==w){var F=m.random||(m.rng||P)();null==v&&(v=r=[1|F[0],F[1],F[2],F[3],F[4],F[5]]);null==w&&(w=ea=16383&(F[6]<<8|F[7]))}F=void 0!==m.msecs?m.msecs:(new Date).getTime();var J=void 0!==m.nsecs?m.nsecs:D+1,T=F-O+(J-D)/1E4;if(0>T&&void 0===m.clockseq&&(w=w+1&16383),(0>T||F>O)&&void 0===m.nsecs&&(J=0),1E4<=J)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");
O=F;D=J;ea=w;m=(1E4*(268435455&(F+=122192928E5))+J)%4294967296;H[y++]=m>>>24&255;H[y++]=m>>>16&255;H[y++]=m>>>8&255;H[y++]=255&m;m=F/4294967296*1E4&268435455;H[y++]=m>>>8&255;H[y++]=255&m;H[y++]=m>>>24&15|16;H[y++]=m>>>16&255;H[y++]=w>>>8|128;H[y++]=255&w;for(w=0;6>w;++w)H[y+w]=v[w];return z||V(H)};A.v3=N;A.v4=function(m,z,y){y=z&&y||0;'string'==typeof m&&(z='binary'===m?Array(16):null,m=null);var H=(m=m||{}).random||(m.rng||P)();if(H[6]=15&H[6]|64,H[8]=63&H[8]|128,z)for(m=0;16>m;++m)z[y+m]=H[m];
return z||V(H)};A.v5=C;Object.defineProperty(A,'__esModule',{value:!0})});
function Merge(){var A=[],P=!1,V=function(M,ba){var Q=M;P||('object'==typeof M&&Array.isArray(M),P=!0);'undefined'==typeof Q&&(Q='undefined'!=typeof ba&&Array.isArray(ba)?[]:{});var S=!1;'boolean'==typeof arguments[arguments.length-1]&&(S=arguments[arguments.length-1]);var u=1,G=arguments.length,r,ea;if('object'!==typeof Q&&'function'!==typeof Q)Q=S?'undefined'==typeof arguments[2]?arguments[1]:arguments[2]:'undefined'==typeof arguments[0]?arguments[1]:arguments[0];else for(;u<G;++u)if('boolean'!=
typeof arguments[u]&&null!=(r=arguments[u])){if('object'!=typeof r){Q=r;break}if(Array.isArray(r)&&Array.isArray(Q))Q=na(r,Q,S);else for(var Ea in r){Q||={name:null};var N=Q[Ea];var O=r[Ea];if(Q!==O)if(O&&(U(O)||(ea=Array.isArray(O)))){var D=!1;if(ea){ea=!1;if(N&&Array.isArray(N))var C=N||[];else if(U(N)){C=N||{};Q[Ea]=C;continue}else C=[];A=C;C=na(O,C,S);Q[Ea]=C}else{C=N&&U(N)?N:null;if(!C){D=!0;C={};for(var m in O)C[m]=O[m]}if(S){for(m in O)'undefined'!=typeof O[m]?Array.isArray(O[m])&&Array.isArray(C[m])?
C[m]=na(O[m],C[m],S):C[m]=O[m]:Array.isArray(O[m])&&Array.isArray(C[m])&&(C[m]=na(O[m],C[m],S));Q[Ea]=C}else{for(m in O)'undefined'==typeof C[m]?Array.isArray(O[m])&&Array.isArray(C[m])?C[m]=na(O[m],C[m],S):C[m]=O[m]:Array.isArray(O[m])&&Array.isArray(C[m])&&(C[m]=na(O[m],C[m],S));'boolean'==typeof N||D?D&&(Q[Ea]=C):Q[Ea]=V(C,O,S)}}}else void 0!==O&&(Q[Ea]='undefined'==typeof N||null==N||N===O||S?O:N)}}A=[];P=!1;return Q},na=function(M,ba,Q){A=[];var S=[],u=V.getKeyComparison();if(/^true$/i.test(Q)){if('object'==
typeof M[0]&&null!=M[0]&&'undefined'!=typeof M[0][u]&&'object'==typeof ba[0]&&'undefined'!=typeof ba[0][u]){A=Array.isArray(ba)?Array.from(ba):JSON.clone(ba);var G=0;for(Q=A.length;G<Q;++G)S.push(A[G][u]);Q=JSON.clone(M);var r=0;G=0;M=Q.length;for(var ea=N||0,Ea=ba.length;ea<Ea;++ea)a:for(G=G||0;G<M;++G)if(Q[G][u]===ba[ea][u]){-1<S.indexOf(Q[G][u])?(A[r]=Q[G],++r):-1==S.indexOf(Q[G][u])&&(S.push(Q[G][u]),A[r]=Q[G],++r);break a}else-1==S.indexOf(Q[G][u])&&(S.push(Q[G][u]),A.push(Q[G]));return A}return Array.isArray(M)&&
0==M.length||'undefined'==typeof M?ba:M}if(0==M.length&&0<ba.length)return A=ba;if(0==ba.length&&0<M.length)for(G=0;G<M.length;++G)ba.push(M[G]);if(0==A.length&&0<ba.length)for(G=0;G<ba.length;++G)'object'!=typeof ba[G]&&-1==A.indexOf(ba[G])&&A.push(ba[G]);if(0<ba.length){if('undefined'!=typeof M[0]&&'object'==typeof M[0]&&null!=M[0]&&'undefined'!=typeof M[0][u]&&'object'==typeof ba[0]&&'undefined'!=typeof ba[0][u]){A=Array.isArray(ba)?Array.from(ba):JSON.clone(ba);Q=JSON.clone(M);var N=null;G=0;
for(M=A.length;G<M;++G)S.push(A[G][u]);for(G=0;G<M;++G)a:for(ea=N||0,Ea=Q.length;ea<Ea;++ea)if(null!=Q[ea]&&'undefined'!=typeof Q[ea][u]&&Q[ea][u]!==A[G][u]){if(-1==S.indexOf(Q[ea][u])){A.push(Q[ea]);S.push(Q[ea][u]);N=ea+1;M<Ea&&++M;break a}}else if(null!=Q[ea]&&'undefined'!=typeof Q[ea][u]&&Q[ea][u]===A[G][u])N=ea+1;else break a;return A}for(G=0;G<M.length;++G)if(S=null,'undefined'==typeof M||'object'!=typeof M[G]||Array.isArray(M[G])||null==M[G]||(S=Object.getOwnPropertyNames(M[G])),'undefined'!=
typeof S&&null!=S&&(S=S[0]||null),-1<ba.indexOf(M[G])&&Q)ba.splice(ba.indexOf(M[G]),1,M[G]);else if('undefined'==typeof A[G]&&'object'==typeof M[G])for(r in A=ba,'undefined'==typeof A[G]&&(A[G]={}),M[G])A[G].hasOwnProperty(r)||(A[G][r]=M[G][r]);else!Q&&-1<A.indexOf(M[G])&&/number/i.test(typeof M[G])&&M[G]!==A[G]?A.push(M[G]):'undefined'==typeof ba[G]||/null/i.test(ba[G])||'undefined'==typeof ba[G][u]||'undefined'==typeof M[G]||'undefined'==typeof M[G][u]||ba[G][u]!=M[G][u]?-1==A.indexOf(M[G])&&'object'!=
typeof M[G]?A.push(M[G]):'undefined'==typeof ba[G]||/null/i.test(ba[G])||'undefined'==typeof ba[G][S]||'undefined'==typeof M[G]||'undefined'==typeof M[G][S]||ba[G][S]!=M[G][S]||(A[G]=Q?M[G]:ba[G]):A[G]=Q?M[G]:ba[G]}if(0<A.length&&0<ba.length||0==A.length&&0==ba.length)return A};na.prototype.setKeyComparison=function(M){this.keyComparison=M};var U=function(M){if(!M||'[object Object]'!=={}.toString.call(M)||M.nodeType||M.setInterval)return!1;var ba={}.hasOwnProperty,Q=ba.call(M,'constructor');ba='undefined'!=
typeof M.constructor?ba.call(M.constructor.prototype,'isPrototypeOf'):!1;return!M.constructor||Q||ba?!0:!1};V.setKeyComparison=function(M){na.keyComparison=M;return V};V.getKeyComparison=function(){var M=na.keyComparison||'id';na.keyComparison='id';return M};return V}'undefined'!==typeof module&&module.exports?('undefined'==typeof JSON.clone&&require('../../../helpers'),module.exports=Merge()):'function'===typeof define&&define.amd&&define('lib/merge',[],function(){return Merge()});
function registerEvents(A,P){'undefined'==typeof gina&&'undefined'!=typeof window.gina&&(gina=window.gina);gina.registeredEvents[A]=P}function mergeEventProps(A,P){for(let V in P)'undefined'==typeof A[V]&&(A[V]=P[V]);return A}
function addListener(A,P,V,na){var U=function(Q,S,u,G){'undefined'!=typeof Q.event&&Q.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(u)&&-1==Q.event[u].indexOf(S)&&(Q.event[u][Q.event[u].length]=S);'undefined'!=typeof S&&null!=S?S.addEventListener?S.addEventListener(u,G,!1):S.attachEvent&&S.attachEvent('on'+u,G):Q.customEvent.addListener(u,G);gina.events[u]='undefined'!=typeof S.id&&'object'!=typeof S.id?S.id:S.getAttribute('id')},M=0,ba=null;if(Array.isArray(V))for(ba=V.length;M<ba;M++)U(A,
P,V[M],na);else if(Array.isArray(P))for(M=0,ba=P.length;M<ba;M++){let Q=/\.$/.test(V)?V+P[M].id:V;U(A,P[M],Q,na)}else V=/\.$/.test(V)?V+P.id:V,U(A,P,V,na)}
function triggerEvent(A,P,V,na,U){if('undefined'!=typeof P&&null!=P){A=!1;if(jQuery){var M=jQuery.fn.jquery.split(/\./);M=2<M.length?M.splice(0,2).join('.'):M.join('.');M='1.7'>=M?jQuery(P).data('events'):jQuery._data(jQuery(P)[0],'events');if(M='undefined'!=typeof M&&'undefined'!=typeof M[V]?!0:!1)M=jQuery.Event(V),jQuery(P).trigger(M,na),A=M.isDefaultPrevented()}window.CustomEvent||document.createEvent?(window.CustomEvent?M=new CustomEvent(V,{detail:na,bubbles:!0,cancelable:!0,target:P}):(M=document.createEvent('HTMLEvents'),
M.detail=na,M.target=P,M.initEvent(V,!0,!0),M.eventName=V),U&&(M=mergeEventProps(M,U)),'undefined'!=typeof M.defaultPrevented&&M.defaultPrevented&&(A=M.defaultPrevented),A||P.dispatchEvent(M)):document.createEventObject&&(M=document.createEventObject(),M.srcElement.id=P.id,M.detail=na,M.target=P,U&&(M=mergeEventProps(M,U)),P.fireEvent('on'+V,M))}else A.customEvent.fire(V,na)}
function cancelEvent(A){'undefined'!=typeof A&&null!=A&&(A.cancelBubble=!0,A.preventDefault&&A.preventDefault(),A.stopPropagation&&A.stopPropagation(),A.returnValue=!1)}
function setupXhr(A){var P=null;if(window.XMLHttpRequest)P=new XMLHttpRequest;else if(window.ActiveXObject)try{P=new ActiveXObject('Msxml2.XMLHTTP')}catch(na){try{P=new ActiveXObject('Microsoft.XMLHTTP')}catch(U){}}if('undefined'!=typeof A){if(!A.url||'undefined'==typeof A.url)throw Error('Missing `options.url`');'undefined'==typeof A.method&&(A.method='GET');A.method=A.method.toUpperCase();if(A.withCredentials){if('withCredentials'in P)A.isSynchrone?P.open(A.method,A.url,A.isSynchrone):P.open(A.method,
A.url);else if('undefined'!=typeof XDomainRequest)P=new XDomainRequest,P.open(A.method,A.url);else{result='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,$target,'error.'+id,result);return}P.responseType='undefined'!=typeof A.responseType?A.responseType:'';P.withCredentials=!0}else A.isSynchrone?P.open(A.method,A.url,A.isSynchrone):P.open(A.method,A.url);for(var V in A.headers)'Content-Type'==V&&'undefined'!=typeof enctype&&null!=
enctype&&''!=enctype||P.setRequestHeader(V,A.headers[V])}return P}
function handleXhr(A,P,V,na){if(!A)throw Error('No `xhr` object initiated');var U=null,M=null,ba=null,Q=null,S=null,u=V.$link||null,G=V.$form||null,r=null;delete V.$link;delete V.$form;G||u?u?(u.target=document.getElementById(u.id),r=gina.link.target,S=gina.link.id):(r=G.target,S=r.getAttribute('id')):(r=P,S=r.getAttribute('id'));var ea=u&&P.getAttribute('data-gina-link-event-on-success')||u&&P.getAttribute('data-gina-link-event-on-error')?!0:!1,Ea=G&&r.getAttribute('data-gina-form-event-on-submit-success')||
G&&r.getAttribute('data-gina-form-event-on-submit-error')?!0:!1;Ea&&G&&listenToXhrEvents(G,'form');P=P.getAttribute('enctype')||V.headers['Content-Type'];for(var N in V.headers)'Content-Type'==N&&'undefined'!=typeof P&&null!=P&&''!=P||A.setRequestHeader(N,V.headers[N]);A.withCredentials='undefined'!=typeof V.withCredentials?V.withCredentials:!1;A.onerror=function(O,D){O={status:A.status||500,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};
G&&(G.eventData.error=O);u&&(u.eventData.error=O);window.ginaToolbar.update('data-xhr',O,!0);triggerEvent(gina,r,'error.'+S,O);Ea&&triggerEvent(gina,r,'error.'+S+'.hform',O);ea&&triggerEvent(gina,r,'error.'+S+'.hlink',O)};A.onreadystatechange=function(O){O=/Google Inc/i.test(navigator.vendor)?50:0;2==A.readyState&&(M=/^attachment;/.test(A.getResponseHeader('Content-Disposition'))?!0:!1,!A.responseType&&M&&(A.responseType='blob'));if(4==A.readyState)if(U=null,ba=A.getResponseHeader('Content-Type'),
/^2/.test(A.status)){try{if(/blob/.test(A.responseType)||M){if('undefined'==typeof ba||null==ba)ba='application/octet-stream';U=new Blob([this.response],{type:ba});var D=document.createElement('a');D.style='display: none';document.body.appendChild(D);var C=window.URL.createObjectURL(U);D.href=C;var m=A.getResponseHeader('Content-Disposition');D.download=m.match('=(.*)')[0].substr(1);D.click();window.URL.revokeObjectURL(C);Q={status:A.status,statusText:A.statusText,responseType:U.type,type:U.type,
size:U.size}}!Q&&/\/json/.test(ba)&&(Q=JSON.parse(A.responseText),'undefined'==typeof Q.status&&(Q.status=A.status||200));if(!Q&&/\/html/.test(ba)&&(Q={contentType:ba,content:A.responseText},'undefined'==typeof Q.status&&(Q.status=A.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler)){var z=gina.popin.getActivePopin();if(z){XHRData={};try{XHRData=(new DOMParser).parseFromString(Q.content,'text/html').getElementById('gina-without-layout-xhr-data'),XHRData=JSON.parse(decodeURIComponent(XHRData.value)),
XHRView=(new DOMParser).parseFromString(Q.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRData&&window.ginaToolbar.update('data-xhr',XHRData),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(w){throw w;}z.loadContent(Q.content);Q=XHRData;triggerEvent(gina,r,'success.'+S,Q);return}}Q||(Q=A.responseText);G&&
(G.eventData.success=Q);XHRData=Q;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&/\/html/.test(ba)&&window.ginaToolbar.update('data-xhr',XHRData)}catch(w){throw w;}triggerEvent(gina,r,'success.'+S,Q);Ea&&triggerEvent(gina,r,'success.'+S+'.hform',Q);ea&&triggerEvent(gina,r,'success.'+S+'.hlink',Q)}catch(w){Q={status:422,error:w.message,stack:w.stack};G&&(G.eventData.error=Q);XHRData=Q;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&
window.ginaToolbar.update('data-xhr',XHRData)}catch(F){throw F;}triggerEvent(gina,r,'error.'+S,Q);Ea&&triggerEvent(gina,r,'error.'+S+'.hform',Q);ea&&triggerEvent(gina,r,'error.'+S+'.hlink',Q)}if('undefined'!=typeof Q&&'undefined'!=typeof Q.location)return window.location.hash='',Q.location=/^http/.test(Q.location)||/^\//.test(Q.location)?Q.location:location.protocol+'//'+Q.location,setTimeout(()=>{window.location.href=Q.location},O)}else if(0!=A.status)if(Q={status:A.status,message:''},/blob/.test(A.responseType)){U=
new Blob([this.response],{type:'text/plain'});var y=new FileReader,H='';y.addEventListener('loadend',w=>{/string/i.test(typeof w.srcElement.result)?H+=w.srcElement.result:'object'==typeof w.srcElement.result?Q=merge(Q,w.srcElement.result):Q.message+=w.srcElement.result;if(/^2/.test(y.readyState)){if(/^(\{|\[)/.test(H))try{Q=merge(Q,JSON.parse(H))}catch(T){Q=merge(Q,T)}Q.message||delete Q.message;G&&(G.eventData.error=Q);if('undefined'!=typeof Q&&'undefined'!=typeof Q.error&&Q.error.fields&&'object'==
typeof Q.error.fields){w={};var F=0,J;for(J in Q.error.fields)++F,w[J]={isApplicationValidationError:Q.error.fields[J]};0<F&&handleErrorsDisplay(G.target,w)}XHRData=Q;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(T){throw T;}triggerEvent(gina,r,'error.'+S,Q);Ea&&triggerEvent(gina,r,'error.'+S+'.hform',Q);ea&&triggerEvent(gina,r,'error.'+S+'.hlink',Q)}});y.readAsText(U)}else{try{Q=merge(Q,JSON.parse(A.responseText))}catch(w){Q=merge(Q,
w)}G&&(G.eventData.error=Q);if('undefined'!=typeof Q&&'undefined'!=typeof Q.error&&Q.error.fields&&'object'==typeof Q.error.fields){D={};C=0;for(var v in Q.error.fields)++C,D[v]={isApplicationValidationError:Q.error.fields[v]};0<C&&handleErrorsDisplay(G.target,D)}XHRData=Q;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(w){throw w;}triggerEvent(gina,r,'error.'+S,Q);Ea&&triggerEvent(gina,r,'error.'+S+'.hform',Q);ea&&triggerEvent(gina,r,
'error.'+S+'.hlink',Q)}};A.onprogress=function(O){var D='0';O.lengthComputable&&(D=O.loaded/O.total,D=parseInt(100*D));O={status:100,progress:D};G&&(G.eventData.onprogress=O);triggerEvent(gina,r,'progress.'+S,O)};A.ontimeout=function(O){Q={status:408,error:'Request Timeout'};G&&(G.eventData.ontimeout=Q);triggerEvent(gina,r,'error.'+S,Q);Ea&&triggerEvent(gina,r,'error.'+S+'.hform',Q);ea&&triggerEvent(gina,r,'error.'+S+'.hlink',Q)}}
function removeListener(A,P,V,na){'undefined'!=typeof A.event&&A.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(V)&&-1!=A.event[V].indexOf(P)&&A.event[V].splice(A.event[V].indexOf(P),1);if('undefined'!=typeof P&&null!=P)if(P.removeEventListener)if(Array.isArray(P))for(i=0,len=P.length;i<len;i++)A=/\.$/.test(V)?V+P[i].id:V,P.removeEventListener(A,na,!1),'undefined'!=typeof gina.events[A]&&delete gina.events[A];else V=/\.$/.test(V)?V+P.id:V,P.removeEventListener(V,na,!1);else{if(P.attachEvent)if(Array.isArray(P))for(i=
0,len=P.length;i<len;i++)A=/\.$/.test(V)?V+P[i].id:V,P.detachEvent('on'+A,na),'undefined'!=typeof gina.events[A]&&delete gina.events[A];else V=/\.$/.test(V)?V+P.id:V,P.detachEvent('on'+V,na)}else if(Array.isArray(P))for(i=0,len=P.length;i<len;i++){let U=/\.$/.test(V)?V+P[i].id:V;A.customEvent.removeListener(U,na);'undefined'!=typeof gina.events[U]&&delete gina.events[U]}else V=/\.$/.test(V)?V+P.id:V,A.customEvent.removeListener(V,na);'undefined'!=typeof gina.events[V]&&delete gina.events[V];'undefined'!=
typeof na&&na()}
function on(A,P){if(!this.plugin)throw Error('No `plugin` reference found for this event: `'+A);if(0>gina.registeredEvents[this.plugin].indexOf(A)&&!/^init$/.test(A)&&!/\.hform$/.test(A)&&!/\.hlink$/.test(A))P(Error('Event `'+A+'` not handled by ginaEventHandler'));else{var V=null,na=null;'undefined'!=typeof this.id&&'object'!=typeof this.id?(V=this.target||this,na=this.id):'undefined'!=typeof this.target?((V=this.target)||(V=this),na='undefined'!=typeof V.getAttribute?V.getAttribute('id'):this.id):
(V=this.target,na=instance.id);this.eventData&&!V.eventData&&(V.eventData=this.eventData);A=/\.(hform|hlink)$/.test(A)?/\.hform$/.test(A)?A.replace(/\.hform$/,'.'+na+'.hform'):A.replace(/\.hlink$/,'.'+na+'.hlink'):A+('.'+na);gina.events[A]||(addListener(gina,V,A,function(U){cancelEvent(U);var M=null;U.detail?M=U.detail:'undefined'!=typeof this.eventData.submit?M=this.eventData.submit:'undefined'!=typeof this.eventData.error?M=this.eventData.error:'undefined'!=typeof this.eventData.success&&(M=this.eventData.success);
P&&P(U,M)}),this.initialized&&!this.isReady&&triggerEvent(gina,V,'init.'+na));return this}}define('utils/events',function(){});
function PrototypesHelper(A){var P='undefined'!==typeof module&&module.exports?!1:!0,V=A||null;A=null;if('undefined'==typeof GINA_DIR&&!P&&'undefined'!=typeof process&&3<process.argv.length)if(/^\{/.test(process.argv[2]))A=JSON.parse(process.argv[2]).envVars;else if(/\.ctx$/.test(process.argv[2])){A=require('fs');var na=process.argv[2].split(/\-\-argv\-filename=/)[1];A=JSON.parse(A.readFileSync(na).toString()).envVars}if(V&&'undefined'!=typeof V&&'undefined'!=typeof V.dateFormat)for(let U in V.dateFormat)'undefined'==
typeof Date[U]&&Object.defineProperty(Date.prototype,U,{writable:!1,enumerable:!1,configurable:!0,value:function(){var M={0:this},ba=1,Q;for(Q in arguments)M[ba]=arguments[Q],++ba;M.length=ba;return V.dateFormat[U].apply(this,M)}});'undefined'==typeof Array.clone&&Object.defineProperty(Array.prototype,'clone',{writable:!1,enumerable:!1,configurable:!0,value:function(){return this.slice(0)}});'undefined'!=typeof JSON.clone||P||('undefined'!=typeof A&&null!=A?JSON.clone=require(A.GINA_DIR+'/utils/prototypes.json_clone'):
(A||(P=process.cwd().match(/.*\/gina/)[0],require(P+'/utils/helper'),setEnvVar('GINA_DIR',P,!0),A=getEnvVars()),JSON.clone=require(getEnvVar('GINA_DIR')+'/utils/prototypes.json_clone')));'undefined'==typeof JSON.escape&&(JSON.escape=function(U){try{return U.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(M){throw M;}});'undefined'==typeof Array.toString&&(Array.prototype.toString=function(){return this.join()});'undefined'==typeof Array.inArray&&Object.defineProperty(Array.prototype,
'inArray',{writable:!1,enumerable:!1,configurable:!0,value:function(U){return-1!=this.indexOf(U)}});'undefined'==typeof Array.from&&Object.defineProperty(Array.prototype,'from',{writable:!1,enumerable:!1,configurable:!0,value:function(U){for(var M={},ba=[],Q=U.length,S=0,u=0;u<Q;u++){var G=U[u];1!==M[G]&&(M[G]=1,ba[S++]=G)}return ba}});'undefined'==typeof Object.count&&Object.defineProperty(Object.prototype,'count',{writable:!0,enumerable:!1,configurable:!0,value:function(){var U=0;try{this instanceof
String&&JSON.parse(this);for(var M in this)this.hasOwnProperty(M)&&++U;return U}catch(ba){return U}}});'undefined'!=typeof global&&'undefined'==typeof global.__stack&&Object.defineProperty(global,'__stack',{configurable:!0,get:function(){var U=Error.prepareStackTrace;Error.prepareStackTrace=function(ba,Q){return Q};var M=Error();Error.captureStackTrace(M,arguments.callee);M=M.stack;Error.prepareStackTrace=U;return M}})}
'undefined'!==typeof module&&module.exports?module.exports=PrototypesHelper:'function'===typeof define&&define.amd&&define('helpers/prototypes',[],function(){return PrototypesHelper});
function DateFormatHelper(){var A='undefined'!==typeof module&&module.exports?!1:!0,P=A?require('lib/merge'):require('./../lib/merge');var V='en-US';var na='en';var U={'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy',cookieDate:'GMT:ddd, dd mmm yyyy HH:MM:ss',logger:'yyyy mmm dd HH:MM:ss',shortTime:'h:MM TT',shortTime2:'h:MM',mediumTime:'h:MM:ss TT',mediumTime2:'h:MM:ss',longTime:'h:MM:ss TT Z',
longTime2:'h:MM:ss TT',concatenatedDate:'yyyymmdd',isoDate:'yyyy-mm-dd',isoTime:'HH:MM:ss',shortIsoTime:'HH:MM',longIsoTime:'HH:MM:ss TT',isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",longIsoDateTime:"yyyy-mm-dd'T'HH:MM:ss.L",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};var M={en:{dayNames:'Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday'.split(' '),monthNames:'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December'.split(' '),
masks:{'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy'}},fr:{dayNames:'dim lun mar mer jeu ven sam dimanche lundi mardi mercredi jeudi vendredi samedi'.split(' '),monthNames:'Jan F\u00e9v Mar Avr Mai Jui Juil Ao\u00fb Sep Oct Nov D\u00e9c Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre'.split(' '),masks:{'default':'ddd mmm dd yyyy HH:MM:ss',
shortDate:'d/m/yy',shortDate2:'dd/mm/yyyy',mediumDate:'d mmm, yyyy',longDate:'d mmmm, yyyy',fullDate:'dddd, d mmmm, yyyy'}}};var ba=function(u,G){if(G instanceof Date)return u=u.getTime(),G=G.getTime(),Math.round(Math.abs(u-G)/864E5);throw Error('dateTo is not instance of Date() !');},Q=['us','eu','corporate'],S=function(u){d=new Date(u.getFullYear(),u.getMonth(),u.getDate());u=d.getDay()||7;d.setDate(d.getDate()+4-u);u=new Date(Date.parse(d.getFullYear(),0,1));return Math.ceil(((d-u)/864E5+1)/7)};
return{setCulture:function(u,G){/\-/.test(G)?(V=G,na=G.split(/\-/)[0]):na=G;return this},format:function(u,G,r){var ea=M[na]||M.en,Ea=null;try{Ea=P(ea.masks,U)}catch(T){P=(A='undefined'!==typeof module&&module.exports?!1:!0)?require('lib/merge'):require('./../lib/merge'),Ea=P(ea.masks,U)}'undefined'!=typeof M[V]&&(ea=M[V],'undefined'!=typeof M[V].mask&&(Ea=P(ea.masks,U)));var N=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,
O=/[^-+\dA-Z]/g,D=function(T,ta){T=String(T);for(ta=ta||2;T.length<ta;)T='0'+T;return T};1!=arguments.length||'[object String]'!=Object.prototype.toString.call(u)||/\d/.test(u)||(G=u,u=void 0);u=u?new Date(u):new Date;if(isNaN(u))throw SyntaxError('invalid date');G=String(Ea[G]||G||Ea['default']);'UTC:'==G.slice(0,4)&&(G=G.slice(4),r=!0);var C=r?'getUTC':'get';Ea=u[C+'Date']();var m=u[C+'Day'](),z=u[C+'Month'](),y=u[C+'FullYear'](),H=u[C+'Hours'](),v=u[C+'Minutes'](),w=u[C+'Seconds']();C=u[C+'Milliseconds']();
var F=r?0:u.getTimezoneOffset(),J={d:Ea,dd:D(Ea),ddd:ea.dayNames[m],dddd:ea.dayNames[m+7],m:z+1,mm:D(z+1),mmm:ea.monthNames[z],mmmm:ea.monthNames[z+12],yy:String(y).slice(2),yyyy:y,h:H%12||12,hh:D(H%12||12),H,HH:D(H),M:v,MM:D(v),s:w,ss:D(w),l:D(C,3),L:D(C),t:12>H?'a':'p',tt:12>H?'am':'pm',T:12>H?'A':'P',TT:12>H?'AM':'PM',Z:r?'UTC':(String(u).match(N)||['']).pop().replace(O,''),o:(0<F?'-':'+')+D(100*Math.floor(Math.abs(F)/60)+Math.abs(F)%60,4),S:['th','st','nd','rd'][3<Ea%10?0:(10!=Ea%100-Ea%10)*Ea%
10]};return G.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,function(T){return T in J?J[T]:T.slice(1,T.length-1)})},countDaysTo:ba,getDaysTo:function(u,G,r){if(G instanceof Date){G=ba(u,G);var ea=u.getMonth(),Ea=u.getFullYear();u=u.getDate()+1;u=new Date(Ea,ea,u);ea=[];for(Ea=0;Ea<G;++Ea)'undefined'!=typeof r?ea.push((new Date(u)).format(r)):ea.push(new Date(u)),u.setDate(u.getDate()+1);return ea||[]}throw Error('dateTo is not instance of Date() !');},getDaysInMonth:function(u){var G=
u.getMonth();u=u.getFullYear();u=new Date(u,G,1);for(var r=[];u.getMonth()===G;)r.push(new Date(u)),u.setDate(u.getDate()+1);return r},getQuarter:function(u,G){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>Q.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');u=new Date;G=arguments[0]}'undefined'==typeof u&&(u=new Date);'undefined'==typeof G&&(G='corporate');G=G.toLowerCase();switch(G){case 'us':var r=[4,1,2,3];break;case 'corportate':case 'eu':r=
[1,2,3,4];break;default:r=[1,2,3,4]}return r[Math.floor(u.getMonth()/3)]},getHalfYear:function(u,G){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>Q.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');u=new Date;G=arguments[0]}'undefined'==typeof u&&(u=new Date);'undefined'==typeof G&&(G='corporate');G=G.toLowerCase();return 2>=u.getQuarter(G)?1:2},getWeek:function(u,G){'undefined'==typeof u&&(u=new Date);'undefined'==typeof G&&(G='ISO 8601');
G=G.replace(/\s+/g,'').toLowerCase();switch(G){case 'corporate':case 'eu':case 'iso8601':return S(u);default:return S(u)}},addHours:function(u,G){u=new Date(u.getTime());u.setHours(u.getHours()+G);return u},addDays:function(u,G){u=new Date(u.getTime());u.setHours(u.getHours()+24*G);return u},addYears:function(u,G){u=new Date(u.getTime());u.setFullYear(u.getFullYear()+G);return u}}}
'undefined'!==typeof module&&module.exports?module.exports=DateFormatHelper:'function'===typeof define&&define.amd&&define('helpers/dateFormat',[],function(){return DateFormatHelper});
!function(A,P){'object'==typeof module&&'object'==typeof module.exports?module.exports=A.document?P(A,!0):function(V){if(!V.document)throw Error('jQuery requires a window with a document');return P(V)}:P(A)}('undefined'!=typeof window?window:this,function(A,P){function V(a){var c=!!a&&'length'in a&&a.length,e=b.type(a);return'function'===e||b.isWindow(a)?!1:'array'===e||0===c||'number'==typeof c&&0<c&&c-1 in a}function na(a,c,e){if(b.isFunction(c))return b.grep(a,function(k,n){return!!c.call(k,n,
k)!==e});if(c.nodeType)return b.grep(a,function(k){return k===c!==e});if('string'==typeof c){if(E.test(c))return b.filter(c,a,e);c=b.filter(c,a)}return b.grep(a,function(k){return-1<b.inArray(k,c)!==e})}function U(a,c){do a=a[c];while(a&&1!==a.nodeType);return a}function M(a){var c={};return b.each(a.match(Ga)||[],function(e,k){c[k]=!0}),c}function ba(){Ka.addEventListener?(Ka.removeEventListener('DOMContentLoaded',Q),A.removeEventListener('load',Q)):(Ka.detachEvent('onreadystatechange',Q),A.detachEvent('onload',
Q))}function Q(){(Ka.addEventListener||'load'===A.event.type||'complete'===Ka.readyState)&&(ba(),b.ready())}function S(a,c,e){if(void 0===e&&1===a.nodeType){var k='data-'+c.replace(zb,'-$1').toLowerCase();if(e=a.getAttribute(k),'string'==typeof e){try{e='true'===e?!0:'false'===e?!1:'null'===e?null:+e+''===e?+e:Cb.test(e)?b.parseJSON(e):e}catch(n){}b.data(a,c,e)}else e=void 0}return e}function u(a){for(var c in a)if(('data'!==c||!b.isEmptyObject(a[c]))&&'toJSON'!==c)return!1;return!0}function G(a,
c,e,k){if(ib(a)){var n,B,I=b.expando,Y=a.nodeType,qa=Y?b.cache:a,Ba=Y?a[I]:a[I]&&I;if(Ba&&qa[Ba]&&(k||qa[Ba].data)||void 0!==e||'string'!=typeof c)return Ba||=Y?a[I]=xb.pop()||b.guid++:I,qa[Ba]||(qa[Ba]=Y?{}:{toJSON:b.noop}),'object'!=typeof c&&'function'!=typeof c||(k?qa[Ba]=b.extend(qa[Ba],c):qa[Ba].data=b.extend(qa[Ba].data,c)),B=qa[Ba],k||(B.data||(B.data={}),B=B.data),void 0!==e&&(B[b.camelCase(c)]=e),'string'==typeof c?(n=B[c],null==n&&(n=B[b.camelCase(c)])):n=B,n}}function r(a,c,e){if(ib(a)){var k,
n,B=a.nodeType,I=B?b.cache:a,Y=B?a[b.expando]:b.expando;if(I[Y]){if(c&&(k=e?I[Y]:I[Y].data)){b.isArray(c)?c=c.concat(b.map(c,b.camelCase)):c in k?c=[c]:(c=b.camelCase(c),c=c in k?[c]:c.split(' '));for(n=c.length;n--;)delete k[c[n]];if(e?!u(k):!b.isEmptyObject(k))return}(e||(delete I[Y].data,u(I[Y])))&&(B?b.cleanData([a],!0):h.deleteExpando||I!=I.window?delete I[Y]:I[Y]=void 0)}}}function ea(a,c,e,k){var n,B=1,I=20,Y=k?function(){return k.cur()}:function(){return b.css(a,c,'')},qa=Y(),Ba=e&&e[3]||
(b.cssNumber[c]?'':'px'),sa=(b.cssNumber[c]||'px'!==Ba&&+qa)&&Mb.exec(b.css(a,c));if(sa&&sa[3]!==Ba){Ba=Ba||sa[3];e=e||[];sa=+qa||1;do B=B||'.5',sa/=B,b.style(a,c,sa+Ba);while(B!==(B=Y()/qa)&&1!==B&&--I)}return e&&(sa=+sa||+qa||0,n=e[1]?sa+(e[1]+1)*e[2]:+e[2],k&&(k.unit=Ba,k.start=sa,k.end=n)),n}function Ea(a){var c='abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video'.split(' ');
a=a.createDocumentFragment();if(a.createElement)for(;c.length;)a.createElement(c.pop());return a}function N(a,c){var e,k,n=0,B='undefined'!=typeof a.getElementsByTagName?a.getElementsByTagName(c||'*'):'undefined'!=typeof a.querySelectorAll?a.querySelectorAll(c||'*'):void 0;if(!B)for(B=[],e=a.childNodes||a;null!=(k=e[n]);n++)!c||b.nodeName(k,c)?B.push(k):b.merge(B,N(k,c));return void 0===c||c&&b.nodeName(a,c)?b.merge([a],B):B}function O(a,c){for(var e,k=0;null!=(e=a[k]);k++)b._data(e,'globalEval',
!c||b._data(c[k],'globalEval'))}function D(a){X.test(a.type)&&(a.defaultChecked=a.checked)}function C(a,c,e,k,n){for(var B,I,Y,qa,Ba,sa,Sa,Va=a.length,yb=Ea(c),bb=[],Hb=0;Va>Hb;Hb++)if(I=a[Hb],I||0===I)if('object'===b.type(I))b.merge(bb,I.nodeType?[I]:I);else if(eb.test(I)){qa=qa||yb.appendChild(c.createElement('div'));Ba=(ka.exec(I)||['',''])[1].toLowerCase();Sa=Xa[Ba]||Xa._default;qa.innerHTML=Sa[1]+b.htmlPrefilter(I)+Sa[2];for(B=Sa[0];B--;)qa=qa.lastChild;if(!h.leadingWhitespace&&Ra.test(I)&&bb.push(c.createTextNode(Ra.exec(I)[0])),
!h.tbody)for(B=(I='table'!==Ba||Oa.test(I)?'<table>'!==Sa[1]||Oa.test(I)?0:qa:qa.firstChild)&&I.childNodes.length;B--;)b.nodeName(sa=I.childNodes[B],'tbody')&&!sa.childNodes.length&&I.removeChild(sa);b.merge(bb,qa.childNodes);for(qa.textContent='';qa.firstChild;)qa.removeChild(qa.firstChild);qa=yb.lastChild}else bb.push(c.createTextNode(I));qa&&yb.removeChild(qa);h.appendChecked||b.grep(N(bb,'input'),D);for(Hb=0;I=bb[Hb++];)if(k&&-1<b.inArray(I,k))n&&n.push(I);else if(Y=b.contains(I.ownerDocument,
I),qa=N(yb.appendChild(I),'script'),Y&&O(qa),e)for(B=0;I=qa[B++];)va.test(I.type||'')&&e.push(I);return yb}function m(){return!0}function z(){return!1}function y(){try{return Ka.activeElement}catch(a){}}function H(a,c,e,k,n,B){var I,Y;if('object'==typeof c){'string'!=typeof e&&(k=k||e,e=void 0);for(Y in c)H(a,Y,e,k,c[Y],B);return a}if(null==k&&null==n?(n=e,k=e=void 0):null==n&&('string'==typeof e?(n=k,k=void 0):(n=k,k=e,e=void 0)),!1===n)n=z;else if(!n)return a;return 1===B&&(I=n,n=function(qa){return b().off(qa),
I.apply(this,arguments)},n.guid=I.guid||(I.guid=b.guid++)),a.each(function(){b.event.add(this,c,n,k,e)})}function v(a,c){return b.nodeName(a,'table')&&b.nodeName(11!==c.nodeType?c:c.firstChild,'tr')?a.getElementsByTagName('tbody')[0]||a.appendChild(a.ownerDocument.createElement('tbody')):a}function w(a){return a.type=(null!==b.find.attr(a,'type'))+'/'+a.type,a}function F(a){var c=$b.exec(a.type);return c?a.type=c[1]:a.removeAttribute('type'),a}function J(a,c){if(1===c.nodeType&&b.hasData(a)){var e,
k;var n=b._data(a);a=b._data(c,n);var B=n.events;if(B)for(e in delete a.handle,a.events={},B)for(n=0,k=B[e].length;k>n;n++)b.event.add(c,e,B[e][n]);a.data&&(a.data=b.extend({},a.data))}}function T(a,c,e,k){c=Lb.apply([],c);var n,B,I,Y=0,qa=a.length,Ba=qa-1,sa=c[0],Sa=b.isFunction(sa);if(Sa||1<qa&&'string'==typeof sa&&!h.checkClone&&Ib.test(sa))return a.each(function(yb){var bb=a.eq(yb);Sa&&(c[0]=sa.call(this,yb,bb.html()));T(bb,c,e,k)});if(qa&&(I=C(c,a[0].ownerDocument,!1,a,k),n=I.firstChild,1===
I.childNodes.length&&(I=n),n||k)){var Va=b.map(N(I,'script'),w);for(B=Va.length;qa>Y;Y++)n=I,Y!==Ba&&(n=b.clone(n,!0,!0),B&&b.merge(Va,N(n,'script'))),e.call(a[Y],n,Y);if(B)for(I=Va[Va.length-1].ownerDocument,b.map(Va,F),Y=0;B>Y;Y++)n=Va[Y],va.test(n.type||'')&&!b._data(n,'globalEval')&&b.contains(I,n)&&(n.src?b._evalUrl&&b._evalUrl(n.src):b.globalEval((n.text||n.textContent||n.innerHTML||'').replace(Xb,'')));I=n=null}return a}function ta(a,c,e){for(var k=c?b.filter(c,a):a,n=0;null!=(c=k[n]);n++)e||
1!==c.nodeType||b.cleanData(N(c)),c.parentNode&&(e&&b.contains(c.ownerDocument,c)&&O(N(c,'script')),c.parentNode.removeChild(c));return a}function Fa(a,c){a=b(c.createElement(a)).appendTo(c.body);c=b.css(a[0],'display');return a.detach(),c}function W(a){var c=Ka,e=Nb[a];return e||(e=Fa(a,c),'none'!==e&&e||(gc=(gc||b("<iframe frameborder='0' width='0' height='0'/>")).appendTo(c.documentElement),c=(gc[0].contentWindow||gc[0].contentDocument).document,c.write(),c.close(),e=Fa(a,c),gc.detach()),Nb[a]=
e),e}function la(a,c){return{get:function(){return a()?void delete this.get:(this.get=c).apply(this,arguments)}}}function ia(a){if(a in hd)return a;for(var c=a.charAt(0).toUpperCase()+a.slice(1),e=jd.length;e--;)if(a=jd[e]+c,a in hd)return a}function xa(a,c){for(var e,k,n,B=[],I=0,Y=a.length;Y>I;I++)k=a[I],k.style&&(B[I]=b._data(k,'olddisplay'),e=k.style.display,c?(B[I]||'none'!==e||(k.style.display=''),''===k.style.display&&cb(k)&&(B[I]=b._data(k,'olddisplay',W(k.nodeName)))):(n=cb(k),(e&&'none'!==
e||!n)&&b._data(k,'olddisplay',n?e:b.css(k,'display'))));for(I=0;Y>I;I++)k=a[I],k.style&&(c&&'none'!==k.style.display&&''!==k.style.display||(k.style.display=c?B[I]||'':'none'));return a}function ma(a,c,e){return(a=vd.exec(c))?Math.max(0,a[1]-(e||0))+(a[2]||'px'):c}function ua(a,c,e,k,n){c=e===(k?'border':'content')?4:'width'===c?1:0;for(var B=0;4>c;c+=2)'margin'===e&&(B+=b.css(a,e+Ya[c],!0,n)),k?('content'===e&&(B-=b.css(a,'padding'+Ya[c],!0,n)),'margin'!==e&&(B-=b.css(a,'border'+Ya[c]+'Width',!0,
n))):(B+=b.css(a,'padding'+Ya[c],!0,n),'padding'!==e&&(B+=b.css(a,'border'+Ya[c]+'Width',!0,n)));return B}function Ca(a,c,e){var k=!0,n='width'===c?a.offsetWidth:a.offsetHeight,B=rc(a),I=h.boxSizing&&'border-box'===b.css(a,'boxSizing',!1,B);if(0>=n||null==n){if(n=sc(a,c,B),(0>n||null==n)&&(n=a.style[c]),nc.test(n))return n;k=I&&(h.boxSizingReliable()||n===a.style[c]);n=parseFloat(n)||0}return n+ua(a,c,e||(I?'border':'content'),k,B)+'px'}function Qa(a,c,e,k,n){return new Qa.prototype.init(a,c,e,k,
n)}function La(){return A.setTimeout(function(){Fc=void 0}),Fc=b.now()}function Da(a,c){var e={height:a},k=0;for(c=c?1:0;4>k;k+=2-c){var n=Ya[k];e['margin'+n]=e['padding'+n]=a}return c&&(e.opacity=e.width=a),e}function Na(a,c,e){for(var k,n=(Ja.tweeners[c]||[]).concat(Ja.tweeners['*']),B=0,I=n.length;I>B;B++)if(k=n[B].call(e,c,a))return k}function Ia(a,c){var e,k,n,B,I;for(e in a)if(k=b.camelCase(e),n=c[k],B=a[e],b.isArray(B)&&(n=B[1],B=a[e]=B[0]),e!==k&&(a[k]=B,delete a[e]),I=b.cssHooks[k],I&&'expand'in
I)for(e in B=I.expand(B),delete a[k],B)e in a||(a[e]=B[e],c[e]=n);else c[k]=n}function Ja(a,c,e){var k,n=0,B=Ja.prefilters.length,I=b.Deferred().always(function(){delete Y.elem}),Y=function(){if(k)return!1;var Ba=Fc||La();Ba=Math.max(0,qa.startTime+qa.duration-Ba);for(var sa=1-(Ba/qa.duration||0),Sa=0,Va=qa.tweens.length;Va>Sa;Sa++)qa.tweens[Sa].run(sa);return I.notifyWith(a,[qa,sa,Ba]),1>sa&&Va?Ba:(I.resolveWith(a,[qa]),!1)},qa=I.promise({elem:a,props:b.extend({},c),opts:b.extend(!0,{specialEasing:{},
easing:b.easing._default},e),originalProperties:c,originalOptions:e,startTime:Fc||La(),duration:e.duration,tweens:[],createTween:function(Ba,sa){Ba=b.Tween(a,qa.opts,Ba,sa,qa.opts.specialEasing[Ba]||qa.opts.easing);return qa.tweens.push(Ba),Ba},stop:function(Ba){var sa=0,Sa=Ba?qa.tweens.length:0;if(k)return this;for(k=!0;Sa>sa;sa++)qa.tweens[sa].run(1);return Ba?(I.notifyWith(a,[qa,1,0]),I.resolveWith(a,[qa,Ba])):I.rejectWith(a,[qa,Ba]),this}});e=qa.props;for(Ia(e,qa.opts.specialEasing);B>n;n++)if(c=
Ja.prefilters[n].call(qa,a,e,qa.opts))return b.isFunction(c.stop)&&(b._queueHooks(qa.elem,qa.opts.queue).stop=b.proxy(c.stop,c)),c;return b.map(e,Na,qa),b.isFunction(qa.opts.start)&&qa.opts.start.call(a,qa),b.fx.timer(b.extend(Y,{elem:a,anim:qa,queue:qa.opts.queue})),qa.progress(qa.opts.progress).done(qa.opts.done,qa.opts.complete).fail(qa.opts.fail).always(qa.opts.always)}function Ua(a){return b.attr(a,'class')||''}function pb(a){return function(c,e){'string'!=typeof c&&(e=c,c='*');var k=0,n=c.toLowerCase().match(Ga)||
[];if(b.isFunction(e))for(;c=n[k++];)'+'===c.charAt(0)?(c=c.slice(1)||'*',(a[c]=a[c]||[]).unshift(e)):(a[c]=a[c]||[]).push(e)}}function ab(a,c,e,k){function n(Y){var qa;return B[Y]=!0,b.each(a[Y]||[],function(Ba,sa){Ba=sa(c,e,k);return'string'!=typeof Ba||I||B[Ba]?I?!(qa=Ba):void 0:(c.dataTypes.unshift(Ba),n(Ba),!1)}),qa}var B={},I=a===Vc;return n(c.dataTypes[0])||!B['*']&&n('*')}function gb(a,c){var e,k,n=b.ajaxSettings.flatOptions||{};for(k in c)void 0!==c[k]&&((n[k]?a:e||={})[k]=c[k]);return e&&
b.extend(!0,a,e),a}function Ub(a){if(!b.contains(a.ownerDocument||Ka,a))return!0;for(;a&&1===a.nodeType;){if('none'===(a.style&&a.style.display||b.css(a,'display'))||'hidden'===a.type)return!0;a=a.parentNode}return!1}function Zb(a,c,e,k){var n;if(b.isArray(c))b.each(c,function(B,I){e||wd.test(a)?k(a,I):Zb(a+'['+('object'==typeof I&&null!=I?B:'')+']',I,e,k)});else if(e||'object'!==b.type(c))k(a,c);else for(n in c)Zb(a+'['+n+']',c[n],e,k)}function jb(){try{return new A.XMLHttpRequest}catch(a){}}function Db(){try{return new A.ActiveXObject('Microsoft.XMLHTTP')}catch(a){}}
function rb(a){return b.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var xb=[],Ka=A.document,db=xb.slice,Lb=xb.concat,Vb=xb.push,ya=xb.indexOf,za={},l=za.toString,g=za.hasOwnProperty,h={},b=function(a,c){return new b.fn.init(a,c)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,q=/^-ms-/,p=/-([\da-z])/gi,R=function(a,c){return c.toUpperCase()};b.fn=b.prototype={jquery:'1.12.4',constructor:b,selector:'',length:0,toArray:function(){return db.call(this)},get:function(a){return null!=a?0>a?this[a+
this.length]:this[a]:db.call(this)},pushStack:function(a){a=b.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a){return b.each(this,a)},map:function(a){return this.pushStack(b.map(this,function(c,e){return a.call(c,e,c)}))},slice:function(){return this.pushStack(db.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var c=this.length;a=+a+(0>a?c:0);return this.pushStack(0<=a&&c>a?[this[a]]:[])},
end:function(){return this.prevObject||this.constructor()},push:Vb,sort:xb.sort,splice:xb.splice};b.extend=b.fn.extend=function(){var a,c,e,k,n=arguments[0]||{},B=1,I=arguments.length,Y=!1;'boolean'==typeof n&&(Y=n,n=arguments[B]||{},B++);'object'==typeof n||b.isFunction(n)||(n={});for(B===I&&(n=this,B--);I>B;B++)if(null!=(e=arguments[B]))for(c in e){var qa=n[c];var Ba=e[c];n!==Ba&&(Y&&Ba&&(b.isPlainObject(Ba)||(a=b.isArray(Ba)))?(a?(a=!1,k=qa&&b.isArray(qa)?qa:[]):k=qa&&b.isPlainObject(qa)?qa:{},
n[c]=b.extend(Y,k,Ba)):void 0!==Ba&&(n[c]=Ba))}return n};b.extend({expando:'jQuery'+('1.12.4'+Math.random()).replace(/\D/g,''),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return'function'===b.type(a)},isArray:Array.isArray||function(a){return'array'===b.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var c=a&&a.toString();return!b.isArray(a)&&0<=c-parseFloat(c)+1},isEmptyObject:function(a){for(var c in a)return!1;return!0},
isPlainObject:function(a){var c;if(!a||'object'!==b.type(a)||a.nodeType||b.isWindow(a))return!1;try{if(a.constructor&&!g.call(a,'constructor')&&!g.call(a.constructor.prototype,'isPrototypeOf'))return!1}catch(e){return!1}if(!h.ownFirst)for(c in a)return g.call(a,c);for(c in a);return void 0===c||g.call(a,c)},type:function(a){return null==a?a+'':'object'==typeof a||'function'==typeof a?za[l.call(a)]||'object':typeof a},globalEval:function(a){a&&b.trim(a)&&(A.execScript||function(c){A.eval.call(A,c)})(a)},
camelCase:function(a){return a.replace(q,'ms-').replace(p,R)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()},each:function(a,c){var e,k=0;if(V(a))for(e=a.length;e>k&&!1!==c.call(a[k],k,a[k]);k++);else for(k in a)if(!1===c.call(a[k],k,a[k]))break;return a},trim:function(a){return null==a?'':(a+'').replace(x,'')},makeArray:function(a,c){c=c||[];return null!=a&&(V(Object(a))?b.merge(c,'string'==typeof a?[a]:a):Vb.call(c,a)),c},inArray:function(a,c,e){if(c){if(ya)return ya.call(c,
a,e);var k=c.length;for(e=e?0>e?Math.max(0,k+e):e:0;k>e;e++)if(e in c&&c[e]===a)return e}return-1},merge:function(a,c){for(var e=+c.length,k=0,n=a.length;e>k;)a[n++]=c[k++];if(e!==e)for(;void 0!==c[k];)a[n++]=c[k++];return a.length=n,a},grep:function(a,c,e){for(var k=[],n=0,B=a.length,I=!e;B>n;n++)e=!c(a[n],n),e!==I&&k.push(a[n]);return k},map:function(a,c,e){var k,n=0,B=[];if(V(a))for(k=a.length;k>n;n++){var I=c(a[n],n,e);null!=I&&B.push(I)}else for(n in a)I=c(a[n],n,e),null!=I&&B.push(I);return Lb.apply([],
B)},guid:1,proxy:function(a,c){var e,k,n;return'string'==typeof c&&(n=a[c],c=a,a=n),b.isFunction(a)?(e=db.call(arguments,2),k=function(){return a.apply(c||this,e.concat(db.call(arguments)))},k.guid=a.guid=a.guid||b.guid++,k):void 0},now:function(){return+new Date},support:h});'function'==typeof Symbol&&(b.fn[Symbol.iterator]=xb[Symbol.iterator]);b.each('Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' '),function(a,c){za['[object '+c+']']=c.toLowerCase()});var K=function(a){function c(L,
aa,pa,wa){var Ha,Ma,Ta,Za,Wa=aa&&aa.ownerDocument,kb=aa?aa.nodeType:9;if(pa=pa||[],'string'!=typeof L||!L||1!==kb&&9!==kb&&11!==kb)return pa;if(!wa&&((aa?aa.ownerDocument||aa:ac)!==tb&&Bc(aa),aa=aa||tb,fc)){if(11!==kb&&(Za=xd.exec(L)))if(Ha=Za[1])if(9===kb){if(!(Ma=aa.getElementById(Ha)))return pa;if(Ma.id===Ha)return pa.push(Ma),pa}else{if(Wa&&(Ma=Wa.getElementById(Ha))&&oc(aa,Ma)&&Ma.id===Ha)return pa.push(Ma),pa}else{if(Za[2])return Ac.apply(pa,aa.getElementsByTagName(L)),pa;if((Ha=Za[3])&&Pb.getElementsByClassName&&
aa.getElementsByClassName)return Ac.apply(pa,aa.getElementsByClassName(Ha)),pa}if(!(!Pb.qsa||bc[L+' ']||Tb&&Tb.test(L))){if(1!==kb){Wa=aa;var nb=L}else if('object'!==aa.nodeName.toLowerCase()){(Ta=aa.getAttribute('id'))?Ta=Ta.replace(yd,'\\$&'):aa.setAttribute('id',Ta=Ab);Za=Mc(L);Ha=Za.length;for(Ma=kd.test(Ta)?'#'+Ta:"[id='"+Ta+"']";Ha--;)Za[Ha]=Ma+' '+Va(Za[Ha]);nb=Za.join(',');Wa=Wc.test(L)&&sa(aa.parentNode)||aa}if(nb)try{return Ac.apply(pa,Wa.querySelectorAll(nb)),pa}catch(fb){}finally{Ta===
Ab&&aa.removeAttribute('id')}}}return hc(L.replace(Nc,'$1'),aa,pa,wa)}function e(){function L(pa,wa){return aa.push(pa+' ')>Fb.cacheLength&&delete L[aa.shift()],L[pa+' ']=wa}var aa=[];return L}function k(L){return L[Ab]=!0,L}function n(L){var aa=tb.createElement('div');try{return!!L(aa)}catch(pa){return!1}finally{aa.parentNode&&aa.parentNode.removeChild(aa)}}function B(L,aa){L=L.split('|');for(var pa=L.length;pa--;)Fb.attrHandle[L[pa]]=aa}function I(L,aa){var pa=aa&&L,wa=pa&&1===L.nodeType&&1===aa.nodeType&&
(~aa.sourceIndex||-2147483648)-(~L.sourceIndex||-2147483648);if(wa)return wa;if(pa)for(;pa=pa.nextSibling;)if(pa===aa)return-1;return L?1:-1}function Y(L){return function(aa){return'input'===aa.nodeName.toLowerCase()&&aa.type===L}}function qa(L){return function(aa){var pa=aa.nodeName.toLowerCase();return('input'===pa||'button'===pa)&&aa.type===L}}function Ba(L){return k(function(aa){return aa=+aa,k(function(pa,wa){for(var Ha,Ma=L([],pa.length,aa),Ta=Ma.length;Ta--;)pa[Ha=Ma[Ta]]&&(pa[Ha]=!(wa[Ha]=
pa[Ha]))})})}function sa(L){return L&&'undefined'!=typeof L.getElementsByTagName&&L}function Sa(){}function Va(L){for(var aa=0,pa=L.length,wa='';pa>aa;aa++)wa+=L[aa].value;return wa}function yb(L,aa,pa){var wa=aa.dir,Ha=pa&&'parentNode'===wa,Ma=Qb++;return aa.first?function(Ta,Za,Wa){for(;Ta=Ta[wa];)if(1===Ta.nodeType||Ha)return L(Ta,Za,Wa)}:function(Ta,Za,Wa){var kb,nb,fb,Jb=[Wb,Ma];if(Wa)for(;Ta=Ta[wa];){if((1===Ta.nodeType||Ha)&&L(Ta,Za,Wa))return!0}else for(;Ta=Ta[wa];)if(1===Ta.nodeType||Ha){if(fb=
Ta[Ab]||(Ta[Ab]={}),nb=fb[Ta.uniqueID]||(fb[Ta.uniqueID]={}),(kb=nb[wa])&&kb[0]===Wb&&kb[1]===Ma)return Jb[2]=kb[2];if(nb[wa]=Jb,Jb[2]=L(Ta,Za,Wa))return!0}}}function bb(L){return 1<L.length?function(aa,pa,wa){for(var Ha=L.length;Ha--;)if(!L[Ha](aa,pa,wa))return!1;return!0}:L[0]}function Hb(L,aa,pa,wa,Ha){for(var Ma,Ta=[],Za=0,Wa=L.length,kb=null!=aa;Wa>Za;Za++)(Ma=L[Za])&&(pa&&!pa(Ma,wa,Ha)||(Ta.push(Ma),kb&&aa.push(Za)));return Ta}function kc(L,aa,pa,wa,Ha,Ma){return wa&&!wa[Ab]&&(wa=kc(wa)),Ha&&
!Ha[Ab]&&(Ha=kc(Ha,Ma)),k(function(Ta,Za,Wa,kb){var nb,fb=[],Jb=[],cc=Za.length,Yb;if(!(Yb=Ta)){Yb=aa||'*';for(var ub=Wa.nodeType?[Wa]:Wa,tc=[],ic=0,qc=ub.length;qc>ic;ic++)c(Yb,ub[ic],tc);Yb=tc}Yb=!L||!Ta&&aa?Yb:Hb(Yb,fb,L,Wa,kb);ub=pa?Ha||(Ta?L:cc||wa)?[]:Za:Yb;if(pa&&pa(Yb,ub,Wa,kb),wa){var dc=Hb(ub,Jb);wa(dc,[],Wa,kb);for(Wa=dc.length;Wa--;)(nb=dc[Wa])&&(ub[Jb[Wa]]=!(Yb[Jb[Wa]]=nb))}if(Ta){if(Ha||L){if(Ha){dc=[];for(Wa=ub.length;Wa--;)(nb=ub[Wa])&&dc.push(Yb[Wa]=nb);Ha(null,ub=[],dc,kb)}for(Wa=
ub.length;Wa--;)(nb=ub[Wa])&&-1<(dc=Ha?Cc(Ta,nb):fb[Wa])&&(Ta[dc]=!(Za[dc]=nb))}}else ub=Hb(ub===Za?ub.splice(cc,ub.length):ub),Ha?Ha(null,Za,ub,kb):Ac.apply(Za,ub)})}function Gc(L){var aa,pa,wa=L.length,Ha=Fb.relative[L[0].type];var Ma=Ha||Fb.relative[' '];for(var Ta=Ha?1:0,Za=yb(function(nb){return nb===aa},Ma,!0),Wa=yb(function(nb){return-1<Cc(aa,nb)},Ma,!0),kb=[function(nb,fb,Jb){nb=!Ha&&(Jb||fb!==Bb)||((aa=fb).nodeType?Za(nb,fb,Jb):Wa(nb,fb,Jb));return aa=null,nb}];wa>Ta;Ta++)if(Ma=Fb.relative[L[Ta].type])kb=
[yb(bb(kb),Ma)];else{if(Ma=Fb.filter[L[Ta].type].apply(null,L[Ta].matches),Ma[Ab]){for(pa=++Ta;wa>pa&&!Fb.relative[L[pa].type];pa++);return kc(1<Ta&&bb(kb),1<Ta&&Va(L.slice(0,Ta-1).concat({value:' '===L[Ta-2].type?'*':''})).replace(Nc,'$1'),Ma,pa>Ta&&Gc(L.slice(Ta,pa)),wa>pa&&Gc(L=L.slice(pa)),wa>pa&&Va(L))}kb.push(Ma)}return bb(kb)}function lc(L,aa){var pa=0<aa.length,wa=0<L.length,Ha=function(Ma,Ta,Za,Wa,kb){var nb,fb,Jb=0,cc='0',Yb=Ma&&[],ub=[],tc=Bb,ic=Ma||wa&&Fb.find.TAG('*',kb),qc=Wb+=null==
tc?1:Math.random()||.1,dc=ic.length;for(kb&&(Bb=Ta===tb||Ta||kb);cc!==dc&&null!=(nb=ic[cc]);cc++){if(wa&&nb){var Xc=0;for(Ta||nb.ownerDocument===tb||(Bc(nb),Za=!fc);fb=L[Xc++];)if(fb(nb,Ta||tb,Za)){Wa.push(nb);break}kb&&(Wb=qc)}pa&&((nb=!fb&&nb)&&Jb--,Ma&&Yb.push(nb))}if(Jb+=cc,pa&&cc!==Jb){for(Xc=0;fb=aa[Xc++];)fb(Yb,ub,Ta,Za);if(Ma){if(0<Jb)for(;cc--;)Yb[cc]||ub[cc]||(ub[cc]=Yc.call(Wa));ub=Hb(ub)}Ac.apply(Wa,ub);kb&&!Ma&&0<ub.length&&1<Jb+aa.length&&c.uniqueSort(Wa)}return kb&&(Wb=qc,Bb=tc),Yb};
return pa?k(Ha):Ha}var wc,vb,hc,Bb,Ob,Rb,tb,jc,fc,Tb,ec,Sb,oc,Ab='sizzle'+1*new Date,ac=a.document,Wb=0,Qb=0,Hc=e(),pc=e(),bc=e(),uc=function(L,aa){return L===aa&&(Rb=!0),0},vc={}.hasOwnProperty,mc=[],Yc=mc.pop,zd=mc.push,Ac=mc.push,ld=mc.slice,Cc=function(L,aa){for(var pa=0,wa=L.length;wa>pa;pa++)if(L[pa]===aa)return pa;return-1},Ad=RegExp('[\\x20\\t\\r\\n\\f]+','g'),Nc=RegExp('^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$','g'),Bd=RegExp('^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*'),
Cd=RegExp('^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*'),Dd=RegExp('=[\\x20\\t\\r\\n\\f]*([^\\]\'"]*?)[\\x20\\t\\r\\n\\f]*\\]','g'),Ed=RegExp(':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
kd=RegExp('^(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+$'),Oc={ID:RegExp('^#((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),CLASS:RegExp('^\\.((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),TAG:RegExp('^((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+|[*])'),ATTR:RegExp('^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]'),PSEUDO:RegExp('^:((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
CHILD:RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)','i'),bool:RegExp('^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$','i'),needsContext:RegExp('^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)',
'i')},Fd=/^(?:input|select|textarea|button)$/i,Gd=/^h\d$/i,Kc=/^[^{]+\{\s*\[native \w/,xd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Wc=/[+~]/,yd=/'|\\/g,xc=RegExp('\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)','ig'),yc=function(L,aa,pa){L='0x'+aa-65536;return L!==L||pa?aa:0>L?String.fromCharCode(L+65536):String.fromCharCode(L>>10|55296,1023&L|56320)},md=function(){Bc()};try{Ac.apply(mc=ld.call(ac.childNodes),ac.childNodes),mc[ac.childNodes.length].nodeType}catch(L){Ac={apply:mc.length?
function(aa,pa){zd.apply(aa,ld.call(pa))}:function(aa,pa){for(var wa=aa.length,Ha=0;aa[wa++]=pa[Ha++];);aa.length=wa-1}}}var Pb=c.support={};var Hd=c.isXML=function(L){return(L=L&&(L.ownerDocument||L).documentElement)?'HTML'!==L.nodeName:!1};var Bc=c.setDocument=function(L){var aa,pa;L=L?L.ownerDocument||L:ac;return L!==tb&&9===L.nodeType&&L.documentElement?(tb=L,jc=tb.documentElement,fc=!Hd(tb),(pa=tb.defaultView)&&pa.top!==pa&&(pa.addEventListener?pa.addEventListener('unload',md,!1):pa.attachEvent&&
pa.attachEvent('onunload',md)),Pb.attributes=n(function(wa){return wa.className='i',!wa.getAttribute('className')}),Pb.getElementsByTagName=n(function(wa){return wa.appendChild(tb.createComment('')),!wa.getElementsByTagName('*').length}),Pb.getElementsByClassName=Kc.test(tb.getElementsByClassName),Pb.getById=n(function(wa){return jc.appendChild(wa).id=Ab,!tb.getElementsByName||!tb.getElementsByName(Ab).length}),Pb.getById?(Fb.find.ID=function(wa,Ha){if('undefined'!=typeof Ha.getElementById&&fc)return(wa=
Ha.getElementById(wa))?[wa]:[]},Fb.filter.ID=function(wa){var Ha=wa.replace(xc,yc);return function(Ma){return Ma.getAttribute('id')===Ha}}):(delete Fb.find.ID,Fb.filter.ID=function(wa){var Ha=wa.replace(xc,yc);return function(Ma){return(Ma='undefined'!=typeof Ma.getAttributeNode&&Ma.getAttributeNode('id'))&&Ma.value===Ha}}),Fb.find.TAG=Pb.getElementsByTagName?function(wa,Ha){return'undefined'!=typeof Ha.getElementsByTagName?Ha.getElementsByTagName(wa):Pb.qsa?Ha.querySelectorAll(wa):void 0}:function(wa,
Ha){var Ma=[],Ta=0;Ha=Ha.getElementsByTagName(wa);if('*'===wa){for(;wa=Ha[Ta++];)1===wa.nodeType&&Ma.push(wa);return Ma}return Ha},Fb.find.CLASS=Pb.getElementsByClassName&&function(wa,Ha){return'undefined'!=typeof Ha.getElementsByClassName&&fc?Ha.getElementsByClassName(wa):void 0},ec=[],Tb=[],(Pb.qsa=Kc.test(tb.querySelectorAll))&&(n(function(wa){jc.appendChild(wa).innerHTML="<a id='"+Ab+"'></a><select id='"+Ab+"-\r\\' msallowcapture=''><option selected=''></option></select>";wa.querySelectorAll("[msallowcapture^='']").length&&
Tb.push('[*^$]=[\\x20\\t\\r\\n\\f]*(?:\'\'|"")');wa.querySelectorAll('[selected]').length||Tb.push('\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)');wa.querySelectorAll('[id~='+Ab+'-]').length||Tb.push('~=');wa.querySelectorAll(':checked').length||Tb.push(':checked');wa.querySelectorAll('a#'+Ab+'+*').length||Tb.push('.#.+[+~]')}),n(function(wa){var Ha=tb.createElement('input');Ha.setAttribute('type',
'hidden');wa.appendChild(Ha).setAttribute('name','D');wa.querySelectorAll('[name=d]').length&&Tb.push('name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=');wa.querySelectorAll(':enabled').length||Tb.push(':enabled',':disabled');wa.querySelectorAll('*,:x');Tb.push(',.*:')})),(Pb.matchesSelector=Kc.test(Sb=jc.matches||jc.webkitMatchesSelector||jc.mozMatchesSelector||jc.oMatchesSelector||jc.msMatchesSelector))&&n(function(wa){Pb.disconnectedMatch=Sb.call(wa,'div');Sb.call(wa,"[s!='']:x");ec.push('!=',':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)')}),
Tb=Tb.length&&new RegExp(Tb.join('|')),ec=ec.length&&new RegExp(ec.join('|')),aa=Kc.test(jc.compareDocumentPosition),oc=aa||Kc.test(jc.contains)?function(wa,Ha){var Ma=9===wa.nodeType?wa.documentElement:wa;Ha=Ha&&Ha.parentNode;return wa===Ha||!(!Ha||1!==Ha.nodeType||!(Ma.contains?Ma.contains(Ha):wa.compareDocumentPosition&&16&wa.compareDocumentPosition(Ha)))}:function(wa,Ha){if(Ha)for(;Ha=Ha.parentNode;)if(Ha===wa)return!0;return!1},uc=aa?function(wa,Ha){if(wa===Ha)return Rb=!0,0;var Ma=!wa.compareDocumentPosition-
!Ha.compareDocumentPosition;return Ma?Ma:(Ma=(wa.ownerDocument||wa)===(Ha.ownerDocument||Ha)?wa.compareDocumentPosition(Ha):1,1&Ma||!Pb.sortDetached&&Ha.compareDocumentPosition(wa)===Ma?wa===tb||wa.ownerDocument===ac&&oc(ac,wa)?-1:Ha===tb||Ha.ownerDocument===ac&&oc(ac,Ha)?1:Ob?Cc(Ob,wa)-Cc(Ob,Ha):0:4&Ma?-1:1)}:function(wa,Ha){if(wa===Ha)return Rb=!0,0;var Ma=0,Ta=wa.parentNode,Za=Ha.parentNode,Wa=[wa],kb=[Ha];if(!Ta||!Za)return wa===tb?-1:Ha===tb?1:Ta?-1:Za?1:Ob?Cc(Ob,wa)-Cc(Ob,Ha):0;if(Ta===Za)return I(wa,
Ha);for(;wa=wa.parentNode;)Wa.unshift(wa);for(wa=Ha;wa=wa.parentNode;)kb.unshift(wa);for(;Wa[Ma]===kb[Ma];)Ma++;return Ma?I(Wa[Ma],kb[Ma]):Wa[Ma]===ac?-1:kb[Ma]===ac?1:0},tb):tb};c.matches=function(L,aa){return c(L,null,null,aa)};c.matchesSelector=function(L,aa){if((L.ownerDocument||L)!==tb&&Bc(L),aa=aa.replace(Dd,"='$1']"),!(!Pb.matchesSelector||!fc||bc[aa+' ']||ec&&ec.test(aa)||Tb&&Tb.test(aa)))try{var pa=Sb.call(L,aa);if(pa||Pb.disconnectedMatch||L.document&&11!==L.document.nodeType)return pa}catch(wa){}return 0<
c(aa,tb,null,[L]).length};c.contains=function(L,aa){return(L.ownerDocument||L)!==tb&&Bc(L),oc(L,aa)};c.attr=function(L,aa){(L.ownerDocument||L)!==tb&&Bc(L);var pa=Fb.attrHandle[aa.toLowerCase()];pa=pa&&vc.call(Fb.attrHandle,aa.toLowerCase())?pa(L,aa,!fc):void 0;return void 0!==pa?pa:Pb.attributes||!fc?L.getAttribute(aa):(pa=L.getAttributeNode(aa))&&pa.specified?pa.value:null};c.error=function(L){throw Error('Syntax error, unrecognized expression: '+L);};c.uniqueSort=function(L){var aa,pa=[],wa=0,
Ha=0;if(Rb=!Pb.detectDuplicates,Ob=!Pb.sortStable&&L.slice(0),L.sort(uc),Rb){for(;aa=L[Ha++];)aa===L[Ha]&&(wa=pa.push(Ha));for(;wa--;)L.splice(pa[wa],1)}return Ob=null,L};var Zc=c.getText=function(L){var aa,pa='',wa=0;if(aa=L.nodeType)if(1===aa||9===aa||11===aa){if('string'==typeof L.textContent)return L.textContent;for(L=L.firstChild;L;L=L.nextSibling)pa+=Zc(L)}else{if(3===aa||4===aa)return L.nodeValue}else for(;aa=L[wa++];)pa+=Zc(aa);return pa};var Fb=c.selectors={cacheLength:50,createPseudo:k,
match:Oc,attrHandle:{},find:{},relative:{'>':{dir:'parentNode',first:!0},' ':{dir:'parentNode'},'+':{dir:'previousSibling',first:!0},'~':{dir:'previousSibling'}},preFilter:{ATTR:function(L){return L[1]=L[1].replace(xc,yc),L[3]=(L[3]||L[4]||L[5]||'').replace(xc,yc),'~='===L[2]&&(L[3]=' '+L[3]+' '),L.slice(0,4)},CHILD:function(L){return L[1]=L[1].toLowerCase(),'nth'===L[1].slice(0,3)?(L[3]||c.error(L[0]),L[4]=+(L[4]?L[5]+(L[6]||1):2*('even'===L[3]||'odd'===L[3])),L[5]=+(L[7]+L[8]||'odd'===L[3])):L[3]&&
c.error(L[0]),L},PSEUDO:function(L){var aa,pa=!L[6]&&L[2];return Oc.CHILD.test(L[0])?null:(L[3]?L[2]=L[4]||L[5]||'':pa&&Ed.test(pa)&&(aa=Mc(pa,!0))&&(aa=pa.indexOf(')',pa.length-aa)-pa.length)&&(L[0]=L[0].slice(0,aa),L[2]=pa.slice(0,aa)),L.slice(0,3))}},filter:{TAG:function(L){var aa=L.replace(xc,yc).toLowerCase();return'*'===L?function(){return!0}:function(pa){return pa.nodeName&&pa.nodeName.toLowerCase()===aa}},CLASS:function(L){var aa=Hc[L+' '];return aa||(aa=new RegExp('(^|[\\x20\\t\\r\\n\\f])'+
L+'([\\x20\\t\\r\\n\\f]|$)'),Hc(L,function(pa){return aa.test('string'==typeof pa.className&&pa.className||'undefined'!=typeof pa.getAttribute&&pa.getAttribute('class')||'')}))},ATTR:function(L,aa,pa){return function(wa){wa=c.attr(wa,L);return null==wa?'!='===aa:aa?(wa+='','='===aa?wa===pa:'!='===aa?wa!==pa:'^='===aa?pa&&0===wa.indexOf(pa):'*='===aa?pa&&-1<wa.indexOf(pa):'$='===aa?pa&&wa.slice(-pa.length)===pa:'~='===aa?-1<(' '+wa.replace(Ad,' ')+' ').indexOf(pa):'|='===aa?wa===pa||wa.slice(0,pa.length+
1)===pa+'-':!1):!0}},CHILD:function(L,aa,pa,wa,Ha){var Ma='nth'!==L.slice(0,3),Ta='last'!==L.slice(-4),Za='of-type'===aa;return 1===wa&&0===Ha?function(Wa){return!!Wa.parentNode}:function(Wa,kb,nb){var fb,Jb;kb=Ma!==Ta?'nextSibling':'previousSibling';var cc=Wa.parentNode,Yb=Za&&Wa.nodeName.toLowerCase();nb=!nb&&!Za;var ub=!1;if(cc){if(Ma){for(;kb;){for(fb=Wa;fb=fb[kb];)if(Za?fb.nodeName.toLowerCase()===Yb:1===fb.nodeType)return!1;var tc=kb='only'===L&&!tc&&'nextSibling'}return!0}if(tc=[Ta?cc.firstChild:
cc.lastChild],Ta&&nb){fb=cc;var ic=fb[Ab]||(fb[Ab]={});var qc=ic[fb.uniqueID]||(ic[fb.uniqueID]={});var dc=qc[L]||[];ub=(Jb=dc[0]===Wb&&dc[1])&&dc[2];for(fb=Jb&&cc.childNodes[Jb];fb=++Jb&&fb&&fb[kb]||(ub=Jb=0)||tc.pop();)if(1===fb.nodeType&&++ub&&fb===Wa){qc[L]=[Wb,Jb,ub];break}}else if(nb&&(fb=Wa,ic=fb[Ab]||(fb[Ab]={}),qc=ic[fb.uniqueID]||(ic[fb.uniqueID]={}),dc=qc[L]||[],Jb=dc[0]===Wb&&dc[1],ub=Jb),!1===ub)for(;(fb=++Jb&&fb&&fb[kb]||(ub=Jb=0)||tc.pop())&&((Za?fb.nodeName.toLowerCase()!==Yb:1!==
fb.nodeType)||!++ub||(nb&&(ic=fb[Ab]||(fb[Ab]={}),qc=ic[fb.uniqueID]||(ic[fb.uniqueID]={}),qc[L]=[Wb,ub]),fb!==Wa)););return ub-=Ha,ub===wa||0===ub%wa&&0<=ub/wa}}},PSEUDO:function(L,aa){var pa,wa=Fb.pseudos[L]||Fb.setFilters[L.toLowerCase()]||c.error('unsupported pseudo: '+L);return wa[Ab]?wa(aa):1<wa.length?(pa=[L,L,'',aa],Fb.setFilters.hasOwnProperty(L.toLowerCase())?k(function(Ha,Ma){for(var Ta,Za=wa(Ha,aa),Wa=Za.length;Wa--;)Ta=Cc(Ha,Za[Wa]),Ha[Ta]=!(Ma[Ta]=Za[Wa])}):function(Ha){return wa(Ha,
0,pa)}):wa}},pseudos:{not:k(function(L){var aa=[],pa=[],wa=vb(L.replace(Nc,'$1'));return wa[Ab]?k(function(Ha,Ma,Ta,Za){var Wa;Ta=wa(Ha,null,Za,[]);for(Za=Ha.length;Za--;)(Wa=Ta[Za])&&(Ha[Za]=!(Ma[Za]=Wa))}):function(Ha,Ma,Ta){return aa[0]=Ha,wa(aa,null,Ta,pa),aa[0]=null,!pa.pop()}}),has:k(function(L){return function(aa){return 0<c(L,aa).length}}),contains:k(function(L){return L=L.replace(xc,yc),function(aa){return-1<(aa.textContent||aa.innerText||Zc(aa)).indexOf(L)}}),lang:k(function(L){return kd.test(L||
'')||c.error('unsupported lang: '+L),L=L.replace(xc,yc).toLowerCase(),function(aa){var pa;do if(pa=fc?aa.lang:aa.getAttribute('xml:lang')||aa.getAttribute('lang'))return pa=pa.toLowerCase(),pa===L||0===pa.indexOf(L+'-');while((aa=aa.parentNode)&&1===aa.nodeType);return!1}}),target:function(L){var aa=a.location&&a.location.hash;return aa&&aa.slice(1)===L.id},root:function(L){return L===jc},focus:function(L){return L===tb.activeElement&&(!tb.hasFocus||tb.hasFocus())&&!!(L.type||L.href||~L.tabIndex)},
enabled:function(L){return!1===L.disabled},disabled:function(L){return!0===L.disabled},checked:function(L){var aa=L.nodeName.toLowerCase();return'input'===aa&&!!L.checked||'option'===aa&&!!L.selected},selected:function(L){return L.parentNode&&L.parentNode.selectedIndex,!0===L.selected},empty:function(L){for(L=L.firstChild;L;L=L.nextSibling)if(6>L.nodeType)return!1;return!0},parent:function(L){return!Fb.pseudos.empty(L)},header:function(L){return Gd.test(L.nodeName)},input:function(L){return Fd.test(L.nodeName)},
button:function(L){var aa=L.nodeName.toLowerCase();return'input'===aa&&'button'===L.type||'button'===aa},text:function(L){var aa;return'input'===L.nodeName.toLowerCase()&&'text'===L.type&&(null==(aa=L.getAttribute('type'))||'text'===aa.toLowerCase())},first:Ba(function(){return[0]}),last:Ba(function(L,aa){return[aa-1]}),eq:Ba(function(L,aa,pa){return[0>pa?pa+aa:pa]}),even:Ba(function(L,aa){for(var pa=0;aa>pa;pa+=2)L.push(pa);return L}),odd:Ba(function(L,aa){for(var pa=1;aa>pa;pa+=2)L.push(pa);return L}),
lt:Ba(function(L,aa,pa){for(aa=0>pa?pa+aa:pa;0<=--aa;)L.push(aa);return L}),gt:Ba(function(L,aa,pa){for(pa=0>pa?pa+aa:pa;++pa<aa;)L.push(pa);return L})}};Fb.pseudos.nth=Fb.pseudos.eq;for(wc in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Fb.pseudos[wc]=Y(wc);for(wc in{submit:!0,reset:!0})Fb.pseudos[wc]=qa(wc);Sa.prototype=Fb.filters=Fb.pseudos;Fb.setFilters=new Sa;var Mc=c.tokenize=function(L,aa){var pa,wa,Ha,Ma,Ta;if(Ma=pc[L+' '])return aa?0:Ma.slice(0);Ma=L;var Za=[];for(Ta=Fb.preFilter;Ma;){Wa&&
!(pa=Bd.exec(Ma))||(pa&&(Ma=Ma.slice(pa[0].length)||Ma),Za.push(wa=[]));var Wa=!1;(pa=Cd.exec(Ma))&&(Wa=pa.shift(),wa.push({value:Wa,type:pa[0].replace(Nc,' ')}),Ma=Ma.slice(Wa.length));for(Ha in Fb.filter)!(pa=Oc[Ha].exec(Ma))||Ta[Ha]&&!(pa=Ta[Ha](pa))||(Wa=pa.shift(),wa.push({value:Wa,type:Ha,matches:pa}),Ma=Ma.slice(Wa.length));if(!Wa)break}return aa?Ma.length:Ma?c.error(L):pc(L,Za).slice(0)};return vb=c.compile=function(L,aa){var pa,wa=[],Ha=[],Ma=bc[L+' '];if(!Ma){aa||=Mc(L);for(pa=aa.length;pa--;)Ma=
Gc(aa[pa]),Ma[Ab]?wa.push(Ma):Ha.push(Ma);Ma=bc(L,lc(Ha,wa));Ma.selector=L}return Ma},hc=c.select=function(L,aa,pa,wa){var Ha,Ma,Ta,Za,Wa,kb='function'==typeof L&&L,nb=!wa&&Mc(L=kb.selector||L);if(pa=pa||[],1===nb.length){if(Ma=nb[0]=nb[0].slice(0),2<Ma.length&&'ID'===(Ta=Ma[0]).type&&Pb.getById&&9===aa.nodeType&&fc&&Fb.relative[Ma[1].type]){if(aa=(Fb.find.ID(Ta.matches[0].replace(xc,yc),aa)||[])[0],!aa)return pa;kb&&(aa=aa.parentNode);L=L.slice(Ma.shift().value.length)}for(Ha=Oc.needsContext.test(L)?
0:Ma.length;Ha--&&(Ta=Ma[Ha],!Fb.relative[Za=Ta.type]);)if((Wa=Fb.find[Za])&&(wa=Wa(Ta.matches[0].replace(xc,yc),Wc.test(Ma[0].type)&&sa(aa.parentNode)||aa))){if(Ma.splice(Ha,1),L=wa.length&&Va(Ma),!L)return Ac.apply(pa,wa),pa;break}}return(kb||vb(L,nb))(wa,aa,!fc,pa,!aa||Wc.test(L)&&sa(aa.parentNode)||aa),pa},Pb.sortStable=Ab.split('').sort(uc).join('')===Ab,Pb.detectDuplicates=!!Rb,Bc(),Pb.sortDetached=n(function(L){return 1&L.compareDocumentPosition(tb.createElement('div'))}),n(function(L){return L.innerHTML=
"<a href='#'></a>",'#'===L.firstChild.getAttribute('href')})||B('type|href|height|width',function(L,aa,pa){return pa?void 0:L.getAttribute(aa,'type'===aa.toLowerCase()?1:2)}),Pb.attributes&&n(function(L){return L.innerHTML='<input/>',L.firstChild.setAttribute('value',''),''===L.firstChild.getAttribute('value')})||B('value',function(L,aa,pa){return pa||'input'!==L.nodeName.toLowerCase()?void 0:L.defaultValue}),n(function(L){return null==L.getAttribute('disabled')})||B('checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',
function(L,aa,pa){var wa;return pa?void 0:!0===L[aa]?aa.toLowerCase():(wa=L.getAttributeNode(aa))&&wa.specified?wa.value:null}),c}(A);b.find=K;b.expr=K.selectors;b.expr[':']=b.expr.pseudos;b.uniqueSort=b.unique=K.uniqueSort;b.text=K.getText;b.isXMLDoc=K.isXML;b.contains=K.contains;var ha=function(a,c,e){for(var k=[],n=void 0!==e;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(n&&b(a).is(e))break;k.push(a)}return k},Aa=function(a,c){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==c&&e.push(a);return e},
da=b.expr.match.needsContext,fa=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;b.filter=function(a,c,e){var k=c[0];return e&&(a=':not('+a+')'),1===c.length&&1===k.nodeType?b.find.matchesSelector(k,a)?[k]:[]:b.find.matches(a,b.grep(c,function(n){return 1===n.nodeType}))};b.fn.extend({find:function(a){var c,e=[],k=this,n=k.length;if('string'!=typeof a)return this.pushStack(b(a).filter(function(){for(c=0;n>c;c++)if(b.contains(k[c],this))return!0}));for(c=0;n>c;c++)b.find(a,k[c],e);return e=this.pushStack(1<
n?b.unique(e):e),e.selector=this.selector?this.selector+' '+a:a,e},filter:function(a){return this.pushStack(na(this,a||[],!1))},not:function(a){return this.pushStack(na(this,a||[],!0))},is:function(a){return!!na(this,'string'==typeof a&&da.test(a)?b(a):a||[],!1).length}});var oa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(b.fn.init=function(a,c,e){var k,n;if(!a)return this;if(e=e||ra,'string'==typeof a){if(k='<'===a.charAt(0)&&'>'===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:oa.exec(a),!k||!k[1]&&
c)return!c||c.jquery?(c||e).find(a):this.constructor(c).find(a);if(k[1]){if(c=c instanceof b?c[0]:c,b.merge(this,b.parseHTML(k[1],c&&c.nodeType?c.ownerDocument||c:Ka,!0)),fa.test(k[1])&&b.isPlainObject(c))for(k in c)b.isFunction(this[k])?this[k](c[k]):this.attr(k,c[k]);return this}if(n=Ka.getElementById(k[2]),n&&n.parentNode){if(n.id!==k[2])return ra.find(a);this.length=1;this[0]=n}return this.context=Ka,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):b.isFunction(a)?
'undefined'!=typeof e.ready?e.ready(a):a(b):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),b.makeArray(a,this))}).prototype=b.fn;var ra=b(Ka);var ja=/^(?:parents|prev(?:Until|All))/,Z={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({has:function(a){var c,e=b(a,this),k=e.length;return this.filter(function(){for(c=0;k>c;c++)if(b.contains(this,e[c]))return!0})},closest:function(a,c){for(var e,k=0,n=this.length,B=[],I=da.test(a)||'string'!=typeof a?b(a,c||this.context):
0;n>k;k++)for(e=this[k];e&&e!==c;e=e.parentNode)if(11>e.nodeType&&(I?-1<I.index(e):1===e.nodeType&&b.find.matchesSelector(e,a))){B.push(e);break}return this.pushStack(1<B.length?b.uniqueSort(B):B)},index:function(a){return a?'string'==typeof a?b.inArray(this[0],b(a)):b.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,c){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(a,c))))},addBack:function(a){return this.add(null==a?this.prevObject:
this.prevObject.filter(a))}});b.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return ha(a,'parentNode')},parentsUntil:function(a,c,e){return ha(a,'parentNode',e)},next:function(a){return U(a,'nextSibling')},prev:function(a){return U(a,'previousSibling')},nextAll:function(a){return ha(a,'nextSibling')},prevAll:function(a){return ha(a,'previousSibling')},nextUntil:function(a,c,e){return ha(a,'nextSibling',e)},prevUntil:function(a,c,e){return ha(a,'previousSibling',
e)},siblings:function(a){return Aa((a.parentNode||{}).firstChild,a)},children:function(a){return Aa(a.firstChild)},contents:function(a){return b.nodeName(a,'iframe')?a.contentDocument||a.contentWindow.document:b.merge([],a.childNodes)}},function(a,c){b.fn[a]=function(e,k){var n=b.map(this,c,e);return'Until'!==a.slice(-5)&&(k=e),k&&'string'==typeof k&&(n=b.filter(k,n)),1<this.length&&(Z[a]||(n=b.uniqueSort(n)),ja.test(a)&&(n=n.reverse())),this.pushStack(n)}});var Ga=/\S+/g;b.Callbacks=function(a){a=
'string'==typeof a?M(a):b.extend({},a);var c,e,k,n,B=[],I=[],Y=-1,qa=function(){n=a.once;for(k=c=!0;I.length;Y=-1)for(e=I.shift();++Y<B.length;)!1===B[Y].apply(e[0],e[1])&&a.stopOnFalse&&(Y=B.length,e=!1);a.memory||(e=!1);c=!1;n&&(B=e?[]:'')},Ba={add:function(){return B&&(e&&!c&&(Y=B.length-1,I.push(e)),function Va(Sa){b.each(Sa,function(yb,bb){b.isFunction(bb)?a.unique&&Ba.has(bb)||B.push(bb):bb&&bb.length&&'string'!==b.type(bb)&&Va(bb)})}(arguments),e&&!c&&qa()),this},remove:function(){return b.each(arguments,
function(sa,Sa){for(var Va;-1<(Va=b.inArray(Sa,B,Va));)B.splice(Va,1),Y>=Va&&Y--}),this},has:function(sa){return sa?-1<b.inArray(sa,B):0<B.length},empty:function(){return B&&=[],this},disable:function(){return n=I=[],B=e='',this},disabled:function(){return!B},lock:function(){return n=!0,e||Ba.disable(),this},locked:function(){return!!n},fireWith:function(sa,Sa){return n||(Sa=Sa||[],Sa=[sa,Sa.slice?Sa.slice():Sa],I.push(Sa),c||qa()),this},fire:function(){return Ba.fireWith(this,arguments),this},fired:function(){return!!k}};
return Ba};b.extend({Deferred:function(a){var c=[['resolve','done',b.Callbacks('once memory'),'resolved'],['reject','fail',b.Callbacks('once memory'),'rejected'],['notify','progress',b.Callbacks('memory')]],e='pending',k={state:function(){return e},always:function(){return n.done(arguments).fail(arguments),this},then:function(){var B=arguments;return b.Deferred(function(I){b.each(c,function(Y,qa){var Ba=b.isFunction(B[Y])&&B[Y];n[qa[1]](function(){var sa=Ba&&Ba.apply(this,arguments);sa&&b.isFunction(sa.promise)?
sa.promise().progress(I.notify).done(I.resolve).fail(I.reject):I[qa[0]+'With'](this===k?I.promise():this,Ba?[sa]:arguments)})});B=null}).promise()},promise:function(B){return null!=B?b.extend(B,k):k}},n={};return k.pipe=k.then,b.each(c,function(B,I){var Y=I[2],qa=I[3];k[I[1]]=Y.add;qa&&Y.add(function(){e=qa},c[1^B][2].disable,c[2][2].lock);n[I[0]]=function(){return n[I[0]+'With'](this===n?k:this,arguments),this};n[I[0]+'With']=Y.fireWith}),k.promise(n),a&&a.call(n,n),n},when:function(a){var c=0,e=
db.call(arguments),k=e.length,n=1!==k||a&&b.isFunction(a.promise)?k:0,B=1===n?a:b.Deferred(),I=function(sa,Sa,Va){return function(yb){Sa[sa]=this;Va[sa]=1<arguments.length?db.call(arguments):yb;Va===qa?B.notifyWith(Sa,Va):--n||B.resolveWith(Sa,Va)}},Y;if(1<k){var qa=Array(k);var Ba=Array(k);for(Y=Array(k);k>c;c++)e[c]&&b.isFunction(e[c].promise)?e[c].promise().progress(I(c,Ba,qa)).done(I(c,Y,e)).fail(B.reject):--n}return n||B.resolveWith(Y,e),B.promise()}});var Pa;b.fn.ready=function(a){return b.ready.promise().done(a),
this};b.extend({isReady:!1,readyWait:1,holdReady:function(a){a?b.readyWait++:b.ready(!0)},ready:function(a){(!0===a?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==a&&0<--b.readyWait||(Pa.resolveWith(Ka,[b]),b.fn.triggerHandler&&(b(Ka).triggerHandler('ready'),b(Ka).off('ready'))))}});b.ready.promise=function(a){if(!Pa)if(Pa=b.Deferred(),'complete'===Ka.readyState||'loading'!==Ka.readyState&&!Ka.documentElement.doScroll)A.setTimeout(b.ready);else if(Ka.addEventListener)Ka.addEventListener('DOMContentLoaded',
Q),A.addEventListener('load',Q);else{Ka.attachEvent('onreadystatechange',Q);A.attachEvent('onload',Q);var c=!1;try{c=null==A.frameElement&&Ka.documentElement}catch(e){}c&&c.doScroll&&!function k(){if(!b.isReady){try{c.doScroll('left')}catch(n){return A.setTimeout(k,50)}ba();b.ready()}}()}return Pa.promise(a)};b.ready.promise();for(var $a in b(h))break;h.ownFirst='0'===$a;h.inlineBlockNeedsLayout=!1;b(function(){var a,c,e,k;(e=Ka.getElementsByTagName('body')[0])&&e.style&&(c=Ka.createElement('div'),
k=Ka.createElement('div'),k.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',e.appendChild(k).appendChild(c),'undefined'!=typeof c.style.zoom&&(c.style.cssText='display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1',h.inlineBlockNeedsLayout=a=3===c.offsetWidth,a&&(e.style.zoom=1)),e.removeChild(k))});(function(){var a=Ka.createElement('div');h.deleteExpando=!0;try{delete a.test}catch(c){h.deleteExpando=!1}})();var ib=function(a){var c=b.noData[(a.nodeName+' ').toLowerCase()],
e=+a.nodeType||1;return 1!==e&&9!==e?!1:!c||!0!==c&&a.getAttribute('classid')===c},Cb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,zb=/([A-Z])/g;b.extend({cache:{},noData:{'applet ':!0,'embed ':!0,'object ':'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'},hasData:function(a){return a=a.nodeType?b.cache[a[b.expando]]:a[b.expando],!!a&&!u(a)},data:function(a,c,e){return G(a,c,e)},removeData:function(a,c){return r(a,c)},_data:function(a,c,e){return G(a,c,e,!0)},_removeData:function(a,c){return r(a,c,!0)}});b.fn.extend({data:function(a,
c){var e,k,n,B=this[0],I=B&&B.attributes;if(void 0===a){if(this.length&&(n=b.data(B),1===B.nodeType&&!b._data(B,'parsedAttrs'))){for(e=I.length;e--;)I[e]&&(k=I[e].name,0===k.indexOf('data-')&&(k=b.camelCase(k.slice(5)),S(B,k,n[k])));b._data(B,'parsedAttrs',!0)}return n}return'object'==typeof a?this.each(function(){b.data(this,a)}):1<arguments.length?this.each(function(){b.data(this,a,c)}):B?S(B,a,b.data(B,a)):void 0},removeData:function(a){return this.each(function(){b.removeData(this,a)})}});b.extend({queue:function(a,
c,e){var k;return a?(c=(c||'fx')+'queue',k=b._data(a,c),e&&(!k||b.isArray(e)?k=b._data(a,c,b.makeArray(e)):k.push(e)),k||[]):void 0},dequeue:function(a,c){c=c||'fx';var e=b.queue(a,c),k=e.length,n=e.shift(),B=b._queueHooks(a,c),I=function(){b.dequeue(a,c)};'inprogress'===n&&(n=e.shift(),k--);n&&('fx'===c&&e.unshift('inprogress'),delete B.stop,n.call(a,I,B));!k&&B&&B.empty.fire()},_queueHooks:function(a,c){var e=c+'queueHooks';return b._data(a,e)||b._data(a,e,{empty:b.Callbacks('once memory').add(function(){b._removeData(a,
c+'queue');b._removeData(a,e)})})}});b.fn.extend({queue:function(a,c){var e=2;return'string'!=typeof a&&(c=a,a='fx',e--),arguments.length<e?b.queue(this[0],a):void 0===c?this:this.each(function(){var k=b.queue(this,a,c);b._queueHooks(this,a);'fx'===a&&'inprogress'!==k[0]&&b.dequeue(this,a)})},dequeue:function(a){return this.each(function(){b.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||'fx',[])},promise:function(a,c){var e,k=1,n=b.Deferred(),B=this,I=this.length,Y=function(){--k||
n.resolveWith(B,[B])};'string'!=typeof a&&(c=a,a=void 0);for(a=a||'fx';I--;)(e=b._data(B[I],a+'queueHooks'))&&e.empty&&(k++,e.empty.add(Y));return Y(),n.promise(c)}});(function(){var a;h.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var c,e,k;return e=Ka.getElementsByTagName('body')[0],e&&e.style?(c=Ka.createElement('div'),k=Ka.createElement('div'),k.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',e.appendChild(k).appendChild(c),'undefined'!=typeof c.style.zoom&&
(c.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1',c.appendChild(Ka.createElement('div')).style.width='5px',a=3!==c.offsetWidth),e.removeChild(k),a):void 0}})();var qb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mb=new RegExp('^(?:([+-])=|)('+qb+')([a-z%]*)$','i'),Ya=['Top','Right','Bottom','Left'],cb=function(a,c){return a=c||a,'none'===b.css(a,'display')||!b.contains(a.ownerDocument,a)},
ca=function(a,c,e,k,n,B,I){var Y=0,qa=a.length,Ba=null==e;if('object'===b.type(e))for(Y in n=!0,e)ca(a,c,Y,e[Y],!0,B,I);else if(void 0!==k&&(n=!0,b.isFunction(k)||(I=!0),Ba&&(I?(c.call(a,k),c=null):(Ba=c,c=function(sa,Sa,Va){return Ba.call(b(sa),Va)})),c))for(;qa>Y;Y++)c(a[Y],e,I?k:k.call(a[Y],Y,c(a[Y],e)));return n?a:Ba?c.call(a):qa?c(a[0],e):B},X=/^(?:checkbox|radio)$/i,ka=/<([\w:-]+)/,va=/^$|\/(?:java|ecma)script/i,Ra=/^\s+/;!function(){var a=Ka.createElement('div'),c=Ka.createDocumentFragment(),
e=Ka.createElement('input');a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";h.leadingWhitespace=3===a.firstChild.nodeType;h.tbody=!a.getElementsByTagName('tbody').length;h.htmlSerialize=!!a.getElementsByTagName('link').length;h.html5Clone='<:nav></:nav>'!==Ka.createElement('nav').cloneNode(!0).outerHTML;e.type='checkbox';e.checked=!0;c.appendChild(e);h.appendChecked=e.checked;a.innerHTML='<textarea>x</textarea>';h.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue;
c.appendChild(a);e=Ka.createElement('input');e.setAttribute('type','radio');e.setAttribute('checked','checked');e.setAttribute('name','t');a.appendChild(e);h.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;h.noCloneEvent=!!a.addEventListener;a[b.expando]=1;h.attributes=!a.getAttribute(b.expando)}();var Xa={option:[1,"<select multiple='multiple'>",'</select>'],legend:[1,'<fieldset>','</fieldset>'],area:[1,'<map>','</map>'],param:[1,'<object>','</object>'],thead:[1,'<table>','</table>'],
tr:[2,'<table><tbody>','</tbody></table>'],col:[2,'<table><tbody></tbody><colgroup>','</colgroup></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:h.htmlSerialize?[0,'','']:[1,'X<div>','</div>']};Xa.optgroup=Xa.option;Xa.tbody=Xa.tfoot=Xa.colgroup=Xa.caption=Xa.thead;Xa.th=Xa.td;var eb=/<|&#?\w+;/,Oa=/<tbody/i;!function(){var a,c=Ka.createElement('div');for(a in{submit:!0,change:!0,focusin:!0}){var e='on'+a;(h[a]=e in A)||(c.setAttribute(e,'t'),h[a]=!1===c.attributes[e].expando)}}();
var wb=/^(?:input|select|textarea)$/i,lb=/^key/,hb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ob=/^(?:focusinfocus|focusoutblur)$/,sb=/^([^.]*)(?:\.(.+)|)/;b.event={global:{},add:function(a,c,e,k,n){var B,I,Y,qa,Ba,sa,Sa,Va;if(I=b._data(a)){e.handler&&(Y=e,e=Y.handler,n=Y.selector);e.guid||(e.guid=b.guid++);(B=I.events)||(B=I.events={});(Ba=I.handle)||(Ba=I.handle=function(Hb){return'undefined'==typeof b||Hb&&b.event.triggered===Hb.type?void 0:b.event.dispatch.apply(Ba.elem,arguments)},Ba.elem=
a);c=(c||'').match(Ga)||[''];for(I=c.length;I--;){var yb=sb.exec(c[I])||[];var bb=Va=yb[1];yb=(yb[2]||'').split('.').sort();bb&&(qa=b.event.special[bb]||{},bb=(n?qa.delegateType:qa.bindType)||bb,qa=b.event.special[bb]||{},sa=b.extend({type:bb,origType:Va,data:k,handler:e,guid:e.guid,selector:n,needsContext:n&&b.expr.match.needsContext.test(n),namespace:yb.join('.')},Y),(Sa=B[bb])||(Sa=B[bb]=[],Sa.delegateCount=0,qa.setup&&!1!==qa.setup.call(a,k,yb,Ba)||(a.addEventListener?a.addEventListener(bb,Ba,
!1):a.attachEvent&&a.attachEvent('on'+bb,Ba))),qa.add&&(qa.add.call(a,sa),sa.handler.guid||(sa.handler.guid=e.guid)),n?Sa.splice(Sa.delegateCount++,0,sa):Sa.push(sa),b.event.global[bb]=!0)}a=null}},remove:function(a,c,e,k,n){var B,I,Y,qa,Ba,sa,Sa,Va,yb=b.hasData(a)&&b._data(a);if(yb&&(Ba=yb.events)){c=(c||'').match(Ga)||[''];for(qa=c.length;qa--;)if(I=sb.exec(c[qa])||[],sa=Va=I[1],Sa=(I[2]||'').split('.').sort(),sa){var bb=b.event.special[sa]||{};sa=(k?bb.delegateType:bb.bindType)||sa;var Hb=Ba[sa]||
[];I=I[2]&&new RegExp('(^|\\.)'+Sa.join('\\.(?:.*\\.|)')+'(\\.|$)');for(Y=B=Hb.length;B--;){var kc=Hb[B];!n&&Va!==kc.origType||e&&e.guid!==kc.guid||I&&!I.test(kc.namespace)||k&&k!==kc.selector&&('**'!==k||!kc.selector)||(Hb.splice(B,1),kc.selector&&Hb.delegateCount--,bb.remove&&bb.remove.call(a,kc))}Y&&!Hb.length&&(bb.teardown&&!1!==bb.teardown.call(a,Sa,yb.handle)||b.removeEvent(a,sa,yb.handle),delete Ba[sa])}else for(sa in Ba)b.event.remove(a,sa+c[qa],e,k,!0);b.isEmptyObject(Ba)&&(delete yb.handle,
b._removeData(a,'events'))}},trigger:function(a,c,e,k){var n,B,I,Y,qa=[e||Ka],Ba=g.call(a,'type')?a.type:a;var sa=g.call(a,'namespace')?a.namespace.split('.'):[];if(I=n=e=e||Ka,3!==e.nodeType&&8!==e.nodeType&&!ob.test(Ba+b.event.triggered)&&(-1<Ba.indexOf('.')&&(sa=Ba.split('.'),Ba=sa.shift(),sa.sort()),B=0>Ba.indexOf(':')&&'on'+Ba,a=a[b.expando]?a:new b.Event(Ba,'object'==typeof a&&a),a.isTrigger=k?2:3,a.namespace=sa.join('.'),a.rnamespace=a.namespace?new RegExp('(^|\\.)'+sa.join('\\.(?:.*\\.|)')+
'(\\.|$)'):null,a.result=void 0,a.target||(a.target=e),c=null==c?[a]:b.makeArray(c,[a]),Y=b.event.special[Ba]||{},k||!Y.trigger||!1!==Y.trigger.apply(e,c))){if(!k&&!Y.noBubble&&!b.isWindow(e)){var Sa=Y.delegateType||Ba;for(ob.test(Sa+Ba)||(I=I.parentNode);I;I=I.parentNode)qa.push(I),n=I;n===(e.ownerDocument||Ka)&&qa.push(n.defaultView||n.parentWindow||A)}for(sa=0;(I=qa[sa++])&&!a.isPropagationStopped();)a.type=1<sa?Sa:Y.bindType||Ba,(n=(b._data(I,'events')||{})[a.type]&&b._data(I,'handle'))&&n.apply(I,
c),(n=B&&I[B])&&n.apply&&ib(I)&&(a.result=n.apply(I,c),!1===a.result&&a.preventDefault());if(a.type=Ba,!(k||a.isDefaultPrevented()||Y._default&&!1!==Y._default.apply(qa.pop(),c))&&ib(e)&&B&&e[Ba]&&!b.isWindow(e)){(n=e[B])&&(e[B]=null);b.event.triggered=Ba;try{e[Ba]()}catch(Va){}b.event.triggered=void 0;n&&(e[B]=n)}return a.result}},dispatch:function(a){a=b.event.fix(a);var c,e,k,n,B=db.call(arguments);var I=(b._data(this,'events')||{})[a.type]||[];var Y=b.event.special[a.type]||{};if(B[0]=a,a.delegateTarget=
this,!Y.preDispatch||!1!==Y.preDispatch.call(this,a)){var qa=b.event.handlers.call(this,a,I);for(I=0;(k=qa[I++])&&!a.isPropagationStopped();)for(a.currentTarget=k.elem,c=0;(n=k.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(n.namespace)||(a.handleObj=n,a.data=n.data,e=((b.event.special[n.origType]||{}).handle||n.handler).apply(k.elem,B),void 0!==e&&!1===(a.result=e)&&(a.preventDefault(),a.stopPropagation()));return Y.postDispatch&&Y.postDispatch.call(this,a),
a.result}},handlers:function(a,c){var e,k=[],n=c.delegateCount,B=a.target;if(n&&B.nodeType&&('click'!==a.type||isNaN(a.button)||1>a.button))for(;B!=this;B=B.parentNode||this)if(1===B.nodeType&&(!0!==B.disabled||'click'!==a.type)){var I=[];for(e=0;n>e;e++){var Y=c[e];var qa=Y.selector+' ';void 0===I[qa]&&(I[qa]=Y.needsContext?-1<b(qa,this).index(B):b.find(qa,this,null,[B]).length);I[qa]&&I.push(Y)}I.length&&k.push({elem:B,handlers:I})}return n<c.length&&k.push({elem:this,handlers:c.slice(n)}),k},fix:function(a){if(a[b.expando])return a;
var c=a.type;var e=a,k=this.fixHooks[c];k||(this.fixHooks[c]=k=hb.test(c)?this.mouseHooks:lb.test(c)?this.keyHooks:{});var n=k.props?this.props.concat(k.props):this.props;a=new b.Event(e);for(c=n.length;c--;){var B=n[c];a[B]=e[B]}return a.target||(a.target=e.srcElement||Ka),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,k.filter?k.filter(a,e):a},props:'altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(' '),
fixHooks:{},keyHooks:{props:['char','charCode','key','keyCode'],filter:function(a,c){return null==a.which&&(a.which=null!=c.charCode?c.charCode:c.keyCode),a}},mouseHooks:{props:'button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement'.split(' '),filter:function(a,c){var e,k,n,B=c.button,I=c.fromElement;return null==a.pageX&&null!=c.clientX&&(k=a.target.ownerDocument||Ka,n=k.documentElement,e=k.body,a.pageX=c.clientX+(n&&n.scrollLeft||e&&e.scrollLeft||0)-(n&&
n.clientLeft||e&&e.clientLeft||0),a.pageY=c.clientY+(n&&n.scrollTop||e&&e.scrollTop||0)-(n&&n.clientTop||e&&e.clientTop||0)),!a.relatedTarget&&I&&(a.relatedTarget=I===a.target?c.toElement:I),a.which||void 0===B||(a.which=1&B?1:2&B?3:4&B?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==y()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:'focusin'},blur:{trigger:function(){return this===y()&&this.blur?(this.blur(),!1):void 0},delegateType:'focusout'},click:{trigger:function(){return b.nodeName(this,
'input')&&'checkbox'===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return b.nodeName(a.target,'a')}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,c,e){a=b.extend(new b.Event,e,{type:a,isSimulated:!0});b.event.trigger(a,null,c);a.isDefaultPrevented()&&e.preventDefault()}};b.removeEvent=Ka.removeEventListener?function(a,c,e){a.removeEventListener&&a.removeEventListener(c,e)}:function(a,
c,e){c='on'+c;a.detachEvent&&('undefined'==typeof a[c]&&(a[c]=null),a.detachEvent(c,e))};b.Event=function(a,c){return this instanceof b.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?m:z):this.type=a,c&&b.extend(this,c),this.timeStamp=a&&a.timeStamp||b.now(),void(this[b.expando]=!0)):new b.Event(a,c)};b.Event.prototype={constructor:b.Event,isDefaultPrevented:z,isPropagationStopped:z,isImmediatePropagationStopped:z,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=m;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=m;a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=m;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};b.each({mouseenter:'mouseover',
mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},function(a,c){b.event.special[a]={delegateType:c,bindType:c,handle:function(e){var k,n=e.relatedTarget,B=e.handleObj;return n&&(n===this||b.contains(this,n))||(e.type=B.origType,k=B.handler.apply(this,arguments),e.type=c),k}}});h.submit||(b.event.special.submit={setup:function(){return b.nodeName(this,'form')?!1:void b.event.add(this,'click._submit keypress._submit',function(a){a=a.target;(a=b.nodeName(a,'input')||b.nodeName(a,
'button')?b.prop(a,'form'):void 0)&&!b._data(a,'submit')&&(b.event.add(a,'submit._submit',function(c){c._submitBubble=!0}),b._data(a,'submit',!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&b.event.simulate('submit',this.parentNode,a))},teardown:function(){return b.nodeName(this,'form')?!1:void b.event.remove(this,'._submit')}});h.change||(b.event.special.change={setup:function(){return wb.test(this.nodeName)?('checkbox'!==this.type&&'radio'!==
this.type||(b.event.add(this,'propertychange._change',function(a){'checked'===a.originalEvent.propertyName&&(this._justChanged=!0)}),b.event.add(this,'click._change',function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1);b.event.simulate('change',this,a)})),!1):void b.event.add(this,'beforeactivate._change',function(a){a=a.target;wb.test(a.nodeName)&&!b._data(a,'change')&&(b.event.add(a,'change._change',function(c){!this.parentNode||c.isSimulated||c.isTrigger||b.event.simulate('change',
this.parentNode,c)}),b._data(a,'change',!0))})},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||'radio'!==c.type&&'checkbox'!==c.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return b.event.remove(this,'._change'),!wb.test(this.nodeName)}});h.focusin||b.each({focus:'focusin',blur:'focusout'},function(a,c){var e=function(k){b.event.simulate(c,k.target,b.event.fix(k))};b.event.special[c]={setup:function(){var k=this.ownerDocument||this,n=b._data(k,
c);n||k.addEventListener(a,e,!0);b._data(k,c,(n||0)+1)},teardown:function(){var k=this.ownerDocument||this,n=b._data(k,c)-1;n?b._data(k,c,n):(k.removeEventListener(a,e,!0),b._removeData(k,c))}}});b.fn.extend({on:function(a,c,e,k){return H(this,a,c,e,k)},one:function(a,c,e,k){return H(this,a,c,e,k,1)},off:function(a,c,e){var k,n;if(a&&a.preventDefault&&a.handleObj)return k=a.handleObj,b(a.delegateTarget).off(k.namespace?k.origType+'.'+k.namespace:k.origType,k.selector,k.handler),this;if('object'==
typeof a){for(n in a)this.off(n,c,a[n]);return this}return!1!==c&&'function'!=typeof c||(e=c,c=void 0),!1===e&&(e=z),this.each(function(){b.event.remove(this,a,e,c)})},trigger:function(a,c){return this.each(function(){b.event.trigger(a,c,this)})},triggerHandler:function(a,c){var e=this[0];return e?b.event.trigger(a,c,e,!0):void 0}});var mb=/ jQuery\d+="(?:null|\d+)"/g,Kb=RegExp('<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video)[\\s/>]',
'i'),Eb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Gb=/<script|<style|<link/i,Ib=/checked\s*(?:[^=]|=\s*.checked.)/i,$b=/^true\/(.*)/,Xb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Dc=Ea(Ka).appendChild(Ka.createElement('div'));b.extend({htmlPrefilter:function(a){return a.replace(Eb,'<$1></$2>')},clone:function(a,c,e){var k,n,B,I=b.contains(a.ownerDocument,a);if(h.html5Clone||b.isXMLDoc(a)||!Kb.test('<'+a.nodeName+'>')?n=a.cloneNode(!0):(Dc.innerHTML=a.outerHTML,Dc.removeChild(n=
Dc.firstChild)),!(h.noCloneEvent&&h.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||b.isXMLDoc(a))){var Y=N(n);var qa=N(a);for(B=0;null!=(k=qa[B]);++B)if(Y[B]){var Ba=void 0,sa,Sa=k,Va=Y[B];if(1===Va.nodeType){if(sa=Va.nodeName.toLowerCase(),!h.noCloneEvent&&Va[b.expando]){k=b._data(Va);for(Ba in k.events)b.removeEvent(Va,Ba,k.handle);Va.removeAttribute(b.expando)}'script'===sa&&Va.text!==Sa.text?(w(Va).text=Sa.text,F(Va)):'object'===sa?(Va.parentNode&&(Va.outerHTML=Sa.outerHTML),h.html5Clone&&Sa.innerHTML&&
!b.trim(Va.innerHTML)&&(Va.innerHTML=Sa.innerHTML)):'input'===sa&&X.test(Sa.type)?(Va.defaultChecked=Va.checked=Sa.checked,Va.value!==Sa.value&&(Va.value=Sa.value)):'option'===sa?Va.defaultSelected=Va.selected=Sa.defaultSelected:'input'!==sa&&'textarea'!==sa||(Va.defaultValue=Sa.defaultValue)}}}if(c)if(e)for(qa=qa||N(a),Y=Y||N(n),B=0;null!=(k=qa[B]);B++)J(k,Y[B]);else J(a,n);return Y=N(n,'script'),0<Y.length&&O(Y,!I&&N(a,'script')),n},cleanData:function(a,c){for(var e,k,n,B,I=0,Y=b.expando,qa=b.cache,
Ba=h.attributes,sa=b.event.special;null!=(e=a[I]);I++)if((c||ib(e))&&(n=e[Y],B=n&&qa[n])){if(B.events)for(k in B.events)sa[k]?b.event.remove(e,k):b.removeEvent(e,k,B.handle);qa[n]&&(delete qa[n],Ba||'undefined'==typeof e.removeAttribute?e[Y]=void 0:e.removeAttribute(Y),xb.push(n))}}});b.fn.extend({domManip:T,detach:function(a){return ta(this,a,!0)},remove:function(a){return ta(this,a)},text:function(a){return ca(this,function(c){return void 0===c?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||
Ka).createTextNode(c))},null,a,arguments.length)},append:function(){return T(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||v(this,a).appendChild(a)})},prepend:function(){return T(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=v(this,a);c.insertBefore(a,c.firstChild)}})},before:function(){return T(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return T(this,arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,c=0;null!=(a=this[c]);c++){for(1===a.nodeType&&b.cleanData(N(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&b.nodeName(a,'select')&&(a.options.length=0)}return this},clone:function(a,c){return a=null==a?!1:a,c=null==c?a:c,this.map(function(){return b.clone(this,a,c)})},html:function(a){return ca(this,function(c){var e=this[0]||{},k=0,n=this.length;if(void 0===c)return 1===e.nodeType?
e.innerHTML.replace(mb,''):void 0;if(!('string'!=typeof c||Gb.test(c)||!h.htmlSerialize&&Kb.test(c)||!h.leadingWhitespace&&Ra.test(c)||Xa[(ka.exec(c)||['',''])[1].toLowerCase()])){c=b.htmlPrefilter(c);try{for(;n>k;k++)e=this[k]||{},1===e.nodeType&&(b.cleanData(N(e,!1)),e.innerHTML=c);e=0}catch(B){}}e&&this.empty().append(c)},null,a,arguments.length)},replaceWith:function(){var a=[];return T(this,arguments,function(c){var e=this.parentNode;0>b.inArray(this,a)&&(b.cleanData(N(this)),e&&e.replaceChild(c,
this))},a)}});b.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},function(a,c){b.fn[a]=function(e){for(var k=0,n=[],B=b(e),I=B.length-1;I>=k;k++)e=k===I?this:this.clone(!0),b(B[k])[c](e),Vb.apply(n,e.get());return this.pushStack(n)}});var gc,Nb={HTML:'block',BODY:'block'},Pc=/^margin/,nc=new RegExp('^('+qb+')(?!px)[a-z%]+$','i'),Lc=function(a,c,e,k){var n,B={};for(n in c)B[n]=a.style[n],a.style[n]=c[n];e=e.apply(a,k||[]);for(n in c)a.style[n]=
B[n];return e},Qc=Ka.documentElement;!function(){var a,c,e,k,n,B,I=Ka.createElement('div'),Y=Ka.createElement('div');if(Y.style){Y.style.cssText='float:left;opacity:.5';h.opacity='0.5'===Y.style.opacity;h.cssFloat=!!Y.style.cssFloat;Y.style.backgroundClip='content-box';Y.cloneNode(!0).style.backgroundClip='';h.clearCloneStyle='content-box'===Y.style.backgroundClip;I=Ka.createElement('div');I.style.cssText='border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute';
Y.innerHTML='';I.appendChild(Y);h.boxSizing=''===Y.style.boxSizing||''===Y.style.MozBoxSizing||''===Y.style.WebkitBoxSizing;b.extend(h,{reliableHiddenOffsets:function(){return null==a&&qa(),k},boxSizingReliable:function(){return null==a&&qa(),e},pixelMarginRight:function(){return null==a&&qa(),c},pixelPosition:function(){return null==a&&qa(),a},reliableMarginRight:function(){return null==a&&qa(),n},reliableMarginLeft:function(){return null==a&&qa(),B}});function qa(){var Ba,sa,Sa=Ka.documentElement;
Sa.appendChild(I);Y.style.cssText='-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%';a=e=B=!1;c=n=!0;A.getComputedStyle&&(sa=A.getComputedStyle(Y),a='1%'!==(sa||{}).top,B='2px'===(sa||{}).marginLeft,e='4px'===(sa||{width:'4px'}).width,Y.style.marginRight='50%',c='4px'===(sa||{marginRight:'4px'}).marginRight,Ba=Y.appendChild(Ka.createElement('div')),Ba.style.cssText=Y.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0',
Ba.style.marginRight=Ba.style.width='0',Y.style.width='1px',n=!parseFloat((A.getComputedStyle(Ba)||{}).marginRight),Y.removeChild(Ba));Y.style.display='none';(k=0===Y.getClientRects().length)&&(Y.style.display='',Y.innerHTML='<table><tr><td></td><td>t</td></tr></table>',Y.childNodes[0].style.borderCollapse='separate',Ba=Y.getElementsByTagName('td'),Ba[0].style.cssText='margin:0;border:0;padding:0;display:none',k=0===Ba[0].offsetHeight,k&&(Ba[0].style.display='',Ba[1].style.display='none',k=0===Ba[0].offsetHeight));
Sa.removeChild(I)}}}();var rc,sc,Rc=/^(top|right|bottom|left)$/;A.getComputedStyle?(rc=function(a){var c=a.ownerDocument.defaultView;return c&&c.opener||(c=A),c.getComputedStyle(a)},sc=function(a,c,e){var k,n,B,I,Y=a.style;return e=e||rc(a),I=e?e.getPropertyValue(c)||e[c]:void 0,''!==I&&void 0!==I||b.contains(a.ownerDocument,a)||(I=b.style(a,c)),e&&!h.pixelMarginRight()&&nc.test(I)&&Pc.test(c)&&(k=Y.width,n=Y.minWidth,B=Y.maxWidth,Y.minWidth=Y.maxWidth=Y.width=I,I=e.width,Y.width=k,Y.minWidth=n,Y.maxWidth=
B),void 0===I?I:I+''}):Qc.currentStyle&&(rc=function(a){return a.currentStyle},sc=function(a,c,e){var k,n,B,I,Y=a.style;return e=e||rc(a),I=e?e[c]:void 0,null==I&&Y&&Y[c]&&(I=Y[c]),nc.test(I)&&!Rc.test(c)&&(k=Y.left,n=a.runtimeStyle,B=n&&n.left,B&&(n.left=a.currentStyle.left),Y.left='fontSize'===c?'1em':I,I=Y.pixelLeft+'px',Y.left=k,B&&(n.left=B)),void 0===I?I:I+''||'auto'});var $c=/alpha\([^)]*\)/i,Id=/opacity\s*=\s*([^)]*)/i,Jd=/^(none|table(?!-c[ea]).+)/,vd=new RegExp('^('+qb+')(.*)$','i'),Kd=
{position:'absolute',visibility:'hidden',display:'block'},nd={letterSpacing:'0',fontWeight:'400'},jd=['Webkit','O','Moz','ms'],hd=Ka.createElement('div').style;b.extend({cssHooks:{opacity:{get:function(a,c){if(c)return a=sc(a,'opacity'),''===a?'1':a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{'float':h.cssFloat?'cssFloat':'styleFloat'},style:function(a,
c,e,k){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var n,B,I,Y=b.camelCase(c),qa=a.style;if(c=b.cssProps[Y]||(b.cssProps[Y]=ia(Y)||Y),I=b.cssHooks[c]||b.cssHooks[Y],void 0===e)return I&&'get'in I&&void 0!==(n=I.get(a,!1,k))?n:qa[c];if(B=typeof e,'string'===B&&(n=Mb.exec(e))&&n[1]&&(e=ea(a,c,n),B='number'),null!=e&&e===e&&('number'===B&&(e+=n&&n[3]||(b.cssNumber[Y]?'':'px')),h.clearCloneStyle||''!==e||0!==c.indexOf('background')||(qa[c]='inherit'),!(I&&'set'in I&&void 0===(e=I.set(a,e,k)))))try{qa[c]=
e}catch(Ba){}}},css:function(a,c,e,k){var n,B,I,Y=b.camelCase(c);return c=b.cssProps[Y]||(b.cssProps[Y]=ia(Y)||Y),I=b.cssHooks[c]||b.cssHooks[Y],I&&'get'in I&&(B=I.get(a,!0,e)),void 0===B&&(B=sc(a,c,k)),'normal'===B&&c in nd&&(B=nd[c]),''===e||e?(n=parseFloat(B),!0===e||isFinite(n)?n||0:B):B}});b.each(['height','width'],function(a,c){b.cssHooks[c]={get:function(e,k,n){return k?Jd.test(b.css(e,'display'))&&0===e.offsetWidth?Lc(e,Kd,function(){return Ca(e,c,n)}):Ca(e,c,n):void 0},set:function(e,k,n){var B=
n&&rc(e);return ma(e,k,n?ua(e,c,n,h.boxSizing&&'border-box'===b.css(e,'boxSizing',!1,B),B):0)}}});h.opacity||(b.cssHooks.opacity={get:function(a,c){return Id.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||'')?.01*parseFloat(RegExp.$1)+'':c?'1':''},set:function(a,c){var e=a.style;a=a.currentStyle;var k=b.isNumeric(c)?'alpha(opacity='+100*c+')':'',n=a&&a.filter||e.filter||'';e.zoom=1;(1<=c||''===c)&&''===b.trim(n.replace($c,''))&&e.removeAttribute&&(e.removeAttribute('filter'),''===
c||a&&!a.filter)||(e.filter=$c.test(n)?n.replace($c,k):n+' '+k)}});b.cssHooks.marginRight=la(h.reliableMarginRight,function(a,c){return c?Lc(a,{display:'inline-block'},sc,[a,'marginRight']):void 0});b.cssHooks.marginLeft=la(h.reliableMarginLeft,function(a,c){return c?(parseFloat(sc(a,'marginLeft'))||(b.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Lc(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+'px':void 0});b.each({margin:'',padding:'',border:'Width'},function(a,
c){b.cssHooks[a+c]={expand:function(e){var k=0,n={};for(e='string'==typeof e?e.split(' '):[e];4>k;k++)n[a+Ya[k]+c]=e[k]||e[k-2]||e[0];return n}};Pc.test(a)||(b.cssHooks[a+c].set=ma)});b.fn.extend({css:function(a,c){return ca(this,function(e,k,n){var B,I={},Y=0;if(b.isArray(k)){n=rc(e);for(B=k.length;B>Y;Y++)I[k[Y]]=b.css(e,k[Y],!1,n);return I}return void 0!==n?b.style(e,k,n):b.css(e,k)},a,c,1<arguments.length)},show:function(){return xa(this,!0)},hide:function(){return xa(this)},toggle:function(a){return'boolean'==
typeof a?a?this.show():this.hide():this.each(function(){cb(this)?b(this).show():b(this).hide()})}});b.Tween=Qa;Qa.prototype={constructor:Qa,init:function(a,c,e,k,n,B){this.elem=a;this.prop=e;this.easing=n||b.easing._default;this.options=c;this.start=this.now=this.cur();this.end=k;this.unit=B||(b.cssNumber[e]?'':'px')},cur:function(){var a=Qa.propHooks[this.prop];return a&&a.get?a.get(this):Qa.propHooks._default.get(this)},run:function(a){var c,e=Qa.propHooks[this.prop];return this.options.duration?
this.pos=c=b.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=c=a,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),e&&e.set?e.set(this):Qa.propHooks._default.set(this),this}};Qa.prototype.init.prototype=Qa.prototype;Qa.propHooks={_default:{get:function(a){var c;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(c=b.css(a.elem,a.prop,''),c&&'auto'!==c?c:0)},set:function(a){b.fx.step[a.prop]?
b.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[b.cssProps[a.prop]]&&!b.cssHooks[a.prop]?a.elem[a.prop]=a.now:b.style(a.elem,a.prop,a.now+a.unit)}}};Qa.propHooks.scrollTop=Qa.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};b.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:'swing'};b.fx=Qa.prototype.init;b.fx.step={};var Fc,ad,Ld=/^(?:toggle|show|hide)$/,Md=/queueHooks$/;b.Animation=b.extend(Ja,
{tweeners:{'*':[function(a,c){var e=this.createTween(a,c);return ea(e.elem,a,Mb.exec(c),e),e}]},tweener:function(a,c){b.isFunction(a)?(c=a,a=['*']):a=a.match(Ga);for(var e,k=0,n=a.length;n>k;k++)e=a[k],Ja.tweeners[e]=Ja.tweeners[e]||[],Ja.tweeners[e].unshift(c)},prefilters:[function(a,c,e){var k,n,B,I,Y,qa,Ba,sa=this,Sa={},Va=a.style,yb=a.nodeType&&cb(a),bb=b._data(a,'fxshow');e.queue||(I=b._queueHooks(a,'fx'),null==I.unqueued&&(I.unqueued=0,Y=I.empty.fire,I.empty.fire=function(){I.unqueued||Y()}),
I.unqueued++,sa.always(function(){sa.always(function(){I.unqueued--;b.queue(a,'fx').length||I.empty.fire()})}));1===a.nodeType&&('height'in c||'width'in c)&&(e.overflow=[Va.overflow,Va.overflowX,Va.overflowY],qa=b.css(a,'display'),Ba='none'===qa?b._data(a,'olddisplay')||W(a.nodeName):qa,'inline'===Ba&&'none'===b.css(a,'float')&&(h.inlineBlockNeedsLayout&&'inline'!==W(a.nodeName)?Va.zoom=1:Va.display='inline-block'));e.overflow&&(Va.overflow='hidden',h.shrinkWrapBlocks()||sa.always(function(){Va.overflow=
e.overflow[0];Va.overflowX=e.overflow[1];Va.overflowY=e.overflow[2]}));for(k in c)if(n=c[k],Ld.exec(n)){if(delete c[k],B=B||'toggle'===n,n===(yb?'hide':'show')){if('show'!==n||!bb||void 0===bb[k])continue;yb=!0}Sa[k]=bb&&bb[k]||b.style(a,k)}else qa=void 0;if(b.isEmptyObject(Sa))'inline'===('none'===qa?W(a.nodeName):qa)&&(Va.display=qa);else for(k in bb?'hidden'in bb&&(yb=bb.hidden):bb=b._data(a,'fxshow',{}),B&&(bb.hidden=!yb),yb?b(a).show():sa.done(function(){b(a).hide()}),sa.done(function(){var Hb;
b._removeData(a,'fxshow');for(Hb in Sa)b.style(a,Hb,Sa[Hb])}),Sa)c=Na(yb?bb[k]:0,k,sa),k in bb||(bb[k]=c.start,yb&&(c.end=c.start,c.start='width'===k||'height'===k?1:0))}],prefilter:function(a,c){c?Ja.prefilters.unshift(a):Ja.prefilters.push(a)}});b.speed=function(a,c,e){var k=a&&'object'==typeof a?b.extend({},a):{complete:e||!e&&c||b.isFunction(a)&&a,duration:a,easing:e&&c||c&&!b.isFunction(c)&&c};return k.duration=b.fx.off?0:'number'==typeof k.duration?k.duration:k.duration in b.fx.speeds?b.fx.speeds[k.duration]:
b.fx.speeds._default,null!=k.queue&&!0!==k.queue||(k.queue='fx'),k.old=k.complete,k.complete=function(){b.isFunction(k.old)&&k.old.call(this);k.queue&&b.dequeue(this,k.queue)},k};b.fn.extend({fadeTo:function(a,c,e,k){return this.filter(cb).css('opacity',0).show().end().animate({opacity:c},a,e,k)},animate:function(a,c,e,k){var n=b.isEmptyObject(a),B=b.speed(c,e,k);c=function(){var I=Ja(this,b.extend({},a),B);(n||b._data(this,'finish'))&&I.stop(!0)};return c.finish=c,n||!1===B.queue?this.each(c):this.queue(B.queue,
c)},stop:function(a,c,e){var k=function(n){var B=n.stop;delete n.stop;B(e)};return'string'!=typeof a&&(e=c,c=a,a=void 0),c&&!1!==a&&this.queue(a||'fx',[]),this.each(function(){var n=!0,B=null!=a&&a+'queueHooks',I=b.timers,Y=b._data(this);if(B)Y[B]&&Y[B].stop&&k(Y[B]);else for(B in Y)Y[B]&&Y[B].stop&&Md.test(B)&&k(Y[B]);for(B=I.length;B--;)I[B].elem!==this||null!=a&&I[B].queue!==a||(I[B].anim.stop(e),n=!1,I.splice(B,1));!n&&e||b.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||'fx'),this.each(function(){var c=
b._data(this),e=c[a+'queue'];var k=c[a+'queueHooks'];var n=b.timers,B=e?e.length:0;c.finish=!0;b.queue(this,a,[]);k&&k.stop&&k.stop.call(this,!0);for(k=n.length;k--;)n[k].elem===this&&n[k].queue===a&&(n[k].anim.stop(!0),n.splice(k,1));for(k=0;B>k;k++)e[k]&&e[k].finish&&e[k].finish.call(this);delete c.finish})}});b.each(['toggle','show','hide'],function(a,c){var e=b.fn[c];b.fn[c]=function(k,n,B){return null==k||'boolean'==typeof k?e.apply(this,arguments):this.animate(Da(c,!0),k,n,B)}});b.each({slideDown:Da('show'),
slideUp:Da('hide'),slideToggle:Da('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},function(a,c){b.fn[a]=function(e,k,n){return this.animate(c,e,k,n)}});b.timers=[];b.fx.tick=function(){var a=b.timers,c=0;for(Fc=b.now();c<a.length;c++){var e=a[c];e()||a[c]!==e||a.splice(c--,1)}a.length||b.fx.stop();Fc=void 0};b.fx.timer=function(a){b.timers.push(a);a()?b.fx.start():b.timers.pop()};b.fx.interval=13;b.fx.start=function(){ad||=A.setInterval(b.fx.tick,b.fx.interval)};
b.fx.stop=function(){A.clearInterval(ad);ad=null};b.fx.speeds={slow:600,fast:200,_default:400};b.fn.delay=function(a,c){return a=b.fx?b.fx.speeds[a]||a:a,c=c||'fx',this.queue(c,function(e,k){var n=A.setTimeout(e,a);k.stop=function(){A.clearTimeout(n)}})};(function(){var a=Ka.createElement('input');Ka.createElement('div');var c=Ka.createElement('select'),e=c.appendChild(Ka.createElement('option'));var k=Ka.createElement('div');k.setAttribute('className','t');k.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
k.getElementsByTagName('a');a.setAttribute('type','checkbox');k.appendChild(a);var n=k.getElementsByTagName('a')[0];n.style.cssText='top:1px';h.getSetAttribute='t'!==k.className;h.style=/top/.test(n.getAttribute('style'));h.hrefNormalized='/a'===n.getAttribute('href');h.checkOn=!!a.value;h.optSelected=e.selected;h.enctype=!!Ka.createElement('form').enctype;c.disabled=!0;h.optDisabled=!e.disabled;a=Ka.createElement('input');a.setAttribute('value','');h.input=''===a.getAttribute('value');a.value='t';
a.setAttribute('type','radio');h.radioValue='t'===a.value})();var Nd=/\r/g,Od=/[\x20\t\r\n\f]+/g;b.fn.extend({val:function(a){var c,e,k,n=this[0];if(arguments.length)return k=b.isFunction(a),this.each(function(B){var I;1===this.nodeType&&(I=k?a.call(this,B,b(this).val()):a,null==I?I='':'number'==typeof I?I+='':b.isArray(I)&&(I=b.map(I,function(Y){return null==Y?'':Y+''})),c=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],c&&'set'in c&&void 0!==c.set(this,I,'value')||(this.value=I))});
if(n)return c=b.valHooks[n.type]||b.valHooks[n.nodeName.toLowerCase()],c&&'get'in c&&void 0!==(e=c.get(n,'value'))?e:(e=n.value,'string'==typeof e?e.replace(Nd,''):null==e?'':e)}});b.extend({valHooks:{option:{get:function(a){var c=b.find.attr(a,'value');return null!=c?c:b.trim(b.text(a)).replace(Od,' ')}},select:{get:function(a){for(var c,e=a.options,k=a.selectedIndex,n='select-one'===a.type||0>k,B=n?null:[],I=n?k+1:e.length,Y=0>k?I:n?k:0;I>Y;Y++)if(c=e[Y],!(!c.selected&&Y!==k||(h.optDisabled?c.disabled:
null!==c.getAttribute('disabled'))||c.parentNode.disabled&&b.nodeName(c.parentNode,'optgroup'))){if(a=b(c).val(),n)return a;B.push(a)}return B},set:function(a,c){var e,k,n=a.options;c=b.makeArray(c);for(var B=n.length;B--;)if(k=n[B],-1<b.inArray(b.valHooks.option.get(k),c))try{k.selected=e=!0}catch(I){k.scrollHeight}else k.selected=!1;return e||(a.selectedIndex=-1),n}}}});b.each(['radio','checkbox'],function(){b.valHooks[this]={set:function(a,c){return b.isArray(c)?a.checked=-1<b.inArray(b(a).val(),
c):void 0}};h.checkOn||(b.valHooks[this].get=function(a){return null===a.getAttribute('value')?'on':a.value})});var Ic,zc=b.expr.attrHandle,bd=/^(?:checked|selected)$/i,Ec=h.getSetAttribute,Sc=h.input;b.fn.extend({attr:function(a,c){return ca(this,b.attr,a,c,1<arguments.length)},removeAttr:function(a){return this.each(function(){b.removeAttr(this,a)})}});b.extend({attr:function(a,c,e){var k,n,B=a.nodeType;if(3!==B&&8!==B&&2!==B)return'undefined'==typeof a.getAttribute?b.prop(a,c,e):(1===B&&b.isXMLDoc(a)||
(c=c.toLowerCase(),n=b.attrHooks[c]||(b.expr.match.bool.test(c)?Pd:Ic)),void 0!==e?null===e?void b.removeAttr(a,c):n&&'set'in n&&void 0!==(k=n.set(a,e,c))?k:(a.setAttribute(c,e+''),e):n&&'get'in n&&null!==(k=n.get(a,c))?k:(k=b.find.attr(a,c),null==k?void 0:k))},attrHooks:{type:{set:function(a,c){if(!h.radioValue&&'radio'===c&&b.nodeName(a,'input')){var e=a.value;return a.setAttribute('type',c),e&&(a.value=e),c}}}},removeAttr:function(a,c){var e=0,k=c&&c.match(Ga);if(k&&1===a.nodeType)for(;c=k[e++];){var n=
b.propFix[c]||c;b.expr.match.bool.test(c)?Sc&&Ec||!bd.test(c)?a[n]=!1:a[b.camelCase('default-'+c)]=a[n]=!1:b.attr(a,c,'');a.removeAttribute(Ec?c:n)}}});var Pd={set:function(a,c,e){return!1===c?b.removeAttr(a,e):Sc&&Ec||!bd.test(e)?a.setAttribute(!Ec&&b.propFix[e]||e,e):a[b.camelCase('default-'+e)]=a[e]=!0,e}};b.each(b.expr.match.bool.source.match(/\w+/g),function(a,c){var e=zc[c]||b.find.attr;Sc&&Ec||!bd.test(c)?zc[c]=function(k,n,B){var I,Y;return B||(Y=zc[n],zc[n]=I,I=null!=e(k,n,B)?n.toLowerCase():
null,zc[n]=Y),I}:zc[c]=function(k,n,B){return B?void 0:k[b.camelCase('default-'+n)]?n.toLowerCase():null}});Sc&&Ec||(b.attrHooks.value={set:function(a,c,e){return b.nodeName(a,'input')?void(a.defaultValue=c):Ic&&Ic.set(a,c,e)}});Ec||(Ic={set:function(a,c,e){var k=a.getAttributeNode(e);return k||a.setAttributeNode(k=a.ownerDocument.createAttribute(e)),k.value=c+='','value'===e||c===a.getAttribute(e)?c:void 0}},zc.id=zc.name=zc.coords=function(a,c,e){var k;return e?void 0:(k=a.getAttributeNode(c))&&
''!==k.value?k.value:null},b.valHooks.button={get:function(a,c){return(a=a.getAttributeNode(c))&&a.specified?a.value:void 0},set:Ic.set},b.attrHooks.contenteditable={set:function(a,c,e){Ic.set(a,''===c?!1:c,e)}},b.each(['width','height'],function(a,c){b.attrHooks[c]={set:function(e,k){return''===k?(e.setAttribute(c,'auto'),k):void 0}}}));h.style||(b.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,c){return a.style.cssText=c+''}});var Qd=/^(?:input|select|textarea|button|object)$/i,
Rd=/^(?:a|area)$/i;b.fn.extend({prop:function(a,c){return ca(this,b.prop,a,c,1<arguments.length)},removeProp:function(a){return a=b.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(c){}})}});b.extend({prop:function(a,c,e){var k,n,B=a.nodeType;if(3!==B&&8!==B&&2!==B)return 1===B&&b.isXMLDoc(a)||(c=b.propFix[c]||c,n=b.propHooks[c]),void 0!==e?n&&'set'in n&&void 0!==(k=n.set(a,e,c))?k:a[c]=e:n&&'get'in n&&null!==(k=n.get(a,c))?k:a[c]},propHooks:{tabIndex:{get:function(a){var c=
b.find.attr(a,'tabindex');return c?parseInt(c,10):Qd.test(a.nodeName)||Rd.test(a.nodeName)&&a.href?0:-1}}},propFix:{'for':'htmlFor','class':'className'}});h.hrefNormalized||b.each(['href','src'],function(a,c){b.propHooks[c]={get:function(e){return e.getAttribute(c,4)}}});h.optSelected||(b.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});
b.each('tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable'.split(' '),function(){b.propFix[this.toLowerCase()]=this});h.enctype||(b.propFix.enctype='encoding');var cd=/[\t\r\n\f]/g;b.fn.extend({addClass:function(a){var c,e,k,n,B,I,Y=0;if(b.isFunction(a))return this.each(function(qa){b(this).addClass(a.call(this,qa,Ua(this)))});if('string'==typeof a&&a)for(c=a.match(Ga)||[];e=this[Y++];)if(n=Ua(e),k=1===e.nodeType&&(' '+n+' ').replace(cd,' ')){for(I=
0;B=c[I++];)0>k.indexOf(' '+B+' ')&&(k+=B+' ');k=b.trim(k);n!==k&&b.attr(e,'class',k)}return this},removeClass:function(a){var c,e,k,n,B,I,Y=0;if(b.isFunction(a))return this.each(function(qa){b(this).removeClass(a.call(this,qa,Ua(this)))});if(!arguments.length)return this.attr('class','');if('string'==typeof a&&a)for(c=a.match(Ga)||[];e=this[Y++];)if(n=Ua(e),k=1===e.nodeType&&(' '+n+' ').replace(cd,' ')){for(I=0;B=c[I++];)for(;-1<k.indexOf(' '+B+' ');)k=k.replace(' '+B+' ',' ');k=b.trim(k);n!==k&&
b.attr(e,'class',k)}return this},toggleClass:function(a,c){var e=typeof a;return'boolean'==typeof c&&'string'===e?c?this.addClass(a):this.removeClass(a):b.isFunction(a)?this.each(function(k){b(this).toggleClass(a.call(this,k,Ua(this),c),c)}):this.each(function(){var k,n;if('string'===e){var B=0;var I=b(this);for(n=a.match(Ga)||[];k=n[B++];)I.hasClass(k)?I.removeClass(k):I.addClass(k)}else void 0!==a&&'boolean'!==e||(k=Ua(this),k&&b._data(this,'__className__',k),b.attr(this,'class',k||!1===a?'':b._data(this,
'__className__')||''))})},hasClass:function(a){var c,e=0;for(a=' '+a+' ';c=this[e++];)if(1===c.nodeType&&-1<(' '+Ua(c)+' ').replace(cd,' ').indexOf(a))return!0;return!1}});b.each('blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(' '),function(a,c){b.fn[c]=function(e,k){return 0<arguments.length?this.on(c,null,e,k):this.trigger(c)}});b.fn.extend({hover:function(a,
c){return this.mouseenter(a).mouseleave(c||a)}});var Sd=A.location,dd=b.now(),ed=/\?/,Td=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;b.parseJSON=function(a){if(A.JSON&&A.JSON.parse)return A.JSON.parse(a+'');var c,e=null,k=b.trim(a+'');return k&&!b.trim(k.replace(Td,function(n,B,I,Y){return c&&B&&(e=0),0===e?n:(c=I||B,e+=!Y-!I,'')}))?Function('return '+k)():b.error('Invalid JSON: '+a)};b.parseXML=function(a){var c,
e;if(!a||'string'!=typeof a)return null;try{A.DOMParser?(e=new A.DOMParser,c=e.parseFromString(a,'text/xml')):(c=new A.ActiveXObject('Microsoft.XMLDOM'),c.async='false',c.loadXML(a))}catch(k){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName('parsererror').length||b.error('Invalid XML: '+a),c};var Ud=/#.*$/,od=/([?&])_=[^&]*/,Vd=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Wd=/^(?:GET|HEAD)$/,Xd=/^\/\//,pd=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,qd={},Vc={},rd='*/'.concat('*'),
fd=Sd.href,Jc=pd.exec(fd.toLowerCase())||[];b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fd,type:'GET',isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Jc[1]),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{'*':rd,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',json:'application/json, text/javascript'},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:'responseXML',
text:'responseText',json:'responseJSON'},converters:{'* text':String,'text html':!0,'text json':b.parseJSON,'text xml':b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,c){return c?gb(gb(a,b.ajaxSettings),c):gb(b.ajaxSettings,a)},ajaxPrefilter:pb(qd),ajaxTransport:pb(Vc),ajax:function(a,c){function e(Bb,Ob,Rb,tb){var jc,fc,Tb,ec=Ob;if(2!==lc){lc=2;I&&A.clearTimeout(I);qa=void 0;B=tb||'';vb.readyState=0<Bb?4:0;tb=200<=Bb&&300>Bb||304===Bb;if(Rb){var Sb=sa;for(var oc=vb,Ab,ac,Wb,Qb,
Hc=Sb.contents,pc=Sb.dataTypes;'*'===pc[0];)pc.shift(),void 0===ac&&(ac=Sb.mimeType||oc.getResponseHeader('Content-Type'));if(ac)for(Qb in Hc)if(Hc[Qb]&&Hc[Qb].test(ac)){pc.unshift(Qb);break}if(pc[0]in Rb)Wb=pc[0];else{for(Qb in Rb){if(!pc[0]||Sb.converters[Qb+' '+pc[0]]){Wb=Qb;break}Ab||=Qb}Wb=Wb||Ab}Sb=Wb?(Wb!==pc[0]&&pc.unshift(Wb),Rb[Wb]):void 0}a:{Rb=sa;Ab=Sb;ac=vb;Wb=tb;var bc,uc,vc;Sb={};oc=Rb.dataTypes.slice();if(oc[1])for(bc in Rb.converters)Sb[bc.toLowerCase()]=Rb.converters[bc];for(Qb=
oc.shift();Qb;)if(Rb.responseFields[Qb]&&(ac[Rb.responseFields[Qb]]=Ab),!vc&&Wb&&Rb.dataFilter&&(Ab=Rb.dataFilter(Ab,Rb.dataType)),vc=Qb,Qb=oc.shift())if('*'===Qb)Qb=vc;else if('*'!==vc&&vc!==Qb){if(bc=Sb[vc+' '+Qb]||Sb['* '+Qb],!bc)for(mc in Sb)if(uc=mc.split(' '),uc[1]===Qb&&(bc=Sb[vc+' '+uc[0]]||Sb['* '+uc[0]])){!0===bc?bc=Sb[mc]:!0!==Sb[mc]&&(Qb=uc[0],oc.unshift(uc[1]));break}if(!0!==bc)if(bc&&Rb['throws'])Ab=bc(Ab);else try{Ab=bc(Ab)}catch(Yc){var mc={state:'parsererror',error:bc?Yc:'No conversion from '+
vc+' to '+Qb};break a}}mc={state:'success',data:Ab}}Sb=mc;tb?(sa.ifModified&&(Tb=vb.getResponseHeader('Last-Modified'),Tb&&(b.lastModified[hc]=Tb),Tb=vb.getResponseHeader('etag'),Tb&&(b.etag[hc]=Tb)),204===Bb||'HEAD'===sa.type?ec='nocontent':304===Bb?ec='notmodified':(ec=Sb.state,jc=Sb.data,fc=Sb.error,tb=!fc)):(fc=ec,!Bb&&ec||(ec='error',0>Bb&&(Bb=0)));vb.status=Bb;vb.statusText=(Ob||ec)+'';tb?yb.resolveWith(Sa,[jc,ec,vb]):yb.rejectWith(Sa,[vb,ec,fc]);vb.statusCode(Hb);Hb=void 0;Y&&Va.trigger(tb?
'ajaxSuccess':'ajaxError',[vb,sa,tb?jc:fc]);bb.fireWith(Sa,[vb,ec]);Y&&(Va.trigger('ajaxComplete',[vb,sa]),--b.active||b.event.trigger('ajaxStop'))}}'object'==typeof a&&(c=a,a=void 0);c=c||{};var k,n,B,I,Y,qa,Ba,sa=b.ajaxSetup({},c),Sa=sa.context||sa,Va=sa.context&&(Sa.nodeType||Sa.jquery)?b(Sa):b.event,yb=b.Deferred(),bb=b.Callbacks('once memory'),Hb=sa.statusCode||{},kc={},Gc={},lc=0,wc='canceled',vb={readyState:0,getResponseHeader:function(Bb){var Ob;if(2===lc){if(!Ba)for(Ba={};Ob=Vd.exec(B);)Ba[Ob[1].toLowerCase()]=
Ob[2];Ob=Ba[Bb.toLowerCase()]}return null==Ob?null:Ob},getAllResponseHeaders:function(){return 2===lc?B:null},setRequestHeader:function(Bb,Ob){var Rb=Bb.toLowerCase();return lc||(Bb=Gc[Rb]=Gc[Rb]||Bb,kc[Bb]=Ob),this},overrideMimeType:function(Bb){return lc||(sa.mimeType=Bb),this},statusCode:function(Bb){var Ob;if(Bb)if(2>lc)for(Ob in Bb)Hb[Ob]=[Hb[Ob],Bb[Ob]];else vb.always(Bb[vb.status]);return this},abort:function(Bb){Bb=Bb||wc;return qa&&qa.abort(Bb),e(0,Bb),this}};if(yb.promise(vb).complete=bb.add,
vb.success=vb.done,vb.error=vb.fail,sa.url=((a||sa.url||fd)+'').replace(Ud,'').replace(Xd,Jc[1]+'//'),sa.type=c.method||c.type||sa.method||sa.type,sa.dataTypes=b.trim(sa.dataType||'*').toLowerCase().match(Ga)||[''],null==sa.crossDomain&&(k=pd.exec(sa.url.toLowerCase()),sa.crossDomain=!(!k||k[1]===Jc[1]&&k[2]===Jc[2]&&(k[3]||('http:'===k[1]?'80':'443'))===(Jc[3]||('http:'===Jc[1]?'80':'443')))),sa.data&&sa.processData&&'string'!=typeof sa.data&&(sa.data=b.param(sa.data,sa.traditional)),ab(qd,sa,c,
vb),2===lc)return vb;(Y=b.event&&sa.global)&&0===b.active++&&b.event.trigger('ajaxStart');sa.type=sa.type.toUpperCase();sa.hasContent=!Wd.test(sa.type);var hc=sa.url;sa.hasContent||(sa.data&&(hc=sa.url+=(ed.test(hc)?'&':'?')+sa.data,delete sa.data),!1===sa.cache&&(sa.url=od.test(hc)?hc.replace(od,'$1_='+dd++):hc+(ed.test(hc)?'&':'?')+'_='+dd++));sa.ifModified&&(b.lastModified[hc]&&vb.setRequestHeader('If-Modified-Since',b.lastModified[hc]),b.etag[hc]&&vb.setRequestHeader('If-None-Match',b.etag[hc]));
(sa.data&&sa.hasContent&&!1!==sa.contentType||c.contentType)&&vb.setRequestHeader('Content-Type',sa.contentType);vb.setRequestHeader('Accept',sa.dataTypes[0]&&sa.accepts[sa.dataTypes[0]]?sa.accepts[sa.dataTypes[0]]+('*'!==sa.dataTypes[0]?', '+rd+'; q=0.01':''):sa.accepts['*']);for(n in sa.headers)vb.setRequestHeader(n,sa.headers[n]);if(sa.beforeSend&&(!1===sa.beforeSend.call(Sa,vb,sa)||2===lc))return vb.abort();wc='abort';for(n in{success:1,error:1,complete:1})vb[n](sa[n]);if(qa=ab(Vc,sa,c,vb)){if(vb.readyState=
1,Y&&Va.trigger('ajaxSend',[vb,sa]),2===lc)return vb;sa.async&&0<sa.timeout&&(I=A.setTimeout(function(){vb.abort('timeout')},sa.timeout));try{lc=1,qa.send(kc,e)}catch(Bb){if(!(2>lc))throw Bb;e(-1,Bb)}}else e(-1,'No Transport');return vb},getJSON:function(a,c,e){return b.get(a,c,e,'json')},getScript:function(a,c){return b.get(a,void 0,c,'script')}});b.each(['get','post'],function(a,c){b[c]=function(e,k,n,B){return b.isFunction(k)&&(B=B||n,n=k,k=void 0),b.ajax(b.extend({url:e,type:c,dataType:B,data:k,
success:n},b.isPlainObject(e)&&e))}});b._evalUrl=function(a){return b.ajax({url:a,type:'GET',dataType:'script',cache:!0,async:!1,global:!1,'throws':!0})};b.fn.extend({wrapAll:function(a){if(b.isFunction(a))return this.each(function(e){b(this).wrapAll(a.call(this,e))});if(this[0]){var c=b(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(a){return b.isFunction(a)?
this.each(function(c){b(this).wrapInner(a.call(this,c))}):this.each(function(){var c=b(this),e=c.contents();e.length?e.wrapAll(a):c.append(a)})},wrap:function(a){var c=b.isFunction(a);return this.each(function(e){b(this).wrapAll(c?a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,'body')||b(this).replaceWith(this.childNodes)}).end()}});b.expr.filters.hidden=function(a){return h.reliableHiddenOffsets()?0>=a.offsetWidth&&0>=a.offsetHeight&&!a.getClientRects().length:
Ub(a)};b.expr.filters.visible=function(a){return!b.expr.filters.hidden(a)};var Yd=/%20/g,wd=/\[\]$/,sd=/\r?\n/g,Zd=/^(?:submit|button|image|reset|file)$/i,$d=/^(?:input|select|textarea|keygen)/i;b.param=function(a,c){var e,k=[],n=function(B,I){I=b.isFunction(I)?I():null==I?'':I;k[k.length]=encodeURIComponent(B)+'='+encodeURIComponent(I)};if(void 0===c&&(c=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(a)||a.jquery&&!b.isPlainObject(a))b.each(a,function(){n(this.name,this.value)});else for(e in a)Zb(e,
a[e],c,n);return k.join('&').replace(Yd,'+')};b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=b.prop(this,'elements');return a?b.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!b(this).is(':disabled')&&$d.test(this.nodeName)&&!Zd.test(a)&&(this.checked||!X.test(a))}).map(function(a,c){a=b(this).val();return null==a?null:b.isArray(a)?b.map(a,function(e){return{name:c.name,value:e.replace(sd,
'\r\n')}}):{name:c.name,value:a.replace(sd,'\r\n')}}).get()}});b.ajaxSettings.xhr=void 0!==A.ActiveXObject?function(){return this.isLocal?Db():8<Ka.documentMode?jb():/^(get|post|head|put|delete|options)$/i.test(this.type)&&jb()||Db()}:jb;var ae=0,Tc={},Uc=b.ajaxSettings.xhr();A.attachEvent&&A.attachEvent('onunload',function(){for(var a in Tc)Tc[a](void 0,!0)});h.cors=!!Uc&&'withCredentials'in Uc;(Uc=h.ajax=!!Uc)&&b.ajaxTransport(function(a){if(!a.crossDomain||h.cors){var c;return{send:function(e,
k){var n,B=a.xhr(),I=++ae;if(B.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(n in a.xhrFields)B[n]=a.xhrFields[n];a.mimeType&&B.overrideMimeType&&B.overrideMimeType(a.mimeType);a.crossDomain||e['X-Requested-With']||(e['X-Requested-With']='XMLHttpRequest');for(n in e)void 0!==e[n]&&B.setRequestHeader(n,e[n]+'');B.send(a.hasContent&&a.data||null);c=function(Y,qa){if(c&&(qa||4===B.readyState))if(delete Tc[I],c=void 0,B.onreadystatechange=b.noop,qa)4!==B.readyState&&B.abort();else{var Ba=
{};var sa=B.status;'string'==typeof B.responseText&&(Ba.text=B.responseText);try{var Sa=B.statusText}catch(Va){Sa=''}sa||!a.isLocal||a.crossDomain?1223===sa&&(sa=204):sa=Ba.text?200:404}Ba&&k(sa,Sa,Ba,B.getAllResponseHeaders())};a.async?4===B.readyState?A.setTimeout(c):B.onreadystatechange=Tc[I]=c:c()},abort:function(){c&&c(void 0,!0)}}}});b.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/\b(?:java|ecma)script\b/},
converters:{'text script':function(a){return b.globalEval(a),a}}});b.ajaxPrefilter('script',function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type='GET',a.global=!1)});b.ajaxTransport('script',function(a){if(a.crossDomain){var c,e=Ka.head||b('head')[0]||Ka.documentElement;return{send:function(k,n){c=Ka.createElement('script');c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(B,I){(I||!c.readyState||/loaded|complete/.test(c.readyState))&&
(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,I||n(200,'success'))};e.insertBefore(c,e.firstChild)},abort:function(){c&&c.onload(void 0,!0)}}}});var td=[],gd=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:'callback',jsonpCallback:function(){var a=td.pop()||b.expando+'_'+dd++;return this[a]=!0,a}});b.ajaxPrefilter('json jsonp',function(a,c,e){var k,n,B,I=!1!==a.jsonp&&(gd.test(a.url)?'url':'string'==typeof a.data&&0===(a.contentType||'').indexOf('application/x-www-form-urlencoded')&&
gd.test(a.data)&&'data');return I||'jsonp'===a.dataTypes[0]?(k=a.jsonpCallback=b.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,I?a[I]=a[I].replace(gd,'$1'+k):!1!==a.jsonp&&(a.url+=(ed.test(a.url)?'&':'?')+a.jsonp+'='+k),a.converters['script json']=function(){return B||b.error(k+' was not called'),B[0]},a.dataTypes[0]='json',n=A[k],A[k]=function(){B=arguments},e.always(function(){void 0===n?b(A).removeProp(k):A[k]=n;a[k]&&(a.jsonpCallback=c.jsonpCallback,td.push(k));B&&b.isFunction(n)&&
n(B[0]);B=n=void 0}),'script'):void 0});b.parseHTML=function(a,c,e){if(!a||'string'!=typeof a)return null;'boolean'==typeof c&&(e=c,c=!1);c=c||Ka;var k=fa.exec(a);e=!e&&[];return k?[c.createElement(k[1])]:(k=C([a],c,e),e&&e.length&&b(e).remove(),b.merge([],k.childNodes))};var ud=b.fn.load;b.fn.load=function(a,c,e){if('string'!=typeof a&&ud)return ud.apply(this,arguments);var k,n,B,I=this,Y=a.indexOf(' ');return-1<Y&&(k=b.trim(a.slice(Y,a.length)),a=a.slice(0,Y)),b.isFunction(c)?(e=c,c=void 0):c&&
'object'==typeof c&&(n='POST'),0<I.length&&b.ajax({url:a,type:n||'GET',dataType:'html',data:c}).done(function(qa){B=arguments;I.html(k?b('<div>').append(b.parseHTML(qa)).find(k):qa)}).always(e&&function(qa,Ba){I.each(function(){e.apply(this,B||[qa.responseText,Ba,qa])})}),this};b.each('ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend'.split(' '),function(a,c){b.fn[c]=function(e){return this.on(c,e)}});b.expr.filters.animated=function(a){return b.grep(b.timers,function(c){return a===
c.elem}).length};b.offset={setOffset:function(a,c,e){var k,n,B,I=b.css(a,'position'),Y=b(a),qa={};'static'===I&&(a.style.position='relative');var Ba=Y.offset();var sa=b.css(a,'top');var Sa=b.css(a,'left');('absolute'===I||'fixed'===I)&&-1<b.inArray('auto',[sa,Sa])?(k=Y.position(),B=k.top,n=k.left):(B=parseFloat(sa)||0,n=parseFloat(Sa)||0);b.isFunction(c)&&(c=c.call(a,e,b.extend({},Ba)));null!=c.top&&(qa.top=c.top-Ba.top+B);null!=c.left&&(qa.left=c.left-Ba.left+n);'using'in c?c.using.call(a,qa):Y.css(qa)}};
b.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(I){b.offset.setOffset(this,a,I)});var c,e,k={top:0,left:0},n=this[0],B=n&&n.ownerDocument;if(B)return c=B.documentElement,b.contains(c,n)?('undefined'!=typeof n.getBoundingClientRect&&(k=n.getBoundingClientRect()),e=rb(B),{top:k.top+(e.pageYOffset||c.scrollTop)-(c.clientTop||0),left:k.left+(e.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):k},position:function(){if(this[0]){var a,c,e={top:0,left:0},k=this[0];
return'fixed'===b.css(k,'position')?c=k.getBoundingClientRect():(a=this.offsetParent(),c=this.offset(),b.nodeName(a[0],'html')||(e=a.offset()),e.top+=b.css(a[0],'borderTopWidth',!0),e.left+=b.css(a[0],'borderLeftWidth',!0)),{top:c.top-e.top-b.css(k,'marginTop',!0),left:c.left-e.left-b.css(k,'marginLeft',!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&!b.nodeName(a,'html')&&'static'===b.css(a,'position');)a=a.offsetParent;return a||Qc})}});b.each({scrollLeft:'pageXOffset',
scrollTop:'pageYOffset'},function(a,c){var e=/Y/.test(c);b.fn[a]=function(k){return ca(this,function(n,B,I){var Y=rb(n);return void 0===I?Y?c in Y?Y[c]:Y.document.documentElement[B]:n[B]:void(Y?Y.scrollTo(e?b(Y).scrollLeft():I,e?I:b(Y).scrollTop()):n[B]=I)},a,k,arguments.length,null)}});b.each(['top','left'],function(a,c){b.cssHooks[c]=la(h.pixelPosition,function(e,k){return k?(k=sc(e,c),nc.test(k)?b(e).position()[c]+'px':k):void 0})});b.each({Height:'height',Width:'width'},function(a,c){b.each({padding:'inner'+
a,content:c,'':'outer'+a},function(e,k){b.fn[k]=function(n,B){var I=arguments.length&&(e||'boolean'!=typeof n),Y=e||(!0===n||!0===B?'margin':'border');return ca(this,function(qa,Ba,sa){var Sa;return b.isWindow(qa)?qa.document.documentElement['client'+a]:9===qa.nodeType?(Sa=qa.documentElement,Math.max(qa.body['scroll'+a],Sa['scroll'+a],qa.body['offset'+a],Sa['offset'+a],Sa['client'+a])):void 0===sa?b.css(qa,Ba,Y):b.style(qa,Ba,sa,Y)},c,I?n:void 0,I,null)}})});b.fn.extend({bind:function(a,c,e){return this.on(a,
null,c,e)},unbind:function(a,c){return this.off(a,null,c)},delegate:function(a,c,e,k){return this.on(c,a,e,k)},undelegate:function(a,c,e){return 1===arguments.length?this.off(a,'**'):this.off(c,a||'**',e)}});b.fn.size=function(){return this.length};b.fn.andSelf=b.fn.addBack;'function'==typeof define&&define.amd&&define('jquery',[],function(){return b});var be=A.jQuery,ce=A.$;return b.noConflict=function(a){return A.$===b&&(A.$=ce),a&&A.jQuery===b&&(A.jQuery=be),b},P||(A.jQuery=A.$=b),b});
if('undefined'!==typeof module&&module.exports)var lib=require('../../index');
function Collection(A,P){var V='undefined'!==typeof module&&module.exports?!1:!0,na=V?require('vendor/uuid'):require('uuid'),U=V?require('lib/merge'):require('../../../lib/merge'),M={isCaseSensitive:{false:{re:'^%s$',modifiers:'i'},true:{re:'^%s$'}}},ba=!1,Q=!1,S=null;V={useLocalStorage:!1,locale:'en',searchOptionRules:M};P='object'==typeof P?U(P,V):V;var u=['not null'],G=function(D){try{return eval(D)}catch(C){throw Error('Could not evaluate condition `'+D+'`.\n'+C.stack);}};if('undefined'==typeof A||
''==A||null==A)A=[];if(!Array.isArray(A))throw Error('`new Collection([content] [, options] )`: `content` argument must be an Array !');A=A?JSON.clone(A):[];for(var r=[],ea=V=0,Ea=A.length;ea<Ea;++ea)A[ea]||(A[ea]={}),A[ea]._uuid=na.v4(),r[V]=A[ea]._uuid,++V;var N=A;N.setSearchOption=function(){if(!arguments.length)throw Error('searchOption cannot be left blank');if(3<arguments.length||3>arguments.length&&1<arguments.length)throw Error('argument length mismatch');var D=0,C=arguments.length;if(1==
arguments.length){if('object'!=typeof arguments[0])throw Error('searchOption must be an object');for(var m in arguments[0])if('undefined'==typeof M[m])throw Error(arguments[1]+' is not an allowed searchOption !');S=arguments[0]}else for(S||={};D<C;++D){if('undefined'==typeof M[arguments[1]])throw Error(arguments[1]+' is not an allowed searchOption !');'undefined'==typeof S[arguments[0]]&&(S[arguments[0]]={});/true|false/i.test(arguments[2])?S[arguments[0]][arguments[1]]=/true/i.test(arguments[2])?
!0:!1:S[arguments[0]][arguments[1]]=arguments[2]}return N};N.find=function(){ba=!1;'boolean'==typeof arguments[arguments.length-1]&&(ba=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);var D=null,C=null,m=null;try{D=JSON.stringify(arguments),C=JSON.parse(D),m=C.count()}catch(ma){throw Error('filter must be an object\n'+ma.stack);}if('undefined'!=typeof C&&0<m){1<m&&(ba=!0);m=D=null;var z=0,y=Array.isArray(this)?this:JSON.clone(A),H=[],v='',w=null,F=S,J=P.searchOptionRules,
T=null,ta=[],Fa=function(ma,ua,Ca,Qa,La){if(null===ma&&null===Ca)++Qa;else if(ma&&-1<u.indexOf(v)&&'not null'==v&&'undefined'!=typeof Ca&&'object'!==typeof Ca&&'null'!=Ca&&'undefined'!=Ca)0>H.indexOf(Ca)&&++Qa;else if('undefined'!=typeof Ca&&'object'!==typeof Ca&&/(<|>|=)/.test(ma)&&!/undefined|function/.test(typeof Ca))ua=ma,La=Ca+ma,'string'==typeof ma&&'string'==typeof Ca&&(La=ma.replace(/^(<=|>=|!==|!=|===|!==)/g,''),'string'!=typeof Ca||/^"(.*)"$/.test(La)||(ma=ma.replace(La,'"'+La+'"')),La=
'"'+Ca+'"'+ma,ma=ua),/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Ca)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(ma)?G(Ca.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+ma.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Qa:G(La)&&++Qa;else if('undefined'!=typeof Ca&&'object'!==typeof Ca&&Ca===ma&&!F||'undefined'!=typeof Ca&&'object'!==typeof Ca&&Ca===ma&&'undefined'==typeof F[ua])++Qa;
else if('undefined'!=typeof Ca&&'object'!==typeof Ca&&F&&'undefined'!=typeof F[ua]){var Da=0;var Na=F[ua].count();for(var Ia in F[ua])La[Ia][F[ua][Ia]].re=La[Ia][F[ua][Ia]].re.replace(/%s/,ma),w=La[Ia][F[ua][Ia]].modifiers?new RegExp(La[Ia][F[ua][Ia]].re,La[Ia][F[ua][Ia]].modifiers):new RegExp(La[Ia][F[ua][Ia]].re),w.test(Ca)&&++Da;Da==Na&&++Qa}return{matched:Qa}},W=function(ma,ua,Ca,Qa){var La=ua.split(/\./g);La=La[La.length-1];w=new RegExp('("'+La+'":\\w+)');La=null;try{Ca&&(La=eval('_content.'+
ua))}catch(Da){}La&&(Array.isArray(La)?La=La[1].split(/:/)[1]:'string'==typeof La&&/:/.test(La)&&(La=La.split(/:/)[1]),/(<|>|=)/.test(ma)?/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(La)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(ma)?G(La.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+ma.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Qa:G(La+ma)&&++Qa:La==ma&&++Qa);return{matched:Qa}},
la=function(ma,ua,Ca,Qa,La){ua=ua.split(/\[\*\]/g);La=ua[0].replace(/\[\*\]/,'');Ca=Ca[La];ua=ua[1];/^\./.test(ua)&&(ua=ua.substr(1));La=0;if(Ca)for(var Da=0,Na=Ca.length;Da<Na&&!(ta=/\./.test(ua)?W(ma,ua,Ca[Da],La):Fa(ma,ua,Ca[Da],La,J),La=ta.matched,0<La);++Da);return{matched:Qa+La}},ia;for(ia in y)if(y[ia]||(y[ia]={}),!/undefined|function/.test(typeof y[ia]))for(let ma=0,ua=C.count();ma<ua;++ma){D=C[ma];m=D.count();T=0;for(var xa in D){if('undefined'==typeof D[xa])throw Error('filter `'+xa+'` cannot be left undefined');
v=null===D[xa]||/(boolean|number)/.test(typeof D[xa])?D[xa]:D[xa].toLocaleLowerCase();ta=/\./.test(xa)?/\[\*\]/.test(xa)?la(D[xa],xa,y[ia],T,0):W(D[xa],xa,y[ia],T):Fa(D[xa],xa,y[ia][xa],T,J);T=ta.matched}if(T==m)if(ba&&Q&&0>r.indexOf(y[ia]._uuid)||Q||!ba){if(!ba||ba&&0>H.indexOf(y[ia]._uuid)||Q)H[z]=y[ia],++z}else ba&&!Q&&0>H.indexOf(y[ia]._uuid)&&(H[z]=y[ia],++z)}}else H=A;S=null;H.insert=N.insert;H.notIn=N.notIn;H.find=this.find;H.update=N.update;H.replace=N.replace;H.or=N.or;H.findOne=N.findOne;
H.limit=N.limit;H.orderBy=N.orderBy;H.delete=N.delete;H.toRaw=N.toRaw;H.filter=N.filter;return H};N.findOne=function(){var D=null;'string'==typeof arguments[arguments.length-1]&&(delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(D=arguments);if('undefined'==typeof D||!D||'object'!=typeof D)throw Error('[ Collection ][ findOne ] `filters` argument must be defined: Array or Filter Object(s) expected');D=null;var C=Array.isArray(arguments[0])?arguments[0]:N.find.apply(this,
arguments)||[];0<C.length&&(D=C.limit(1).toRaw()[0]);return D};N.or=function(){arguments[arguments.length]=!0;++arguments.length;return N.find.apply(this,arguments)};N.limit=function(D){if('undefined'==typeof D||'number'!=typeof D)throw Error('[Collection::result->limit(resultLimit)] : `resultLimit` parametter must by a `number`');var C=Array.isArray(this)?this:JSON.clone(A);C=C.splice(0,D);C.insert=N.insert;C.update=N.update;C.replace=N.replace;C.notIn=N.notIn;C.findOne=N.findOne;C.orderBy=N.orderBy;
C.max=N.max;C.delete=N.delete;C.toRaw=N.toRaw;C.filter=N.filter;return C};N.notIn=function(){var D=null,C=null,m=!0;'string'==typeof arguments[arguments.length-1]&&(D=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'boolean'==typeof arguments[arguments.length-1]&&(m=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(C=arguments);if('undefined'==typeof C||!C||'object'!=typeof C)throw Error('[ Collection ][ notIn ] `filters` argument must be defined: Array or Filter Object(s) expected');
var z=JSON.clone(Array.isArray(this)?this:A);if(Array.isArray(arguments[0]))var y=arguments[0];else Q=!0,y=N.find.apply(this,arguments)||[],Q=!1;if(0<y.length){if(m&&D&&'undefined'==typeof y[0]&&'undefined'==typeof y[0][D])throw Error('[ Collection ][ notIn ] `key` not valid');m&&!D&&'undefined'!=typeof y[0]._uuid?D='_uuid':'undefined'!=typeof y[0].id&&(D='id');if(!D||'undefined'==typeof y[0][D])throw Error('No comparison key defined !');var H=0,v=y.length,w=0,F,J=C.count(),T;if(m&&'undefined'!=typeof z[w]&&
z[w].hasOwnProperty(D))for(;H<v&&z.length;++H)for(w=0,m=z.length;w<m;++w){if('undefined'!=typeof z[w]&&'undefined'!=typeof y[H]&&z[w][D]===y[H][D]){z.splice(w,1);break}}else if('undefined'==typeof z[w])z=JSON.clone(y);else for(;H<v&&z.length;++H)for(w=0,m=z.length;w<m;++w)if('undefined'!=typeof z[w]){for(F=T=0;F<J;++F){if('undefined'==typeof C[F])throw Error('filter `'+F+'` cannot be left undefined');var ta=C[F].count();var Fa=0;for(D in C[F])z[w].hasOwnProperty(D)&&z[w][D]===y[H][D]&&++Fa;Fa==ta&&
++T}if(T){z.splice(w,1);break}}}D=z;D.notIn=N.notIn;D.limit=N.limit;D.find=N.find;D.findOne=N.findOne;D.insert=N.insert;D.replace=N.replace;D.update=N.update;D.orderBy=N.orderBy;D.max=N.max;D.delete=N.delete;D.toRaw=N.toRaw;D.filter=N.filter;return D};N.insert=function(D){if('object'!==typeof D)throw Error('filter must be an object');var C=Array.isArray(this)?this:A;D._uuid=na.v4();C.push(D);C.limit=N.limit;C.find=N.find;C.findOne=N.findOne;C.update=N.update;C.replace=N.replace;C.orderBy=N.orderBy;
C.max=N.max;C.notIn=N.notIn;C.delete=N.delete;C.toRaw=N.toRaw;C.filter=N.filter;return C};N.update=function(){var D='_uuid',C,m=C=null;'string'==typeof arguments[arguments.length-1]&&(D=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(m=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(C=arguments);if('undefined'==typeof C||!C||'object'!=typeof C)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');
if('undefined'==typeof m||!m||'object'!=typeof m)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var z=Array.isArray(arguments[0])?arguments[0]:N.find.apply(this,arguments)||[];C=Array.isArray(this)?this:JSON.clone(A);if(0<z.length){z=z.toRaw();for(var y=0,H=z.length;y<H;++y){z[y]=U(JSON.clone(m),z[y]);for(var v=0,w=C.length;v<w;++v)if('undefined'==typeof C[v][D]&&'_uuid'==D&&'undefined'!=typeof C[v].id&&(D='id'),C[v][D]==z[y][D]){C[v]=z[y];break}}}C.limit=
N.limit;C.find=N.find;C.findOne=N.findOne;C.insert=N.insert;C.update=N.update;C.replace=N.replace;C.orderBy=N.orderBy;C.max=N.max;C.notIn=N.notIn;C.delete=N.delete;C.toRaw=N.toRaw;C.filter=N.filter;return C};N.replace=function(){var D='_uuid',C,m=C=null;'string'==typeof arguments[arguments.length-1]&&(D=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(m=arguments[arguments.length-1],delete arguments[arguments.length-
1],--arguments.length);0<arguments.length&&(C=arguments);if('undefined'==typeof C||!C||'object'!=typeof C)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');if('undefined'==typeof m||!m||'object'!=typeof m)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var z=Array.isArray(arguments[0])?arguments[0]:N.find.apply(this,arguments)||[];C=Array.isArray(this)?this:JSON.clone(A);if(0<z.length){z=z.toRaw();
for(var y=0,H=z.length;y<H;++y){z[y]=JSON.clone(m);for(var v=0,w=C.length;v<w;++v){if('undefined'==typeof C[v][D]&&'_uuid'==D&&'undefined'!=typeof C[v].id)D='id';else if('undefined'==typeof C[v][D]&&'_uuid'==D)throw Error('No comparison key defined !');if(C[v][D]==z[y][D]){C[v]=z[y];break}}}}C.limit=N.limit;C.find=N.find;C.findOne=N.findOne;C.insert=N.insert;C.update=N.update;C.replace=N.replace;C.orderBy=N.orderBy;C.max=N.max;C.notIn=N.notIn;C.delete=N.delete;C.toRaw=N.toRaw;C.filter=N.filter;return C};
N['delete']=function(){var D=N.notIn.apply(this,arguments);D.limit=N.limit;D.find=N.find;D.findOne=N.findOne;D.insert=N.insert;D.update=N.update;D.replace=N.replace;D.orderBy=N.orderBy;D.max=N.max;D.notIn=N.notIn;D.toRaw=N.toRaw;D.filter=N.filter;D.delete=this.delete;return D};N.orderBy=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->orderBy(filter) ] where `filter` must not be empty or null');if(1==arguments.length)var D=arguments[0];else{D=Array(arguments.length);
for(var C=0,m=D.length;C<m;++C)D[C]=arguments[C]}C=Array.isArray(this)?this:JSON.clone(A);return O(D,C.toRaw())};N.max=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->max(filter) ] where `filter` must not be empty or null');if(1<arguments.length||Array.isArray(arguments[0])||'object'==typeof arguments[0]&&1<arguments[0].count())throw Error('[ Collection->max(filter) ] only accept one filter length, and fileter count must be equal to 1');var D=arguments[0];
try{var C=Object.keys(D)[0],m={};m[C]='desc';return N.find(D).orderBy(m).limit(1)[0][C]}catch(z){throw z;}};var O=function(D,C){if('object'!=typeof D)throw Error('`filter` parametter must be an object or an array');var m={},z=null,y=null,H=z=null;z=[];if(0==D.count())return null;m.asc=function(v,w){var F=w.map(function(J,T){var ta={};ta.index=T;ta[v]=J[v];return ta});F.sort(function(J,T){var ta=function(Fa,W){/^(true|false)$/i.test(Fa)&&(Fa=/true/i.test(Fa)?1:0);/^(true|false)$/i.test(W)&&(W=/true/i.test(W)?
1:0);return'string'==typeof Fa&&''!=Fa||'string'==typeof W?('number'==typeof Fa&&(Fa=''+Fa),'number'==typeof W&&(W=''+W),Fa.localeCompare(W,void 0,{sensitivity:'case',caseFirst:'upper'})):Fa>W?1:Fa<W?-1:0};return'object'==typeof J?ta(J[v],T[v]):ta(J,T)});return F.map(function(J,T,ta){return w[J.index]})};m.desc=function(v,w){return m.asc(v,w).reverse()};z=function(v,w){var F=[],J=[];if(Array.isArray(w))for(var T=0,ta=w.length;T<ta;++T)F[T]=Object.keys(w[T])[0],J[T]=w[T][F[T]];else for(ta in T=0,w)F[T]=
ta,J[T]=w[ta],++T;y=function(Fa,W,la,ia,xa){var ma='desc'==ia[xa]?1:0,ua,Ca=ua=null;return'string'==typeof Fa[la[xa]]&&''!=Fa[la[xa]]?(ua=Fa[la[xa]].localeCompare(W[la[xa]]),0==ma&&0!=ua?0>ua?-1:1:0!=ua?0>ua?1:-1:la.length-1>xa?y(Fa,W,la,ia,xa+1):0):'number'==typeof Fa[la[xa]]||'number'==typeof W[la[xa]]?(ua=(''+Fa[la[xa]]).localeCompare(''+W[la[xa]],void 0,{numeric:!0}),0==ma&&0!=ua?0>ua?-1:1:0!=ua?0>ua?1:-1:la.length-1>xa?y(Fa,W,la,ia,xa+1):0):'boolean'==typeof Fa[la[xa]]||'boolean'==typeof W[la[xa]]?
('boolean'==typeof Fa[la[xa]]&&(ua=Fa[la[xa]]?1:0),'boolean'==typeof W[la[xa]]&&(Ca=W[la[xa]]?1:0),ua>Ca?0==ma?1:-1:ua<Ca?0==ma?-1:1:la.length-1>xa?y(Fa,W,la,ia,xa+1):0):Fa[la[xa]]>W[la[xa]]?0==ma?1:-1:Fa[la[xa]]<W[la[xa]]?0==ma?-1:1:la.length-1>xa?y(Fa,W,la,ia,xa+1):0};return v.sort(function(Fa,W){return y(Fa,W,F,J,0)})};Array.isArray(D)||1<D.count()?z=z(C,D):(H=Object.keys(D)[0],z=D[H],z=m[z](H,C));z.find=N.find;z.findOne=N.findOne;z.limit=N.limit;z.notIn=N.notIn;z.insert=N.insert;z.update=N.update;
z.replace=N.replace;z.delete=N.delete;z.orderBy=N.orderBy;z.max=N.max;z.toRaw=N.toRaw;z.filter=N.filter;return z};N.toRaw=function(){for(var D=Array.isArray(this)?this:A,C=0,m=D.length;C<m;++C)D[C]._uuid&&delete D[C]._uuid;return JSON.clone(D)};N.filter=function(D){if('undefined'==typeof D)throw Error('`filter` parametter must be a string or an array.');var C=Array.isArray(this)?this:A;if(!C.length)return[];var m=0,z=C.length,y=[],H=0;if(Array.isArray(D))for(var v,w=D.length,F;m<z;++m){F=!1;for(v=
0;v<w;++v)'undefined'!=typeof C[m][D[v]]&&('undefined'==typeof y[H]&&(y[H]={}),y[H][D[v]]=C[m][D[v]],F=!0);F&&++H}else for(;m<z;++m)'undefined'!=typeof C[m][D]&&('undefined'==typeof y[H]&&(y[H]={}),y[H][D]=C[m][D],++H);return JSON.clone(y)};return N}'undefined'!==typeof module&&module.exports?module.exports=Collection:'function'===typeof define&&define.amd&&define('lib/collection',[],function(){return Collection});
function FormValidatorUtil(A,P,V,na){var U='undefined'!==typeof module&&module.exports?!1:!0,M=U?require('lib/merge'):require('../../../../../lib/merge');U||require('../../../../../helpers');U&&require('helpers/dateFormat');var ba=U?require('lib/routing'):require('../../../../../lib/routing'),Q=function(){var m=!1,z=null;U?U&&'undefined'!=typeof gina.forms&&(z=gina.forms):z=getContext('gina').forms||null;z&&'undefined'!=typeof z.validators&&(m=!0);return m},S={errors:{},keys:{'%l':'label','%n':'name',
'%s':'size'},data:{},excluded:[],errorLabels:{is:'Condition not satisfied',isEmail:'A valid email is required',isRequired:'Cannot be left empty',isBoolean:'Must be a valid boolean',isNumber:'Must be a number: allowed values are integers or floats',isNumberLength:'Must contain %s characters',isNumberMinLength:'Should be at least %s characters',isNumberMaxLength:'Should not be more than %s characters',isInteger:'Must be an integer',isIntegerLength:'Must have %s characters',isIntegerMinLength:'Should be at least %s characters',
isIntegerMaxLength:'Should not be more than %s characters',toInteger:'Could not be converted to integer',isFloat:'Must be a proper float',isFloatException:'Float exception found: %n',toFloat:'Could not be converted to float',toFloatNAN:'Value must be a valid number',isDate:'Must be a valid Date',isString:'Must be a string',isStringLength:'Must have %s characters',isStringMinLength:'Should be at least %s characters',isStringMaxLength:'Should not be more than %s characters',isJsonWebToken:'Must be a valid JSON Web Token',
query:'Must be a valid response',isApiError:'Condition not satisfied'}},u=null;if(A)u=M(JSON.clone(A),u),S.data=M(JSON.clone(A),S.data);else throw Error('missing data param');var G=function(m,z){var y=null;for(let H in na)if(na[H].name===z){y=(new DOMParser).parseFromString(m.innerHTML,'text/html').getElementById(na[H].id);break}if(y)return y;throw Error('Field `'+z+'` not found in fieldsSet');},r=function(m){var z;var y='';var H=m.length;for(z=0;z<H;){var v=m[z++];switch(v>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:y+=
String.fromCharCode(v);break;case 12:case 13:var w=m[z++];y+=String.fromCharCode((v&31)<<6|w&63);break;case 14:w=m[z++];var F=m[z++];y+=String.fromCharCode((v&15)<<12|(w&63)<<6|(F&63)<<0)}}return y},ea=function(m,z){z=m.match(/\{\{([^{{}}]+)\}\}/g);for(let y=0,H=z.length;y<H;y++){let v=z[y].replace(/\[/g,'["').replace(/\]/g,'"]').replace(/\{|\}/g,'').trim();try{v=eval('data.'+v).replace(/^"|"$/g,''),m=m.replace(new RegExp(z[y].replace(/\{|\[|\]|\}/g,'\\$&'),'g'),v)}catch(w){}}return m},Ea=function(m,
z){var y=u[this.name].errors||{},H=this.target.id||this.target.getAttribute('id');if(u.isValid()){var v=this.target.dataset.ginaFormValidatorTestedValue;console.debug('[ '+this.name+' ]','TESTED VALUE -> '+this.value+' vs '+v);H='asyncCompleted.'+H;var w=this.target.form.getAttribute('id'),F='undefined'!=typeof gina.validator&&'undefined'!=typeof gina.validator.$forms[w]&&'undefined'!=typeof gina.validator.$forms[w].cachedErrors?gina.validator.$forms[w].cachedErrors:null;if(!v||'undefined'==typeof v||
v!==this.value)this.target.dataset.ginaFormValidatorTestedValue=this.value,F&&'undefined'!=typeof F[this.name]&&'undefined'!=typeof F[this.name].query&&(delete F[this.name].query,'undefined'!=typeof gina.validator.$forms[w]&&'undefined'!=typeof gina.validator.$forms[w].errors&&delete gina.validator.$forms[w].errors.query);else if(v===this.value){var J=!1;F&&'undefined'!=typeof F[this.name]&&'undefined'!=typeof F[this.name].query&&'undefined'!=typeof F[this.name].query[this.value]&&(this.error=z=F[this.name].query[this.value].slice(0),
J=!0);y.query=C(this.error||z||S.errorLabels.query,this);console.debug('[2] potential cached error detected !! ',J,F,' vs ',y.query);J&&(this.errors=y,this.valid=!1);'undefined'!=typeof gina.events[H]&&triggerEvent(gina,this.target,H,u[this.name]);return u[this.name]}var T=null,ta=this;if(window.XMLHttpRequest)T=new XMLHttpRequest;else if(window.ActiveXObject)try{T=new ActiveXObject('Msxml2.XMLHTTP')}catch(xa){try{T=new ActiveXObject('Microsoft.XMLHTTP')}catch(ma){}}z={isSynchrone:!1,headers:{}};
v=m.data||null;y=null;H=/^true$/i.test(this.target.form.dataset.ginaFormLiveCheckEnabled)?!0:!1;y=JSON.stringify(v);if(/\$/.test(y)){v=y.match(/\$[-_\[\]a-z 0-9]+/g)||[];w=F=null;for(let xa=0,ma=v.length;xa<ma;xa++)w=v[xa].replace(/\$/g,''),re=new RegExp('\\'+v[xa].replace(/\[|\]/g,'\\$&'),'g'),F=S.data[w]||null,!F&&H&&(F=G(this.target.form,w).value),y=y.replace(re,F)}v=y.replace(/\\"/g,'');var Fa='undefined'==typeof m.validIf?!0:m.validIf;z=M(z,m,V);delete z.data;delete z.validIf;y=z.headers['Content-Type'];
var W=null;H=this.target.getAttribute('id');if(!/^http/.test(z.url)&&/@/.test(z.url))try{J=ba.getRoute(z.url),z.url=J.toUrl()}catch(xa){throw xa;}if(z.withCredentials){if('withCredentials'in T)z.isSynchrone?T.open(z.method,z.url,z.isSynchrone):T.open(z.method,z.url);else if('undefined'!=typeof XDomainRequest)T=new XDomainRequest,T.open(z.method,z.url);else throw T=null,W='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ',Error(W);T.responseType='undefined'!=
typeof z.responseType?z.responseType:'';T.withCredentials=!0}else z.isSynchrone?T.open(z.method,z.url,z.isSynchrone):T.open(z.method,z.url);for(var la in z.headers)'Content-Type'==la&&'undefined'!=typeof y&&null!=y&&''!=y||T.setRequestHeader(la,z.headers[la]);'undefined'!=typeof y&&null!=y&&''!=y&&T.setRequestHeader('Content-Type',y);var ia=function(xa){ta.value=S.data[ta.name]=ta.value?ta.value.toLowerCase():ta.value;var ma=xa.isValid||!1;ma=Fa!=ma?!1:!0;u[ta.name].valid=ma;var ua=u[ta.name].errors||
{},Ca='undefined'!=typeof xa.error&&'undefined'!=typeof xa.fields?xa.fields:{};if(0<Ca.count()&&!ma||!ma){if(!ma){var Qa=null;'undefined'!=typeof Ca[ta.name]?S.errorLabels.query=ea(Ca[ta.name],m.data):'undefined'!=typeof xa.error&&/^5/.test(xa.status)&&(Qa=xa.error);Ca='undefined'!=typeof m.error?m.error:null;ua.query=C(Qa||ta.error||Ca||S.errorLabels.query,ta);console.debug('[1] query error detected !! ',xa)}ua.query||''!=ta.value||(ma=!0)}ma&&'undefined'!=typeof ua.query&&delete ua.query;ta.valid=
ma;xa=gina.validator.$forms[ta.target.form.getAttribute('id')].cachedErrors||{};0<ua.count()?(ta.errors=ua,'undefined'==typeof u[ta.name].errors&&(u[ta.name].errors={}),u[ta.name].errors=M(u[ta.name].errors,ua),'undefined'!=typeof ua.query&&ua.query&&('undefined'==typeof xa[ta.name]&&(xa[ta.name]={}),'undefined'==typeof xa[ta.name].query&&(xa[ta.name].query={}),xa[ta.name].query[ta.value]=ua.query.slice(0)),ua=ta.target.getAttribute('data-gina-form-errors'),/query/.test(ua)||ta.target.setAttribute('data-gina-form-errors',
ua&&''!=ua?ua+' query':'query')):'undefined'!=typeof xa[ta.name]&&'undefined'!=typeof xa[ta.name].query&&'undefined'!=typeof xa[ta.name].query[ta.value]&&delete xa[ta.name].query[ta.value];ua=ta.target.id||ta.target.getAttribute('id');console.debug('prematurely completed event `asyncCompleted.'+ua+'`');return triggerEvent(gina,ta.target,'asyncCompleted.'+ua,u[ta.name])};T&&(T.onerror=function(xa,ma){console.debug('query error [2] detected !! ',ma,'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.');
isOnException=!0;xa=this.getResponseHeader('Content-Type');if(/\/json/.test(xa))xa=JSON.parse(this.responseText),'undefined'==typeof xa.status&&(xa.status=this.status);else if(xa={status:T.status,message:''},/^(\{|\[)/.test(T.responseText))try{xa=M(xa,JSON.parse(T.responseText))}catch(ua){xa=M(xa,ua)}return ia(xa)},T.onload=function(){try{W=this.responseText;var xa=this.getResponseHeader('Content-Type');if(/\/json/.test(xa))W=JSON.parse(this.responseText),'undefined'==typeof W.status&&(W.status=this.status);
else if(W={status:T.status,message:''},/^(\{|\[)/.test(T.responseText))try{W=M(W,JSON.parse(T.responseText))}catch(ma){W=M(W,ma)}return ia(W)}catch(ma){throw ma;}},A?T.send(v):T.send())}else console.debug('stopping on errors ...'),triggerEvent(gina,this.target,'asyncCompleted.'+H,u[this.name])},N=async function(m,z,y,H){var v=(new (require(_(GINA_FRAMEWORK_DIR+'/core/config.js',!0)))).getInstance(),w=null,F=null,J=null,T=getContext('bundle');if(/@/.test(m.url)){var ta=m.url.split(/@/);F=ta[0];J=ta[1];
getConfig(T,'app');try{v.bundle!==J&&(w=getConfig(T,'app').proxy[J])}catch(ia){throw Error('Could not retrieve `proxy` configuration for bundle `'+J+'`. Please check your `/config/app.json`.\n'+ia.stack);}ta=null}else throw Error('external url/domain not  handled at this moment, please contact us if you need support for it.');ta=JSON.clone(ba.getRoute(m.url,m.data));var Fa=v[J][v.env];w||(v.bundle==J&&(w=getConfig(T,'settings').server.credentials,m.ca=w.ca||null,m.hostname=Fa.server.scheme+'://'+
Fa.host,m.port=Fa.port[Fa.server.protocol][Fa.server.scheme],m.protocol=Fa.server.protocol,m.rejectUnauthorized=!1),w={ca:m.ca,hostname:m.hostname,port:m.port,path:m.path},'undefined'!=typeof m.protocol&&(w.protocol=m.protocol),'undefined'!=typeof m.rejectUnauthorized&&(w.rejectUnauthorized=m.rejectUnauthorized));F={method:ta.method,requirements:ta.requirements,namespace:ta.namespace||void 0,url:decodeURI(ta.url),rule:F+'@'+J,param:JSON.clone(ta.param),middleware:JSON.clone(ta.middleware),bundle:ta.bundle,
isXMLRequest:z.isXMLRequest,isWithCredentials:z.isWithCredentials};J=F.rule.replace('@'+J,'')||'_common';J={template:'undefined'!=typeof Fa.content.templates?Fa.content.templates[J]||Fa.content.templates._common:void 0,cacheless:Fa.cacheless};J=M(J,F);Fa=JSON.clone(Fa);J.conf=Fa;J.conf.content.routing[J.rule].param=F.param;J.template&&'undefined'==typeof J.template.ginaLoader&&(J.template.ginaLoader=J.conf.content.templates._common.ginaLoader);J.conf.content.routing[J.rule].param=F.param;delete J.middleware;
delete J.param;delete J.requirements;Fa=new (require(_(GINA_FRAMEWORK_DIR+'/core/controller/controller.js'),!0))(J);Fa.name=ta.param.control;Fa.setOptions(z,y,H,J);z='object'==typeof m.data&&0<m.data.count()?m.data:{};if(/^get|delete|put$/i.test(m.method)){y=0;for(let ia in z)'object'==typeof z[ia]&&encodeRFC5987ValueChars(JSON.stringify(z[ia])),y++}w.method=m.method;w.path=ta.url;m=require('util').promisify;var W={isValid:!1},la=!1;await m(Fa.query)(w,z).then(function(ia){W=ia}).catch(function(ia){la=
ia});la&&(console.error(la),W.error=la);return W},O=null;O=U?Ea:N;var D=function(m,z){var y=null,H=null;'undefined'==typeof u[m]&&'undefined'!=typeof z&&(u[m]=y=z);if('object'==typeof u[m])try{y=JSON.parse(JSON.stringify(u[m]))}catch(v){y=u[m]}else y=u[m];H='';U&&'undefined'!=typeof P&&(H=P[m].getAttribute('data-gina-form-field-label')||'');u[m]={target:U&&'undefined'!=typeof P?P[m]:null,name:m,value:y,valid:!1,label:H,exclude:!1};u[m].is=function(v,w,F){var J=!1,T='undefined'!=typeof window&&'undefined'!=
typeof window._currentValidatorAlias?window._currentValidatorAlias:'is';'undefined'!=typeof window&&window._currentValidatorAlias&&delete window._currentValidatorAlias;var ta=u[this.name].errors||{};S.data[this.name]=u[this.name].value;'undefined'==typeof ta.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value||!ta.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value?J=!0:ta.isRequired||'string'!=typeof this.value||''!=this.value||(J=!0);if(!J&&/^(true|false)$/i.test(v))J=
v;else if(!J){var Fa=null,W=null;if(/[!=>><a-z 0-9]+/i.test(v)){if((W=v.match(/\${0}[-_,.\[\]a-z0-9]+/ig))&&0<W.length){for(var la=0,ia=W.length;la<ia;++la)'undefined'!=typeof u[W[la]]&&W[la]&&(Fa=new RegExp('\\$'+W[la]+'(?!\\S+)','g'),v=''==u[W[la]].value?v.replace(Fa,'""'):'string'==typeof u[W[la]].value?v.replace(Fa,'"'+u[W[la]].value+'"'):v.replace(Fa,u[W[la]].value));try{v=v.replace(/(\(|\)|return)/g,''),J=/^\//.test(v)?eval(v+'.test("'+this.value+'")'):eval(v)}catch(xa){throw Error(xa.stack||
xa.message);}}}else if(v instanceof RegExp)J=v.test(this.value)?!0:!1;else if('boolean'==typeof v)J=v?!0:!1;else try{/\/(.*)\//.test(v)?(Fa=v.match(/\/(.*)\//).pop(),W=v.replace('/'+Fa+'/',''),J=(new RegExp(Fa,W)).test(this.value)):J=eval(v)}catch(xa){throw Error(xa.stack||xa.message);}}J?J&&'undefined'!=typeof ta[T]&&delete ta[T]:(ta[T]=C(this.error||w||S.errorLabels[T],this),'undefined'!=typeof F&&(ta.stack=F));this.valid=J;0<ta.count()&&(this.errors=ta);return u[this.name]};u[m].set=function(v){this.value=
S.data[this.name]=v;this.target.setAttribute('value',v);return u[this.name]};u[m].isEmail=function(){this.value=S.data[this.name]=this.value?this.value.toLowerCase():this.value;U&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var v=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.value)?!0:!1,w=u[this.name].errors||{};w.isRequired||
''!=this.value||(v=!0);v?v&&'undefined'!=typeof w.isEmail&&delete w.isEmail:w.isEmail=C(this.error||S.errorLabels.isEmail,this);this.valid=v;0<w.count()&&(this.errors=w);return u[this.name]};u[m].isJsonWebToken=function(){this.value=S.data[this.name]=this.value?this.value.toLowerCase():this.value;U&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var v=/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/.test(this.value)?!0:!1,w=u[this.name].errors||
{};w.isRequired||''!=this.value||(v=!0);v?v&&'undefined'!=typeof w.isJsonWebToken&&delete w.isJsonWebToken:w.isJsonWebToken=C(this.error||S.errorLabels.isJsonWebToken,this);this.valid=v;0<w.count()&&(this.errors=w);return u[this.name]};u[m].isBoolean=function(){var v=null,w=u[this.name].errors||{};w.isRequired&&0==this.value&&(delete w.isRequired,this.errors=w);switch(this.value){case 'true':case !0:case 1:v=this.value=S.data[this.name]=!0;break;case 'false':case !1:case 0:v=this.value=S.data[this.name]=
!1}(v=null!==v?!0:!1)?v&&'undefined'!=typeof w.isBoolean&&delete w.isBoolean:w.isBoolean=C(this.error||S.errorLabels.isBoolean,this);this.valid=v;0<w.count()&&(this.errors=w);return u[this.name]};u[m].isNumber=function(v,w){var F=this.value,J=!1,T=!0,ta=!0,Fa=u[this.name].errors||{};try{'string'==typeof F&&/,|\./g.test(F)?F=S.data[this.name]=this.value=parseFloat(F.replace(/,/g,'.').replace(/\s+/g,'')):'string'==typeof F&&''!=F&&(F=S.data[this.name]=this.value=parseInt(F.replace(/\s+/g,'')))}catch(la){Fa.isNumber=
C(this.error||S.errorLabels.isNumber,this),this.valid=!1,0<Fa.count()&&(this.errors=Fa)}if(+F===+F&&(J=!0,!Fa.isRequired&&''!=F)){var W=F.toString().length;v&&'number'==typeof v&&W<v&&(T=!1,this.size=v);w&&'number'==typeof w&&W>w&&(ta=!1,this.size=w)}J&&T&&ta||(J||(Fa.isNumber=C(this.error||S.errorLabels.isNumber,this)),T&&ta||(T||(Fa.isNumberLength=C(this.error||S.errorLabels.isNumberMinLength,this)),ta||(Fa.isNumberLength=C(this.error||S.errorLabels.isNumberMaxLength,this)),v===w&&(Fa.isNumberLength=
C(this.error||S.errorLabels.isNumberLength,this))),J=!1);J&&'undefined'!=typeof Fa.isNumberLength&&delete Fa.isNumberLength;this.valid=J;this.value=S.data[this.name]=''!=F?Number(F):F;0<Fa.count()&&(this.errors=Fa);return u[this.name]};u[m].toInteger=function(){var v=this.value,w=u[this.name].errors||{};if(v)try{this.value=S.data[this.name]=Math.round(v)}catch(F){w.toInteger=C(this.error||S.errorLabels.toInteger,this),this.valid=!1,0<w.count()&&(this.errors=w)}return u[this.name]};u[m].isInteger=
function(v,w){var F=this.value,J=!1,T=!0,ta=!0,Fa=u[this.name].errors||{};+F===+F&&0===F%1&&(J=!0,Fa.isRequired||''==F||(v&&'number'==typeof v&&F.length<v&&(T=!1,this.size=v),w&&'number'==typeof w&&F.length>w&&(ta=!1,this.size=w)));J&&T&&ta||(J||(Fa.isInteger=C(this.error||S.errorLabels.isInteger,this)),T&&ta||(T||(Fa.isIntegerLength=C(this.error||S.errorLabels.isIntegerMinLength,this),J=!1),ta||(Fa.isIntegerLength=C(this.error||S.errorLabels.isIntegerMaxLength,this),J=!1),v===w&&(Fa.isIntegerLength=
C(this.error||S.errorLabels.isIntegerLength,this),J=!1)));this.valid=J;this.value=S.data[this.name]=Number(F);0<Fa.count()&&(this.errors=Fa);return u[this.name]};u[m].toFloat=function(v){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''),/,/.test(this.value)&&!/\./.test(this.value)?this.value=this.value.replace(/,/g,'.'):this.value=this.value.replace(/,/g,''));var w=S.data[this.name]=this.value,F=u[this.name].errors||{},J=!0;v?this.decimals=parseInt(v):'undefined'==typeof this.decimals&&
(this.decimals=2);if(w)if(this.isNumber().valid)try{Number.isFinite(w)||(w=this.value=S.data[this.name]=new Number(parseFloat(w.match(/[0-9.,]+/g).join('').replace(/,/,'.')))),U&&this.target.setAttribute('value',w)}catch(T){J=!1,F.toFloat=C(this.error||S.errorLabels.toFloat,this),this.valid=!1,0<F.count()&&(this.errors=F)}else J=!1,F.toFloat=C(this.error||S.errorLabels.toFloatNAN,this);else return u[this.name];this.decimals&&w&&!F.toFloat&&(this.value=S.data[this.name]=parseFloat(this.value.toFixed(this.decimals)));
this.valid=J;0<F.count()&&(this.errors=F);return u[this.name]};u[m].isFloat=function(v){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''));var w=S.data[this.name]=this.value;v=u[this.name].errors||{};'string'==typeof w&&/\./.test(w)&&Number.isFinite(Number(w));'string'==typeof w&&/,/g.test(w)&&(w=this.value=S.data[this.name]=Number(w.replace(/,/g,'.')));Number(w)===w&&0!==w%1?(this.value=S.data[this.name]=Number(w),w=!0):w=!1;v.isRequired||''!=this.value||(w=!0);w||(v.isFloat=
C(this.error||S.errorLabels.isFloat,this));this.valid=w;0<v.count()&&(this.errors=v);return u[this.name]};u[m].isRequired=function(v){if('boolean'==typeof v&&!v)return this.valid=!0,v=S.excluded.indexOf(this.name),-1<v&&S.excluded.splice(v,1),u[this.name];if(U&&this.target&&'INPUT'==this.target.tagName&&'undefined'!=typeof this.target.type&&'radio'==this.target.type){v=document.getElementsByName(this.name);for(var w=0,F=v.length;w<F;++w)if(v[w].checked){/true|false/.test(v[w].value)?this.value=S.data[this.name]=
/true/.test(v[w].value)?!0:!1:this.value=S.data[this.name]=v[w].value;this.valid=!0;break}}v='undefined'==typeof this.value||null==this.value||''==this.value||/^\s+/.test(this.value)?!1:!0;w=u[this.name].errors||{};v?v&&'undefined'!=typeof w.isRequired&&delete w.isRequired:w.isRequired=C(this.error||S.errorLabels.isRequired,this);this.valid=v;0<w.count()&&(this.errors=w);return u[this.name]};u[m].isString=function(v,w){var F=S.data[this.name]=this.value,J=!1,T=!0,ta=!0,Fa=u[this.name].errors||{};
'string'!=typeof F||Fa.isRequired||''==F||(J=!0,v&&'number'==typeof v&&F.length<v&&(T=!1,this.size=v),w&&'number'==typeof w&&F.length>w&&(ta=!1,this.size=w));J&&T&&ta||(!J&&Fa.isRequired&&''==F?(J=!1,Fa.isString=C(this.error||S.errorLabels.isString,this)):J||Fa.isRequired||(J=!0),T&&ta||(J=!1,T||(Fa.isStringLength=C(this.error||S.errorLabels.isStringMinLength,this)),ta||(Fa.isStringLength=C(this.error||S.errorLabels.isStringMaxLength,this)),v===w&&(Fa.isStringLength=C(this.error||S.errorLabels.isStringLength,
this))));this.valid=J;0<Fa.count()&&(this.errors=Fa);return u[this.name]};u[m].isDate=function(v){var w=this.value,F=!1,J=u[this.name].errors||{},T=null;if(!w||''==w||/NaN|Invalid Date/i.test(w))return/NaN|Invalid Date/i.test(w)&&(console.warn('[FormValidator::isDate] Provided value for field `'+this.name+'` is not allowed: `'+w+'`'),J.isDate=C(this.error||S.errorLabels.isDate,this)),this.valid=F,0<J.count()&&(this.errors=J),u[this.name];if('undefined'==typeof v||'undefined'!=typeof v&&/true/i.test(v))v=
'yyyy-mm-dd';if(w instanceof Date)w=w.format(v);else{try{T=v.match(/[^\/\- ]+/g)}catch(ia){throw Error('[FormValidator::isDate] Provided mask not allowed: `'+v+'`');}try{w=w.match(/[^\/\- ]+/g);var ta={},Fa;var W=0;for(Fa=T.length;W<Fa;++W)ta[T[W]]=w[W];for(var la in ta)v=v.replace(new RegExp(la,'g'),ta[la])}catch(ia){throw Error('[FormValidator::isDate] Provided value not allowed: `'+w+'`'+ia);}w=this.value=S.data[this.name]=new Date(v);if(/Invalid Date/i.test(w)||!1===w instanceof Date)return J.isRequired||
''!=this.value?J.isDate=C(this.error||S.errorLabels.isDate,this):F=!0,this.valid=F,0<J.count()&&(this.errors=J),u[this.name];F=!0}this.valid=F;return w};u[m].format=function(v,w){var F=this.value;return F?F.format(v,w):u[this.name]};u[m].setFlash=function(v,w){'undefined'!=typeof w&&''!=w&&(this.error=w);return u[this.name]};u[m].setLabel=function(v){'undefined'!=typeof v&&''!=v&&(this.label=v);return u[this.name]};u[m].trim=function(v){if('boolean'==typeof v&&v)return this.value=this.value.replace(/^\s+|\s+$/,
''),S.data[this.name]=S.data[this.name]=this.value,u[this.name]};u[m].exclude=function(v){if('boolean'==typeof v&&!v)return/^true|false$/i.test(this.value)&&(this.value=/^true$/i.test(this.value)?!0:!1,S.data[this.name]=this.value),u[this.name];this.isExcluded=!1;0>S.excluded.indexOf(this.name)&&(S.excluded.push(this.name),this.isExcluded=!0);return u[this.name]};u[m].query=O;u[m].getValidationContext=function(){return{isGFFCtx:U,self:u,local:S,replace:C}};if(Q()){y=z=null;try{for(let v in gina.forms.validators)y=
'/validators/'+v+'/main.js',S.errorLabels[v]='Condition not satisfied',U?(z=r(gina.forms.validators[v].data),z=z.replace(/(\)\s+\{|\)\{){1}/,'$&\n\tvar validationContext = this.getValidationContext(),isGFFCtx = validationContext.isGFFCtx,self = validationContext.self,local = validationContext.local,replace = validationContext.replace;')):z=gina.forms.validators[v].toString(),u[m][v]=eval('('+z+')\n//# sourceURL='+v+'.js')}catch(v){throw Error('[UserFormValidator] Could not evaluate: `'+y+'`\n'+v.stack);
}}};for(let m in u)D(m,u[m]);u.addField=function(m,z){'undefined'==typeof u[m]&&D(m,z)};u.isValid=function(){return 0<u.getErrors().count()?!1:!0};u.setErrors=function(m){if(!m)return{};for(var z in u)if('object'==typeof u[z]){for(var y in u[z])'object'==typeof m[z]&&'undefined'!=typeof m[z][y]&&('undefined'!=typeof u[z].valid&&/^true$/i.test(u[z].valid)?delete m[z][y]:('undefined'==typeof u[z].errors&&(u[z].errors={}),u[z].errors[y]=m[z][y]));('undefined'==typeof u[z].errors&&'undefined'!=typeof m[z]||
'undefined'!=typeof u[z].errors&&0==u[z].errors.count()&&'undefined'!=typeof m[z])&&delete m[z]}return m};u.getErrors=function(m){var z={};if('undefined'!=typeof m)return'undefined'!=typeof u[m]&&u[m]&&'undefined'!=typeof u[m].errors&&0<u[m].errors.count()&&(z[m]=u[m].errors),z;for(var y in u)'object'==typeof u[y]&&'undefined'!=typeof u[y].errors&&0<u[y].errors.count()&&(z[y]=u[y].errors);return z};u.toData=function(){if(0<S.excluded.length)for(var m=0,z=S.excluded.length;m<z;++m)'undefined'!=typeof S.data[S.excluded[m]]&&
delete S.data[S.excluded[m]];return S.data};var C=function(m,z){var y=m.match(/%[a-z]+/gi);if(y)for(var H=0,v=y.length;H<v;++H)m=m.replace(new RegExp(y[H],'g'),z[S.keys[y[H]]]);return m};u.setErrorLabels=function(m){'undefined'!=typeof m&&(S.errorLabels=M(m,S.errorLabels))};return u}'undefined'!==typeof module&&module.exports?module.exports=FormValidatorUtil:'function'===typeof define&&define.amd&&define('lib/form-validator',[],function(){return FormValidatorUtil});
function Routing(){var A='undefined'!==typeof module&&module.exports?!1:!0,P={allowedMethods:['get','post','put','delete'],reservedParams:['controle','file','title','namespace','path'],notFound:{}};P.allowedMethodsString=P.allowedMethods.join(',');var V=null,na=null,U=null;A?(na&&'function'==typeof na||(na=require('lib/merge')),U&&'function'==typeof U||(U=require('lib/form-validator'))):(require('fs'),require('util'),require('../../inherits'),na=require('../../merge'),V=require(__dirname+'/../../../core/plugins')||
getContext('gina').plugins,U=V.Validator);P.getUrlProps=function(u,G){var r={};if(A){var ea=window.gina.config;r.hostname=ea.hostname;'undefined'!=typeof u&&(u=routing.getRoute('webroot@'+u),r.hostname=u.hostname,r.host=u.host,r.webroot=u.webroot)}else ea=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(ea.getRouting=getContext('gina').Config.instance.getRouting),'undefined'==typeof u&&(u=ea.bundle),'undefined'==typeof G&&(G=ea.env),r.hostname=ea.envConf[u][G].hostname,r.host=
ea.envConf[u][G].host,r.webroot=ea.envConf[u][G].server.webroot;return r};P.compareUrls=async function(u,G,r,ea,Ea){'undefined'==typeof r&&(r={routing:{}});if(/,/.test(G)){var N=0;G=G.split(/,/g);for(var O=G.length,D={past:!1,request:r};N<O&&!D.past;)D=await M(u,G[N],r,ea,Ea),++N;return D}return await M(u,G,r,ea,Ea)};var M=async function(u,G,r,ea,Ea){var N=u.url.split(/\//);G=G.split(/\//);var O=0,D=0,C=G.length,m=0,z={},y=0,H=r.method.toLowerCase(),v=u.method.toLowerCase(),w=!1;if('undefined'!=typeof u.requirements&&
/get|delete/i.test(H)&&'undefined'!=typeof r[H]||'undefined'!=typeof u.requirements&&/get/i.test(H)&&/delete/i.test(v)){/get/i.test(H)&&/delete/i.test(v)&&(H=v);if(/^(delete)$/i.test(H)&&N.length===G.length){'undefined'==typeof r[H]&&(r[H]={});for(let T=0,ta=G.length;T<ta;T++)if(N[T]===G[T])++m;else if(v=G[T].substr(1),'undefined'!=typeof u.requirements[v]){v=u.requirements[v];if(/^\//.test(v))v=v.substr(1,v.lastIndexOf('/')-1);else if(/^validator::/.test(v)&&await ba(G[T],N[T],u,r,ea,Ea)){++m;continue}/^:/.test(G[T])&&
'undefined'!=typeof v&&(new RegExp(v)).test(N[T])&&(++m,r[H][G[T].substr(1)]=N[T])}w=!0}for(var F in r[H])'undefined'!=typeof u.requirements[F]&&0>G.indexOf(':'+F)&&(G[D]=':'+F,++D,N[O]=r[H][F],++O,w||N.length!==G.length||++C)}if(!w&&N.length===G.length)for(;y<C;++y)N[y]===G[y]?++m:m==y&&/:/.test(G[y])&&await ba(G[y],N[y],u,r,ea,Ea)&&++m;if('undefined'!=typeof u.requirements&&H==u.method.toLowerCase()&&!w&&m>=C)for(F=Object.getOwnPropertyNames(u.requirements),O=0,G.join(',').match(/:[-_a-z0-9]+/g);O<
F.length;){D=F[O];if('undefined'==typeof u.param[D]&&/^validator::/i.test(u.requirements[D])){if(G.length!=N.length)break;var J=G.join(',').match(/:[-_a-z0-9]+/g);let T=u.requirements[D];y={};v={};w={};try{v=JSON.parse(T.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(ta){throw ta;}if('undefined'!=typeof v.query&&'undefined'!=typeof v.query.data){y=v.query.data;for(let ta in y)0>J.indexOf(y[ta])&&delete y[ta];for(let ta=0,Fa=G.length;ta<
Fa;ta++)/^:/.test(G[ta])&&(J=G[ta].replace(/^:/,''),''!=J&&'undefined'!=typeof N[ta]&&(y[J]=N[ta],'undefined'==typeof r.params[J]&&(r.params[J]=N[ta])))}y=na(y,JSON.clone(r[H])||{});'undefined'==typeof y[D]&&(y[D]=null);w[D]=v;_validator=A?new U(y):new U('routing',y,null,w);if(0==v.count()){console.error('Route validation failed '+u.rule);--m;O++;continue}for(let ta in v)if('undefined'!=typeof v[ta].data&&(v[ta].data=y),w=Array.isArray(v[ta])?await _validator[D][ta].apply(_validator[D],v[ta]):await _validator[D][ta](v[ta],
r,ea,Ea),!w.isValid&&(--m,'undefined'!=typeof w.error))throw w.error;}O++}z.past=m===C?!0:!1;z.past&&(r.routing=S(u,r[H]),z.request=r);return z},ba=async function(u,G,r,ea,Ea,N){var O=-1,D=u.match(/:\w+/g);O=new RegExp(u,'g');var C=null,m=null,z=null;C=!1;var y=C=m=m=null,H=null,v=ea.method.toLowerCase();if(!D.length)return!1;r.param.path&&O.test(r.param.path)&&(r.param.path=r.param.path.replace(O,G));r.param.namespace&&O.test(r.param.namespace)&&(r.param.namespace=r.param.namespace.replace(O,G));
'undefined'!=typeof r.param.file&&/:/.test(r.param.file)&&(C=new RegExp('(:'+u+'/|:'+u+'$)','g'),Q.variable=G,r.param.file=r.param.file.replace(C,Q));r.param.title&&O.test(r.param.title)&&(r.param.title=r.param.title.replace(O,G));if(1==D.length){C=new RegExp(D[0]);O=-1<D.indexOf(u)?D.indexOf(u):!1;!1===O&&u.match(C)&&(O=0);if(!1===O)return O;if(r.method.toLowerCase()!==v)return!1;'undefined'==typeof ea[v]&&(ea[v]={});z=D[O].substr(1);O=r.requirements[z];if(/^\//.test(O))C=O.match(/\/(.*)\//).pop(),
m=O.replace('/'+C+'/',''),C=(new RegExp(C,m)).test(G);else if(/^validator::/.test(O)&&G){m={};C={};y={};H='';u.replace(new RegExp('[^'+z+']','g'),function(ta){H+=ta});m[z]=G.replace(new RegExp(H,'g'),'');try{C=JSON.parse(O.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(ta){throw ta;}'undefined'!=typeof C.query&&'undefined'!=typeof C.query.data&&u==C.query.data[Object.keys(C.query.data)[0]]&&(C.query.data[Object.keys(C.query.data)[0]]=m[z],
ea.params[z]=m[z]);y[z]=C;m=new U('routing',m,null,y);if(0==C.count())return console.error('Route validation failed '+r.rule),!1;for(var w in C)Array.isArray(C[w])?await m[z][w].apply(m[z],C[w]):await m[z][w](C[w],ea,Ea,N);C=m.isValid()}else C=(new RegExp(r.requirements[z])).test(G);if('undefined'!=typeof r.param[z]&&'undefined'!=typeof r.requirements&&'undefined'!=typeof r.requirements[z]&&'undefined'!=typeof ea.params&&C)return ea.params[z]=G,'undefined'==typeof ea[v][z]&&(ea[v][z]=G),!0}else{Ea=
r.url;N=ea.url;v={};y='';var F=!1,J=0;w=0;for(var T=N.length;w<T;++w)if(N.charAt(w)!=Ea.charAt(J)||F){if(''==y)F=!0,y+=N.charAt(w);else if(w>Ea.indexOf(D[0])+D[0].length){O=r.requirements[D[0]];G=y.substr(0,y.length);if(/^\//.test(O))C=O.match(/\/(.*)\//).pop(),m=O.replace('/'+C+'/',''),C=(new RegExp(C,m)).test(G);else if(/^validator::/.test(O)){m={};C={};y={};H='';u.replace(new RegExp('[^'+z[0]+']','g'),function(ta){H+=ta});m[z[0]]=G.replace(new RegExp(H,'g'),'');C=JSON.parse(O.split(/::/).splice(1)[0].replace(/([^\W+ true false])+(\w+)/g,
'"$&"'));y[z[0]]=C;m=new U('routing',m,null,y);for(let ta in C)if(Array.isArray(C[ta]))m[z[0]][ta].apply(m[z[0]],C[ta]);else m[z[0]][ta](C[ta]);C=m.isValid()}else C=(new RegExp(r.requirements[z[0]])).test(G);if(C)v[D[0].substr(1)]=G;else return!1;y='';F=!1;J=Ea.indexOf(D[0])+D[0].length;--w;D.splice(0,1)}else y+=N.charAt(w),++J;if(w==T-1)if(O=r.requirements[D[0]],G=y.substr(0,y.length),/^\//.test(O)?(C=O.match(/\/(.*)\//).pop(),m=O.replace('/'+C+'/',''),C=(new RegExp(C,m)).test(G)):C=(new RegExp(r.requirements[z])).test(G),
C)v[D[0].substr(1)]=G;else return!1}else++J;if(v.count()==D.length){z=null;for(z in v)ea.params[z]=v[z];return!0}}return!1},Q=function(u){return/\/$/.test(u)?Q.variable+'/':Q.variable},S=function(u,G){var r=null,ea,Ea=u.url,N=null;for(N in u.param)if(('undefined'==typeof G||'undefined'!=typeof G[N])&&/^:/.test(u.param[N])){var O=u.param[N].substr(1);if('undefined'!=typeof G&&'undefined'!=typeof G[O]){var D=new RegExp('(:'+O+'/|:'+O+'$)','g');'undefined'!=typeof u.param.path&&/:/.test(u.param.path)&&
(u.param.path=u.param.path.replace(D,G[O]));'undefined'!=typeof u.param.title&&/:/.test(u.param.title)&&(u.param.title=u.param.title.replace(D,G[O]));'undefined'!=typeof u.param.namespace&&/:/.test(u.param.namespace)&&(u.param.namespace=u.param.namespace.replace(D,G[O]));'undefined'!=typeof u.param.file&&/:/.test(u.param.file)&&(Q.variable=G[O],u.param.file=u.param.file.replace(D,Q));if(/,/.test(u.url)){r=u.url.split(/,/g);var C=0;for(ea=r.length;C<ea;++C)Q.variable=G[O],r[C]=r[C].replace(D,Q);u.url=
r.join(',')}else Q.variable=G[O],u.url=u.url.replace(D,Q)}}if(r){C=0;ea=r.length;Ea=Ea.split(/,/g);var m=0;for(u.urlIndex=0;C<ea;++C)if(r=0,D=Ea[0].match(/:[-_a-z0-9]+/ig)){N=0;for(O=D.length;N<O;N++){var z=D[N].substr(1);'undefined'!=typeof G[z]&&G[z]&&r++}r>m&&(m=r,u.urlIndex=C)}}return u};P.getRoute=function(u,G,r){var ea=null;A?ea=window.gina.config:(ea=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(ea.getRouting=getContext('gina').Config.instance.getRouting));var Ea=
ea.env||GINA_ENV,N=null,O=ea.bundle;/@/.test(u)||'undefined'==typeof O||null==O||(u=u.toLowerCase(),u+='@'+O);if(/@/.test(u)){var D=u.replace(/(.*):\/\//,'').split(/@/);O=D[1];/\/(.*)$/.test(u)&&(N=u.replace(/(.*):\/\//,'').split(/\/(.*)$/)[1],O=O.replace(/\/(.*)$/,''),Ea=N||Ea);u=D[0].toLowerCase()+'@'+O}N=ea.getRouting(O,Ea);if('undefined'==typeof N[u])throw Error('[ RoutingHelper::getRouting(rule, params) ] : `'+u+'` not found !');ea=JSON.clone(N[u]);O=null;ea=S(ea,G);/,/.test(ea.url)&&('undefined'!=
typeof ea.urlIndex&&(r=ea.urlIndex,delete ea.urlIndex),r='undefined'!=typeof r?r:0,ea.url=ea.url.split(/,/g)[r]);/\/$/.test(ea.url)&&'/'!=ea.url&&(ea.url=ea.url.substr(0,ea.url.length-1));if(/GET/i.test(ea.method)&&'undefined'!=typeof G){r='?';N=N[u].url;O=[];D=0;for(let C in ea.param)-1<P.reservedParams.indexOf(C)||(new RegExp(ea.param[C])).test(N)||'undefined'==typeof G[C]||(r+=C+'='+encodeRFC5987ValueChars(G[C])+'&',O[D]=G[C],++D);for(let C in G)-1<P.reservedParams.indexOf(C)||'undefined'!=typeof ea.requirements[C]||
-1<O.indexOf(C)||(r='object'==typeof G[C]?r+(C+'='+encodeRFC5987ValueChars(JSON.stringify(G[C]))+'&'):r+(C+'='+G[C]+'&'));D=O=N=null;1<r.length&&(r=r.substring(0,r.length-1),ea.url+=r);r=null}ea.toUrl=function(C){var m=null;/^redirect$/i.test(this.param.control)&&(m=P.getUrlProps(this.bundle,Ea||GINA_ENV));var z=this.webroot||m.webroot;m=this.hostname||m.hostname;var y=this.url;this.url='undefined'!=typeof C&&1==C?y.replace(z,'/'):y;return m+this.url};ea.request=function(C,m){var z=null,y=null;'function'==
typeof arguments[arguments.length-1]&&(z=arguments[arguments.length-1]);'object'==typeof arguments[2]&&(y=arguments[2]);var H=this.webroot||y.webroot,v=this.hostname||y.hostname;y='undefined'!=typeof C&&1==C?path.replace(H,'/'):this.url||y.url;v=/^https/.test(v)?'https':'http';A?window.open(y,'undefined'!=typeof m&&'undefined'!=typeof m.target?m.target:'_self'):('undefined'==typeof m.agent&&(m.agent=!1),v=require(''+v),H=function(w){var F='',J=!1;w.on('data',function(T){F+=T});w.on('error',function(T){J=
'Failed to get mail content';T&&'undefined'!=typeof T.stack?J+=T.stack:'string'==typeof T&&(J+='\n'+T)});w.on('end',function(){if(/^\{/.test(F))try{F=JSON.parse(F),'undefined'!=typeof F.error&&(J=JSON.clone(F),F=null)}catch(T){J=T}J?z(J):z(!1,F)})},z?v.get(y,m,H):v.get(y,m))};/:/.test(ea.url)&&(G=ea.url.match(/(:(.*)\/|:(.*)$)/g).map(function(C){return C.replace(/\//g,'')}).join(', '),O='[ RoutingHelper::getRoute(rule[, bundle, method]) ] : route [ %r ] param placeholder not defined: `'+ea.url+'` !\n Check your route description to compare requirements against param variables [ '+
G+']',O=O.replace(/%r/,u),console.warn(Error(O)));return ea};P.getRouteByUrl=function(u,G,r,ea,Ea){2==arguments.length&&'undefined'!=typeof arguments[1]&&-1<P.allowedMethods.indexOf(arguments[1].toLowerCase())&&(r=arguments[1],G=void 0);var N=null,O=null,D=null,C=null,m=null,z=null;if(/#/.test(u)&&1<u.length){var y=u.split(/#/);u=y[0];m='#'+y[1];y=null}1==arguments.length&&'undefined'!=typeof arguments[0]&&(/^(https|http)/i.test(u)||/^\//.test(u)||(u='/'+u),N='/'+u.split(/\//g)[1],A&&(C=gina.config.reverseRouting,
D=gina.config.routing),'undefined'!=typeof C[N]&&(y=D[C[N]],G=y.bundle,N=y.webroot,z=y.hostname,y=null));Ea='boolean'!=typeof arguments[arguments.length-1]?!1:arguments[arguments.length-1];var H=!1,v=null,w=null,F=v=w=null;y='undefined'!=typeof r?!0:!1;A?(v=window.gina.config,G='undefined'!=typeof G?G:v.bundle,w=v.env,D=D||v.getRouting(G),C=C||v.reverseRouting,isXMLRequest='undefined'!=typeof isXMLRequest?isXMLRequest:!1,z=z||v.hostname,N=N||v.webroot,ea={routing:{},method:r,params:{},url:u}):(v=
getContext('gina').config,G='undefined'!=typeof G?G:v.bundle,w=v.env,D=v.getRouting(G),z=v.envConf[G][w].hostname,N=v.envConf[G][w].server.webroot,ea||={routing:{},isXMLRequest:!1,method:'undefined'!=typeof r?r.toLowerCase():'get',params:{},url:u},Ea&&(ea.method=r),isXMLRequest=ea.isXMLRequest||!1);w=u.replace(new RegExp('^('+z+'|'+z.replace(/:\d+/,'')+')'),'');'undefined'==typeof ea.routing.path&&(ea.routing.path=decodeURI(w));r='undefined'!=typeof r?r.toLowerCase():'get';y&&(ea.originalMethod=ea.method,
ea.method=r,ea.routing.path=decodeURI(w));ea.method||(ea.method=r);v={};N=new RegExp(r,'i');C=null;var J;for(J in D){if('undefined'==typeof D[J].param)break;if(D[J].bundle==G&&(C=D[J].method,/,/.test(C)&&N.test(C)&&(C=ea.method),'undefined'==typeof D[J].method||N.test(C))){v={method:C,requirements:D[J].requirements,namespace:D[J].namespace||void 0,url:decodeURI(w),rule:D[J].originalRule||J,param:D[J].param,middleware:JSON.clone(D[J].middleware),bundle:D[J].bundle,isXMLRequest};try{if(F=P.compareUrls(v,
D[J].url,ea),F.past){O=JSON.clone(D[J]);O.name=J;H=!0;F={};break}}catch(T){throw Error('Route [ '+J+' ] needs your attention.\n'+T.stack);}}}if(H)return/\/$/.test(u)&&'/'!=u&&(u=u.substr(0,u.length-1)),m&&(u+=m),O.url=u,O.toUrl=function(T){var ta=this.webroot,Fa=this.hostname,W=this.url;this.url='undefined'!=typeof T&&1==T?W.replace(ta,'/'):W;return Fa+this.url},O;if(A){m=!1;if('#'==u&&/GET/i.test(r)&&y||/^404:/.test(u))u=location.pathname,m=!0;'undefined'==typeof P.notFound&&(P.notFound={});D=null;
O='[ RoutingHelper::getRouteByUrl(rule[, bundle, method]) ] : route [ %r ] is called but not found inside your view: `'+u+'` !';if((D=(D=gina.hasPopinHandler&&gina.popinIsBinded?gina.popin.getActivePopin().target.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/):document.body.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/))&&0<D.length?D[0]:null)&&y&&m)return m=D.match(/\[\w+\]/)[0],D=D.replace('404:'+m,m.replace(/\[|\]/g,'')+'::'),O=O.replace(/%r/,D.replace(/404:\s+/,'')),'undefined'==typeof P.notFound[D]?
P.notFound[D]={count:1,message:O}:y&&'undefined'!=typeof P.notFound[D]&&++P.notFound[D].count,!1;if((m=gina.config.reverseRouting[u]||null)&&'undefined'!=typeof m&&m.split(/@(.+)$/)[1]==G)return D=m,'undefined'==typeof P.notFound[D]?(O=O.replace(/%r/,r.toUpperCase()+'::'+m),P.notFound[D]={count:1,message:O}):y&&'undefined'!=typeof P.notFound[D]&&++P.notFound[D].count,!1;D=P.compareUrls(v,u,ea)||null;D.past&&y&&(D=r.toUpperCase()+'::'+D.request.routing.rule,'undefined'==typeof P.notFound[D]?O=O.replace(/%r/,
D):++P.notFound[D].count);return!1}console.warn(Error('[ RoutingHelper::getRouteByUrl(rule[, bundle, method, request]) ] : route not found for url: `'+u+'` !').stack);return!1};return P}'undefined'!==typeof module&&module.exports?module.exports=Routing():'function'===typeof define&&define.amd&&define('lib/routing',['require','lib/form-validator','lib/merge'],function(){return Routing()});
function StoragePlugin(A){function P(O){G=JSON.parse(S.getItem(this.bucket));'undefined'==typeof G[O]&&(G[O]=[],S.setItem(this.bucket,JSON.stringify(G)),G=JSON.parse(S.getItem(this.bucket)));u[O]={_collection:O,_bucket:this.bucket};u[O]=na(u[O],Ea);return u[O]}function V(O){if('object'!==typeof O)throw Error('filter must be an object');var D=G[this._collection],C=O.count(),m=0,z=null;if(0==C)return null;for(var y in D)for(var H in O){var v='boolean'!=typeof O[H]?O[H].toLocaleLowerCase():O[H];O[H]&&
-1<r.indexOf(v)&&'not null'==v&&'undefined'!=typeof D[y][H]&&'object'!==typeof D[y][H]&&D[y][H]===O[H]&&'null'!=D[y][H]&&'undefined'!=D[y][H]?0>z.indexOf(D[y][H])&&(++m,m===C&&(z=D[y],z._index=y,z._collection=this._collection,z._bucket=this._bucket)):'undefined'!=typeof D[y][H]&&'object'!==typeof D[y][H]&&D[y][H]===O[H]&&(++m,m===C&&(z=D[y],z._index=y,z._collection=this._collection,z._bucket=this._bucket,z._filter=O))}z&&(z.save=N);return z}var na=na||require('lib/merge');P=P||require('lib/collection');
var U=U||require('vendor/uuid'),M=M||require('helpers/dateFormat'),ba={bucket:'default'},Q={},S=null,u={},G={},r=['not null'],ea={bucket:void 0,drop:function(){S.removeItem(ba.bucket);Q=null;for(var O in this)delete this[O];return Q},Collection:P},Ea={insert:function(O){O._id=U.v1();O._createdAt=(new Date).format('isoDateTime');O._updatedAt=(new Date).format('isoDateTime');G[this._collection][G[this._collection].length]=O;S.setItem(this._bucket,JSON.stringify(G))},find:function(O,D){if(!O)return G[this._collection];
if('object'!==typeof O)throw Error('filter must be an object');D=G[this._collection];O.count();var C=0,m=[],z;for(z in D)for(var y in O){var H='boolean'!=typeof O[y]?O[y].toLocaleLowerCase():O[y];O[y]&&-1<r.indexOf(H)&&'not null'==H&&'undefined'!=typeof D[z][y]&&'object'!==typeof D[z][y]&&'null'!=D[z][y]&&'undefined'!=D[z][y]?0>m.indexOf(D[z][y])&&(m[C]=D[z][y],++C):'undefined'!=typeof D[z][y]&&'object'!==typeof D[z][y]&&D[z][y]===O[y]&&(m[C]=D[z],++C)}return m},findOne:V,update:null,'delete':function(O){if('object'!==
typeof O)throw Error('filter must be an object');var D=JSON.clone(G[this._collection]),C=0,m=[],z;for(z in D)for(var y in O)O[y]&&-1<r.indexOf(O[y].toLocaleLowerCase())&&'not null'==O[y].toLowerCase()&&'undefined'!=typeof D[z][y]&&'object'!==typeof D[z][y]&&'null'!=D[z][y]&&'undefined'!=D[z][y]?0>m.indexOf(D[z][y])&&(m[C]=D[z][y],delete G[this._collection][z][y],++C):'undefined'!=typeof D[z][y]&&'object'!==typeof D[z][y]&&D[z][y]===O[y]&&(m[C]=D[z],G[this._collection].splice(z,1),++C);return 0<m.length?
(S.setItem(this._bucket,JSON.stringify(G)),!0):!1},drop:function(O){if('undefined'==typeof G[this._collection])throw Error('Collection `'+O+'` not found');delete u[this._collection];delete G[this._collection];S.setItem(this._bucket,JSON.stringify(G))}},N=function(O){O=O||!1;try{var D=JSON.clone(G),C=this._index,m=this._collection,z=this._bucket,y=this._filter;this._updatedAt=(new Date).format('isoDateTime');D[m][C]=na(D[m][C],this,!0);delete D[m][C]._index;delete D[m][C]._collection;delete D[m][C]._bucket;
delete D[m][C].save;delete D[m][C]._filter;if(O&&'object'==typeof D[m][C]){var H=function(w,F){for(var J=0,T=w.length;J<T;++J)'object'!=typeof F[J]||'undefined'==typeof w[J]||Array.isArray(w[J])?Array.isArray(w[J])?H(w[J],F[J]):'undefined'==typeof w[J]&&delete F[J]:v(w[J],F[J]);return F},v=function(w,F){for(var J in F)'object'!=typeof F[J]||'undefined'==typeof w[J]||Array.isArray(w[J])?Array.isArray(w[J])?H(w[J],F[J]):'undefined'==typeof w[J]&&delete F[J]:v(w[J],F[J]);return F};Array.isArray(D[m][C])?
D[m][C]=H(this,D[m][C]):'object'==typeof D[m][C]?D[m][C]=v(this,D[m][C]):'undefined'==typeof this[prop]&&delete D[m][C]}G[m][C]=D[m][C];S.setItem(z,JSON.stringify(G));return V(y)}catch(w){throw w;}};(function(O){if(!window.localStorage||window.localStorage&&'undefined'==!typeof window.localStorage.setItem)throw Error('Make sure your browser supports `window.localStorage` to use Gina Storage. See: `https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Browser_compatibility`');if('object'!=
typeof O&&'undefined'!=typeof O)throw Error('`options` must be an object');'undefined'==typeof O&&(O={});ba=na(O,ba);S=window.localStorage;O=ba.bucket;if(!S.getItem(O)&&void 0!=O)S.setItem(O,JSON.stringify(G));else if(void 0==O)throw Error('`bucket` name cannot be undefined');Q.bucket=O;Q=na(Q,ea)})(A);return Q}
if('undefined'!==typeof module&&module.exports){var merge=require('lib/merge');Collection=require('lib/collection');var uuid=require('uuid');module.exports=StoragePlugin}else'function'===typeof define&&define.amd&&define('gina/storage',['helpers/dateFormat','helpers/prototypes'],function(){return StoragePlugin});function insertAfter(A,P){A.parentNode.insertBefore(P,A.nextSibling)}
function getElementsByAttribute(A){for(var P=[],V=0,na=document.getElementsByTagName('*'),U=0,M=na.length;U<M;++U)null!==na[U].getAttribute(A)&&(P[V]=na[U],++V);return P}
(function(A){var P=A.prototype,V=P.parseFromString;try{if((new A).parseFromString('','text/html'))return}catch(na){}P.parseFromString=function(na,U){if(/^\s*text\/html\s*(?:;|$)/i.test(U)){var M=document.implementation.createHTMLDocument('');-1<na.toLowerCase().indexOf('<!doctype')?M.documentElement.innerHTML=na:M.body.innerHTML=na;return M}return V.apply(this,arguments)}})(DOMParser);define('utils/dom',function(){});
function fadeIn(A){var P=.1;A.style.display='block';var V=setInterval(function(){1<=P&&clearInterval(V);A.style.opacity=P;A.style.filter='alpha(opacity='+100*P+')';P+=.1*P},10)}function fadeOut(A){var P=1,V=setInterval(function(){.1>=P&&(clearInterval(V),A.style.display='none');A.style.opacity=P;A.style.filter='alpha(opacity='+100*P+')';P-=.1*P},50)}define('utils/effects',function(){});
function DataHelper(){encodeRFC5987ValueChars=function(V){return encodeURIComponent(V).replace(/['()]/g,escape).replace(/\*/g,'%2A').replace(/%(?:7C|60|5E)/g,unescape)};formatDataFromString=function(V){'object'==typeof V&&(V=JSON.stringify(V));try{V=decodeURIComponent(V)}catch(u){}/("false"|"true"|"on")/.test(V)&&(V=V.replace(/"false"/g,!1).replace(/"true"/g,!0).replace(/"on"/g,!0));/("null")/i.test(V)&&(V=V.replace(/"null"/ig,null));a:{var na=V,U=V=null,M=null;if(/^(\{|\[|%7B|%5B)/.test(na)){try{V=
(M=/^(\{|%7B)/.test(na)?!1:!0)?[]:{};U=/^(%7B|%5B)/.test(na)?JSON.parse(decodeURIComponent(na)):JSON.parse(na);if(Array.isArray(U)){M=0;for(var ba=U.length;M<ba;++M)V[M]=A(U[M],V);var Q=V}else Q=A(U,V);var S=Q;break a}catch(u){console.error('[365] could not parse body:\n'+na)}S=void 0}else{V={};S=na.split(/&/g);/("false"|"true"|"on")/.test(na)&&na.replace(/"false"/g,!1).replace(/"true"/g,!0).replace(/"on"/g,!0);na={};ba=0;for(U=S.length;ba<U;++ba)if(S[ba])if(S[ba]=decodeURIComponent(S[ba]),/^\{/.test(S[ba])||
/=\{/.test(S[ba])||/=\[/.test(S[ba]))try{if(/^\{/.test(S[ba])){V=JSON.parse(S[ba]);break}else na=S[ba].match(/=(.*)/),na[0]=S[ba].split(/=/)[0],V[na[0]]=JSON.parse(na[1])}catch(u){console.error('[parseBody#1] could not parse body:\n'+S[ba])}else{na=S[ba].split(/=/);if(/\{\}":/.test(na[1]))try{na[1]=JSON.parse(na[1])}catch(u){console.error('[parseBody#2] could not parse body:\n'+na[1])}'string'!=typeof na[1]||/\[object /.test(na[1])||(na[0]=decodeURIComponent(na[0]),na[1]=decodeURIComponent(na[1]),
/^(.*)\[(.*)\]/.test(na[0])?(Q=na[0].replace(/\]/g,'').split(/\[/g),V=P(V,Q,0,na[1])):V[na[0]]=na[1])}S=V}}return S};var A=function(V,na){var U=[];na||={};for(let ba in V)if(U[0]=ba,U[1]=V[ba],/^(.*)\[(.*)\]/.test(U[0])){var M=U[0].replace(/\]/g,'').split(/\[/g);na=P(na,M,0,U[1])}else na[U[0]]=U[1];return na},P=function(V,na,U,M){for(let ba=0,Q=na.length;ba<Q;ba++){let S=na[U];if(ba==U){if('undefined'==typeof V[na[U]]||'string'==typeof V[na[U]])Array.isArray(V)?(S=~~na[U],V[S]=/^\d+$/.test(na[U+1])?
[]:{}):V[na[U]]=/^\d+$/.test(na[U+1])?[]:{};if(U==na.length-1){M='undefined'!=typeof M?M:'';Array.isArray(V[na[U]])?V[na[U]].push(M):V[na[U]]=M;break}else/^\d+$/.test(na[U])&&!Array.isArray(V)&&(V=[]),'undefined'==typeof V[S]&&(V[S]=null),P(V[S],na,U+1,M)}}return V}}'undefined'!==typeof module&&module.exports?module.exports=DataHelper:'function'===typeof define&&define.amd&&define('utils/data',[],function(){return DataHelper()});
function ValidatorPlugin(A,P,V){this.plugin='validator';var na='init ready registered success error progress submit reset change changed keydown keyup focusout focusin validate validated destroy asyncCompleted'.split(' '),U='undefined'!==typeof module&&module.exports?!1:!0,M=null;if(U)require('utils/events'),registerEvents(this.plugin,na),require('utils/dom'),require('utils/effects'),require('utils/data'),M=gina.config.envIsDev;else{if(M=/^true$/i.test(process.env.NODE_ENV_IS_DEV)?!0:!1)delete require.cache[require.resolve('./form-validator')],
delete require.cache[require.resolve('../../../../../helpers/data')];require('../../../../../helpers/data')}var ba=U?require('vendor/uuid'):require('uuid'),Q=U?require('lib/merge'):require('../../../../../lib/merge'),S=U?require('lib/inherits'):require('../../../../../lib/inherits'),u=U?require('lib/form-validator'):require('./form-validator'),G=U?require('lib/routing'):require('../../../../../lib/routing'),r={id:'validator-'+ba.v4(),plugin:this.plugin,on:U?on:null,eventData:{},target:U?document:
null,errors:{},initialized:!1,isReady:!1,rules:{},$forms:{},getFormById:null,validateFormById:null,setOptions:null,resetErrorsDisplay:null,resetFields:null},ea={id:null,plugin:this.plugin,on:U?on:null,eventData:{},target:U?document:null,cachedErrors:{},binded:!1,unbinded:!1,withUserBindings:!1,rules:{},setOptions:null,send:null,isValidating:null,isSubmitting:null,submit:null,destroy:null,resetErrorsDisplay:null,resetFields:null},Ea={},N={},O=null,D={url:'',method:'GET',isSynchrone:!1,withCredentials:!1,
headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}},C=function(l,g,h){h='undefined'!=typeof h?{id:h}:null;var b={},x;for(x in g)b[x]=g[x];if('undefined'!=typeof l&&0<l.count()){try{La(l,''),Ca(l)}catch(q){throw q;}return za(h,b,null,r.rules)}return new u(b)},m=function(l){D=l=Q(l,D)},z=function(l){var g=null;if(!r.$forms)throw Error('`$forms` collection not found');if('undefined'==typeof l)throw Error('[ FormValidator::getFormById(formId) ] `formId` is missing');
l=l.replace(/#/,'');if(null!=document.getElementById(l)&&'undefined'==typeof r.$forms[l]){var h=document.getElementById(l),b,x=typeof(0<Ea.count())?Ea:r.rules;h.getAttribute?(id=h.getAttribute('id')||'form.'+ba.v4(),id!==h.getAttribute('id')&&h.setAttribute('id',id)):(id='form.'+ba.v4(),h.setAttribute('id',id));h.id=ea.id=id;if('undefined'!=typeof h.id&&'null'!=h.id&&''!=h.id){ea.target=h;r.$forms[h.id]=Q({},ea);if(b=h.getAttribute('data-gina-form-rule')){b=b.replace(/\-|\//g,'.');if('undefined'==
typeof x[b])throw Error('['+h.id+'] no rule found with key: `null`');b=x[b]}'string'==typeof h.id&&'undefined'!=typeof x[h.id.replace(/\-/g,'.')]?$target=r.$forms[h.id].target:'object'==typeof h.id?(delete r.$forms[h.id],x=h.attributes.getNamedItem('id').nodeValue||'form.'+ba.v4(),h.setAttribute('id',x),h.id=x,ea.target=h,r.$forms[x]=Q({},ea),$target=r.$forms[x].target):$target=r.$forms[h.id].target;b?xb($target,b):xb($target)}}'undefined'!=typeof r.$forms[l]&&(r.$forms[l].withUserBindings=!0,g='undefined'!=
typeof this.$forms&&'undefined'==typeof this.$forms[l]?this.$forms[l]=r.$forms[l]:r.$forms[l]);if(!g)throw Error('Validator::getFormById(...) exception: could not retrieve form `'+l+'`');g.binded||(xb(g.target),g=r.$forms[l]);M&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),h={id:l,rules:r.$forms[l].rules},'undefined'!=typeof r.$forms[l].errors&&(h.errors=r.$forms[l].errors),window.ginaToolbar.update('forms',h));return g},y=function(){var l=
!1,g=null;gina.hasPopinHandler&&gina.popinIsBinded&&(g=gina.popin.getActivePopin());g&&g.isOpen&&(l=!0);return l},H=function(l,g){var h=typeof(0<Ea.count())?Ea:r.rules;if(!r.$forms)throw Error('`$forms` collection not found');if('undefined'!=typeof l&&'undefined'!=typeof r.$forms[l])return r.$forms[l];if('undefined'==typeof l)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)l=this.id;else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `formId` is missing');if('string'==
typeof l)l=l.replace(/#/,'');else{if('object'!=typeof l||Array.isArray(l))throw Error('[ FormValidator::validateFormById(formId[, customRule]) ] `formId` should be a `string`');var b=l.form;l=b.getAttribute('id')||'form.'+ba.v4();b.setAttribute('id',l)}var x=document.getElementsByTagName('form');for(var q={},p=0,R=x.length;p<R;++p)b=x[p].getAttribute('id')||null,'undefined'==typeof q[b]?q[b]=!0:'undefined'==typeof r.$forms[b]||r.$forms[b].warned||(gina.popinIsBinded?console.warn('Popin/Validator::bindForm($target, customRule): `'+
b+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.\n Check inside your popin content'):console.warn('Validator::bindForm($target, customRule): `'+b+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.'),r.$forms[b].warned=!0);if('undefined'!=typeof this.$forms&&'undefined'!=typeof r.$forms[l])x=this.$forms[l]=r.$forms[l];else{b=document.getElementById(l);ea.id=l;ea.target=b;x=this.$forms[l]=r.$forms[l]=Q({},ea);if('undefined'==
typeof g)if(q=l.replace(/\-/g,'.'),'undefined'!=typeof h)x.rule=Da(q);else{if('undefined'!=typeof x.target&&null!==x.target&&x.target.getAttribute('data-gina-form-rule'))if(q=x.target.getAttribute('data-gina-form-rule').replace(/\-|\//g,'.'),'undefined'!=typeof h)x.rule=Da(q);else throw Error('[ FormValidator::validateFormById(formId) ] using `data-gina-form-rule` on form `'+x.target+'`: no matching rule found');}else if(q=g.replace(/\-|\//g,'.'),'undefined'!=typeof h)x.rule=Da(q);else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+
g+'` is not a valid rule');b&&'undefined'!=typeof this.isPopinContext&&/true/i.test(this.isPopinContext)&&(b.isPopinContext=this.isPopinContext);b&&!x.binded&&xb(b,q)}if(!x)throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+l+'` not found');return x||null},v=function(l){var g=l.form.getAttribute('id');if(!/^true$/i.test(r.$forms[g].isValidating)){var h=l.parentNode;l=!1;g=h.getElementsByTagName('div');/form\-item\-warning/.test(h.className)?h.className=h.className.replace(/form\-item\-warning/,
'form-item-error'):/form\-item\-error/.test(h.className)&&(h.className=h.className.replace(/form\-item\-error/,'form-item-warning'),l=!0);h=0;for(var b=g.length;h<b;++h)if(/form\-item\-error\-message/.test(g[h].className)){g[h].className=l?g[h].className+' hidden':g[h].className.replace(/(\s+hidden|hidden)/,'');break}}},w={},F=function(l,g,h,b){if(M)var x=null;var q=!1;if('undefined'!=typeof l.dataset.ginaFormIsResetting&&/^(true)$/i.test(l.dataset.ginaFormIsResetting))g={},w={},l.dataset.ginaFormIsResetting=
!1;else if(/^(true)$/i.test(l.dataset.ginaFormLiveCheckEnabled)&&'undefined'!=typeof b){var p='string'!=typeof l.id?l.getAttribute('id'):l.id;'undefined'==typeof w[p]&&(w[p]={});if(0<g.count()){if(w[p][b]={},w[p][b]=Q(g[b],w[p][b]),0==w[p][b].count()&&delete w[p][b],g=w[p],!r.$forms[p].sent||r.$forms[p].isValidating)q=!0}else'undefined'!=typeof w[p][b]&&(delete w[p][b],'undefined'!=typeof window.gina.validator.$forms[p].errors&&'undefined'!=typeof window.gina.validator.$forms[p].errors[b]&&delete window.gina.validator.$forms[p].errors[b]),
('undefined'!=typeof r.$forms&&'undefined'!=typeof r.$forms[p]&&'undefined'!=typeof r.$forms[p].errors&&0==r.$forms[p].errors.count()||'undefined'!=typeof r.$forms&&'undefined'!=typeof r.$forms[p]&&!r.$forms[p].errors)&&Ka(l,!0),'undefined'!=typeof w[p]&&0==w[p].count()?delete w[p]:g=w[p]}var R=null;p=l.getAttribute('id');h='undefined'!=typeof h?h:{};for(var K=0,ha=l.length;K<ha;++K){var Aa=l[K];if('undefined'==typeof b||b==Aa.name){if(/form\-item\-wrapper$/.test(Aa.parentNode.className)){var da=
Aa.parentNode.parentNode;var fa=Aa.parentNode}else da=Aa.parentNode,fa=Aa;var E=Aa.getAttribute('name');var oa=Aa.getAttribute('data-gina-form-errors');if(E){if('undefined'!=typeof g[E]&&!/(form\-item\-error|form\-item\-warning)/.test(da.className)){da.className=q?da.className+(''==da.className?'form-item-warning':' form-item-warning'):da.className+(''==da.className?'form-item-error':' form-item-error');R=document.createElement('div');R.className=q?'form-item-error-message hidden':'form-item-error-message';
for(var ra in g[E])'stack'!=ra&&(da=document.createElement('p'),da.appendChild(document.createTextNode(g[E][ra])),R.appendChild(da)),M&&(x||={},x[E]||(x[E]={}),x[E][ra]=g[E][ra]);'hidden'!=fa.type&&insertAfter(fa,R)}else if('undefined'==typeof g[E]&&/(form\-item\-error|form\-item\-warning)/.test(da.className)||'undefined'!=typeof g[E]&&0==g[E].count()&&/(form\-item\-error|form\-item\-warning)/.test(da.className)){E=da.getElementsByTagName('div');fa=0;for(oa=E.length;fa<oa;++fa)if(/form\-item\-error\-message/.test(E[fa].className)){E[fa].parentElement.removeChild(E[fa]);
break}da.className=da.className.replace(/(\s+form\-item\-error|form\-item\-error|\s+form\-item\-warning|form\-item\-warning)/,'')}else if('undefined'!=typeof g[E]&&oa){da=da.getElementsByTagName('div');oa=0;for(var ja=da.length;oa<ja;++oa)if('form-item-error-message'==da[oa].className){da[oa].parentElement.removeChild(da[oa]);R=document.createElement('div');R.setAttribute('class','form-item-error-message');for(ra in g[E])da=document.createElement('p'),da.appendChild(document.createTextNode(g[E][ra])),
R.appendChild(da),M&&(x||={},x[E]||(x[E]={}),x[E][ra]=g[E][ra]);break}R&&'hidden'!=fa.type&&insertAfter(fa,R)}if('undefined'!=typeof b&&b===Aa.name)break}}}x?(triggerEvent(gina,l,'error.'+p,g),M&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),l={id:p,errors:x},window.ginaToolbar.update('forms',l))):M&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),l={id:p,errors:{}},U&&window.ginaToolbar.update('forms',
l));if(gina&&U&&M&&r.$forms[p].isSubmitting&&/^true$/i.test(r.$forms[p].isSubmitting)&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&h)try{window.ginaToolbar.update('data-xhr',h)}catch(Z){throw Z;}},J=function(l){var g=null;'undefined'==typeof l&&'undefined'!=typeof this.id&&(l=this.id);/^string$/i.test(typeof l)?(g=l.replace(/#/,''),g=document.getElementById(g)):l instanceof HTMLFormElement?g=l:/^object$/i.test(typeof l)&&(g=l.target);if(!g)throw Error('[ FormValidator::resetErrorsDisplay([ formId | <form> ]) ] `'+
l+'` not found');g.dataset.ginaFormIsResetting=!0;F(g,{});return g},T=function(l){if('undefined'==typeof l){var g='undefined'!=typeof this.target?this.target.getAttribute('id'):this.getAttribute('id');l=r.$forms[g]}else if('string'==typeof l){g=l.replace(/#/,'');if('undefined'==typeof r.$forms[g])throw Error('[ FormValidator::resetErrorsDisplay([formId]) ] `'+l+'` not found');l=r.$forms[g]}if(l.fieldsSet){var h;for(h in l.fieldsSet){g=document.getElementById(h);var b=g.tagName.toLowerCase();var x=
g.tagName;/textarea/i.test(x)?(x=l.fieldsSet[h].defaultValue,g.value=x,triggerEvent(gina,g,'change')):'input'==b?(x=l.fieldsSet[h].defaultValue,/$(on|true|false)$/i.test(x)&&(x=/$(on|true)$/i.test(x)?!0:!1),/^(checkbox|radio)$/i.test(g.type)?g.checked=l.fieldsSet[h].defaultChecked:/^(checkbox|radio)$/i.test(g.type)||(g.value=x),triggerEvent(gina,g,'change')):'select'==b&&(x=l.fieldsSet[h].selectedIndex||0,g.selectedIndex=x,g.dataset.value=g.options[g.selectedIndex].value,triggerEvent(gina,g,'change'))}}return l},
ta=function(){var l=null,g=null;'undefined'!=typeof this.getAttribute?(l=this.getAttribute('id'),g=this):'undefined'!=typeof this.target&&null!=this.target&&'undefined'!=typeof this.target.getAttribute&&(l=this.target.getAttribute('id'),g=this.target);if('undefined'==typeof r.$forms[l])throw Error('[ FormValidator::submit() ] not `$form` binded. Use `FormValidator::getFormById(id)` or `FormValidator::validateFormById(id)` first ');triggerEvent(gina,g,'submit');return this},Fa=function(l,g){var h=
this.target,b=h.getAttribute('id'),x=r.$forms[b]||this,q=null,p=null,R=null,K=null;if(!('undefined'!=typeof x.isSending&&/^true$/i.test(x.isSending)||'undefined'!=typeof x.sent&&/^true$/i.test(x.sent))){r.$forms[b].isSending=!0;g='undefined'!=typeof g?Q(g,D):D;'undefined'!=typeof x.id&&(g.headers['X-Gina-Form-Id']=x.id,'undefined'!=typeof gina.forms.rules&&0<x.rules.count()&&'undefined'!=typeof x.rules[x.id]&&(g.headers['X-Gina-Form-Rule']=x.id+'@'+gina.config.bundle));'undefined'!=typeof x.target.dataset.ginaFormRule&&
(g.headers['X-Gina-Form-Rule']=x.target.dataset.ginaFormRule+'@'+gina.config.bundle);y()&&($activePopin=gina.popin.getActivePopin(),$activePopin.isOpen&&('undefined'!=typeof $activePopin.id&&(g.headers['X-Gina-Popin-Id']=$activePopin.id),'undefined'!=typeof $activePopin.name&&(g.headers['X-Gina-Popin-Name']=$activePopin.name)));(K=h.getAttribute('data-gina-form-event-on-submit-success')||h.getAttribute('data-gina-form-event-on-submit-error')?!0:!1)&&xa(x);var ha=h.getAttribute('action')||g.url,Aa=
h.getAttribute('method')||g.method;Aa=Aa.toUpperCase();g.method=Aa;g.url=ha;O||=setupXhr(g);ha=h.getAttribute('enctype')||g.headers['Content-Type'];if(g.withCredentials){if('withCredentials'in O)g.isSynchrone?O.open(g.method,g.url,g.isSynchrone):O.open(g.method,g.url);else if('undefined'!=typeof XDomainRequest)O=new XDomainRequest,O.open(g.method,g.url);else{O=null;q='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,h,'error.'+b,q);
return}O.responseType='undefined'!=typeof g.responseType?g.responseType:'';O.withCredentials=!0}else g.isSynchrone?O.open(g.method,g.url,g.isSynchrone):O.open(g.method,g.url);for(var da in g.headers)'Content-Type'==da&&'undefined'!=typeof ha&&null!=ha&&''!=ha||O.setRequestHeader(da,g.headers[da]);if(O){O.onreadystatechange=function(Z){x.isSubmitting=!1;x.isSending=!1;setTimeout(function(){x.sent=!1},1E3);Z=/Google Inc/i.test(navigator.vendor)?50:0;2==O.readyState&&(R=/^attachment;/.test(O.getResponseHeader('Content-Disposition'))?
!0:!1,!O.responseType&&R&&(O.responseType='blob'));if(4==O.readyState){var Ga=null,Pa=null,$a=O.getResponseHeader('Content-Type');if(/^2/.test(O.status)){try{if(/blob/.test(O.responseType)||R){if('undefined'==typeof $a||null==$a)$a='application/octet-stream';Pa=new Blob([this.response],{type:$a});var ib=document.createElement('a');ib.style='display: none';document.body.appendChild(ib);var Cb=window.URL.createObjectURL(Pa);ib.href=Cb;var zb=O.getResponseHeader('Content-Disposition');ib.download=zb.match('=(.*)')[0].substr(1);
ib.click();window.URL.revokeObjectURL(Cb);q={status:O.status,statusText:O.statusText,responseType:Pa.type,type:Pa.type,size:Pa.size}}else q=O.responseText;/\/json/.test($a)&&(q=JSON.parse(O.responseText),'undefined'==typeof q.status&&(q.status=O.status));if(/\/html/.test($a)&&(q={contentType:$a,content:O.responseText},'undefined'==typeof q.status&&(q.status=O.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler&&(Ga=gina.popin.getActivePopin()))){p={};try{p=(new DOMParser).parseFromString(q.content,
'text/html').getElementById('gina-without-layout-xhr-data'),p=JSON.parse(decodeURIComponent(p.value)),XHRView=(new DOMParser).parseFromString(q.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&M&&typeof window.ginaToolbar&&'undefined'!=typeof p&&window.ginaToolbar.update('data-xhr',p),gina&&M&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(X){throw X;}Ga.loadContent(q.content);
q=p;triggerEvent(gina,h,'success.'+b,q);return}p=x.eventData.success=q;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&p)try{M&&'undefined'!=typeof p&&!/\/html|\/json/.test($a)&&window.ginaToolbar.update('data-xhr',p)}catch(X){throw X;}/^gina\-upload/i.test(b)&&W(gina,h,'success',b,q);var qb=!1;'undefined'!=typeof q.isXhrRedirect&&/^true$/i.test(q.isXhrRedirect)&&(qb=!0);if('undefined'!=typeof gina.popin&&gina.hasPopinHandler&&'undefined'!=typeof q.popin||'undefined'!=typeof gina.popin&&
gina.hasPopinHandler&&'undefined'!=typeof q.location&&qb){Ga=gina.popin.getActivePopin();if(!Ga&&'undefined'!=typeof q.popin){if('undefined'!=typeof q.popin&&'undefined'==typeof q.popin.name)throw Error('To get a `$popin` instance, you need at list a `popin.name`.');Ga=gina.popin.getPopinByName(q.popin.name);if(!Ga)throw Error('Popin with name: `'+q.popin.name+'` not found.');}if('undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.close){Ga.isRedirecting=!1;Ga.close();var Mb=q.popin.reload?q.popin.reload:
!1;q.popin.location||q.popin.url||(delete q.popin,Mb&&(q.popin={reload:Mb}))}if('undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.location||'undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.url||'undefined'!=typeof q.location&&qb){qb=null;Ga&&(qb=Ga.name,Ga.isRedirecting=!0);'undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.target&&(q.popin.target='_'+q.popin.target);var Ya=q.location||q.popin.location||q.popin.url;if('undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.name&&
qb!=q.popin.name){Ga&&Ga.isOpen&&Ga.close();qb=q.popin.name;Ga=gina.popin.getPopinByName(qb);if(!Ga)throw Error('Popin with name `'+qb+'` not found !');console.debug('Validator::Popin now redirecting [1-c]');Ga.load(Ga.name,Ya,Ga.options)}else Ga&&(console.debug('Validator::Popin now redirecting [1-d]'),Ga&&Ga.isOpen&&Ga.close(),Ga.load(Ga.name,Ya,Ga.options));if(Ga&&!Ga.isOpen)return setTimeout(function(X){X.isOpen||X.open()},50,Ga)}}triggerEvent(gina,h,'success.'+b,q);K&&triggerEvent(gina,h,'success.'+
b+'.hform',q)}catch(X){q={status:422,error:X.message,stack:X.stack};p=x.eventData.error=q;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&p)try{M&&'undefined'!=typeof p&&window.ginaToolbar.update('data-xhr',p)}catch(ka){throw ka;}/^gina\-upload/i.test(b)&&W(gina,h,'error',b,q);triggerEvent(gina,h,'error.'+b,q);K&&triggerEvent(gina,h,'error.'+b+'.hform',q)}if('undefined'!=typeof q&&'undefined'!=typeof q.location)return window.location.hash='',q.location=/^http/.test(q.location)||
/^\//.test(q.location)?q.location:location.protocol+'//'+q.location,setTimeout(()=>{window.location.href=q.location},Z)}else if(0!=O.status)if(q={status:O.status},/blob/.test(O.responseType)){Pa=new Blob([this.response],{type:'text/plain'});var cb=new FileReader,ca='';cb.addEventListener('loadend',X=>{/string/i.test(typeof X.srcElement.result)?ca+=X.srcElement.result:'object'==typeof X.srcElement.result?q=Q(q,X.srcElement.result):q.message+=X.srcElement.result;if(/2/.test(cb.readyState)){if(/^(\{|\[)/.test(ca))try{q=
Q(q,JSON.parse(ca))}catch(ka){q=Q(q,ka)}q.message||delete q.message;p=x.eventData.error=q;if(gina&&M&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&p)try{window.ginaToolbar.update('data-xhr',p)}catch(ka){throw ka;}/^gina\-upload/i.test(b)&&W(gina,h,'error',b,q);triggerEvent(gina,h,'error.'+b,q);K&&triggerEvent(gina,h,'error.'+b+'.hform',q)}});cb.readAsText(Pa)}else{if(/^(\{|\[)/.test(O.responseText))try{q=Q(JSON.parse(O.responseText),q)}catch(X){q=Q(X,q)}else'object'==typeof O.responseText?
q=Q(O.responseText,q):q.message=O.responseText;if('undefined'!=typeof q&&'undefined'!=typeof q.error&&q.fields&&'object'==typeof q.fields){Ya='undefined'!=typeof q.message?q.message:null;Z={};for(qb in q.fields)Ga={},Ga[qb]={},Ga[qb].isApiError=q.fields[qb],Ya&&!Ga[qb].isApiError&&(Ga[qb].isApiError=q.error),Z[qb]=Ga[qb],F(x.target,Ga,l,qb);q.fields=Z}p=x.eventData.error=q;if(gina&&M&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&p)try{window.ginaToolbar.update('data-xhr',p)}catch(X){throw X;
}/^gina\-upload/i.test(b)&&W(gina,h,'error',b,q);triggerEvent(gina,h,'error.'+b,q);K&&triggerEvent(gina,h,'error.'+b+'.hform',q)}}};O.onprogress=function(Z){var Ga='0';Z.lengthComputable&&(Ga=Z.loaded/Z.total,Ga=parseInt(100*Ga));Z={status:100,progress:Ga};x.eventData.onprogress=Z;triggerEvent(gina,h,'progress.'+b,Z)};O.ontimeout=function(Z){q={status:408,error:'Request Timeout'};x.eventData.ontimeout=q;/^gina\-upload/i.test(b)&&W(gina,h,'error',b,q);triggerEvent(gina,h,'error.'+b,q);K&&triggerEvent(gina,
h,'error.'+b+'.hform',q)};l||(l=event.detail.data);if(l){g=!1;if('object'==typeof l){da=[];Aa=0;var fa={};try{if(l instanceof FormData){var E=event.currentTarget.getAttribute('data-gina-form-upload-group')||'untagged',oa,ra;for([oa,ra]of l.entries())ra instanceof File?(g||=!0,da[Aa]={key:oa,group:E,file:ra,bin:''},++Aa):fa[oa]=ra}else l=JSON.stringify(l);if(g&&0<da.length){var ja='--ginaWKBoundary'+ba.v4().replace(/\-/g,'');return ia(da,ja,'',0,function(Z,Ga,Pa){if(Z)/^gina\-upload/i.test(b)&&W(gina,
h,'error',b,Z),triggerEvent(gina,h,'error.'+b,Z),K&&triggerEvent(gina,h,'error.'+b+'.hform',Z);else return Pa&&(O.setRequestHeader('Content-Type','multipart/form-data; boundary='+ja),O.send(Ga),x.sent=!0,M&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),window.ginaToolbar.update('forms',{id:b,sent:Ga}))),!1})}'undefined'!=typeof fa&&0<fa.count()&&(l=JSON.stringify(fa))}catch(Z){/^gina\-upload/i.test(b)&&W(gina,h,'error',b,Z),triggerEvent(gina,
h,'error.'+b,Z),K&&triggerEvent(gina,h,'error.'+b+'.hform',Z)}}g||('undefined'!=typeof ha&&null!=ha&&''!=ha&&O.setRequestHeader('Content-Type',ha),O.send(l))}else'undefined'!=typeof ha&&null!=ha&&''!=ha&&O.setRequestHeader('Content-Type',ha),O.send();x.sent=!0;M&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),E={id:b,sent:'string'==typeof l?JSON.parse(l):l},window.ginaToolbar.update('forms',E))}}},W=function(l,g,h,b,x){l=g.uploadProperties||null;
if(!l)throw Error('No uploadProperties found !!');g=document.getElementById(l.uploadTriggerId);b=null;var q=x.files||[],p=null;l.hasPreviewContainer&&(b=document.getElementById(l.previewContainer.id))&&(b.innerHTML='');l.errorField&&(p=document.getElementById(l.errorField));p&&(p.style.display='none');if(p&&'success'!=h){var R=x.message||x.error;p.innerHTML='<p>'+R+'</p>';fadeIn(p)}else if(p||'success'==h)for(h=0,x=q.length;h<x;++h){var K=b.id.replace(/\-preview/,'-'+h+'-reset-trigger');R=!1;p=document.getElementById(K);
var ha=['reset','js-upload-reset'];p?(/a/i.test(p.tagName)&&(p.href='#'),p.innerHTML&&''!=p.innerHTML||(p.innerHTML=g.getAttribute('data-gina-form-upload-reset-label')||'Reset'),'undefined'==typeof p.className&&(p.className=''),K=Q(p.className.split(/\s+/g),ha),p.className=K.join(' ')):(R=!0,p=document.createElement('A'),p.href='#',p.innerHTML=g.getAttribute('data-gina-form-upload-reset-label')||'Reset',p.className=ha.join(' '),p.id=K);p.style.display='none';if('undefined'==typeof q[h].preview&&l.hasPreviewContainer&&
/^image/.test(q[h].mime)&&''!=q[h].location){K=document.createElement('IMG');K.src=q[h].tmpUri;K.style.display='none';K.setAttribute('data-upload-original-filename',q[h].originalFilename);K.setAttribute('data-upload-reset-link-id',p.id);ha=b.getAttribute('data-preview-max-width')||null;if(K.width&&ha&&K.width>ha){var Aa=K.width/ha;K.width=ha;K.height/=Aa}else!K.width&&ha&&(K.width=ha);/ul/i.test(l.previewContainer.tagName)?(ha=document.createElement('LI'),ha.className='item',ha.appendChild(K),b.appendChild(ha)):
b.appendChild(K);fadeIn(K)}K=l.uploadFields[h];for(var da in K)if('name'==da&&''!=K[da].value||!q[h][da]||'preview'==da&&'undefined'==typeof q[h][da]||/(height|width)/i.test(da)&&!/^image/.test(q[h].mime))/(preview|height|width)/i.test(da)&&(ha=document.getElementById(K[da].id))&&ha.parentNode.removeChild(ha);else if(K[da].value=q[h][da],'preview'==da)for(var fa in q[h][da])if('undefined'!=typeof q[h][da][fa]&&'undefined'!=typeof K[da][fa]&&(K[da][fa].value=q[h][da][fa]),'tmpUri'==fa&&l.hasPreviewContainer){Aa=
document.createElement('IMG');Aa.src=q[h][da].tmpUri;Aa.style.display='none';Aa.setAttribute('data-upload-original-filename',q[h].originalFilename);Aa.setAttribute('data-upload-preview-original-filename',q[h][da].originalFilename);Aa.setAttribute('data-upload-reset-link-id',p.id);if(ha=b.getAttribute('data-preview-max-width')||null)Aa.width=ha;/ul/i.test(l.previewContainer.tagName)?(ha=document.createElement('LI'),ha.className='item',ha.appendChild(Aa),b.appendChild(ha)):b.appendChild(Aa);fadeIn(Aa)}l.hasPreviewContainer&&
(/ul/i.test(l.previewContainer.tagName)?(ha=document.createElement('LI'),ha.className='item',R&&ha.appendChild(p),b.appendChild(ha)):R&&b.appendChild(p));Ub('reset',g,h);fadeIn(p)}else throw Error(R);},la=function(l,g){console.debug(g+' input files');var h=/reset/i.test(g)?!0:!1,b=null,x=null,q=document.getElementById(l.id+'-preview').childNodes,p=null,R=l.customFiles,K=[];for(let ha=0,Aa=q.length;ha<Aa;ha++)if(/img/i.test(q[ha].tagName)){h?(b=q[ha].getAttribute('data-upload-original-filename'),K.push(b),
(x=q[ha].getAttribute('data-upload-preview-original-filename'))&&K.push(x)):(b=q[ha].src.substr(q[ha].src.lastIndexOf('/')+1),K.push(b));for(let da=0,fa=R.length;da<fa;da++)if(R[da].name==b){p=h?document.getElementById(q[ha].getAttribute('data-upload-'+g+'-link-id')):document.getElementById(R[da].deleteLinkId);p.style.display='none';q[ha].style.display='none';R.splice(da,1);l.customFiles=R;h&&(l.value=R.join(', C:\\fakepath\\'));b=new RegExp('^'+(l.name+'['+da+']').replace(/\-|\[|\]|\./g,'\\$&'));
for(let oa=0,ra=l.form.length;oa<ra;oa++)if(x=l.form[oa].dataset.ginaFormUploadIsLocked||!1,b.test(l.form[oa].name)&&!/true/i.test(x)&&(l.form[oa].remove(),ra--,oa--,gina&&M&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar))try{window.ginaToolbar.update('data-xhr',{files:R})}catch(ja){throw ja;}x=l.getAttribute('data-gina-form-upload-'+g+'-action');if(!x||'undefined'==typeof x||''==x||/404/.test(x))throw Error('input file `'+l.id+'` error: `data-gina-form-upload-'+g+'-action` is required. You need to provide a valide url.');
(b=l.getAttribute('data-gina-form-upload-'+g+'-method'))&&'undefined'!=typeof b&&''!=b?b=b.toUpperCase():h?b='POST':(b=1<K.length?'POST':'DELETE',console.warn('`data-gina-form-upload-'+g+'-method` was not defined. Switching to `'+b+'` by default.'));let E=l.getAttribute('data-gina-form-upload-'+g+'-is-synchrone');if(/null/i.test(E)||'undefined'==typeof b||''==b)E=!0;x=setupXhr({url:x,method:b,isSynchrone:E,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}});
/GET|DELETE/i.test(b)?x.send():x.send(JSON.stringify({files:K}));if(/none/i.test(window.getComputedStyle(l).display)){if(/none/i.test(l.parentElement.style.display)){l.parentElement.style.display='block';return}l.style.display='block'}removeListener(gina,$uploadResetTrigger,'click',function(){p.remove();q[ha].remove()});Aa--;ha--;break}}},ia=function(l,g,h,b,x){var q=new FileReader;q.addEventListener('load',function(p){p.preventDefault();try{var R=this.result,K=void 0;p='';var ha=null;'undefined'==
typeof K&&(K=8);var Aa=K/8;switch(K){case 8:ha=new Uint8Array(R);break;case 16:ha=new Uint16Array(R);break;case 32:ha=new Uint32Array(R);break;default:ha=new Uint8Array(R)}var da=ha.length,fa=Math.pow(2,8)+Aa;R=0;for(Aa=K=null;R<da;R+=fa)K=Math.min(fa,da-R),Aa=ha.subarray(R,R+K),p+=String.fromCharCode.apply(null,Aa);l[this.index].bin+=p;l[this.index].file.type||(l[this.index].file.type='application/octet-stream')}catch(E){return x(E,null,!0)}h+='--'+g+'\r\n';h+='Content-Disposition: form-data; name="'+
l[this.index].key+'"; group="'+l[this.index].group+'"; filename="'+l[this.index].file.name+'"\r\nContent-Type: '+l[this.index].file.type+'\r\nContent-Length: '+l[this.index].bin.length+'\r\n\r\n';h+=l[this.index].bin+'\r\n';++this.index;this.index==l.length?(h+='--'+g+'--',x(!1,h,!0)):ia(l,g,h,this.index,x)},!1);q.index=b;l[b].bin='';q.readAsArrayBuffer(l[b].file)},xa=function(l){var g=l.target.getAttribute('data-gina-form-event-on-submit-success')||null;if(null!=g)if(/\((.*)\)/.test(g))eval(g);else l.on('success.hform',
window[g]);g=l.target.getAttribute('data-gina-form-event-on-submit-error')||null;if(null!=g)if(/\((.*)\)/.test(g))eval(g);else l.on('error.hform',window[g])},ma=function(l){var g=null,h=l;if(!r.$forms)throw Error('`$forms` collection not found');if('undefined'==typeof h)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)h=this.id;else throw Error('[ FormValidator::destroy(formId) ] `formId` is missing');if('string'==typeof h)h=h.replace(/#/,'');else{if('object'!=typeof h||Array.isArray(h))throw Error('[ FormValidator::destroy(formId) ] `formId` should be a `string`');
l=h.form;h=l.getAttribute('id')||'form.'+ba.v4();l.setAttribute('id',h)}'undefined'!=typeof r.$forms[h]?g=r.$forms[h]:'undefined'!=typeof this.binded&&(g=this);if(g)addListener(gina,g.target,'destroy.'+h,function(b){cancelEvent(b);delete r.$forms[h];removeListener(gina,b.currentTarget,b.type);removeListener(gina,b.currentTarget,'destroy')}),g=Db(g),triggerEvent(gina,g.target,'destroy.'+h);else throw Error('[ FormValidator::destroy(formId) ] `'+h+'` not found');},ua=function(l){l='undefined'!=typeof l?
l:r.rules;for(let b in l){var g=Object.getOwnPropertyNames(l[b]),h=0;let x=g.length,q=!1,p=null;for(;h<x;){if(/^_case_/.test(g[h])){q=!0;p=g[h];break}h++}q||'object'!=typeof l[b]||ua(l[b]);if(p&&Array.isArray(l[b][p].conditions)&&0<l[b][p].conditions.length)for(g=0,h=l[b][p].conditions.length;g<h;)'undefined'!=typeof l[b][p].conditions[g].rules&&0==l[b][p].conditions[g].rules.count()&&(l[b][p].conditions.splice(g,1),h--,g--),g++}},Ca=function(l){var g=JSON.stringify(l),h=g.match(/("@import\s+[-_a-z A-Z 0-9/.]+")/g)||
[],b=[];for(let R=0,K=h.length;R<K;R++)0>b.indexOf(h[R])&&b.push(h[R]);h=b;b=g.match(/("_merging(.*))(\s+:|:)(.*)(",|")/g);r.rules||(r.rules={});if(h&&0<h.length){l={};for(let R=0,K=h.length;R<K;++R){var x=h[R].replace(/(@import\s+|"|')/g,'');var q=x.replace(/(@import\s+|"|')/g,'').split(/\s/g);for(let ha=0,Aa=q.length;ha<Aa;++ha){var p=q[ha].replace(/\//g,'.').replace(/\-/g,'.');'undefined'!=typeof r.rules[p]?(p=JSON.stringify(r.rules[p]),p=JSON.parse(p),p._comment='undefined'!=typeof p._comment?
p._comment+'\n':'',p._comment+='Imported from `'+x+'`',p=JSON.stringify(p),g=g.replace(new RegExp(h[R],'g'),p),r.rules=JSON.parse(JSON.stringify(r.rules).replace(new RegExp(h[R],'g'),'{}'))):console.warn('[formValidator:rules] <@import error> on `'+h[R]+'`: rule `'+q[ha]+'` not found. Ignoring.')}q=new RegExp(h[R]);if(x=b&&q.test(b.join())?!0:!1)for(let ha=0,Aa=b.length;ha<Aa;ha++)if(q.test(b[ha])){x=JSON.stringify(l);x=x.substr(1,x.length-1);ha<Aa-1&&(x+=',');try{g=g.replace(new RegExp(b[ha],'g'),
x),r.rules=JSON.parse(JSON.stringify(r.rules).replace(new RegExp(b[ha],'g'),'{}'))}catch(da){throw da;}}l={}}l=JSON.parse(g);La(l,'');try{ua()}catch(R){console.error(R.stack)}}return l},Qa=function(l){gina.hasValidator?(r=Q(r,gina.validator),r.on('init',function(g){r.isReady=!0;triggerEvent(gina,r.target,'ready.'+r.id,r)})):(r.target=document,r.setOptions=m,r.getFormById=z,r.validateFormById=H,r.resetErrorsDisplay=J,r.resetFields=T,r.handleErrorsDisplay=F,r.send=Fa,r.on('init',function(g){if('undefined'!=
typeof l&&l.count())try{La(l,''),l=Ca(l),gina.forms.rules='undefined'!=typeof gina.forms.rules&&gina.forms.rules?Q(gina.forms.rules,l,!0):l,r.rules=Q(r.rules,JSON.clone(gina.forms.rules),!0)}catch(R){throw R;}Ea.count()||(Ea=JSON.clone(r.rules));ea.setOptions=m;ea.getFormById=z;ea.validateFormById=H;ea.resetErrorsDisplay=J;ea.resetFields=T;ea.handleErrorsDisplay=F;ea.submit=ta;ea.send=Fa;ea.unbind=Db;ea.bind=xb;ea.reBind=jb;ea.destroy=ma;g=0;for(var h=document.getElementsByTagName('form'),b=0,x=h.length;b<
x;++b){if(h[b].getAttribute){var q=h[b].getAttribute('id')||'form.'+ba.v4();q!==h[b].getAttribute('id')&&h[b].setAttribute('id',q)}else q='form.'+ba.v4(),h[b].setAttribute('id',q);ea.id=q;ea.target=h[b];r.$forms[q]=Q({},ea);var p=h[b].getAttribute('data-gina-form-rule');if(p){p=p.replace(/\-|\//g,'.');'undefined'!=typeof l&&(r.$forms[q].rules[p]=r.rules[p]=Ea[p]=Q(JSON.clone(eval('gina.forms.rules.'+p)),r.rules[p]));if('undefined'==typeof Ea[p])throw Error('['+q+'] no rule found with key: `'+p+'`. Please check if json is not malformed @ /forms/rules/'+
p.replace(/\./g,'/')+'.json');p=r.rules[p]}'string'==typeof q&&'undefined'!=typeof Ea[q.replace(/\-/g,'.')]||'object'==typeof p?(q=r.$forms[q].target,p?xb(q,p):xb(q),++g):('object'==typeof h[b].id?(delete r.$forms[h[b].id],q=h[b].attributes.getNamedItem('id').nodeValue||'form.'+ba.v4(),h[b].setAttribute('id',q),h[b].id=q,ea.target=h[b],r.$forms[q]=Q({},ea),q=r.$forms[q].target):q=r.$forms[h[b].id].target,p?xb(q,p):xb(q))}if(window.XMLHttpRequest)O=new XMLHttpRequest;else if(window.ActiveXObject)try{O=
new ActiveXObject('Msxml2.XMLHTTP')}catch(R){try{O=new ActiveXObject('Microsoft.XMLHTTP')}catch(K){}}r.isReady=!0;gina.hasValidator=!0;gina.validator=r;triggerEvent(gina,r.target,'ready.'+r.id,r)}));r.initialized=!0;return r},La=function(l,g){var h;for(h in l)if('object'==typeof l[h]&&'undefined'==typeof r.rules[g+h]){var b=h;/\[|\]/.test(h)&&(b=h.replace(/\[/g,'.').replace(/\]/g,''));r.rules[g+b]=l[h];La(l[h],g+b+'.')}},Da=function(l){if('undefined'!=typeof Ea[l])return Ea[l];var g=null;if('undefined'==
typeof r.rules[l]){if(La(Ea,''),Ea=Ca(Ea),g=Ea[l],!g)return{}}else g=r.rules[l];g=JSON.clone(g);var h=new RegExp('^'+l),b=new RegExp('^'+l+'.'),x=null,q=function(R,K,ha,Aa,da,fa,E){if(K.length){var oa=Object.getOwnPropertyNames(R)[0],ra=K[0];ra=''==da?da+=ra:da+'['+ra+']';1==K.length&&(R[oa]=Q(R[oa],ha,!0));K.splice(0,1);ra==oa?q(R[oa],K,ha,Aa,ra,fa,E):'undefined'!=typeof R[oa]?q(R[oa],K,ha,Aa,ra,fa,E):q(R,K,ha,Aa,da,fa,E)}},p;for(p in r.rules)p!=l&&h.test(p)&&(x=p.replace(b,''),/\./.test(x)&&(x=
x.split(/\./g),q(g,x,r.rules[p],g,'',0,g.count()-1)));return Ea[l]=g},Na=formatDataFromString,Ia=function(l){var g=r.$forms[l.form.getAttribute('id')],h=/^true$/i.test(l.disabled)?!0:!1;h&&'undefined'!=typeof g.rule&&'undefined'!=typeof g.rule[l.name]&&'undefined'!=typeof g.rule[l.name].exclude&&/^false$/i.test(g.rule[l.name].exclude)&&(h=!1);if(/^(radio|text|hidden|password|number|date|email)$/i.test(l.type)&&!h){var b=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,'value'),x=b.set;b.set=
function(q){Object.defineProperty(this,'value',{set:x});var p='change.'+this.id;q===this.value&&q===this.defaultValue||q===this.value||(this.value=q,console.debug('Value set: '+q),'undefined'!=typeof gina.events[p]&&(console.debug('trigger event on: ',this.name,p),triggerEvent(gina,this,p,q)));Object.defineProperty(this,'value',b)};Object.defineProperty(l,'value',b)}},Ja=function(l,g,h,b){'undefined'==typeof b&&(b=!1);var x=l.rules,q=r.$forms[g.form.getAttribute('id')],p=/^true$/i.test(g.disabled)?
!0:!1;p&&'undefined'!=typeof q.rule&&'undefined'!=typeof q.rule[g.name]&&'undefined'!=typeof q.rule[g.name].exclude&&/^false$/i.test(q.rule[g.name].exclude)&&(p=!1);if(/^(radio|checkbox|text|hidden|password|number|date|email)$/i.test(g.type)&&!p||b&&!p){b=g.name;q=x[b]||null;if(!q&&(rb(x,g),'undefined'==typeof x[b]))return;if(l.target.dataset.ginaFormLiveCheckEnabled&&q&&(b=[],q=null,p=0,/^(radio|checkbox)$/i.test(g.type)?q=/^(radio|checkbox)$/i.test(g.type)?'changed.'+g.id:'change.'+g.id:(addEventListener(gina,
g,'focusout.'+g.id,function(K){K.preventDefault();clearTimeout(h)}),q='change.'+g.id,'undefined'==typeof gina.events[q]&&(b[p]=q,++p),q='keyup.'+g.id,'undefined'==typeof gina.events[q]&&(b[p]=q,++p),q='focusin.'+g.id,'undefined'==typeof gina.events[q]&&(b[p]=q,++p),q='focusout.'+g.id),'undefined'==typeof gina.events[q]&&(b[p]=q,++p),0<b.length)){var R=!1;addListener(gina,g,b,function(K){K.preventDefault();clearTimeout(h);if(!R&&/^changed\./i.test(K.type)||!R&&/^(radio|checkbox)$/i.test(K.target.type))R=
!0;else if(R&&/^changed\./i.test(K.type)||R&&/^(radio|checkbox)$/i.test(K.target.type))return!1;if('undefined'!=typeof r.$forms[K.target.form.getAttribute('id')].isSubmitting&&/true/i.test(r.$forms[K.target.form.getAttribute('id')].isSubmitting))return!1;var ha=function(){console.debug('processing: '+K.target.name+'/'+K.target.id);if(!/^(radio|checkbox)$/i.test(K.target.type)&&K.target.value===K.target.defaultValue&&''!=K.target.value){var Aa=r.$forms[K.target.form.getAttribute('id')].errors;if(Aa&&
0!=Aa.count())F(K.target.form,Aa,null,K.target.name);else return F(K.target.form,{},null,K.target.name),cancelEvent(K)}Aa={};var da={};Aa[K.target.name]=K.target.value;da[K.target.name]=K.target;r.$forms[K.target.form.getAttribute('id')].isValidating=!0;za(K.target,Aa,da,l.rules,function(fa){r.$forms[K.target.form.getAttribute('id')].isValidating=!1;fa.isValid()?F(K.target.form,{},fa.data,K.target.name):F(K.target.form,fa.error,fa.data,K.target.name);var E=K.target.form,oa=fa=null,ra=null;oa=db(E,
x);fa=oa.fields;oa=oa.$fields;var ja=E.getAttribute('id');ra=r.$forms[ja].rules;r.$forms[ja].isValidating=!0;za(E,fa,oa,ra,function(Z){r.$forms[ja].isValidating=!1;console.debug('['+ja+'] onSilentGlobalLiveValidation: '+Z.isValid(),Z);var Ga=Z.isValid();M&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:ja,errors:Z.error||{}}));Ka(E,Ga);R=!1})})};if(/^changed\./i.test(K.type)||/^change\./i.test(K.type)&&
'radio'==K.target.type)return function(Aa,da){if(!(0<da))return++da,setTimeout(()=>{console.debug(' changed .... '+g.id);ha()},0)}(R,0);/^focusin\./i.test(K.type)?/\-error/.test(g.parentNode.className)&&(console.debug('#1 you just focusin ....'+g.id,g.value),v(g)):/^focusout\./i.test(K.type)?/\-warning/.test(g.parentNode.className)&&(console.debug('#1 you just focusout ....'+g.id,g.value),v(g),F(g.form,r.$forms[g.form.getAttribute('id')].errors,null,g.name)):/^keyup\./i.test(K.type)?(g.ginaFormValidatorTestedValue=
g.value,h=setTimeout(function(){-1<['91','17'].indexOf(''+K.keyCode)&&0==N.count()||(console.debug(' keyup ('+K.keyCode+') .... '+g.id,g.value,' VS ',g.ginaFormValidatorTestedValue+'(old)'),ha())},1E3)):/^change\./i.test(K.type)&&!/^(checkbox)$/i.test(K.target.type)&&(console.debug(' change .... '+g.id),ha())})}}},Ua=function(l,g){l.setSelectionRange?(l.focus(),l.setSelectionRange(g,g)):l.createTextRange&&(l=l.createTextRange(),l.collapse(!0),l.moveEnd('character',g),l.moveStart('character',g),l.select())},
pb=function(l,g){if(document.activeElement&&document.activeElement.form){l=Array.prototype.filter.call(document.activeElement.form.querySelectorAll('a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), select:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])'),function(x){return 0<x.offsetWidth||0<x.offsetHeight||x===document.activeElement});var h=l.indexOf(document.activeElement);if(-1<h){var b=l[h+1];g&&(b=l[h-1]);(b||l[0]).focus()}}},ab=function(l,g){l.setAttribute('readonly',
'readonly');addListener(gina,l,'focusout.'+l.id,function(h){h.preventDefault();clearTimeout(g);h=h.currentTarget;triggerEvent(gina,h,'change.'+h.id);h.setAttribute('readonly','readonly')});addListener(gina,l,'focusin.'+l.id,function(h){h.preventDefault();h.currentTarget.removeAttribute('readonly');var b='keydown.'+h.currentTarget.id;'undefined'==typeof gina.events[b]&&addListener(gina,h.currentTarget,b,function(x){x.preventDefault();clearTimeout(g);var q=x.currentTarget,p=x.currentTarget.value,R=
q.selectionStart,K=q.selectionEnd;q.removeAttribute('readonly');switch(x.keyCode){case 46:case 8:R!=K?(q.value=p.substr(0,R)+p.substr(K),0==R&&(q.value=p.substr(K))):q.value=0==R?p.substring(R+1):p.substr(0,R-1)+p.substr(K);x.currentTarget.setAttribute('readonly','readonly');setTimeout(()=>{q.removeAttribute('readonly');setTimeout(()=>{R!=K?Ua(q,R):0==R?Ua(q,R):Ua(q,R-1)},0)},0);break;case 9:N[16]&&N[9]?pb(q,!0):pb(q);break;case 13:case 16:break;case 37:console.debug('moving left ',R-1);Ua(q,R-1);
break;case 39:R+1<p.length+1&&Ua(q,R+1);break;case 17:case 91:console.debug('CMD hit');x.preventDefault();break;case 67:if(N[67]&&N[91]||N[67]&&N[17]){q.setSelectionRange(R,K);document.execCommand('copy');break}case 86:if(N[86]&&N[91]||N[86]&&N[17]){R!=K&&(q.value=q.value.replace(p.substring(R,K),''));Ua(q,R);document.execCommand('paste');break}case 88:if(N[88]&&N[91]||N[88]&&N[17]){q.setSelectionRange(R,K);document.execCommand('cut');break}case 90:if(N[90]&&N[91]||N[90]&&N[17]){q.value=q.defaultValue;
break}default:R!=K?(q.value=p.substr(0,R)+x.key,K-1<p.length&&(q.value+=p.substring(K))):q.value=0==R?x.key+p.substring(R):p.substr(0,R)+x.key+p.substr(K),x.currentTarget.setAttribute('readonly','readonly'),setTimeout(()=>{q.removeAttribute('readonly');setTimeout(()=>{Ua(q,R+1)},0)},0)}})})},gb=function(l,g){if(/^(input|textarea)$/i.test(g.tagName)&&'undefined'==typeof gina.events['registered.'+g.id]){/^file$/i.test(g.type)||Ia(g);switch(g.tagName.toLowerCase()){case 'textarea':Ja(l,g,null,!0);break;
default:Ja(l,g,null),l=g.getAttribute('autocomplete'),/safari/i.test(navigator.userAgent)&&l&&/^(off|false)/i.test(l)&&ab(g,null)}gina.events['registered.'+g.id]=g.id}},Ub=function(l,g,h){var b=g.id+'-'+h+'-'+l+'-trigger',x=document.getElementById(b);x||(b=g.getAttribute('data-gina-form-upload--'+h+ +l+'-trigger'),x=document.getElementById(b));x&&'undefined'==typeof x.isBinded||x&&'undefined'!=typeof x.isBinded&&!/true/i.test(x.isBinded)?(addListener(gina,x,'click',function(q){q.preventDefault();
la(g,l)}),x.isBinded=!0):console.warn('[FormValidator::bindForm][upload]['+g.id+'] : did not find `upload '+l+' trigger`.\nPlease, make sure that your delete element ID is `'+b+'-'+l+'-trigger`, or add to your file input ('+g.id+') -> `data-gina-form-upload-'+l+'-trigger="your-custom-id"` definition.')},Zb=function(l,g){var h=function(b,x,q){var p=null;switch(x){case 'data-gina-form-upload-action':p='upload-to-tmp-xml';break;case 'data-gina-form-upload-reset-action':p='upload-delete-from-tmp-xml'}var R=
b.getAttribute(x);if(!R||''==R){p||console.warn('`'+x+'` definition not found for `'+b.id+'`. Trying to get default route.');var K=null;try{p&&(R=G.getRoute(p))}catch(ha){K=ha}R?(console.info('Ignore previous warnings regarding upload. I have found a default `'+x+'` route: `'+p+'@'+R.bundle+'`'),b.setAttribute('data-gina-form-upload-action',R.toUrl())):(b='`'+x+'` needs to be defined to proceed for your `input[type=file]` with ID `'+b.id+'`\n'+K+'\n',q&&(q.innerHTML+=b.replace(/(\n|\r)/g,'<br>')),
console.error(b))}};h(l,'data-gina-form-upload-action',g);h(l,'data-gina-form-upload-reset-action',g);h(l,'data-gina-form-upload-delete-action',g)},jb=function(l,g,h){l=Db(l);xb(l.target,g);return h?h(l):l},Db=function(l){var g=null,h=null;try{if(l.getAttribute&&l.getAttribute('id'))if(h=l.getAttribute('id'),'undefined'!=typeof r.$forms[h])g=r.$forms[h];else throw Error('form instance `'+h+'` not found');else if('undefined'!=typeof l.target)g=l,h=g.id;else throw Error('Validator::unbindForm($target): `$target` must be a DOM element\n'+
err.stack);}catch(p){throw Error('Validator::unbindForm($target) could not unbind form `'+l+'`\n'+p.stack);}if('undefined'!=typeof g&&!g.binded)return g;removeListener(gina,g,'success.'+h);removeListener(gina,g,'error.'+h);g.target.getAttribute('data-gina-form-event-on-submit-success')&&removeListener(gina,g,'success.'+h+'.hform');g.target.getAttribute('data-gina-form-event-on-submit-error')&&removeListener(gina,g,'error.'+h+'.hform');removeListener(gina,g,'validate.'+h);removeListener(gina,g,'validated.'+
h);removeListener(gina,g,'submit.'+h);removeListener(gina,g,'reset.'+h);l=[];h=g.target.getElementsByTagName('button');if(0<h.length)for(let p=0,R=h.length;p<R;++p)l.push(h[p]);h=g.target.getElementsByTagName('a');if(0<h.length)for(let p=0,R=h.length;p<R;++p)l.push(h[p]);h=g.target.getElementsByTagName('input');if(0<h.length)for(let p=0,R=h.length;p<R;++p)if(/^(hidden)$/i.test(h[p].type)||l.push(h[p]),/^(file)$/i.test(h[p].type)){var b=h[p].getAttribute('data-gina-form-virtual');if(b){var x=z(b).target;
if(x){l.push(x);for(let K=0,ha=na.length;K<ha;K++){var q=na[K];'undefined'!=typeof gina.events[q+'.'+b+'.hform']&&gina.events[q+'.'+b+'.hform']==b&&removeListener(gina,x,q+'.'+b+'.hform')}}}}else for(let K=0,ha=na.length;K<ha;K++)b=na[K]+'.'+h[p].id,'undefined'!=typeof gina.events[b]&&gina.events[b]==h[p].id&&removeListener(gina,h[p],b),b=na[K],'undefined'!=typeof gina.events[b]&&gina.events[b]==h[p].id&&removeListener(gina,h[p],b),b=h[p].id,'undefined'!=typeof gina.events[b]&&gina.events[b]==h[p].id&&
removeListener(gina,h[p],b);h=g.target.getElementsByTagName('textarea');if(0<h.length)for(let p=0,R=h.length;p<R;++p)l.push(h[p]);h=g.target.getElementsByTagName('form');if(0<h.length)for(let p=0,R=h.length;p<R;++p)l.push(h[p]);l.push(g.target);for(let p=0,R=l.length;p<R;++p){h=l[p];b=h.getAttribute('id');for(let K=0,ha=na.length;K<ha;K++)q=x=na[K],'undefined'!=typeof gina.events[q]&&gina.events[q]==b&&removeListener(gina,h,q),q=b,'undefined'!=typeof gina.events[q]&&gina.events[q]==b&&removeListener(gina,
h,q),q=x+'.'+b,'undefined'!=typeof gina.events[q]&&gina.events[q]==b&&removeListener(gina,h,q),q=x+'.'+b,'undefined'!=typeof gina.events[q]&&gina.events[q]==q&&removeListener(gina,h,q),q=x+'.'+b+'.hform','undefined'!=typeof gina.events[q]&&gina.events[q]==b&&removeListener(gina,h,q)}evt=null;g.binded=!1;return g},rb=function(l,g){g=g.name;if(!l[g])for(let h in l)if(/^\//.test(h)&&(re=h.match(/\/(.*)\//).pop(),flags=h.replace('/'+re+'/',''),re=re.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),re=new RegExp(re,
flags),re.test(g))){l[g]=l[h];break}},xb=function(l,g){var h=null,b=null,x=typeof(0<Ea.count())?Ea:r.rules;try{if(l.getAttribute&&l.getAttribute('id'))if(b=l.getAttribute('id'),'undefined'!=typeof r.$forms[b])h=r.$forms[b];else throw Error('form instance `'+b+'` not found');else throw Error('Validator::bindForm($target, customRule): `$target` must be a DOM element\n'+err.stack);}catch(ca){throw Error('Validator::bindForm($target, customRule) could not bind form `'+l+'`\n'+ca.stack);}if('undefined'!=
typeof h&&h.binded)return!1;console.debug('binding for: '+b);var q=!1,p=null,R='',K=null;'undefined'!=typeof g||'string'==typeof b&&'undefined'!=typeof x[b.replace(/\-|\//g,'.')]?(q=!0,p=g&&'object'==typeof g?g:g&&'string'==typeof g&&'undefined'!=typeof x[g.replace(/\-|\//g,'.')]?Da(g.replace(/\-|\//g,'.')):Da(b.replace(/\-|\//g,'.')),h.rules=p,M&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.rules||(gina.forms.rules={}),objCallback={id:b,rules:h.rules},window.ginaToolbar.update('forms',
objCallback))):h.rules={};'undefined'==typeof h.target.dataset.ginaFormLiveCheckEnabled&&0<h.rules.count()?h.target.dataset.ginaFormLiveCheckEnabled=!0:h.target.dataset.ginaFormLiveCheckEnabled='undefined'!=typeof h.target.dataset.ginaFormLiveCheckEnabled?/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)?!0:!1:!1;h.fieldsSet||(h.fieldsSet={});K=null;l.getElementsByTagName('a');g=l.getElementsByTagName('input');var ha=l.getElementsByTagName('textarea');K=l.getElementsByTagName('select');var Aa=
{},da=[],fa={},E=null,oa={},ra=null,ja=null;for(let ca=0,X=ha.length;ca<X;++ca)rb(h.rules,ha[ca]),ja=ha[ca].getAttribute('id'),ja&&''!=ja||(ja='textareas.'+ba.v4(),ha[ca].setAttribute('id',ja)),h.fieldsSet[ja]||(h.fieldsSet[ja]={id:ja,name:ha[ca].name||null,value:ha[ca].value||'',defaultValue:ha[ca].value||''}),/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)&&gb(h,ha[ca]);for(let ca=0,X=g.length;ca<X;++ca){rb(h.rules,g[ca]);ja=g[ca].getAttribute('id');ja&&''!=ja||(ja='input.'+ba.v4(),g[ca].setAttribute('id',
ja));h.fieldsSet[ja]||(E=g[ca].value,/$(on|true|false)$/i.test(E)&&(E=/$(on|true)$/i.test(E)?!0:!1),h.fieldsSet[ja]={id:ja,name:g[ca].name||null,value:E||!/^(checkbox|radio)$/i.test(g[ca].type)?'':g[ca].checked,defaultValue:/^(checkbox|radio)$/i.test(g[ca].type)?g[ca].checked:E},/^(checkbox|radio)$/i.test(g[ca].type)&&'undefined'==typeof h.fieldsSet[ja].defaultChecked&&(h.fieldsSet[ja].defaultChecked=/^(true|on)$/i.test(g[ca].checked)||/^(true|on)$/.test(E)&&/^(checkbox)$/i.test(g[ca].type)?!0:!1,
/^radio$/i.test(g[ca].type)&&(h.fieldsSet[ja].value=g[ca].value,h.fieldsSet[ja].defaultValue=g[ca].value)));/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)&&gb(h,g[ca]);if(E=g[ca].getAttribute('data-gina-form-element-group'))0>da.indexOf(E)&&da.push(E),ra=g[ca].getAttribute('name')||ja,ra===ja&&g[ca].setAttribute('name',ja),Aa[ja]={id:ja,name:ra,group:E,target:g[ca]},fa[g[ca].name]=new RegExp('^'+E.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')),q&&('undefined'==typeof h.rules[g[ca].name]&&(h.rules[g[ca].name]=
{}),'undefined'!=typeof h.rules[g[ca].name].isRequired&&h.rules[g[ca].name].isRequired||(h.rules[g[ca].name].exclude=!0));if(0<fa.count())for(var Z in fa)g[ca].name!=Z&&(g[ca].getAttribute('data-gina-form-element-group'),fa[Z].test(g[ca].name)&&(g[ca].disabled=!0,'undefined'==typeof oa[Z]&&(oa[Z]={}),oa[Z][g[ca].name]=g[ca]));if(/^file$/i.test(g[ca].type)){ja=g[ca].getAttribute('data-gina-form-upload-trigger');ja||(ja=g[ca].id);E=null;ra=(new DOMParser).parseFromString(l.innerHTML,'text/html');ja&&
(E=document.getElementById(ja));ha=document.getElementById(g[ca].id+'-error');Zb(g[ca],ha);if((ha=ra.getElementById(ja+'-preview'))&&E&&!/none/i.test(window.getComputedStyle(ha).display)&&!/none/i.test(ha.parentElement.style.display)){ra=0;console.debug('preview is visible ...');E.customFiles=[];E.form=l;ha=ha.childNodes;for(let ka=0,va=ha.length;ka<va;ka++){var Ga=null;if(/ul/i.test(ha[ka].tagName))for(let Ra=0,Xa=ha[ka].length;Ra<Xa;Ra++){let eb=$$els[ka];for(let Oa=0,wb=eb.length;Oa<wb;Oa++)/img/i.test(eb[Oa])&&
(Ga=eb[Oa],Ga.setAttribute(''),ra++)}else/img/i.test(ha[ka].tagName)&&(Ga=ha[ka],deleteLinkId=ja+'-'+ra+'-delete-trigger',Ga=Ga.src.substr(Ga.src.lastIndexOf('/')+1),E.customFiles.push({name:Ga,deleteLinkId}),Ub('delete',E,ra),ra++)}}addListener(gina,g[ca],'change',function(ka){ka.preventDefault();var va=ka.currentTarget;ka=va.files;va.customFiles=Array.from(ka);if(!ka.length)return!1;var Ra=va.getAttribute('data-gina-form-upload-action'),Xa=va.getAttribute('name'),eb='gina-upload-'+Xa.replace(/\[/g,
'-').replace(/\]/g,'-'+h.id);va.setAttribute('data-gina-form-virtual',eb);var Oa=va.getAttribute('data-gina-form-upload-on-success'),wb=va.getAttribute('data-gina-form-upload-on-error'),lb=null;if(0<ka.length){var hb=null;if(y()){hb=gina.popin.getActivePopin();hb.$target=(new DOMParser).parseFromString(hb.target.outerHTML,'text/html');hb.$target.getElementById(hb.id).innerHTML=document.getElementById(hb.id).innerHTML;var ob=hb.$target.getElementById(eb)}else ob=document.getElementById(eb);if(!ob){try{ob=
z(eb)||null}catch(Rc){}ob||=y()?hb.$target.createElement('form'):document.createElement('form');ob.id=eb;ob.action=Ra;ob.enctype='multipart/form-data';ob.method='POST';if('undefined'!=typeof va.form){Ra='files';var sb=va.getAttribute('data-gina-form-upload-prefix')||va.name||va.getAttribute('name'),mb=va.id||va.getAttribute('id'),Kb=!1,Eb=va.getAttribute('data-gina-form-upload-preview')||mb+'-preview';Eb=y()?hb.$target.getElementById(Eb):document.getElementById(Eb);'undefined'!=typeof Eb&&(Kb=!0);
sb&&(Ra=sb);sb=[];for(var Gb='name group originalFilename ext encoding size height width location mime preview'.split(' '),Ib=va.form.getElementsByTagName('INPUT'),$b,Xb,Dc,gc,Nb=0,Pc=ka.length;Nb<Pc;++Nb){Ub('reset',va,Nb);sb[Nb]=null;$b=Ra+'['+Nb+']';gc=new RegExp('^'+$b.replace(/\[/g,'\\[').replace(/\]/g,'\\]'));for(var nc=0,Lc=Ib.length;nc<Lc;++nc)$b=Ib[nc].getAttribute('type'),lb=Ib[nc].getAttribute('data-gina-form-upload-error')||mb+'-error'||null,$b&&/hidden/i.test($b)&&(Xb=Ib[nc],$b=/\[\w+\]$/i.test(Xb.name)?
Xb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Xb.name,Dc=/\[\w+\]$/i.test(Xb.name)?Xb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Xb.name,Xb&&'undefiend'!=typeof $b&&-1<Gb.indexOf($b)&&gc.test(Xb.name)?(sb[Nb]||(sb[Nb]={}),/\[preview\]/i.test(Xb.name)?('undefined'==typeof sb[Nb].preview&&(sb[Nb].preview={}),sb[Nb].preview[$b]=Xb):sb[Nb][$b]=Xb):Xb&&'undefiend'!=typeof $b&&0>Gb.indexOf($b)&&gc.test(Xb.name)&&(sb[Nb]||(sb[Nb]={}),/\[preview\]/i.test(Xb.name)?('undefined'==typeof sb[Nb].preview&&
(sb[Nb].preview={}),sb[Nb].preview[Dc]=Xb):sb[Nb][Dc]=Xb));gc=0;for(nc=Gb.length;gc<nc;++gc)sb[Nb]||(sb[Nb]={}),'undefined'==typeof sb[Nb][Gb[gc]]&&($b=Ra+'['+Nb+']['+Gb[gc]+']',$newVirtualField=document.createElement('input'),$newVirtualField.type='hidden',$newVirtualField.id='input.'+ba.v4(),$newVirtualField.name=$b,$newVirtualField.value='',va.form.appendChild($newVirtualField),sb[Nb][Gb[gc]]=va.form[va.form.length-1])}ob.uploadProperties={id:va.form.id||va.getAttribute('id'),uploadTriggerId:va.id,
$form:va.form,errorField:lb,mandatoryFields:Gb,uploadFields:sb,hasPreviewContainer:Kb,isPopinContext:y()};Kb&&(ob.uploadProperties.previewContainer=Eb)}Oa?ob.setAttribute('data-gina-form-event-on-submit-success',Oa):ob.setAttribute('data-gina-form-event-on-submit-success','onGenericXhrResponse');wb?ob.setAttribute('data-gina-form-event-on-submit-error',wb):ob.setAttribute('data-gina-form-event-on-submit-error','onGenericXhrResponse');y()?document.getElementById(hb.id).appendChild(ob):document.body.appendChild(ob)}try{var Qc=
z(eb),rc=new FormData;va=null;eb=0;for(var sc=ka.length;eb<sc;++eb)va=ka[eb],rc.append(Xa,va,va.name);Qc.send(rc,{withCredentials:!0})}catch(Rc){throw Rc;}}})}}var Pa=function(ca,X){ca.setAttribute('data-value',ca.value);if(/^(true)$/i.test(X.target.dataset.ginaFormLiveCheckEnabled&&0<X.rules.count())){var ka={},va={},Ra=null;Ra=ca.form;ka[event.target.name]=event.target.value;va[event.target.name]=event.target;r.$forms[Ra.getAttribute('id')].isValidating=!0;za(event.target,ka,va,X.rules,function(Xa){r.$forms[Ra.getAttribute('id')].isValidating=
!1;Xa.isValid()?F(Ra,{},Xa.data,event.target.name):F(Ra,Xa.error,Xa.data,event.target.name);var eb=Ra,Oa=Xa=null,wb=null;Oa=db(eb,x);Xa=Oa.fields;Oa=Oa.$fields;var lb=eb.getAttribute('id');wb=r.$forms[lb].rules;r.$forms[lb].isValidating=!0;za(eb,Xa,Oa,wb,function(hb){r.$forms[lb].isValidating=!1;console.debug('[updateSelect]: onSilentGlobalLiveValidation: '+hb.isValid(),hb);hb=hb.isValid();Ka(eb,hb);once=!1})})}};E=oa=null;Z=0;for(fa=K.length;Z<fa;++Z)if(rb(h.rules,K[Z]),ja=K[Z].getAttribute('id'),
!ja||!/^gina\-toolbar/.test(ja)){ja&&''!=ja||(ja='select.'+ba.v4(),K[Z].setAttribute('id',ja));if(E=K[Z].getAttribute('data-gina-form-element-group'))oa=K[Z].getAttribute('name')||ja,oa===ja&&K[Z].setAttribute('name',ja),Aa[ja]={id:ja,name:oa,group:E,target:K[Z]};addListener(gina,K[Z],'change',function(ca){ca=ca.target;/select/i.test(ca.type)&&Pa(ca,h)});if(K[Z].options&&!h.fieldsSet[ja]){oa=0;if(E=K[Z].getAttribute('data-value')||null)for(ra=0,ha=K[Z].options.length;ra<ha;++ra)if(K[Z].options[ra].value==
E){oa=ra;K[Z].selectedIndex=oa;break}'undefined'!=typeof K[Z].options[K[Z].selectedIndex]&&K[Z].options[K[Z].selectedIndex].index&&(oa=K[Z].options[K[Z].selectedIndex].index);0<K[Z].options.length&&'undefined'!=typeof K[Z].options[oa]&&(E=K[Z].options[oa].value);h.fieldsSet[ja]={id:ja,name:K[Z].name||null,value:E||null,selectedIndex:oa||0};'undefined'!=typeof K[Z].selectedIndex&&-1<K[Z].selectedIndex&&(K[Z].options[oa].selected=!0,K[Z].setAttribute('data-value',K[Z].options[oa].value))}}var $a=function(ca,
X,ka,va){'undefined'==typeof va&&(va=!1);if('undefined'==typeof Aa[ca])throw Error('Radio & Checkbox dependencies not met: you must use the ID attribue of the `master element` as the `data-gina-form-element-group`');var Ra=ca.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');ca=Aa[ca].target.checked;for(let Oa in Aa)if(!/radio|checkbox/i.test(Aa[Oa].target.type)){var Xa=new RegExp(Ra);var eb=new RegExp(X);if(Xa.test(Aa[Oa].group)&&eb.test(Aa[Oa].group)||Xa.test(Aa[Oa].group))Aa[Oa].target.disabled=!0,'undefined'==
typeof h.rules[Aa[Oa].name]&&(h.rules[Aa[Oa].name]={}),h.rules[Aa[Oa].name].exclude=!0,va?(Aa[Oa].target.disabled=ca?!1:!0,h.rules[Aa[Oa].name].exclude=ca?!1:!0):(Aa[Oa].target.disabled=ka,h.rules[Aa[Oa].name].exclude=ka)}},ib=function(ca,X,ka,va){'undefined'==typeof va&&(va=!1);if(va&&'undefined'!=typeof Aa[X.id])return ca=/true/i.test(X.checked)?!1:!0,$a(X.id,Aa[X.id].group,ca,va);ka=X.name;q&&'undefined'==typeof ca.rules[ka]&&(ca.rules[ka]={});/^true$/i.test(X.checked)?q&&(ca.rules[ka].exclude=
!1,'undefined'!=typeof Aa[X.id]&&$a(X.id,Aa[X.id].group,!1,va)):q&&(ca.rules[ka].exclude=!0,'undefined'!=typeof Aa[X.id]&&$a(X.id,Aa[X.id].group,!0,va))},Cb=function(ca,X){'undefined'==typeof X&&(X=!1);var ka=function(Oa,wb,lb){if(wb)ib(h,Oa,wb);else for(let hb in Aa)if(eb.test(Aa[hb].group)||eb.test(Aa[hb].target.getAttribute('data-gina-form-element-group')))Aa[hb].target.disabled=lb};X&&/^(on)$/i.test(ca.value)&&!ca.checked&&(ca.value=!1);var va=ca.getAttribute('data-value')||ca.getAttribute('value')||
ca.value;va=/^(true|on)$/.test(va)?!0:va;''===va&&(va=!1);var Ra=/^(true|on|false)$/i.test(va)?!0:!1;X&&Ra&&(/^true$/i.test(va)&&!ca.checked?ca.checked=!0:/^false$/i.test(va)&&ca.checked&&(ca.checked=!1));va=ca.checked;var Xa=ca.getAttribute('data-gina-form-element-group')||null,eb=new RegExp(ca.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));va&&'null'!=va&&'false'!=va&&''!=va?(X?zb(ca):(setTimeout(function(){ca.checked=!0;ka(ca,Xa,!1);zb(ca)},0),ca.setAttribute('checked','checked')),Ra&&(ca.value=!0,ca.setAttribute('value',
!0),typeof('undefined'!=ca.getAttribute('data-value'))&&ca.setAttribute('data-value',!0))):(X?zb(ca):setTimeout(function(){ca.checked=!1;ka(ca,Xa,!0);zb(ca)},0),ca.removeAttribute('checked'),Ra&&(ca.value=!1,ca.setAttribute('value','false'),typeof('undefined'!=ca.getAttribute('data-value'))&&ca.setAttribute('data-value','false')))},zb=function(ca){ca=new RegExp(ca.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(let X in Aa)(/checkbox/i.test(Aa[X].target.type)&&ca.test(Aa[X].group)||/checkbox/i.test(Aa[X].target.type)&&
ca.test(Aa[X].target.getAttribute('data-gina-form-element-group')))&&ib(h,Aa[X].target,Aa[X].group,!0)},qb=function(ca,X){X=ca.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');X=new RegExp(X);for(let ka in Aa)if(/checkbox|radio/i.test(Aa[ka].target.type)||(Aa[ka].target.disabled=!0,'undefined'==typeof h.rules[Aa[ka].name]&&(h.rules[Aa[ka].name]={}),h.rules[Aa[ka].name].exclude=!0),X.test(Aa[ka].group)||X.test(Aa[ka].target.getAttribute('data-gina-form-element-group').replace(/\-|_|@|#|\.|\[|\]/g,'\\$&')))Aa[ka].target.disabled=
!0,'undefined'==typeof h.rules[Aa[ka].name]&&(h.rules[Aa[ka].name]={}),/^(true|on)$/i.test(ca.checked)?(Aa[ka].target.disabled=!1,h.rules[Aa[ka].name].exclude=!1):(Aa[ka].target.disabled=!0,h.rules[Aa[ka].name].exclude=!0);zb(ca)},Mb=null,Ya=function(ca,X,ka){X='undefined'!=typeof X&&X?!0:!1;ka='undefined'!=typeof ka&&ka?!0:!1;var va=ca.checked,Ra=/^(true|false)$/i.test(ca.value);Mb=document.getElementsByName(ca.name);for(let Xa=0,eb=Mb.length;Xa<eb;++Xa)Mb[Xa].id!==ca.id&&va&&(Mb[Xa].checked=!1,
Mb[Xa].removeAttribute('checked'),qb(Mb[Xa],!0));X?qb(ca):(va&&'null'!=va&&'false'!=va&&''!=va?setTimeout(function(){ka?qb(ca):(ca.checked=!1,ca.removeAttribute('checked'))},0):setTimeout(function(){ka?qb(ca):(ca.checked=!0,ca.setAttribute('checked','checked'))},0),Ra&&(ca.value=/^true$/.test(ca.value)?!0:!1))};Z=0;for(fa=g.length;Z<fa;++Z){K=g[Z].getAttribute('type');if('undefined'==typeof g[Z].id||''==g[Z].id)g[Z].id=K+'-'+ba.v4(),g[Z].setAttribute('id',g[Z].id);if('undefined'!=typeof K&&/^checkbox$/i.test(K)){if(g[Z].disabled&&
-1<da.indexOf(g[Z].id)||!g[Z].checked&&-1<da.indexOf(g[Z].id)){K=new RegExp(g[Z].id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(var cb in Aa)K.test(Aa[cb].group)&&(Aa[cb].target.disabled=!0)}R='change.'+g[Z].id;K=function(ca,X){addListener(gina,ca,X,function(ka){Cb(ka.target);triggerEvent(gina,ka.target,'changed.'+ka.target.id)});Cb(ca,!0)};'undefined'!=typeof gina.events[R]&&gina.events[R]==g[Z].id&&removeListener(gina,g[Z],R);K(g[Z],R)}else'undefined'!=typeof K&&/^radio$/i.test(K)&&(R=g[Z].id,K=function(ca,
X){addListener(gina,ca,X,function(ka){Ya(ka.target);triggerEvent(gina,ka.target,'changed.'+ka.target.id)});Ya(ca,!0)},'undefined'!=typeof gina.events[R]&&gina.events[R]==g[Z].id&&removeListener(gina,g[Z],R),K(g[Z],R))}R='click';K=function(){var ca=null;ca='reset.'+l.id;'undefined'==typeof gina.events[ca]&&addListener(gina,l,ca,function(X){X.preventDefault();var ka=r.$forms[X.currentTarget.id||X.target.id];ka.target.dataset.ginaFormIsResetting=!0;T(ka);X=db(ka.target,ka.rules,!0);za(ka.target,X.fields,
X.$fields,ka.rules,function(va){var Ra=va.isValid();console.debug('silent reset validation result[isValid:'+Ra+']: ',va);F(ka.target,{});Ka(ka.target,Ra);ka.target.dataset.ginaFormIsResetting=!1})});addListener(gina,l,'reset',function(X){var ka=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;X.preventDefault();var va=ka.id;if(!va)return!1;/^reset\./.test(va)||(va='reset.'+ka.id);gina.events[va]&&triggerEvent(gina,ka,va,X.detail)});addListener(gina,l,'keydown',function(X){var ka=
X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;N[X.keyCode]='keydown'==X.type;var va=ka.id;if(!va)return!1;/^keydown\./.test(va)||(va='keydown.'+ka.id);gina.events[va]&&(cancelEvent(X),triggerEvent(gina,ka,va,X.detail,X))});addListener(gina,l,'keyup',function(X){var ka=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;N[X.keyCode]&&delete N[X.keyCode];var va=ka.id;if(!va)return!1;/^keyup\./.test(va)||(va='keyup.'+ka.id);gina.events[va]&&
(cancelEvent(X),triggerEvent(gina,ka,va,X.detail,X))});addListener(gina,l,'focusin',function(X){var ka=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;var va=ka.id;if(!va)return!1;/^focusin\./.test(va)||(va='focusin.'+ka.id);gina.events[va]&&(cancelEvent(X),triggerEvent(gina,ka,va,X.detail))});addListener(gina,l,'focusout',function(X){var ka=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;var va=ka.id;if(!va)return!1;/^focusout\./.test(va)||
(va='focusout.'+ka.id);gina.events[va]&&(cancelEvent(X),triggerEvent(gina,ka,va,X.detail))});addListener(gina,l,'change',function(X){var ka=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;var va=ka.id;if(!va)return!1;/^change\./.test(va)||(va='change.'+ka.id);gina.events[va]&&(cancelEvent(X),triggerEvent(gina,ka,va,X.detail))});addListener(gina,l,'click',function(X){var ka=X.target,va=!1,Ra=!1;if(/(label)/i.test(X.target.tagName)&&'undefined'!=typeof X.target.control&&
null!=X.target.control&&/(checkbox|radio)/i.test(X.target.control.type)||/(label)/i.test(X.target.parentNode.tagName)&&'undefined'!=typeof X.target.parentNode.control&&null!=X.target.parentNode.control&&/(checkbox|radio)/i.test(X.target.parentNode.control.type))Ra=X.target.getAttribute('for')||X.target.parentNode.getAttribute('for')?!0:!1,ka=X.target.control||X.target.parentNode.control;if(!ka.disabled&&/(checkbox|radio)/i.test(ka.type)&&!Ra){if(/checkbox/i.test(ka.type))return Cb(ka);if(/radio/i.test(ka.type))return Ya(ka,
!1,!0)}if(/(button|input)/i.test(ka.tagName)&&/(submit|checkbox|radio)/i.test(ka.type)||/a/i.test(ka.tagName)&&ka.attributes.getNamedItem('data-gina-form-submit')||/a/i.test(ka.parentNode.tagName)&&ka.parentNode.attributes.getNamedItem('data-gina-form-submit')){Ra=ka.attributes.getNamedItem('data-gina-form-submit');var Xa=ka.parentNode.attributes.getNamedItem('data-gina-form-submit');if(Ra||Xa)va=!0,(Xa=Ra?ka.getAttribute('data-gina-form-submit-method')||X.currentTarget.getAttribute('method'):ka.parentNode.getAttribute('data-gina-form-submit-method')||
X.currentTarget.getAttribute('method'))&&(Ra&&ka.form?ka.form.setAttribute?ka.form.setAttribute('method',Xa):X.currentTarget.setAttribute('method',Xa):ka.parentNode.form&&(ka.parentNode.form.setAttribute?ka.parentNode.form.setAttribute('method',Xa):X.currentTarget.setAttribute('method',Xa)));'undefined'!=typeof ka.id&&ka.getAttribute('id')||ka.setAttribute('id','click.'+ba.v4());ka.id=ka.getAttribute('id');if(/^click\./.test(ka.id)||q){Ra=ka.id;if(!Ra)return!1;/^click\./.test(Ra)||(Ra=ka.id);if(!ka.disabled&&
/(checkbox|radio)/i.test(ka.type)){if(/checkbox/i.test(ka.type))return Cb(ka);if(/radio/i.test(ka.type))return Ya(ka,!1,!0)}if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;if('submit'==ka.type&&!/^submit\./i.test(Ra)||va&&!/^submit\./i.test(Ra))Ra='submit.'+Ra;'reset'!=ka.type||/^reset\./i.test(Ra)||(Ra='reset.'+Ra);gina.events[Ra]?(cancelEvent(X),triggerEvent(gina,ka,Ra,X.detail)):va&&'undefined'!=typeof this.id&&''!=this.id&&'undefined'!=typeof gina.validator.$forms[this.id]&&
(gina.validator.getFormById(this.id).submit(),cancelEvent(X))}}})};K();R='validate.'+b;K=function(){addListener(gina,l,R,function(ca){cancelEvent(ca);var X=h.eventData.error||h.eventData.validation||ca.detail;F(ca.target,X.fields||X.error,X.data);ca=ca.target.getAttribute('id');if('undefined'!=typeof X.isValid&&X.isValid()){var ka=r.$forms[ca].target.getAttribute('data-gina-form-inherits-data')||null;ka&&(X.data=Q(X.data,JSON.parse(decodeURIComponent(ka))));r.$forms[ca]?r.$forms[ca].send(X.data):
h&&h.send(X.data)}})};'undefined'!=typeof gina.events[R]&&gina.events[R]=='validate.'+b&&removeListener(gina,h,R,K);K();cb=function(ca,X){/^submit\./i.test(ca)||(ca='submit.'+ca);addListener(gina,X,ca,function(ka){cancelEvent(ka);var va={};ka={_length:0};var Ra=l.getAttribute('id'),Xa='undefined'!=typeof r.$forms[Ra]?r.$forms[Ra].rules:null;r.$forms[Ra].sent||(va=db(l,Xa),ka=va.fields,va=va.$fields,Xa=r.$forms[Ra].rules,0==ka._length?(delete ka._length,ka={error:[],isValid:function(){return!0},data:Na(ka)},
triggerEvent(gina,l,'validate.'+b,ka)):(b=l.getAttribute('id'),p=(Xa=l.getAttribute('data-gina-form-rule'))?Da(Xa.replace(/\-|\//g,'.')):Da(b.replace(/\-/g,'.')),r.$forms[Ra].isSubmitting=!0,r.$forms[Ra].isSending=!1,za(l,ka,va,p,function(eb){triggerEvent(gina,l,'validate.'+b,eb)})))})};da=null;g=[];da=[];K=null;da=l.getElementsByTagName('button');if(0<da.length)for(let ca=0,X=da.length;ca<X;++ca)'submit'==da[ca].type&&g.push(da[ca]);da=l.getElementsByTagName('a');if(0<da.length)for(let ca=0,X=da.length;ca<
X;++ca)da[ca].attributes.getNamedItem('data-gina-form-submit')?g.push(da[ca]):da[ca].getAttribute('id')||/gina\-popin/.test(da[ca].className)||gina.popinIsBinded||/gina\-link/.test(da[ca].className)||(K='link.'+ba.v4(),da[ca].id=K);K=null;Z=!1;for(let ca=0,X=g.length;ca<X;++ca){da=g[ca];if(/button/i.test(da.tagName)&&'undefined'!=typeof da.type&&/submit/i.test(da.type)||/a/i.test(da.tagName)&&'undefined'!=typeof da.dataset.ginaFormSubmit&&/^true$/i.test(da.dataset.ginaFormSubmit)||/a/i.test(da.parentNode.tagName)&&
'undefined'!=typeof da.parentNode.dataset.ginaFormSubmit&&/^true$/i.test(da.parentNode.dataset.ginaFormSubmit)){/a/i.test(da.parentNode.tagName)&&(da=da.parentNode);if('undefined'==typeof da.id||'undefined'!=typeof da.id&&''==da.id)da.id='click.'+ba.v4(),da.setAttribute('id',da.id);/a/i.test(da.tagName)&&'undefined'==typeof da.form&&(da.form={id:h.id});'undefined'==typeof da.dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof r.$forms[h.id]&&'undefined'==typeof r.$forms[h.id].submitTrigger&&'undefined'!=
typeof da.form.id&&h.id==da.form.id&&(console.debug('attching submitTrigger: '+da.id,'  form id: '+h.id),r.$forms[h.id].submitTrigger=h.submitTrigger=da.id||da.getAttribute('id'),da.dataset.ginaFormSubmitTriggerFor=h.id)}'A'==da.tagName&&(K=da.getAttribute('onclick'),Z=da.getAttribute('data-gina-form-submit'),K||Z?/return false/i.test(K)||Z||(K=/;$/.test(K)?K+'return false;':K+'; return false;'):da.setAttribute('onclick','return false;'));da.id?R=da.id:(R='click.'+ba.v4(),da.id=R,da.setAttribute('id',
R));'undefined'!=typeof gina.events[R]&&gina.events[R]==da.id||cb(R,da)}R='submit';addListener(gina,l,R,function(ca){var X=ca.target,ka=X.getAttribute('id'),va=r.$forms[ka],Ra=h.binded;(va=(new DOMParser).parseFromString(X.innerHTML,'text/html').getElementById(va.submitTrigger))&&va.disabled&&cancelEvent(ca);if('undefined'!=typeof ca.defaultPrevented&&ca.defaultPrevented)return!1;(q||Ra)&&cancelEvent(ca);ca={};Ra={_length:0};va='undefined'!=typeof gina.validator.$forms[ka]?gina.validator.$forms[ka].rules:
null;for(var Xa=null,eb=null,Oa=0,wb=X.length;Oa<wb;++Oa)Xa=X[Oa].getAttribute('name'),eb=X[Oa].disabled||X[Oa].getAttribute('disabled'),eb=/disabled|true/i.test(eb)?!0:!1,Xa&&!eb&&('undefined'!=typeof X[Oa].type&&'radio'==X[Oa].type||'undefined'!=typeof X[Oa].type&&'checkbox'==X[Oa].type?X[Oa].checked?/^(true|false)$/.test(X[Oa].value)?Ra[Xa]=X[Oa].value=/^true$/.test(X[Oa].value)?!0:!1:Ra[Xa]=X[Oa].value:va&&'undefined'!=typeof va[Xa]&&'undefined'!=typeof va[Xa].isBoolean&&'checkbox'==X[Oa].type&&
!/^(true|false)$/.test(X[Oa].value)&&(Ra[Xa]=!1):Ra[Xa]=X[Oa].value,ca[Xa]=X[Oa],ca[Xa].setAttribute('data-gina-form-errors',''));Ra._length=Ra.count();0==Ra._length?(delete Ra._length,ca={error:[],isValid:function(){return!0},data:Na(Ra)},'undefined'!=typeof gina.events['submit.'+ka]?triggerEvent(gina,X,'submit.'+ka,ca):triggerEvent(gina,X,'validate.'+ka,ca)):(p=(va=X.getAttribute('data-gina-form-rule'))?Da(va.replace(/\-|\//g,'.')):Da(ka.replace(/\-/g,'.')),r.$forms[ka].isValidating=!0,za(X,Ra,
ca,p,function(lb){r.$forms[ka].isValidating=!1;'undefined'!=typeof gina.events['submit.'+ka]?triggerEvent(gina,X,'submit.'+ka,lb):triggerEvent(gina,X,'validate.'+ka,lb)}))});r.$forms[b].binded=!0;/^(true)$/i.test(h.target.dataset.ginaFormLiveCheckEnabled&&0<h.rules.count())?(console.debug('silent validation mode on'),cb=db(h.target,h.rules),za(h.target,cb.fields,cb.$fields,h.rules,function(ca){console.debug('silent validation result[isValid:'+ca.isValid()+']: ',ca);M&&U&&'undefined'!=typeof window.ginaToolbar&&
window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:b,errors:ca.error}));Ka(h,ca.isValid())})):/^(true)$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)||Ka(h,!0)},Ka=function(l,g){$formInstance=null;l instanceof HTMLFormElement?(l=l.getAttribute('id'),$formInstance=r.$forms[l]):$formInstance=l;'undefined'==typeof $formInstance.submitTrigger?console.warn('This might be normal, so do not worry if this form is handled by your javascript: `'+$formInstance.id+
'`\nGina could not complete `updateSubmitTriggerState()`: `submitTrigger` might not be attached to form instance `'+$formInstance.id+'`\nTo disable this warning, You just need to disable `Form Live Checking on your form by adding to your <form>: `data-gina-form-live-check-enabled=false``'):document.getElementById($formInstance.submitTrigger)&&(/true/i.test(g)?document.getElementById($formInstance.submitTrigger).disabled=!1:document.getElementById($formInstance.submitTrigger).disabled=!0)},db=function(l,
g,h){'undefined'==typeof h&&(h=!1);var b={},x={},q=l.id||l.getAttribute('id');'undefined'==typeof g&&(g='undefined'!=typeof r.$forms[q].rules&&0<r.$forms[q].rules.count()?r.$forms[q].rules:null,g||'undefined'==typeof gina.validator.$forms[q]||(g=gina.validator.$forms[q].rules));for(var p=0,R=l.length;p<R;++p){if(h)switch(l[p].tagName.toLowerCase()){case 'input':/^(hidden|text)$/i.test(l[p].type)&&(l[p].value=l[p].defaultValue)}if(/button/i.test(l[p].tagName)&&'undefined'!=typeof l[p].type&&/submit/i.test(l[p].type)||
/a/i.test(l[p].tagName)&&'undefined'!=typeof l[p].dataset.ginaFormSubmit&&/^true$/i.test(l[p].dataset.ginaFormSubmit))/a/i.test(l[p].tagName)&&'undefined'==typeof l[p].form&&(l[p].form={id:q}),'undefined'==typeof l[p].dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof r.$forms[q]&&'undefined'==typeof r.$forms[q].submitTrigger&&'undefined'!=typeof l[p].form.id&&q==l[p].form.id&&(r.$forms[q].submitTrigger=l[p].id||l[p].getAttribute('id'),l[p].dataset.ginaFormSubmitTriggerFor=q);var K=l[p].getAttribute('name');
var ha=l[p].disabled||l[p].getAttribute('disabled');ha=/disabled|true/i.test(ha)?!0:!1;if(K&&!ha){if('undefined'!=typeof l[p].type&&'radio'==l[p].type||'undefined'!=typeof l[p].type&&'checkbox'==l[p].type)if(l[p].checked||'undefined'==typeof g[K]&&'undefined'!=l[p].value&&/^(true|false)$/.test(l[p].value)||!l[p].checked&&'undefined'!=typeof g[K]&&'undefined'!=typeof g[K].isBoolean&&/^(true|false)$/.test(l[p].value))if(/^(true|false)$/.test(l[p].value))if('undefined'==typeof g[K]?g[K]={isBoolean:!0}:
'undefined'!=typeof g[K]&&'undefined'==typeof g[K].isBoolean&&(g[K].isBoolean=!0,g[K].isRequired=!0),'radio'==l[p].type){if('undefined'==typeof g[K])throw Error('rule '+K+' is not defined');/^true$/.test(g[K].isBoolean)&&l[p].checked&&(x[K]=/^true$/.test(l[p].value)?!0:!1)}else x[K]=l[p].value=/^true$/.test(l[p].value)?!0:!1;else x[K]=l[p].value;else g&&'undefined'!=typeof g[K]&&'undefined'!=typeof g[K].isBoolean&&'undefined'!=typeof g[K].isRequired&&!/^(true|false)$/.test(l[p].value)&&(x[K]=!1);
else x[K]=l[p].value;'undefined'==typeof b[K]&&(b[K]=l[p],b[K].setAttribute('data-gina-form-errors',''))}}x._length=x.count()||0;return{$fields:b,fields:x,rules:g}},Lb=function(l,g,h,b){return'undefined'==typeof l[h]||/^(null|NaN|undefined|\s*)$/i.test(g[h])?g[h]:'undefined'!=typeof l[h].isNumber||'undefined'!=typeof l[h].isInteger||'undefined'!=typeof l[h].isFloat||'undefined'!=typeof l[h].toFloat||'undefined'!=typeof l[h].toInteger?(/,/.test(g[h])&&(g[h]=g[h].replace(/,/g,'.').replace(/\s+/g,'')),
g[h]):'boolean'==typeof g[h]?g[h]:l[h].isBoolean?/^true$/i.test(g[h])?!0:!1:'undefined'!=typeof b&&/^true$/i.test(b)?'\\"'+g[h]+'\\"':g[h]},Vb=function(l,g){'string'!=typeof l&&(l=JSON.stringify(JSON.clone(l)));l=JSON.parse(l.replace(/"(true|false)"/gi,'$1'));for(let h in g)g[h]=Lb(l,g,h);return g},ya=function(l,g,h,b){var x=JSON.parse(l.replace(/"(true|false)"/gi,'$1')),q=JSON.stringify(x);b&&(g=h[Object.getOwnPropertyNames(h)[0]].form,h=db(g,x),delete h.fields._length,g=h.fields,h=h.$fields);b=
[];var p=0;for(R in g)b[p]=R,p++;b.sort().reverse();for(let ha=0,Aa=b.length;ha<Aa;ha++){var R=b[ha].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');R=new RegExp('\\$'+R,'g');p='\\"'+g[b[ha]]+'\\"';var K=R.test(q);K&&'undefined'!=typeof x[b[ha]]?p=Lb(x,g,b[ha],!0):K&&console.warn('`'+b[ha]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+b[ha]+'` to `string`.');l=l.replace(R,p)}if(/\$(.*)/.test(l))for(let ha=0,Aa=b.length;ha<Aa;ha++)R=b[ha].replace(/\-|_|@|#|\.|\[|\]/g,
'\\$&'),R=new RegExp('\\$'+R,'g'),p=''!=h[b[ha]].value?'\\"'+h[b[ha]].value+'\\"':'\\"\\"',(K=R.test(q))&&'undefined'!=typeof x[b[ha]]?p=Lb(x,g,b[ha],!0):K&&console.warn('`'+b[ha]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+b[ha]+'` to `string`.'),l=l.replace(R,p||h[b[ha]].checked);return JSON.parse(l)},za=function(l,g,h,b,x){delete g._length;var q=JSON.stringify(b);g=Vb(q,g);/\$(.*)/.test(q)&&(b=!/^form$/i.test(l.tagName)&&1==h.count()&&/true/i.test(l.form.dataset.ginaFormLiveCheckEnabled)?
!0:!1,b=ya(q,g,h,b));var p=null,R=q=null,K=!1,ha=0;g.count();var Aa=!1,da=null,fa=null,E=null,oa=0,ra=null,ja=null,Z=null,Ga=function(Ya,cb,ca){if('undefined'==typeof cb[Ya]){skipTest=!1;for(var X in cb)if(!/^_comment$/i.test(X)&&/^\//.test(X)&&(ra=X.match(/\/(.*)\//).pop(),ja=X.replace('/'+ra+'/',''),ra=ra.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),ra=new RegExp(ra,ja),ra.test(Ya))){skipTest=!0;cb[Ya]=cb[X];break}if('undefined'==typeof cb[Ya])return}var ka=Object.getOwnPropertyNames(cb)||[];X=0;var va=
ka.length;if(0<va)for(;X<va;)'undefined'!=typeof cb[ka[X]].exclude&&/^true$/i.test(cb[ka[X]].exclude)&&(ka.splice(X,1),va--,X--),X++;for(var Ra in cb[Ya])if('function'==typeof Pa[Ya][Ra]){/^((is)\d+|is$)/.test(Ra)&&'undefined'==typeof Pa[Ya][Ra]&&(Pa[Ya][Ra]=function(){},Pa[Ya][Ra]=S(Pa[Ya][Ra],Pa[Ya][Ra.replace(/\d+/,'')]),Pa[Ya][Ra].setAlias=function(lb){this._currentValidatorAlias=lb}(Ra));try{if(Array.isArray(cb[Ya][Ra])){Z=JSON.clone(cb[Ya][Ra]);if(/\$[\-\w\[\]]*/.test(Z[0])){var Xa=Z[0].match(/\$[\-\w\[\]]*/g);
X=0;for(var eb=Xa.length;X<eb;++X)Z[0]=Z[0].replace(Xa[X],Pa[Xa[X].replace('$','')].value)}Pa[Ya][Ra].apply(Pa[Ya],Z)}else if(/^query$/.test(Ra)){da=h[Ya];fa=da.getAttribute('id');E='asyncCompleted.'+fa;var Oa=0,wb=!1;if('undefined'!=typeof gina.events[E]){console.debug('event `'+E+'` already added');oa=0;break}++oa;addListener(gina,da,E,function(lb){lb.preventDefault();Oa++;--oa;var hb=Object.getOwnPropertyNames(cb[Ya]);hb[hb.length-1]==Ra&&(Aa=!0);hb='asyncCompleted.'+lb.target.getAttribute('id');
if(!/true/.test(wb)){Pa[Ya]=lb.detail;var ob=l;/^form$/i.test(l.tagName)||(ob=l.form);var sb=ob.getAttribute('id');if(Aa&&0>=oa&&!wb&&(wb=!0,removeListener(gina,lb.target,hb),x._data=Pa.toData(),x._errors=Pa.getErrors(Ya),x._errors&&0<x._errors.count())){'undefined'==typeof r.$forms[sb].errors&&(r.$forms[sb].errors={});r.$forms[sb].errors[Ya]=x._errors[Ya];if(!mb&&/^true|false$/i.test(r.$forms[sb].isValidating)||''!=Pa[Ya].target.value)v(zb[Ya]),F(ob,x._errors,x._data,Ya),Ka(ob,mb);M&&U&&'undefined'!=
typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:sb,errors:r.$forms[sb].errors||{}}));triggerEvent(gina,ob,'validated.'+sb,x);return}lb=!1;var mb=null;1==ka.length||ka[ka.length-1]==Ya?(mb=0<x._errors.count()?!1:!0,!mb&&/^true|false$/i.test(r.$forms[sb].isValidating)&&(r.$forms[sb].errors=Q(x._errors,r.$forms[sb].errors),v(zb[Ya]),F(ob,x._errors,x._data,Ya),Ka(ob,mb)),triggerEvent(gina,ob,'validated.'+sb,x)):/^true$/i.test(r.$forms[sb].isValidating)&&
1<ka.length&&ka[ka.length-1]!=Ya&&(lb=!0);lb&&za(ob,Cb,zb,cb,function(Kb){r.$forms[sb].isValidating=!1;mb=Kb.isValid();M&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:sb,errors:Kb.error||{}}));F(ob,Kb.error,Kb.data,Ya);Ka(ob,mb)})}});Pa[Ya][Ra](cb[Ya][Ra]);continue}else Pa[Ya][Ra](cb[Ya][Ra]);delete ca[Ya]}catch(lb){if('conditions'==Ra)throw Error('[ ginaFormValidator ] could not evaluate `'+Ya+'->'+
Ra+'()` where `conditions` must be a `collection` (Array)\nStack:\n'+lb);throw Error('[ ginaFormValidator ] could not evaluate `'+Ya+'->'+Ra+'()`\nStack:\n'+lb);}}},Pa=null,$a={},ib=!1;U?/^form$/i.test(l.tagName)?(p=l.getAttribute('id'),q='validated.'+p,r.$forms[p].fields=g,'undefined'!=typeof l.eventData&&'undefined'!=typeof l.eventData.error&&delete l.eventData.error,Pa=new u(g,h,D)):(ib=!0,p=l.form.getAttribute('id')||l.form.target.getAttribute('id'),q='validated.'+p,r.$forms[p].fields=g,Pa=new u(g,
h,D,r.$forms[p].fieldsSet)):Pa=new u(g,null,D);var Cb=null,zb=null;if(ib){ib=l.form.getAttribute('id');var qb=db(r.$forms[ib].target,r.$forms[ib].rules,!1);Cb=Vb(JSON.stringify(r.$forms[ib].rules),JSON.clone(qb.fields));zb=qb.$fields}else Cb=JSON.clone(g),zb=h;ib='undefined'!=typeof b?JSON.clone(b):{};var Mb=function(Ya,cb,ca,X,ka,va,Ra,Xa){var eb=null;if('undefined'!=typeof va)for(var Oa in X){var wb=ka[Oa].getAttribute('type');if(U&&'undefined'==typeof ka[Oa])console.warn('field `'+Oa+'` found for your form rule ('+
Ya.id+'), but not found in $field collection.\nPlease, check your HTML or remove `'+Oa+'` declaration from your rule if this is a mistake.');else{U&&ka[Oa].getAttribute('data-gina-form-element-group')&&'undefined'!=typeof va[Oa]&&'undefined'!=typeof va[Oa].exclude&&va[Oa].exclude&&!ka[Oa].disabled&&(va[Oa].exclude=!1);var lb='undefined'!=typeof va['_case_'+Oa]?!0:!1;if(U&&'input'==ka[Oa].tagName.toLowerCase()&&/^(checkbox)$/i.test(wb))if(!ka[Oa].checked&&'undefined'!=typeof va[Oa]&&'undefined'!=typeof va[Oa].isRequired&&
/^(false)$/i.test(va[Oa].isRequired)||ka[Oa].disabled)va[Oa]={exclude:!0};else{if(!ka[Oa].checked&&'undefined'==typeof va[Oa])continue}else U&&'input'==ka[Oa].tagName.toLowerCase()&&/^(radio)$/i.test(wb)&&console.debug('Radio: ',ka[Oa].id,ka[Oa].checked,ka[Oa].value);for(var hb in va)if(/^_case_/.test(hb)&&'undefined'!=typeof va[hb].conditions&&(!Array.isArray(va[hb].conditions)||va[hb].conditions.length)&&'undefined'!=typeof va[hb].conditions[0].rules&&'undefined'!=typeof va[hb].conditions&&Array.isArray(va[hb].conditions))if(eb=
hb.replace('_case_',''),'undefined'==typeof zb[eb])console.warn('Found case `'+hb+'` but field `'+eb+'` is misssing in the dom.\n You should add `'+eb+'` element to your form in order to allow Validator to process this case.');else{'undefined'==typeof cb[eb]&&(cb[eb]=zb[eb].value);wb=cb[eb];U&&('true'==X[Oa]?wb=!0:'false'==X[Oa]&&(wb=!1));for(var ob=0,sb=va[hb].conditions.length;ob<sb;++ob)if(va[hb].conditions[ob].case==wb)for(var mb in va[hb].conditions[ob].rules)if(!/^_comment$/i.test(mb)&&mb!=
eb&&ka[mb])if(Oa==mb||/^\//.test(mb)||'undefined'!=typeof X[mb]||'undefined'==typeof cb[mb])if(/^\//.test(mb)){if(ra=mb.match(/\/(.*)\//).pop(),ja=mb.replace('/'+ra+'/',''),ra=ra.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),ra=new RegExp(ra,ja),ra.test(Oa)){if(va[hb].conditions[ob].case==wb||/^\//.test(va[hb].conditions[ob].case)&&(new RegExp(va[hb].conditions[ob].case)).test(wb))Kb='undefined'!=typeof va[mb]?va[mb]:{},va[mb]=Q(va[hb].conditions[ob].rules[mb],Kb);eb!=mb&&'undefined'!=typeof va[mb]&&
Ga(mb,va,X)}}else'undefined'!=typeof va[hb].conditions[ob].rules[mb]&&(caseField=mb,wb=X[caseField],'undefined'==typeof ka[caseField]?console.warn('ignoring case `'+caseField+'`: field `NaN'):(U&&/^(true|false)$/i.test(wb)&&'undefined'!=typeof va[caseField]&&'undefined'!=typeof va[caseField].isBoolean&&/^(true)$/i.test(va[caseField].isBoolean)&&(wb=/^(true)$/i.test(wb)?!0:!1),'undefined'!=typeof va[hb].conditions[ob].rules[mb]&&(Kb='undefined'!=typeof va[hb].conditions[ob].rules[mb]?va[hb].conditions[ob].rules[mb]:
{},va[mb]=Kb),eb!=mb&&'undefined'!=typeof va[mb]&&'undefined'!=typeof X[mb]&&Ga(mb,va,X)));else{X[mb]=cb[mb];var Kb='undefined'!=typeof va[mb]?va[mb]:{};va[mb]=Q(va[hb].conditions[ob].rules[mb],Kb);Ga(mb,va,X)}}if(eb!=Oa&&('undefined'!=typeof va[Oa]&&Ga(Oa,va,cb),lb)){++Xa;lb=va['_case_'+Oa].conditions;if(!lb)throw Error('[ ginaFormValidator ] case `_case_'+Oa+'` found without `condition(s)` !\nPlease, check your delcaration for `_case_'+Oa+'`');for(let Ib=0,$b=lb.length;Ib<$b;++Ib)if(wb=cb[Oa],U&&
('true'==X[Oa]?wb=!0:'false'==X[Oa]&&(wb=!1)),lb[Ib]['case']===wb||Array.isArray(lb[Ib]['case'])&&-1<lb[Ib]['case'].indexOf(wb)||/^\//.test(lb[Ib]['case'])){Kb={};if('undefined'==typeof lb[Ib].rules[Oa]&&'undefined'==typeof cb[Oa]||ka[Oa].disabled)lb[Ib].rules[Oa]={exclude:!0};for(var Eb in lb[Ib].rules)if(!/^_comment$/i.test(Eb))if(/^\//.test(Eb)){ra=Eb.match(/\/(.*)\//).pop();ja=Eb.replace('/'+ra+'/','');ra=ra.replace(/\[/g,'\\[').replace(/\]/g,'\\]');ra=new RegExp(ra,ja);for(var Gb in ka)ra.test(Gb)&&
(/^\//.test(lb[Ib]['case'])?(ra=lb[Ib]['case'].match(/\/(.*)\//).pop(),ja=lb[Ib]['case'].replace('/'+ra+'/',''),ra=new RegExp(ra,ja),ra.test(wb)&&(Kb[Gb]=lb[Ib].rules[Eb])):Kb[Gb]=lb[Ib].rules[Eb],'undefined'==typeof X[Gb]&&'undefined'!=typeof ka[Gb]&&'undefined'!=typeof ka[Gb].value&&(X[Gb]=ka[Gb].value,U&&/(true|false)/i.test(X[Gb])&&('true'==X[Gb]?X[Gb]=!0:'false'==X[Gb]&&(X[Gb]=!1)),Pa.addField(Gb,X[Gb]),'undefined'!=typeof ca[Gb]&&(Kb[Gb]=Q(Kb[Gb],ca[Gb]))))}else/^\//.test(lb[Ib]['case'])?(ra=
lb[Ib]['case'].match(/\/(.*)\//).pop(),ja=lb[Ib]['case'].replace('/'+ra+'/',''),ra=ra.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),ra=new RegExp(ra,ja),ra.test(wb)&&(Kb[Eb]=lb[Ib].rules[Eb])):Kb[Eb]=lb[Ib].rules[Eb],'undefined'==typeof X[Eb]&&'undefined'!=typeof ka[Eb]&&'undefined'!=typeof ka[Eb].value&&(X[Eb]=ka[Eb].value,U&&/(true|false)/i.test(X[Eb])&&('true'==X[Eb]?X[Eb]=!0:'false'==X[Eb]&&(X[Eb]=!1)),Pa.addField(Eb,X[Eb]),'undefined'!=typeof ca[Eb]&&(Kb[Eb]=Q(Kb[Eb],ca[Eb])));++ha;if(U)Mb(Ya,cb,
ca,X,ka,Kb,Ra,Xa);else return Mb(Ya,cb,ca,X,ka,Kb,Ra,Xa)}--Xa}}}--ha;if(0>=Xa&&0>ha){cb=Pa.getErrors();for(Oa in cb){for(rule in cb[Oa])$a[Oa]||($a[Oa]=''),0>$a[Oa].indexOf(rule)&&($a[Oa]+=rule+' ');U&&ka[Oa].setAttribute('data-gina-form-errors',$a[Oa].substr(0,$a[Oa].length-1))}try{R=Na(Pa.toData()),M&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.validated||(gina.forms.validated={}),gina.forms.validated[p]||(gina.forms.validated[p]={}),window.ginaToolbar.update('forms',
{id:p,validated:R}))}catch(Ib){throw Ib;}Aa=!0;if(!K&&0>=oa)if('undefined'!=typeof Ra&&'function'===typeof Ra)Ra._errors=Pa.getErrors(),Ra._data=Pa.toData(),triggerEvent(gina,Ya,'validated.'+p,Ra);else return K=!0,{isValid:Pa.isValid,error:cb,data:R}}};U&&addListener(gina,l,q,function(Ya){Ya.preventDefault();if(!K){K=!0;Aa=!1;oa=0;var cb=Ya.detail,ca=cb._data||Pa.toData(),X=cb._errors||Pa.getErrors()||null;console.debug('instance errors: ',r.$forms[p].errors,' VS cbErrors: ',X,Pa.isValid(),' VS d.getErrors(): ',
Pa.getErrors());0<X.count()&&Pa.isValid()&&(Pa.isValid=function(){return!1});cb({isValid:Pa.isValid,error:X,data:Na(ca)});removeListener(gina,Ya.target,'validated.'+Ya.target.id)}});if(U)Mb(l,Cb,ib,g,h,b,x,0);else return Mb(l,Cb,ib,g,h,b,x,0)};return U?Qa(A):C(A,P,V)}'undefined'!==typeof module&&module.exports?module.exports=ValidatorPlugin:'function'===typeof define&&define.amd&&define('gina/validator',['utils/events','utils/dom','utils/effects','utils/data','lib/form-validator'],function(){return ValidatorPlugin});
define('gina/toolbar','require jquery vendor/uuid lib/collection lib/routing gina/storage gina/validator'.split(' '),function(A){var P=A('jquery');P.noConflict();var V=A('lib/routing');A('lib/collection');var na=A('gina/storage');return function(){var U=null,M=!1,ba=!1,Q=!1,S,u=(new na({bucket:'gina'})).Collection('plugin'),G=null,r=null,ea=!1,Ea=null,N=null,O=null,D=null,C=null,m='',z=null,y=null,H=null,v='',w=null,F=0,J=0,T=0,ta='',Fa={},W=null,la=null,ia=null,xa=null,ma=null,ua=null,Ca=null,Qa=
null,La=null,Da=null,Na=null,Ia=null,Ja=null,Ua=null,pb=function(){G=P('#gina-toolbar');if(!G.length)return!1;Ea=G.find('.gina-toolbar-tab > a');N=P('#gina-toolbar-toggle');O=P('#gina-toolbar-panels');D=O.find('.gina-toolbar-panel');z=P('#gina-toolbar-vposition');y=P('#gina-toolbar-hposition');H=z.add(y);w=P('#gina-toolbar-width');G.find('.gina-toolbar-main');W=P('#gina-toolbar-json');la=P('#gina-toolbar-gina-json');ia=P('#gina-toolbar-toggle-code-raw');$forms=P('form:not(.gina-toolbar-options, .gina-toolbar-content)');
La=P('#gina-toolbar-data-html');Da=P('#gina-toolbar-view-html');Na=P('#gina-toolbar-forms-html');Qa=P('#gina-toolbar-configuration-environment-html');Ia=P('#gina-toolbar-code-toggle');G.prepend('<textarea class="gina-toolbar-copy"></textarea>');Ja=G.find('.gina-toolbar-copy');r=u.findOne({_name:'toolbar'});r||(r={_name:'toolbar',_version:'1.0.3',_description:'Toolbar settings',_licence:'MIT',_author:[{name:'Fabrice Delaneau',company:'Freelancer'},{name:'Martin-Luther Etouman',company:'Rhinostone'}],
position:'top-right',width:'30',panelId:'#gina-toolbar-data',isCollapsed:!0,isUnfolded:[],debug:{forms:{active:!1,strategy:'frontend'}}},u.insert(r),r=u.findOne({_name:'toolbar'}));'1.0.3'!=r._version&&('1.0.1'>r._version&&(r.isUnfolded||(r.isUnfolded=[]),void 0!=r.codeFolding&&delete r.codeFolding),'undefined'==typeof r.isUnfolded||Array.isArray(r.isUnfolded)||(r.isUnfolded=[]),r._version='1.0.3',r.save(!0));v=r.position;F=r.width;m=r.panelId;ea=r.isCollapsed;G.removeClass('gina-toolbar-hidden');
Ub()},ab=function(x,q,p){var R=null,K=null;try{K=W?W.text():'',''==K||'null'==K?W.text('{}'):(ma=JSON.parse(K),Ca=JSON.parse(la.text()),W.text(''),xa||(xa={jsonObject:JSON.clone(ma),ginaJsonObject:JSON.clone(Ca)},ua={}))}catch(oa){console.error('Could not load'+(x?' [ '+x+' ] ':' ')+'json\n'+oa.message+'\n'+oa.stack)}if(ma){q&&!p?(ma[x]||(ma[x]={}),ma[x]=Ca[x]=q):'data-xhr'==x&&!q&&ma['data-xhr']?delete ma['data-xhr']:p&&(ma=q,Ca=p);b(ma,'');Ca.environment&&(delete Ca.environment.routing,delete Ca.environment.reverseRouting,
delete Ca.environment.forms);ma.environment&&(delete ma.environment.routing,delete ma.environment.reverseRouting,delete ma.environment.forms);Qa.html(db(ma.environment,Ca.environment));R=ma.data;var ha=ma.view;p=ma.forms;var Aa=Ca.data,da=Ca.view;K=Ca.forms;ba=S=!1;var fa=null,E=!1;/^(view-xhr)$/.test(x)&&(fa=!0,ha=ma[x],da=Ca[x],R=ma['data-xhr'],Aa=Ca['data-xhr']);if(!x||/^(data)$/.test(x))La.html('<ul class="gina-toolbar-code">'+db(R,Aa,null,fa)+'</ul>'),Da.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),
Da.html(Vb(ha,da,null,fa,Da)),R=$forms,Na.html(''),Na.html(za(p,K,Na,0,R,R.length,fa)),Na.find('div.gina-toolbar-section > h2').off('click').on('click',function(oa){oa.preventDefault();P(this).parent().find('ul').first().slideToggle()});if(/^(data-xhr|view-xhr)$/.test(x)){if('undefined'==typeof ma[x]||!ma[x]||'null'==ma[x])return!1;fa=!0;E='undefined'!=typeof ma[x].isXHRViewData?!0:E;E||/^(view-xhr)$/.test(x)||'undefined'==typeof ma['el-xhr']||(ua.data=JSON.clone(ma[x]));E&&delete ma[x].isXHRViewData;
/^(data-xhr)$/.test(x)?La.html('<ul class="gina-toolbar-code">'+db(ma[x],Ca[x],null,fa)+'</ul>'):/^(view-xhr)$/.test(x)&&(Da.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),Da.html(Vb(ma[x],Ca[x],null,fa,Da)))}/^(el-xhr)$/.test(x)&&(fa=!0,R=P('#'+q).find('form:not(.gina-toolbar-options, .gina-toolbar-content)'),Na.html(''),Na.html(za(p,K,Na,0,R,R.length,
fa)),Na.find('div.gina-toolbar-section > h2').off('click').on('click',function(oa){oa.preventDefault();P(this).parent().find('ul').first().slideToggle()}));/^(forms)$/.test(x)&&(ba=fa=!0,P('#gina-toolbar-form-'+q.id).length||(R=$forms,Na.html(''),Na.html(za(p,K,Na,0,R,R.length,fa)),Na.find('div.gina-toolbar-section > h2').off('click').on('click',function(oa){oa.preventDefault();P(this).parent().find('ul').first().slideToggle()})),'undefined'!=typeof q.rules&&l(q.id,'rules',q.rules,fa),'undefined'!=
typeof q.errors&&0<q.errors.count()&&l(q.id,'errors',q.errors,fa),'undefined'!=typeof q.sent&&l(q.id,'sent',q.sent,fa));r.currentFile=ma.file;r.currentFile||(r.currentFile=ma.file);ma.file==r.currentFile&&P(document).ready(function(){ba?(M=!0,0<r.isUnfolded.length&&!S&&(S=!0,setTimeout(function(){0<r.isUnfolded.length&&gb(r.isUnfolded,r.isUnfolded.length,0)},200))):fa?(M=!0,0<r.isUnfolded.length&&!S&&(S=!0,gb(r.isUnfolded,r.isUnfolded.length,0))):(M=!1,setTimeout(function(){0<r.isUnfolded.length&&
gb(r.isUnfolded,r.isUnfolded.length,0)},200))})}if(!x||'el-xhr'==x&&!Q)Q=x&&'el-xhr'==x?!0:!1,ya(x)},gb=function(x,q,p){if(p==q)return!1;var R=x[p],K=null;M&&/^xhr-/.test(R)?(R=R.replace(/^xhr-/,''),K=P('.gina-toolbar-xhr-folding-state-'+R)):K=P('.gina-toolbar-folding-state-'+R);rb(K,function(){p+=1;gb(x,q,p)})},Ub=function(){La.add(Da).off('click','a').on('click','a',function(q){q.preventDefault();rb(P(this),null,!0)}).add(Na).off('click','a').on('click','a',function(q){q.preventDefault();rb(P(this),
null,!0)});Qa.add(Da).off('click','a').on('click','a',function(q){q.preventDefault();rb(P(this),null,!0)}).add(Na).off('click','a').on('click','a',function(q){q.preventDefault();rb(P(this),null,!0)});Ia.off('click').on('click',function(q){q.preventDefault();rb('all',null,!0)});La.add(Da,Na).off('click','.gina-toolbar-value').on('click','.gina-toolbar-value',function(q){q.preventDefault();try{Ua=P(this).text(),Ja.text(Ua),Ja.select(),document.execCommand('copy',!1,null),Ja.blur()}catch(p){alert('Please press Ctrl/Cmd+C to copy the value')}});
ia.off('click').on('click',function(q){ma&&window.open('','JSON RAW','width=400,height=100').document.write(JSON.stringify(ma.data))});Ea.off('click').on('click',function(q){q.preventDefault();Ea.removeClass('gina-toolbar-active');D.removeClass('gina-toolbar-active');P(this).addClass('gina-toolbar-active');m=P(this).attr('href');C=P(m).addClass('gina-toolbar-active');r.panelId=m;r.save()});N.off('click').on('click',function(q){q.preventDefault();G.toggleClass('gina-toolbar-collapsed');ea=G.hasClass('gina-toolbar-collapsed');
r.isCollapsed=ea;r.save()});H.off('change').on('change',function(q){q.preventDefault();q=z.val();var p=y.val();v=q+'-'+p;Zb(v);r.position=v;r.save()});w.off('change').on('change',function(q){q.preventDefault();F=w.val();jb(F);r.width=F;r.save()});P(window).off('resize').on('resize',function(){Db()});P('body').off('keypress').on('keypress',function(q){if(!/INPUT|TEXTAREA/.test(q.target.tagName)){ta=q.keyCode?q.keyCode:q.which?q.which:q.charCode;q=new Date;if('undefined'!=typeof Fa.keynum&&Fa.keynum==
ta&&'undefined'!=typeof Fa.pressTime&&500>q.getTime()-Fa.pressTime)switch(ta){case 103:G.toggle()}Fa.pressTime=q.getTime();Fa.keynum=ta}});Ea.filter('[href="'+m+'"]').trigger('click');ea||P('#gina-toolbar-toggle').trigger('click');Zb(v);var x=v.split('-');z.val(x[0]);y.val(x[1]);jb(F);w.val(F);Db();x=W?W.text():'';/^\{\{ (.*) \}\}/.test(x)?h(x,ab):ab()},Zb=function(x){G.removeClass('gina-toolbar-top-left gina-toolbar-top-right gina-toolbar-bottom-left gina-toolbar-bottom-right').addClass('gina-toolbar-'+
x)},jb=function(x){G.removeClass('gina-toolbar-auto gina-toolbar-100 gina-toolbar-80 gina-toolbar-60 gina-toolbar-50 gina-toolbar-40 gina-toolbar-30').addClass('gina-toolbar-'+x)},Db=function(){J=window.innerHeight-32;G.find('.gina-toolbar-main').css('max-height',J+'px');var x=C.find('.gina-toolbar-main'),q=x.find('.gina-toolbar-content');T=x.height();T==J?q.addClass('gina-toolbar-content-end'):q.removeClass('gina-toolbar-content-end')},rb=function(x,q,p){'undefined'==typeof p&&(p=!1);if(void 0!=
x&&x.length&&'all'!=x){U=x.attr('class');var R=!1;if(/(gina-toolbar-folding-state-[a-z 0-9_-]+|gina-toolbar-xhr-folding-state-[a-z 0-9_-]+)/i.test(U))if(/gina-toolbar-folding-state-[a-z0-9_-]+/i.test(U)?U=U.match(/gina-toolbar-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-folding-state-/,''):(R=!0,'undefined'!=typeof U&&(U=U.match(/gina-toolbar-xhr-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-xhr-folding-state-/,'xhr-'))),0>r.isUnfolded.indexOf(U))r.isUnfolded.push(U),r.save(),x.hasClass('gina-toolbar-unfolded')||
(x.addClass('gina-toolbar-unfolded'),x.next('ul').slideToggle('fast'));else if(-1<r.isUnfolded.indexOf(U)&&x.hasClass('gina-toolbar-unfolded')){for(var K=new RegExp('^('+U+')'),ha=0,Aa=r.isUnfolded.length;ha<Aa;++ha)K.test(r.isUnfolded[ha])&&(!ba&&p||ba&&R||p)&&(r.isUnfolded.splice(ha,1),--ha);r.save(!0);0>r.isUnfolded.indexOf(U)&&(x.removeClass('gina-toolbar-unfolded'),x.next('ul').slideToggle('fast'))}else x.addClass('gina-toolbar-unfolded'),x.next('ul').slideToggle('fast')}'undefined'!=typeof q&&
null!=q&&q()},xb=function(x){var q={},p=null,R=[],K=0;for(p in x)x.hasOwnProperty(p)&&(R[K]=p,++K);var ha=R.length;R.sort();for(K=0;K<ha;++K)p=R[K],q[p]=x[p];return q},Ka=function(x,q){var p='';if('undefined'!=typeof x&&''!=x){var R=x;'string'==typeof x&&(R=x.replace(/(\]\[|\[)/g,'-').replace(/\]/,'').replace(/[^A-Za-z0-9_-]/g,'_'));p+=R+'-'}'undefined'!=typeof q&&''!=q?(x=q,'string'==typeof q&&(x=q.replace(/(\]\[|\[)/g,'-').replace(/\]/,'')),p+=x):p=p.substr(0,p.length-1);return p.trim()},db=function(x,
q,p,R,K){var ha='';p='undefined'!=typeof p&&null!=p?p.replace(/[^A-Za-z0-9_-]/g,'_'):'';var Aa='undefined'!=typeof K&&null!=K?K:'',da='undefined'!=typeof R&&null!=R?'-xhr':'';if(x){x=xb(x);q=xb(q);for(var fa in x)if('object'!=typeof x[fa]||Array.isArray(x[fa])||null===x[fa])if(Array.isArray(x[fa])){p+='-'+fa.replace(/[^A-Za-z0-9_-]/g,'_');var E=0<x[fa].length||'undefined'!=typeof q[fa]&&0<q[fa].length?'':' is-empty';ha+='<li class="gina-toolbar-collection">';ha+='<a href="#" class="gina-toolbar-key gina-toolbar'+
da+'-folding-state-'+Ka(Aa,fa.replace(/[^A-Za-z0-9_-]/g,'_'))+E+'">'+fa+' <span>['+x[fa].length+']</span></a>';ha+='<ul class="gina-toolbar-collection">'+Lb(x[fa],q[fa],p,R,K)+'</ul>';ha+='</li>';p=p.substr(0,p.length-fa.length)}else E=null===q[fa]?'null':typeof q[fa],'undefined'==E?(ha+='<li class="gina-toolbar-key-value">',ha+='<span class="gina-toolbar-key gina-toolbar-key-added">'+fa+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+E+'">'+x[fa]+'</span>'):(x[fa]!==q[fa]&&
(ha+='<li class="gina-toolbar-key-value gina-toolbar-is-overridden">',ha+='<span class="gina-toolbar-key">'+fa+':</span> <span class="gina-toolbar-value">'+q[fa]+'</span>',ha+='</li>'),ha+='<li class="gina-toolbar-key-value">',ha+='<span class="gina-toolbar-key">'+fa+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+E+'">'+x[fa]+'</span>'),ha+='</li>';else p+='-'+fa.replace(/[^A-Za-z0-9_-]/g,'_'),E=0<x[fa].count()||'undefined'!=typeof q[fa]&&0<q[fa].count()?'':' is-empty',ha+=
'<li class="gina-toolbar-object">',ha+='<a href="#" class="gina-toolbar-key gina-toolbar'+da+'-folding-state-'+Ka(Aa,fa.replace(/[^A-Za-z0-9_-]/g,'_'))+E+'">'+fa+' <span>{ }</span></a>',ha+='<ul class="gina-toolbar-object">'+db(x[fa],q[fa],p,R,K)+'</ul>',ha+='</li>',p=p.substr(0,p.length-fa.length);return ha}},Lb=function(x,q,p,R,K){var ha='';p='undefined'!=typeof p&&null!=p?p:'';var Aa='undefined'!=typeof K&&null!=K?K:'',da='undefined'!=typeof R&&null!=R?'-xhr':'';q||=[];for(var fa=0,E=x.length;fa<
E;++fa)'object'!=typeof x[fa]||Array.isArray(x[fa])?Array.isArray(x[fa])?(p+='-'+fa,''==Aa&&(Aa=p),ha+='<li class="gina-toolbar-collection">',ha+='<a href="#" class="gina-toolbar-key gina-toolbar'+da+'-folding-state-'+Ka(Aa,fa)+'">'+fa+'<span>[ ]</span></a>',ha+='<ul class="gina-toolbar-collection">'+Lb(x[fa],q[fa],p,R,K)+'</ul>',ha+='</li>',p=p.substr(0,p.length-fa.toString().length)):ha+='<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+fa+':</span> <span class="gina-toolbar-value">'+
x[fa]+'</span></li>':(q[fa]||(q[fa]=x[fa]),p+='-'+fa,''==Aa&&(Aa=p),ha+='<li class="gina-toolbar-object">',ha+='<a href="#" class="gina-toolbar-key gina-toolbar'+da+'-folding-state-'+Ka(Aa,fa)+'">'+fa+' <span>{ }</span></a>',ha+='<ul class="gina-toolbar-object">'+db(x[fa],q[fa],p,R,K)+'</ul>',ha+='</li>',p=p.substr(0,p.length-fa.toString().length-1));return ha},Vb=function(x,q,p,R,K,ha){p=null!=p?p.replace(/[^A-Za-z0-9_-]/g,'_'):'';var Aa='undefined'!=typeof R&&null!=R?'-xhr':'';x=xb(x);q=xb(q);ha||=
K;for(var da in x){var fa=da;if('object'!=typeof x[da]||Array.isArray(x[da])||null===x[da])if(Array.isArray(x[da])){var E=P('#gina-toolbar-view-'+p.substr(0,p.length-1));var oa=E.length?!0:!1;!oa||/^html/.test(p)?(E=P('.'+p),oa=p+da.replace(/[^A-Za-z0-9_-]/g,'_')+'-',E.append('<li class="gina-toolbar-collection"><a href="#" class="gina-toolbar-key gina-toolbar'+Aa+'-folding-state-'+Ka(da.replace(/[^A-Za-z0-9_-]/g,'_'),oa.substr(0,oa.length-1))+'">'+da+' <span>['+x[da].length+']</span></a><ul> '+Lb(x[da],
q[da],oa,E.find('li ul.'+p.substr(0,p.length-1)),fa)+'</ul></li>')):(oa=p+da.replace(/[^A-Za-z0-9_-]/g,'_')+'-',E.find('li.'+p.substr(0,p.length-1)+' ul').append('<li class="gina-toolbar-collection"><a class="gina-toolbar-key gina-toolbar'+Aa+'-folding-state-'+Ka(da.replace(/[^A-Za-z0-9_-]/g,'_'),oa.substr(0,oa.length-1))+'">'+da+' <span>['+x[da].length+']</span></a><ul>'+Lb(x[da],q[da],oa,E.find('li ul.'+p.substr(0,p.length-1)),fa)+'</ul></li>'));p+=da.replace(/[^A-Za-z0-9_-]/g,'_')+'-';p=p.substr(0,
p.length-da.length-1)}else if(fa=null===q[da]?'null':typeof q[da],'undefined'==fa)/\-$/.test(p)&&(p=p.substr(0,p.length-1)),p&&K.find('ul.'+p).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key gina-toolbar-key-added">'+da+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+fa+'">'+x[da]+'</span></li>');else if(x[da]!==q[da]){p||(p+=da.replace(/[^A-Za-z0-9_-]/g,'_')+'-');try{K.find('ul.'+p).append('<li class="gina-toolbar-key-value gina-toolbar-is-overridden"><span class="gina-toolbar-key">'+
da+':</span> <span class="gina-toolbar-value">'+q[da]+'</span></li>'),K.find('ul.'+p).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+da+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+fa+'">'+x[da]+'</span></li>')}catch(ra){throw Error('GinaToolbarError: `ul.'+p+'` not found');}}else!p||/^html\-properties/.test(p)?ha.find('.gina-toolbar-properties').append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+da+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+
fa+'">'+x[da]+'</span></li>'):ha.find('ul.'+p.substr(0,p.length-1)).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+da+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+fa+'">'+x[da]+'</span></li>');else E=P('#gina-toolbar-view-'+p.substr(0,p.length-1)),(oa=E.length?!0:!1)?(oa=p+da.replace(/[^A-Za-z0-9_-]/g,'_')+'-',E.find('ul.'+p.substr(0,p.length-1)).append('<li class="gina-toolbar-object"><a href="#" class="gina-toolbar-key gina-toolbar'+Aa+'-folding-state-'+
Ka(da.replace(/[^A-Za-z0-9_-]/g,'_'),oa.substr(0,oa.length-1))+'">'+da+' <span>{ }</span></a><ul class="gina-toolbar-object '+oa.substr(0,oa.length-1)+'"></ul></li>'),Vb(x[da],q[da],oa,R,E.find('ul.'+p.substr(0,p.length-1)),ha),p+=da.replace(/[^A-Za-z0-9_-]/g,'_')+'-'):(p+=da.replace(/[^A-Za-z0-9_-]/g,'_')+'-','params'==da?(fa='<div id="gina-toolbar-view-'+p.substr(0,p.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+p.substr(0,p.length-1)+'</h2><ul class="'+p.substr(0,
p.length-1)+'"></ul></div>',P('#gina-toolbar-view-html-properties').before(fa)):/^html/.test(p)||(fa='<div id="gina-toolbar-view-'+p.substr(0,p.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+p.substr(0,p.length-1)+'</h2><ul class="'+p.substr(0,p.length-1)+'"></ul></div>',K.append(fa)),Vb(x[da],q[da],p,R,K.find('ul.'+p.substr(0,p.length-1)),ha)),p=p.substr(0,p.length-da.length-1)}return ha.html()},ya=function(x){x=gina.hasPopinHandler?gina.popin.getActivePopin():
null;var q,p=(gina.hasPopinHandler?P('#'+x.id):P('body')).html().match(/404:\[(.+)\](.+)@(.+)"/gm);if(p){var R=0;for(q=p.length;R<q;++R){x=p[R].replace(/"(.*)|"/g,'');var K=x.match(/\[(.*)\]/g,'')[0].replace(/\[|\]/g,'');V.getRouteByUrl(x,K)}}fLen=V.notFound.count();if(0<fLen)for(f in V.notFound)console.warn('(x'+V.notFound[f].count+') '+f+' => '+V.notFound[f].message)},za=function(x,q,p,R,K,ha,Aa){if(!ha)return!1;for(var da=K[R].attributes,fa,E=K[R].getAttribute('id')||K[R].id,oa=P('<div id="gina-toolbar-form-'+
E+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+E+'</h2><ul class="gina-toolbar-section-content gina-toolbar-code" style="display: none;"><li class="gina-toolbar-form-attributes"><h3 class="gina-toolbar-sub-section-title">'+'gina-toolbar-form-attributes'.replace(/gina-toolbar-form-/,'')+'</h3><ul class="gina-toolbar-code"></ul></li></ul></div>'),ra,ja,Z=null,Ga=0,Pa=da.length;Ga<Pa;++Ga)ra=da[Ga].name,ja=da[Ga].nodeValue,/^method$/.test(ra)&&(ja=ja.toUpperCase()),/^class$/.test(ra)&&
/\s+/.test(ja)&&(ja='<ul><li>'+ja.replace(/\s+/g,'</li><li>')+'</li></ul>'),/^action$/.test(ra)&&((fa='undefined'!=typeof da.method?da.method.nodeValue:void 0)||console.warn('[ ToolbarFormHelper::UndefinedMethod : form `'+da.id.nodeValue+'` method attribute cannot be left undefined !'),fa=V.getRouteByUrl(ja,fa),'undefined'!=typeof fa&&fa||(fa={name:'not found',namespace:'not found',param:{control:'not found',file:'not found'}}),ja='<ul><li><span class="gina-toolbar-key">url</span><span class="gina-toolbar-value">'+
(ja||'#')+'</span></li><li><span class="gina-toolbar-key">route</span><span class="gina-toolbar-value">'+fa.name+'</span></li><li><span class="gina-toolbar-key">namespace</span><span class="gina-toolbar-value">'+(fa.namespace||'root controller')+'</span></li><li><span class="gina-toolbar-key">control</span><span class="gina-toolbar-value">'+fa.param.control+'</span></li><li><span class="gina-toolbar-key">file</span><span class="gina-toolbar-value">'+fa.param.file+'</span></li><ul>',Z='<li><span class="gina-toolbar-key">'+
ra+':</span><span class="gina-toolbar-value">'+ja+'</span></li>'),/^data-gina-form-event/.test(ra)?(fa='events',Z=oa.find('.gina-toolbar-form-attributes').find('.gina-toolbar-key-events').length?!0:!1,ra=ra.replace(/^data-gina-form-event-/,''),Z||oa.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+fa+'"><h3 class="gina-toolbar-sub-section-title">'+fa+'</h3><ul class="gina-toolbar-code"></ul></li>'),Z='<li><span class="gina-toolbar-key">'+ra+':</span><span class="gina-toolbar-value">'+
ja+'</span></li>',oa.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+fa+' > ul').append(Z)):(/^action$/.test(ra)||(Z='<li><span class="gina-toolbar-key">'+ra+':</span><span class="gina-toolbar-value">'+ja+'</span></li>'),oa.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-attributes > ul').append(Z));da=null;try{var $a=K[R].getAttribute('data-gina-form-rule');da='undefined'!=typeof $a&&null!=$a?eval('gina.forms.rules.'+$a.replace(/-/g,'.')):eval('gina.forms.rules.'+
E.replace(/-/g,'.'))}catch(ib){}da&&(fa='rules',oa.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+fa+'"><h3 class="gina-toolbar-sub-section-title">'+fa+'</h3><ul class="gina-toolbar-properties">'+db(da,da,E,Aa,fa)+'</ul></li>'));p.append(oa);++R;R<ha&&za(x,q,p,R,K,ha,Aa)},l=function(x,q,p,R){var K=P('#gina-toolbar-form-'+x);$section=K.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+q+'> ul');if(0<$section.length){if(0==p.count())return K.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+
q).remove(),!1;$section.html(db(p,p,x,R,q))}else K.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+q+'"><h3 class="gina-toolbar-sub-section-title">'+q+'</h3><ul class="gina-toolbar-properties">'+db(p,p,x,R,q)+'</ul></li>');x=K.find('ul.gina-toolbar-section-content');x.is(':visible')||x.slideToggle()},g=function(x,q){return x='<label class="gina-toolbar-input-file"><input type="file" multiple id="'+(x+'">')+q+'</label>'},h=function(x,q){x=g('mock','Select your JSON file');
La.html(x);W.text('');La.find('input').off('change').on('change',function(p){var R=P(this)[0].files,K=p=null;if(1==R.length)p=P(this)[0].files[0],K=new FileReader,K.addEventListener('load',function(){W.text(K.result);la.text(K.result);q()},!1),K.readAsBinaryString(p);else{var ha=0;K=[];for(var Aa=0,da=R.length;Aa<da;++Aa)switch(p=R[Aa],!0){case /user/.test(p.name):K[Aa]=new FileReader;K[Aa].addEventListener('load',function(fa){W.text(fa.currentTarget.result);++ha;ha==R.length&&q()},!1);K[Aa].readAsBinaryString(p);
break;case /gina/.test(p.name):K[Aa]=new FileReader,K[Aa].addEventListener('load',function(fa){la.text(fa.currentTarget.result);++ha;ha==R.length&&q()},!1),K[Aa].readAsBinaryString(p)}}});return!1},b=function(x,q){for(var p in x)'object'==typeof x[p]&&b(x[p],q+p+'-')};this.update=function(x,q){ab(x,q)};this.restore=function(){ua&&'undefined'!=typeof ua.data&&(xa.jsonObject.data=ua.data);ab('data',xa.jsonObject,xa.ginaJsonObject);Q=!1;V.notFound={}};if('undefined'!=typeof gina.validator)gina.validator.on('initialized',
function(){console.log('toolbar validator ready');pb()});else pb()}});
define('gina','require vendor/uuid lib/merge utils/events helpers/prototypes helpers/dateFormat gina/toolbar'.split(' '),function(A){A('utils/events');var P=A('lib/merge'),V=A('helpers/dateFormat')();A('helpers/prototypes')({dateFormat:V});var na=A('vendor/uuid');window.process||function(U,M,ba,Q,S,u,G){for(u=U[ba]||(U[ba]={});!G&&S<Q.length;)G=U[Q[S++]+'requestAnimationFrame'];u[M]=u[M]||G&&G.bind(U)||U.setImmediate||U.setTimeout}(window,'nextTick','process',['r','webkitR','mozR','msR','oR'],0);
window.getComputedStyle||(window.getComputedStyle=function(U,M){this.el=U;this.getPropertyValue=function(ba){var Q=/(\-([a-z]){1})/g;'float'==ba&&(ba='styleFloat');Q.test(ba)&&(ba=ba.replace(Q,function(S,u,G){return G.toUpperCase()}));return U.currentStyle[ba]?U.currentStyle[ba]:null};return this});return function(U){this.plugin='gina';var M='gina-'+na.v1(),ba=document,Q;document.id=M;M={id:M,isFrameworkLoaded:!1,hasValidator:!1,hasPopinHandler:!1,config:{},registeredEvents:{},events:{},setOptions:function(S){Q=
P(Q,S,!0)}};'undefined'!=typeof parent.window.gina&&(window.gina=P(window.gina||{},parent.window.gina));M=P(window.gina||{},M);registerEvents(this.plugin,['ginaloaded','ready']);triggerEvent(U,ba,'ginaloaded',M)}});
!function(A,P){'object'==typeof exports&&'undefined'!=typeof module?module.exports=P():'function'==typeof define&&define.amd?define('vendor/engine.io',P):(A='undefined'!=typeof globalThis?globalThis:A||self).eio=P()}(this,function(){function A(ya){return A='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(za){return typeof za}:function(za){return za&&'function'==typeof Symbol&&za.constructor===Symbol&&za!==Symbol.prototype?'symbol':typeof za},A(ya)}function P(ya,za){if(!(ya instanceof
za))throw new TypeError('Cannot call a class as a function');}function V(ya,za){for(var l=0;l<za.length;l++){var g=za[l];g.enumerable=g.enumerable||!1;g.configurable=!0;'value'in g&&(g.writable=!0);Object.defineProperty(ya,g.key,g)}}function na(ya,za,l){return za&&V(ya.prototype,za),l&&V(ya,l),ya}function U(){return U=Object.assign||function(ya){for(var za=1;za<arguments.length;za++){var l=arguments[za],g;for(g in l)Object.prototype.hasOwnProperty.call(l,g)&&(ya[g]=l[g])}return ya},U.apply(this,arguments)}
function M(ya,za){if('function'!=typeof za&&null!==za)throw new TypeError('Super expression must either be null or a function');ya.prototype=Object.create(za&&za.prototype,{constructor:{value:ya,writable:!0,configurable:!0}});za&&Q(ya,za)}function ba(ya){return ba=Object.setPrototypeOf?Object.getPrototypeOf:function(za){return za.__proto__||Object.getPrototypeOf(za)},ba(ya)}function Q(ya,za){return Q=Object.setPrototypeOf||function(l,g){return l.__proto__=g,l},Q(ya,za)}function S(){if('undefined'==
typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(ya){return!1}}function u(ya,za,l){return u=S()?Reflect.construct:function(g,h,b){var x=[null];x.push.apply(x,h);g=new (Function.bind.apply(g,x));return b&&Q(g,b.prototype),g},u.apply(null,arguments)}function G(ya){var za='function'==typeof Map?new Map:void 0;return G=function(l){function g(){return u(l,arguments,
ba(this).constructor)}if(null===l||(h=l,-1===Function.toString.call(h).indexOf('[native code]')))return l;var h;if('function'!=typeof l)throw new TypeError('Super expression must either be null or a function');if(void 0!==za){if(za.has(l))return za.get(l);za.set(l,g)}return g.prototype=Object.create(l.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),Q(g,l)},G(ya)}function r(ya){if(void 0===ya)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return ya}function ea(ya){var za=S();return function(){var l=ba(ya);if(za){var g=ba(this).constructor;l=Reflect.construct(l,arguments,g)}else l=l.apply(this,arguments);return!l||'object'!=typeof l&&'function'!=typeof l?r(this):l}}function Ea(ya,za,l){return Ea='undefined'!=typeof Reflect&&Reflect.get?Reflect.get:function(g,h,b){for(;!Object.prototype.hasOwnProperty.call(g,h)&&null!==(g=ba(g)););if(g)return h=Object.getOwnPropertyDescriptor(g,h),h.get?h.get.call(b):h.value},Ea(ya,za,l||ya)}function N(ya){if(ya){for(var za in N.prototype)ya[za]=
N.prototype[za];return ya}}function O(ya){for(var za=arguments.length,l=Array(1<za?za-1:0),g=1;g<za;g++)l[g-1]=arguments[g];return l.reduce(function(h,b){return ya.hasOwnProperty(b)&&(h[b]=ya[b]),h},{})}function D(ya,za){za.useNativeTimers?(ya.setTimeoutFn=Na.bind(Da),ya.clearTimeoutFn=Ia.bind(Da)):(ya.setTimeoutFn=setTimeout.bind(Da),ya.clearTimeoutFn=clearTimeout.bind(Da))}function C(ya){var za='';do za=pb[ya%64]+za,ya=Math.floor(ya/64);while(0<ya);return za}function m(){var ya=C(+new Date);return ya!==
Ja?(ab=0,Ja=ya):ya+'.'+C(ab++)}function z(ya){var za='',l;for(l in ya)ya.hasOwnProperty(l)&&(za.length&&(za+='&'),za+=encodeURIComponent(l)+'='+encodeURIComponent(ya[l]));return za}function y(ya){var za={};ya=ya.split('&');for(var l=0,g=ya.length;l<g;l++){var h=ya[l].split('=');za[decodeURIComponent(h[0])]=decodeURIComponent(h[1])}return za}function H(ya){ya=ya.xdomain;try{if('undefined'!=typeof XMLHttpRequest&&(!ya||Ub))return new XMLHttpRequest}catch(za){}if(!ya)try{return new (Da[['Active'].concat('Object').join('X')])('Microsoft.XMLHTTP')}catch(za){}}
function v(){}function w(){for(var ya in jb.requests)jb.requests.hasOwnProperty(ya)&&jb.requests[ya].abort()}function F(ya){var za=ya,l=ya.indexOf('['),g=ya.indexOf(']');-1!=l&&-1!=g&&(ya=ya.substring(0,l)+ya.substring(l,g).replace(/:/g,';')+ya.substring(g,ya.length));var h,b;ya=db.exec(ya||'');for(var x={},q=14;q--;)x[Lb[q]]=ya[q]||'';return-1!=l&&-1!=g&&(x.source=za,x.host=x.host.substring(1,x.host.length-1).replace(/;/g,':'),x.authority=x.authority.replace('[','').replace(']','').replace(/;/g,
':'),x.ipv6uri=!0),x.pathNames=function(p,R){p=R.replace(/\/{2,9}/g,'/').split('/');'/'!=R.substr(0,1)&&0!==R.length||p.splice(0,1);'/'==R.substr(R.length-1,1)&&p.splice(p.length-1,1);return p}(0,x.path),x.queryKey=(h=x.query,b={},h.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(p,R,K){R&&(b[R]=K)}),b),x}var J=Object.create(null);J.open='0';J.close='1';J.ping='2';J.pong='3';J.message='4';J.upgrade='5';J.noop='6';var T=Object.create(null);Object.keys(J).forEach(function(ya){T[J[ya]]=ya});for(var ta=
{type:'error',data:'parser error'},Fa='function'==typeof Blob||'undefined'!=typeof Blob&&'[object BlobConstructor]'===Object.prototype.toString.call(Blob),W='function'==typeof ArrayBuffer,la=function(ya,za,l){var g=ya.type;ya=ya.data;return Fa&&ya instanceof Blob?za?l(ya):ia(ya,l):W&&(ya instanceof ArrayBuffer||('function'==typeof ArrayBuffer.isView?ArrayBuffer.isView(ya):ya&&ya.buffer instanceof ArrayBuffer))?za?l(ya):ia(new Blob([ya]),l):l(J[g]+(ya||''))},ia=function(ya,za){var l=new FileReader;
return l.onload=function(){var g=l.result.split(',')[1];za('b'+g)},l.readAsDataURL(ya)},xa='undefined'==typeof Uint8Array?[]:new Uint8Array(256),ma=0;64>ma;ma++)xa['ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.charCodeAt(ma)]=ma;var ua='function'==typeof ArrayBuffer,Ca=function(ya,za){if('string'!=typeof ya)return{type:'message',data:Qa(ya,za)};var l=ya.charAt(0);if('b'===l){ya=ya.substring(1);if(ua){var g=.75*ya.length;l=ya.length;var h=0;'='===ya[ya.length-1]&&(g--,'='===ya[ya.length-
2]&&g--);var b=new ArrayBuffer(g),x=new Uint8Array(b);for(g=0;g<l;g+=4){var q=xa[ya.charCodeAt(g)];var p=xa[ya.charCodeAt(g+1)];var R=xa[ya.charCodeAt(g+2)];var K=xa[ya.charCodeAt(g+3)];x[h++]=q<<2|p>>4;x[h++]=(15&p)<<4|R>>2;x[h++]=(3&R)<<6|63&K}za=Qa(b,za)}else za={base64:!0,data:ya};za={type:'message',data:za}}else za=T[l]?1<ya.length?{type:T[l],data:ya.substring(1)}:{type:T[l]}:ta;return za},Qa=function(ya,za){return'blob'===za&&ya instanceof ArrayBuffer?new Blob([ya]):ya},La=String.fromCharCode(30);
N.prototype.on=N.prototype.addEventListener=function(ya,za){return this._callbacks=this._callbacks||{},(this._callbacks['$'+ya]=this._callbacks['$'+ya]||[]).push(za),this};N.prototype.once=function(ya,za){function l(){this.off(ya,l);za.apply(this,arguments)}return l.fn=za,this.on(ya,l),this};N.prototype.off=N.prototype.removeListener=N.prototype.removeAllListeners=N.prototype.removeEventListener=function(ya,za){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;
var l,g=this._callbacks['$'+ya];if(!g)return this;if(1==arguments.length)return delete this._callbacks['$'+ya],this;for(var h=0;h<g.length;h++)if((l=g[h])===za||l.fn===za){g.splice(h,1);break}return 0===g.length&&delete this._callbacks['$'+ya],this};N.prototype.emit=function(ya){this._callbacks=this._callbacks||{};for(var za=Array(arguments.length-1),l=this._callbacks['$'+ya],g=1;g<arguments.length;g++)za[g-1]=arguments[g];if(l){g=0;for(var h=(l=l.slice(0)).length;g<h;++g)l[g].apply(this,za)}return this};
N.prototype.emitReserved=N.prototype.emit;N.prototype.listeners=function(ya){return this._callbacks=this._callbacks||{},this._callbacks['$'+ya]||[]};N.prototype.hasListeners=function(ya){return!!this.listeners(ya).length};var Da='undefined'!=typeof self?self:'undefined'!=typeof window?window:Function('return this')(),Na=setTimeout,Ia=clearTimeout,Ja,Ua=function(ya){function za(g,h,b){var x;return P(this,za),(x=l.call(this,g)).description=h,x.context=b,x.type='TransportError',x}M(za,ya);var l=ea(za);
return za}(G(Error));ma=function(ya){function za(g){var h;return P(this,za),(h=l.call(this)).writable=!1,D(r(h),g),h.opts=g,h.query=g.query,h.readyState='',h.socket=g.socket,h}M(za,ya);var l=ea(za);return na(za,[{key:'onError',value:function(g,h,b){return Ea(ba(za.prototype),'emitReserved',this).call(this,'error',new Ua(g,h,b)),this}},{key:'open',value:function(){return'closed'!==this.readyState&&''!==this.readyState||(this.readyState='opening',this.doOpen()),this}},{key:'close',value:function(){return'opening'!==
this.readyState&&'open'!==this.readyState||(this.doClose(),this.onClose()),this}},{key:'send',value:function(g){'open'===this.readyState&&this.write(g)}},{key:'onOpen',value:function(){this.readyState='open';this.writable=!0;Ea(ba(za.prototype),'emitReserved',this).call(this,'open')}},{key:'onData',value:function(g){g=Ca(g,this.socket.binaryType);this.onPacket(g)}},{key:'onPacket',value:function(g){Ea(ba(za.prototype),'emitReserved',this).call(this,'packet',g)}},{key:'onClose',value:function(g){this.readyState=
'closed';Ea(ba(za.prototype),'emitReserved',this).call(this,'close',g)}}]),za}(N);for(var pb='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''),ab=0,gb=0;64>gb;gb++);gb=!1;try{gb='undefined'!=typeof XMLHttpRequest&&'withCredentials'in new XMLHttpRequest}catch(ya){}var Ub=gb,Zb=null!=(new H({xdomain:!1})).responseType;gb=function(ya){function za(g){var h;if(P(this,za),(h=l.call(this,g)).polling=!1,'undefined'!=typeof location){var b='https:'===location.protocol,x=location.port;
x||=b?'443':'80';h.xd='undefined'!=typeof location&&g.hostname!==location.hostname||x!==g.port;h.xs=g.secure!==b}g=g&&g.forceBase64;return h.supportsBinary=Zb&&!g,h}M(za,ya);var l=ea(za);return na(za,[{key:'doOpen',value:function(){this.poll()}},{key:'pause',value:function(g){var h=this;this.readyState='pausing';var b=function(){h.readyState='paused';g()};if(this.polling||!this.writable){var x=0;this.polling&&(x++,this.once('pollComplete',function(){--x||b()}));this.writable||(x++,this.once('drain',
function(){--x||b()}))}else b()}},{key:'poll',value:function(){this.polling=!0;this.doPoll();this.emitReserved('poll')}},{key:'onData',value:function(g){var h=this;(function(b,x){b=b.split(La);for(var q=[],p=0;p<b.length;p++){var R=Ca(b[p],x);if(q.push(R),'error'===R.type)break}return q})(g,this.socket.binaryType).forEach(function(b){if('opening'===h.readyState&&'open'===b.type&&h.onOpen(),'close'===b.type)return h.onClose({description:'transport closed by the server'}),!1;h.onPacket(b)});'closed'!==
this.readyState&&(this.polling=!1,this.emitReserved('pollComplete'),'open'===this.readyState&&this.poll())}},{key:'doClose',value:function(){var g=this,h=function(){g.write([{type:'close'}])};'open'===this.readyState?h():this.once('open',h)}},{key:'write',value:function(g){var h=this;this.writable=!1;(function(b,x){var q=b.length,p=Array(q),R=0;b.forEach(function(K,ha){la(K,!1,function(Aa){p[ha]=Aa;++R===q&&x(p.join(La))})})})(g,function(b){h.doWrite(b,function(){h.writable=!0;h.emitReserved('drain')})})}},
{key:'uri',value:function(){var g=this.query||{},h=this.opts.secure?'https':'http',b='';!1!==this.opts.timestampRequests&&(g[this.opts.timestampParam]=m());this.supportsBinary||g.sid||(g.b64=1);this.opts.port&&('https'===h&&443!==Number(this.opts.port)||'http'===h&&80!==Number(this.opts.port))&&(b=':'+this.opts.port);g=z(g);return h+'://'+(-1!==this.opts.hostname.indexOf(':')?'['+this.opts.hostname+']':this.opts.hostname)+b+this.opts.path+(g.length?'?'+g:'')}},{key:'request',value:function(){var g=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return U(g,{xd:this.xd,xs:this.xs},this.opts),new jb(this.uri(),g)}},{key:'doWrite',value:function(g,h){var b=this;g=this.request({method:'POST',data:g});g.on('success',h);g.on('error',function(x,q){b.onError('xhr post error',x,q)})}},{key:'doPoll',value:function(){var g=this,h=this.request();h.on('data',this.onData.bind(this));h.on('error',function(b,x){g.onError('xhr poll error',b,x)});this.pollXhr=h}},{key:'name',get:function(){return'polling'}}]),
za}(ma);var jb=function(ya){function za(g,h){var b;return P(this,za),D(r(b=l.call(this)),h),b.opts=h,b.method=h.method||'GET',b.uri=g,b.async=!1!==h.async,b.data=void 0!==h.data?h.data:null,b.create(),b}M(za,ya);var l=ea(za);return na(za,[{key:'create',value:function(){var g=this,h=O(this.opts,'agent','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','autoUnref');h.xdomain=!!this.opts.xd;h.xscheme=!!this.opts.xs;var b=this.xhr=new H(h);try{b.open(this.method,this.uri,this.async);
try{if(this.opts.extraHeaders)for(var x in b.setDisableHeaderCheck&&b.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(x)&&b.setRequestHeader(x,this.opts.extraHeaders[x])}catch(q){}if('POST'===this.method)try{b.setRequestHeader('Content-type','text/plain;charset=UTF-8')}catch(q){}try{b.setRequestHeader('Accept','*/*')}catch(q){}'withCredentials'in b&&(b.withCredentials=this.opts.withCredentials);this.opts.requestTimeout&&(b.timeout=this.opts.requestTimeout);b.onreadystatechange=
function(){4===b.readyState&&(200===b.status||1223===b.status?g.onLoad():g.setTimeoutFn(function(){g.onError('number'==typeof b.status?b.status:0)},0))};b.send(this.data)}catch(q){return void this.setTimeoutFn(function(){g.onError(q)},0)}'undefined'!=typeof document&&(this.index=za.requestsCount++,za.requests[this.index]=this)}},{key:'onError',value:function(g){this.emitReserved('error',g,this.xhr);this.cleanup(!0)}},{key:'cleanup',value:function(g){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=
v,g)try{this.xhr.abort()}catch(h){}'undefined'!=typeof document&&delete za.requests[this.index];this.xhr=null}}},{key:'onLoad',value:function(){var g=this.xhr.responseText;null!==g&&(this.emitReserved('data',g),this.emitReserved('success'),this.cleanup())}},{key:'abort',value:function(){this.cleanup()}}]),za}(N);if(jb.requestsCount=0,jb.requests={},'undefined'!=typeof document)'function'==typeof attachEvent?attachEvent('onunload',w):'function'==typeof addEventListener&&addEventListener('onpagehide'in
Da?'pagehide':'unload',w,!1);var Db='function'==typeof Promise&&'function'==typeof Promise.resolve?function(ya){return Promise.resolve().then(ya)}:function(ya,za){return za(ya,0)},rb=Da.WebSocket||Da.MozWebSocket,xb='undefined'!=typeof navigator&&'string'==typeof navigator.product&&'reactnative'===navigator.product.toLowerCase(),Ka={websocket:function(ya){function za(g){var h;return P(this,za),(h=l.call(this,g)).supportsBinary=!g.forceBase64,h}M(za,ya);var l=ea(za);return na(za,[{key:'doOpen',value:function(){if(this.check()){var g=
this.uri(),h=this.opts.protocols,b=xb?{}:O(this.opts,'agent','perMessageDeflate','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','localAddress','protocolVersion','origin','maxPayload','family','checkServerIdentity');this.opts.extraHeaders&&(b.headers=this.opts.extraHeaders);try{this.ws=xb?new rb(g,h,b):h?new rb(g,h):new rb(g)}catch(x){return this.emitReserved('error',x)}this.ws.binaryType=this.socket.binaryType||'arraybuffer';this.addEventListeners()}}},{key:'addEventListeners',
value:function(){var g=this;this.ws.onopen=function(){g.opts.autoUnref&&g.ws._socket.unref();g.onOpen()};this.ws.onclose=function(h){return g.onClose({description:'websocket connection closed',context:h})};this.ws.onmessage=function(h){return g.onData(h.data)};this.ws.onerror=function(h){return g.onError('websocket error',h)}}},{key:'write',value:function(g){var h=this;this.writable=!1;for(var b=function(q){var p=q===g.length-1;la(g[q],h.supportsBinary,function(R){try{h.ws.send(R)}catch(K){}p&&Db(function(){h.writable=
!0;h.emitReserved('drain')},h.setTimeoutFn)})},x=0;x<g.length;x++)b(x)}},{key:'doClose',value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:'uri',value:function(){var g=this.query||{},h=this.opts.secure?'wss':'ws',b='';this.opts.port&&('wss'===h&&443!==Number(this.opts.port)||'ws'===h&&80!==Number(this.opts.port))&&(b=':'+this.opts.port);this.opts.timestampRequests&&(g[this.opts.timestampParam]=m());this.supportsBinary||(g.b64=1);g=z(g);return h+'://'+(-1!==this.opts.hostname.indexOf(':')?
'['+this.opts.hostname+']':this.opts.hostname)+b+this.opts.path+(g.length?'?'+g:'')}},{key:'check',value:function(){return!!rb}},{key:'name',get:function(){return'websocket'}}]),za}(ma),polling:gb},db=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Lb='source protocol authority userInfo user password host port relative path directory file query anchor'.split(' '),
Vb=function(ya){function za(g){var h,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return P(this,za),h=l.call(this),g&&'object'===A(g)&&(b=g,g=null),g?(g=F(g),b.hostname=g.host,b.secure='https'===g.protocol||'wss'===g.protocol,b.port=g.port,g.query&&(b.query=g.query)):b.host&&(b.hostname=F(b.host).host),D(r(h),b),h.secure=null!=b.secure?b.secure:'undefined'!=typeof location&&'https:'===location.protocol,b.hostname&&!b.port&&(b.port=h.secure?'443':'80'),h.hostname=b.hostname||('undefined'!=
typeof location?location.hostname:'localhost'),h.port=b.port||('undefined'!=typeof location&&location.port?location.port:h.secure?'443':'80'),h.transports=b.transports||['polling','websocket'],h.readyState='',h.writeBuffer=[],h.prevBufferLen=0,h.opts=U({path:'/engine.io',agent:!1,withCredentials:!1,upgrade:!0,timestampParam:'t',rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},b),h.opts.path=h.opts.path.replace(/\/$/,'')+'/','string'==
typeof h.opts.query&&(h.opts.query=y(h.opts.query)),h.id=null,h.upgrades=null,h.pingInterval=null,h.pingTimeout=null,h.pingTimeoutTimer=null,'function'==typeof addEventListener&&(h.opts.closeOnBeforeunload&&addEventListener('beforeunload',function(){h.transport&&(h.transport.removeAllListeners(),h.transport.close())},!1),'localhost'!==h.hostname&&(h.offlineEventListener=function(){h.onClose('transport close',{description:'network connection lost'})},addEventListener('offline',h.offlineEventListener,
!1))),h.open(),h}M(za,ya);var l=ea(za);return na(za,[{key:'createTransport',value:function(g){var h=U({},this.opts.query);h.EIO=4;h.transport=g;this.id&&(h.sid=this.id);h=U({},this.opts.transportOptions[g],this.opts,{query:h,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Ka[g](h)}},{key:'open',value:function(){var g=this;if(this.opts.rememberUpgrade&&za.priorWebsocketSuccess&&-1!==this.transports.indexOf('websocket'))var h='websocket';else{if(0===this.transports.length)return void this.setTimeoutFn(function(){g.emitReserved('error',
'No transports available')},0);h=this.transports[0]}this.readyState='opening';try{h=this.createTransport(h)}catch(b){return this.transports.shift(),void this.open()}h.open();this.setTransport(h)}},{key:'setTransport',value:function(g){var h=this;this.transport&&this.transport.removeAllListeners();this.transport=g;g.on('drain',this.onDrain.bind(this)).on('packet',this.onPacket.bind(this)).on('error',this.onError.bind(this)).on('close',function(b){return h.onClose('transport close',b)})}},{key:'probe',
value:function(g){function h(){K||(K=!0,da(),R.close(),R=null)}function b(){Aa('transport closed')}function x(){Aa('socket closed')}function q(fa){R&&fa.name!==R.name&&h()}var p=this,R=this.createTransport(g),K=!1;za.priorWebsocketSuccess=!1;var ha=function(){K||(R.send([{type:'ping',data:'probe'}]),R.once('packet',function(fa){if(!K)if('pong'===fa.type&&'probe'===fa.data){if(p.upgrading=!0,p.emitReserved('upgrading',R),R)za.priorWebsocketSuccess='websocket'===R.name,p.transport.pause(function(){K||
'closed'!==p.readyState&&(da(),p.setTransport(R),R.send([{type:'upgrade'}]),p.emitReserved('upgrade',R),R=null,p.upgrading=!1,p.flush())})}else fa=Error('probe error'),fa.transport=R.name,p.emitReserved('upgradeError',fa)}))},Aa=function(fa){fa=Error('probe error: '+fa);fa.transport=R.name;h();p.emitReserved('upgradeError',fa)},da=function(){R.removeListener('open',ha);R.removeListener('error',Aa);R.removeListener('close',b);p.off('close',x);p.off('upgrading',q)};R.once('open',ha);R.once('error',
Aa);R.once('close',b);this.once('close',x);this.once('upgrading',q);R.open()}},{key:'onOpen',value:function(){if(this.readyState='open',za.priorWebsocketSuccess='websocket'===this.transport.name,this.emitReserved('open'),this.flush(),'open'===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var g=0,h=this.upgrades.length;g<h;g++)this.probe(this.upgrades[g])}},{key:'onPacket',value:function(g){if('opening'===this.readyState||'open'===this.readyState||'closing'===this.readyState)switch(this.emitReserved('packet',
g),this.emitReserved('heartbeat'),g.type){case 'open':this.onHandshake(JSON.parse(g.data));break;case 'ping':this.resetPingTimeout();this.sendPacket('pong');this.emitReserved('ping');this.emitReserved('pong');break;case 'error':var h=Error('server error');h.code=g.data;this.onError(h);break;case 'message':this.emitReserved('data',g.data),this.emitReserved('message',g.data)}}},{key:'onHandshake',value:function(g){this.emitReserved('handshake',g);this.id=g.sid;this.transport.query.sid=g.sid;this.upgrades=
this.filterUpgrades(g.upgrades);this.pingInterval=g.pingInterval;this.pingTimeout=g.pingTimeout;this.maxPayload=g.maxPayload;this.onOpen();'closed'!==this.readyState&&this.resetPingTimeout()}},{key:'resetPingTimeout',value:function(){var g=this;this.clearTimeoutFn(this.pingTimeoutTimer);this.pingTimeoutTimer=this.setTimeoutFn(function(){g.onClose('ping timeout')},this.pingInterval+this.pingTimeout);this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:'onDrain',value:function(){this.writeBuffer.splice(0,
this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emitReserved('drain'):this.flush()}},{key:'flush',value:function(){if('closed'!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var g=this.getWritablePackets();this.transport.send(g);this.prevBufferLen=g.length;this.emitReserved('flush')}}},{key:'getWritablePackets',value:function(){if(!(this.maxPayload&&'polling'===this.transport.name&&1<this.writeBuffer.length))return this.writeBuffer;
for(var g,h=1,b=0;b<this.writeBuffer.length;b++){if(g=this.writeBuffer[b].data){if('string'==typeof g){for(var x=0,q=0,p=0,R=g.length;p<R;p++)128>(x=g.charCodeAt(p))?q+=1:2048>x?q+=2:55296>x||57344<=x?q+=3:(p++,q+=4);g=q}else g=Math.ceil(1.33*(g.byteLength||g.size));h+=g}if(0<b&&h>this.maxPayload)return this.writeBuffer.slice(0,b);h+=2}return this.writeBuffer}},{key:'write',value:function(g,h,b){return this.sendPacket('message',g,h,b),this}},{key:'send',value:function(g,h,b){return this.sendPacket('message',
g,h,b),this}},{key:'sendPacket',value:function(g,h,b,x){if('function'==typeof h&&(x=h,h=void 0),'function'==typeof b&&(x=b,b=null),'closing'!==this.readyState&&'closed'!==this.readyState)(b=b||{}).compress=!1!==b.compress,g={type:g,data:h,options:b},this.emitReserved('packetCreate',g),this.writeBuffer.push(g),x&&this.once('flush',x),this.flush()}},{key:'close',value:function(){var g=this,h=function(){g.onClose('forced close');g.transport.close()},b=function p(){g.off('upgrade',p);g.off('upgradeError',
p);h()},x=function(){g.once('upgrade',b);g.once('upgradeError',b)};return'opening'!==this.readyState&&'open'!==this.readyState||(this.readyState='closing',this.writeBuffer.length?this.once('drain',function(){g.upgrading?x():h()}):this.upgrading?x():h()),this}},{key:'onError',value:function(g){za.priorWebsocketSuccess=!1;this.emitReserved('error',g);this.onClose('transport error',g)}},{key:'onClose',value:function(g,h){'opening'!==this.readyState&&'open'!==this.readyState&&'closing'!==this.readyState||
(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners('close'),this.transport.close(),this.transport.removeAllListeners(),'function'==typeof removeEventListener&&removeEventListener('offline',this.offlineEventListener,!1),this.readyState='closed',this.id=null,this.emitReserved('close',g,h),this.writeBuffer=[],this.prevBufferLen=0)}},{key:'filterUpgrades',value:function(g){for(var h=[],b=0,x=g.length;b<x;b++)~this.transports.indexOf(g[b])&&h.push(g[b]);return h}}]),za}(N);Vb.protocol=
4;return function(ya,za){return new Vb(ya,za)}});
function BindingHelper(A){var P={};'undefined'!=typeof A&&(P=A);P.process=function(V,na,U){if('undefined'==typeof V||!Array.isArray(V))throw Error('`bindings` must be a defined array');'undefined'==typeof na&&(na=V.length,U=0);if(V[U]){var M=V[U];if('undefined'==typeof M.call)throw Error('`bindings.['+U+'].call` is required !');if('function'!=typeof P[M.call])throw Error('`bindingContext.'+M.call+'` is not a function');var ba=M.call;delete M.call;try{if('undefined'!=typeof M.handler){if(!window[M.handler])throw Error('`'+
M.handler+'` could not be reached. You must expose it to the `window` do object before any call.');var Q=M.handler;delete M.handler;window[Q].apply(this,Object.values(M));M.handler=Q}else P[ba].apply(this,Object.values(M));M.call=ba}catch(S){console.error('BindingHelper encountered error while trying to execute `'+ba+'`'+S.stack||S)}P.process(V,na,U+1)}};return P}define('helpers/binding',[],function(){return BindingHelper});
if('undefined'!==typeof module&&module.exports){var fs=require('fs'),execSync=require('child_process').execSync,util=require('util'),promisify=util.promisify;try{var console=require('../../logger')}catch(A){}}
function Domain(A,P){var V='undefined'!==typeof module&&module.exports?!1:!0,na=!1;V&&(na=!!window.MSInputMethodContext&&!!document.documentMode);'function'==typeof A&&(P=A,A=void 0);var U={filename:'../dist/public_suffix_list.dat',url:'https://publicsuffix.org/list/public_suffix_list.dat',alternativeUrl:'https://raw.githubusercontent.com/publicsuffix/list/master/public_suffix_list.dat',isCachingRequired:!1,isUpdating:!1},M=null,ba=null,Q=function(r,ea,Ea){if('undefined'==typeof ea)ea=U;else for(let N in U)'undefined'==
typeof ea[N]&&(ea[N]=U[N]);V||(ea.filename=__dirname+'/'+ea.filename);V&&ea.isCachingRequired&&(console.warn('[DOMAIN] `options.isCachingRequired` is only available for backend'),ea.isCachingRequired=!1);M=ea;if(Ea)return S(ea,function(N){N?Ea(N):(console.debug('[DOMAIN] PSL Loaded'),Ea(N,r))});S(ea);console.debug('[DOMAIN] PSL Loaded');return r},S=async function(r,ea){var Ea=V||r.isCachingRequired?r.url:r.filename,N='undefined'!=typeof r.isUpdating?r.isUpdating:!1,O=null;if(V)if(ba&&!N)ea(!1);else if(window.fetch){O=
N=null;try{N=await fetch(Ea),ba=O=await N.text()}catch(C){O=Error('[DOMAIN] Could not load PSL\n'+(C.stack||C.message||C));ea(O);return}r.isUpdating=!1;ea(!1)}else O=Error('[DOMAIN] Fetch API not supported'),ea(O);else{Ea=!1;if('undefined'!=typeof fs.accessSync)try{fs.accessSync(r.filename,fs.constants.F_OK),Ea=!0}catch(C){Ea=!1;try{fs.lstatSync(r.filename).isSymbolicLink()&&(Ea=!0)}catch(m){}}else Ea=fs.existsSync(r.filename);Ea||(r.isCachingRequired=!0);if(r.isCachingRequired){Ea='curl -o '+r.filename+
' '+r.url+' >/dev/null 2>&1';console.debug('[DOMAIN] Running: '+Ea);try{execSync(Ea)}catch(C){console.warn('[DOMAIN] could not fetch from `'+r.url+'`. Trying with `'+r.alternativeUrl+'`');Ea='curl -o '+r.filename+' '+r.alternativeUrl+' >/dev/null 2>&1';try{execSync(Ea)}catch(m){ea(m);return}}var D=!1;nIntervId=setInterval(()=>{if('undefined'!=typeof fs.accessSync)try{fs.accessSync(r.filename,fs.constants.F_OK),D=!0}catch(C){D=!1;try{fs.lstatSync(r.filename).isSymbolicLink()&&(D=!0)}catch(m){}}else D=
fs.existsSync(r.filename);D&&(clearInterval(nIntervId),ba=fs.readFileSync(r.filename).toString(),ea(!1))},200)}try{ba=fs.readFileSync(r.filename).toString(),ea&&ea(!1)}catch(C){console.warn('[DOMAIN] could not read from `'+r.filename+'`'),S(A,ea)}}},u=function(r){M.isUpdating=!0;S(M,r)},G={getRootDomain:function(r,ea){'undefined'==typeof ea&&(ea=!1);var Ea=!1,N=!1,O=r.replace(/^(.*):\/\/|\/(.*)/g,''),D=O.split(/\./g).reverse(),C=D.length?D.length-1:0,m=ba.replace(/\/\/\s*(.*)\n|^\s*\n/gm,'').split(/\n/).filter(function(z,
y,H){/[^a-z 0-9.]+/.test(z)&&(z=z.replace(/[^a-z 0-9.]+/g,'').replace(/^\./g,''));return/\./.test(z)&&!Ea&&(new RegExp('.'+z+'$')).test(O)?(Ea=!0,C=z.split(/\./g).length,H.splice(0,H.length),!1):z});O=D[C];0<C&&(D=D.splice(0,C),N=D[0],/:(.*)$/.test(N)&&(N=N.replace(/:(.*)$/,'')),(N=Ea||!Ea&&-1<m.indexOf(N)?!0:!1)?1<C&&!Ea?(D.splice(2),O=D.reverse().join('.')):O+='.'+D.reverse().join('.'):1<C?(D.splice(2),O=D.reverse().join('.')):O+='.'+D.reverse().join('.'));/:(.*)$/.test(O)&&(O=O.replace(/:(.*)$/,
''));console.debug('[DOMAIN] isSLD: '+Ea,r,' -> ',O);/^true$/i.test(ea);return{value:O,isSLD:Ea,isRegisteredTldOrSld:N}}};V?G.onReady=function(){}:G.updatePSL=u;return V&&na&&!window.fetch?(na=document.createElement('script'),na.type='text/javascript',na.src='https://cdn.jsdelivr.net/npm/promise-polyfill@8.1.3/dist/polyfill.min.js',u=document.createElement('script'),u.type='text/javascript',u.src='https://cdn.jsdelivr.net/npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js',document.head.appendChild(na),
document.head.appendChild(u),setTimeout(()=>Q(G,A,P),500)):Q(G,A,P)}'undefined'!==typeof module&&module.exports?module.exports=Domain:'function'===typeof define&&define.amd&&define('lib/domain',[],function(){return Domain});
define('gina/link','require jquery vendor/uuid lib/domain lib/merge utils/events'.split(' '),function(A){A('jquery').noConflict();var P=A('vendor/uuid'),V=A('lib/domain'),na=null,U=A('lib/merge');A('utils/events');return function(M){function ba(m,z){var y=D(m),H=y.id,v=document.getElementById(H)||null;(v.getAttribute('data-gina-link-event-on-success')||v.getAttribute('data-gina-link-event-on-error'))&&listenToXhrEvents(y);z='undefined'==typeof z?ea:U(z,ea);if(/^(http|https):/.test(m)&&!(new RegExp('^'+
window.location.protocol+'//'+window.location.host)).test(m)){var w=na.getRootDomain(window.location.hostname).value,F=na.getRootDomain(m).value;w=w===F?!0:!1;gina.config.envIsDev&&(console.debug('Checking CORS from Popin plugin...TODO - local CORS Proxy'),console.debug('Is request from same domain ? ',w));w||(m=m.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+m)}z.url=m;y&&'undefined'!=typeof y.options&&(z=U(y.options,z));z.withCredentials?'withCredentials'in r?z.isSynchrone?r.open(z.method,
z.url,z.isSynchrone):r.open(z.method,z.url):'undefined'!=typeof XDomainRequest?(r=new XDomainRequest,r.open(z.method,z.url)):(r=null,triggerEvent(gina,v,'error.'+H,'CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ')):z.isSynchrone?r.open(z.method,z.url,z.isSynchrone):r.open(z.method,z.url);if(!r)throw Error('No `xhr` object initiated');z.$link=y;handleXhr(r,v,z,A);r.send()}function Q(m,z){if('object'!=typeof z)throw Error('`options` must be an object');
m.options=U(z,S.options);z=document.getElementById(m.id)||null;if('undefined'==typeof u.$links[m.id]){if(-1<Ea.indexOf(m.id))throw Error('`link '+m.id+'` already exists !');if(!gina.events[evt]){addListener(gina,z,evt,function(v){cancelEvent(v);v=O(v.target.id);var w=v.url;'undefined'==typeof v.options.isSynchrone&&(v.options.isSynchrone=!1);'undefined'==typeof v.options.withCredentials&&(v.options.withCredentials=!1);ba(w,v.options)});var y=z.childNodes,H=0;lLen=y.length;if(0<lLen)for(;H<lLen;++H)'undefined'!=
typeof y[H].tagName&&N(y[H],z,evt)}m.request=ba;m.getLinkById=O;m.getLinkByUrl=D;u.$links[m.id]=m}}this.plugin='link';registerEvents(this.plugin,'loaded ready open close destroy success error progress'.split(' '));var S={options:{url:void 0,'class':'gina-link-default'},authorizedEvents:['ready','success','error'],events:{}},u={plugin:this.plugin,id:'gina-links-'+P.v4(),on,eventData:{},$links:{},target:document,isReady:!1,initialized:!1},G={plugin:this.plugin,on,eventData:{},target:document,url:null,
request:null,$forms:[]},r=null,ea={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}},Ea=[],N=function(m,z,y){addListener(gina,m,'click',function(H){cancelEvent(H);triggerEvent(gina,z,y)})},O=function(m){return'undefined'!=typeof u.$links[m]?u.$links[m]:null},D=function(m){var z=null,y;for(y in gina.link.$links)if('undefined'!=typeof gina.link.$links[y].url&&gina.link.$links[y].url==m){z=gina.link.$links[y];break}return z},C=function(m,z){'undefined'==
typeof m&&(m=u.target);var y,H=null;m=m.getElementsByTagName('a');for(var v=0,w=m.length;v<w;++v)if(((y=m[v].getAttribute('data-gina-link'))||''==y)&&!/^false$/i.test(y)){y=m[v];var F={type:'a',method:'GET'};var J=y.getAttribute('data-gina-link-url');F.url='undefined'!=typeof J&&null!=J?J:y.getAttribute('href');J=y.getAttribute('id');if('undefined'==typeof J||null==J||''==J||/popin\.link/.test(J))J='link.click.gina-link-'+u.id+'-'+P.v4();y.id=J;evt=F.id=J;y.setAttribute('id',evt);'A'==y.tagName&&
(H=y.getAttribute('onclick'));H?'undefined'==typeof H||/return false/.test(H)||(H=/;$/.test(H)?H+'return false;':H+'; return false;',y.setAttribute('onclick',H)):y.setAttribute('onclick','return false;');'undefined'==typeof u.$links[F.id]&&(F.target=y,y=U(F,G),Q(y,z))}};new V(function(m,z){if(m)throw m;na=z});return function(m){u.bindLinks=C;u.request=ba;u.getLinkById=O;u.getLinkByUrl=D;u.on('init',function(z){if(window.XMLHttpRequest)r=new XMLHttpRequest;else if(window.ActiveXObject)try{r=new ActiveXObject('Msxml2.XMLHTTP')}catch(y){try{r=
new ActiveXObject('Microsoft.XMLHTTP')}catch(H){}}evt='click';addListener(gina,u.target,evt,function(y){'undefined'==typeof y.target.id&&(y.target.setAttribute('id',evt+'.'+P.v4()),y.target.id=y.target.getAttribute('id'));if(/^link\.click\./.test(y.target.id)){cancelEvent(y);var H=y.target.id;(new RegExp('^link.click.gina-link-'+u.id)).test(H)&&triggerEvent(gina,y.target,H,y.detail)}});'undefined'==typeof m&&(m={});u.options=m;C(u.target,m);gina.linkIsBinded=!0;u.isReady=!0;gina.hasLinkHandler=!0;
gina.link=U(gina.link,u);triggerEvent(gina,u.target,'ready.'+u.id,u)});u.initialized=!0;return u}(M)}});
define('gina/popin','require vendor/uuid jquery lib/domain lib/merge utils/events'.split(' '),function(A){A('jquery').noConflict();var P=A('vendor/uuid'),V=A('lib/domain'),na=null,U=A('lib/merge');A('utils/events');return function(M){function ba(){var W=null,la;for(la in gina.popin.$popins)if('undefined'!=typeof gina.popin.$popins[la].isOpen&&gina.popin.$popins[la].isOpen){W=gina.popin.$popins[la];break}!W&&gina.popin.activePopinId&&(W=gina.popin.$popins[gina.popin.activePopinId]);return W}function Q(W,
la){var ia=W.target,xa=W.type;'undefined'!=typeof W.detail&&'function'==typeof W.detail.trim&&(ia.innerHTML=W.detail.trim());W=function(jb,Db,rb){var xb=rb.getAttribute('data-gina-popin-is-link');xb=/^true$/i.test(xb)?!0:!1;'link'!=jb||xb||(jb='action');addListener(gina,rb,Db,function(Ka){cancelEvent(Ka);if('close'!=jb){var db=!1,Lb='loaded.'+la.id;'undefined'==typeof gina.events[Lb]&&addListener(gina,ia,Lb,function(Vb){Vb.preventDefault();db||(db=!0,G(Vb.detail))});Lb={isSynchrone:!1,withCredentials:!1};
Lb=U(la.options,Lb);u(la.name,rb.href,Lb)}removeListener(gina,Ka.target,Ka.type)});addListener(gina,rb,'click',function(Ka){cancelEvent(Ka);if(null!=Ka.target.getAttribute('disabled')&&'false'!=Ka.target.getAttribute('disabled'))return!1;if('link'==jb){var db=Ka.target.getAttribute('href')||null,Lb=Ka.target.getAttribute('target');null!=Lb&&''!=Lb?window.open(db,Lb):triggerEvent(gina,Ka.target,Ka.currentTarget.id,la)}else'undefined'==typeof Ka.target.id&&(Ka.target.setAttribute('id',Db+'.'+P.v4()),
Ka.target.id=Ka.target.getAttribute('id')),/^popin\.close\./.test(Ka.target.id)&&(cancelEvent(Ka),la.isRedirecting=!1,O(la.name)),/^popin\.click\./.test(Ka.target.id)&&(cancelEvent(Ka),db=Ka.target.id,(new RegExp('^popin.click.gina-popin-'+m.id)).test(db)&&triggerEvent(gina,Ka.target,db,Ka.detail))})};gina.popinIsBinded=!0;var ma=null,ua=null,Ca=null;if(!la.isOpen&&C.options.cancelOnOverlayClick){var Qa=la.target;if(!C.options.useDialogMode||gina.config.envIsDev)Qa=m.target.childNodes[0];addListener(gina,
Qa,'mousedown',function(jb){if(/gina-popin-is-active/.test(jb.target.className)){removeListener(gina,jb.target,'mousedown');jb=[];ma=0;var Db=ia.getElementsByTagName('button');ua=0;Ca=Db.length;if(0<Ca)for(;ua<Ca;++ua)/gina-popin-close/.test(Db[ua].className)&&(jb[ma]=Db[ua],++ma);Db=ia.getElementsByTagName('div');ua=0;Ca=Db.length;if(0<Ca)for(;ua<Ca;++ua)/gina-popin-close/.test(Db[ua].className)&&(jb[ma]=Db[ua],++ma);Db=ia.getElementsByTagName('a');ua=0;Ca=Db.length;if(0<Ca)for(;ua<Ca;++ua)/gina-popin-close/.test(Db[ua].className)&&
(jb[ma]=Db[ua],++ma);ua=0;for(Ca=jb.length;ua<Ca;++ua){Db=jb[ua];let rb=Db.getAttribute('id');for(let xb=0,Ka=D.length;xb<Ka;xb++){let db=D[xb];'undefined'!=typeof gina.events[db]&&gina.events[db]==rb&&removeListener(gina,Db,db);'undefined'!=typeof gina.events[rb]&&gina.events[rb]==rb&&removeListener(gina,Db,rb);'undefined'!=typeof gina.events[db+'.'+rb]&&gina.events[db+'.'+rb]==rb&&removeListener(gina,Db,db+'.'+rb);'undefined'!=typeof gina.events[db+'.'+rb]&&gina.events[db+'.'+rb]==db+'.'+rb&&removeListener(gina,
Db,db+'.'+rb)}}la.isRedirecting=!1;O(la.name)}})}/<form/i.test(ia.innerHTML)&&'undefined'!=typeof y&&y&&(la.hasForm=!0);var La=[],Da=[];Qa=[];Da=ia.getElementsByTagName('button');ua=ma=0;Ca=Da.length;if(0<Da.length)for(;ua<Ca;++ua)/gina-popin-close/.test(Da[ua].className)&&(La[ma]=Da[ua],++ma);Da=ia.getElementsByTagName('div');ua=0;Ca=Da.length;if(0<Ca)for(;ua<Ca;++ua)/gina-popin-close/.test(Da[ua].className)&&(La[ma]=Da[ua],++ma);Da=ia.getElementsByTagName('a');ua=0;Ca=Da.length;if(0<Ca)for(;ua<
Ca;++ua)/gina-popin-close/.test(Da[ua].className)?(La[ma]=Da[ua],++ma):('undefined'==typeof Da[ua]||/(#|#.*)$/.test(Da[ua].href)||Da[ua].id)&&('undefined'==typeof Da[ua]||/(#|#.*)$/.test(Da[ua].href)||/^(click\.|popin\.link)/.test(Da[ua].id))||Qa.push(Da[ua]);var Na=null;Da=null;ua=0;for(Ca=La.length;ua<Ca;++ua)'A'==La[ua].tagName&&(Na=La[ua].getAttribute('onclick')),Na?'undefined'==typeof Na||/return false/.test(Na)||(Na=/;$/.test(Na)?Na+'return false;':Na+'; return false;'):La[ua].setAttribute('onclick',
'return false;'),La[ua].id?Da=La[ua].id:(Da='popin.close.'+P.v4(),La[ua].id=Da,La[ua].setAttribute('id',Da)),'undefined'!=typeof gina.events[Da]&&gina.events[Da]==La[ua].id||W('close',Da,La[ua]);ma=0;Ca=Qa.length;var Ia=null,Ja=null,Ua=null,pb={},ab=null,gb=new DOMParser,Ub=null,Zb=null;for(Da=La=La=null;ma<Ca;++ma)null==Qa[ma].getAttribute('disabled')&&(Qa[ma].id=/^null$/i.test(Qa[ma].getAttribute('id'))?null:Qa[ma].getAttribute('id'),Qa[ma].id&&/^popin\.link/.test(Qa[ma].id)&&/^popin\.click/.test(Qa[ma].id)?
Da=Qa[ma].id:(Da=!0,La=Qa[ma].getAttribute('href'),La&&''!=La&&'#'!=La||('#'!=La&&Qa[ma].setAttribute('href','#'),Da=!1),/^null$/i.test(Qa[ma].id)?Da?(Da='popin.link.'+P.v4(),Qa[ma].setAttribute('data-gina-popin-is-link',!0)):(Da='popin.click.'+P.v4(),Qa[ma].setAttribute('data-gina-popin-is-link',!1)):Da=Qa[ma].id,Qa[ma].id=Da,Qa[ma].setAttribute('id',Da)),La=(La=Qa[ma].getAttribute('data-gina-form-submit'))&&/^true$/i.test(La)?!0:!1,La||(/^(null|\s*)$/.test(Qa[ma].getAttribute('href'))||addListener(gina,
Qa[ma],'click',function(jb){jb.preventDefault();la.isRedirecting=!0;if(la.hasForm){Ia=la.target.getElementsByTagName('FORM');Ja=0;for(Ua=Ia.length;Ja<Ua;++Ja)if(Ub=jb.currentTarget.id,Zb=gb.parseFromString(Ia.item(Ja).innerHTML,'text/html').getElementById(Ub)||!1)ab=Ia[Ja].getAttribute('data-gina-form-inherits-data')||null,pb=U(pb,JSON.parse(decodeURIComponent(ab)));0<pb.count()&&(/\?/.test(jb.currentTarget.href)?jb.currentTarget.href+='&inheritedData='+encodeRFC5987ValueChars(JSON.stringify(pb)):
jb.currentTarget.href+='?inheritedData='+encodeRFC5987ValueChars(JSON.stringify(pb)))}}),'undefined'!=typeof gina.events[Da]&&gina.events[Da]==Qa[ma].id||W('link',Da,Qa[ma])));if(la.hasForm)for(W=null,Qa=ia.getElementsByTagName('form'),ma=0,Ca=Qa.length;ma<Ca;++ma)Qa[ma].id&&'string'==typeof Qa[ma]?W=Qa[ma].id:(W=Qa[ma].getAttribute('id')||'form.'+P.v4(),Qa[ma].setAttribute('id',W),Qa[ma].id=W),0>la.$forms.indexOf(W)&&la.$forms.push(W),Qa[ma].close=O,y.isPopinContext=!0,y.validateFormById(Qa[ma].getAttribute('id')),
removeListener(gina,la.target,xa)}function S(W,la){var ia=ba();if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&'undefined'!=typeof W&&'undefined'!=typeof la&&W){ia=W;try{var xa=null;!la&&ia.error&&/^(\{|\[)/.test(ia.error)&&(ia.error=JSON.parse(ia.error));if('undefined'!=typeof ia.error&&'object'==typeof ia.error&&'object'==typeof ia.error){xa={status:ia.status};for(xErr in ia.error)/^error$/.test(xErr)||(xa[xErr]=ia.error[xErr]);xa.error=ia.error.error;ia=xa}else'undefined'!=
typeof ia.error&&'string'==typeof ia.error&&(ia=W);ia.isXHRViewData=!0;ginaToolbar.update('data-xhr',ia);return}catch(ma){throw ma;}}try{ia=J(m.activePopinId)}catch(ma){ia&&ginaToolbar.update('data-xhr',ma)}ia||(new DOMParser).parseFromString(W,'text/html').getElementsByClassName('popin')[0]||(new DOMParser).parseFromString(W,'text/html').getElementsByTagName('div');ia='string'==typeof W&&/<(.*)>/.test(W)?(new DOMParser).parseFromString(W,'text/html').getElementById('gina-without-layout-xhr-data'):
document.getElementById('gina-without-layout-xhr-data');if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&ia)try{'undefined'!=typeof ia.value&&ia.value&&(ia=JSON.parse(decodeURIComponent(ia.value)),ia.isXHRViewData=!0,ginaToolbar.update('data-xhr',ia))}catch(ma){throw ma;}W='string'==typeof W&&/<(.*)>/.test(W)?(new DOMParser).parseFromString(W,'text/html').getElementById('gina-without-layout-xhr-view'):document.getElementById('gina-without-layout-xhr-view');if(gina&&'undefined'!=
typeof window.ginaToolbar&&window.ginaToolbar&&W)try{'undefined'!=typeof W.value&&W.value&&(W=JSON.parse(decodeURIComponent(W.value)),ginaToolbar.update('view-xhr',W))}catch(ma){throw ma;}}function u(W,la,ia){if('undefined'==typeof W){if('undefined'==typeof this.name)throw Error('`$popin.name` needs to be defined !');W=this.name}else'undefined'==typeof this.name&&'undefined'!=W&&(this.name=W);var xa=T(W),ma=xa.id;gina.popin.activePopinId||(gina.popin.activePopinId=ma);var ua=document.getElementById(ma)||
null;if(null==ua){var Ca=null;C.options.useDialogMode?(Ca=xa.options.class+' '+ma,ua=document.createElement('dialog'),ua.setAttribute('id',ma),ua.setAttribute('class',Ca),ua.setAttribute('data-type','modal'),ua.setAttribute('aria-labelledby',W),($overlay=document.getElementById('gina-popins-overlay'))?$overlay.appendChild(ua):m.target.appendChild(ua)):(Ca=xa.options.class+' '+ma,ua=document.createElement('div'),ua.setAttribute('id',ma),ua.setAttribute('class',Ca),m.target.firstChild.appendChild(ua))}'undefined'==
typeof ia?ia=Fa:(W=Fa.withCredentials,ia=U(ia,Fa),ia.withCredentials=W);/^(http|https):/.test(la)&&!(new RegExp('^'+window.location.protocol+'//'+window.location.host)).test(la)&&(W=na.getRootDomain(window.location.hostname).value,Ca=na.getRootDomain(la).value,W=W===Ca?!0:!1,gina.config.envIsDev&&(console.debug('Checking CORS from Popin plugin...TODO - local CORS Proxy'),console.debug('Is request from same domain ? ',W)),W||(la=la.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+la,ia.withCredentials=
!1));ia.url=la;xa.options=U(ia,xa.options);var Qa=null;ia.withCredentials?'withCredentials'in H?ia.isSynchrone?H.open(ia.method,ia.url,ia.isSynchrone):H.open(ia.method,ia.url):'undefined'!=typeof XDomainRequest?(H=new XDomainRequest,H.open(ia.method,ia.url)):(H=null,Qa='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ',triggerEvent(gina,ua,'error.'+ma,Qa)):ia.isSynchrone?H.open(ia.method,ia.url,ia.isSynchrone):H.open(ia.method,ia.url);var La=!1;if(H){H.withCredentials=
'undefined'!=typeof ia.withCredentials?ia.withCredentials:!1;H.onerror=function(Na,Ia){Qa={status:H.status,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};La=!0;m.eventData.error=Qa+'\n'+Ia;S(Qa,La);triggerEvent(gina,ua,'error.'+ma,Qa)};for(var Da in ia.headers)H.setRequestHeader(Da,ia.headers[Da]);H.onreadystatechange=function(Na){if(4==H.readyState)if(Na=null,/^2/.test(H.status))try{Na=H.responseText;var Ia=H.getResponseHeader('Content-Type'),
Ja=/application\/json/.test(Ia)?!0:!1,Ua=!0;Ja&&(Na=JSON.parse(H.responseText),Na.status=H.status,Na.contentType=Ia,Ua=!1);m.eventData.success=Na;if(!Ja&&xa.isOpen&&!xa.hasForm||!Ja&&xa.isOpen&&Ua)G(Na,Ua);else{if(Ja&&'undefined'!=typeof Na.location||Ja&&'undefined'!=typeof Na.reload){Ia=!1;'undefined'!=typeof Na.isXhrRedirect&&/^true$/i.test(Na.isXhrRedirect)&&(Ia=!0);if('undefined'!=typeof Na.location&&Ia){if('undefined'!=typeof Na.popin&&'undefined'!=typeof Na.popin.close){xa.isRedirecting=!1;
xa.close();var pb=Na.popin.reload?Na.popin.reload:!1;Na.popin.location||Na.popin.url||(delete Na.popin,pb&&(Na.popin={reload:pb}))}Ja='_self';'undefined'!=typeof Na.target&&(Na.target='_'+Na.target,Ja=Na.target);if(/^_self$/.test(Ja))return Ja=null,Ja='undefined'!=typeof Na.popin?Na.popin.location||Na.popin.url:Na.location,xa.load(xa.name,Ja,xa.options),setTimeout(function(ab){ab.isOpen||ab.open()},50,xa);window.open(Na.location,Ja);return}if('undefined'!=typeof Na.location){document.location=Na.location;
return}if('undefined'!=typeof Na.reload){document.location.reload();return}'undefined'!=typeof Na.popin&&'undefined'!=typeof Na.popin.close&&(xa.isRedirecting=!1,O(xa.name))}if(!Ja){GINA_ENV_IS_DEV&&S(Na);triggerEvent(gina,ua,'loaded.'+ma,Na);return}GINA_ENV_IS_DEV&&S(Na);triggerEvent(gina,$forms[0],'success.'+ma,Na)}GINA_ENV_IS_DEV&&S(Na)}catch(ab){La=!1,Na={status:422,error:ab.description||ab.stack},/application\/json/.test(H.getResponseHeader('Content-Type'))&&(Na.error=JSON.parse(H.responseText),
La=!0),m.eventData.error=Na,GINA_ENV_IS_DEV&&S(Na,La),triggerEvent(gina,ua,'error.'+ma,Na)}else La=!1,Na={status:H.status,error:H.responseText},/application\/json/.test(H.getResponseHeader('Content-Type'))&&(Na.error=JSON.parse(H.responseText),La=!0),m.eventData.error=Na,GINA_ENV_IS_DEV&&S(Na,La),triggerEvent(gina,ua,'error.'+ma,Na)};H.send();return{open:function(){var Na=!1;addListener(gina,ua,'loaded.'+ma,function(Ia){Ia.preventDefault();Na||(Na=!0,m.activePopinId=xa.id,Q(Ia,xa),Ea(xa.name))})}}}}
function G(W,la){var ia=ba();if(ia){if(!ia.isOpen)throw Error('Popin `'+ia.name+'` is not open !');ia.isRedirecting='undefined'!=typeof la?la:!1;la=ia.target;la.innerHTML=W.trim();N(ia.name,!0);Q({target:la,type:'loaded.'+ia.id},ia);if(!C.options.useDialogMode&&/safari/i.test(window.navigator.userAgent))for(W=document.getElementsByTagName('link'),la=0;la<W.length;la++)if('stylesheet'==W[la].getAttribute('rel')){var xa=W[la].getAttribute('href').split('?')[0];/gina\.min\.css|gina\.css/.test(xa)&&(xa=
xa+'?version='+(new Date).getMilliseconds(),W[la].setAttribute('href',xa))}ia.isRedirecting?triggerEvent(gina,m.target,'loaded.'+ia.id,ia):triggerEvent(gina,m.target,'open.'+ia.id,ia);if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar)try{ginaToolbar.update('el-xhr',ia.id)}catch(ma){throw ma;}}}function r(W){var la=setupXhr();la.open('GET',W,!0);la.setRequestHeader('Content-Type','text/javascript');la.onload=function(){eval(la.response)};la.send()}function ea(W){var la=setupXhr();
la.open('GET',W,!0);la.setRequestHeader('Content-Type','text/css');la.onload=function(){eval(la.response)};la.send()}function Ea(W){var la='undefined'!=typeof W?T(W):J(this.id);if(!la)throw Error('Popin name `'+W+'` not found !');W=document.getElementById(la.id);var ia=la.parentScripts,xa=W.getElementsByTagName('script'),ma=la.parentStyles,ua=W.getElementsByTagName('link'),Ca=0,Qa=xa.length,La=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');for(La=new RegExp(La+':\\d+|'+
La);Ca<Qa;++Ca){if('undefined'==typeof xa[Ca].src||''==xa[Ca].src)continue;let Da=xa[Ca].src.replace(/(https|http|):\/\//,'').replace(La,'');-1<ia.indexOf(Da)||r(xa[Ca].src)}Ca=0;for(Qa=ua.length;Ca<Qa;++Ca)'undefined'!=typeof ua[Ca].href&&''!=ua[Ca].href&&(ia=ua[Ca].href.replace(/(https|http|):\/\//,'').replace(La,''),-1<ma.indexOf(ia)||ea(ua[Ca].href));Q({target:W,type:'loaded.'+la.id},la);/gina-popin-is-active/.test(W.className)||(W.className+=' gina-popin-is-active');if(!C.options.useDialogMode||
gina.config.envIsDev)/gina-popin-is-active/.test(m.target.firstChild.className)||(m.target.firstChild.className+=' gina-popin-is-active'),/gina-popin-is-active/.test(m.target.firstChild.className)&&removeListener(gina,m.target,'open.'+la.id);C.options.useDialogMode&&!W.getAttribute('open')&&('function'===typeof W.showModal?gina.config.envIsDev?W.show():W.showModal():W.setAttribute('open',!0));la.isOpen=!0;la.target=W;m.activePopinId=la.id;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar)try{ginaToolbar.update('el-xhr',
la.id)}catch(Da){throw Da;}triggerEvent(gina,m.target,'open.'+la.id,la)}function N(W,la){var ia='undefined'!=typeof W?T(W):ba();if(!ia&&'undefined'!=typeof W)throw Error('Popin `'+W+'` not found !');if('undefined'!=typeof ia&&null!=ia&&(W=ia.target,la='undefined'!=typeof la?la:!1,null!=W&&/gina-popin-is-active/.test(W.className))){la||(m.target.firstChild.className=m.target.firstChild.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,''),W.className=W.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,
''),W.innerHTML='');if(y&&(la=0,W=ia.$forms.length,y.$forms&&0<W))for(;la<W;++la)'undefined'!=typeof y.$forms[ia.$forms[la]]&&y.$forms[ia.$forms[la]].destroy(),ia.$forms.splice(la,1);gina.popinIsBinded=!1;removeListener(gina,ia.target,'loaded.'+ia.id)}}function O(W){if('undefined'==typeof W&&/^true$/.test(this.isOpen)){W=this.name;var la=this}else{la=T(W)||ba();if(!la)return;W=la.name}if(!la&&'undefined'!=typeof W)throw Error('Popin `'+W+'` not found !');if(la.isOpen&&'undefined'!=typeof la&&null!=
la&&!la.isRedirecting){var ia=la.target;'function'===typeof ia.close?ia.close():ia.removeAttribute('open');removeListener(gina,la.target,'ready.'+m.id);la.hasForm&&(la.hasForm=!1);if(null!=ia&&/gina-popin-is-active/.test(ia.className)){N(W);la.isOpen=!1;gina.popinIsBinded=!1;GINA_ENV_IS_DEV&&gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&ginaToolbar.restore();m.activePopinId=null;if(0<la.$headers.length){W=0;ia=la.$headers.length;try{for(;W<ia;++W)document.getElementById(la.$headers[W].id).remove()}catch(xa){console.warn('Could not remove script `'+
la.$headers[W].id+'`\n'+xa.stack)}la.$headers=[]}triggerEvent(gina,la.target,'close.'+la.id,la)}}}this.plugin='popin';var D='init loaded ready open close click destroy success error progress'.split(' ');registerEvents(this.plugin,D);var C={options:{name:void 0,'class':'gina-popin-default',useDialogMode:!0,cancelOnOverlayClick:!1},authorizedEvents:['ready','error'],events:{}},m={plugin:this.plugin,id:'gina-popins-'+P.v4(),on,eventData:{},$popins:{},activePopinId:null,getActivePopin:null,target:document,
isReady:!1,initialized:!1},z={plugin:this.plugin,on,eventData:{},target:document,name:null,load:null,loadContent:null,open:null,isOpen:!1,isRedirecting:!1,close:null,$forms:[],hasForm:!1,$headers:[]},y=null,H=null,v=[],w=function(){var W=document.createElement('div');W.id=m.id;W.setAttribute('id',m.id);W.setAttribute('class','gina-popins');if(!C.options.useDialogMode||gina.config.envIsDev){var la=document.createElement('div');la.setAttribute('id','gina-popins-overlay');la.setAttribute('class','gina-popins-overlay');
W.appendChild(la)}document.body.appendChild(W);m.target=W;m.on=on;gina.popinContainer=m.id},F=function(W,la,ia){addListener(gina,W,'click',function(xa){cancelEvent(xa);triggerEvent(gina,la,ia)})},J=function(W){return'undefined'!=typeof m.$popins[W]?m.$popins[W]:null},T=function(W){var la=null,ia;for(ia in m.$popins)if(m.$popins[ia].name===W){la=m.$popins[ia];break}return la},ta=function(W,la){la=getElementsByAttribute('data-gina-popin-name');var ia=null,xa=null,ma=null,ua=null,Ca=null,Qa=null;Ca=
0;for(Qa=la.length;Ca<Qa;++Ca){ia=la[Ca];xa=ia.getAttribute('data-gina-popin-name');'A'==ia.tagName&&(ma=ia.getAttribute('href'),''==ma||'#'==ma||/#/.test(ma))&&(ma=null);ma||'undefined'==typeof ia.getAttribute('data-gina-popin-url')||(ma=ia.getAttribute('data-gina-popin-url'));if(!ma)throw Error('Found `data-gina-popin-name` without `url` !');ia.url||(ia.url=ma);ia.popinName||(ia.popinName=xa);if(xa==W.name&&(ua='popin.click.gina-popin-'+m.id+'-'+P.v4()+'-'+xa,ia.id=ua,ia.setAttribute('id',ua),!gina.events[ua])){addListener(gina,
ia,ua,function(Da){cancelEvent(Da);var Na=!1;addListener(gina,W.target,'loaded.'+W.id,function(Ja){Ja.preventDefault();Na||(Na=!0,console.debug('active popin should be ',W.id),gina.popin.activePopinId=W.id,Q(Ja,W),W.isOpen||Ea(W.name))});Da={isSynchrone:!1,withCredentials:!1};Da=U(W.options,Da);var Ia=this.getAttribute('data-gina-popin-url')||this.getAttribute('href');if(!Ia)throw Error('Popin `url` not defined, please check value for `data-gina-popin-url`');u(W.name,Ia,Da)});xa=ia.childNodes;var La=
0;lLen=xa.length;if(0<lLen)for(;La<lLen;++La)'undefined'!=typeof xa[La].tagName&&F(xa[La],ia,ua)}}ua='click';addListener(gina,document,ua,function(Da){if(null!=Da.target.getAttribute('disabled')&&'false'!=Da.target.getAttribute('disabled'))return!1;'undefined'==typeof Da.target.id&&(Da.target.setAttribute('id',ua+'.'+P.v4()),Da.target.id=Da.target.getAttribute('id'));if(/^popin\.close\./.test(Da.target.id)){cancelEvent(Da);var Na=Da.target.id;triggerEvent(gina,Da.target,Na,Da.detail)}/^popin\.click\./.test(Da.target.id)&&
(cancelEvent(Da),Na=Da.target.id,(new RegExp('^popin.click.gina-popin-'+m.id)).test(Na)&&triggerEvent(gina,Da.target,Na,Da.detail))});gina.popinIsBinded=!1},Fa={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}};gina.hasPopinHandler?(m.target=document.getElementById(gina.popinContainer),m.on=on):w();new V(function(W,la){if(W)throw W;na=la});return function(W){m.getPopinById=J;m.getPopinByName=T;m.load=u;m.loadContent=G;m.getActivePopin=ba;m.open=Ea;
m.close=O;addListener(gina,m.target,'init.'+m.id,function(la){la=null;if('undefined'==typeof m.$popins['gina-popin-'+m.id+'-'+W.name]){var ia=la=U({},z);if('object'!=typeof W)throw Error('`options` must be an object');ia.options=U(W,C.options);ia.id='gina-popin-'+m.id+'-'+ia.options.name;if('undefined'==typeof m.$popins[ia.id]){if('string'!=typeof ia.options.name||''==ia.options.name)throw Error('`options.name` can not be left `empty` or `undefined`');if(-1<v.indexOf(ia.options.name))throw Error('`popin '+
ia.options.name+'` already exists !');'undefined'!=typeof ia.options.validator&&(y=ia.options.validator,ia.validateFormById=y.validateFormById);ia.options['class']='gina-popin-container '+ia.options['class'];ia.name=ia.options.name;ia.target=m.target;ia.load=u;ia.loadContent=G;ia.open=Ea;ia.close=O;GINA_ENV_IS_DEV&&(ia.updateToolbar=S);ia.parentScripts=[];ia.parentStyles=[];var xa=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');xa=new RegExp(xa+':\\d+|'+xa);var ma=document.getElementsByTagName('script');
for(let Ca=0,Qa=ma.length;Ca<Qa;Ca++)if(ma[Ca].src&&''!=ma[Ca].src){var ua=ma[Ca].src.replace(/(https|http|):\/\//,'').replace(xa,'');ia.parentScripts[Ca]=ua}ma=document.getElementsByTagName('link');for(let Ca=0,Qa=ma.length;Ca<Qa;Ca++)'undefined'!=typeof ma[Ca].rel&&/stylesheet/i.test(ma[Ca].rel)&&(ua=ma[Ca].href.replace(/(https|http|):\/\//,'').replace(xa,''),ia.parentStyles[Ca]=ua);m.$popins[ia.id]=ia;if(window.XMLHttpRequest)H=new XMLHttpRequest;else if(window.ActiveXObject)try{H=new ActiveXObject('Msxml2.XMLHTTP')}catch(Ca){try{H=
new ActiveXObject('Microsoft.XMLHTTP')}catch(Qa){}}ta(ia)}}m.isReady=!0;gina.hasPopinHandler=!0;gina.popin=U(gina.popin,m);triggerEvent(gina,m.target,'ready.'+m.id,la)});m.initialized=!0;return m}(M)}});
'function'!==typeof Object.assign&&Object.defineProperty(Object,'assign',{value:function(A,P){if(null===A||void 0===A)throw new TypeError('Cannot convert undefined or null to object');for(var V=Object(A),na=1;na<arguments.length;na++){var U=arguments[na];if(null!==U&&void 0!==U)for(var M in U)Object.prototype.hasOwnProperty.call(U,M)&&(V[M]=U[M])}return V},writable:!0,configurable:!0});
if('undefined'==typeof JSON.clone){var clone=function(A,P){if(null==A||'object'!=typeof A||A.constructor!=Object&&A.constructor!=Array)return A;if(A.constructor==Date||A.constructor==RegExp||A.constructor==Function||A.constructor==String||A.constructor==Number||A.constructor==Boolean)return new A.constructor(A);P=P||new A.constructor;for(var V=0,na=Object.getOwnPropertyNames(A).length||0,U=Object.keys(A);V<na;)P[U[V]]='undefined'==typeof P[U[V]]?clone(A[U[V]],null):P[U[V]],V++;return P};JSON.clone=
clone}if('undefined'==typeof JSON.escape){var escape=function(A){try{return A.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(P){throw P;}};JSON.escape=escape}define('utils/polyfill',function(){});
function Inherits(A,P){return function(V,na){var U='undefined'==typeof V||'undefined'==typeof na?"inherits(a, b): neither [ a ] nor [ b ] can't be undefined or null":!1;if(U)throw Error(U);U=function(){return function(){if(this){this.prototype=V.prototype;this.name||(this.name=V.name);this.prototype.name=this.name;for(var M in na.prototype)this[M]||(this[M]=na.prototype[M]);na.apply(this,arguments);V.apply(this,arguments)}}}(V,na);void 0==V.prototype&&(V.prototype={});void 0==na.prototype&&(na.prototype=
{});V.prototype=Object.create(na.prototype,{});U.prototype=Object.create(V.prototype,{});return U}}'undefined'!==typeof module&&module.exports?module.exports=Inherits():'function'===typeof define&&define.amd&&define('lib/inherits',[],function(){return Inherits()});var readyList=[{name:'gina',ctx:window.gina,fn:window.onGinaLoaded}],readyFired=!1,readyEventHandlersInstalled=!1;
function ready(){if(!readyFired){readyFired=!0;var A=null,P=function(V,na){if(na[V])if('gina'==na[V].name)var U=window.setInterval(function(M,ba){try{if('undefined'==typeof ba&&(ba=window.readyList),ba[M].ctx=window.gina,A=ba[M].fn.call(window,ba[M].ctx,window.require))window.clearInterval(U),++M,P(M,ba)}catch(Q){throw window.clearInterval(U),Q;}},50,V,na);else window.$||'undefined'==typeof parent.window.$||(window.$=parent.window.$),'undefined'==typeof window.originalContext&&'undefined'!=typeof window.$&&
(window.originalContext=window.$),na[V].ctx=window.originalContext||$,na[V].fn.call(window,na[V].ctx,window.require),++V,P(V,na);else na=[]};P(0,readyList)}}function readyStateChange(){'complete'===document.readyState&&gina.ready()}
if('undefined'==typeof window.gina){var gina={_global:{register:function(A){if('undefined'!=typeof A)for(let P in A)window[P]=A[P]},unregister:function(A){if('undefined'==typeof A||!Array.isArray(A))throw Error('`variables` needs to ba an array');for(let P=0,V=A.length;P<V;P++)delete window[A[P]]}},ready:function(A,P){readyFired?setTimeout(function(){A(P)},1):(readyList.push({name:'anonymous',fn:A,ctx:P}),'complete'===document.readyState||!document.attachEvent&&'interactive'===document.readyState?
setTimeout(ready,1):readyEventHandlersInstalled||(document.addEventListener?(document.addEventListener('DOMContentLoaded',ready,!1),window.addEventListener('load',ready,!1)):(document.attachEvent('onreadystatechange',readyStateChange),window.attachEvent('onload',ready)),readyEventHandlersInstalled=!0))}};window.gina=gina}define('core',['require','gina'],function(A){A('gina')(window.gina)});require.config({packages:['gina']});require('vendor/uuid vendor/engine.io core helpers/prototypes helpers/binding helpers/dateFormat gina/link gina/validator gina/popin gina/storage utils/dom utils/events utils/data utils/effects utils/polyfill lib/inherits lib/form-validator lib/collection lib/domain lib/routing'.split(' '));
for(var tags=document.getElementsByTagName('script'),t=0,len=tags.length;t<len;++t)if(/gina.min.js|gina.js/.test(tags[t].getAttribute('src'))){tags[t].onload=function(A){if(window.onGinaLoaded)var P=window.onGinaLoaded;document.addEventListener?document.addEventListener('ginaloaded',function(V){window.gina=V.detail;P(V.detail)}):document.attachEvent&&document.attachEvent('ginaloaded',function(V){window.gina=V.detail;P(V.detail)})}();break};
