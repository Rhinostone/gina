window.originalContext=window.jQuery;window.ginaToolbar=null;
window.onGinaLoaded=function(b){if(!b)return!1;if(b.isFrameworkLoaded)return!0;var f=b.config={bundle:'{{ page.environment.bundle }}',env:'{{ page.environment.env }}',envIsDev:/^true$/.test('{{ page.environment.envIsDev }}')?!0:!1,scope:'{{ page.environment.scope }}',scopeIsLocal:/^true$/.test('{{ page.environment.scopeIsLocal }}')?!0:!1,scopeIsProduction:/^true$/.test('{{ page.environment.scopeIsProduction }}')?!0:!1,hostname:'{{ page.environment.hostname }}',routing:JSON.parse(decodeURIComponent('{{ page.environment.routing }}')),
reverseRouting:JSON.parse(decodeURIComponent('{{ page.environment.reverseRouting }}')),version:'{{ page.environment.version }}',webroot:'{{ page.environment.webroot }}',protocol:'{{ page.environment.protocol }}'};b.session={id:'{{ page.data.session.id }}',originalTimeout:'{{ page.data.session.timeout }}',createdAt:'{{ page.data.session.createdAt }}',lastModified:'{{ page.data.session.lastModified }}',expiresAt:null};b.session.__defineGetter__('timeout',function(){if(this.lastModified){this.lastModified&&
'string'==typeof this.lastModified&&(this.lastModified=new Date(this.lastModified));this.createdAt&&'string'==typeof this.createdAt&&(this.createdAt=new Date(this.createdAt));this.originalTimeout&&'string'==typeof this.originalTimeout&&(this.originalTimeout=parseInt(this.originalTimeout));this.expiresAt=new Date((new Date(this.lastModified)).getTime()+this.originalTimeout);var c=this.expiresAt-new Date}else c=null;return c});b.session.timeout;b.config.getRouting=function(c){if('undefined'==typeof c)return b.config.routing;
var g={},k=b.config.routing;c=new RegExp('\\@'+c+String.fromCharCode(36));for(var h in k)c.test(h)&&(g[h]=k[h]);return 0<g.count()?g:null};window.GINA_ENV='{{ page.environment.env }}';window.GINA_ENV_IS_DEV=/^true$/i.test('{{ page.environment.envIsDev }}')?!0:!1;if('undefined'!=typeof location.search&&/debug=/i.test(location.search)||!location.search&&/\?/.test(location.href)){var a=(' '+location.search).slice(1);!a&&/\?/.test(location.href)&&(a=location.href.match(/\?.*/),Array.isArray(a)&&0<a.length&&
(a=a[0]));(a=a.match(/debug=(true|false)/))&&(window.GINA_ENV_IS_DEV=b.config.envIsDev=/^true$/i.test(a[0].split(/=/)[1])?!0:!1);a=a=null}b.isFrameworkLoaded=!0;b.setOptions(f);try{b.forms=JSON.parse(decodeURIComponent('{{ page.environment.forms }}'))}catch(c){throw c;}a=null;a=document.head.getElementsByTagName('link');for(var d=0,e=a.length,l=!1,m=RegExp('css/vendor/gina/gina.min.css');d<e;++d)if(m.test(a[d].href)){l=!0;break}m=e=d=a=null;l||(a=document.createElement('link'),a.href=f.webroot+'css/vendor/gina/gina.min.css',
a.media='screen',a.rel='stylesheet',a.type='text/css',d=document.getElementsByTagName('head')[0],(e=d.getElementsByTagName('link'))&&'undefined'!=typeof e.length&&0<e.length?(console.debug('placed before'),d.insertBefore(a,e[0])):(console.debug('placed after'),d.appendChild(a)),d=e=null);/^true$/i.test(f.envIsDev)&&(f=window.require('gina/toolbar'),window.ginaToolbar=new f);return!0};
