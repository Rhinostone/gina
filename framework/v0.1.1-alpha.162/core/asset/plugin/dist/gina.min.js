/*
 RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license  @source https://gist.github.com/1129031  Engine.IO v6.2.2
 (c) 2014-2022 Guillermo Rauch
 Released under the MIT License.
*/
var requirejs,require,define;
(function(E,R){function da(Ia,La){return La||''}function Ga(Ia){return'[object Function]'===T.call(Ia)}function L(Ia){return'[object Array]'===T.call(Ia)}function V(Ia,La){if(Ia){var Za;for(Za=0;Za<Ia.length&&(!Ia[Za]||!La(Ia[Za],Za,Ia));Za+=1);}}function oa(Ia,La){if(Ia){var Za;for(Za=Ia.length-1;-1<Za&&(!Ia[Za]||!La(Ia[Za],Za,Ia));--Za);}}function W(Ia,La){return sa.call(Ia,La)}function Y(Ia,La){return W(Ia,La)&&Ia[La]}function m(Ia,La){for(var Za in Ia)if(W(Ia,Za)&&La(Ia[Za],Za))break}function U(Ia,
La,Za,vb){La&&m(La,function(cb,Xa){if(Za||!W(Ia,Xa))!vb||'object'!==typeof cb||!cb||L(cb)||Ga(cb)||cb instanceof RegExp?Ia[Xa]=cb:(Ia[Xa]||(Ia[Xa]={}),U(Ia[Xa],cb,Za,vb))});return Ia}function x(Ia,La){return function(){return La.apply(Ia,arguments)}}function ma(Ia){throw Ia;}function Da(Ia){if(!Ia)return Ia;var La=E;V(Ia.split('.'),function(Za){La=La[Za]});return La}function S(Ia,La,Za,vb){La=Error(La+'\nhttps://requirejs.org/docs/errors.html#'+Ia);La.requireType=Ia;La.requireModules=vb;Za&&(La.originalError=
Za);return La}function I(){if(C&&'interactive'===C.readyState)return C;oa(document.getElementsByTagName('script'),function(Ia){if('interactive'===Ia.readyState)return C=Ia});return C}var y,F,p,C,D,N,u,r=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,G=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,K=/\.js$/,A=/^\.\//;var O=Object.prototype;var T=O.toString,sa=O.hasOwnProperty,qa=!('undefined'===typeof window||'undefined'===typeof navigator||!window.document),Ea=!qa&&'undefined'!==typeof importScripts,
wa=qa&&'PLAYSTATION 3'===navigator.platform?/^complete$/:/^(complete|loaded)$/,za='undefined'!==typeof opera&&'[object Opera]'===opera.toString(),pa={},Ca={},Ra=[],Sa=!1;if('undefined'===typeof define){if('undefined'!==typeof requirejs){if(Ga(requirejs))return;Ca=requirejs;requirejs=void 0}'undefined'===typeof require||Ga(require)||(Ca=require,require=void 0);var Pa=requirejs=function(Ia,La,Za,vb){var cb='_';if(!L(Ia)&&'string'!==typeof Ia){var Xa=Ia;L(La)?(Ia=La,La=Za,Za=vb):Ia=[]}Xa&&Xa.context&&
(cb=Xa.context);(vb=Y(pa,cb))||(vb=pa[cb]=Pa.s.newContext(cb));Xa&&vb.configure(Xa);return vb.require(Ia,La,Za)};Pa.config=function(Ia){return Pa(Ia)};Pa.nextTick='undefined'!==typeof R?function(Ia){R(Ia,4)}:function(Ia){Ia()};require||=Pa;Pa.version='2.3.6';Pa.jsExtRegExp=/^\/|:|\?|\.js$/;Pa.isBrowser=qa;O=Pa.s={contexts:pa,newContext:function(Ia){function La(v,fa,ta){var ka;fa=fa&&fa.split('/');var ia=Ha.map,Ba=ia&&ia['*'];if(v){v=v.split('/');var ya=v.length-1;Ha.nodeIdCompat&&K.test(v[ya])&&(v[ya]=
v[ya].replace(K,''));'.'===v[0].charAt(0)&&fa&&(ya=fa.slice(0,fa.length-1),v=ya.concat(v));ya=v;for(ka=0;ka<ya.length;ka++){var Ya=ya[ka];'.'===Ya?(ya.splice(ka,1),--ka):'..'===Ya&&0!==ka&&(1!==ka||'..'!==ya[2])&&'..'!==ya[ka-1]&&0<ka&&(ya.splice(ka-1,2),ka-=2)}v=v.join('/')}if(ta&&ia&&(fa||Ba)){ya=v.split('/');ka=ya.length;a:for(;0<ka;--ka){var Ta=ya.slice(0,ka).join('/');if(fa)for(Ya=fa.length;0<Ya;--Ya)if(ta=Y(ia,fa.slice(0,Ya).join('/')))if(ta=Y(ta,Ta)){var ob=ta;var wb=ka;break a}if(!Kb&&Ba&&
Y(Ba,Ta)){var Kb=Y(Ba,Ta);var eb=ka}}!ob&&Kb&&(ob=Kb,wb=eb);ob&&(ya.splice(0,wb,ob),v=ya.join('/'))}return(ob=Y(Ha.pkgs,v))?ob:v}function Za(v){qa&&V(document.getElementsByTagName('script'),function(fa){if(fa.getAttribute('data-requiremodule')===v&&fa.getAttribute('data-requirecontext')===Q.contextName)return fa.parentNode.removeChild(fa),!0})}function vb(v){var fa=Y(Ha.paths,v);if(fa&&L(fa)&&1<fa.length)return fa.shift(),Q.require.undef(v),Q.makeRequire(null,{skipMap:!0})([v]),!0}function cb(v){var fa=
v?v.indexOf('!'):-1;if(-1<fa){var ta=v.substring(0,fa);v=v.substring(fa+1,v.length)}return[ta,v]}function Xa(v,fa,ta,ka){var ia=null,Ba=fa?fa.name:null,ya=v,Ya=!0,Ta='';v||(Ya=!1,v='_@r'+(z+=1));v=cb(v);ia=v[0];v=v[1];if(ia){ia=La(ia,Ba,ka);var ob=Y(n,ia)}if(v)if(ia)Ta=ta?v:ob&&ob.normalize?ob.normalize(v,function(Kb){return La(Kb,Ba,ka)}):-1===v.indexOf('!')?La(v,Ba,ka):v;else{Ta=La(v,Ba,ka);v=cb(Ta);ia=v[0];Ta=v[1];ta=!0;var wb=Q.nameToUrl(Ta)}ta=!ia||ob||ta?'':'_unnormalized'+(X+=1);return{prefix:ia,
name:Ta,parentMap:fa,unnormalized:!!ta,url:wb,originalName:ya,isDefine:Ya,id:(ia?ia+'!'+Ta:Ta)+ta}}function Cb(v){var fa=v.id,ta=Y(M,fa);ta||=M[fa]=new Q.Module(v);return ta}function Db(v,fa,ta){var ka=v.id,ia=Y(M,ka);if(!W(n,ka)||ia&&!ia.defineEmitComplete)if(ia=Cb(v),ia.error&&'error'===fa)ta(ia.error);else ia.on(fa,ta);else'defined'===fa&&ta(n[ka])}function Eb(v,fa){var ta=v.requireModules,ka=!1;if(fa)fa(v);else if(V(ta,function(ia){if(ia=Y(M,ia))ia.error=v,ia.events.error&&(ka=!0,ia.emit('error',
v))}),!ka)Pa.onError(v)}function ub(){Ra.length&&(V(Ra,function(v){var fa=v[0];'string'===typeof fa&&(Q.defQueueMap[fa]=!0);h.push(v)}),Ra=[])}function xb(v){delete M[v];delete e[v]}function Fb(v,fa,ta){var ka=v.map.id;v.error?v.emit('error',v.error):(fa[ka]=!0,V(v.depMaps,function(ia,Ba){ia=ia.id;var ya=Y(M,ia);!ya||v.depMatched[Ba]||ta[ia]||(Y(fa,ia)?(v.defineDep(Ba,n[ia]),v.check()):Fb(ya,fa,ta))}),ta[ka]=!0)}function Qa(){var v,fa,ta=(v=1E3*Ha.waitSeconds)&&Q.startTime+v<(new Date).getTime(),
ka=[],ia=[],Ba=!1,ya=!0;if(!va){va=!0;m(e,function(Ya){var Ta=Ya.map,ob=Ta.id;if(Ya.enabled&&(Ta.isDefine||ia.push(Ya),!Ya.error))if(!Ya.inited&&ta)vb(ob)?Ba=fa=!0:(ka.push(ob),Za(ob));else if(!Ya.inited&&Ya.fetched&&Ta.isDefine&&(Ba=!0,!Ta.prefix))return ya=!1});if(ta&&ka.length)return v=S('timeout','Load timeout for modules: '+ka,null,ka),v.contextName=Q.contextName,Eb(v);ya&&V(ia,function(Ya){Fb(Ya,{},{})});ta&&!fa||!Ba||!qa&&!Ea||xa||(xa=R(function(){xa=0;Qa()},50));va=!1}}function Gb(v){W(n,
v[0])||Cb(Xa(v[0],null,!0)).init(v[1],v[2])}function Yb(v){v=v.currentTarget||v.srcElement;var fa=Q.onScriptLoad;v.detachEvent&&!za?v.detachEvent('onreadystatechange',fa):v.removeEventListener('load',fa,!1);fa=Q.onScriptError;v.detachEvent&&!za||v.removeEventListener('error',fa,!1);return{node:v,id:v&&v.getAttribute('data-requiremodule')}}function Zb(){for(ub();h.length;){var v=h.shift();if(null===v[0])return Eb(S('mismatch','Mismatched anonymous define() module: '+v[v.length-1]));Gb(v)}Q.defQueueMap=
{}}var va,xa,Ha={waitSeconds:7,baseUrl:'./',paths:{},bundles:{},pkgs:{},shim:{},config:{}},M={},e={},b={},h=[],n={},w={},q={},z=1,X=1;var P={require:function(v){return v.require?v.require:v.require=Q.makeRequire(v.map)},exports:function(v){v.usingExports=!0;if(v.map.isDefine)return v.exports?n[v.map.id]=v.exports:v.exports=n[v.map.id]={}},module:function(v){return v.module?v.module:v.module={id:v.map.id,uri:v.map.url,config:function(){return Y(Ha.config,v.map.id)||{}},exports:v.exports||(v.exports=
{})}}};var ba=function(v){this.events=Y(b,v.id)||{};this.map=v;this.shim=Y(Ha.shim,v.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};ba.prototype={init:function(v,fa,ta,ka){ka=ka||{};if(!this.inited){this.factory=fa;if(ta)this.on('error',ta);else this.events.error&&(ta=x(this,function(ia){this.emit('error',ia)}));this.depMaps=v&&v.slice(0);this.errback=ta;this.inited=!0;this.ignore=ka.ignore;ka.enabled||this.enabled?this.enable():this.check()}},defineDep:function(v,
fa){this.depMatched[v]||(this.depMatched[v]=!0,--this.depCount,this.depExports[v]=fa)},fetch:function(){if(!this.fetched){this.fetched=!0;Q.startTime=(new Date).getTime();var v=this.map;if(this.shim)Q.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],x(this,function(){return v.prefix?this.callPlugin():this.load()}));else return v.prefix?this.callPlugin():this.load()}},load:function(){var v=this.map.url;w[v]||(w[v]=!0,Q.load(this.map.id,v))},check:function(){if(this.enabled&&!this.enabling){var v=
this.map.id;var fa=this.depExports;var ta=this.exports,ka=this.factory;if(!this.inited)W(Q.defQueueMap,v)||this.fetch();else if(this.error)this.emit('error',this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(Ga(ka)){if(this.events.error&&this.map.isDefine||Pa.onError!==ma)try{ta=Q.execCb(v,ka,fa,ta)}catch(ya){var ia=ya}else ta=Q.execCb(v,ka,fa,ta);this.map.isDefine&&void 0===ta&&((fa=this.module)?ta=fa.exports:this.usingExports&&(ta=this.exports));if(ia)return ia.requireMap=
this.map,ia.requireModules=this.map.isDefine?[this.map.id]:null,ia.requireType=this.map.isDefine?'define':'require',Eb(this.error=ia)}else ta=ka;this.exports=ta;if(this.map.isDefine&&!this.ignore&&(n[v]=ta,Pa.onResourceLoad)){var Ba=[];V(this.depMaps,function(ya){Ba.push(ya.normalizedMap||ya)});Pa.onResourceLoad(Q,this.map,Ba)}xb(v);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit('defined',this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var v=
this.map,fa=v.id,ta=Xa(v.prefix);this.depMaps.push(ta);Db(ta,'defined',x(this,function(ka){var ia=Y(q,this.map.id),Ba=this.map.name,ya=this.map.parentMap?this.map.parentMap.name:null,Ya=Q.makeRequire(v.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){ka.normalize&&(Ba=ka.normalize(Ba,function(wb){return La(wb,ya,!0)})||'');var Ta=Xa(v.prefix+'!'+Ba,this.map.parentMap,!0);Db(Ta,'defined',x(this,function(wb){this.map.normalizedMap=Ta;this.init([],function(){return wb},null,{enabled:!0,
ignore:!0})}));if(ka=Y(M,Ta.id)){this.depMaps.push(Ta);if(this.events.error)ka.on('error',x(this,function(wb){this.emit('error',wb)}));ka.enable()}}else if(ia)this.map.url=Q.nameToUrl(ia),this.load();else{var ob=x(this,function(wb){this.init([],function(){return wb},null,{enabled:!0})});ob.error=x(this,function(wb){this.inited=!0;this.error=wb;wb.requireModules=[fa];m(M,function(Kb){0===Kb.map.id.indexOf(fa+'_unnormalized')&&xb(Kb.map.id)});Eb(wb)});ob.fromText=x(this,function(wb,Kb){var eb=v.name,
yb=Xa(eb),Vb=Sa;Kb&&(wb=Kb);Vb&&(Sa=!1);Cb(yb);W(Ha.config,fa)&&(Ha.config[eb]=Ha.config[fa]);try{Pa.exec(wb)}catch(Wa){return Eb(S('fromtexteval','fromText eval for '+fa+' failed: '+Wa,Wa,[fa]))}Vb&&(Sa=!0);this.depMaps.push(yb);Q.completeLoad(eb);Ya([eb],ob)});ka.load(v.name,Ya,ob,Ha)}}));Q.enable(ta,this);this.pluginMaps[ta.id]=ta},enable:function(){e[this.map.id]=this;this.enabling=this.enabled=!0;V(this.depMaps,x(this,function(v,fa){var ta;if('string'===typeof v){v=Xa(v,this.map.isDefine?this.map:
this.map.parentMap,!1,!this.skipMap);this.depMaps[fa]=v;if(ta=Y(P,v.id)){this.depExports[fa]=ta(this);return}this.depCount+=1;Db(v,'defined',x(this,function(ia){this.undefed||(this.defineDep(fa,ia),this.check())}));this.errback?Db(v,'error',x(this,this.errback)):this.events.error&&Db(v,'error',x(this,function(ia){this.emit('error',ia)}))}ta=v.id;var ka=M[ta];W(P,ta)||!ka||ka.enabled||Q.enable(v,this)}));m(this.pluginMaps,x(this,function(v){var fa=Y(M,v.id);fa&&!fa.enabled&&Q.enable(v,this)}));this.enabling=
!1;this.check()},on:function(v,fa){var ta=this.events[v];ta||=this.events[v]=[];ta.push(fa)},emit:function(v,fa){V(this.events[v],function(ta){ta(fa)});'error'===v&&delete this.events[v]}};var Q={config:Ha,contextName:Ia,registry:M,defined:n,urlFetched:w,defQueue:h,defQueueMap:{},Module:ba,makeModuleMap:Xa,nextTick:Pa.nextTick,onError:Eb,configure:function(v){v.baseUrl&&'/'!==v.baseUrl.charAt(v.baseUrl.length-1)&&(v.baseUrl+='/');if('string'===typeof v.urlArgs){var fa=v.urlArgs;v.urlArgs=function(ia,
Ba){return(-1===Ba.indexOf('?')?'?':'&')+fa}}var ta=Ha.shim,ka={paths:!0,bundles:!0,config:!0,map:!0};m(v,function(ia,Ba){ka[Ba]?(Ha[Ba]||(Ha[Ba]={}),U(Ha[Ba],ia,!0,!0)):Ha[Ba]=ia});v.bundles&&m(v.bundles,function(ia,Ba){V(ia,function(ya){ya!==Ba&&(q[ya]=Ba)})});v.shim&&(m(v.shim,function(ia,Ba){L(ia)&&(ia={deps:ia});!ia.exports&&!ia.init||ia.exportsFn||(ia.exportsFn=Q.makeShimExports(ia));ta[Ba]=ia}),Ha.shim=ta);v.packages&&V(v.packages,function(ia){ia='string'===typeof ia?{name:ia}:ia;var Ba=ia.name;
ia.location&&(Ha.paths[Ba]=ia.location);Ha.pkgs[Ba]=ia.name+'/'+(ia.main||'main').replace(A,'').replace(K,'')});m(M,function(ia,Ba){ia.inited||ia.map.unnormalized||(ia.map=Xa(Ba,null,!0))});(v.deps||v.callback)&&Q.require(v.deps||[],v.callback)},makeShimExports:function(v){return function(){var fa;v.init&&(fa=v.init.apply(E,arguments));return fa||v.exports&&Da(v.exports)}},makeRequire:function(v,fa){function ta(ka,ia,Ba){var ya;fa.enableBuildCallback&&ia&&Ga(ia)&&(ia.__requireJsBuild=!0);if('string'===
typeof ka){if(Ga(ia))return Eb(S('requireargs','Invalid require call'),Ba);if(v&&W(P,ka))return P[ka](M[v.id]);if(Pa.get)return Pa.get(Q,ka,v,ta);var Ya=Xa(ka,v,!1,!0);Ya=Ya.id;return W(n,Ya)?n[Ya]:Eb(S('notloaded','Module name "'+Ya+'" has not been loaded yet for context: '+Ia+(v?'':'. Use require([])')))}Zb();Q.nextTick(function(){Zb();ya=Cb(Xa(null,v));ya.skipMap=fa.skipMap;ya.init(ka,ia,Ba,{enabled:!0});Qa()});return ta}fa=fa||{};U(ta,{isBrowser:qa,toUrl:function(ka){var ia=ka.lastIndexOf('.'),
Ba=ka.split('/')[0];if(-1!==ia&&('.'!==Ba&&'..'!==Ba||1<ia)){var ya=ka.substring(ia,ka.length);ka=ka.substring(0,ia)}return Q.nameToUrl(La(ka,v&&v.id,!0),ya,!0)},defined:function(ka){return W(n,Xa(ka,v,!1,!0).id)},specified:function(ka){ka=Xa(ka,v,!1,!0).id;return W(n,ka)||W(M,ka)}});v||(ta.undef=function(ka){ub();var ia=Xa(ka,v,!0),Ba=Y(M,ka);Ba.undefed=!0;Za(ka);delete n[ka];delete w[ia.url];delete b[ka];oa(h,function(ya,Ya){ya[0]===ka&&h.splice(Ya,1)});delete Q.defQueueMap[ka];Ba&&(Ba.events.defined&&
(b[ka]=Ba.events),xb(ka))});return ta},enable:function(v){Y(M,v.id)&&Cb(v).enable()},completeLoad:function(v){var fa=Y(Ha.shim,v)||{},ta=fa.exports;for(ub();h.length;){var ka=h.shift();if(null===ka[0]){ka[0]=v;if(ia)break;var ia=!0}else ka[0]===v&&(ia=!0);Gb(ka)}Q.defQueueMap={};ka=Y(M,v);if(!ia&&!W(n,v)&&ka&&!ka.inited)if(!Ha.enforceDefine||ta&&Da(ta))Gb([v,fa.deps||[],fa.exportsFn]);else return vb(v)?void 0:Eb(S('nodefine','No define call for '+v,null,[v]));Qa()},nameToUrl:function(v,fa,ta){var ka,
ia;(ka=Y(Ha.pkgs,v))&&(v=ka);if(ka=Y(q,v))return Q.nameToUrl(ka,fa,ta);if(Pa.jsExtRegExp.test(v))ka=v+(fa||'');else{ka=Ha.paths;var Ba=v.split('/');for(ia=Ba.length;0<ia;--ia){var ya=Ba.slice(0,ia).join('/');if(ya=Y(ka,ya)){L(ya)&&(ya=ya[0]);Ba.splice(0,ia,ya);break}}ka=Ba.join('/');ka+=fa||(/^data:|^blob:|\?/.test(ka)||ta?'':'.js');ka=('/'===ka.charAt(0)||ka.match(/^[\w\+\.\-]+:/)?'':Ha.baseUrl)+ka}return Ha.urlArgs&&!/^blob:/.test(ka)?ka+Ha.urlArgs(v,ka):ka},load:function(v,fa){Pa.load(Q,v,fa)},
execCb:function(v,fa,ta,ka){return fa.apply(ka,ta)},onScriptLoad:function(v){if('load'===v.type||wa.test((v.currentTarget||v.srcElement).readyState))C=null,v=Yb(v),Q.completeLoad(v.id)},onScriptError:function(v){var fa=Yb(v);if(!vb(fa.id)){var ta=[];m(M,function(ka,ia){0!==ia.indexOf('_@r')&&V(ka.depMaps,function(Ba){if(Ba.id===fa.id)return ta.push(ia),!0})});return Eb(S('scripterror','Script error for "'+fa.id+(ta.length?'", needed by: '+ta.join(', '):'"'),v,[fa.id]))}}};Q.require=Q.makeRequire();
return Q}};Pa({});V(['toUrl','undef','defined','specified'],function(Ia){Pa[Ia]=function(){var La=pa._;return La.require[Ia].apply(La,arguments)}});if(qa){var zb=O.head=document.getElementsByTagName('head')[0];if(y=document.getElementsByTagName('base')[0])zb=O.head=y.parentNode}Pa.onError=ma;Pa.createNode=function(Ia,La,Za){La=Ia.xhtml?document.createElementNS('http://www.w3.org/1999/xhtml','html:script'):document.createElement('script');La.type=Ia.scriptType||'text/javascript';La.charset='utf-8';
La.async=!0;return La};Pa.load=function(Ia,La,Za){var vb=Ia&&Ia.config||{};if(qa){var cb=Pa.createNode(vb,La,Za);cb.setAttribute('data-requirecontext',Ia.contextName);cb.setAttribute('data-requiremodule',La);!cb.attachEvent||cb.attachEvent.toString&&0>cb.attachEvent.toString().indexOf('[native code')||za?(cb.addEventListener('load',Ia.onScriptLoad,!1),cb.addEventListener('error',Ia.onScriptError,!1)):(Sa=!0,cb.attachEvent('onreadystatechange',Ia.onScriptLoad));cb.src=Za;if(vb.onNodeCreated)vb.onNodeCreated(cb,
vb,La,Za);D=cb;y?zb.insertBefore(cb,y):zb.appendChild(cb);D=null;return cb}if(Ea)try{R(function(){},0),importScripts(Za),Ia.completeLoad(La)}catch(Xa){Ia.onError(S('importscripts','importScripts failed for '+La+' at '+Za,Xa,[La]))}};qa&&!Ca.skipDataMain&&oa(document.getElementsByTagName('script'),function(Ia){zb||(zb=Ia.parentNode);if(F=Ia.getAttribute('data-main'))return N=F,Ca.baseUrl||-1!==N.indexOf('!')||(p=N.split('/'),N=p.pop(),u=p.length?p.join('/')+'/':'./',Ca.baseUrl=u),N=N.replace(K,''),
Pa.jsExtRegExp.test(N)&&(N=F),Ca.deps=Ca.deps?Ca.deps.concat(N):[N],!0});define=function(Ia,La,Za){var vb;'string'!==typeof Ia&&(Za=La,La=Ia,Ia=null);L(La)||(Za=La,La=null);!La&&Ga(Za)&&(La=[],Za.length&&(Za.toString().replace(r,da).replace(G,function(Xa,Cb){La.push(Cb)}),La=(1===Za.length?['require']:['require','exports','module']).concat(La)));if(Sa&&(vb=D||I())){Ia||=vb.getAttribute('data-requiremodule');var cb=pa[vb.getAttribute('data-requirecontext')]}cb?(cb.defQueue.push([Ia,La,Za]),cb.defQueueMap[Ia]=
!0):Ra.push([Ia,La,Za])};define.amd={jQuery:!0};Pa.exec=function(Ia){return eval(Ia)};Pa(Ca)}})(this,'undefined'===typeof setTimeout?void 0:setTimeout);define('requireLib',function(){});
!function(E,R){'object'==typeof exports&&'undefined'!=typeof module?R(exports):'function'==typeof define&&define.amd?define('vendor/uuid',['exports'],R):R((E=E||self).uuid={})}(this,function(E){function R(){if(!m)throw Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');return m(U)}function da(p,C){C=C||0;var D=Da;return[D[p[C++]],D[p[C++]],D[p[C++]],D[p[C++]],'-',D[p[C++]],D[p[C++]],'-',D[p[C++]],D[p[C++]],'-',D[p[C++]],D[p[C++]],'-',
D[p[C++]],D[p[C++]],D[p[C++]],D[p[C++]],D[p[C++]],D[p[C++]]].join('')}function Ga(p,C,D){var N=function(u,r,G,K){K=G&&K||0;if('string'==typeof u&&(u=function(A){A=unescape(encodeURIComponent(A));for(var O=Array(A.length),T=0;T<A.length;T++)O[T]=A.charCodeAt(T);return O}(u)),'string'==typeof r&&(r=function(A){var O=[];return A.replace(/[a-fA-F0-9]{2}/g,function(T){O.push(parseInt(T,16))}),O}(r)),!Array.isArray(u))throw TypeError('value must be an array of bytes');if(!Array.isArray(r)||16!==r.length)throw TypeError('namespace must be uuid string or an Array of 16 byte values');
u=D(r.concat(u));if(u[6]=15&u[6]|C,u[8]=63&u[8]|128,G)for(r=0;16>r;++r)G[K+r]=u[r];return G||da(u)};try{N.name=p}catch(u){}return N.DNS='6ba7b810-9dad-11d1-80b4-00c04fd430c8',N.URL='6ba7b811-9dad-11d1-80b4-00c04fd430c8',N}function L(p,C){var D=(65535&p)+(65535&C);return(p>>16)+(C>>16)+(D>>16)<<16|65535&D}function V(p,C,D,N,u,r){return L((G=L(L(C,p),L(N,r)))<<(K=u)|G>>>32-K,D);var G,K}function oa(p,C,D,N,u,r,G){return V(C&D|~C&N,p,C,u,r,G)}function W(p,C,D,N,u,r,G){return V(C&N|D&~N,p,C,u,r,G)}function Y(p,
C,D,N,u,r,G){return V(D^(C|~N),p,C,u,r,G)}for(var m='undefined'!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||'undefined'!=typeof msCrypto&&'function'==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),U=new Uint8Array(16),x,ma,Da=[],S=0;256>S;++S)Da[S]=(S+256).toString(16).substr(1);var I=0,y=0;S=Ga('v3',48,function(p){if('string'==typeof p){var C=unescape(encodeURIComponent(p));p=Array(C.length);for(var D=0;D<C.length;D++)p[D]=C.charCodeAt(D)}return function(N){var u,
r=[],G=32*N.length;for(u=0;u<G;u+=8){var K=N[u>>5]>>>u%32&255;K=parseInt('0123456789abcdef'.charAt(K>>>4&15)+'0123456789abcdef'.charAt(15&K),16);r.push(K)}return r}(function(N,u){N[u>>5]|=128<<u%32;N[14+(u+64>>>9<<4)]=u;var r=1732584193,G=-271733879,K=-1732584194,A=271733878;for(u=0;u<N.length;u+=16){var O=r;var T=G;var sa=K;var qa=A;r=oa(r,G,K,A,N[u],7,-680876936);A=oa(A,r,G,K,N[u+1],12,-389564586);K=oa(K,A,r,G,N[u+2],17,606105819);G=oa(G,K,A,r,N[u+3],22,-1044525330);r=oa(r,G,K,A,N[u+4],7,-176418897);
A=oa(A,r,G,K,N[u+5],12,1200080426);K=oa(K,A,r,G,N[u+6],17,-1473231341);G=oa(G,K,A,r,N[u+7],22,-45705983);r=oa(r,G,K,A,N[u+8],7,1770035416);A=oa(A,r,G,K,N[u+9],12,-1958414417);K=oa(K,A,r,G,N[u+10],17,-42063);G=oa(G,K,A,r,N[u+11],22,-1990404162);r=oa(r,G,K,A,N[u+12],7,1804603682);A=oa(A,r,G,K,N[u+13],12,-40341101);K=oa(K,A,r,G,N[u+14],17,-1502002290);G=oa(G,K,A,r,N[u+15],22,1236535329);r=W(r,G,K,A,N[u+1],5,-165796510);A=W(A,r,G,K,N[u+6],9,-1069501632);K=W(K,A,r,G,N[u+11],14,643717713);G=W(G,K,A,r,N[u],
20,-373897302);r=W(r,G,K,A,N[u+5],5,-701558691);A=W(A,r,G,K,N[u+10],9,38016083);K=W(K,A,r,G,N[u+15],14,-660478335);G=W(G,K,A,r,N[u+4],20,-405537848);r=W(r,G,K,A,N[u+9],5,568446438);A=W(A,r,G,K,N[u+14],9,-1019803690);K=W(K,A,r,G,N[u+3],14,-187363961);G=W(G,K,A,r,N[u+8],20,1163531501);r=W(r,G,K,A,N[u+13],5,-1444681467);A=W(A,r,G,K,N[u+2],9,-51403784);K=W(K,A,r,G,N[u+7],14,1735328473);G=W(G,K,A,r,N[u+12],20,-1926607734);r=V(G^K^A,r,G,N[u+5],4,-378558);A=V(r^G^K,A,r,N[u+8],11,-2022574463);K=V(A^r^G,K,
A,N[u+11],16,1839030562);G=V(K^A^r,G,K,N[u+14],23,-35309556);r=V(G^K^A,r,G,N[u+1],4,-1530992060);A=V(r^G^K,A,r,N[u+4],11,1272893353);K=V(A^r^G,K,A,N[u+7],16,-155497632);G=V(K^A^r,G,K,N[u+10],23,-1094730640);r=V(G^K^A,r,G,N[u+13],4,681279174);A=V(r^G^K,A,r,N[u],11,-358537222);K=V(A^r^G,K,A,N[u+3],16,-722521979);G=V(K^A^r,G,K,N[u+6],23,76029189);r=V(G^K^A,r,G,N[u+9],4,-640364487);A=V(r^G^K,A,r,N[u+12],11,-421815835);K=V(A^r^G,K,A,N[u+15],16,530742520);G=V(K^A^r,G,K,N[u+2],23,-995338651);r=Y(r,G,K,A,
N[u],6,-198630844);A=Y(A,r,G,K,N[u+7],10,1126891415);K=Y(K,A,r,G,N[u+14],15,-1416354905);G=Y(G,K,A,r,N[u+5],21,-57434055);r=Y(r,G,K,A,N[u+12],6,1700485571);A=Y(A,r,G,K,N[u+3],10,-1894986606);K=Y(K,A,r,G,N[u+10],15,-1051523);G=Y(G,K,A,r,N[u+1],21,-2054922799);r=Y(r,G,K,A,N[u+8],6,1873313359);A=Y(A,r,G,K,N[u+15],10,-30611744);K=Y(K,A,r,G,N[u+6],15,-1560198380);G=Y(G,K,A,r,N[u+13],21,1309151649);r=Y(r,G,K,A,N[u+4],6,-145523070);A=Y(A,r,G,K,N[u+11],10,-1120210379);K=Y(K,A,r,G,N[u+2],15,718787259);G=Y(G,
K,A,r,N[u+9],21,-343485551);r=L(r,O);G=L(G,T);K=L(K,sa);A=L(A,qa)}return[r,G,K,A]}(function(N){var u,r=[];r[(N.length>>2)-1]=void 0;for(u=0;u<r.length;u+=1)r[u]=0;var G=8*N.length;for(u=0;u<G;u+=8)r[u>>5]|=(255&N[u/8])<<u%32;return r}(p),8*p.length))});var F=Ga('v5',80,function(p){var C=[1518500249,1859775393,2400959708,3395469782],D=[1732584193,4023233417,2562383102,271733878,3285377520];if('string'==typeof p){var N=unescape(encodeURIComponent(p));p=Array(N.length);for(var u=0;u<N.length;u++)p[u]=
N.charCodeAt(u)}p.push(128);N=Math.ceil((p.length/4+2)/16);var r=Array(N);for(u=0;u<N;u++){r[u]=Array(16);for(var G=0;16>G;G++)r[u][G]=p[64*u+4*G]<<24|p[64*u+4*G+1]<<16|p[64*u+4*G+2]<<8|p[64*u+4*G+3]}r[N-1][14]=8*(p.length-1)/Math.pow(2,32);r[N-1][14]=Math.floor(r[N-1][14]);r[N-1][15]=8*(p.length-1)&4294967295;for(u=0;u<N;u++){p=Array(80);for(G=0;16>G;G++)p[G]=r[u][G];for(G=16;80>G;G++){var K=p[G-3]^p[G-8]^p[G-14]^p[G-16];p[G]=K<<1|K>>>31}K=D[0];var A=D[1],O=D[2],T=D[3],sa=D[4];for(G=0;80>G;G++){var qa=
Math.floor(G/20),Ea=K<<5|K>>>27;a:{switch(qa){case 0:var wa=A&O^~A&T;break a;case 1:wa=A^O^T;break a;case 2:wa=A&O^A&T^O&T;break a;case 3:wa=A^O^T;break a}wa=void 0}qa=Ea+wa+sa+C[qa]+p[G]>>>0;sa=T;T=O;O=(A<<30|A>>>2)>>>0;A=K;K=qa}D[0]=D[0]+K>>>0;D[1]=D[1]+A>>>0;D[2]=D[2]+O>>>0;D[3]=D[3]+T>>>0;D[4]=D[4]+sa>>>0}return[D[0]>>24&255,D[0]>>16&255,D[0]>>8&255,255&D[0],D[1]>>24&255,D[1]>>16&255,D[1]>>8&255,255&D[1],D[2]>>24&255,D[2]>>16&255,D[2]>>8&255,255&D[2],D[3]>>24&255,D[3]>>16&255,D[3]>>8&255,255&
D[3],D[4]>>24&255,D[4]>>16&255,D[4]>>8&255,255&D[4]]});E.v1=function(p,C,D){D=C&&D||0;var N=C||[],u=(p=p||{}).node||x,r=void 0!==p.clockseq?p.clockseq:ma;if(null==u||null==r){var G=p.random||(p.rng||R)();null==u&&(u=x=[1|G[0],G[1],G[2],G[3],G[4],G[5]]);null==r&&(r=ma=16383&(G[6]<<8|G[7]))}G=void 0!==p.msecs?p.msecs:(new Date).getTime();var K=void 0!==p.nsecs?p.nsecs:y+1,A=G-I+(K-y)/1E4;if(0>A&&void 0===p.clockseq&&(r=r+1&16383),(0>A||G>I)&&void 0===p.nsecs&&(K=0),1E4<=K)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");
I=G;y=K;ma=r;p=(1E4*(268435455&(G+=122192928E5))+K)%4294967296;N[D++]=p>>>24&255;N[D++]=p>>>16&255;N[D++]=p>>>8&255;N[D++]=255&p;p=G/4294967296*1E4&268435455;N[D++]=p>>>8&255;N[D++]=255&p;N[D++]=p>>>24&15|16;N[D++]=p>>>16&255;N[D++]=r>>>8|128;N[D++]=255&r;for(r=0;6>r;++r)N[D+r]=u[r];return C||da(N)};E.v3=S;E.v4=function(p,C,D){D=C&&D||0;'string'==typeof p&&(C='binary'===p?Array(16):null,p=null);var N=(p=p||{}).random||(p.rng||R)();if(N[6]=15&N[6]|64,N[8]=63&N[8]|128,C)for(p=0;16>p;++p)C[D+p]=N[p];
return C||da(N)};E.v5=F;Object.defineProperty(E,'__esModule',{value:!0})});
function Merge(){var E=[],R=function(L,V){'undefined'==typeof L&&(L='undefined'!=typeof V&&Array.isArray(V)?[]:{});var oa=!1;'boolean'==typeof arguments[arguments.length-1]&&(oa=arguments[arguments.length-1]);var W=1,Y=arguments.length,m,U;if('object'!==typeof L&&'function'!==typeof L)L=oa?'undefined'==typeof arguments[2]?arguments[1]:arguments[2]:'undefined'==typeof arguments[0]?arguments[1]:arguments[0];else for(;W<Y;++W)if('boolean'!=typeof arguments[W]&&null!=(m=arguments[W])){if('object'!=typeof m){L=
m;break}if(Array.isArray(m)&&Array.isArray(L))L=da(m,L,oa);else for(var x in m){L||={name:null};var ma=L[x];var Da=m[x];if(L!==Da)if(Da&&(Ga(Da)||(U=Array.isArray(Da)))){var S=!1;if(U){U=!1;if(ma&&Array.isArray(ma))var I=ma||[];else if(Ga(ma)){I=ma||{};L[x]=I;continue}else I=[];E=I;I=da(Da,I,oa);L[x]=I}else{I=ma&&Ga(ma)?ma:null;if(!I){S=!0;I={};for(var y in Da)I[y]=Da[y]}if(oa){for(y in Da)'undefined'!=typeof Da[y]?Array.isArray(Da[y])&&Array.isArray(I[y])?I[y]=da(Da[y],I[y],oa):I[y]=Da[y]:Array.isArray(Da[y])&&
Array.isArray(I[y])&&(I[y]=da(Da[y],I[y],oa));L[x]=I}else{for(y in Da)'undefined'==typeof I[y]?Array.isArray(Da[y])&&Array.isArray(I[y])?I[y]=da(Da[y],I[y],oa):I[y]=Da[y]:Array.isArray(Da[y])&&Array.isArray(I[y])&&(I[y]=da(Da[y],I[y],oa));'boolean'==typeof ma||S?S&&(L[x]=I):L[x]=R(I,Da,oa)}}}else void 0!==Da&&(L[x]='undefined'==typeof ma||null==ma||ma===Da||oa?Da:ma)}}E=[];return L},da=function(L,V,oa){E=[];var W=[],Y=R.getKeyComparison();if(/^true$/i.test(oa)){if('object'==typeof L[0]&&'undefined'!=
typeof L[0][Y]&&'object'==typeof V[0]&&'undefined'!=typeof V[0][Y]){E=Array.isArray(V)?Array.from(V):JSON.clone(V);var m=0;for(oa=E.length;m<oa;++m)W.push(E[m][Y]);oa=JSON.clone(L);var U=0;m=0;L=oa.length;for(var x=Da||0,ma=V.length;x<ma;++x)a:for(m=m||0;m<L;++m)if(oa[m][Y]===V[x][Y]){-1<W.indexOf(oa[m][Y])?(E[U]=oa[m],++U):-1==W.indexOf(oa[m][Y])&&(W.push(oa[m][Y]),E[U]=oa[m],++U);break a}else-1==W.indexOf(oa[m][Y])&&(W.push(oa[m][Y]),E.push(oa[m]));return E}return Array.isArray(L)&&0==L.length||
'undefined'==typeof L?V:L}if(0==L.length&&0<V.length)return E=V;if(0==V.length&&0<L.length)for(m=0;m<L.length;++m)V.push(L[m]);if(0==E.length&&0<V.length)for(m=0;m<V.length;++m)'object'!=typeof V[m]&&-1==E.indexOf(V[m])&&E.push(V[m]);if(0<V.length){if('undefined'!=typeof L[0]&&'object'==typeof L[0]&&null!=L[0]&&'undefined'!=typeof L[0][Y]&&'object'==typeof V[0]&&'undefined'!=typeof V[0][Y]){E=Array.isArray(V)?Array.from(V):JSON.clone(V);oa=JSON.clone(L);var Da=null;m=0;for(L=E.length;m<L;++m)W.push(E[m][Y]);
for(m=0;m<L;++m)a:for(x=Da||0,ma=oa.length;x<ma;++x)if(null!=oa[x]&&'undefined'!=typeof oa[x][Y]&&oa[x][Y]!==E[m][Y]){if(-1==W.indexOf(oa[x][Y])){E.push(oa[x]);W.push(oa[x][Y]);Da=x+1;L<ma&&++L;break a}}else if(null!=oa[x]&&'undefined'!=typeof oa[x][Y]&&oa[x][Y]===E[m][Y])Da=x+1;else break a;return E}for(m=0;m<L.length;++m)if(-1<V.indexOf(L[m])&&oa)V.splice(V.indexOf(L[m]),1,L[m]);else if('undefined'==typeof E[m]&&'object'==typeof L[m])for(U in E=V,'undefined'==typeof E[m]&&(E[m]={}),L[m])E[m].hasOwnProperty(U)||
(E[m][U]=L[m][U]);else!oa&&-1<E.indexOf(L[m])&&'number'==typeof L[m]&&L[m]!==E[m]?E.push(L[m]):'undefined'==typeof V[m]||/null/i.test(V[m])||'undefined'==typeof V[m][Y]||'undefined'==typeof L[m]||'undefined'==typeof L[m][Y]||V[m][Y]!=L[m][Y]?-1==E.indexOf(L[m])&&E.push(L[m]):E[m]=oa?L[m]:V[m]}if(0<E.length&&0<V.length||0==E.length&&0==V.length)return E};da.prototype.setKeyComparison=function(L){this.keyComparison=L};var Ga=function(L){if(!L||'[object Object]'!=={}.toString.call(L)||L.nodeType||L.setInterval)return!1;
var V={}.hasOwnProperty,oa=V.call(L,'constructor');V='undefined'!=typeof L.constructor?V.call(L.constructor.prototype,'isPrototypeOf'):!1;return!L.constructor||oa||V?!0:!1};R.setKeyComparison=function(L){da.keyComparison=L;return R};R.getKeyComparison=function(){var L=da.keyComparison||'id';da.keyComparison='id';return L};return R}
'undefined'!==typeof module&&module.exports?('undefined'==typeof JSON.clone&&require('../../../helpers'),module.exports=Merge()):'function'===typeof define&&define.amd&&define('utils/merge',[],function(){return Merge()});function registerEvents(E,R){'undefined'==typeof gina&&'undefined'!=typeof window.gina&&(gina=window.gina);gina.registeredEvents[E]=R}function mergeEventProps(E,R){for(let da in R)'undefined'==typeof E[da]&&(E[da]=R[da]);return E}
function addListener(E,R,da,Ga){var L=function(W,Y,m,U){'undefined'!=typeof W.event&&W.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(m)&&-1==W.event[m].indexOf(Y)&&(W.event[m][W.event[m].length]=Y);'undefined'!=typeof Y&&null!=Y?Y.addEventListener?Y.addEventListener(m,U,!1):Y.attachEvent&&Y.attachEvent('on'+m,U):W.customEvent.addListener(m,U);gina.events[m]='undefined'!=typeof Y.id&&'object'!=typeof Y.id?Y.id:Y.getAttribute('id')},V=0,oa=null;if(Array.isArray(da))for(oa=da.length;V<oa;V++)L(E,
R,da[V],Ga);else if(Array.isArray(R))for(V=0,oa=R.length;V<oa;V++){let W=/\.$/.test(da)?da+R[V].id:da;L(E,R[V],W,Ga)}else da=/\.$/.test(da)?da+R.id:da,L(E,R,da,Ga)}
function triggerEvent(E,R,da,Ga,L){if('undefined'!=typeof R&&null!=R){E=!1;if(jQuery){var V=jQuery.fn.jquery.split(/\./);V=2<V.length?V.splice(0,2).join('.'):V.join('.');V='1.7'>=V?jQuery(R).data('events'):jQuery._data(jQuery(R)[0],'events');if(V='undefined'!=typeof V&&'undefined'!=typeof V[da]?!0:!1)V=jQuery.Event(da),jQuery(R).trigger(V,Ga),E=V.isDefaultPrevented()}window.CustomEvent||document.createEvent?(window.CustomEvent?V=new CustomEvent(da,{detail:Ga,bubbles:!0,cancelable:!0,target:R}):(V=
document.createEvent('HTMLEvents'),V.detail=Ga,V.target=R,V.initEvent(da,!0,!0),V.eventName=da),L&&(V=mergeEventProps(V,L)),'undefined'!=typeof V.defaultPrevented&&V.defaultPrevented&&(E=V.defaultPrevented),E||R.dispatchEvent(V)):document.createEventObject&&(V=document.createEventObject(),V.srcElement.id=R.id,V.detail=Ga,V.target=R,L&&(V=mergeEventProps(V,L)),R.fireEvent('on'+da,V))}else E.customEvent.fire(da,Ga)}
function cancelEvent(E){'undefined'!=typeof E&&null!=E&&(E.cancelBubble=!0,E.preventDefault&&E.preventDefault(),E.stopPropagation&&E.stopPropagation(),E.returnValue=!1)}
function setupXhr(E){var R=null;if(window.XMLHttpRequest)R=new XMLHttpRequest;else if(window.ActiveXObject)try{R=new ActiveXObject('Msxml2.XMLHTTP')}catch(Ga){try{R=new ActiveXObject('Microsoft.XMLHTTP')}catch(L){}}if('undefined'!=typeof E){if(!E.url||'undefined'==typeof E.url)throw Error('Missing `options.url`');'undefined'==typeof E.method&&(E.method='GET');E.method=E.method.toUpperCase();if(E.withCredentials){if('withCredentials'in R)E.isSynchrone?R.open(E.method,E.url,E.isSynchrone):R.open(E.method,
E.url);else if('undefined'!=typeof XDomainRequest)R=new XDomainRequest,R.open(E.method,E.url);else{result='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,$target,'error.'+id,result);return}R.responseType='undefined'!=typeof E.responseType?E.responseType:'';R.withCredentials=!0}else E.isSynchrone?R.open(E.method,E.url,E.isSynchrone):R.open(E.method,E.url);for(var da in E.headers)'Content-Type'==da&&'undefined'!=typeof enctype&&null!=
enctype&&''!=enctype||R.setRequestHeader(da,E.headers[da])}return R}
function handleXhr(E,R,da,Ga){if(!E)throw Error('No `xhr` object initiated');var L=null,V=null,oa=null,W=null,Y=null,m=da.$link||null,U=da.$form||null,x=null;delete da.$link;delete da.$form;U||m?m?(m.target=document.getElementById(m.id),x=gina.link.target,Y=gina.link.id):(x=U.target,Y=x.getAttribute('id')):(x=R,Y=x.getAttribute('id'));var ma=m&&R.getAttribute('data-gina-link-event-on-success')||m&&R.getAttribute('data-gina-link-event-on-error')?!0:!1,Da=U&&x.getAttribute('data-gina-form-event-on-submit-success')||
U&&x.getAttribute('data-gina-form-event-on-submit-error')?!0:!1;Da&&U&&listenToXhrEvents(U,'form');R=R.getAttribute('enctype')||da.headers['Content-Type'];for(var S in da.headers)'Content-Type'==S&&'undefined'!=typeof R&&null!=R&&''!=R||E.setRequestHeader(S,da.headers[S]);E.withCredentials='undefined'!=typeof da.withCredentials?da.withCredentials:!1;E.onerror=function(I,y){I={status:E.status||500,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};
U&&(U.eventData.error=I);m&&(m.eventData.error=I);window.ginaToolbar.update('data-xhr',I,!0);triggerEvent(gina,x,'error.'+Y,I);Da&&triggerEvent(gina,x,'error.'+Y+'.hform',I);ma&&triggerEvent(gina,x,'error.'+Y+'.hlink',I)};E.onreadystatechange=function(I){I=/Google Inc/i.test(navigator.vendor)?50:0;2==E.readyState&&(V=/^attachment;/.test(E.getResponseHeader('Content-Disposition'))?!0:!1,!E.responseType&&V&&(E.responseType='blob'));if(4==E.readyState)if(L=null,oa=E.getResponseHeader('Content-Type'),
/^2/.test(E.status)){try{if(/blob/.test(E.responseType)||V){if('undefined'==typeof oa||null==oa)oa='application/octet-stream';L=new Blob([this.response],{type:oa});var y=document.createElement('a');y.style='display: none';document.body.appendChild(y);var F=window.URL.createObjectURL(L);y.href=F;var p=E.getResponseHeader('Content-Disposition');y.download=p.match('=(.*)')[0].substr(1);y.click();window.URL.revokeObjectURL(F);W={status:E.status,statusText:E.statusText,responseType:L.type,type:L.type,
size:L.size}}!W&&/\/json/.test(oa)&&(W=JSON.parse(E.responseText),'undefined'==typeof W.status&&(W.status=E.status||200));if(!W&&/\/html/.test(oa)&&(W={contentType:oa,content:E.responseText},'undefined'==typeof W.status&&(W.status=E.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler)){var C=gina.popin.getActivePopin();if(C){XHRData={};try{XHRData=(new DOMParser).parseFromString(W.content,'text/html').getElementById('gina-without-layout-xhr-data'),XHRData=JSON.parse(decodeURIComponent(XHRData.value)),
XHRView=(new DOMParser).parseFromString(W.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRData&&window.ginaToolbar.update('data-xhr',XHRData),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(r){throw r;}C.loadContent(W.content);W=XHRData;triggerEvent(gina,x,'success.'+Y,W);return}}W||(W=E.responseText);U&&
(U.eventData.success=W);XHRData=W;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&/\/html/.test(oa)&&window.ginaToolbar.update('data-xhr',XHRData)}catch(r){throw r;}triggerEvent(gina,x,'success.'+Y,W);Da&&triggerEvent(gina,x,'success.'+Y+'.hform',W);ma&&triggerEvent(gina,x,'success.'+Y+'.hlink',W)}catch(r){W={status:422,error:r.message,stack:r.stack};U&&(U.eventData.error=W);XHRData=W;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&
window.ginaToolbar.update('data-xhr',XHRData)}catch(G){throw G;}triggerEvent(gina,x,'error.'+Y,W);Da&&triggerEvent(gina,x,'error.'+Y+'.hform',W);ma&&triggerEvent(gina,x,'error.'+Y+'.hlink',W)}if('undefined'!=typeof W&&'undefined'!=typeof W.location)return window.location.hash='',W.location=/^http/.test(W.location)||/^\//.test(W.location)?W.location:location.protocol+'//'+W.location,setTimeout(()=>{window.location.href=W.location},I)}else if(0!=E.status)if(W={status:E.status,message:''},/blob/.test(E.responseType)){L=
new Blob([this.response],{type:'text/plain'});var D=new FileReader,N='';D.addEventListener('loadend',r=>{/string/i.test(typeof r.srcElement.result)?N+=r.srcElement.result:'object'==typeof r.srcElement.result?W=merge(W,r.srcElement.result):W.message+=r.srcElement.result;if(/^2/.test(D.readyState)){if(/^(\{|\[)/.test(N))try{W=merge(W,JSON.parse(N))}catch(A){W=merge(W,A)}W.message||delete W.message;U&&(U.eventData.error=W);if('undefined'!=typeof W&&'undefined'!=typeof W.error&&W.error.fields&&'object'==
typeof W.error.fields){r={};var G=0,K;for(K in W.error.fields)++G,r[K]={isApplicationValidationError:W.error.fields[K]};0<G&&handleErrorsDisplay(U.target,r)}XHRData=W;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(A){throw A;}triggerEvent(gina,x,'error.'+Y,W);Da&&triggerEvent(gina,x,'error.'+Y+'.hform',W);ma&&triggerEvent(gina,x,'error.'+Y+'.hlink',W)}});D.readAsText(L)}else{try{W=merge(W,JSON.parse(E.responseText))}catch(r){W=merge(W,
r)}U&&(U.eventData.error=W);if('undefined'!=typeof W&&'undefined'!=typeof W.error&&W.error.fields&&'object'==typeof W.error.fields){y={};F=0;for(var u in W.error.fields)++F,y[u]={isApplicationValidationError:W.error.fields[u]};0<F&&handleErrorsDisplay(U.target,y)}XHRData=W;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(r){throw r;}triggerEvent(gina,x,'error.'+Y,W);Da&&triggerEvent(gina,x,'error.'+Y+'.hform',W);ma&&triggerEvent(gina,x,
'error.'+Y+'.hlink',W)}};E.onprogress=function(I){var y='0';I.lengthComputable&&(y=I.loaded/I.total,y=parseInt(100*y));I={status:100,progress:y};U&&(U.eventData.onprogress=I);triggerEvent(gina,x,'progress.'+Y,I)};E.ontimeout=function(I){W={status:408,error:'Request Timeout'};U&&(U.eventData.ontimeout=W);triggerEvent(gina,x,'error.'+Y,W);Da&&triggerEvent(gina,x,'error.'+Y+'.hform',W);ma&&triggerEvent(gina,x,'error.'+Y+'.hlink',W)}}
function removeListener(E,R,da,Ga){'undefined'!=typeof E.event&&E.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(da)&&-1!=E.event[da].indexOf(R)&&E.event[da].splice(E.event[da].indexOf(R),1);if('undefined'!=typeof R&&null!=R)if(R.removeEventListener)if(Array.isArray(R))for(i=0,len=R.length;i<len;i++)E=/\.$/.test(da)?da+R[i].id:da,R.removeEventListener(E,Ga,!1),'undefined'!=typeof gina.events[E]&&delete gina.events[E];else da=/\.$/.test(da)?da+R.id:da,R.removeEventListener(da,Ga,!1);else{if(R.attachEvent)if(Array.isArray(R))for(i=
0,len=R.length;i<len;i++)E=/\.$/.test(da)?da+R[i].id:da,R.detachEvent('on'+E,Ga),'undefined'!=typeof gina.events[E]&&delete gina.events[E];else da=/\.$/.test(da)?da+R.id:da,R.detachEvent('on'+da,Ga)}else if(Array.isArray(R))for(i=0,len=R.length;i<len;i++){let L=/\.$/.test(da)?da+R[i].id:da;E.customEvent.removeListener(L,Ga);'undefined'!=typeof gina.events[L]&&delete gina.events[L]}else da=/\.$/.test(da)?da+R.id:da,E.customEvent.removeListener(da,Ga);'undefined'!=typeof gina.events[da]&&delete gina.events[da];
'undefined'!=typeof Ga&&Ga()}
function on(E,R){if(!this.plugin)throw Error('No `plugin` reference found for this event: `'+E);if(0>gina.registeredEvents[this.plugin].indexOf(E)&&!/^init$/.test(E)&&!/\.hform$/.test(E)&&!/\.hlink$/.test(E))R(Error('Event `'+E+'` not handled by ginaEventHandler'));else{var da=null,Ga=null;'undefined'!=typeof this.id&&'object'!=typeof this.id?(da=this.target||this,Ga=this.id):'undefined'!=typeof this.target?((da=this.target)||(da=this),Ga='undefined'!=typeof da.getAttribute?da.getAttribute('id'):
this.id):(da=this.target,Ga=instance.id);this.eventData&&!da.eventData&&(da.eventData=this.eventData);E=/\.(hform|hlink)$/.test(E)?/\.hform$/.test(E)?E.replace(/\.hform$/,'.'+Ga+'.hform'):E.replace(/\.hlink$/,'.'+Ga+'.hlink'):E+('.'+Ga);gina.events[E]||(addListener(gina,da,E,function(L){cancelEvent(L);var V=null;L.detail?V=L.detail:'undefined'!=typeof this.eventData.submit?V=this.eventData.submit:'undefined'!=typeof this.eventData.error?V=this.eventData.error:'undefined'!=typeof this.eventData.success&&
(V=this.eventData.success);R&&R(L,V)}),this.initialized&&!this.isReady&&triggerEvent(gina,da,'init.'+Ga));return this}}define('utils/events',function(){});
function PrototypesHelper(E){var R='undefined'!==typeof module&&module.exports?!1:!0,da=E||null;E=null;if('undefined'==typeof GINA_DIR&&!R&&'undefined'!=typeof process&&3<process.argv.length)if(/^\{/.test(process.argv[2]))E=JSON.parse(process.argv[2]).envVars;else if(/\.ctx$/.test(process.argv[2])){E=require('fs');var Ga=process.argv[2].split(/\-\-argv\-filename=/)[1];E=JSON.parse(E.readFileSync(Ga).toString()).envVars}if(da&&'undefined'!=typeof da&&'undefined'!=typeof da.dateFormat)for(let L in da.dateFormat)'undefined'==
typeof Date[L]&&Object.defineProperty(Date.prototype,L,{writable:!1,enumerable:!1,configurable:!0,value:function(){var V={0:this},oa=1,W;for(W in arguments)V[oa]=arguments[W],++oa;V.length=oa;return da.dateFormat[L].apply(this,V)}});'undefined'==typeof Array.clone&&Object.defineProperty(Array.prototype,'clone',{writable:!1,enumerable:!1,configurable:!0,value:function(){return this.slice(0)}});'undefined'!=typeof JSON.clone||R||(JSON.clone='undefined'!=typeof E?require(E.GINA_DIR+'/utils/prototypes.json_clone'):
require(GINA_DIR+'/utils/prototypes.json_clone'));'undefined'==typeof JSON.escape&&(JSON.escape=function(L){try{return L.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(V){throw V;}});'undefined'==typeof Array.toString&&(Array.prototype.toString=function(){return this.join()});'undefined'==typeof Array.inArray&&Object.defineProperty(Array.prototype,'inArray',{writable:!1,enumerable:!1,configurable:!0,value:function(L){return-1!=this.indexOf(L)}});'undefined'==typeof Array.from&&
Object.defineProperty(Array.prototype,'from',{writable:!1,enumerable:!1,configurable:!0,value:function(L){for(var V={},oa=[],W=L.length,Y=0,m=0;m<W;m++){var U=L[m];1!==V[U]&&(V[U]=1,oa[Y++]=U)}return oa}});'undefined'==typeof Object.count&&Object.defineProperty(Object.prototype,'count',{writable:!0,enumerable:!1,configurable:!0,value:function(){var L=0;try{this instanceof String&&JSON.parse(this);for(var V in this)this.hasOwnProperty(V)&&++L;return L}catch(oa){return L}}});'undefined'!=typeof global&&
'undefined'==typeof global.__stack&&Object.defineProperty(global,'__stack',{configurable:!0,get:function(){var L=Error.prepareStackTrace;Error.prepareStackTrace=function(oa,W){return W};var V=Error();Error.captureStackTrace(V,arguments.callee);V=V.stack;Error.prepareStackTrace=L;return V}})}'undefined'!==typeof module&&module.exports?module.exports=PrototypesHelper:'function'===typeof define&&define.amd&&define('helpers/prototypes',[],function(){return PrototypesHelper});
function DateFormatHelper(){var E='undefined'!==typeof module&&module.exports?!1:!0,R=E?require('utils/merge'):require('./../lib/merge');var da='en-US';var Ga='en';var L={'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy',cookieDate:'GMT:ddd, dd mmm yyyy HH:MM:ss',logger:'yyyy mmm dd HH:MM:ss',shortTime:'h:MM TT',shortTime2:'h:MM',mediumTime:'h:MM:ss TT',mediumTime2:'h:MM:ss',longTime:'h:MM:ss TT Z',
longTime2:'h:MM:ss TT',concatenatedDate:'yyyymmdd',isoDate:'yyyy-mm-dd',isoTime:'HH:MM:ss',shortIsoTime:'HH:MM',longIsoTime:'HH:MM:ss TT',isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",longIsoDateTime:"yyyy-mm-dd'T'HH:MM:ss.L",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};var V={en:{dayNames:'Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday'.split(' '),monthNames:'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December'.split(' '),
masks:{'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy'}},fr:{dayNames:'dim lun mar mer jeu ven sam dimanche lundi mardi mercredi jeudi vendredi samedi'.split(' '),monthNames:'Jan F\u00e9v Mar Avr Mai Jui Juil Ao\u00fb Sep Oct Nov D\u00e9c Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre'.split(' '),masks:{'default':'ddd mmm dd yyyy HH:MM:ss',
shortDate:'d/m/yy',shortDate2:'dd/mm/yyyy',mediumDate:'d mmm, yyyy',longDate:'d mmmm, yyyy',fullDate:'dddd, d mmmm, yyyy'}}};var oa=function(m,U){if(U instanceof Date)return m=m.getTime(),U=U.getTime(),Math.round(Math.abs(m-U)/864E5);throw Error('dateTo is not instance of Date() !');},W=['us','eu','corporate'],Y=function(m){d=new Date(m.getFullYear(),m.getMonth(),m.getDate());m=d.getDay()||7;d.setDate(d.getDate()+4-m);m=new Date(Date.parse(d.getFullYear(),0,1));return Math.ceil(((d-m)/864E5+1)/7)};
return{setCulture:function(m,U){/\-/.test(U)?(da=U,Ga=U.split(/\-/)[0]):Ga=U;return this},format:function(m,U,x){var ma=V[Ga]||V.en,Da=null;try{Da=R(ma.masks,L)}catch(A){R=(E='undefined'!==typeof module&&module.exports?!1:!0)?require('utils/merge'):require('./../lib/merge'),Da=R(ma.masks,L)}'undefined'!=typeof V[da]&&(ma=V[da],'undefined'!=typeof V[da].mask&&(Da=R(ma.masks,L)));var S=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,
I=/[^-+\dA-Z]/g,y=function(A,O){A=String(A);for(O=O||2;A.length<O;)A='0'+A;return A};1!=arguments.length||'[object String]'!=Object.prototype.toString.call(m)||/\d/.test(m)||(U=m,m=void 0);m=m?new Date(m):new Date;if(isNaN(m))throw SyntaxError('invalid date');U=String(Da[U]||U||Da['default']);'UTC:'==U.slice(0,4)&&(U=U.slice(4),x=!0);var F=x?'getUTC':'get';Da=m[F+'Date']();var p=m[F+'Day'](),C=m[F+'Month'](),D=m[F+'FullYear'](),N=m[F+'Hours'](),u=m[F+'Minutes'](),r=m[F+'Seconds']();F=m[F+'Milliseconds']();
var G=x?0:m.getTimezoneOffset(),K={d:Da,dd:y(Da),ddd:ma.dayNames[p],dddd:ma.dayNames[p+7],m:C+1,mm:y(C+1),mmm:ma.monthNames[C],mmmm:ma.monthNames[C+12],yy:String(D).slice(2),yyyy:D,h:N%12||12,hh:y(N%12||12),H:N,HH:y(N),M:u,MM:y(u),s:r,ss:y(r),l:y(F,3),L:y(F),t:12>N?'a':'p',tt:12>N?'am':'pm',T:12>N?'A':'P',TT:12>N?'AM':'PM',Z:x?'UTC':(String(m).match(S)||['']).pop().replace(I,''),o:(0<G?'-':'+')+y(100*Math.floor(Math.abs(G)/60)+Math.abs(G)%60,4),S:['th','st','nd','rd'][3<Da%10?0:(10!=Da%100-Da%10)*
Da%10]};return U.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,function(A){return A in K?K[A]:A.slice(1,A.length-1)})},countDaysTo:oa,getDaysTo:function(m,U,x){if(U instanceof Date){U=oa(m,U);var ma=m.getMonth(),Da=m.getFullYear();m=m.getDate()+1;m=new Date(Da,ma,m);ma=[];for(Da=0;Da<U;++Da)'undefined'!=typeof x?ma.push((new Date(m)).format(x)):ma.push(new Date(m)),m.setDate(m.getDate()+1);return ma||[]}throw Error('dateTo is not instance of Date() !');},getDaysInMonth:function(m){var U=
m.getMonth();m=m.getFullYear();m=new Date(m,U,1);for(var x=[];m.getMonth()===U;)x.push(new Date(m)),m.setDate(m.getDate()+1);return x},getQuarter:function(m,U){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>W.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');m=new Date;U=arguments[0]}'undefined'==typeof m&&(m=new Date);'undefined'==typeof U&&(U='corporate');U=U.toLowerCase();switch(U){case 'us':var x=[4,1,2,3];break;case 'corportate':case 'eu':x=
[1,2,3,4];break;default:x=[1,2,3,4]}return x[Math.floor(m.getMonth()/3)]},getHalfYear:function(m,U){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>W.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');m=new Date;U=arguments[0]}'undefined'==typeof m&&(m=new Date);'undefined'==typeof U&&(U='corporate');U=U.toLowerCase();return 2>=m.getQuarter(U)?1:2},getWeek:function(m,U){'undefined'==typeof m&&(m=new Date);'undefined'==typeof U&&(U='ISO 8601');
U=U.replace(/\s+/g,'').toLowerCase();switch(U){case 'corporate':case 'eu':case 'iso8601':return Y(m);default:return Y(m)}},addHours:function(m,U){m=new Date(m.getTime());m.setHours(m.getHours()+U);return m},addDays:function(m,U){m=new Date(m.getTime());m.setHours(m.getHours()+24*U);return m},addYears:function(m,U){m=new Date(m.getTime());m.setFullYear(m.getFullYear()+U);return m}}}
'undefined'!==typeof module&&module.exports?module.exports=DateFormatHelper:'function'===typeof define&&define.amd&&define('helpers/dateFormat',[],function(){return DateFormatHelper});
!function(E,R){'object'==typeof module&&'object'==typeof module.exports?module.exports=E.document?R(E,!0):function(da){if(!da.document)throw Error('jQuery requires a window with a document');return R(da)}:R(E)}('undefined'!=typeof window?window:this,function(E,R){function da(a){var c=!!a&&'length'in a&&a.length,g=b.type(a);return'function'===g||b.isWindow(a)?!1:'array'===g||0===c||'number'==typeof c&&0<c&&c-1 in a}function Ga(a,c,g){if(b.isFunction(c))return b.grep(a,function(k,l){return!!c.call(k,
l,k)!==g});if(c.nodeType)return b.grep(a,function(k){return k===c!==g});if('string'==typeof c){if(v.test(c))return b.filter(c,a,g);c=b.filter(c,a)}return b.grep(a,function(k){return-1<b.inArray(k,c)!==g})}function L(a,c){do a=a[c];while(a&&1!==a.nodeType);return a}function V(a){var c={};return b.each(a.match(Ba)||[],function(g,k){c[k]=!0}),c}function oa(){Qa.addEventListener?(Qa.removeEventListener('DOMContentLoaded',W),E.removeEventListener('load',W)):(Qa.detachEvent('onreadystatechange',W),E.detachEvent('onload',
W))}function W(){(Qa.addEventListener||'load'===E.event.type||'complete'===Qa.readyState)&&(oa(),b.ready())}function Y(a,c,g){if(void 0===g&&1===a.nodeType){var k='data-'+c.replace(wb,'-$1').toLowerCase();if(g=a.getAttribute(k),'string'==typeof g){try{g='true'===g?!0:'false'===g?!1:'null'===g?null:+g+''===g?+g:ob.test(g)?b.parseJSON(g):g}catch(l){}b.data(a,c,g)}else g=void 0}return g}function m(a){for(var c in a)if(('data'!==c||!b.isEmptyObject(a[c]))&&'toJSON'!==c)return!1;return!0}function U(a,
c,g,k){if(Ta(a)){var l,B,H=b.expando,aa=a.nodeType,la=aa?b.cache:a,Aa=aa?a[H]:a[H]&&H;if(Aa&&la[Aa]&&(k||la[Aa].data)||void 0!==g||'string'!=typeof c)return Aa||=aa?a[H]=Fb.pop()||b.guid++:H,la[Aa]||(la[Aa]=aa?{}:{toJSON:b.noop}),'object'!=typeof c&&'function'!=typeof c||(k?la[Aa]=b.extend(la[Aa],c):la[Aa].data=b.extend(la[Aa].data,c)),B=la[Aa],k||(B.data||(B.data={}),B=B.data),void 0!==g&&(B[b.camelCase(c)]=g),'string'==typeof c?(l=B[c],null==l&&(l=B[b.camelCase(c)])):l=B,l}}function x(a,c,g){if(Ta(a)){var k,
l,B=a.nodeType,H=B?b.cache:a,aa=B?a[b.expando]:b.expando;if(H[aa]){if(c&&(k=g?H[aa]:H[aa].data)){b.isArray(c)?c=c.concat(b.map(c,b.camelCase)):c in k?c=[c]:(c=b.camelCase(c),c=c in k?[c]:c.split(' '));for(l=c.length;l--;)delete k[c[l]];if(g?!m(k):!b.isEmptyObject(k))return}(g||(delete H[aa].data,m(H[aa])))&&(B?b.cleanData([a],!0):e.deleteExpando||H!=H.window?delete H[aa]:H[aa]=void 0)}}}function ma(a,c,g,k){var l,B=1,H=20,aa=k?function(){return k.cur()}:function(){return b.css(a,c,'')},la=aa(),Aa=
g&&g[3]||(b.cssNumber[c]?'':'px'),ra=(b.cssNumber[c]||'px'!==Aa&&+la)&&eb.exec(b.css(a,c));if(ra&&ra[3]!==Aa){Aa=Aa||ra[3];g=g||[];ra=+la||1;do B=B||'.5',ra/=B,b.style(a,c,ra+Aa);while(B!==(B=aa()/la)&&1!==B&&--H)}return g&&(ra=+ra||+la||0,l=g[1]?ra+(g[1]+1)*g[2]:+g[2],k&&(k.unit=Aa,k.start=ra,k.end=l)),l}function Da(a){var c='abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video'.split(' ');
a=a.createDocumentFragment();if(a.createElement)for(;c.length;)a.createElement(c.pop());return a}function S(a,c){var g,k,l=0,B='undefined'!=typeof a.getElementsByTagName?a.getElementsByTagName(c||'*'):'undefined'!=typeof a.querySelectorAll?a.querySelectorAll(c||'*'):void 0;if(!B)for(B=[],g=a.childNodes||a;null!=(k=g[l]);l++)!c||b.nodeName(k,c)?B.push(k):b.merge(B,S(k,c));return void 0===c||c&&b.nodeName(a,c)?b.merge([a],B):B}function I(a,c){for(var g,k=0;null!=(g=a[k]);k++)b._data(g,'globalEval',
!c||b._data(c[k],'globalEval'))}function y(a){fb.test(a.type)&&(a.defaultChecked=a.checked)}function F(a,c,g,k,l){for(var B,H,aa,la,Aa,ra,Na,Ua=a.length,tb=Da(c),bb=[],Lb=0;Ua>Lb;Lb++)if(H=a[Lb],H||0===H)if('object'===b.type(H))b.merge(bb,H.nodeType?[H]:H);else if(Ma.test(H)){la=la||tb.appendChild(c.createElement('div'));Aa=(ea.exec(H)||['',''])[1].toLowerCase();Na=na[Aa]||na._default;la.innerHTML=Na[1]+b.htmlPrefilter(H)+Na[2];for(B=Na[0];B--;)la=la.lastChild;if(!e.leadingWhitespace&&ha.test(H)&&
bb.push(c.createTextNode(ha.exec(H)[0])),!e.tbody)for(B=(H='table'!==Aa||$a.test(H)?'<table>'!==Na[1]||$a.test(H)?0:la:la.firstChild)&&H.childNodes.length;B--;)b.nodeName(ra=H.childNodes[B],'tbody')&&!ra.childNodes.length&&H.removeChild(ra);b.merge(bb,la.childNodes);for(la.textContent='';la.firstChild;)la.removeChild(la.firstChild);la=tb.lastChild}else bb.push(c.createTextNode(H));la&&tb.removeChild(la);e.appendChecked||b.grep(S(bb,'input'),y);for(Lb=0;H=bb[Lb++];)if(k&&-1<b.inArray(H,k))l&&l.push(H);
else if(aa=b.contains(H.ownerDocument,H),la=S(tb.appendChild(H),'script'),aa&&I(la),g)for(B=0;H=la[B++];)Z.test(H.type||'')&&g.push(H);return tb}function p(){return!0}function C(){return!1}function D(){try{return Qa.activeElement}catch(a){}}function N(a,c,g,k,l,B){var H,aa;if('object'==typeof c){'string'!=typeof g&&(k=k||g,g=void 0);for(aa in c)N(a,aa,g,k,c[aa],B);return a}if(null==k&&null==l?(l=g,k=g=void 0):null==l&&('string'==typeof g?(l=k,k=void 0):(l=k,k=g,g=void 0)),!1===l)l=C;else if(!l)return a;
return 1===B&&(H=l,l=function(la){return b().off(la),H.apply(this,arguments)},l.guid=H.guid||(H.guid=b.guid++)),a.each(function(){b.event.add(this,c,l,k,g)})}function u(a,c){return b.nodeName(a,'table')&&b.nodeName(11!==c.nodeType?c:c.firstChild,'tr')?a.getElementsByTagName('tbody')[0]||a.appendChild(a.ownerDocument.createElement('tbody')):a}function r(a){return a.type=(null!==b.find.attr(a,'type'))+'/'+a.type,a}function G(a){var c=Jb.exec(a.type);return c?a.type=c[1]:a.removeAttribute('type'),a}
function K(a,c){if(1===c.nodeType&&b.hasData(a)){var g,k;var l=b._data(a);a=b._data(c,l);var B=l.events;if(B)for(g in delete a.handle,a.events={},B)for(l=0,k=B[g].length;k>l;l++)b.event.add(c,g,B[g][l]);a.data&&(a.data=b.extend({},a.data))}}function A(a,c,g,k){c=Yb.apply([],c);var l,B,H,aa=0,la=a.length,Aa=la-1,ra=c[0],Na=b.isFunction(ra);if(Na||1<la&&'string'==typeof ra&&!e.checkClone&&Hb.test(ra))return a.each(function(tb){var bb=a.eq(tb);Na&&(c[0]=ra.call(this,tb,bb.html()));A(bb,c,g,k)});if(la&&
(H=F(c,a[0].ownerDocument,!1,a,k),l=H.firstChild,1===H.childNodes.length&&(H=l),l||k)){var Ua=b.map(S(H,'script'),r);for(B=Ua.length;la>aa;aa++)l=H,aa!==Aa&&(l=b.clone(l,!0,!0),B&&b.merge(Ua,S(l,'script'))),g.call(a[aa],l,aa);if(B)for(H=Ua[Ua.length-1].ownerDocument,b.map(Ua,G),aa=0;B>aa;aa++)l=Ua[aa],Z.test(l.type||'')&&!b._data(l,'globalEval')&&b.contains(H,l)&&(l.src?b._evalUrl&&b._evalUrl(l.src):b.globalEval((l.text||l.textContent||l.innerHTML||'').replace(Mb,'')));H=l=null}return a}function O(a,
c,g){for(var k=c?b.filter(c,a):a,l=0;null!=(c=k[l]);l++)g||1!==c.nodeType||b.cleanData(S(c)),c.parentNode&&(g&&b.contains(c.ownerDocument,c)&&I(S(c,'script')),c.parentNode.removeChild(c));return a}function T(a,c){a=b(c.createElement(a)).appendTo(c.body);c=b.css(a[0],'display');return a.detach(),c}function sa(a){var c=Qa,g=Gc[a];return g||(g=T(a,c),'none'!==g&&g||(Wb=(Wb||b("<iframe frameborder='0' width='0' height='0'/>")).appendTo(c.documentElement),c=(Wb[0].contentWindow||Wb[0].contentDocument).document,
c.write(),c.close(),g=T(a,c),Wb.detach()),Gc[a]=g),g}function qa(a,c){return{get:function(){return a()?void delete this.get:(this.get=c).apply(this,arguments)}}}function Ea(a){if(a in jd)return a;for(var c=a.charAt(0).toUpperCase()+a.slice(1),g=kd.length;g--;)if(a=kd[g]+c,a in jd)return a}function wa(a,c){for(var g,k,l,B=[],H=0,aa=a.length;aa>H;H++)k=a[H],k.style&&(B[H]=b._data(k,'olddisplay'),g=k.style.display,c?(B[H]||'none'!==g||(k.style.display=''),''===k.style.display&&Vb(k)&&(B[H]=b._data(k,
'olddisplay',sa(k.nodeName)))):(l=Vb(k),(g&&'none'!==g||!l)&&b._data(k,'olddisplay',l?g:b.css(k,'display'))));for(H=0;aa>H;H++)k=a[H],k.style&&(c&&'none'!==k.style.display&&''!==k.style.display||(k.style.display=c?B[H]||'':'none'));return a}function za(a,c,g){return(a=wd.exec(c))?Math.max(0,a[1]-(g||0))+(a[2]||'px'):c}function pa(a,c,g,k,l){c=g===(k?'border':'content')?4:'width'===c?1:0;for(var B=0;4>c;c+=2)'margin'===g&&(B+=b.css(a,g+yb[c],!0,l)),k?('content'===g&&(B-=b.css(a,'padding'+yb[c],!0,
l)),'margin'!==g&&(B-=b.css(a,'border'+yb[c]+'Width',!0,l))):(B+=b.css(a,'padding'+yb[c],!0,l),'padding'!==g&&(B+=b.css(a,'border'+yb[c]+'Width',!0,l)));return B}function Ca(a,c,g){var k=!0,l='width'===c?a.offsetWidth:a.offsetHeight,B=xc(a),H=e.boxSizing&&'border-box'===b.css(a,'boxSizing',!1,B);if(0>=l||null==l){if(l=sc(a,c,B),(0>l||null==l)&&(l=a.style[c]),Ob.test(l))return l;k=H&&(e.boxSizingReliable()||l===a.style[c]);l=parseFloat(l)||0}return l+pa(a,c,g||(H?'border':'content'),k,B)+'px'}function Ra(a,
c,g,k,l){return new Ra.prototype.init(a,c,g,k,l)}function Sa(){return E.setTimeout(function(){Hc=void 0}),Hc=b.now()}function Pa(a,c){var g={height:a},k=0;for(c=c?1:0;4>k;k+=2-c){var l=yb[k];g['margin'+l]=g['padding'+l]=a}return c&&(g.opacity=g.width=a),g}function zb(a,c,g){for(var k,l=(La.tweeners[c]||[]).concat(La.tweeners['*']),B=0,H=l.length;H>B;B++)if(k=l[B].call(g,c,a))return k}function Ia(a,c){var g,k,l,B,H;for(g in a)if(k=b.camelCase(g),l=c[k],B=a[g],b.isArray(B)&&(l=B[1],B=a[g]=B[0]),g!==
k&&(a[k]=B,delete a[g]),H=b.cssHooks[k],H&&'expand'in H)for(g in B=H.expand(B),delete a[k],B)g in a||(a[g]=B[g],c[g]=l);else c[k]=l}function La(a,c,g){var k,l=0,B=La.prefilters.length,H=b.Deferred().always(function(){delete aa.elem}),aa=function(){if(k)return!1;var Aa=Hc||Sa();Aa=Math.max(0,la.startTime+la.duration-Aa);for(var ra=1-(Aa/la.duration||0),Na=0,Ua=la.tweens.length;Ua>Na;Na++)la.tweens[Na].run(ra);return H.notifyWith(a,[la,ra,Aa]),1>ra&&Ua?Aa:(H.resolveWith(a,[la]),!1)},la=H.promise({elem:a,
props:b.extend({},c),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},g),originalProperties:c,originalOptions:g,startTime:Hc||Sa(),duration:g.duration,tweens:[],createTween:function(Aa,ra){Aa=b.Tween(a,la.opts,Aa,ra,la.opts.specialEasing[Aa]||la.opts.easing);return la.tweens.push(Aa),Aa},stop:function(Aa){var ra=0,Na=Aa?la.tweens.length:0;if(k)return this;for(k=!0;Na>ra;ra++)la.tweens[ra].run(1);return Aa?(H.notifyWith(a,[la,1,0]),H.resolveWith(a,[la,Aa])):H.rejectWith(a,[la,Aa]),this}});
g=la.props;for(Ia(g,la.opts.specialEasing);B>l;l++)if(c=La.prefilters[l].call(la,a,g,la.opts))return b.isFunction(c.stop)&&(b._queueHooks(la.elem,la.opts.queue).stop=b.proxy(c.stop,c)),c;return b.map(g,zb,la),b.isFunction(la.opts.start)&&la.opts.start.call(a,la),b.fx.timer(b.extend(aa,{elem:a,anim:la,queue:la.opts.queue})),la.progress(la.opts.progress).done(la.opts.done,la.opts.complete).fail(la.opts.fail).always(la.opts.always)}function Za(a){return b.attr(a,'class')||''}function vb(a){return function(c,
g){'string'!=typeof c&&(g=c,c='*');var k=0,l=c.toLowerCase().match(Ba)||[];if(b.isFunction(g))for(;c=l[k++];)'+'===c.charAt(0)?(c=c.slice(1)||'*',(a[c]=a[c]||[]).unshift(g)):(a[c]=a[c]||[]).push(g)}}function cb(a,c,g,k){function l(aa){var la;return B[aa]=!0,b.each(a[aa]||[],function(Aa,ra){Aa=ra(c,g,k);return'string'!=typeof Aa||H||B[Aa]?H?!(la=Aa):void 0:(c.dataTypes.unshift(Aa),l(Aa),!1)}),la}var B={},H=a===Xc;return l(c.dataTypes[0])||!B['*']&&l('*')}function Xa(a,c){var g,k,l=b.ajaxSettings.flatOptions||
{};for(k in c)void 0!==c[k]&&((l[k]?a:g||={})[k]=c[k]);return g&&b.extend(!0,a,g),a}function Cb(a){if(!b.contains(a.ownerDocument||Qa,a))return!0;for(;a&&1===a.nodeType;){if('none'===(a.style&&a.style.display||b.css(a,'display'))||'hidden'===a.type)return!0;a=a.parentNode}return!1}function Db(a,c,g,k){var l;if(b.isArray(c))b.each(c,function(B,H){g||xd.test(a)?k(a,H):Db(a+'['+('object'==typeof H&&null!=H?B:'')+']',H,g,k)});else if(g||'object'!==b.type(c))k(a,c);else for(l in c)Db(a+'['+l+']',c[l],
g,k)}function Eb(){try{return new E.XMLHttpRequest}catch(a){}}function ub(){try{return new E.ActiveXObject('Microsoft.XMLHTTP')}catch(a){}}function xb(a){return b.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var Fb=[],Qa=E.document,Gb=Fb.slice,Yb=Fb.concat,Zb=Fb.push,va=Fb.indexOf,xa={},Ha=xa.toString,M=xa.hasOwnProperty,e={},b=function(a,c){return new b.fn.init(a,c)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/^-ms-/,w=/-([\da-z])/gi,q=function(a,c){return c.toUpperCase()};b.fn=b.prototype=
{jquery:'1.12.4',constructor:b,selector:'',length:0,toArray:function(){return Gb.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:Gb.call(this)},pushStack:function(a){a=b.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a){return b.each(this,a)},map:function(a){return this.pushStack(b.map(this,function(c,g){return a.call(c,g,c)}))},slice:function(){return this.pushStack(Gb.apply(this,arguments))},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},eq:function(a){var c=this.length;a=+a+(0>a?c:0);return this.pushStack(0<=a&&c>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Zb,sort:Fb.sort,splice:Fb.splice};b.extend=b.fn.extend=function(){var a,c,g,k,l=arguments[0]||{},B=1,H=arguments.length,aa=!1;'boolean'==typeof l&&(aa=l,l=arguments[B]||{},B++);'object'==typeof l||b.isFunction(l)||(l={});for(B===H&&(l=this,B--);H>B;B++)if(null!=(g=arguments[B]))for(c in g){var la=l[c];var Aa=
g[c];l!==Aa&&(aa&&Aa&&(b.isPlainObject(Aa)||(a=b.isArray(Aa)))?(a?(a=!1,k=la&&b.isArray(la)?la:[]):k=la&&b.isPlainObject(la)?la:{},l[c]=b.extend(aa,k,Aa)):void 0!==Aa&&(l[c]=Aa))}return l};b.extend({expando:'jQuery'+('1.12.4'+Math.random()).replace(/\D/g,''),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return'function'===b.type(a)},isArray:Array.isArray||function(a){return'array'===b.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var c=
a&&a.toString();return!b.isArray(a)&&0<=c-parseFloat(c)+1},isEmptyObject:function(a){for(var c in a)return!1;return!0},isPlainObject:function(a){var c;if(!a||'object'!==b.type(a)||a.nodeType||b.isWindow(a))return!1;try{if(a.constructor&&!M.call(a,'constructor')&&!M.call(a.constructor.prototype,'isPrototypeOf'))return!1}catch(g){return!1}if(!e.ownFirst)for(c in a)return M.call(a,c);for(c in a);return void 0===c||M.call(a,c)},type:function(a){return null==a?a+'':'object'==typeof a||'function'==typeof a?
xa[Ha.call(a)]||'object':typeof a},globalEval:function(a){a&&b.trim(a)&&(E.execScript||function(c){E.eval.call(E,c)})(a)},camelCase:function(a){return a.replace(n,'ms-').replace(w,q)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()},each:function(a,c){var g,k=0;if(da(a))for(g=a.length;g>k&&!1!==c.call(a[k],k,a[k]);k++);else for(k in a)if(!1===c.call(a[k],k,a[k]))break;return a},trim:function(a){return null==a?'':(a+'').replace(h,'')},makeArray:function(a,c){c=
c||[];return null!=a&&(da(Object(a))?b.merge(c,'string'==typeof a?[a]:a):Zb.call(c,a)),c},inArray:function(a,c,g){if(c){if(va)return va.call(c,a,g);var k=c.length;for(g=g?0>g?Math.max(0,k+g):g:0;k>g;g++)if(g in c&&c[g]===a)return g}return-1},merge:function(a,c){for(var g=+c.length,k=0,l=a.length;g>k;)a[l++]=c[k++];if(g!==g)for(;void 0!==c[k];)a[l++]=c[k++];return a.length=l,a},grep:function(a,c,g){for(var k=[],l=0,B=a.length,H=!g;B>l;l++)g=!c(a[l],l),g!==H&&k.push(a[l]);return k},map:function(a,c,
g){var k,l=0,B=[];if(da(a))for(k=a.length;k>l;l++){var H=c(a[l],l,g);null!=H&&B.push(H)}else for(l in a)H=c(a[l],l,g),null!=H&&B.push(H);return Yb.apply([],B)},guid:1,proxy:function(a,c){var g,k,l;return'string'==typeof c&&(l=a[c],c=a,a=l),b.isFunction(a)?(g=Gb.call(arguments,2),k=function(){return a.apply(c||this,g.concat(Gb.call(arguments)))},k.guid=a.guid=a.guid||b.guid++,k):void 0},now:function(){return+new Date},support:e});'function'==typeof Symbol&&(b.fn[Symbol.iterator]=Fb[Symbol.iterator]);
b.each('Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' '),function(a,c){xa['[object '+c+']']=c.toLowerCase()});var z=function(a){function c(J,ca,ja,ua){var Fa,Ja,Oa,ab,Va=ca&&ca.ownerDocument,ib=ca?ca.nodeType:9;if(ja=ja||[],'string'!=typeof J||!J||1!==ib&&9!==ib&&11!==ib)return ja;if(!ua&&((ca?ca.ownerDocument||ca:cc)!==pb&&Dc(ca),ca=ca||pb,hc)){if(11!==ib&&(ab=yd.exec(J)))if(Fa=ab[1])if(9===ib){if(!(Ja=ca.getElementById(Fa)))return ja;if(Ja.id===Fa)return ja.push(Ja),
ja}else{if(Va&&(Ja=Va.getElementById(Fa))&&oc(ca,Ja)&&Ja.id===Fa)return ja.push(Ja),ja}else{if(ab[2])return Cc.apply(ja,ca.getElementsByTagName(J)),ja;if((Fa=ab[3])&&Rb.getElementsByClassName&&ca.getElementsByClassName)return Cc.apply(ja,ca.getElementsByClassName(Fa)),ja}if(!(!Rb.qsa||dc[J+' ']||Xb&&Xb.test(J))){if(1!==ib){Va=ca;var kb=J}else if('object'!==ca.nodeName.toLowerCase()){(Oa=ca.getAttribute('id'))?Oa=Oa.replace(zd,'\\$&'):ca.setAttribute('id',Oa=Ab);ab=Pc(J);Fa=ab.length;for(Ja=ld.test(Oa)?
'#'+Oa:"[id='"+Oa+"']";Fa--;)ab[Fa]=Ja+' '+Ua(ab[Fa]);kb=ab.join(',');Va=Yc.test(J)&&ra(ca.parentNode)||ca}if(kb)try{return Cc.apply(ja,Va.querySelectorAll(kb)),ja}catch(gb){}finally{Oa===Ab&&ca.removeAttribute('id')}}}return ic(J.replace(Qc,'$1'),ca,ja,ua)}function g(){function J(ja,ua){return ca.push(ja+' ')>Ib.cacheLength&&delete J[ca.shift()],J[ja+' ']=ua}var ca=[];return J}function k(J){return J[Ab]=!0,J}function l(J){var ca=pb.createElement('div');try{return!!J(ca)}catch(ja){return!1}finally{ca.parentNode&&
ca.parentNode.removeChild(ca)}}function B(J,ca){J=J.split('|');for(var ja=J.length;ja--;)Ib.attrHandle[J[ja]]=ca}function H(J,ca){var ja=ca&&J,ua=ja&&1===J.nodeType&&1===ca.nodeType&&(~ca.sourceIndex||-2147483648)-(~J.sourceIndex||-2147483648);if(ua)return ua;if(ja)for(;ja=ja.nextSibling;)if(ja===ca)return-1;return J?1:-1}function aa(J){return function(ca){return'input'===ca.nodeName.toLowerCase()&&ca.type===J}}function la(J){return function(ca){var ja=ca.nodeName.toLowerCase();return('input'===ja||
'button'===ja)&&ca.type===J}}function Aa(J){return k(function(ca){return ca=+ca,k(function(ja,ua){for(var Fa,Ja=J([],ja.length,ca),Oa=Ja.length;Oa--;)ja[Fa=Ja[Oa]]&&(ja[Fa]=!(ua[Fa]=ja[Fa]))})})}function ra(J){return J&&'undefined'!=typeof J.getElementsByTagName&&J}function Na(){}function Ua(J){for(var ca=0,ja=J.length,ua='';ja>ca;ca++)ua+=J[ca].value;return ua}function tb(J,ca,ja){var ua=ca.dir,Fa=ja&&'parentNode'===ua,Ja=Sb++;return ca.first?function(Oa,ab,Va){for(;Oa=Oa[ua];)if(1===Oa.nodeType||
Fa)return J(Oa,ab,Va)}:function(Oa,ab,Va){var ib,kb,gb,Nb=[$b,Ja];if(Va)for(;Oa=Oa[ua];){if((1===Oa.nodeType||Fa)&&J(Oa,ab,Va))return!0}else for(;Oa=Oa[ua];)if(1===Oa.nodeType||Fa){if(gb=Oa[Ab]||(Oa[Ab]={}),kb=gb[Oa.uniqueID]||(gb[Oa.uniqueID]={}),(ib=kb[ua])&&ib[0]===$b&&ib[1]===Ja)return Nb[2]=ib[2];if(kb[ua]=Nb,Nb[2]=J(Oa,ab,Va))return!0}}}function bb(J){return 1<J.length?function(ca,ja,ua){for(var Fa=J.length;Fa--;)if(!J[Fa](ca,ja,ua))return!1;return!0}:J[0]}function Lb(J,ca,ja,ua,Fa){for(var Ja,
Oa=[],ab=0,Va=J.length,ib=null!=ca;Va>ab;ab++)(Ja=J[ab])&&(ja&&!ja(Ja,ua,Fa)||(Oa.push(Ja),ib&&ca.push(ab)));return Oa}function lc(J,ca,ja,ua,Fa,Ja){return ua&&!ua[Ab]&&(ua=lc(ua)),Fa&&!Fa[Ab]&&(Fa=lc(Fa,Ja)),k(function(Oa,ab,Va,ib){var kb,gb=[],Nb=[],ec=ab.length,bc;if(!(bc=Oa)){bc=ca||'*';for(var qb=Va.nodeType?[Va]:Va,tc=[],jc=0,rc=qb.length;rc>jc;jc++)c(bc,qb[jc],tc);bc=tc}bc=!J||!Oa&&ca?bc:Lb(bc,gb,J,Va,ib);qb=ja?Fa||(Oa?J:ec||ua)?[]:ab:bc;if(ja&&ja(bc,qb,Va,ib),ua){var fc=Lb(qb,Nb);ua(fc,[],
Va,ib);for(Va=fc.length;Va--;)(kb=fc[Va])&&(qb[Nb[Va]]=!(bc[Nb[Va]]=kb))}if(Oa){if(Fa||J){if(Fa){fc=[];for(Va=qb.length;Va--;)(kb=qb[Va])&&fc.push(bc[Va]=kb);Fa(null,qb=[],fc,ib)}for(Va=qb.length;Va--;)(kb=qb[Va])&&-1<(fc=Fa?Ec(Oa,kb):gb[Va])&&(Oa[fc]=!(ab[fc]=kb))}}else qb=Lb(qb===ab?qb.splice(ec,qb.length):qb),Fa?Fa(null,ab,qb,ib):Cc.apply(ab,qb)})}function Ic(J){var ca,ja,ua=J.length,Fa=Ib.relative[J[0].type];var Ja=Fa||Ib.relative[' '];for(var Oa=Fa?1:0,ab=tb(function(kb){return kb===ca},Ja,!0),
Va=tb(function(kb){return-1<Ec(ca,kb)},Ja,!0),ib=[function(kb,gb,Nb){kb=!Fa&&(Nb||gb!==Bb)||((ca=gb).nodeType?ab(kb,gb,Nb):Va(kb,gb,Nb));return ca=null,kb}];ua>Oa;Oa++)if(Ja=Ib.relative[J[Oa].type])ib=[tb(bb(ib),Ja)];else{if(Ja=Ib.filter[J[Oa].type].apply(null,J[Oa].matches),Ja[Ab]){for(ja=++Oa;ua>ja&&!Ib.relative[J[ja].type];ja++);return lc(1<Oa&&bb(ib),1<Oa&&Ua(J.slice(0,Oa-1).concat({value:' '===J[Oa-2].type?'*':''})).replace(Qc,'$1'),Ja,ja>Oa&&Ic(J.slice(Oa,ja)),ua>ja&&Ic(J=J.slice(ja)),ua>ja&&
Ua(J))}ib.push(Ja)}return bb(ib)}function mc(J,ca){var ja=0<ca.length,ua=0<J.length,Fa=function(Ja,Oa,ab,Va,ib){var kb,gb,Nb=0,ec='0',bc=Ja&&[],qb=[],tc=Bb,jc=Ja||ua&&Ib.find.TAG('*',ib),rc=$b+=null==tc?1:Math.random()||.1,fc=jc.length;for(ib&&(Bb=Oa===pb||Oa||ib);ec!==fc&&null!=(kb=jc[ec]);ec++){if(ua&&kb){var Zc=0;for(Oa||kb.ownerDocument===pb||(Dc(kb),ab=!hc);gb=J[Zc++];)if(gb(kb,Oa||pb,ab)){Va.push(kb);break}ib&&($b=rc)}ja&&((kb=!gb&&kb)&&Nb--,Ja&&bc.push(kb))}if(Nb+=ec,ja&&ec!==Nb){for(Zc=0;gb=
ca[Zc++];)gb(bc,qb,Oa,ab);if(Ja){if(0<Nb)for(;ec--;)bc[ec]||qb[ec]||(qb[ec]=$c.call(Va));qb=Lb(qb)}Cc.apply(Va,qb);ib&&!Ja&&0<qb.length&&1<Nb+ca.length&&c.uniqueSort(Va)}return ib&&($b=rc,Bb=tc),bc};return ja?k(Fa):Fa}var yc,rb,ic,Bb,Qb,Tb,pb,kc,hc,Xb,gc,Ub,oc,Ab='sizzle'+1*new Date,cc=a.document,$b=0,Sb=0,Jc=g(),pc=g(),dc=g(),uc=function(J,ca){return J===ca&&(Tb=!0),0},vc={}.hasOwnProperty,nc=[],$c=nc.pop,Ad=nc.push,Cc=nc.push,md=nc.slice,Ec=function(J,ca){for(var ja=0,ua=J.length;ua>ja;ja++)if(J[ja]===
ca)return ja;return-1},Bd=RegExp('[\\x20\\t\\r\\n\\f]+','g'),Qc=RegExp('^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$','g'),Cd=RegExp('^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*'),Dd=RegExp('^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*'),Ed=RegExp('=[\\x20\\t\\r\\n\\f]*([^\\]\'"]*?)[\\x20\\t\\r\\n\\f]*\\]','g'),Fd=RegExp(':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
ld=RegExp('^(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+$'),Rc={ID:RegExp('^#((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),CLASS:RegExp('^\\.((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),TAG:RegExp('^((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+|[*])'),ATTR:RegExp('^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]'),PSEUDO:RegExp('^:((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
CHILD:RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)','i'),bool:RegExp('^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$','i'),needsContext:RegExp('^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)',
'i')},Gd=/^(?:input|select|textarea|button)$/i,Hd=/^h\d$/i,Mc=/^[^{]+\{\s*\[native \w/,yd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Yc=/[+~]/,zd=/'|\\/g,zc=RegExp('\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)','ig'),Ac=function(J,ca,ja){J='0x'+ca-65536;return J!==J||ja?ca:0>J?String.fromCharCode(J+65536):String.fromCharCode(J>>10|55296,1023&J|56320)},nd=function(){Dc()};try{Cc.apply(nc=md.call(cc.childNodes),cc.childNodes),nc[cc.childNodes.length].nodeType}catch(J){Cc={apply:nc.length?
function(ca,ja){Ad.apply(ca,md.call(ja))}:function(ca,ja){for(var ua=ca.length,Fa=0;ca[ua++]=ja[Fa++];);ca.length=ua-1}}}var Rb=c.support={};var Id=c.isXML=function(J){return(J=J&&(J.ownerDocument||J).documentElement)?'HTML'!==J.nodeName:!1};var Dc=c.setDocument=function(J){var ca,ja;J=J?J.ownerDocument||J:cc;return J!==pb&&9===J.nodeType&&J.documentElement?(pb=J,kc=pb.documentElement,hc=!Id(pb),(ja=pb.defaultView)&&ja.top!==ja&&(ja.addEventListener?ja.addEventListener('unload',nd,!1):ja.attachEvent&&
ja.attachEvent('onunload',nd)),Rb.attributes=l(function(ua){return ua.className='i',!ua.getAttribute('className')}),Rb.getElementsByTagName=l(function(ua){return ua.appendChild(pb.createComment('')),!ua.getElementsByTagName('*').length}),Rb.getElementsByClassName=Mc.test(pb.getElementsByClassName),Rb.getById=l(function(ua){return kc.appendChild(ua).id=Ab,!pb.getElementsByName||!pb.getElementsByName(Ab).length}),Rb.getById?(Ib.find.ID=function(ua,Fa){if('undefined'!=typeof Fa.getElementById&&hc)return(ua=
Fa.getElementById(ua))?[ua]:[]},Ib.filter.ID=function(ua){var Fa=ua.replace(zc,Ac);return function(Ja){return Ja.getAttribute('id')===Fa}}):(delete Ib.find.ID,Ib.filter.ID=function(ua){var Fa=ua.replace(zc,Ac);return function(Ja){return(Ja='undefined'!=typeof Ja.getAttributeNode&&Ja.getAttributeNode('id'))&&Ja.value===Fa}}),Ib.find.TAG=Rb.getElementsByTagName?function(ua,Fa){return'undefined'!=typeof Fa.getElementsByTagName?Fa.getElementsByTagName(ua):Rb.qsa?Fa.querySelectorAll(ua):void 0}:function(ua,
Fa){var Ja=[],Oa=0;Fa=Fa.getElementsByTagName(ua);if('*'===ua){for(;ua=Fa[Oa++];)1===ua.nodeType&&Ja.push(ua);return Ja}return Fa},Ib.find.CLASS=Rb.getElementsByClassName&&function(ua,Fa){return'undefined'!=typeof Fa.getElementsByClassName&&hc?Fa.getElementsByClassName(ua):void 0},gc=[],Xb=[],(Rb.qsa=Mc.test(pb.querySelectorAll))&&(l(function(ua){kc.appendChild(ua).innerHTML="<a id='"+Ab+"'></a><select id='"+Ab+"-\r\\' msallowcapture=''><option selected=''></option></select>";ua.querySelectorAll("[msallowcapture^='']").length&&
Xb.push('[*^$]=[\\x20\\t\\r\\n\\f]*(?:\'\'|"")');ua.querySelectorAll('[selected]').length||Xb.push('\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)');ua.querySelectorAll('[id~='+Ab+'-]').length||Xb.push('~=');ua.querySelectorAll(':checked').length||Xb.push(':checked');ua.querySelectorAll('a#'+Ab+'+*').length||Xb.push('.#.+[+~]')}),l(function(ua){var Fa=pb.createElement('input');Fa.setAttribute('type',
'hidden');ua.appendChild(Fa).setAttribute('name','D');ua.querySelectorAll('[name=d]').length&&Xb.push('name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=');ua.querySelectorAll(':enabled').length||Xb.push(':enabled',':disabled');ua.querySelectorAll('*,:x');Xb.push(',.*:')})),(Rb.matchesSelector=Mc.test(Ub=kc.matches||kc.webkitMatchesSelector||kc.mozMatchesSelector||kc.oMatchesSelector||kc.msMatchesSelector))&&l(function(ua){Rb.disconnectedMatch=Ub.call(ua,'div');Ub.call(ua,"[s!='']:x");gc.push('!=',':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)')}),
Xb=Xb.length&&new RegExp(Xb.join('|')),gc=gc.length&&new RegExp(gc.join('|')),ca=Mc.test(kc.compareDocumentPosition),oc=ca||Mc.test(kc.contains)?function(ua,Fa){var Ja=9===ua.nodeType?ua.documentElement:ua;Fa=Fa&&Fa.parentNode;return ua===Fa||!(!Fa||1!==Fa.nodeType||!(Ja.contains?Ja.contains(Fa):ua.compareDocumentPosition&&16&ua.compareDocumentPosition(Fa)))}:function(ua,Fa){if(Fa)for(;Fa=Fa.parentNode;)if(Fa===ua)return!0;return!1},uc=ca?function(ua,Fa){if(ua===Fa)return Tb=!0,0;var Ja=!ua.compareDocumentPosition-
!Fa.compareDocumentPosition;return Ja?Ja:(Ja=(ua.ownerDocument||ua)===(Fa.ownerDocument||Fa)?ua.compareDocumentPosition(Fa):1,1&Ja||!Rb.sortDetached&&Fa.compareDocumentPosition(ua)===Ja?ua===pb||ua.ownerDocument===cc&&oc(cc,ua)?-1:Fa===pb||Fa.ownerDocument===cc&&oc(cc,Fa)?1:Qb?Ec(Qb,ua)-Ec(Qb,Fa):0:4&Ja?-1:1)}:function(ua,Fa){if(ua===Fa)return Tb=!0,0;var Ja=0,Oa=ua.parentNode,ab=Fa.parentNode,Va=[ua],ib=[Fa];if(!Oa||!ab)return ua===pb?-1:Fa===pb?1:Oa?-1:ab?1:Qb?Ec(Qb,ua)-Ec(Qb,Fa):0;if(Oa===ab)return H(ua,
Fa);for(;ua=ua.parentNode;)Va.unshift(ua);for(ua=Fa;ua=ua.parentNode;)ib.unshift(ua);for(;Va[Ja]===ib[Ja];)Ja++;return Ja?H(Va[Ja],ib[Ja]):Va[Ja]===cc?-1:ib[Ja]===cc?1:0},pb):pb};c.matches=function(J,ca){return c(J,null,null,ca)};c.matchesSelector=function(J,ca){if((J.ownerDocument||J)!==pb&&Dc(J),ca=ca.replace(Ed,"='$1']"),!(!Rb.matchesSelector||!hc||dc[ca+' ']||gc&&gc.test(ca)||Xb&&Xb.test(ca)))try{var ja=Ub.call(J,ca);if(ja||Rb.disconnectedMatch||J.document&&11!==J.document.nodeType)return ja}catch(ua){}return 0<
c(ca,pb,null,[J]).length};c.contains=function(J,ca){return(J.ownerDocument||J)!==pb&&Dc(J),oc(J,ca)};c.attr=function(J,ca){(J.ownerDocument||J)!==pb&&Dc(J);var ja=Ib.attrHandle[ca.toLowerCase()];ja=ja&&vc.call(Ib.attrHandle,ca.toLowerCase())?ja(J,ca,!hc):void 0;return void 0!==ja?ja:Rb.attributes||!hc?J.getAttribute(ca):(ja=J.getAttributeNode(ca))&&ja.specified?ja.value:null};c.error=function(J){throw Error('Syntax error, unrecognized expression: '+J);};c.uniqueSort=function(J){var ca,ja=[],ua=0,
Fa=0;if(Tb=!Rb.detectDuplicates,Qb=!Rb.sortStable&&J.slice(0),J.sort(uc),Tb){for(;ca=J[Fa++];)ca===J[Fa]&&(ua=ja.push(Fa));for(;ua--;)J.splice(ja[ua],1)}return Qb=null,J};var ad=c.getText=function(J){var ca,ja='',ua=0;if(ca=J.nodeType)if(1===ca||9===ca||11===ca){if('string'==typeof J.textContent)return J.textContent;for(J=J.firstChild;J;J=J.nextSibling)ja+=ad(J)}else{if(3===ca||4===ca)return J.nodeValue}else for(;ca=J[ua++];)ja+=ad(ca);return ja};var Ib=c.selectors={cacheLength:50,createPseudo:k,
match:Rc,attrHandle:{},find:{},relative:{'>':{dir:'parentNode',first:!0},' ':{dir:'parentNode'},'+':{dir:'previousSibling',first:!0},'~':{dir:'previousSibling'}},preFilter:{ATTR:function(J){return J[1]=J[1].replace(zc,Ac),J[3]=(J[3]||J[4]||J[5]||'').replace(zc,Ac),'~='===J[2]&&(J[3]=' '+J[3]+' '),J.slice(0,4)},CHILD:function(J){return J[1]=J[1].toLowerCase(),'nth'===J[1].slice(0,3)?(J[3]||c.error(J[0]),J[4]=+(J[4]?J[5]+(J[6]||1):2*('even'===J[3]||'odd'===J[3])),J[5]=+(J[7]+J[8]||'odd'===J[3])):J[3]&&
c.error(J[0]),J},PSEUDO:function(J){var ca,ja=!J[6]&&J[2];return Rc.CHILD.test(J[0])?null:(J[3]?J[2]=J[4]||J[5]||'':ja&&Fd.test(ja)&&(ca=Pc(ja,!0))&&(ca=ja.indexOf(')',ja.length-ca)-ja.length)&&(J[0]=J[0].slice(0,ca),J[2]=ja.slice(0,ca)),J.slice(0,3))}},filter:{TAG:function(J){var ca=J.replace(zc,Ac).toLowerCase();return'*'===J?function(){return!0}:function(ja){return ja.nodeName&&ja.nodeName.toLowerCase()===ca}},CLASS:function(J){var ca=Jc[J+' '];return ca||(ca=new RegExp('(^|[\\x20\\t\\r\\n\\f])'+
J+'([\\x20\\t\\r\\n\\f]|$)'),Jc(J,function(ja){return ca.test('string'==typeof ja.className&&ja.className||'undefined'!=typeof ja.getAttribute&&ja.getAttribute('class')||'')}))},ATTR:function(J,ca,ja){return function(ua){ua=c.attr(ua,J);return null==ua?'!='===ca:ca?(ua+='','='===ca?ua===ja:'!='===ca?ua!==ja:'^='===ca?ja&&0===ua.indexOf(ja):'*='===ca?ja&&-1<ua.indexOf(ja):'$='===ca?ja&&ua.slice(-ja.length)===ja:'~='===ca?-1<(' '+ua.replace(Bd,' ')+' ').indexOf(ja):'|='===ca?ua===ja||ua.slice(0,ja.length+
1)===ja+'-':!1):!0}},CHILD:function(J,ca,ja,ua,Fa){var Ja='nth'!==J.slice(0,3),Oa='last'!==J.slice(-4),ab='of-type'===ca;return 1===ua&&0===Fa?function(Va){return!!Va.parentNode}:function(Va,ib,kb){var gb,Nb;ib=Ja!==Oa?'nextSibling':'previousSibling';var ec=Va.parentNode,bc=ab&&Va.nodeName.toLowerCase();kb=!kb&&!ab;var qb=!1;if(ec){if(Ja){for(;ib;){for(gb=Va;gb=gb[ib];)if(ab?gb.nodeName.toLowerCase()===bc:1===gb.nodeType)return!1;var tc=ib='only'===J&&!tc&&'nextSibling'}return!0}if(tc=[Oa?ec.firstChild:
ec.lastChild],Oa&&kb){gb=ec;var jc=gb[Ab]||(gb[Ab]={});var rc=jc[gb.uniqueID]||(jc[gb.uniqueID]={});var fc=rc[J]||[];qb=(Nb=fc[0]===$b&&fc[1])&&fc[2];for(gb=Nb&&ec.childNodes[Nb];gb=++Nb&&gb&&gb[ib]||(qb=Nb=0)||tc.pop();)if(1===gb.nodeType&&++qb&&gb===Va){rc[J]=[$b,Nb,qb];break}}else if(kb&&(gb=Va,jc=gb[Ab]||(gb[Ab]={}),rc=jc[gb.uniqueID]||(jc[gb.uniqueID]={}),fc=rc[J]||[],Nb=fc[0]===$b&&fc[1],qb=Nb),!1===qb)for(;(gb=++Nb&&gb&&gb[ib]||(qb=Nb=0)||tc.pop())&&((ab?gb.nodeName.toLowerCase()!==bc:1!==
gb.nodeType)||!++qb||(kb&&(jc=gb[Ab]||(gb[Ab]={}),rc=jc[gb.uniqueID]||(jc[gb.uniqueID]={}),rc[J]=[$b,qb]),gb!==Va)););return qb-=Fa,qb===ua||0===qb%ua&&0<=qb/ua}}},PSEUDO:function(J,ca){var ja,ua=Ib.pseudos[J]||Ib.setFilters[J.toLowerCase()]||c.error('unsupported pseudo: '+J);return ua[Ab]?ua(ca):1<ua.length?(ja=[J,J,'',ca],Ib.setFilters.hasOwnProperty(J.toLowerCase())?k(function(Fa,Ja){for(var Oa,ab=ua(Fa,ca),Va=ab.length;Va--;)Oa=Ec(Fa,ab[Va]),Fa[Oa]=!(Ja[Oa]=ab[Va])}):function(Fa){return ua(Fa,
0,ja)}):ua}},pseudos:{not:k(function(J){var ca=[],ja=[],ua=rb(J.replace(Qc,'$1'));return ua[Ab]?k(function(Fa,Ja,Oa,ab){var Va;Oa=ua(Fa,null,ab,[]);for(ab=Fa.length;ab--;)(Va=Oa[ab])&&(Fa[ab]=!(Ja[ab]=Va))}):function(Fa,Ja,Oa){return ca[0]=Fa,ua(ca,null,Oa,ja),ca[0]=null,!ja.pop()}}),has:k(function(J){return function(ca){return 0<c(J,ca).length}}),contains:k(function(J){return J=J.replace(zc,Ac),function(ca){return-1<(ca.textContent||ca.innerText||ad(ca)).indexOf(J)}}),lang:k(function(J){return ld.test(J||
'')||c.error('unsupported lang: '+J),J=J.replace(zc,Ac).toLowerCase(),function(ca){var ja;do if(ja=hc?ca.lang:ca.getAttribute('xml:lang')||ca.getAttribute('lang'))return ja=ja.toLowerCase(),ja===J||0===ja.indexOf(J+'-');while((ca=ca.parentNode)&&1===ca.nodeType);return!1}}),target:function(J){var ca=a.location&&a.location.hash;return ca&&ca.slice(1)===J.id},root:function(J){return J===kc},focus:function(J){return J===pb.activeElement&&(!pb.hasFocus||pb.hasFocus())&&!!(J.type||J.href||~J.tabIndex)},
enabled:function(J){return!1===J.disabled},disabled:function(J){return!0===J.disabled},checked:function(J){var ca=J.nodeName.toLowerCase();return'input'===ca&&!!J.checked||'option'===ca&&!!J.selected},selected:function(J){return J.parentNode&&J.parentNode.selectedIndex,!0===J.selected},empty:function(J){for(J=J.firstChild;J;J=J.nextSibling)if(6>J.nodeType)return!1;return!0},parent:function(J){return!Ib.pseudos.empty(J)},header:function(J){return Hd.test(J.nodeName)},input:function(J){return Gd.test(J.nodeName)},
button:function(J){var ca=J.nodeName.toLowerCase();return'input'===ca&&'button'===J.type||'button'===ca},text:function(J){var ca;return'input'===J.nodeName.toLowerCase()&&'text'===J.type&&(null==(ca=J.getAttribute('type'))||'text'===ca.toLowerCase())},first:Aa(function(){return[0]}),last:Aa(function(J,ca){return[ca-1]}),eq:Aa(function(J,ca,ja){return[0>ja?ja+ca:ja]}),even:Aa(function(J,ca){for(var ja=0;ca>ja;ja+=2)J.push(ja);return J}),odd:Aa(function(J,ca){for(var ja=1;ca>ja;ja+=2)J.push(ja);return J}),
lt:Aa(function(J,ca,ja){for(ca=0>ja?ja+ca:ja;0<=--ca;)J.push(ca);return J}),gt:Aa(function(J,ca,ja){for(ja=0>ja?ja+ca:ja;++ja<ca;)J.push(ja);return J})}};Ib.pseudos.nth=Ib.pseudos.eq;for(yc in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Ib.pseudos[yc]=aa(yc);for(yc in{submit:!0,reset:!0})Ib.pseudos[yc]=la(yc);Na.prototype=Ib.filters=Ib.pseudos;Ib.setFilters=new Na;var Pc=c.tokenize=function(J,ca){var ja,ua,Fa,Ja,Oa;if(Ja=pc[J+' '])return ca?0:Ja.slice(0);Ja=J;var ab=[];for(Oa=Ib.preFilter;Ja;){Va&&
!(ja=Cd.exec(Ja))||(ja&&(Ja=Ja.slice(ja[0].length)||Ja),ab.push(ua=[]));var Va=!1;(ja=Dd.exec(Ja))&&(Va=ja.shift(),ua.push({value:Va,type:ja[0].replace(Qc,' ')}),Ja=Ja.slice(Va.length));for(Fa in Ib.filter)!(ja=Rc[Fa].exec(Ja))||Oa[Fa]&&!(ja=Oa[Fa](ja))||(Va=ja.shift(),ua.push({value:Va,type:Fa,matches:ja}),Ja=Ja.slice(Va.length));if(!Va)break}return ca?Ja.length:Ja?c.error(J):pc(J,ab).slice(0)};return rb=c.compile=function(J,ca){var ja,ua=[],Fa=[],Ja=dc[J+' '];if(!Ja){ca||=Pc(J);for(ja=ca.length;ja--;)Ja=
Ic(ca[ja]),Ja[Ab]?ua.push(Ja):Fa.push(Ja);Ja=dc(J,mc(Fa,ua));Ja.selector=J}return Ja},ic=c.select=function(J,ca,ja,ua){var Fa,Ja,Oa,ab,Va,ib='function'==typeof J&&J,kb=!ua&&Pc(J=ib.selector||J);if(ja=ja||[],1===kb.length){if(Ja=kb[0]=kb[0].slice(0),2<Ja.length&&'ID'===(Oa=Ja[0]).type&&Rb.getById&&9===ca.nodeType&&hc&&Ib.relative[Ja[1].type]){if(ca=(Ib.find.ID(Oa.matches[0].replace(zc,Ac),ca)||[])[0],!ca)return ja;ib&&(ca=ca.parentNode);J=J.slice(Ja.shift().value.length)}for(Fa=Rc.needsContext.test(J)?
0:Ja.length;Fa--&&(Oa=Ja[Fa],!Ib.relative[ab=Oa.type]);)if((Va=Ib.find[ab])&&(ua=Va(Oa.matches[0].replace(zc,Ac),Yc.test(Ja[0].type)&&ra(ca.parentNode)||ca))){if(Ja.splice(Fa,1),J=ua.length&&Ua(Ja),!J)return Cc.apply(ja,ua),ja;break}}return(ib||rb(J,kb))(ua,ca,!hc,ja,!ca||Yc.test(J)&&ra(ca.parentNode)||ca),ja},Rb.sortStable=Ab.split('').sort(uc).join('')===Ab,Rb.detectDuplicates=!!Tb,Dc(),Rb.sortDetached=l(function(J){return 1&J.compareDocumentPosition(pb.createElement('div'))}),l(function(J){return J.innerHTML=
"<a href='#'></a>",'#'===J.firstChild.getAttribute('href')})||B('type|href|height|width',function(J,ca,ja){return ja?void 0:J.getAttribute(ca,'type'===ca.toLowerCase()?1:2)}),Rb.attributes&&l(function(J){return J.innerHTML='<input/>',J.firstChild.setAttribute('value',''),''===J.firstChild.getAttribute('value')})||B('value',function(J,ca,ja){return ja||'input'!==J.nodeName.toLowerCase()?void 0:J.defaultValue}),l(function(J){return null==J.getAttribute('disabled')})||B('checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',
function(J,ca,ja){var ua;return ja?void 0:!0===J[ca]?ca.toLowerCase():(ua=J.getAttributeNode(ca))&&ua.specified?ua.value:null}),c}(E);b.find=z;b.expr=z.selectors;b.expr[':']=b.expr.pseudos;b.uniqueSort=b.unique=z.uniqueSort;b.text=z.getText;b.isXMLDoc=z.isXML;b.contains=z.contains;var X=function(a,c,g){for(var k=[],l=void 0!==g;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(l&&b(a).is(g))break;k.push(a)}return k},P=function(a,c){for(var g=[];a;a=a.nextSibling)1===a.nodeType&&a!==c&&g.push(a);return g},
ba=b.expr.match.needsContext,Q=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;b.filter=function(a,c,g){var k=c[0];return g&&(a=':not('+a+')'),1===c.length&&1===k.nodeType?b.find.matchesSelector(k,a)?[k]:[]:b.find.matches(a,b.grep(c,function(l){return 1===l.nodeType}))};b.fn.extend({find:function(a){var c,g=[],k=this,l=k.length;if('string'!=typeof a)return this.pushStack(b(a).filter(function(){for(c=0;l>c;c++)if(b.contains(k[c],this))return!0}));for(c=0;l>c;c++)b.find(a,k[c],g);return g=this.pushStack(1<
l?b.unique(g):g),g.selector=this.selector?this.selector+' '+a:a,g},filter:function(a){return this.pushStack(Ga(this,a||[],!1))},not:function(a){return this.pushStack(Ga(this,a||[],!0))},is:function(a){return!!Ga(this,'string'==typeof a&&ba.test(a)?b(a):a||[],!1).length}});var fa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(b.fn.init=function(a,c,g){var k,l;if(!a)return this;if(g=g||ta,'string'==typeof a){if(k='<'===a.charAt(0)&&'>'===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:fa.exec(a),!k||!k[1]&&
c)return!c||c.jquery?(c||g).find(a):this.constructor(c).find(a);if(k[1]){if(c=c instanceof b?c[0]:c,b.merge(this,b.parseHTML(k[1],c&&c.nodeType?c.ownerDocument||c:Qa,!0)),Q.test(k[1])&&b.isPlainObject(c))for(k in c)b.isFunction(this[k])?this[k](c[k]):this.attr(k,c[k]);return this}if(l=Qa.getElementById(k[2]),l&&l.parentNode){if(l.id!==k[2])return ta.find(a);this.length=1;this[0]=l}return this.context=Qa,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):b.isFunction(a)?
'undefined'!=typeof g.ready?g.ready(a):a(b):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),b.makeArray(a,this))}).prototype=b.fn;var ta=b(Qa);var ka=/^(?:parents|prev(?:Until|All))/,ia={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({has:function(a){var c,g=b(a,this),k=g.length;return this.filter(function(){for(c=0;k>c;c++)if(b.contains(this,g[c]))return!0})},closest:function(a,c){for(var g,k=0,l=this.length,B=[],H=ba.test(a)||'string'!=typeof a?b(a,c||this.context):
0;l>k;k++)for(g=this[k];g&&g!==c;g=g.parentNode)if(11>g.nodeType&&(H?-1<H.index(g):1===g.nodeType&&b.find.matchesSelector(g,a))){B.push(g);break}return this.pushStack(1<B.length?b.uniqueSort(B):B)},index:function(a){return a?'string'==typeof a?b.inArray(this[0],b(a)):b.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,c){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(a,c))))},addBack:function(a){return this.add(null==a?this.prevObject:
this.prevObject.filter(a))}});b.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return X(a,'parentNode')},parentsUntil:function(a,c,g){return X(a,'parentNode',g)},next:function(a){return L(a,'nextSibling')},prev:function(a){return L(a,'previousSibling')},nextAll:function(a){return X(a,'nextSibling')},prevAll:function(a){return X(a,'previousSibling')},nextUntil:function(a,c,g){return X(a,'nextSibling',g)},prevUntil:function(a,c,g){return X(a,'previousSibling',
g)},siblings:function(a){return P((a.parentNode||{}).firstChild,a)},children:function(a){return P(a.firstChild)},contents:function(a){return b.nodeName(a,'iframe')?a.contentDocument||a.contentWindow.document:b.merge([],a.childNodes)}},function(a,c){b.fn[a]=function(g,k){var l=b.map(this,c,g);return'Until'!==a.slice(-5)&&(k=g),k&&'string'==typeof k&&(l=b.filter(k,l)),1<this.length&&(ia[a]||(l=b.uniqueSort(l)),ka.test(a)&&(l=l.reverse())),this.pushStack(l)}});var Ba=/\S+/g;b.Callbacks=function(a){a=
'string'==typeof a?V(a):b.extend({},a);var c,g,k,l,B=[],H=[],aa=-1,la=function(){l=a.once;for(k=c=!0;H.length;aa=-1)for(g=H.shift();++aa<B.length;)!1===B[aa].apply(g[0],g[1])&&a.stopOnFalse&&(aa=B.length,g=!1);a.memory||(g=!1);c=!1;l&&(B=g?[]:'')},Aa={add:function(){return B&&(g&&!c&&(aa=B.length-1,H.push(g)),function Ua(Na){b.each(Na,function(tb,bb){b.isFunction(bb)?a.unique&&Aa.has(bb)||B.push(bb):bb&&bb.length&&'string'!==b.type(bb)&&Ua(bb)})}(arguments),g&&!c&&la()),this},remove:function(){return b.each(arguments,
function(ra,Na){for(var Ua;-1<(Ua=b.inArray(Na,B,Ua));)B.splice(Ua,1),aa>=Ua&&aa--}),this},has:function(ra){return ra?-1<b.inArray(ra,B):0<B.length},empty:function(){return B&&=[],this},disable:function(){return l=H=[],B=g='',this},disabled:function(){return!B},lock:function(){return l=!0,g||Aa.disable(),this},locked:function(){return!!l},fireWith:function(ra,Na){return l||(Na=Na||[],Na=[ra,Na.slice?Na.slice():Na],H.push(Na),c||la()),this},fire:function(){return Aa.fireWith(this,arguments),this},
fired:function(){return!!k}};return Aa};b.extend({Deferred:function(a){var c=[['resolve','done',b.Callbacks('once memory'),'resolved'],['reject','fail',b.Callbacks('once memory'),'rejected'],['notify','progress',b.Callbacks('memory')]],g='pending',k={state:function(){return g},always:function(){return l.done(arguments).fail(arguments),this},then:function(){var B=arguments;return b.Deferred(function(H){b.each(c,function(aa,la){var Aa=b.isFunction(B[aa])&&B[aa];l[la[1]](function(){var ra=Aa&&Aa.apply(this,
arguments);ra&&b.isFunction(ra.promise)?ra.promise().progress(H.notify).done(H.resolve).fail(H.reject):H[la[0]+'With'](this===k?H.promise():this,Aa?[ra]:arguments)})});B=null}).promise()},promise:function(B){return null!=B?b.extend(B,k):k}},l={};return k.pipe=k.then,b.each(c,function(B,H){var aa=H[2],la=H[3];k[H[1]]=aa.add;la&&aa.add(function(){g=la},c[1^B][2].disable,c[2][2].lock);l[H[0]]=function(){return l[H[0]+'With'](this===l?k:this,arguments),this};l[H[0]+'With']=aa.fireWith}),k.promise(l),
a&&a.call(l,l),l},when:function(a){var c=0,g=Gb.call(arguments),k=g.length,l=1!==k||a&&b.isFunction(a.promise)?k:0,B=1===l?a:b.Deferred(),H=function(ra,Na,Ua){return function(tb){Na[ra]=this;Ua[ra]=1<arguments.length?Gb.call(arguments):tb;Ua===la?B.notifyWith(Na,Ua):--l||B.resolveWith(Na,Ua)}},aa;if(1<k){var la=Array(k);var Aa=Array(k);for(aa=Array(k);k>c;c++)g[c]&&b.isFunction(g[c].promise)?g[c].promise().progress(H(c,Aa,la)).done(H(c,aa,g)).fail(B.reject):--l}return l||B.resolveWith(aa,g),B.promise()}});
var ya;b.fn.ready=function(a){return b.ready.promise().done(a),this};b.extend({isReady:!1,readyWait:1,holdReady:function(a){a?b.readyWait++:b.ready(!0)},ready:function(a){(!0===a?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==a&&0<--b.readyWait||(ya.resolveWith(Qa,[b]),b.fn.triggerHandler&&(b(Qa).triggerHandler('ready'),b(Qa).off('ready'))))}});b.ready.promise=function(a){if(!ya)if(ya=b.Deferred(),'complete'===Qa.readyState||'loading'!==Qa.readyState&&!Qa.documentElement.doScroll)E.setTimeout(b.ready);
else if(Qa.addEventListener)Qa.addEventListener('DOMContentLoaded',W),E.addEventListener('load',W);else{Qa.attachEvent('onreadystatechange',W);E.attachEvent('onload',W);var c=!1;try{c=null==E.frameElement&&Qa.documentElement}catch(g){}c&&c.doScroll&&!function k(){if(!b.isReady){try{c.doScroll('left')}catch(l){return E.setTimeout(k,50)}oa();b.ready()}}()}return ya.promise(a)};b.ready.promise();for(var Ya in b(e))break;e.ownFirst='0'===Ya;e.inlineBlockNeedsLayout=!1;b(function(){var a,c,g,k;(g=Qa.getElementsByTagName('body')[0])&&
g.style&&(c=Qa.createElement('div'),k=Qa.createElement('div'),k.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',g.appendChild(k).appendChild(c),'undefined'!=typeof c.style.zoom&&(c.style.cssText='display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1',e.inlineBlockNeedsLayout=a=3===c.offsetWidth,a&&(g.style.zoom=1)),g.removeChild(k))});(function(){var a=Qa.createElement('div');e.deleteExpando=!0;try{delete a.test}catch(c){e.deleteExpando=!1}})();var Ta=function(a){var c=
b.noData[(a.nodeName+' ').toLowerCase()],g=+a.nodeType||1;return 1!==g&&9!==g?!1:!c||!0!==c&&a.getAttribute('classid')===c},ob=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wb=/([A-Z])/g;b.extend({cache:{},noData:{'applet ':!0,'embed ':!0,'object ':'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'},hasData:function(a){return a=a.nodeType?b.cache[a[b.expando]]:a[b.expando],!!a&&!m(a)},data:function(a,c,g){return U(a,c,g)},removeData:function(a,c){return x(a,c)},_data:function(a,c,g){return U(a,c,g,!0)},_removeData:function(a,
c){return x(a,c,!0)}});b.fn.extend({data:function(a,c){var g,k,l,B=this[0],H=B&&B.attributes;if(void 0===a){if(this.length&&(l=b.data(B),1===B.nodeType&&!b._data(B,'parsedAttrs'))){for(g=H.length;g--;)H[g]&&(k=H[g].name,0===k.indexOf('data-')&&(k=b.camelCase(k.slice(5)),Y(B,k,l[k])));b._data(B,'parsedAttrs',!0)}return l}return'object'==typeof a?this.each(function(){b.data(this,a)}):1<arguments.length?this.each(function(){b.data(this,a,c)}):B?Y(B,a,b.data(B,a)):void 0},removeData:function(a){return this.each(function(){b.removeData(this,
a)})}});b.extend({queue:function(a,c,g){var k;return a?(c=(c||'fx')+'queue',k=b._data(a,c),g&&(!k||b.isArray(g)?k=b._data(a,c,b.makeArray(g)):k.push(g)),k||[]):void 0},dequeue:function(a,c){c=c||'fx';var g=b.queue(a,c),k=g.length,l=g.shift(),B=b._queueHooks(a,c),H=function(){b.dequeue(a,c)};'inprogress'===l&&(l=g.shift(),k--);l&&('fx'===c&&g.unshift('inprogress'),delete B.stop,l.call(a,H,B));!k&&B&&B.empty.fire()},_queueHooks:function(a,c){var g=c+'queueHooks';return b._data(a,g)||b._data(a,g,{empty:b.Callbacks('once memory').add(function(){b._removeData(a,
c+'queue');b._removeData(a,g)})})}});b.fn.extend({queue:function(a,c){var g=2;return'string'!=typeof a&&(c=a,a='fx',g--),arguments.length<g?b.queue(this[0],a):void 0===c?this:this.each(function(){var k=b.queue(this,a,c);b._queueHooks(this,a);'fx'===a&&'inprogress'!==k[0]&&b.dequeue(this,a)})},dequeue:function(a){return this.each(function(){b.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||'fx',[])},promise:function(a,c){var g,k=1,l=b.Deferred(),B=this,H=this.length,aa=function(){--k||
l.resolveWith(B,[B])};'string'!=typeof a&&(c=a,a=void 0);for(a=a||'fx';H--;)(g=b._data(B[H],a+'queueHooks'))&&g.empty&&(k++,g.empty.add(aa));return aa(),l.promise(c)}});(function(){var a;e.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var c,g,k;return g=Qa.getElementsByTagName('body')[0],g&&g.style?(c=Qa.createElement('div'),k=Qa.createElement('div'),k.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',g.appendChild(k).appendChild(c),'undefined'!=typeof c.style.zoom&&
(c.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1',c.appendChild(Qa.createElement('div')).style.width='5px',a=3!==c.offsetWidth),g.removeChild(k),a):void 0}})();var Kb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,eb=new RegExp('^(?:([+-])=|)('+Kb+')([a-z%]*)$','i'),yb=['Top','Right','Bottom','Left'],Vb=function(a,c){return a=c||a,'none'===b.css(a,'display')||!b.contains(a.ownerDocument,a)},
Wa=function(a,c,g,k,l,B,H){var aa=0,la=a.length,Aa=null==g;if('object'===b.type(g))for(aa in l=!0,g)Wa(a,c,aa,g[aa],!0,B,H);else if(void 0!==k&&(l=!0,b.isFunction(k)||(H=!0),Aa&&(H?(c.call(a,k),c=null):(Aa=c,c=function(ra,Na,Ua){return Aa.call(b(ra),Ua)})),c))for(;la>aa;aa++)c(a[aa],g,H?k:k.call(a[aa],aa,c(a[aa],g)));return l?a:Aa?c.call(a):la?c(a[0],g):B},fb=/^(?:checkbox|radio)$/i,ea=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,ha=/^\s+/;!function(){var a=Qa.createElement('div'),c=Qa.createDocumentFragment(),
g=Qa.createElement('input');a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";e.leadingWhitespace=3===a.firstChild.nodeType;e.tbody=!a.getElementsByTagName('tbody').length;e.htmlSerialize=!!a.getElementsByTagName('link').length;e.html5Clone='<:nav></:nav>'!==Qa.createElement('nav').cloneNode(!0).outerHTML;g.type='checkbox';g.checked=!0;c.appendChild(g);e.appendChecked=g.checked;a.innerHTML='<textarea>x</textarea>';e.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue;
c.appendChild(a);g=Qa.createElement('input');g.setAttribute('type','radio');g.setAttribute('checked','checked');g.setAttribute('name','t');a.appendChild(g);e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;e.noCloneEvent=!!a.addEventListener;a[b.expando]=1;e.attributes=!a.getAttribute(b.expando)}();var na={option:[1,"<select multiple='multiple'>",'</select>'],legend:[1,'<fieldset>','</fieldset>'],area:[1,'<map>','</map>'],param:[1,'<object>','</object>'],thead:[1,'<table>','</table>'],
tr:[2,'<table><tbody>','</tbody></table>'],col:[2,'<table><tbody></tbody><colgroup>','</colgroup></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:e.htmlSerialize?[0,'','']:[1,'X<div>','</div>']};na.optgroup=na.option;na.tbody=na.tfoot=na.colgroup=na.caption=na.thead;na.th=na.td;var Ma=/<|&#?\w+;/,$a=/<tbody/i;!function(){var a,c=Qa.createElement('div');for(a in{submit:!0,change:!0,focusin:!0}){var g='on'+a;(e[a]=g in E)||(c.setAttribute(g,'t'),e[a]=!1===c.attributes[g].expando)}}();
var db=/^(?:input|select|textarea)$/i,Ka=/^key/,sb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,hb=/^(?:focusinfocus|focusoutblur)$/,lb=/^([^.]*)(?:\.(.+)|)/;b.event={global:{},add:function(a,c,g,k,l){var B,H,aa,la,Aa,ra,Na,Ua;if(H=b._data(a)){g.handler&&(aa=g,g=aa.handler,l=aa.selector);g.guid||(g.guid=b.guid++);(B=H.events)||(B=H.events={});(Aa=H.handle)||(Aa=H.handle=function(Lb){return'undefined'==typeof b||Lb&&b.event.triggered===Lb.type?void 0:b.event.dispatch.apply(Aa.elem,arguments)},
Aa.elem=a);c=(c||'').match(Ba)||[''];for(H=c.length;H--;){var tb=lb.exec(c[H])||[];var bb=Ua=tb[1];tb=(tb[2]||'').split('.').sort();bb&&(la=b.event.special[bb]||{},bb=(l?la.delegateType:la.bindType)||bb,la=b.event.special[bb]||{},ra=b.extend({type:bb,origType:Ua,data:k,handler:g,guid:g.guid,selector:l,needsContext:l&&b.expr.match.needsContext.test(l),namespace:tb.join('.')},aa),(Na=B[bb])||(Na=B[bb]=[],Na.delegateCount=0,la.setup&&!1!==la.setup.call(a,k,tb,Aa)||(a.addEventListener?a.addEventListener(bb,
Aa,!1):a.attachEvent&&a.attachEvent('on'+bb,Aa))),la.add&&(la.add.call(a,ra),ra.handler.guid||(ra.handler.guid=g.guid)),l?Na.splice(Na.delegateCount++,0,ra):Na.push(ra),b.event.global[bb]=!0)}a=null}},remove:function(a,c,g,k,l){var B,H,aa,la,Aa,ra,Na,Ua,tb=b.hasData(a)&&b._data(a);if(tb&&(Aa=tb.events)){c=(c||'').match(Ba)||[''];for(la=c.length;la--;)if(H=lb.exec(c[la])||[],ra=Ua=H[1],Na=(H[2]||'').split('.').sort(),ra){var bb=b.event.special[ra]||{};ra=(k?bb.delegateType:bb.bindType)||ra;var Lb=
Aa[ra]||[];H=H[2]&&new RegExp('(^|\\.)'+Na.join('\\.(?:.*\\.|)')+'(\\.|$)');for(aa=B=Lb.length;B--;){var lc=Lb[B];!l&&Ua!==lc.origType||g&&g.guid!==lc.guid||H&&!H.test(lc.namespace)||k&&k!==lc.selector&&('**'!==k||!lc.selector)||(Lb.splice(B,1),lc.selector&&Lb.delegateCount--,bb.remove&&bb.remove.call(a,lc))}aa&&!Lb.length&&(bb.teardown&&!1!==bb.teardown.call(a,Na,tb.handle)||b.removeEvent(a,ra,tb.handle),delete Aa[ra])}else for(ra in Aa)b.event.remove(a,ra+c[la],g,k,!0);b.isEmptyObject(Aa)&&(delete tb.handle,
b._removeData(a,'events'))}},trigger:function(a,c,g,k){var l,B,H,aa,la=[g||Qa],Aa=M.call(a,'type')?a.type:a;var ra=M.call(a,'namespace')?a.namespace.split('.'):[];if(H=l=g=g||Qa,3!==g.nodeType&&8!==g.nodeType&&!hb.test(Aa+b.event.triggered)&&(-1<Aa.indexOf('.')&&(ra=Aa.split('.'),Aa=ra.shift(),ra.sort()),B=0>Aa.indexOf(':')&&'on'+Aa,a=a[b.expando]?a:new b.Event(Aa,'object'==typeof a&&a),a.isTrigger=k?2:3,a.namespace=ra.join('.'),a.rnamespace=a.namespace?new RegExp('(^|\\.)'+ra.join('\\.(?:.*\\.|)')+
'(\\.|$)'):null,a.result=void 0,a.target||(a.target=g),c=null==c?[a]:b.makeArray(c,[a]),aa=b.event.special[Aa]||{},k||!aa.trigger||!1!==aa.trigger.apply(g,c))){if(!k&&!aa.noBubble&&!b.isWindow(g)){var Na=aa.delegateType||Aa;for(hb.test(Na+Aa)||(H=H.parentNode);H;H=H.parentNode)la.push(H),l=H;l===(g.ownerDocument||Qa)&&la.push(l.defaultView||l.parentWindow||E)}for(ra=0;(H=la[ra++])&&!a.isPropagationStopped();)a.type=1<ra?Na:aa.bindType||Aa,(l=(b._data(H,'events')||{})[a.type]&&b._data(H,'handle'))&&
l.apply(H,c),(l=B&&H[B])&&l.apply&&Ta(H)&&(a.result=l.apply(H,c),!1===a.result&&a.preventDefault());if(a.type=Aa,!(k||a.isDefaultPrevented()||aa._default&&!1!==aa._default.apply(la.pop(),c))&&Ta(g)&&B&&g[Aa]&&!b.isWindow(g)){(l=g[B])&&(g[B]=null);b.event.triggered=Aa;try{g[Aa]()}catch(Ua){}b.event.triggered=void 0;l&&(g[B]=l)}return a.result}},dispatch:function(a){a=b.event.fix(a);var c,g,k,l,B=Gb.call(arguments);var H=(b._data(this,'events')||{})[a.type]||[];var aa=b.event.special[a.type]||{};if(B[0]=
a,a.delegateTarget=this,!aa.preDispatch||!1!==aa.preDispatch.call(this,a)){var la=b.event.handlers.call(this,a,H);for(H=0;(k=la[H++])&&!a.isPropagationStopped();)for(a.currentTarget=k.elem,c=0;(l=k.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(l.namespace)||(a.handleObj=l,a.data=l.data,g=((b.event.special[l.origType]||{}).handle||l.handler).apply(k.elem,B),void 0!==g&&!1===(a.result=g)&&(a.preventDefault(),a.stopPropagation()));return aa.postDispatch&&aa.postDispatch.call(this,
a),a.result}},handlers:function(a,c){var g,k=[],l=c.delegateCount,B=a.target;if(l&&B.nodeType&&('click'!==a.type||isNaN(a.button)||1>a.button))for(;B!=this;B=B.parentNode||this)if(1===B.nodeType&&(!0!==B.disabled||'click'!==a.type)){var H=[];for(g=0;l>g;g++){var aa=c[g];var la=aa.selector+' ';void 0===H[la]&&(H[la]=aa.needsContext?-1<b(la,this).index(B):b.find(la,this,null,[B]).length);H[la]&&H.push(aa)}H.length&&k.push({elem:B,handlers:H})}return l<c.length&&k.push({elem:this,handlers:c.slice(l)}),
k},fix:function(a){if(a[b.expando])return a;var c=a.type;var g=a,k=this.fixHooks[c];k||(this.fixHooks[c]=k=sb.test(c)?this.mouseHooks:Ka.test(c)?this.keyHooks:{});var l=k.props?this.props.concat(k.props):this.props;a=new b.Event(g);for(c=l.length;c--;){var B=l[c];a[B]=g[B]}return a.target||(a.target=g.srcElement||Qa),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,k.filter?k.filter(a,g):a},props:'altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(' '),
fixHooks:{},keyHooks:{props:['char','charCode','key','keyCode'],filter:function(a,c){return null==a.which&&(a.which=null!=c.charCode?c.charCode:c.keyCode),a}},mouseHooks:{props:'button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement'.split(' '),filter:function(a,c){var g,k,l,B=c.button,H=c.fromElement;return null==a.pageX&&null!=c.clientX&&(k=a.target.ownerDocument||Qa,l=k.documentElement,g=k.body,a.pageX=c.clientX+(l&&l.scrollLeft||g&&g.scrollLeft||0)-(l&&
l.clientLeft||g&&g.clientLeft||0),a.pageY=c.clientY+(l&&l.scrollTop||g&&g.scrollTop||0)-(l&&l.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&H&&(a.relatedTarget=H===a.target?c.toElement:H),a.which||void 0===B||(a.which=1&B?1:2&B?3:4&B?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==D()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:'focusin'},blur:{trigger:function(){return this===D()&&this.blur?(this.blur(),!1):void 0},delegateType:'focusout'},click:{trigger:function(){return b.nodeName(this,
'input')&&'checkbox'===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return b.nodeName(a.target,'a')}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,c,g){a=b.extend(new b.Event,g,{type:a,isSimulated:!0});b.event.trigger(a,null,c);a.isDefaultPrevented()&&g.preventDefault()}};b.removeEvent=Qa.removeEventListener?function(a,c,g){a.removeEventListener&&a.removeEventListener(c,g)}:function(a,
c,g){c='on'+c;a.detachEvent&&('undefined'==typeof a[c]&&(a[c]=null),a.detachEvent(c,g))};b.Event=function(a,c){return this instanceof b.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?p:C):this.type=a,c&&b.extend(this,c),this.timeStamp=a&&a.timeStamp||b.now(),void(this[b.expando]=!0)):new b.Event(a,c)};b.Event.prototype={constructor:b.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=p;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=p;a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=p;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};b.each({mouseenter:'mouseover',
mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},function(a,c){b.event.special[a]={delegateType:c,bindType:c,handle:function(g){var k,l=g.relatedTarget,B=g.handleObj;return l&&(l===this||b.contains(this,l))||(g.type=B.origType,k=B.handler.apply(this,arguments),g.type=c),k}}});e.submit||(b.event.special.submit={setup:function(){return b.nodeName(this,'form')?!1:void b.event.add(this,'click._submit keypress._submit',function(a){a=a.target;(a=b.nodeName(a,'input')||b.nodeName(a,
'button')?b.prop(a,'form'):void 0)&&!b._data(a,'submit')&&(b.event.add(a,'submit._submit',function(c){c._submitBubble=!0}),b._data(a,'submit',!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&b.event.simulate('submit',this.parentNode,a))},teardown:function(){return b.nodeName(this,'form')?!1:void b.event.remove(this,'._submit')}});e.change||(b.event.special.change={setup:function(){return db.test(this.nodeName)?('checkbox'!==this.type&&'radio'!==
this.type||(b.event.add(this,'propertychange._change',function(a){'checked'===a.originalEvent.propertyName&&(this._justChanged=!0)}),b.event.add(this,'click._change',function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1);b.event.simulate('change',this,a)})),!1):void b.event.add(this,'beforeactivate._change',function(a){a=a.target;db.test(a.nodeName)&&!b._data(a,'change')&&(b.event.add(a,'change._change',function(c){!this.parentNode||c.isSimulated||c.isTrigger||b.event.simulate('change',
this.parentNode,c)}),b._data(a,'change',!0))})},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||'radio'!==c.type&&'checkbox'!==c.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return b.event.remove(this,'._change'),!db.test(this.nodeName)}});e.focusin||b.each({focus:'focusin',blur:'focusout'},function(a,c){var g=function(k){b.event.simulate(c,k.target,b.event.fix(k))};b.event.special[c]={setup:function(){var k=this.ownerDocument||this,l=b._data(k,
c);l||k.addEventListener(a,g,!0);b._data(k,c,(l||0)+1)},teardown:function(){var k=this.ownerDocument||this,l=b._data(k,c)-1;l?b._data(k,c,l):(k.removeEventListener(a,g,!0),b._removeData(k,c))}}});b.fn.extend({on:function(a,c,g,k){return N(this,a,c,g,k)},one:function(a,c,g,k){return N(this,a,c,g,k,1)},off:function(a,c,g){var k,l;if(a&&a.preventDefault&&a.handleObj)return k=a.handleObj,b(a.delegateTarget).off(k.namespace?k.origType+'.'+k.namespace:k.origType,k.selector,k.handler),this;if('object'==
typeof a){for(l in a)this.off(l,c,a[l]);return this}return!1!==c&&'function'!=typeof c||(g=c,c=void 0),!1===g&&(g=C),this.each(function(){b.event.remove(this,a,g,c)})},trigger:function(a,c){return this.each(function(){b.event.trigger(a,c,this)})},triggerHandler:function(a,c){var g=this[0];return g?b.event.trigger(a,c,g,!0):void 0}});var mb=/ jQuery\d+="(?:null|\d+)"/g,nb=RegExp('<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video)[\\s/>]',
'i'),jb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Pb=/<script|<style|<link/i,Hb=/checked\s*(?:[^=]|=\s*.checked.)/i,Jb=/^true\/(.*)/,Mb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ac=Da(Qa).appendChild(Qa.createElement('div'));b.extend({htmlPrefilter:function(a){return a.replace(jb,'<$1></$2>')},clone:function(a,c,g){var k,l,B,H=b.contains(a.ownerDocument,a);if(e.html5Clone||b.isXMLDoc(a)||!nb.test('<'+a.nodeName+'>')?l=a.cloneNode(!0):(ac.innerHTML=a.outerHTML,ac.removeChild(l=
ac.firstChild)),!(e.noCloneEvent&&e.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||b.isXMLDoc(a))){var aa=S(l);var la=S(a);for(B=0;null!=(k=la[B]);++B)if(aa[B]){var Aa=void 0,ra,Na=k,Ua=aa[B];if(1===Ua.nodeType){if(ra=Ua.nodeName.toLowerCase(),!e.noCloneEvent&&Ua[b.expando]){k=b._data(Ua);for(Aa in k.events)b.removeEvent(Ua,Aa,k.handle);Ua.removeAttribute(b.expando)}'script'===ra&&Ua.text!==Na.text?(r(Ua).text=Na.text,G(Ua)):'object'===ra?(Ua.parentNode&&(Ua.outerHTML=Na.outerHTML),e.html5Clone&&
Na.innerHTML&&!b.trim(Ua.innerHTML)&&(Ua.innerHTML=Na.innerHTML)):'input'===ra&&fb.test(Na.type)?(Ua.defaultChecked=Ua.checked=Na.checked,Ua.value!==Na.value&&(Ua.value=Na.value)):'option'===ra?Ua.defaultSelected=Ua.selected=Na.defaultSelected:'input'!==ra&&'textarea'!==ra||(Ua.defaultValue=Na.defaultValue)}}}if(c)if(g)for(la=la||S(a),aa=aa||S(l),B=0;null!=(k=la[B]);B++)K(k,aa[B]);else K(a,l);return aa=S(l,'script'),0<aa.length&&I(aa,!H&&S(a,'script')),l},cleanData:function(a,c){for(var g,k,l,B,H=
0,aa=b.expando,la=b.cache,Aa=e.attributes,ra=b.event.special;null!=(g=a[H]);H++)if((c||Ta(g))&&(l=g[aa],B=l&&la[l])){if(B.events)for(k in B.events)ra[k]?b.event.remove(g,k):b.removeEvent(g,k,B.handle);la[l]&&(delete la[l],Aa||'undefined'==typeof g.removeAttribute?g[aa]=void 0:g.removeAttribute(aa),Fb.push(l))}}});b.fn.extend({domManip:A,detach:function(a){return O(this,a,!0)},remove:function(a){return O(this,a)},text:function(a){return Wa(this,function(c){return void 0===c?b.text(this):this.empty().append((this[0]&&
this[0].ownerDocument||Qa).createTextNode(c))},null,a,arguments.length)},append:function(){return A(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||u(this,a).appendChild(a)})},prepend:function(){return A(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=u(this,a);c.insertBefore(a,c.firstChild)}})},before:function(){return A(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return A(this,
arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,c=0;null!=(a=this[c]);c++){for(1===a.nodeType&&b.cleanData(S(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&b.nodeName(a,'select')&&(a.options.length=0)}return this},clone:function(a,c){return a=null==a?!1:a,c=null==c?a:c,this.map(function(){return b.clone(this,a,c)})},html:function(a){return Wa(this,function(c){var g=this[0]||{},k=0,l=this.length;if(void 0===c)return 1===
g.nodeType?g.innerHTML.replace(mb,''):void 0;if(!('string'!=typeof c||Pb.test(c)||!e.htmlSerialize&&nb.test(c)||!e.leadingWhitespace&&ha.test(c)||na[(ea.exec(c)||['',''])[1].toLowerCase()])){c=b.htmlPrefilter(c);try{for(;l>k;k++)g=this[k]||{},1===g.nodeType&&(b.cleanData(S(g,!1)),g.innerHTML=c);g=0}catch(B){}}g&&this.empty().append(c)},null,a,arguments.length)},replaceWith:function(){var a=[];return A(this,arguments,function(c){var g=this.parentNode;0>b.inArray(this,a)&&(b.cleanData(S(this)),g&&g.replaceChild(c,
this))},a)}});b.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},function(a,c){b.fn[a]=function(g){for(var k=0,l=[],B=b(g),H=B.length-1;H>=k;k++)g=k===H?this:this.clone(!0),b(B[k])[c](g),Zb.apply(l,g.get());return this.pushStack(l)}});var Wb,Gc={HTML:'block',BODY:'block'},qc=/^margin/,Ob=new RegExp('^('+Kb+')(?!px)[a-z%]+$','i'),Nc=function(a,c,g,k){var l,B={};for(l in c)B[l]=a.style[l],a.style[l]=c[l];g=g.apply(a,k||[]);for(l in c)a.style[l]=
B[l];return g},wc=Qa.documentElement;!function(){var a,c,g,k,l,B,H=Qa.createElement('div'),aa=Qa.createElement('div');if(aa.style){aa.style.cssText='float:left;opacity:.5';e.opacity='0.5'===aa.style.opacity;e.cssFloat=!!aa.style.cssFloat;aa.style.backgroundClip='content-box';aa.cloneNode(!0).style.backgroundClip='';e.clearCloneStyle='content-box'===aa.style.backgroundClip;H=Qa.createElement('div');H.style.cssText='border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute';
aa.innerHTML='';H.appendChild(aa);e.boxSizing=''===aa.style.boxSizing||''===aa.style.MozBoxSizing||''===aa.style.WebkitBoxSizing;b.extend(e,{reliableHiddenOffsets:function(){return null==a&&la(),k},boxSizingReliable:function(){return null==a&&la(),g},pixelMarginRight:function(){return null==a&&la(),c},pixelPosition:function(){return null==a&&la(),a},reliableMarginRight:function(){return null==a&&la(),l},reliableMarginLeft:function(){return null==a&&la(),B}});function la(){var Aa,ra,Na=Qa.documentElement;
Na.appendChild(H);aa.style.cssText='-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%';a=g=B=!1;c=l=!0;E.getComputedStyle&&(ra=E.getComputedStyle(aa),a='1%'!==(ra||{}).top,B='2px'===(ra||{}).marginLeft,g='4px'===(ra||{width:'4px'}).width,aa.style.marginRight='50%',c='4px'===(ra||{marginRight:'4px'}).marginRight,Aa=aa.appendChild(Qa.createElement('div')),Aa.style.cssText=aa.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0',
Aa.style.marginRight=Aa.style.width='0',aa.style.width='1px',l=!parseFloat((E.getComputedStyle(Aa)||{}).marginRight),aa.removeChild(Aa));aa.style.display='none';(k=0===aa.getClientRects().length)&&(aa.style.display='',aa.innerHTML='<table><tr><td></td><td>t</td></tr></table>',aa.childNodes[0].style.borderCollapse='separate',Aa=aa.getElementsByTagName('td'),Aa[0].style.cssText='margin:0;border:0;padding:0;display:none',k=0===Aa[0].offsetHeight,k&&(Aa[0].style.display='',Aa[1].style.display='none',
k=0===Aa[0].offsetHeight));Na.removeChild(H)}}}();var xc,sc,Sc=/^(top|right|bottom|left)$/;E.getComputedStyle?(xc=function(a){var c=a.ownerDocument.defaultView;return c&&c.opener||(c=E),c.getComputedStyle(a)},sc=function(a,c,g){var k,l,B,H,aa=a.style;return g=g||xc(a),H=g?g.getPropertyValue(c)||g[c]:void 0,''!==H&&void 0!==H||b.contains(a.ownerDocument,a)||(H=b.style(a,c)),g&&!e.pixelMarginRight()&&Ob.test(H)&&qc.test(c)&&(k=aa.width,l=aa.minWidth,B=aa.maxWidth,aa.minWidth=aa.maxWidth=aa.width=H,
H=g.width,aa.width=k,aa.minWidth=l,aa.maxWidth=B),void 0===H?H:H+''}):wc.currentStyle&&(xc=function(a){return a.currentStyle},sc=function(a,c,g){var k,l,B,H,aa=a.style;return g=g||xc(a),H=g?g[c]:void 0,null==H&&aa&&aa[c]&&(H=aa[c]),Ob.test(H)&&!Sc.test(c)&&(k=aa.left,l=a.runtimeStyle,B=l&&l.left,B&&(l.left=a.currentStyle.left),aa.left='fontSize'===c?'1em':H,H=aa.pixelLeft+'px',aa.left=k,B&&(l.left=B)),void 0===H?H:H+''||'auto'});var Oc=/alpha\([^)]*\)/i,Tc=/opacity\s*=\s*([^)]*)/i,Jd=/^(none|table(?!-c[ea]).+)/,
wd=new RegExp('^('+Kb+')(.*)$','i'),Kd={position:'absolute',visibility:'hidden',display:'block'},od={letterSpacing:'0',fontWeight:'400'},kd=['Webkit','O','Moz','ms'],jd=Qa.createElement('div').style;b.extend({cssHooks:{opacity:{get:function(a,c){if(c)return a=sc(a,'opacity'),''===a?'1':a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{'float':e.cssFloat?
'cssFloat':'styleFloat'},style:function(a,c,g,k){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var l,B,H,aa=b.camelCase(c),la=a.style;if(c=b.cssProps[aa]||(b.cssProps[aa]=Ea(aa)||aa),H=b.cssHooks[c]||b.cssHooks[aa],void 0===g)return H&&'get'in H&&void 0!==(l=H.get(a,!1,k))?l:la[c];if(B=typeof g,'string'===B&&(l=eb.exec(g))&&l[1]&&(g=ma(a,c,l),B='number'),null!=g&&g===g&&('number'===B&&(g+=l&&l[3]||(b.cssNumber[aa]?'':'px')),e.clearCloneStyle||''!==g||0!==c.indexOf('background')||(la[c]='inherit'),
!(H&&'set'in H&&void 0===(g=H.set(a,g,k)))))try{la[c]=g}catch(Aa){}}},css:function(a,c,g,k){var l,B,H,aa=b.camelCase(c);return c=b.cssProps[aa]||(b.cssProps[aa]=Ea(aa)||aa),H=b.cssHooks[c]||b.cssHooks[aa],H&&'get'in H&&(B=H.get(a,!0,g)),void 0===B&&(B=sc(a,c,k)),'normal'===B&&c in od&&(B=od[c]),''===g||g?(l=parseFloat(B),!0===g||isFinite(l)?l||0:B):B}});b.each(['height','width'],function(a,c){b.cssHooks[c]={get:function(g,k,l){return k?Jd.test(b.css(g,'display'))&&0===g.offsetWidth?Nc(g,Kd,function(){return Ca(g,
c,l)}):Ca(g,c,l):void 0},set:function(g,k,l){var B=l&&xc(g);return za(g,k,l?pa(g,c,l,e.boxSizing&&'border-box'===b.css(g,'boxSizing',!1,B),B):0)}}});e.opacity||(b.cssHooks.opacity={get:function(a,c){return Tc.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||'')?.01*parseFloat(RegExp.$1)+'':c?'1':''},set:function(a,c){var g=a.style;a=a.currentStyle;var k=b.isNumeric(c)?'alpha(opacity='+100*c+')':'',l=a&&a.filter||g.filter||'';g.zoom=1;(1<=c||''===c)&&''===b.trim(l.replace(Oc,''))&&g.removeAttribute&&
(g.removeAttribute('filter'),''===c||a&&!a.filter)||(g.filter=Oc.test(l)?l.replace(Oc,k):l+' '+k)}});b.cssHooks.marginRight=qa(e.reliableMarginRight,function(a,c){return c?Nc(a,{display:'inline-block'},sc,[a,'marginRight']):void 0});b.cssHooks.marginLeft=qa(e.reliableMarginLeft,function(a,c){return c?(parseFloat(sc(a,'marginLeft'))||(b.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Nc(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+'px':void 0});b.each({margin:'',
padding:'',border:'Width'},function(a,c){b.cssHooks[a+c]={expand:function(g){var k=0,l={};for(g='string'==typeof g?g.split(' '):[g];4>k;k++)l[a+yb[k]+c]=g[k]||g[k-2]||g[0];return l}};qc.test(a)||(b.cssHooks[a+c].set=za)});b.fn.extend({css:function(a,c){return Wa(this,function(g,k,l){var B,H={},aa=0;if(b.isArray(k)){l=xc(g);for(B=k.length;B>aa;aa++)H[k[aa]]=b.css(g,k[aa],!1,l);return H}return void 0!==l?b.style(g,k,l):b.css(g,k)},a,c,1<arguments.length)},show:function(){return wa(this,!0)},hide:function(){return wa(this)},
toggle:function(a){return'boolean'==typeof a?a?this.show():this.hide():this.each(function(){Vb(this)?b(this).show():b(this).hide()})}});b.Tween=Ra;Ra.prototype={constructor:Ra,init:function(a,c,g,k,l,B){this.elem=a;this.prop=g;this.easing=l||b.easing._default;this.options=c;this.start=this.now=this.cur();this.end=k;this.unit=B||(b.cssNumber[g]?'':'px')},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var c,g=Ra.propHooks[this.prop];
return this.options.duration?this.pos=c=b.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=c=a,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):Ra.propHooks._default.set(this),this}};Ra.prototype.init.prototype=Ra.prototype;Ra.propHooks={_default:{get:function(a){var c;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(c=b.css(a.elem,a.prop,
''),c&&'auto'!==c?c:0)},set:function(a){b.fx.step[a.prop]?b.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[b.cssProps[a.prop]]&&!b.cssHooks[a.prop]?a.elem[a.prop]=a.now:b.style(a.elem,a.prop,a.now+a.unit)}}};Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};b.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:'swing'};b.fx=Ra.prototype.init;b.fx.step={};var Hc,bd,Ld=
/^(?:toggle|show|hide)$/,Md=/queueHooks$/;b.Animation=b.extend(La,{tweeners:{'*':[function(a,c){var g=this.createTween(a,c);return ma(g.elem,a,eb.exec(c),g),g}]},tweener:function(a,c){b.isFunction(a)?(c=a,a=['*']):a=a.match(Ba);for(var g,k=0,l=a.length;l>k;k++)g=a[k],La.tweeners[g]=La.tweeners[g]||[],La.tweeners[g].unshift(c)},prefilters:[function(a,c,g){var k,l,B,H,aa,la,Aa,ra=this,Na={},Ua=a.style,tb=a.nodeType&&Vb(a),bb=b._data(a,'fxshow');g.queue||(H=b._queueHooks(a,'fx'),null==H.unqueued&&(H.unqueued=
0,aa=H.empty.fire,H.empty.fire=function(){H.unqueued||aa()}),H.unqueued++,ra.always(function(){ra.always(function(){H.unqueued--;b.queue(a,'fx').length||H.empty.fire()})}));1===a.nodeType&&('height'in c||'width'in c)&&(g.overflow=[Ua.overflow,Ua.overflowX,Ua.overflowY],la=b.css(a,'display'),Aa='none'===la?b._data(a,'olddisplay')||sa(a.nodeName):la,'inline'===Aa&&'none'===b.css(a,'float')&&(e.inlineBlockNeedsLayout&&'inline'!==sa(a.nodeName)?Ua.zoom=1:Ua.display='inline-block'));g.overflow&&(Ua.overflow=
'hidden',e.shrinkWrapBlocks()||ra.always(function(){Ua.overflow=g.overflow[0];Ua.overflowX=g.overflow[1];Ua.overflowY=g.overflow[2]}));for(k in c)if(l=c[k],Ld.exec(l)){if(delete c[k],B=B||'toggle'===l,l===(tb?'hide':'show')){if('show'!==l||!bb||void 0===bb[k])continue;tb=!0}Na[k]=bb&&bb[k]||b.style(a,k)}else la=void 0;if(b.isEmptyObject(Na))'inline'===('none'===la?sa(a.nodeName):la)&&(Ua.display=la);else for(k in bb?'hidden'in bb&&(tb=bb.hidden):bb=b._data(a,'fxshow',{}),B&&(bb.hidden=!tb),tb?b(a).show():
ra.done(function(){b(a).hide()}),ra.done(function(){var Lb;b._removeData(a,'fxshow');for(Lb in Na)b.style(a,Lb,Na[Lb])}),Na)c=zb(tb?bb[k]:0,k,ra),k in bb||(bb[k]=c.start,tb&&(c.end=c.start,c.start='width'===k||'height'===k?1:0))}],prefilter:function(a,c){c?La.prefilters.unshift(a):La.prefilters.push(a)}});b.speed=function(a,c,g){var k=a&&'object'==typeof a?b.extend({},a):{complete:g||!g&&c||b.isFunction(a)&&a,duration:a,easing:g&&c||c&&!b.isFunction(c)&&c};return k.duration=b.fx.off?0:'number'==typeof k.duration?
k.duration:k.duration in b.fx.speeds?b.fx.speeds[k.duration]:b.fx.speeds._default,null!=k.queue&&!0!==k.queue||(k.queue='fx'),k.old=k.complete,k.complete=function(){b.isFunction(k.old)&&k.old.call(this);k.queue&&b.dequeue(this,k.queue)},k};b.fn.extend({fadeTo:function(a,c,g,k){return this.filter(Vb).css('opacity',0).show().end().animate({opacity:c},a,g,k)},animate:function(a,c,g,k){var l=b.isEmptyObject(a),B=b.speed(c,g,k);c=function(){var H=La(this,b.extend({},a),B);(l||b._data(this,'finish'))&&
H.stop(!0)};return c.finish=c,l||!1===B.queue?this.each(c):this.queue(B.queue,c)},stop:function(a,c,g){var k=function(l){var B=l.stop;delete l.stop;B(g)};return'string'!=typeof a&&(g=c,c=a,a=void 0),c&&!1!==a&&this.queue(a||'fx',[]),this.each(function(){var l=!0,B=null!=a&&a+'queueHooks',H=b.timers,aa=b._data(this);if(B)aa[B]&&aa[B].stop&&k(aa[B]);else for(B in aa)aa[B]&&aa[B].stop&&Md.test(B)&&k(aa[B]);for(B=H.length;B--;)H[B].elem!==this||null!=a&&H[B].queue!==a||(H[B].anim.stop(g),l=!1,H.splice(B,
1));!l&&g||b.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||'fx'),this.each(function(){var c=b._data(this),g=c[a+'queue'];var k=c[a+'queueHooks'];var l=b.timers,B=g?g.length:0;c.finish=!0;b.queue(this,a,[]);k&&k.stop&&k.stop.call(this,!0);for(k=l.length;k--;)l[k].elem===this&&l[k].queue===a&&(l[k].anim.stop(!0),l.splice(k,1));for(k=0;B>k;k++)g[k]&&g[k].finish&&g[k].finish.call(this);delete c.finish})}});b.each(['toggle','show','hide'],function(a,c){var g=b.fn[c];b.fn[c]=function(k,l,B){return null==
k||'boolean'==typeof k?g.apply(this,arguments):this.animate(Pa(c,!0),k,l,B)}});b.each({slideDown:Pa('show'),slideUp:Pa('hide'),slideToggle:Pa('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},function(a,c){b.fn[a]=function(g,k,l){return this.animate(c,g,k,l)}});b.timers=[];b.fx.tick=function(){var a=b.timers,c=0;for(Hc=b.now();c<a.length;c++){var g=a[c];g()||a[c]!==g||a.splice(c--,1)}a.length||b.fx.stop();Hc=void 0};b.fx.timer=function(a){b.timers.push(a);a()?
b.fx.start():b.timers.pop()};b.fx.interval=13;b.fx.start=function(){bd||=E.setInterval(b.fx.tick,b.fx.interval)};b.fx.stop=function(){E.clearInterval(bd);bd=null};b.fx.speeds={slow:600,fast:200,_default:400};b.fn.delay=function(a,c){return a=b.fx?b.fx.speeds[a]||a:a,c=c||'fx',this.queue(c,function(g,k){var l=E.setTimeout(g,a);k.stop=function(){E.clearTimeout(l)}})};(function(){var a=Qa.createElement('input');Qa.createElement('div');var c=Qa.createElement('select'),g=c.appendChild(Qa.createElement('option'));
var k=Qa.createElement('div');k.setAttribute('className','t');k.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";k.getElementsByTagName('a');a.setAttribute('type','checkbox');k.appendChild(a);var l=k.getElementsByTagName('a')[0];l.style.cssText='top:1px';e.getSetAttribute='t'!==k.className;e.style=/top/.test(l.getAttribute('style'));e.hrefNormalized='/a'===l.getAttribute('href');e.checkOn=!!a.value;e.optSelected=g.selected;e.enctype=!!Qa.createElement('form').enctype;
c.disabled=!0;e.optDisabled=!g.disabled;a=Qa.createElement('input');a.setAttribute('value','');e.input=''===a.getAttribute('value');a.value='t';a.setAttribute('type','radio');e.radioValue='t'===a.value})();var Nd=/\r/g,Od=/[\x20\t\r\n\f]+/g;b.fn.extend({val:function(a){var c,g,k,l=this[0];if(arguments.length)return k=b.isFunction(a),this.each(function(B){var H;1===this.nodeType&&(H=k?a.call(this,B,b(this).val()):a,null==H?H='':'number'==typeof H?H+='':b.isArray(H)&&(H=b.map(H,function(aa){return null==
aa?'':aa+''})),c=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],c&&'set'in c&&void 0!==c.set(this,H,'value')||(this.value=H))});if(l)return c=b.valHooks[l.type]||b.valHooks[l.nodeName.toLowerCase()],c&&'get'in c&&void 0!==(g=c.get(l,'value'))?g:(g=l.value,'string'==typeof g?g.replace(Nd,''):null==g?'':g)}});b.extend({valHooks:{option:{get:function(a){var c=b.find.attr(a,'value');return null!=c?c:b.trim(b.text(a)).replace(Od,' ')}},select:{get:function(a){for(var c,g=a.options,k=a.selectedIndex,
l='select-one'===a.type||0>k,B=l?null:[],H=l?k+1:g.length,aa=0>k?H:l?k:0;H>aa;aa++)if(c=g[aa],!(!c.selected&&aa!==k||(e.optDisabled?c.disabled:null!==c.getAttribute('disabled'))||c.parentNode.disabled&&b.nodeName(c.parentNode,'optgroup'))){if(a=b(c).val(),l)return a;B.push(a)}return B},set:function(a,c){var g,k,l=a.options;c=b.makeArray(c);for(var B=l.length;B--;)if(k=l[B],-1<b.inArray(b.valHooks.option.get(k),c))try{k.selected=g=!0}catch(H){k.scrollHeight}else k.selected=!1;return g||(a.selectedIndex=
-1),l}}}});b.each(['radio','checkbox'],function(){b.valHooks[this]={set:function(a,c){return b.isArray(c)?a.checked=-1<b.inArray(b(a).val(),c):void 0}};e.checkOn||(b.valHooks[this].get=function(a){return null===a.getAttribute('value')?'on':a.value})});var Kc,Bc=b.expr.attrHandle,cd=/^(?:checked|selected)$/i,Fc=e.getSetAttribute,Uc=e.input;b.fn.extend({attr:function(a,c){return Wa(this,b.attr,a,c,1<arguments.length)},removeAttr:function(a){return this.each(function(){b.removeAttr(this,a)})}});b.extend({attr:function(a,
c,g){var k,l,B=a.nodeType;if(3!==B&&8!==B&&2!==B)return'undefined'==typeof a.getAttribute?b.prop(a,c,g):(1===B&&b.isXMLDoc(a)||(c=c.toLowerCase(),l=b.attrHooks[c]||(b.expr.match.bool.test(c)?Pd:Kc)),void 0!==g?null===g?void b.removeAttr(a,c):l&&'set'in l&&void 0!==(k=l.set(a,g,c))?k:(a.setAttribute(c,g+''),g):l&&'get'in l&&null!==(k=l.get(a,c))?k:(k=b.find.attr(a,c),null==k?void 0:k))},attrHooks:{type:{set:function(a,c){if(!e.radioValue&&'radio'===c&&b.nodeName(a,'input')){var g=a.value;return a.setAttribute('type',
c),g&&(a.value=g),c}}}},removeAttr:function(a,c){var g=0,k=c&&c.match(Ba);if(k&&1===a.nodeType)for(;c=k[g++];){var l=b.propFix[c]||c;b.expr.match.bool.test(c)?Uc&&Fc||!cd.test(c)?a[l]=!1:a[b.camelCase('default-'+c)]=a[l]=!1:b.attr(a,c,'');a.removeAttribute(Fc?c:l)}}});var Pd={set:function(a,c,g){return!1===c?b.removeAttr(a,g):Uc&&Fc||!cd.test(g)?a.setAttribute(!Fc&&b.propFix[g]||g,g):a[b.camelCase('default-'+g)]=a[g]=!0,g}};b.each(b.expr.match.bool.source.match(/\w+/g),function(a,c){var g=Bc[c]||
b.find.attr;Uc&&Fc||!cd.test(c)?Bc[c]=function(k,l,B){var H,aa;return B||(aa=Bc[l],Bc[l]=H,H=null!=g(k,l,B)?l.toLowerCase():null,Bc[l]=aa),H}:Bc[c]=function(k,l,B){return B?void 0:k[b.camelCase('default-'+l)]?l.toLowerCase():null}});Uc&&Fc||(b.attrHooks.value={set:function(a,c,g){return b.nodeName(a,'input')?void(a.defaultValue=c):Kc&&Kc.set(a,c,g)}});Fc||(Kc={set:function(a,c,g){var k=a.getAttributeNode(g);return k||a.setAttributeNode(k=a.ownerDocument.createAttribute(g)),k.value=c+='','value'===
g||c===a.getAttribute(g)?c:void 0}},Bc.id=Bc.name=Bc.coords=function(a,c,g){var k;return g?void 0:(k=a.getAttributeNode(c))&&''!==k.value?k.value:null},b.valHooks.button={get:function(a,c){return(a=a.getAttributeNode(c))&&a.specified?a.value:void 0},set:Kc.set},b.attrHooks.contenteditable={set:function(a,c,g){Kc.set(a,''===c?!1:c,g)}},b.each(['width','height'],function(a,c){b.attrHooks[c]={set:function(g,k){return''===k?(g.setAttribute(c,'auto'),k):void 0}}}));e.style||(b.attrHooks.style={get:function(a){return a.style.cssText||
void 0},set:function(a,c){return a.style.cssText=c+''}});var Qd=/^(?:input|select|textarea|button|object)$/i,Rd=/^(?:a|area)$/i;b.fn.extend({prop:function(a,c){return Wa(this,b.prop,a,c,1<arguments.length)},removeProp:function(a){return a=b.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(c){}})}});b.extend({prop:function(a,c,g){var k,l,B=a.nodeType;if(3!==B&&8!==B&&2!==B)return 1===B&&b.isXMLDoc(a)||(c=b.propFix[c]||c,l=b.propHooks[c]),void 0!==g?l&&'set'in l&&void 0!==
(k=l.set(a,g,c))?k:a[c]=g:l&&'get'in l&&null!==(k=l.get(a,c))?k:a[c]},propHooks:{tabIndex:{get:function(a){var c=b.find.attr(a,'tabindex');return c?parseInt(c,10):Qd.test(a.nodeName)||Rd.test(a.nodeName)&&a.href?0:-1}}},propFix:{'for':'htmlFor','class':'className'}});e.hrefNormalized||b.each(['href','src'],function(a,c){b.propHooks[c]={get:function(g){return g.getAttribute(c,4)}}});e.optSelected||(b.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),
null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});b.each('tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable'.split(' '),function(){b.propFix[this.toLowerCase()]=this});e.enctype||(b.propFix.enctype='encoding');var dd=/[\t\r\n\f]/g;b.fn.extend({addClass:function(a){var c,g,k,l,B,H,aa=0;if(b.isFunction(a))return this.each(function(la){b(this).addClass(a.call(this,la,Za(this)))});if('string'==typeof a&&
a)for(c=a.match(Ba)||[];g=this[aa++];)if(l=Za(g),k=1===g.nodeType&&(' '+l+' ').replace(dd,' ')){for(H=0;B=c[H++];)0>k.indexOf(' '+B+' ')&&(k+=B+' ');k=b.trim(k);l!==k&&b.attr(g,'class',k)}return this},removeClass:function(a){var c,g,k,l,B,H,aa=0;if(b.isFunction(a))return this.each(function(la){b(this).removeClass(a.call(this,la,Za(this)))});if(!arguments.length)return this.attr('class','');if('string'==typeof a&&a)for(c=a.match(Ba)||[];g=this[aa++];)if(l=Za(g),k=1===g.nodeType&&(' '+l+' ').replace(dd,
' ')){for(H=0;B=c[H++];)for(;-1<k.indexOf(' '+B+' ');)k=k.replace(' '+B+' ',' ');k=b.trim(k);l!==k&&b.attr(g,'class',k)}return this},toggleClass:function(a,c){var g=typeof a;return'boolean'==typeof c&&'string'===g?c?this.addClass(a):this.removeClass(a):b.isFunction(a)?this.each(function(k){b(this).toggleClass(a.call(this,k,Za(this),c),c)}):this.each(function(){var k,l;if('string'===g){var B=0;var H=b(this);for(l=a.match(Ba)||[];k=l[B++];)H.hasClass(k)?H.removeClass(k):H.addClass(k)}else void 0!==
a&&'boolean'!==g||(k=Za(this),k&&b._data(this,'__className__',k),b.attr(this,'class',k||!1===a?'':b._data(this,'__className__')||''))})},hasClass:function(a){var c,g=0;for(a=' '+a+' ';c=this[g++];)if(1===c.nodeType&&-1<(' '+Za(c)+' ').replace(dd,' ').indexOf(a))return!0;return!1}});b.each('blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(' '),
function(a,c){b.fn[c]=function(g,k){return 0<arguments.length?this.on(c,null,g,k):this.trigger(c)}});b.fn.extend({hover:function(a,c){return this.mouseenter(a).mouseleave(c||a)}});var Sd=E.location,ed=b.now(),fd=/\?/,Td=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;b.parseJSON=function(a){if(E.JSON&&E.JSON.parse)return E.JSON.parse(a+'');var c,g=null,k=b.trim(a+'');return k&&!b.trim(k.replace(Td,function(l,B,H,aa){return c&&
B&&(g=0),0===g?l:(c=H||B,g+=!aa-!H,'')}))?Function('return '+k)():b.error('Invalid JSON: '+a)};b.parseXML=function(a){var c,g;if(!a||'string'!=typeof a)return null;try{E.DOMParser?(g=new E.DOMParser,c=g.parseFromString(a,'text/xml')):(c=new E.ActiveXObject('Microsoft.XMLDOM'),c.async='false',c.loadXML(a))}catch(k){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName('parsererror').length||b.error('Invalid XML: '+a),c};var Ud=/#.*$/,pd=/([?&])_=[^&]*/,Vd=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Wd=
/^(?:GET|HEAD)$/,Xd=/^\/\//,qd=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,rd={},Xc={},sd='*/'.concat('*'),gd=Sd.href,Lc=qd.exec(gd.toLowerCase())||[];b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gd,type:'GET',isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Lc[1]),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{'*':sd,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',
json:'application/json, text/javascript'},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:'responseXML',text:'responseText',json:'responseJSON'},converters:{'* text':String,'text html':!0,'text json':b.parseJSON,'text xml':b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,c){return c?Xa(Xa(a,b.ajaxSettings),c):Xa(b.ajaxSettings,a)},ajaxPrefilter:vb(rd),ajaxTransport:vb(Xc),ajax:function(a,c){function g(Bb,Qb,Tb,pb){var kc,hc,Xb,gc=Qb;if(2!==mc){mc=2;H&&E.clearTimeout(H);
la=void 0;B=pb||'';rb.readyState=0<Bb?4:0;pb=200<=Bb&&300>Bb||304===Bb;if(Tb){var Ub=ra;for(var oc=rb,Ab,cc,$b,Sb,Jc=Ub.contents,pc=Ub.dataTypes;'*'===pc[0];)pc.shift(),void 0===cc&&(cc=Ub.mimeType||oc.getResponseHeader('Content-Type'));if(cc)for(Sb in Jc)if(Jc[Sb]&&Jc[Sb].test(cc)){pc.unshift(Sb);break}if(pc[0]in Tb)$b=pc[0];else{for(Sb in Tb){if(!pc[0]||Ub.converters[Sb+' '+pc[0]]){$b=Sb;break}Ab||=Sb}$b=$b||Ab}Ub=$b?($b!==pc[0]&&pc.unshift($b),Tb[$b]):void 0}a:{Tb=ra;Ab=Ub;cc=rb;$b=pb;var dc,uc,
vc;Ub={};oc=Tb.dataTypes.slice();if(oc[1])for(dc in Tb.converters)Ub[dc.toLowerCase()]=Tb.converters[dc];for(Sb=oc.shift();Sb;)if(Tb.responseFields[Sb]&&(cc[Tb.responseFields[Sb]]=Ab),!vc&&$b&&Tb.dataFilter&&(Ab=Tb.dataFilter(Ab,Tb.dataType)),vc=Sb,Sb=oc.shift())if('*'===Sb)Sb=vc;else if('*'!==vc&&vc!==Sb){if(dc=Ub[vc+' '+Sb]||Ub['* '+Sb],!dc)for(nc in Ub)if(uc=nc.split(' '),uc[1]===Sb&&(dc=Ub[vc+' '+uc[0]]||Ub['* '+uc[0]])){!0===dc?dc=Ub[nc]:!0!==Ub[nc]&&(Sb=uc[0],oc.unshift(uc[1]));break}if(!0!==
dc)if(dc&&Tb['throws'])Ab=dc(Ab);else try{Ab=dc(Ab)}catch($c){var nc={state:'parsererror',error:dc?$c:'No conversion from '+vc+' to '+Sb};break a}}nc={state:'success',data:Ab}}Ub=nc;pb?(ra.ifModified&&(Xb=rb.getResponseHeader('Last-Modified'),Xb&&(b.lastModified[ic]=Xb),Xb=rb.getResponseHeader('etag'),Xb&&(b.etag[ic]=Xb)),204===Bb||'HEAD'===ra.type?gc='nocontent':304===Bb?gc='notmodified':(gc=Ub.state,kc=Ub.data,hc=Ub.error,pb=!hc)):(hc=gc,!Bb&&gc||(gc='error',0>Bb&&(Bb=0)));rb.status=Bb;rb.statusText=
(Qb||gc)+'';pb?tb.resolveWith(Na,[kc,gc,rb]):tb.rejectWith(Na,[rb,gc,hc]);rb.statusCode(Lb);Lb=void 0;aa&&Ua.trigger(pb?'ajaxSuccess':'ajaxError',[rb,ra,pb?kc:hc]);bb.fireWith(Na,[rb,gc]);aa&&(Ua.trigger('ajaxComplete',[rb,ra]),--b.active||b.event.trigger('ajaxStop'))}}'object'==typeof a&&(c=a,a=void 0);c=c||{};var k,l,B,H,aa,la,Aa,ra=b.ajaxSetup({},c),Na=ra.context||ra,Ua=ra.context&&(Na.nodeType||Na.jquery)?b(Na):b.event,tb=b.Deferred(),bb=b.Callbacks('once memory'),Lb=ra.statusCode||{},lc={},Ic=
{},mc=0,yc='canceled',rb={readyState:0,getResponseHeader:function(Bb){var Qb;if(2===mc){if(!Aa)for(Aa={};Qb=Vd.exec(B);)Aa[Qb[1].toLowerCase()]=Qb[2];Qb=Aa[Bb.toLowerCase()]}return null==Qb?null:Qb},getAllResponseHeaders:function(){return 2===mc?B:null},setRequestHeader:function(Bb,Qb){var Tb=Bb.toLowerCase();return mc||(Bb=Ic[Tb]=Ic[Tb]||Bb,lc[Bb]=Qb),this},overrideMimeType:function(Bb){return mc||(ra.mimeType=Bb),this},statusCode:function(Bb){var Qb;if(Bb)if(2>mc)for(Qb in Bb)Lb[Qb]=[Lb[Qb],Bb[Qb]];
else rb.always(Bb[rb.status]);return this},abort:function(Bb){Bb=Bb||yc;return la&&la.abort(Bb),g(0,Bb),this}};if(tb.promise(rb).complete=bb.add,rb.success=rb.done,rb.error=rb.fail,ra.url=((a||ra.url||gd)+'').replace(Ud,'').replace(Xd,Lc[1]+'//'),ra.type=c.method||c.type||ra.method||ra.type,ra.dataTypes=b.trim(ra.dataType||'*').toLowerCase().match(Ba)||[''],null==ra.crossDomain&&(k=qd.exec(ra.url.toLowerCase()),ra.crossDomain=!(!k||k[1]===Lc[1]&&k[2]===Lc[2]&&(k[3]||('http:'===k[1]?'80':'443'))===
(Lc[3]||('http:'===Lc[1]?'80':'443')))),ra.data&&ra.processData&&'string'!=typeof ra.data&&(ra.data=b.param(ra.data,ra.traditional)),cb(rd,ra,c,rb),2===mc)return rb;(aa=b.event&&ra.global)&&0===b.active++&&b.event.trigger('ajaxStart');ra.type=ra.type.toUpperCase();ra.hasContent=!Wd.test(ra.type);var ic=ra.url;ra.hasContent||(ra.data&&(ic=ra.url+=(fd.test(ic)?'&':'?')+ra.data,delete ra.data),!1===ra.cache&&(ra.url=pd.test(ic)?ic.replace(pd,'$1_='+ed++):ic+(fd.test(ic)?'&':'?')+'_='+ed++));ra.ifModified&&
(b.lastModified[ic]&&rb.setRequestHeader('If-Modified-Since',b.lastModified[ic]),b.etag[ic]&&rb.setRequestHeader('If-None-Match',b.etag[ic]));(ra.data&&ra.hasContent&&!1!==ra.contentType||c.contentType)&&rb.setRequestHeader('Content-Type',ra.contentType);rb.setRequestHeader('Accept',ra.dataTypes[0]&&ra.accepts[ra.dataTypes[0]]?ra.accepts[ra.dataTypes[0]]+('*'!==ra.dataTypes[0]?', '+sd+'; q=0.01':''):ra.accepts['*']);for(l in ra.headers)rb.setRequestHeader(l,ra.headers[l]);if(ra.beforeSend&&(!1===
ra.beforeSend.call(Na,rb,ra)||2===mc))return rb.abort();yc='abort';for(l in{success:1,error:1,complete:1})rb[l](ra[l]);if(la=cb(Xc,ra,c,rb)){if(rb.readyState=1,aa&&Ua.trigger('ajaxSend',[rb,ra]),2===mc)return rb;ra.async&&0<ra.timeout&&(H=E.setTimeout(function(){rb.abort('timeout')},ra.timeout));try{mc=1,la.send(lc,g)}catch(Bb){if(!(2>mc))throw Bb;g(-1,Bb)}}else g(-1,'No Transport');return rb},getJSON:function(a,c,g){return b.get(a,c,g,'json')},getScript:function(a,c){return b.get(a,void 0,c,'script')}});
b.each(['get','post'],function(a,c){b[c]=function(g,k,l,B){return b.isFunction(k)&&(B=B||l,l=k,k=void 0),b.ajax(b.extend({url:g,type:c,dataType:B,data:k,success:l},b.isPlainObject(g)&&g))}});b._evalUrl=function(a){return b.ajax({url:a,type:'GET',dataType:'script',cache:!0,async:!1,global:!1,'throws':!0})};b.fn.extend({wrapAll:function(a){if(b.isFunction(a))return this.each(function(g){b(this).wrapAll(a.call(this,g))});if(this[0]){var c=b(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&
c.insertBefore(this[0]);c.map(function(){for(var g=this;g.firstChild&&1===g.firstChild.nodeType;)g=g.firstChild;return g}).append(this)}return this},wrapInner:function(a){return b.isFunction(a)?this.each(function(c){b(this).wrapInner(a.call(this,c))}):this.each(function(){var c=b(this),g=c.contents();g.length?g.wrapAll(a):c.append(a)})},wrap:function(a){var c=b.isFunction(a);return this.each(function(g){b(this).wrapAll(c?a.call(this,g):a)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,
'body')||b(this).replaceWith(this.childNodes)}).end()}});b.expr.filters.hidden=function(a){return e.reliableHiddenOffsets()?0>=a.offsetWidth&&0>=a.offsetHeight&&!a.getClientRects().length:Cb(a)};b.expr.filters.visible=function(a){return!b.expr.filters.hidden(a)};var Yd=/%20/g,xd=/\[\]$/,td=/\r?\n/g,Zd=/^(?:submit|button|image|reset|file)$/i,$d=/^(?:input|select|textarea|keygen)/i;b.param=function(a,c){var g,k=[],l=function(B,H){H=b.isFunction(H)?H():null==H?'':H;k[k.length]=encodeURIComponent(B)+
'='+encodeURIComponent(H)};if(void 0===c&&(c=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(a)||a.jquery&&!b.isPlainObject(a))b.each(a,function(){l(this.name,this.value)});else for(g in a)Db(g,a[g],c,l);return k.join('&').replace(Yd,'+')};b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=b.prop(this,'elements');return a?b.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!b(this).is(':disabled')&&
$d.test(this.nodeName)&&!Zd.test(a)&&(this.checked||!fb.test(a))}).map(function(a,c){a=b(this).val();return null==a?null:b.isArray(a)?b.map(a,function(g){return{name:c.name,value:g.replace(td,'\r\n')}}):{name:c.name,value:a.replace(td,'\r\n')}}).get()}});b.ajaxSettings.xhr=void 0!==E.ActiveXObject?function(){return this.isLocal?ub():8<Qa.documentMode?Eb():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Eb()||ub()}:Eb;var ae=0,Vc={},Wc=b.ajaxSettings.xhr();E.attachEvent&&E.attachEvent('onunload',
function(){for(var a in Vc)Vc[a](void 0,!0)});e.cors=!!Wc&&'withCredentials'in Wc;(Wc=e.ajax=!!Wc)&&b.ajaxTransport(function(a){if(!a.crossDomain||e.cors){var c;return{send:function(g,k){var l,B=a.xhr(),H=++ae;if(B.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(l in a.xhrFields)B[l]=a.xhrFields[l];a.mimeType&&B.overrideMimeType&&B.overrideMimeType(a.mimeType);a.crossDomain||g['X-Requested-With']||(g['X-Requested-With']='XMLHttpRequest');for(l in g)void 0!==g[l]&&B.setRequestHeader(l,
g[l]+'');B.send(a.hasContent&&a.data||null);c=function(aa,la){if(c&&(la||4===B.readyState))if(delete Vc[H],c=void 0,B.onreadystatechange=b.noop,la)4!==B.readyState&&B.abort();else{var Aa={};var ra=B.status;'string'==typeof B.responseText&&(Aa.text=B.responseText);try{var Na=B.statusText}catch(Ua){Na=''}ra||!a.isLocal||a.crossDomain?1223===ra&&(ra=204):ra=Aa.text?200:404}Aa&&k(ra,Na,Aa,B.getAllResponseHeaders())};a.async?4===B.readyState?E.setTimeout(c):B.onreadystatechange=Vc[H]=c:c()},abort:function(){c&&
c(void 0,!0)}}}});b.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/\b(?:java|ecma)script\b/},converters:{'text script':function(a){return b.globalEval(a),a}}});b.ajaxPrefilter('script',function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type='GET',a.global=!1)});b.ajaxTransport('script',function(a){if(a.crossDomain){var c,g=Qa.head||b('head')[0]||Qa.documentElement;return{send:function(k,l){c=Qa.createElement('script');
c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(B,H){(H||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,H||l(200,'success'))};g.insertBefore(c,g.firstChild)},abort:function(){c&&c.onload(void 0,!0)}}}});var ud=[],hd=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:'callback',jsonpCallback:function(){var a=ud.pop()||b.expando+'_'+ed++;return this[a]=!0,a}});b.ajaxPrefilter('json jsonp',
function(a,c,g){var k,l,B,H=!1!==a.jsonp&&(hd.test(a.url)?'url':'string'==typeof a.data&&0===(a.contentType||'').indexOf('application/x-www-form-urlencoded')&&hd.test(a.data)&&'data');return H||'jsonp'===a.dataTypes[0]?(k=a.jsonpCallback=b.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,H?a[H]=a[H].replace(hd,'$1'+k):!1!==a.jsonp&&(a.url+=(fd.test(a.url)?'&':'?')+a.jsonp+'='+k),a.converters['script json']=function(){return B||b.error(k+' was not called'),B[0]},a.dataTypes[0]='json',
l=E[k],E[k]=function(){B=arguments},g.always(function(){void 0===l?b(E).removeProp(k):E[k]=l;a[k]&&(a.jsonpCallback=c.jsonpCallback,ud.push(k));B&&b.isFunction(l)&&l(B[0]);B=l=void 0}),'script'):void 0});b.parseHTML=function(a,c,g){if(!a||'string'!=typeof a)return null;'boolean'==typeof c&&(g=c,c=!1);c=c||Qa;var k=Q.exec(a);g=!g&&[];return k?[c.createElement(k[1])]:(k=F([a],c,g),g&&g.length&&b(g).remove(),b.merge([],k.childNodes))};var vd=b.fn.load;b.fn.load=function(a,c,g){if('string'!=typeof a&&
vd)return vd.apply(this,arguments);var k,l,B,H=this,aa=a.indexOf(' ');return-1<aa&&(k=b.trim(a.slice(aa,a.length)),a=a.slice(0,aa)),b.isFunction(c)?(g=c,c=void 0):c&&'object'==typeof c&&(l='POST'),0<H.length&&b.ajax({url:a,type:l||'GET',dataType:'html',data:c}).done(function(la){B=arguments;H.html(k?b('<div>').append(b.parseHTML(la)).find(k):la)}).always(g&&function(la,Aa){H.each(function(){g.apply(this,B||[la.responseText,Aa,la])})}),this};b.each('ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend'.split(' '),
function(a,c){b.fn[c]=function(g){return this.on(c,g)}});b.expr.filters.animated=function(a){return b.grep(b.timers,function(c){return a===c.elem}).length};b.offset={setOffset:function(a,c,g){var k,l,B,H=b.css(a,'position'),aa=b(a),la={};'static'===H&&(a.style.position='relative');var Aa=aa.offset();var ra=b.css(a,'top');var Na=b.css(a,'left');('absolute'===H||'fixed'===H)&&-1<b.inArray('auto',[ra,Na])?(k=aa.position(),B=k.top,l=k.left):(B=parseFloat(ra)||0,l=parseFloat(Na)||0);b.isFunction(c)&&(c=
c.call(a,g,b.extend({},Aa)));null!=c.top&&(la.top=c.top-Aa.top+B);null!=c.left&&(la.left=c.left-Aa.left+l);'using'in c?c.using.call(a,la):aa.css(la)}};b.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(H){b.offset.setOffset(this,a,H)});var c,g,k={top:0,left:0},l=this[0],B=l&&l.ownerDocument;if(B)return c=B.documentElement,b.contains(c,l)?('undefined'!=typeof l.getBoundingClientRect&&(k=l.getBoundingClientRect()),g=xb(B),{top:k.top+(g.pageYOffset||c.scrollTop)-
(c.clientTop||0),left:k.left+(g.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):k},position:function(){if(this[0]){var a,c,g={top:0,left:0},k=this[0];return'fixed'===b.css(k,'position')?c=k.getBoundingClientRect():(a=this.offsetParent(),c=this.offset(),b.nodeName(a[0],'html')||(g=a.offset()),g.top+=b.css(a[0],'borderTopWidth',!0),g.left+=b.css(a[0],'borderLeftWidth',!0)),{top:c.top-g.top-b.css(k,'marginTop',!0),left:c.left-g.left-b.css(k,'marginLeft',!0)}}},offsetParent:function(){return this.map(function(){for(var a=
this.offsetParent;a&&!b.nodeName(a,'html')&&'static'===b.css(a,'position');)a=a.offsetParent;return a||wc})}});b.each({scrollLeft:'pageXOffset',scrollTop:'pageYOffset'},function(a,c){var g=/Y/.test(c);b.fn[a]=function(k){return Wa(this,function(l,B,H){var aa=xb(l);return void 0===H?aa?c in aa?aa[c]:aa.document.documentElement[B]:l[B]:void(aa?aa.scrollTo(g?b(aa).scrollLeft():H,g?H:b(aa).scrollTop()):l[B]=H)},a,k,arguments.length,null)}});b.each(['top','left'],function(a,c){b.cssHooks[c]=qa(e.pixelPosition,
function(g,k){return k?(k=sc(g,c),Ob.test(k)?b(g).position()[c]+'px':k):void 0})});b.each({Height:'height',Width:'width'},function(a,c){b.each({padding:'inner'+a,content:c,'':'outer'+a},function(g,k){b.fn[k]=function(l,B){var H=arguments.length&&(g||'boolean'!=typeof l),aa=g||(!0===l||!0===B?'margin':'border');return Wa(this,function(la,Aa,ra){var Na;return b.isWindow(la)?la.document.documentElement['client'+a]:9===la.nodeType?(Na=la.documentElement,Math.max(la.body['scroll'+a],Na['scroll'+a],la.body['offset'+
a],Na['offset'+a],Na['client'+a])):void 0===ra?b.css(la,Aa,aa):b.style(la,Aa,ra,aa)},c,H?l:void 0,H,null)}})});b.fn.extend({bind:function(a,c,g){return this.on(a,null,c,g)},unbind:function(a,c){return this.off(a,null,c)},delegate:function(a,c,g,k){return this.on(c,a,g,k)},undelegate:function(a,c,g){return 1===arguments.length?this.off(a,'**'):this.off(c,a||'**',g)}});b.fn.size=function(){return this.length};b.fn.andSelf=b.fn.addBack;'function'==typeof define&&define.amd&&define('jquery',[],function(){return b});
var be=E.jQuery,ce=E.$;return b.noConflict=function(a){return E.$===b&&(E.$=ce),a&&E.jQuery===b&&(E.jQuery=be),b},R||(E.jQuery=E.$=b),b});if('undefined'!==typeof module&&module.exports)var lib=require('../../index');
function Collection(E,R){var da='undefined'!==typeof module&&module.exports?!1:!0,Ga=da?require('vendor/uuid'):require('uuid'),L=da?require('utils/merge'):require('../../../lib/merge'),V={isCaseSensitive:{false:{re:'^%s$',modifiers:'i'},true:{re:'^%s$'}}},oa=!1,W=!1,Y=null;da={useLocalStorage:!1,locale:'en',searchOptionRules:V};R='object'==typeof R?L(R,da):da;var m=['not null'],U=function(y){try{return eval(y)}catch(F){throw Error('Could not evaluate condition `'+y+'`.\n'+F.stack);}};if('undefined'==
typeof E||''==E||null==E)E=[];if(!Array.isArray(E))throw Error('`new Collection([content] [, options] )`: `content` argument must be an Array !');E=E?JSON.clone(E):[];for(var x=[],ma=da=0,Da=E.length;ma<Da;++ma)E[ma]||(E[ma]={}),E[ma]._uuid=Ga.v4(),x[da]=E[ma]._uuid,++da;var S=E;S.setSearchOption=function(){if(!arguments.length)throw Error('searchOption cannot be left blank');if(3<arguments.length||3>arguments.length&&1<arguments.length)throw Error('argument length mismatch');var y=0,F=arguments.length;
if(1==arguments.length){if('object'!=typeof arguments[0])throw Error('searchOption must be an object');for(var p in arguments[0])if('undefined'==typeof V[p])throw Error(arguments[1]+' is not an allowed searchOption !');Y=arguments[0]}else for(Y||={};y<F;++y){if('undefined'==typeof V[arguments[1]])throw Error(arguments[1]+' is not an allowed searchOption !');'undefined'==typeof Y[arguments[0]]&&(Y[arguments[0]]={});/true|false/i.test(arguments[2])?Y[arguments[0]][arguments[1]]=/true/i.test(arguments[2])?
!0:!1:Y[arguments[0]][arguments[1]]=arguments[2]}return S};S.find=function(){oa=!1;'boolean'==typeof arguments[arguments.length-1]&&(oa=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);var y=null,F=null,p=null;try{y=JSON.stringify(arguments),F=JSON.parse(y),p=F.count()}catch(za){throw Error('filter must be an object\n'+za.stack);}if('undefined'!=typeof F&&0<p){1<p&&(oa=!0);p=y=null;var C=0,D=Array.isArray(this)?this:JSON.clone(E),N=[],u='',r=null,G=Y,K=R.searchOptionRules,
A=null,O=[],T=function(za,pa,Ca,Ra,Sa){if(null===za&&null===Ca)++Ra;else if(za&&-1<m.indexOf(u)&&'not null'==u&&'undefined'!=typeof Ca&&'object'!==typeof Ca&&'null'!=Ca&&'undefined'!=Ca)0>N.indexOf(Ca)&&++Ra;else if('undefined'!=typeof Ca&&'object'!==typeof Ca&&/(<|>|=)/.test(za)&&!/undefined|function/.test(typeof Ca))pa=za,Sa=Ca+za,'string'==typeof za&&'string'==typeof Ca&&(Sa=za.replace(/^(<=|>=|!==|!=|===|!==)/g,''),'string'!=typeof Ca||/^"(.*)"$/.test(Sa)||(za=za.replace(Sa,'"'+Sa+'"')),Sa='"'+
Ca+'"'+za,za=pa),/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Ca)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(za)?U(Ca.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+za.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Ra:U(Sa)&&++Ra;else if('undefined'!=typeof Ca&&'object'!==typeof Ca&&Ca===za&&!G||'undefined'!=typeof Ca&&'object'!==typeof Ca&&Ca===za&&'undefined'==typeof G[pa])++Ra;else if('undefined'!=
typeof Ca&&'object'!==typeof Ca&&G&&'undefined'!=typeof G[pa]){var Pa=0;var zb=G[pa].count();for(var Ia in G[pa])Sa[Ia][G[pa][Ia]].re=Sa[Ia][G[pa][Ia]].re.replace(/%s/,za),r=Sa[Ia][G[pa][Ia]].modifiers?new RegExp(Sa[Ia][G[pa][Ia]].re,Sa[Ia][G[pa][Ia]].modifiers):new RegExp(Sa[Ia][G[pa][Ia]].re),r.test(Ca)&&++Pa;Pa==zb&&++Ra}return{matched:Ra}},sa=function(za,pa,Ca,Ra){var Sa=pa.split(/\./g);Sa=Sa[Sa.length-1];r=new RegExp('("'+Sa+'":\\w+)');Sa=null;try{Ca&&(Sa=eval('_content.'+pa))}catch(Pa){}Sa&&
(Array.isArray(Sa)?Sa=Sa[1].split(/:/)[1]:'string'==typeof Sa&&/:/.test(Sa)&&(Sa=Sa.split(/:/)[1]),/(<|>|=)/.test(za)?/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Sa)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(za)?U(Sa.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+za.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Ra:U(Sa+za)&&++Ra:Sa==za&&++Ra);return{matched:Ra}},qa=function(za,pa,
Ca,Ra,Sa){pa=pa.split(/\[\*\]/g);Sa=pa[0].replace(/\[\*\]/,'');Ca=Ca[Sa];pa=pa[1];/^\./.test(pa)&&(pa=pa.substr(1));Sa=0;if(Ca)for(var Pa=0,zb=Ca.length;Pa<zb&&!(O=/\./.test(pa)?sa(za,pa,Ca[Pa],Sa):T(za,pa,Ca[Pa],Sa,K),Sa=O.matched,0<Sa);++Pa);return{matched:Ra+Sa}},Ea;for(Ea in D)if(D[Ea]||(D[Ea]={}),!/undefined|function/.test(typeof D[Ea]))for(let za=0,pa=F.count();za<pa;++za){y=F[za];p=y.count();A=0;for(var wa in y){if('undefined'==typeof y[wa])throw Error('filter `'+wa+'` cannot be left undefined');
u=null===y[wa]||/(boolean|number)/.test(typeof y[wa])?y[wa]:y[wa].toLocaleLowerCase();O=/\./.test(wa)?/\[\*\]/.test(wa)?qa(y[wa],wa,D[Ea],A,0):sa(y[wa],wa,D[Ea],A):T(y[wa],wa,D[Ea][wa],A,K);A=O.matched}if(A==p)if(oa&&W&&0>x.indexOf(D[Ea]._uuid)||W||!oa){if(!oa||oa&&0>N.indexOf(D[Ea]._uuid)||W)N[C]=D[Ea],++C}else oa&&!W&&0>N.indexOf(D[Ea]._uuid)&&(N[C]=D[Ea],++C)}}else N=E;Y=null;N.insert=S.insert;N.notIn=S.notIn;N.find=this.find;N.update=S.update;N.replace=S.replace;N.or=S.or;N.findOne=S.findOne;
N.limit=S.limit;N.orderBy=S.orderBy;N.delete=S.delete;N.toRaw=S.toRaw;N.filter=S.filter;return N};S.findOne=function(){var y=null;'string'==typeof arguments[arguments.length-1]&&(delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(y=arguments);if('undefined'==typeof y||!y||'object'!=typeof y)throw Error('[ Collection ][ findOne ] `filters` argument must be defined: Array or Filter Object(s) expected');y=null;var F=Array.isArray(arguments[0])?arguments[0]:S.find.apply(this,
arguments)||[];0<F.length&&(y=F.limit(1).toRaw()[0]);return y};S.or=function(){arguments[arguments.length]=!0;++arguments.length;return S.find.apply(this,arguments)};S.limit=function(y){if('undefined'==typeof y||'number'!=typeof y)throw Error('[Collection::result->limit(resultLimit)] : `resultLimit` parametter must by a `number`');var F=Array.isArray(this)?this:JSON.clone(E);F=F.splice(0,y);F.insert=S.insert;F.update=S.update;F.replace=S.replace;F.notIn=S.notIn;F.findOne=S.findOne;F.orderBy=S.orderBy;
F.max=S.max;F.delete=S.delete;F.toRaw=S.toRaw;F.filter=S.filter;return F};S.notIn=function(){var y=null,F=null,p=!0;'string'==typeof arguments[arguments.length-1]&&(y=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'boolean'==typeof arguments[arguments.length-1]&&(p=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(F=arguments);if('undefined'==typeof F||!F||'object'!=typeof F)throw Error('[ Collection ][ notIn ] `filters` argument must be defined: Array or Filter Object(s) expected');
var C=JSON.clone(Array.isArray(this)?this:E);if(Array.isArray(arguments[0]))var D=arguments[0];else W=!0,D=S.find.apply(this,arguments)||[],W=!1;if(0<D.length){if(p&&y&&'undefined'==typeof D[0]&&'undefined'==typeof D[0][y])throw Error('[ Collection ][ notIn ] `key` not valid');p&&!y&&'undefined'!=typeof D[0]._uuid?y='_uuid':'undefined'!=typeof D[0].id&&(y='id');if(!y||'undefined'==typeof D[0][y])throw Error('No comparison key defined !');var N=0,u=D.length,r=0,G,K=F.count(),A;if(p&&'undefined'!=typeof C[r]&&
C[r].hasOwnProperty(y))for(;N<u&&C.length;++N)for(r=0,p=C.length;r<p;++r){if('undefined'!=typeof C[r]&&'undefined'!=typeof D[N]&&C[r][y]===D[N][y]){C.splice(r,1);break}}else if('undefined'==typeof C[r])C=JSON.clone(D);else for(;N<u&&C.length;++N)for(r=0,p=C.length;r<p;++r)if('undefined'!=typeof C[r]){for(G=A=0;G<K;++G){if('undefined'==typeof F[G])throw Error('filter `'+G+'` cannot be left undefined');var O=F[G].count();var T=0;for(y in F[G])C[r].hasOwnProperty(y)&&C[r][y]===D[N][y]&&++T;T==O&&++A}if(A){C.splice(r,
1);break}}}y=C;y.notIn=S.notIn;y.limit=S.limit;y.find=S.find;y.findOne=S.findOne;y.insert=S.insert;y.replace=S.replace;y.update=S.update;y.orderBy=S.orderBy;y.max=S.max;y.delete=S.delete;y.toRaw=S.toRaw;y.filter=S.filter;return y};S.insert=function(y){if('object'!==typeof y)throw Error('filter must be an object');var F=Array.isArray(this)?this:E;y._uuid=Ga.v4();F.push(y);F.limit=S.limit;F.find=S.find;F.findOne=S.findOne;F.update=S.update;F.replace=S.replace;F.orderBy=S.orderBy;F.max=S.max;F.notIn=
S.notIn;F.delete=S.delete;F.toRaw=S.toRaw;F.filter=S.filter;return F};S.update=function(){var y='_uuid',F,p=F=null;'string'==typeof arguments[arguments.length-1]&&(y=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(p=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(F=arguments);if('undefined'==typeof F||!F||'object'!=typeof F)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');
if('undefined'==typeof p||!p||'object'!=typeof p)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var C=Array.isArray(arguments[0])?arguments[0]:S.find.apply(this,arguments)||[];F=Array.isArray(this)?this:JSON.clone(E);if(0<C.length){C=C.toRaw();for(var D=0,N=C.length;D<N;++D){C[D]=L(JSON.clone(p),C[D]);for(var u=0,r=F.length;u<r;++u)if('undefined'==typeof F[u][y]&&'_uuid'==y&&'undefined'!=typeof F[u].id&&(y='id'),F[u][y]==C[D][y]){F[u]=C[D];break}}}F.limit=
S.limit;F.find=S.find;F.findOne=S.findOne;F.insert=S.insert;F.update=S.update;F.replace=S.replace;F.orderBy=S.orderBy;F.max=S.max;F.notIn=S.notIn;F.delete=S.delete;F.toRaw=S.toRaw;F.filter=S.filter;return F};S.replace=function(){var y='_uuid',F,p=F=null;'string'==typeof arguments[arguments.length-1]&&(y=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(p=arguments[arguments.length-1],delete arguments[arguments.length-
1],--arguments.length);0<arguments.length&&(F=arguments);if('undefined'==typeof F||!F||'object'!=typeof F)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');if('undefined'==typeof p||!p||'object'!=typeof p)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var C=Array.isArray(arguments[0])?arguments[0]:S.find.apply(this,arguments)||[];F=Array.isArray(this)?this:JSON.clone(E);if(0<C.length){C=C.toRaw();
for(var D=0,N=C.length;D<N;++D){C[D]=JSON.clone(p);for(var u=0,r=F.length;u<r;++u){if('undefined'==typeof F[u][y]&&'_uuid'==y&&'undefined'!=typeof F[u].id)y='id';else if('undefined'==typeof F[u][y]&&'_uuid'==y)throw Error('No comparison key defined !');if(F[u][y]==C[D][y]){F[u]=C[D];break}}}}F.limit=S.limit;F.find=S.find;F.findOne=S.findOne;F.insert=S.insert;F.update=S.update;F.replace=S.replace;F.orderBy=S.orderBy;F.max=S.max;F.notIn=S.notIn;F.delete=S.delete;F.toRaw=S.toRaw;F.filter=S.filter;return F};
S['delete']=function(){var y=S.notIn.apply(this,arguments);y.limit=S.limit;y.find=S.find;y.findOne=S.findOne;y.insert=S.insert;y.update=S.update;y.replace=S.replace;y.orderBy=S.orderBy;y.max=S.max;y.notIn=S.notIn;y.toRaw=S.toRaw;y.filter=S.filter;y.delete=this.delete;return y};S.orderBy=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->orderBy(filter) ] where `filter` must not be empty or null');if(1==arguments.length)var y=arguments[0];else{y=Array(arguments.length);
for(var F=0,p=y.length;F<p;++F)y[F]=arguments[F]}F=Array.isArray(this)?this:JSON.clone(E);return I(y,F.toRaw())};S.max=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->max(filter) ] where `filter` must not be empty or null');if(1<arguments.length||Array.isArray(arguments[0])||'object'==typeof arguments[0]&&1<arguments[0].count())throw Error('[ Collection->max(filter) ] only accept one filter length, and fileter count must be equal to 1');var y=arguments[0];
try{var F=Object.keys(y)[0],p={};p[F]='desc';return S.find(y).orderBy(p).limit(1)[0][F]}catch(C){throw C;}};var I=function(y,F){if('object'!=typeof y)throw Error('`filter` parametter must be an object or an array');var p={},C=null,D=null,N=C=null;C=[];if(0==y.count())return null;p.asc=function(u,r){var G=r.map(function(K,A){var O={};O.index=A;O[u]=K[u];return O});G.sort(function(K,A){var O=function(T,sa){/^(true|false)$/i.test(T)&&(T=/true/i.test(T)?1:0);/^(true|false)$/i.test(sa)&&(sa=/true/i.test(sa)?
1:0);return'string'==typeof T&&''!=T||'string'==typeof sa?('number'==typeof T&&(T=''+T),'number'==typeof sa&&(sa=''+sa),T.localeCompare(sa,void 0,{sensitivity:'case',caseFirst:'upper'})):T>sa?1:T<sa?-1:0};return'object'==typeof K?O(K[u],A[u]):O(K,A)});return G.map(function(K,A,O){return r[K.index]})};p.desc=function(u,r){return p.asc(u,r).reverse()};C=function(u,r){var G=[],K=[];if(Array.isArray(r))for(var A=0,O=r.length;A<O;++A)G[A]=Object.keys(r[A])[0],K[A]=r[A][G[A]];else for(O in A=0,r)G[A]=O,
K[A]=r[O],++A;D=function(T,sa,qa,Ea,wa){var za='desc'==Ea[wa]?1:0,pa,Ca=pa=null;return'string'==typeof T[qa[wa]]&&''!=T[qa[wa]]?(pa=T[qa[wa]].localeCompare(sa[qa[wa]]),0==za&&0!=pa?0>pa?-1:1:0!=pa?0>pa?1:-1:qa.length-1>wa?D(T,sa,qa,Ea,wa+1):0):'number'==typeof T[qa[wa]]||'number'==typeof sa[qa[wa]]?(pa=(''+T[qa[wa]]).localeCompare(''+sa[qa[wa]],void 0,{numeric:!0}),0==za&&0!=pa?0>pa?-1:1:0!=pa?0>pa?1:-1:qa.length-1>wa?D(T,sa,qa,Ea,wa+1):0):'boolean'==typeof T[qa[wa]]||'boolean'==typeof sa[qa[wa]]?
('boolean'==typeof T[qa[wa]]&&(pa=T[qa[wa]]?1:0),'boolean'==typeof sa[qa[wa]]&&(Ca=sa[qa[wa]]?1:0),pa>Ca?0==za?1:-1:pa<Ca?0==za?-1:1:qa.length-1>wa?D(T,sa,qa,Ea,wa+1):0):T[qa[wa]]>sa[qa[wa]]?0==za?1:-1:T[qa[wa]]<sa[qa[wa]]?0==za?-1:1:qa.length-1>wa?D(T,sa,qa,Ea,wa+1):0};return u.sort(function(T,sa){return D(T,sa,G,K,0)})};Array.isArray(y)||1<y.count()?C=C(F,y):(N=Object.keys(y)[0],C=y[N],C=p[C](N,F));C.find=S.find;C.findOne=S.findOne;C.limit=S.limit;C.notIn=S.notIn;C.insert=S.insert;C.update=S.update;
C.replace=S.replace;C.delete=S.delete;C.orderBy=S.orderBy;C.max=S.max;C.toRaw=S.toRaw;C.filter=S.filter;return C};S.toRaw=function(){for(var y=Array.isArray(this)?this:E,F=0,p=y.length;F<p;++F)y[F]._uuid&&delete y[F]._uuid;return JSON.clone(y)};S.filter=function(y){if('undefined'==typeof y)throw Error('`filter` parametter must be a string or an array.');var F=Array.isArray(this)?this:E;if(!F.length)return[];var p=0,C=F.length,D=[],N=0;if(Array.isArray(y))for(var u,r=y.length,G;p<C;++p){G=!1;for(u=
0;u<r;++u)'undefined'!=typeof F[p][y[u]]&&('undefined'==typeof D[N]&&(D[N]={}),D[N][y[u]]=F[p][y[u]],G=!0);G&&++N}else for(;p<C;++p)'undefined'!=typeof F[p][y]&&('undefined'==typeof D[N]&&(D[N]={}),D[N][y]=F[p][y],++N);return JSON.clone(D)};return S}'undefined'!==typeof module&&module.exports?module.exports=Collection:'function'===typeof define&&define.amd&&define('utils/collection',[],function(){return Collection});
function FormValidatorUtil(E,R,da,Ga){var L='undefined'!==typeof module&&module.exports?!1:!0,V=L?require('utils/merge'):require('../../../../../lib/merge');L||require('../../../../../helpers');L&&require('helpers/dateFormat');var oa=L?require('utils/routing'):require('../../../../../lib/routing'),W=function(){var p=!1,C=null;L?L&&'undefined'!=typeof gina.forms&&(C=gina.forms):C=getContext('gina').forms||null;C&&'undefined'!=typeof C.validators&&(p=!0);return p},Y={errors:{},keys:{'%l':'label','%n':'name',
'%s':'size'},data:{},excluded:[],errorLabels:{is:'Condition not satisfied',isEmail:'A valid email is required',isRequired:'Cannot be left empty',isBoolean:'Must be a valid boolean',isNumber:'Must be a number: allowed values are integers or floats',isNumberLength:'Must contain %s characters',isNumberMinLength:'Should be at least %s characters',isNumberMaxLength:'Should not be more than %s characters',isInteger:'Must be an integer',isIntegerLength:'Must have %s characters',isIntegerMinLength:'Should be at least %s characters',
isIntegerMaxLength:'Should not be more than %s characters',toInteger:'Could not be converted to integer',isFloat:'Must be a proper float',isFloatException:'Float exception found: %n',toFloat:'Could not be converted to float',toFloatNAN:'Value must be a valid number',isDate:'Must be a valid Date',isString:'Must be a string',isStringLength:'Must have %s characters',isStringMinLength:'Should be at least %s characters',isStringMaxLength:'Should not be more than %s characters',isJsonWebToken:'Must be a valid JSON Web Token',
query:'Must be a valid response',isApiError:'Condition not satisfied'}},m=null;if(E)m=V(JSON.clone(E),m),Y.data=V(JSON.clone(E),Y.data);else throw Error('missing data param');var U=function(p,C){var D=null;for(let N in Ga)if(Ga[N].name===C){D=(new DOMParser).parseFromString(p.innerHTML,'text/html').getElementById(Ga[N].id);break}if(D)return D;throw Error('Field `'+C+'` not found in fieldsSet');},x=function(p){var C;var D='';var N=p.length;for(C=0;C<N;){var u=p[C++];switch(u>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:D+=
String.fromCharCode(u);break;case 12:case 13:var r=p[C++];D+=String.fromCharCode((u&31)<<6|r&63);break;case 14:r=p[C++];var G=p[C++];D+=String.fromCharCode((u&15)<<12|(r&63)<<6|(G&63)<<0)}}return D},ma=function(p,C){C=p.match(/\{\{([^{{}}]+)\}\}/g);for(let D=0,N=C.length;D<N;D++){let u=C[D].replace(/\[/g,'["').replace(/\]/g,'"]').replace(/\{|\}/g,'').trim();try{u=eval('data.'+u).replace(/^"|"$/g,''),p=p.replace(new RegExp(C[D].replace(/\{|\[|\]|\}/g,'\\$&'),'g'),u)}catch(r){}}return p},Da=function(p,
C){var D=m[this.name].errors||{},N=this.target.id||this.target.getAttribute('id');if(m.isValid()){var u=this.target.dataset.ginaFormValidatorTestedValue;console.debug('[ '+this.name+' ]','TESTED VALUE -> '+this.value+' vs '+u);N='asyncCompleted.'+N;var r=this.target.form.getAttribute('id'),G='undefined'!=typeof gina.validator&&'undefined'!=typeof gina.validator.$forms[r]&&'undefined'!=typeof gina.validator.$forms[r].cachedErrors?gina.validator.$forms[r].cachedErrors:null;if(!u||'undefined'==typeof u||
u!==this.value)this.target.dataset.ginaFormValidatorTestedValue=this.value,G&&'undefined'!=typeof G[this.name]&&'undefined'!=typeof G[this.name].query&&(delete G[this.name].query,'undefined'!=typeof gina.validator.$forms[r]&&'undefined'!=typeof gina.validator.$forms[r].errors&&delete gina.validator.$forms[r].errors.query);else if(u===this.value){var K=!1;G&&'undefined'!=typeof G[this.name]&&'undefined'!=typeof G[this.name].query&&'undefined'!=typeof G[this.name].query[this.value]&&(this.error=C=G[this.name].query[this.value].slice(0),
K=!0);D.query=F(this.error||C||Y.errorLabels.query,this);console.debug('[2] potential cached error detected !! ',K,G,' vs ',D.query);K&&(this.errors=D,this.valid=!1);'undefined'!=typeof gina.events[N]&&triggerEvent(gina,this.target,N,m[this.name]);return m[this.name]}var A=null,O=this;if(window.XMLHttpRequest)A=new XMLHttpRequest;else if(window.ActiveXObject)try{A=new ActiveXObject('Msxml2.XMLHTTP')}catch(wa){try{A=new ActiveXObject('Microsoft.XMLHTTP')}catch(za){}}C={isSynchrone:!1,headers:{}};u=
p.data||null;D=null;N=/^true$/i.test(this.target.form.dataset.ginaFormLiveCheckEnabled)?!0:!1;D=JSON.stringify(u);if(/\$/.test(D)){u=D.match(/\$[-_\[\]a-z 0-9]+/g)||[];r=G=null;for(let wa=0,za=u.length;wa<za;wa++)r=u[wa].replace(/\$/g,''),re=new RegExp('\\'+u[wa].replace(/\[|\]/g,'\\$&'),'g'),G=Y.data[r]||null,!G&&N&&(G=U(this.target.form,r).value),D=D.replace(re,G)}u=D.replace(/\\"/g,'');var T='undefined'==typeof p.validIf?!0:p.validIf;C=V(C,p,da);delete C.data;delete C.validIf;D=C.headers['Content-Type'];
var sa=null;N=this.target.getAttribute('id');if(!/^http/.test(C.url)&&/@/.test(C.url))try{K=oa.getRoute(C.url),C.url=K.toUrl()}catch(wa){throw wa;}if(C.withCredentials){if('withCredentials'in A)C.isSynchrone?A.open(C.method,C.url,C.isSynchrone):A.open(C.method,C.url);else if('undefined'!=typeof XDomainRequest)A=new XDomainRequest,A.open(C.method,C.url);else throw A=null,sa='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ',Error(sa);A.responseType='undefined'!=
typeof C.responseType?C.responseType:'';A.withCredentials=!0}else C.isSynchrone?A.open(C.method,C.url,C.isSynchrone):A.open(C.method,C.url);for(var qa in C.headers)'Content-Type'==qa&&'undefined'!=typeof D&&null!=D&&''!=D||A.setRequestHeader(qa,C.headers[qa]);'undefined'!=typeof D&&null!=D&&''!=D&&A.setRequestHeader('Content-Type',D);var Ea=function(wa){O.value=Y.data[O.name]=O.value?O.value.toLowerCase():O.value;var za=wa.isValid||!1;za=T!=za?!1:!0;m[O.name].valid=za;var pa=m[O.name].errors||{},
Ca='undefined'!=typeof wa.error&&'undefined'!=typeof wa.fields?wa.fields:{};if(0<Ca.count()&&!za||!za){if(!za){var Ra=null;'undefined'!=typeof Ca[O.name]?Y.errorLabels.query=ma(Ca[O.name],p.data):'undefined'!=typeof wa.error&&/^5/.test(wa.status)&&(Ra=wa.error);pa.query=F(Ra||O.error||Y.errorLabels.query||p.error,O);console.debug('[1] query error detected !! ',wa)}pa.query||''!=O.value||(za=!0)}za&&'undefined'!=typeof pa.query&&delete pa.query;O.valid=za;wa=gina.validator.$forms[O.target.form.getAttribute('id')].cachedErrors||
{};0<pa.count()?(O.errors=pa,'undefined'==typeof m[O.name].errors&&(m[O.name].errors={}),m[O.name].errors=V(m[O.name].errors,pa),'undefined'!=typeof pa.query&&pa.query&&('undefined'==typeof wa[O.name]&&(wa[O.name]={}),'undefined'==typeof wa[O.name].query&&(wa[O.name].query={}),wa[O.name].query[O.value]=pa.query.slice(0)),pa=O.target.getAttribute('data-gina-form-errors'),/query/.test(pa)||O.target.setAttribute('data-gina-form-errors',pa&&''!=pa?pa+' query':'query')):'undefined'!=typeof wa[O.name]&&
'undefined'!=typeof wa[O.name].query&&'undefined'!=typeof wa[O.name].query[O.value]&&delete wa[O.name].query[O.value];pa=O.target.id||O.target.getAttribute('id');console.debug('prematurely completed event `asyncCompleted.'+pa+'`');return triggerEvent(gina,O.target,'asyncCompleted.'+pa,m[O.name])};A&&(A.onerror=function(wa,za){console.debug('query error [2] detected !! ',za,'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.');isOnException=!0;
wa=this.getResponseHeader('Content-Type');if(/\/json/.test(wa))wa=JSON.parse(this.responseText),'undefined'==typeof wa.status&&(wa.status=this.status);else if(wa={status:A.status,message:''},/^(\{|\[)/.test(A.responseText))try{wa=V(wa,JSON.parse(A.responseText))}catch(pa){wa=V(wa,pa)}return Ea(wa)},A.onload=function(){try{sa=this.responseText;var wa=this.getResponseHeader('Content-Type');if(/\/json/.test(wa))sa=JSON.parse(this.responseText),'undefined'==typeof sa.status&&(sa.status=this.status);else if(sa=
{status:A.status,message:''},/^(\{|\[)/.test(A.responseText))try{sa=V(sa,JSON.parse(A.responseText))}catch(za){sa=V(sa,za)}return Ea(sa)}catch(za){throw za;}},E?A.send(u):A.send())}else console.debug('stopping on errors ...'),triggerEvent(gina,this.target,'asyncCompleted.'+N,m[this.name])},S=async function(p,C,D,N){var u=(new (require(_(GINA_FRAMEWORK_DIR+'/core/config.js',!0)))).getInstance(),r=null,G=null,K=null,A=getContext('bundle');if(/@/.test(p.url)){var O=p.url.split(/@/);G=O[0];K=O[1];getConfig(A,
'app');try{u.bundle!==K&&(r=getConfig(A,'app').proxy[K])}catch(Ea){throw Error('Could not retrieve `proxy` configuration for bundle `'+K+'`. Please check your `/config/app.json`.\n'+Ea.stack);}O=null}else throw Error('external url/domain not  handled at this moment, please contact us if you need support for it.');O=JSON.clone(oa.getRoute(p.url,p.data));var T=u[K][u.env];r||(u.bundle==K&&(r=getConfig(A,'settings').server.credentials,p.ca=r.ca||null,p.hostname=T.server.scheme+'://'+T.host,p.port=T.port[T.server.protocol][T.server.scheme],
p.protocol=T.server.protocol,p.rejectUnauthorized=!1),r={ca:p.ca,hostname:p.hostname,port:p.port,path:p.path},'undefined'!=typeof p.protocol&&(r.protocol=p.protocol),'undefined'!=typeof p.rejectUnauthorized&&(r.rejectUnauthorized=p.rejectUnauthorized));G={method:O.method,requirements:O.requirements,namespace:O.namespace||void 0,url:unescape(O.url),rule:G+'@'+K,param:JSON.clone(O.param),middleware:JSON.clone(O.middleware),bundle:O.bundle,isXMLRequest:C.isXMLRequest,isWithCredentials:C.isWithCredentials};
K=G.rule.replace('@'+K,'')||'_common';K={template:'undefined'!=typeof T.content.templates?T.content.templates[K]||T.content.templates._common:void 0,conf:JSON.clone(T),cacheless:T.cacheless};K=V(K,G);K.conf=JSON.clone(T);K.conf.content.routing[K.rule].param=G.param;K.template&&'undefined'==typeof K.template.ginaLoader&&(K.template.ginaLoader=K.conf.content.templates._common.ginaLoader);K.conf.content.routing[K.rule].param=G.param;delete K.middleware;delete K.param;delete K.requirements;T=new (require(_(GINA_FRAMEWORK_DIR+
'/core/controller/controller.js'),!0))(K);T.name=O.param.control;T.setOptions(C,D,N,K);C='object'==typeof p.data&&0<p.data.count()?p.data:{};if(/^get|delete|put$/i.test(p.method)){D=0;for(let Ea in C)'object'==typeof C[Ea]&&encodeURIComponent(JSON.stringify(C[Ea])),D++}r.method=p.method;r.path=O.url;p=require('util').promisify;var sa={isValid:!1},qa=!1;await p(T.query)(r,C).then(function(Ea){sa=Ea}).catch(function(Ea){qa=Ea});qa&&(console.error(qa),sa.error=qa);return sa},I=null;I=L?Da:S;var y=function(p,
C){var D=null,N=null;'undefined'==typeof m[p]&&'undefined'!=typeof C&&(m[p]=D=C);if('object'==typeof m[p])try{D=JSON.parse(JSON.stringify(m[p]))}catch(u){D=m[p]}else D=m[p];N='';L&&'undefined'!=typeof R&&(N=R[p].getAttribute('data-gina-form-field-label')||'');m[p]={target:L&&'undefined'!=typeof R?R[p]:null,name:p,value:D,valid:!1,label:N,exclude:!1};m[p].is=function(u,r,G){var K=!1,A='undefined'!=typeof window&&'undefined'!=typeof window._currentValidatorAlias?window._currentValidatorAlias:'is';'undefined'!=
typeof window&&window._currentValidatorAlias&&delete window._currentValidatorAlias;var O=m[this.name].errors||{};Y.data[this.name]=m[this.name].value;'undefined'==typeof O.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value||!O.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value?K=!0:O.isRequired||'string'!=typeof this.value||''!=this.value||(K=!0);if(!K&&/^(true|false)$/i.test(u))K=u;else if(!K){var T=null,sa=null;if(/[!=>><a-z 0-9]+/i.test(u)){if((sa=u.match(/\${0}[-_,.\[\]a-z0-9]+/ig))&&
0<sa.length){for(var qa=0,Ea=sa.length;qa<Ea;++qa)'undefined'!=typeof m[sa[qa]]&&sa[qa]&&(T=new RegExp('\\$'+sa[qa]+'(?!\\S+)','g'),u=''==m[sa[qa]].value?u.replace(T,'""'):'string'==typeof m[sa[qa]].value?u.replace(T,'"'+m[sa[qa]].value+'"'):u.replace(T,m[sa[qa]].value));try{u=u.replace(/(\(|\)|return)/g,''),K=/^\//.test(u)?eval(u+'.test("'+this.value+'")'):eval(u)}catch(wa){throw Error(wa.stack||wa.message);}}}else if(u instanceof RegExp)K=u.test(this.value)?!0:!1;else if('boolean'==typeof u)K=u?
!0:!1;else try{/\/(.*)\//.test(u)?(T=u.match(/\/(.*)\//).pop(),sa=u.replace('/'+T+'/',''),K=(new RegExp(T,sa)).test(this.value)):K=eval(u)}catch(wa){throw Error(wa.stack||wa.message);}}K?K&&'undefined'!=typeof O[A]&&delete O[A]:(O[A]=F(this.error||r||Y.errorLabels[A],this),'undefined'!=typeof G&&(O.stack=G));this.valid=K;0<O.count()&&(this.errors=O);return m[this.name]};m[p].set=function(u){this.value=Y.data[this.name]=u;this.target.setAttribute('value',u);return m[this.name]};m[p].isEmail=function(){this.value=
Y.data[this.name]=this.value?this.value.toLowerCase():this.value;L&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var u=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.value)?!0:!1,r=m[this.name].errors||{};r.isRequired||''!=this.value||(u=!0);u?u&&'undefined'!=typeof r.isEmail&&delete r.isEmail:r.isEmail=F(this.error||Y.errorLabels.isEmail,
this);this.valid=u;0<r.count()&&(this.errors=r);return m[this.name]};m[p].isJsonWebToken=function(){this.value=Y.data[this.name]=this.value?this.value.toLowerCase():this.value;L&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var u=/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/.test(this.value)?!0:!1,r=m[this.name].errors||{};r.isRequired||''!=this.value||(u=!0);u?u&&'undefined'!=typeof r.isJsonWebToken&&delete r.isJsonWebToken:r.isJsonWebToken=
F(this.error||Y.errorLabels.isJsonWebToken,this);this.valid=u;0<r.count()&&(this.errors=r);return m[this.name]};m[p].isBoolean=function(){var u=null,r=m[this.name].errors||{};r.isRequired&&0==this.value&&(delete r.isRequired,this.errors=r);switch(this.value){case 'true':case !0:case 1:u=this.value=Y.data[this.name]=!0;break;case 'false':case !1:case 0:u=this.value=Y.data[this.name]=!1}(u=null!==u?!0:!1)?u&&'undefined'!=typeof r.isBoolean&&delete r.isBoolean:r.isBoolean=F(this.error||Y.errorLabels.isBoolean,
this);this.valid=u;0<r.count()&&(this.errors=r);return m[this.name]};m[p].isNumber=function(u,r){var G=this.value,K=!1,A=!0,O=!0,T=m[this.name].errors||{};try{'string'==typeof G&&/,|\./g.test(G)?G=Y.data[this.name]=this.value=parseFloat(G.replace(/,/g,'.').replace(/\s+/g,'')):'string'==typeof G&&''!=G&&(G=Y.data[this.name]=this.value=parseInt(G.replace(/\s+/g,'')))}catch(qa){T.isNumber=F(this.error||Y.errorLabels.isNumber,this),this.valid=!1,0<T.count()&&(this.errors=T)}if(+G===+G&&(K=!0,!T.isRequired&&
''!=G)){var sa=G.toString().length;u&&'number'==typeof u&&sa<u&&(A=!1,this.size=u);r&&'number'==typeof r&&sa>r&&(O=!1,this.size=r)}K&&A&&O||(K||(T.isNumber=F(this.error||Y.errorLabels.isNumber,this)),A&&O||(A||(T.isNumberLength=F(this.error||Y.errorLabels.isNumberMinLength,this)),O||(T.isNumberLength=F(this.error||Y.errorLabels.isNumberMaxLength,this)),u===r&&(T.isNumberLength=F(this.error||Y.errorLabels.isNumberLength,this))),K=!1);K&&'undefined'!=typeof T.isNumberLength&&delete T.isNumberLength;
this.valid=K;this.value=Y.data[this.name]=''!=G?Number(G):G;0<T.count()&&(this.errors=T);return m[this.name]};m[p].toInteger=function(){var u=this.value,r=m[this.name].errors||{};if(u)try{this.value=Y.data[this.name]=Math.round(u)}catch(G){r.toInteger=F(this.error||Y.errorLabels.toInteger,this),this.valid=!1,0<r.count()&&(this.errors=r)}return m[this.name]};m[p].isInteger=function(u,r){var G=this.value,K=!1,A=!0,O=!0,T=m[this.name].errors||{};+G===+G&&0===G%1&&(K=!0,T.isRequired||''==G||(u&&'number'==
typeof u&&G.length<u&&(A=!1,this.size=u),r&&'number'==typeof r&&G.length>r&&(O=!1,this.size=r)));K&&A&&O||(K||(T.isInteger=F(this.error||Y.errorLabels.isInteger,this)),A&&O||(A||(T.isIntegerLength=F(this.error||Y.errorLabels.isIntegerMinLength,this),K=!1),O||(T.isIntegerLength=F(this.error||Y.errorLabels.isIntegerMaxLength,this),K=!1),u===r&&(T.isIntegerLength=F(this.error||Y.errorLabels.isIntegerLength,this),K=!1)));this.valid=K;this.value=Y.data[this.name]=Number(G);0<T.count()&&(this.errors=T);
return m[this.name]};m[p].toFloat=function(u){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''),/,/.test(this.value)&&!/\./.test(this.value)?this.value=this.value.replace(/,/g,'.'):this.value=this.value.replace(/,/g,''));var r=Y.data[this.name]=this.value,G=m[this.name].errors||{},K=!0;u?this.decimals=parseInt(u):'undefined'==typeof this.decimals&&(this.decimals=2);if(r)if(this.isNumber().valid)try{Number.isFinite(r)||(r=this.value=Y.data[this.name]=new Number(parseFloat(r.match(/[0-9.,]+/g).join('').replace(/,/,
'.')))),L&&this.target.setAttribute('value',r)}catch(A){K=!1,G.toFloat=F(this.error||Y.errorLabels.toFloat,this),this.valid=!1,0<G.count()&&(this.errors=G)}else K=!1,G.toFloat=F(this.error||Y.errorLabels.toFloatNAN,this);else return m[this.name];this.decimals&&r&&!G.toFloat&&(this.value=Y.data[this.name]=parseFloat(this.value.toFixed(this.decimals)));this.valid=K;0<G.count()&&(this.errors=G);return m[this.name]};m[p].isFloat=function(u){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,
''));var r=Y.data[this.name]=this.value;u=m[this.name].errors||{};'string'==typeof r&&/\./.test(r)&&Number.isFinite(Number(r));'string'==typeof r&&/,/g.test(r)&&(r=this.value=Y.data[this.name]=Number(r.replace(/,/g,'.')));Number(r)===r&&0!==r%1?(this.value=Y.data[this.name]=Number(r),r=!0):r=!1;u.isRequired||''!=this.value||(r=!0);r||(u.isFloat=F(this.error||Y.errorLabels.isFloat,this));this.valid=r;0<u.count()&&(this.errors=u);return m[this.name]};m[p].isRequired=function(u){if('boolean'==typeof u&&
!u)return this.valid=!0,u=Y.excluded.indexOf(this.name),-1<u&&Y.excluded.splice(u,1),m[this.name];if(L&&this.target&&'INPUT'==this.target.tagName&&'undefined'!=typeof this.target.type&&'radio'==this.target.type){u=document.getElementsByName(this.name);for(var r=0,G=u.length;r<G;++r)if(u[r].checked){/true|false/.test(u[r].value)?this.value=Y.data[this.name]=/true/.test(u[r].value)?!0:!1:this.value=Y.data[this.name]=u[r].value;this.valid=!0;break}}u='undefined'==typeof this.value||null==this.value||
''==this.value||/^\s+/.test(this.value)?!1:!0;r=m[this.name].errors||{};u?u&&'undefined'!=typeof r.isRequired&&delete r.isRequired:r.isRequired=F(this.error||Y.errorLabels.isRequired,this);this.valid=u;0<r.count()&&(this.errors=r);return m[this.name]};m[p].isString=function(u,r){var G=Y.data[this.name]=this.value,K=!1,A=!0,O=!0,T=m[this.name].errors||{};'string'!=typeof G||T.isRequired||''==G||(K=!0,u&&'number'==typeof u&&G.length<u&&(A=!1,this.size=u),r&&'number'==typeof r&&G.length>r&&(O=!1,this.size=
r));K&&A&&O||(!K&&T.isRequired&&''==G?(K=!1,T.isString=F(this.error||Y.errorLabels.isString,this)):K||T.isRequired||(K=!0),A&&O||(K=!1,A||(T.isStringLength=F(this.error||Y.errorLabels.isStringMinLength,this)),O||(T.isStringLength=F(this.error||Y.errorLabels.isStringMaxLength,this)),u===r&&(T.isStringLength=F(this.error||Y.errorLabels.isStringLength,this))));this.valid=K;0<T.count()&&(this.errors=T);return m[this.name]};m[p].isDate=function(u){var r=this.value,G=!1,K=m[this.name].errors||{},A=null;
if(!r||''==r||/NaN|Invalid Date/i.test(r))return/NaN|Invalid Date/i.test(r)&&(console.warn('[FormValidator::isDate] Provided value for field `'+this.name+'` is not allowed: `'+r+'`'),K.isDate=F(this.error||Y.errorLabels.isDate,this)),this.valid=G,0<K.count()&&(this.errors=K),m[this.name];if('undefined'==typeof u||'undefined'!=typeof u&&/true/i.test(u))u='yyyy-mm-dd';if(r instanceof Date)r=r.format(u);else{try{A=u.match(/[^\/\- ]+/g)}catch(Ea){throw Error('[FormValidator::isDate] Provided mask not allowed: `'+
u+'`');}try{r=r.match(/[^\/\- ]+/g);var O={},T;var sa=0;for(T=A.length;sa<T;++sa)O[A[sa]]=r[sa];for(var qa in O)u=u.replace(new RegExp(qa,'g'),O[qa])}catch(Ea){throw Error('[FormValidator::isDate] Provided value not allowed: `'+r+'`'+Ea);}r=this.value=Y.data[this.name]=new Date(u);if(/Invalid Date/i.test(r)||!1===r instanceof Date)return K.isRequired||''!=this.value?K.isDate=F(this.error||Y.errorLabels.isDate,this):G=!0,this.valid=G,0<K.count()&&(this.errors=K),m[this.name];G=!0}this.valid=G;return r};
m[p].format=function(u,r){var G=this.value;return G?G.format(u,r):m[this.name]};m[p].setFlash=function(u,r){'undefined'!=typeof r&&''!=r&&(this.error=r);return m[this.name]};m[p].setLabel=function(u){'undefined'!=typeof u&&''!=u&&(this.label=u);return m[this.name]};m[p].trim=function(u){if('boolean'==typeof u&&u)return this.value=this.value.replace(/^\s+|\s+$/,''),Y.data[this.name]=Y.data[this.name]=this.value,m[this.name]};m[p].exclude=function(u){if('boolean'==typeof u&&!u)return/^true|false$/i.test(this.value)&&
(this.value=/^true$/i.test(this.value)?!0:!1,Y.data[this.name]=this.value),m[this.name];this.isExcluded=!1;0>Y.excluded.indexOf(this.name)&&(Y.excluded.push(this.name),this.isExcluded=!0);return m[this.name]};m[p].query=I;m[p].getValidationContext=function(){return{isGFFCtx:L,self:m,local:Y,replace:F}};if(W()){D=C=null;try{for(let u in gina.forms.validators)D='/validators/'+u+'/main.js',Y.errorLabels[u]='Condition not satisfied',L?(C=x(gina.forms.validators[u].data),C=C.replace(/(\)\s+\{|\)\{){1}/,
'$&\n\tvar validationContext = this.getValidationContext(),isGFFCtx = validationContext.isGFFCtx,self = validationContext.self,local = validationContext.local,replace = validationContext.replace;')):C=gina.forms.validators[u].toString(),m[p][u]=eval('('+C+')\n//# sourceURL='+u+'.js')}catch(u){throw Error('[UserFormValidator] Could not evaluate: `'+D+'`\n'+u.stack);}}};for(let p in m)y(p,m[p]);m.addField=function(p,C){'undefined'==typeof m[p]&&y(p,C)};m.isValid=function(){return 0<m.getErrors().count()?
!1:!0};m.setErrors=function(p){if(!p)return{};for(var C in m)if('object'==typeof m[C]){for(var D in m[C])'object'==typeof p[C]&&'undefined'!=typeof p[C][D]&&('undefined'!=typeof m[C].valid&&/^true$/i.test(m[C].valid)?delete p[C][D]:('undefined'==typeof m[C].errors&&(m[C].errors={}),m[C].errors[D]=p[C][D]));('undefined'==typeof m[C].errors&&'undefined'!=typeof p[C]||'undefined'!=typeof m[C].errors&&0==m[C].errors.count()&&'undefined'!=typeof p[C])&&delete p[C]}return p};m.getErrors=function(p){var C=
{};if('undefined'!=typeof p)return'undefined'!=typeof m[p]&&m[p]&&'undefined'!=typeof m[p].errors&&0<m[p].errors.count()&&(C[p]=m[p].errors),C;for(var D in m)'object'==typeof m[D]&&'undefined'!=typeof m[D].errors&&0<m[D].errors.count()&&(C[D]=m[D].errors);return C};m.toData=function(){if(0<Y.excluded.length)for(var p=0,C=Y.excluded.length;p<C;++p)'undefined'!=typeof Y.data[Y.excluded[p]]&&delete Y.data[Y.excluded[p]];return Y.data};var F=function(p,C){var D=p.match(/%[a-z]+/gi);if(D)for(var N=0,u=
D.length;N<u;++N)p=p.replace(new RegExp(D[N],'g'),C[Y.keys[D[N]]]);return p};m.setErrorLabels=function(p){'undefined'!=typeof p&&(Y.errorLabels=V(p,Y.errorLabels))};return m}'undefined'!==typeof module&&module.exports?module.exports=FormValidatorUtil:'function'===typeof define&&define.amd&&define('utils/form-validator',[],function(){return FormValidatorUtil});
function Routing(){var E='undefined'!==typeof module&&module.exports?!1:!0,R={allowedMethods:['get','post','put','delete'],reservedParams:['controle','file','title','namespace','path'],notFound:{}};R.allowedMethodsString=R.allowedMethods.join(',');var da=null,Ga=null,L=null;E?(Ga&&'function'==typeof Ga||(Ga=require('utils/merge')),L&&'function'==typeof L||(L=require('utils/form-validator'))):(require('fs'),require('util'),require('../../inherits'),Ga=require('../../merge'),da=require(__dirname+'/../../../core/plugins')||
getContext('gina').plugins,L=da.Validator);R.getUrlProps=function(m,U){var x={};if(E){var ma=window.gina.config;x.hostname=ma.hostname;'undefined'!=typeof m&&(m=routing.getRoute('webroot@'+m),x.hostname=m.hostname,x.host=m.host,x.webroot=m.webroot)}else ma=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(ma.getRouting=getContext('gina').Config.instance.getRouting),'undefined'==typeof m&&(m=ma.bundle),'undefined'==typeof U&&(U=ma.env),x.hostname=ma.envConf[m][U].hostname,
x.host=ma.envConf[m][U].host,x.webroot=ma.envConf[m][U].server.webroot;return x};R.compareUrls=async function(m,U,x,ma,Da){'undefined'==typeof x&&(x={routing:{}});if(/,/.test(U)){var S=0;U=U.split(/,/g);for(var I=U.length,y={past:!1,request:x};S<I&&!y.past;)y=await V(m,U[S],x,ma,Da),++S;return y}return await V(m,U,x,ma,Da)};var V=async function(m,U,x,ma,Da){var S=m.url.split(/\//);U=U.split(/\//);var I=0,y=0,F=U.length,p=0,C={},D=0,N=x.method.toLowerCase(),u=m.method.toLowerCase(),r=!1;if('undefined'!=
typeof m.requirements&&/get|delete/i.test(N)&&'undefined'!=typeof x[N]||'undefined'!=typeof m.requirements&&/get/i.test(N)&&/delete/i.test(u)){/get/i.test(N)&&/delete/i.test(u)&&(N=u);if(/^(delete)$/i.test(N)&&S.length===U.length){'undefined'==typeof x[N]&&(x[N]={});for(let A=0,O=U.length;A<O;A++)if(S[A]===U[A])++p;else if(u=U[A].substr(1),'undefined'!=typeof m.requirements[u]){u=m.requirements[u];if(/^\//.test(u))u=u.substr(1,u.lastIndexOf('/')-1);else if(/^validator::/.test(u)&&await oa(U[A],S[A],
m,x,ma,Da)){++p;continue}/^:/.test(U[A])&&'undefined'!=typeof u&&(new RegExp(u)).test(S[A])&&(++p,x[N][U[A].substr(1)]=S[A])}r=!0}for(var G in x[N])'undefined'!=typeof m.requirements[G]&&0>U.indexOf(':'+G)&&(U[y]=':'+G,++y,S[I]=x[N][G],++I,r||S.length!==U.length||++F)}if(!r&&S.length===U.length)for(;D<F;++D)S[D]===U[D]?++p:p==D&&/:/.test(U[D])&&await oa(U[D],S[D],m,x,ma,Da)&&++p;if('undefined'!=typeof m.requirements&&N==m.method.toLowerCase()&&!r&&p>=F)for(G=Object.getOwnPropertyNames(m.requirements),
I=0,U.join(',').match(/:[-_a-z0-9]+/g);I<G.length;){y=G[I];if('undefined'==typeof m.param[y]&&/^validator::/i.test(m.requirements[y])){if(U.length!=S.length)break;var K=U.join(',').match(/:[-_a-z0-9]+/g);let A=m.requirements[y];D={};u={};r={};try{u=JSON.parse(A.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(O){throw O;}if('undefined'!=typeof u.query&&'undefined'!=typeof u.query.data){D=u.query.data;for(let O in D)0>K.indexOf(D[O])&&delete D[O];
for(let O=0,T=U.length;O<T;O++)/^:/.test(U[O])&&(K=U[O].replace(/^:/,''),''!=K&&'undefined'!=typeof S[O]&&(D[K]=S[O],'undefined'==typeof x.params[K]&&(x.params[K]=S[O])))}D=Ga(D,JSON.clone(x[N])||{});'undefined'==typeof D[y]&&(D[y]=null);r[y]=u;_validator=E?new L(D):new L('routing',D,null,r);if(0==u.count()){console.error('Route validation failed '+m.rule);--p;I++;continue}for(let O in u)if('undefined'!=typeof u[O].data&&(u[O].data=D),r=Array.isArray(u[O])?await _validator[y][O].apply(_validator[y],
u[O]):await _validator[y][O](u[O],x,ma,Da),!r.isValid&&(--p,'undefined'!=typeof r.error))throw r.error;}I++}C.past=p===F?!0:!1;C.past&&(x.routing=Y(m,x[N]),C.request=x);return C},oa=async function(m,U,x,ma,Da,S){var I=-1,y=m.match(/:\w+/g);I=new RegExp(m,'g');var F=null,p=null,C=null;F=!1;var D=F=p=p=null,N=null,u=ma.method.toLowerCase();if(!y.length)return!1;x.param.path&&I.test(x.param.path)&&(x.param.path=x.param.path.replace(I,U));x.param.namespace&&I.test(x.param.namespace)&&(x.param.namespace=
x.param.namespace.replace(I,U));'undefined'!=typeof x.param.file&&/:/.test(x.param.file)&&(F=new RegExp('(:'+m+'/|:'+m+'$)','g'),W.variable=U,x.param.file=x.param.file.replace(F,W));x.param.title&&I.test(x.param.title)&&(x.param.title=x.param.title.replace(I,U));if(1==y.length){F=new RegExp(y[0]);I=-1<y.indexOf(m)?y.indexOf(m):!1;!1===I&&m.match(F)&&(I=0);if(!1===I)return I;if(x.method.toLowerCase()!==u)return!1;'undefined'==typeof ma[u]&&(ma[u]={});C=y[I].substr(1);I=x.requirements[C];if(/^\//.test(I))F=
I.match(/\/(.*)\//).pop(),p=I.replace('/'+F+'/',''),F=(new RegExp(F,p)).test(U);else if(/^validator::/.test(I)&&U){p={};F={};D={};N='';m.replace(new RegExp('[^'+C+']','g'),function(O){N+=O});p[C]=U.replace(new RegExp(N,'g'),'');try{F=JSON.parse(I.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(O){throw O;}'undefined'!=typeof F.query&&'undefined'!=typeof F.query.data&&m==F.query.data[Object.keys(F.query.data)[0]]&&(F.query.data[Object.keys(F.query.data)[0]]=
p[C],ma.params[C]=p[C]);D[C]=F;p=new L('routing',p,null,D);if(0==F.count())return console.error('Route validation failed '+x.rule),!1;for(var r in F)Array.isArray(F[r])?await p[C][r].apply(p[C],F[r]):await p[C][r](F[r],ma,Da,S);F=p.isValid()}else F=(new RegExp(x.requirements[C])).test(U);if('undefined'!=typeof x.param[C]&&'undefined'!=typeof x.requirements&&'undefined'!=typeof x.requirements[C]&&'undefined'!=typeof ma.params&&F)return ma.params[C]=U,'undefined'==typeof ma[u][C]&&(ma[u][C]=U),!0}else{Da=
x.url;S=ma.url;u={};D='';var G=!1,K=0;r=0;for(var A=S.length;r<A;++r)if(S.charAt(r)!=Da.charAt(K)||G){if(''==D)G=!0,D+=S.charAt(r);else if(r>Da.indexOf(y[0])+y[0].length){I=x.requirements[y[0]];U=D.substr(0,D.length);if(/^\//.test(I))F=I.match(/\/(.*)\//).pop(),p=I.replace('/'+F+'/',''),F=(new RegExp(F,p)).test(U);else if(/^validator::/.test(I)){p={};F={};D={};N='';m.replace(new RegExp('[^'+C[0]+']','g'),function(O){N+=O});p[C[0]]=U.replace(new RegExp(N,'g'),'');F=JSON.parse(I.split(/::/).splice(1)[0].replace(/([^\W+ true false])+(\w+)/g,
'"$&"'));D[C[0]]=F;p=new L('routing',p,null,D);for(let O in F)if(Array.isArray(F[O]))p[C[0]][O].apply(p[C[0]],F[O]);else p[C[0]][O](F[O]);F=p.isValid()}else F=(new RegExp(x.requirements[C[0]])).test(U);if(F)u[y[0].substr(1)]=U;else return!1;D='';G=!1;K=Da.indexOf(y[0])+y[0].length;--r;y.splice(0,1)}else D+=S.charAt(r),++K;if(r==A-1)if(I=x.requirements[y[0]],U=D.substr(0,D.length),/^\//.test(I)?(F=I.match(/\/(.*)\//).pop(),p=I.replace('/'+F+'/',''),F=(new RegExp(F,p)).test(U)):F=(new RegExp(x.requirements[C])).test(U),
F)u[y[0].substr(1)]=U;else return!1}else++K;if(u.count()==y.length){C=null;for(C in u)ma.params[C]=u[C];return!0}}return!1},W=function(m){return/\/$/.test(m)?W.variable+'/':W.variable},Y=function(m,U){var x=null,ma,Da=m.url,S=null;for(S in m.param)if(('undefined'==typeof U||'undefined'!=typeof U[S])&&/^:/.test(m.param[S])){var I=m.param[S].substr(1);if('undefined'!=typeof U&&'undefined'!=typeof U[I]){var y=new RegExp('(:'+I+'/|:'+I+'$)','g');'undefined'!=typeof m.param.path&&/:/.test(m.param.path)&&
(m.param.path=m.param.path.replace(y,U[I]));'undefined'!=typeof m.param.title&&/:/.test(m.param.title)&&(m.param.title=m.param.title.replace(y,U[I]));'undefined'!=typeof m.param.namespace&&/:/.test(m.param.namespace)&&(m.param.namespace=m.param.namespace.replace(y,U[I]));'undefined'!=typeof m.param.file&&/:/.test(m.param.file)&&(W.variable=U[I],m.param.file=m.param.file.replace(y,W));if(/,/.test(m.url)){x=m.url.split(/,/g);var F=0;for(ma=x.length;F<ma;++F)W.variable=U[I],x[F]=x[F].replace(y,W);m.url=
x.join(',')}else W.variable=U[I],m.url=m.url.replace(y,W)}}if(x){F=0;ma=x.length;Da=Da.split(/,/g);var p=0;for(m.urlIndex=0;F<ma;++F)if(x=0,y=Da[0].match(/:[-_a-z0-9]+/ig)){S=0;for(I=y.length;S<I;S++){var C=y[S].substr(1);'undefined'!=typeof U[C]&&U[C]&&x++}x>p&&(p=x,m.urlIndex=F)}}return m};R.getRoute=function(m,U,x){var ma=null;E?ma=window.gina.config:(ma=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(ma.getRouting=getContext('gina').Config.instance.getRouting));var Da=
ma.env||GINA_ENV,S=null,I=ma.bundle;/@/.test(m)||'undefined'==typeof I||null==I||(m=m.toLowerCase(),m+='@'+I);if(/@/.test(m)){var y=m.replace(/(.*):\/\//,'').split(/@/);I=y[1];/\/(.*)$/.test(m)&&(S=m.replace(/(.*):\/\//,'').split(/\/(.*)$/)[1],I=I.replace(/\/(.*)$/,''),Da=S||Da);m=y[0].toLowerCase()+'@'+I}S=ma.getRouting(I,Da);if('undefined'==typeof S[m])throw Error('[ RoutingHelper::getRouting(rule, params) ] : `'+m+'` not found !');ma=JSON.clone(S[m]);I=null;ma=Y(ma,U);/,/.test(ma.url)&&('undefined'!=
typeof ma.urlIndex&&(x=ma.urlIndex,delete ma.urlIndex),x='undefined'!=typeof x?x:0,ma.url=ma.url.split(/,/g)[x]);/\/$/.test(ma.url)&&'/'!=ma.url&&(ma.url=ma.url.substr(0,ma.url.length-1));if(/GET/i.test(ma.method)&&'undefined'!=typeof U){x='?';S=S[m].url;for(let F in ma.param)-1<R.reservedParams.indexOf(F)||(new RegExp(ma.param[F])).test(S)||'undefined'!=typeof U[F]&&(x+=F+'='+encodeURIComponent(U[F])+'&');1<x.length&&(x=x.substring(0,x.length-1),ma.url+=x)}ma.toUrl=function(F){var p=null;/^redirect$/i.test(this.param.control)&&
(p=R.getUrlProps(this.bundle,Da||GINA_ENV));var C=this.webroot||p.webroot;p=this.hostname||p.hostname;var D=this.url;this.url='undefined'!=typeof F&&1==F?D.replace(C,'/'):D;return p+this.url};ma.request=function(F,p){var C=null,D=null;'function'==typeof arguments[arguments.length-1]&&(C=arguments[arguments.length-1]);'object'==typeof arguments[2]&&(D=arguments[2]);var N=this.webroot||D.webroot,u=this.hostname||D.hostname;D='undefined'!=typeof F&&1==F?path.replace(N,'/'):this.url||D.url;u=/^https/.test(u)?
'https':'http';E?window.open(D,'undefined'!=typeof p&&'undefined'!=typeof p.target?p.target:'_self'):('undefined'==typeof p.agent&&(p.agent=!1),u=require(''+u),N=function(r){var G='',K=!1;r.on('data',function(A){G+=A});r.on('error',function(A){K='Failed to get mail content';A&&'undefined'!=typeof A.stack?K+=A.stack:'string'==typeof A&&(K+='\n'+A)});r.on('end',function(){if(/^\{/.test(G))try{G=JSON.parse(G),'undefined'!=typeof G.error&&(K=JSON.clone(G),G=null)}catch(A){K=A}K?C(K):C(!1,G)})},C?u.get(D,
p,N):u.get(D,p))};/:/.test(ma.url)&&(U=ma.url.match(/(:(.*)\/|:(.*)$)/g).map(function(F){return F.replace(/\//g,'')}).join(', '),I='[ RoutingHelper::getRoute(rule[, bundle, method]) ] : route [ %r ] param placeholder not defined: `'+ma.url+'` !\n Check your route description to compare requirements against param variables [ '+U+']',I=I.replace(/%r/,m),console.warn(Error(I)));return ma};R.getRouteByUrl=function(m,U,x,ma,Da){2==arguments.length&&'undefined'!=typeof arguments[1]&&-1<R.allowedMethods.indexOf(arguments[1].toLowerCase())&&
(x=arguments[1],U=void 0);var S=null,I=null,y=null,F=null,p=null,C=null;if(/#/.test(m)&&1<m.length){var D=m.split(/#/);m=D[0];p='#'+D[1];D=null}1==arguments.length&&'undefined'!=typeof arguments[0]&&(/^(https|http)/i.test(m)||/^\//.test(m)||(m='/'+m),S='/'+m.split(/\//g)[1],E&&(F=gina.config.reverseRouting,y=gina.config.routing),'undefined'!=typeof F[S]&&(D=y[F[S]],U=D.bundle,S=D.webroot,C=D.hostname,D=null));Da='boolean'!=typeof arguments[arguments.length-1]?!1:arguments[arguments.length-1];var N=
!1,u=null,r=null,G=u=r=null;D='undefined'!=typeof x?!0:!1;E?(u=window.gina.config,U='undefined'!=typeof U?U:u.bundle,r=u.env,y=y||u.getRouting(U),F=F||u.reverseRouting,isXMLRequest='undefined'!=typeof isXMLRequest?isXMLRequest:!1,C=C||u.hostname,S=S||u.webroot,ma={routing:{},method:x,params:{},url:m}):(u=getContext('gina').config,U='undefined'!=typeof U?U:u.bundle,r=u.env,y=u.getRouting(U),C=u.envConf[U][r].hostname,S=u.envConf[U][r].server.webroot,ma||={routing:{},isXMLRequest:!1,method:'undefined'!=
typeof x?x.toLowerCase():'get',params:{},url:m},Da&&(ma.method=x),isXMLRequest=ma.isXMLRequest||!1);r=m.replace(new RegExp('^('+C+'|'+C.replace(/:\d+/,'')+')'),'');'undefined'==typeof ma.routing.path&&(ma.routing.path=unescape(r));x='undefined'!=typeof x?x.toLowerCase():'get';D&&(ma.originalMethod=ma.method,ma.method=x,ma.routing.path=unescape(r));ma.method||(ma.method=x);u={};S=new RegExp(x,'i');F=null;var K;for(K in y){if('undefined'==typeof y[K].param)break;if(y[K].bundle==U&&(F=y[K].method,/,/.test(F)&&
S.test(F)&&(F=ma.method),'undefined'==typeof y[K].method||S.test(F))){u={method:F,requirements:y[K].requirements,namespace:y[K].namespace||void 0,url:unescape(r),rule:y[K].originalRule||K,param:y[K].param,middleware:JSON.clone(y[K].middleware),bundle:y[K].bundle,isXMLRequest};try{if(G=R.compareUrls(u,y[K].url,ma),G.past){I=JSON.clone(y[K]);I.name=K;N=!0;G={};break}}catch(A){throw Error('Route [ '+K+' ] needs your attention.\n'+A.stack);}}}if(N)return/\/$/.test(m)&&'/'!=m&&(m=m.substr(0,m.length-1)),
p&&(m+=p),I.url=m,I.toUrl=function(A){var O=this.webroot,T=this.hostname,sa=this.url;this.url='undefined'!=typeof A&&1==A?sa.replace(O,'/'):sa;return T+this.url},I;if(E){p=!1;if('#'==m&&/GET/i.test(x)&&D||/^404:/.test(m))m=location.pathname,p=!0;'undefined'==typeof R.notFound&&(R.notFound={});y=null;I='[ RoutingHelper::getRouteByUrl(rule[, bundle, method]) ] : route [ %r ] is called but not found inside your view: `'+m+'` !';if((y=(y=gina.hasPopinHandler&&gina.popinIsBinded?gina.popin.getActivePopin().target.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/):
document.body.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/))&&0<y.length?y[0]:null)&&D&&p)return p=y.match(/\[\w+\]/)[0],y=y.replace('404:'+p,p.replace(/\[|\]/g,'')+'::'),I=I.replace(/%r/,y.replace(/404:\s+/,'')),'undefined'==typeof R.notFound[y]?R.notFound[y]={count:1,message:I}:D&&'undefined'!=typeof R.notFound[y]&&++R.notFound[y].count,!1;if((p=gina.config.reverseRouting[m]||null)&&'undefined'!=typeof p&&p.split(/@(.+)$/)[1]==U)return y=p,'undefined'==typeof R.notFound[y]?(I=I.replace(/%r/,x.toUpperCase()+
'::'+p),R.notFound[y]={count:1,message:I}):D&&'undefined'!=typeof R.notFound[y]&&++R.notFound[y].count,!1;y=R.compareUrls(u,m,ma)||null;y.past&&D&&(y=x.toUpperCase()+'::'+y.request.routing.rule,'undefined'==typeof R.notFound[y]?I=I.replace(/%r/,y):++R.notFound[y].count);return!1}console.warn(Error('[ RoutingHelper::getRouteByUrl(rule[, bundle, method, request]) ] : route not found for url: `'+m+'` !').stack);return!1};return R}
'undefined'!==typeof module&&module.exports?module.exports=Routing():'function'===typeof define&&define.amd&&define('utils/routing',['require','utils/form-validator','utils/merge'],function(){return Routing()});
function StoragePlugin(E){function R(I){U=JSON.parse(Y.getItem(this.bucket));'undefined'==typeof U[I]&&(U[I]=[],Y.setItem(this.bucket,JSON.stringify(U)),U=JSON.parse(Y.getItem(this.bucket)));m[I]={_collection:I,_bucket:this.bucket};m[I]=Ga(m[I],Da);return m[I]}function da(I){if('object'!==typeof I)throw Error('filter must be an object');var y=U[this._collection],F=I.count(),p=0,C=null;if(0==F)return null;for(var D in y)for(var N in I){var u='boolean'!=typeof I[N]?I[N].toLocaleLowerCase():I[N];I[N]&&
-1<x.indexOf(u)&&'not null'==u&&'undefined'!=typeof y[D][N]&&'object'!==typeof y[D][N]&&y[D][N]===I[N]&&'null'!=y[D][N]&&'undefined'!=y[D][N]?0>C.indexOf(y[D][N])&&(++p,p===F&&(C=y[D],C._index=D,C._collection=this._collection,C._bucket=this._bucket)):'undefined'!=typeof y[D][N]&&'object'!==typeof y[D][N]&&y[D][N]===I[N]&&(++p,p===F&&(C=y[D],C._index=D,C._collection=this._collection,C._bucket=this._bucket,C._filter=I))}C&&(C.save=S);return C}var Ga=Ga||require('utils/merge');R=R||require('utils/collection');
var L=L||require('vendor/uuid'),V=V||require('helpers/dateFormat'),oa={bucket:'default'},W={},Y=null,m={},U={},x=['not null'],ma={bucket:void 0,drop:function(){Y.removeItem(oa.bucket);W=null;for(var I in this)delete this[I];return W},Collection:R},Da={insert:function(I){I._id=L.v1();I._createdAt=(new Date).format('isoDateTime');I._updatedAt=(new Date).format('isoDateTime');U[this._collection][U[this._collection].length]=I;Y.setItem(this._bucket,JSON.stringify(U))},find:function(I,y){if(!I)return U[this._collection];
if('object'!==typeof I)throw Error('filter must be an object');y=U[this._collection];I.count();var F=0,p=[],C;for(C in y)for(var D in I){var N='boolean'!=typeof I[D]?I[D].toLocaleLowerCase():I[D];I[D]&&-1<x.indexOf(N)&&'not null'==N&&'undefined'!=typeof y[C][D]&&'object'!==typeof y[C][D]&&'null'!=y[C][D]&&'undefined'!=y[C][D]?0>p.indexOf(y[C][D])&&(p[F]=y[C][D],++F):'undefined'!=typeof y[C][D]&&'object'!==typeof y[C][D]&&y[C][D]===I[D]&&(p[F]=y[C],++F)}return p},findOne:da,update:null,'delete':function(I){if('object'!==
typeof I)throw Error('filter must be an object');var y=JSON.clone(U[this._collection]),F=0,p=[],C;for(C in y)for(var D in I)I[D]&&-1<x.indexOf(I[D].toLocaleLowerCase())&&'not null'==I[D].toLowerCase()&&'undefined'!=typeof y[C][D]&&'object'!==typeof y[C][D]&&'null'!=y[C][D]&&'undefined'!=y[C][D]?0>p.indexOf(y[C][D])&&(p[F]=y[C][D],delete U[this._collection][C][D],++F):'undefined'!=typeof y[C][D]&&'object'!==typeof y[C][D]&&y[C][D]===I[D]&&(p[F]=y[C],U[this._collection].splice(C,1),++F);return 0<p.length?
(Y.setItem(this._bucket,JSON.stringify(U)),!0):!1},drop:function(I){if('undefined'==typeof U[this._collection])throw Error('Collection `'+I+'` not found');delete m[this._collection];delete U[this._collection];Y.setItem(this._bucket,JSON.stringify(U))}},S=function(I){I=I||!1;try{var y=JSON.clone(U),F=this._index,p=this._collection,C=this._bucket,D=this._filter;this._updatedAt=(new Date).format('isoDateTime');Ga(y[p][F],this,!0);delete y[p][F]._index;delete y[p][F]._collection;delete y[p][F]._bucket;
delete y[p][F].save;delete y[p][F]._filter;if(I&&'object'==typeof y[p][F]){var N=function(r,G){for(var K=0,A=r.length;K<A;++K)'object'!=typeof G[K]||'undefined'==typeof r[K]||Array.isArray(r[K])?Array.isArray(r[K])?N(r[K],G[K]):'undefined'==typeof r[K]&&delete G[K]:u(r[K],G[K]);return G},u=function(r,G){for(var K in G)'object'!=typeof G[K]||'undefined'==typeof r[K]||Array.isArray(r[K])?Array.isArray(r[K])?N(r[K],G[K]):'undefined'==typeof r[K]&&delete G[K]:u(r[K],G[K]);return G};Array.isArray(y[p][F])?
y[p][F]=N(this,y[p][F]):'object'==typeof y[p][F]?y[p][F]=u(this,y[p][F]):'undefined'==typeof this[prop]&&delete y[p][F]}U[p][F]=y[p][F];Y.setItem(C,JSON.stringify(U));return da(D)}catch(r){throw r;}};(function(I){if(!window.localStorage||window.localStorage&&'undefined'==!typeof window.localStorage.setItem)throw Error('Make sure your browser supports `window.localStorage` to use Gina Storage. See: `https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Browser_compatibility`');if('object'!=
typeof I&&'undefined'!=typeof I)throw Error('`options` must be an object');'undefined'==typeof I&&(I={});oa=Ga(I,oa);Y=window.localStorage;I=oa.bucket;if(!Y.getItem(I)&&void 0!=I)Y.setItem(I,JSON.stringify(U));else if(void 0==I)throw Error('`bucket` name cannot be undefined');W.bucket=I;W=Ga(W,ma)})(E);return W}
if('undefined'!==typeof module&&module.exports){var merge=require('utils/merge');Collection=require('utils/collection');var uuid=require('uuid');module.exports=StoragePlugin}else'function'===typeof define&&define.amd&&define('gina/storage',['helpers/dateFormat','helpers/prototypes'],function(){return StoragePlugin});function insertAfter(E,R){E.parentNode.insertBefore(R,E.nextSibling)}
function getElementsByAttribute(E){for(var R=[],da=0,Ga=document.getElementsByTagName('*'),L=0,V=Ga.length;L<V;++L)null!==Ga[L].getAttribute(E)&&(R[da]=Ga[L],++da);return R}
(function(E){var R=E.prototype,da=R.parseFromString;try{if((new E).parseFromString('','text/html'))return}catch(Ga){}R.parseFromString=function(Ga,L){if(/^\s*text\/html\s*(?:;|$)/i.test(L)){var V=document.implementation.createHTMLDocument('');-1<Ga.toLowerCase().indexOf('<!doctype')?V.documentElement.innerHTML=Ga:V.body.innerHTML=Ga;return V}return da.apply(this,arguments)}})(DOMParser);define('utils/dom',function(){});
function ValidatorPlugin(E,R,da){this.plugin='validator';var Ga='init ready registered success error progress submit reset change changed keydown keyup focusout focusin validate validated destroy asyncCompleted'.split(' '),L='undefined'!==typeof module&&module.exports?!1:!0,V=null;L?(require('utils/events'),registerEvents(this.plugin,Ga),require('utils/dom'),require('utils/effects'),V=gina.config.envIsDev):(V=/^true$/i.test(process.env.NODE_ENV_IS_DEV)?!0:!1)&&delete require.cache[require.resolve('./form-validator')];
var oa=L?require('vendor/uuid'):require('uuid'),W=L?require('utils/merge'):require('../../../../../lib/merge'),Y=L?require('utils/inherits'):require('../../../../../lib/inherits'),m=L?require('utils/form-validator'):require('./form-validator'),U=L?require('utils/routing'):require('../../../../../lib/routing'),x={id:'validator-'+oa.v4(),plugin:this.plugin,on:L?on:null,eventData:{},target:L?document:null,errors:{},initialized:!1,isReady:!1,rules:{},$forms:{},getFormById:null,validateFormById:null,setOptions:null,
resetErrorsDisplay:null,resetFields:null},ma={id:null,plugin:this.plugin,on:L?on:null,eventData:{},target:L?document:null,cachedErrors:{},binded:!1,unbinded:!1,withUserBindings:!1,rules:{},setOptions:null,send:null,isValidating:null,isSubmitting:null,submit:null,destroy:null,resetErrorsDisplay:null,resetFields:null},Da={},S={},I=null,y={url:'',method:'GET',isSynchrone:!1,withCredentials:!1,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}},
F=function(e,b,h){h='undefined'!=typeof h?{id:h}:null;var n={},w;for(w in b)n[w]=b[w];if('undefined'!=typeof e&&0<e.count()){try{Sa(e,''),Ca(e)}catch(q){throw q;}return M(h,n,null,x.rules)}return new m(n)},p=function(e){y=e=W(e,y)},C=function(e){var b=null;if(!x.$forms)throw Error('`$forms` collection not found');if('undefined'==typeof e)throw Error('[ FormValidator::getFormById(formId) ] `formId` is missing');e=e.replace(/#/,'');if(null!=document.getElementById(e)&&'undefined'==typeof x.$forms[e]){var h=
document.getElementById(e),n,w=typeof(0<Da.count())?Da:x.rules;h.getAttribute?(id=h.getAttribute('id')||'form.'+oa.v4(),id!==h.getAttribute('id')&&h.setAttribute('id',id)):(id='form.'+oa.v4(),h.setAttribute('id',id));h.id=ma.id=id;if('undefined'!=typeof h.id&&'null'!=h.id&&''!=h.id){ma.target=h;x.$forms[h.id]=W({},ma);if(n=h.getAttribute('data-gina-form-rule')){n=n.replace(/\-|\//g,'.');if('undefined'==typeof w[n])throw Error('['+h.id+'] no rule found with key: `null`');n=w[n]}'string'==typeof h.id&&
'undefined'!=typeof w[h.id.replace(/\-/g,'.')]?$target=x.$forms[h.id].target:'object'==typeof h.id?(delete x.$forms[h.id],w=h.attributes.getNamedItem('id').nodeValue||'form.'+oa.v4(),h.setAttribute('id',w),h.id=w,ma.target=h,x.$forms[w]=W({},ma),$target=x.$forms[w].target):$target=x.$forms[h.id].target;n?Gb($target,n):Gb($target)}}'undefined'!=typeof x.$forms[e]&&(x.$forms[e].withUserBindings=!0,b='undefined'!=typeof this.$forms&&'undefined'==typeof this.$forms[e]?this.$forms[e]=x.$forms[e]:x.$forms[e]);
if(!b)throw Error('Validator::getFormById(...) exception: could not retrieve form `'+e+'`');b.binded||(Gb(b.target),b=x.$forms[e]);V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),h={id:e,rules:x.$forms[e].rules},'undefined'!=typeof x.$forms[e].errors&&(h.errors=x.$forms[e].errors),window.ginaToolbar.update('forms',h));return b},D=function(){var e=!1,b=null;gina.hasPopinHandler&&gina.popinIsBinded&&(b=gina.popin.getActivePopin());b&&b.isOpen&&
(e=!0);return e},N=function(e,b){var h=typeof(0<Da.count())?Da:x.rules;if(!x.$forms)throw Error('`$forms` collection not found');if('undefined'!=typeof e&&'undefined'!=typeof x.$forms[e])return x.$forms[e];if('undefined'==typeof e)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)e=this.id;else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `formId` is missing');if('string'==typeof e)e=e.replace(/#/,'');else{if('object'!=typeof e||Array.isArray(e))throw Error('[ FormValidator::validateFormById(formId[, customRule]) ] `formId` should be a `string`');
var n=e.form;e=n.getAttribute('id')||'form.'+oa.v4();n.setAttribute('id',e)}var w=document.getElementsByTagName('form');for(var q={},z=0,X=w.length;z<X;++z)n=w[z].getAttribute('id')||null,'undefined'==typeof q[n]?q[n]=!0:'undefined'==typeof x.$forms[n]||x.$forms[n].warned||(gina.popinIsBinded?console.warn('Popin/Validator::bindForm($target, customRule): `'+n+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.\n Check inside your popin content'):console.warn('Validator::bindForm($target, customRule): `'+
n+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.'),x.$forms[n].warned=!0);if('undefined'!=typeof this.$forms&&'undefined'!=typeof x.$forms[e])w=this.$forms[e]=x.$forms[e];else{n=document.getElementById(e);ma.id=e;ma.target=n;w=this.$forms[e]=x.$forms[e]=W({},ma);if('undefined'==typeof b)if(q=e.replace(/\-/g,'.'),'undefined'!=typeof h)w.rule=Pa(q);else{if('undefined'!=typeof w.target&&null!==w.target&&w.target.getAttribute('data-gina-form-rule'))if(q=w.target.getAttribute('data-gina-form-rule').replace(/\-|\//g,
'.'),'undefined'!=typeof h)w.rule=Pa(q);else throw Error('[ FormValidator::validateFormById(formId) ] using `data-gina-form-rule` on form `'+w.target+'`: no matching rule found');}else if(q=b.replace(/\-|\//g,'.'),'undefined'!=typeof h)w.rule=Pa(q);else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+b+'` is not a valid rule');n&&'undefined'!=typeof this.isPopinContext&&/true/i.test(this.isPopinContext)&&(n.isPopinContext=this.isPopinContext);n&&!w.binded&&Gb(n,q)}if(!w)throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+
e+'` not found');return w||null},u=function(e){var b=e.form.getAttribute('id');if(!/^true$/i.test(x.$forms[b].isValidating)){var h=e.parentNode;e=!1;b=h.getElementsByTagName('div');/form\-item\-warning/.test(h.className)?h.className=h.className.replace(/form\-item\-warning/,'form-item-error'):/form\-item\-error/.test(h.className)&&(h.className=h.className.replace(/form\-item\-error/,'form-item-warning'),e=!0);h=0;for(var n=b.length;h<n;++h)if(/form\-item\-error\-message/.test(b[h].className)){b[h].className=
e?b[h].className+' hidden':b[h].className.replace(/(\s+hidden|hidden)/,'');break}}},r={},G=function(e,b,h,n){if(V)var w=null;var q=!1;if('undefined'!=typeof e.dataset.ginaFormIsResetting&&/^(true)$/i.test(e.dataset.ginaFormIsResetting))b={},r={},e.dataset.ginaFormIsResetting=!1;else if(/^(true)$/i.test(e.dataset.ginaFormLiveCheckEnabled)&&'undefined'!=typeof n){var z='string'!=typeof e.id?e.getAttribute('id'):e.id;'undefined'==typeof r[z]&&(r[z]={});if(0<b.count()){if(r[z][n]={},r[z][n]=W(b[n],r[z][n]),
0==r[z][n].count()&&delete r[z][n],b=r[z],!x.$forms[z].sent||x.$forms[z].isValidating)q=!0}else'undefined'!=typeof r[z][n]&&(delete r[z][n],'undefined'!=typeof window.gina.validator.$forms[z].errors&&'undefined'!=typeof window.gina.validator.$forms[z].errors[n]&&delete window.gina.validator.$forms[z].errors[n]),'undefined'!=typeof x.$forms&&'undefined'!=typeof x.$forms[z]&&'undefined'!=typeof x.$forms[z].errors&&0==x.$forms[z].errors.count()&&Yb(e,!0),'undefined'!=typeof r[z]&&0==r[z].count()?delete r[z]:
b=r[z]}var X=null;z=e.getAttribute('id');h='undefined'!=typeof h?h:{};for(var P=0,ba=e.length;P<ba;++P){var Q=e[P];if('undefined'==typeof n||n==Q.name){if(/form\-item\-wrapper$/.test(Q.parentNode.className)){var v=Q.parentNode.parentNode;var fa=Q.parentNode}else v=Q.parentNode,fa=Q;var ta=Q.getAttribute('name');var ka=Q.getAttribute('data-gina-form-errors');if(ta){if('undefined'!=typeof b[ta]&&!/(form\-item\-error|form\-item\-warning)/.test(v.className)){v.className=q?v.className+(''==v.className?
'form-item-warning':' form-item-warning'):v.className+(''==v.className?'form-item-error':' form-item-error');X=document.createElement('div');X.className=q?'form-item-error-message hidden':'form-item-error-message';for(var ia in b[ta])'stack'!=ia&&(v=document.createElement('p'),v.appendChild(document.createTextNode(b[ta][ia])),X.appendChild(v)),V&&(w||={},w[ta]||(w[ta]={}),w[ta][ia]=b[ta][ia]);'hidden'!=fa.type&&insertAfter(fa,X)}else if('undefined'==typeof b[ta]&&/(form\-item\-error|form\-item\-warning)/.test(v.className)||
'undefined'!=typeof b[ta]&&0==b[ta].count()&&/(form\-item\-error|form\-item\-warning)/.test(v.className)){ta=v.getElementsByTagName('div');fa=0;for(ka=ta.length;fa<ka;++fa)if(/form\-item\-error\-message/.test(ta[fa].className)){ta[fa].parentElement.removeChild(ta[fa]);break}v.className=v.className.replace(/(\s+form\-item\-error|form\-item\-error|\s+form\-item\-warning|form\-item\-warning)/,'')}else if('undefined'!=typeof b[ta]&&ka){v=v.getElementsByTagName('div');ka=0;for(var Ba=v.length;ka<Ba;++ka)if('form-item-error-message'==
v[ka].className){v[ka].parentElement.removeChild(v[ka]);X=document.createElement('div');X.setAttribute('class','form-item-error-message');for(ia in b[ta])v=document.createElement('p'),v.appendChild(document.createTextNode(b[ta][ia])),X.appendChild(v),V&&(w||={},w[ta]||(w[ta]={}),w[ta][ia]=b[ta][ia]);break}X&&'hidden'!=fa.type&&insertAfter(fa,X)}if('undefined'!=typeof n&&n===Q.name)break}}}w?(triggerEvent(gina,e,'error.'+z,b),V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||
(gina.forms.errors={}),e={id:z,errors:w},window.ginaToolbar.update('forms',e))):V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),e={id:z,errors:{}},L&&window.ginaToolbar.update('forms',e));if(gina&&L&&V&&x.$forms[z].isSubmitting&&/^true$/i.test(x.$forms[z].isSubmitting)&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&h)try{window.ginaToolbar.update('data-xhr',h)}catch(ya){throw ya;}},K=function(e){var b=null;'undefined'==typeof e&&
'undefined'!=typeof this.id&&(e=this.id);/^string$/i.test(typeof e)?(b=e.replace(/#/,''),b=document.getElementById(b)):e instanceof HTMLFormElement?b=e:/^object$/i.test(typeof e)&&(b=e.target);if(!b)throw Error('[ FormValidator::resetErrorsDisplay([ formId | <form> ]) ] `'+e+'` not found');b.dataset.ginaFormIsResetting=!0;G(b,{});return b},A=function(e){if('undefined'==typeof e){var b='undefined'!=typeof this.target?this.target.getAttribute('id'):this.getAttribute('id');e=x.$forms[b]}else if('string'==
typeof e){b=e.replace(/#/,'');if('undefined'==typeof x.$forms[b])throw Error('[ FormValidator::resetErrorsDisplay([formId]) ] `'+e+'` not found');e=x.$forms[b]}if(e.fieldsSet){var h;for(h in e.fieldsSet){b=document.getElementById(h);var n=b.tagName.toLowerCase();var w=b.tagName;/textarea/i.test(w)?(w=e.fieldsSet[h].defaultValue,b.value=w,triggerEvent(gina,b,'change')):'input'==n?(w=e.fieldsSet[h].defaultValue,/$(on|true|false)$/i.test(w)&&(w=/$(on|true)$/i.test(w)?!0:!1),/^(checkbox|radio)$/i.test(b.type)?
b.checked=e.fieldsSet[h].defaultChecked:/^(checkbox|radio)$/i.test(b.type)||(b.value=w),triggerEvent(gina,b,'change')):'select'==n&&(w=e.fieldsSet[h].selectedIndex||0,b.selectedIndex=w,b.dataset.value=b.options[b.selectedIndex].value,triggerEvent(gina,b,'change'))}}return e},O=function(){var e=null,b=null;'undefined'!=typeof this.getAttribute?(e=this.getAttribute('id'),b=this):'undefined'!=typeof this.target&&null!=this.target&&'undefined'!=typeof this.target.getAttribute&&(e=this.target.getAttribute('id'),
b=this.target);if('undefined'==typeof x.$forms[e])throw Error('[ FormValidator::submit() ] not `$form` binded. Use `FormValidator::getFormById(id)` or `FormValidator::validateFormById(id)` first ');triggerEvent(gina,b,'submit');return this},T=function(e,b){var h=this.target,n=h.getAttribute('id'),w=x.$forms[n]||this,q=null,z=null,X=null,P=null;if(!('undefined'!=typeof w.isSending&&/^true$/i.test(w.isSending)||'undefined'!=typeof w.sent&&/^true$/i.test(w.sent))){x.$forms[n].isSending=!0;b='undefined'!=
typeof b?W(b,y):y;'undefined'!=typeof w.id&&(b.headers['X-Gina-Form-Id']=w.id,'undefined'!=typeof gina.forms.rules&&0<w.rules.count()&&'undefined'!=typeof w.rules[w.id]&&(b.headers['X-Gina-Form-Rule']=w.id+'@'+gina.config.bundle));'undefined'!=typeof w.target.dataset.ginaFormRule&&(b.headers['X-Gina-Form-Rule']=w.target.dataset.ginaFormRule+'@'+gina.config.bundle);(P=h.getAttribute('data-gina-form-event-on-submit-success')||h.getAttribute('data-gina-form-event-on-submit-error')?!0:!1)&&wa(w);var ba=
h.getAttribute('action')||b.url,Q=h.getAttribute('method')||b.method;Q=Q.toUpperCase();b.method=Q;b.url=ba;I||=setupXhr(b);ba=h.getAttribute('enctype')||b.headers['Content-Type'];if(b.withCredentials){if('withCredentials'in I)b.isSynchrone?I.open(b.method,b.url,b.isSynchrone):I.open(b.method,b.url);else if('undefined'!=typeof XDomainRequest)I=new XDomainRequest,I.open(b.method,b.url);else{I=null;q='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,
h,'error.'+n,q);return}I.responseType='undefined'!=typeof b.responseType?b.responseType:'';I.withCredentials=!0}else b.isSynchrone?I.open(b.method,b.url,b.isSynchrone):I.open(b.method,b.url);for(var v in b.headers)'Content-Type'==v&&'undefined'!=typeof ba&&null!=ba&&''!=ba||I.setRequestHeader(v,b.headers[v]);if(I){I.onreadystatechange=function(ya){w.isSubmitting=!1;w.isSending=!1;setTimeout(function(){w.sent=!1},1E3);ya=/Google Inc/i.test(navigator.vendor)?50:0;2==I.readyState&&(X=/^attachment;/.test(I.getResponseHeader('Content-Disposition'))?
!0:!1,!I.responseType&&X&&(I.responseType='blob'));if(4==I.readyState){var Ya=null,Ta=I.getResponseHeader('Content-Type');if(/^2/.test(I.status)){try{if(/blob/.test(I.responseType)||X){if('undefined'==typeof Ta||null==Ta)Ta='application/octet-stream';Ya=new Blob([this.response],{type:Ta});var ob=document.createElement('a');ob.style='display: none';document.body.appendChild(ob);var wb=window.URL.createObjectURL(Ya);ob.href=wb;var Kb=I.getResponseHeader('Content-Disposition');ob.download=Kb.match('=(.*)')[0].substr(1);
ob.click();window.URL.revokeObjectURL(wb);q={status:I.status,statusText:I.statusText,responseType:Ya.type,type:Ya.type,size:Ya.size}}else q=I.responseText;/\/json/.test(Ta)&&(q=JSON.parse(I.responseText),'undefined'==typeof q.status&&(q.status=I.status));if(/\/html/.test(Ta)&&(q={contentType:Ta,content:I.responseText},'undefined'==typeof q.status&&(q.status=I.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler)){var eb=gina.popin.getActivePopin();if(eb){z={};try{z=(new DOMParser).parseFromString(q.content,
'text/html').getElementById('gina-without-layout-xhr-data'),z=JSON.parse(decodeURIComponent(z.value)),XHRView=(new DOMParser).parseFromString(q.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&V&&typeof window.ginaToolbar&&'undefined'!=typeof z&&window.ginaToolbar.update('data-xhr',z),gina&&V&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(Z){throw Z;}eb.loadContent(q.content);
q=z;triggerEvent(gina,h,'success.'+n,q);return}}z=w.eventData.success=q;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&z)try{V&&'undefined'!=typeof z&&/\/html|\/json/.test(Ta)&&window.ginaToolbar.update('data-xhr',z)}catch(Z){throw Z;}/^gina\-upload/i.test(n)&&sa(gina,h,'success',n,q);var yb=!1;'undefined'!=typeof q.isXhrRedirect&&/^true$/i.test(q.isXhrRedirect)&&(yb=!0);if('undefined'!=typeof gina.popin&&gina.hasPopinHandler&&'undefined'!=typeof q.popin||'undefined'!=typeof gina.popin&&
gina.hasPopinHandler&&'undefined'!=typeof q.location&&yb){eb=gina.popin.getActivePopin();if(!eb&&'undefined'!=typeof q.popin){if('undefined'!=typeof q.popin&&'undefined'==typeof q.popin.name)throw Error('To get a `$popin` instance, you need at list a `popin.name`.');eb=gina.popin.getPopinByName(q.popin.name);if(!eb)throw Error('Popin with name: `'+q.popin.name+'` not found.');}if('undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.close){eb.isRedirecting=!1;eb.close();var Vb=q.popin.reload?q.popin.reload:
!1;q.popin.location||q.popin.url||(delete q.popin,Vb&&(q.popin={reload:Vb}))}if('undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.location||'undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.url||'undefined'!=typeof q.location&&yb){yb=null;eb&&(yb=eb.name,eb.isRedirecting=!0);'undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.target&&(q.popin.target='_'+q.popin.target);var Wa=q.location||q.popin.location||q.popin.url;if('undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.name&&
yb!=q.popin.name){eb&&eb.close();yb=q.popin.name;eb=gina.popin.getPopinByName(yb);if(!eb)throw Error('Popin with name `'+yb+'` not found !');eb.load(eb.name,Wa,eb.options)}else eb&&eb.load(eb.name,Wa,eb.options);if(eb)return setTimeout(function(Z){Z.isOpen||Z.open()},50,eb)}}triggerEvent(gina,h,'success.'+n,q);P&&triggerEvent(gina,h,'success.'+n+'.hform',q)}catch(Z){q={status:422,error:Z.message,stack:Z.stack};z=w.eventData.error=q;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&
z)try{V&&'undefined'!=typeof z&&window.ginaToolbar.update('data-xhr',z)}catch(ha){throw ha;}/^gina\-upload/i.test(n)&&sa(gina,h,'error',n,q);triggerEvent(gina,h,'error.'+n,q);P&&triggerEvent(gina,h,'error.'+n+'.hform',q)}if('undefined'!=typeof q&&'undefined'!=typeof q.location)return window.location.hash='',q.location=/^http/.test(q.location)||/^\//.test(q.location)?q.location:location.protocol+'//'+q.location,setTimeout(()=>{window.location.href=q.location},ya)}else if(0!=I.status)if(q={status:I.status},
/blob/.test(I.responseType)){Ya=new Blob([this.response],{type:'text/plain'});var fb=new FileReader,ea='';fb.addEventListener('loadend',Z=>{/string/i.test(typeof Z.srcElement.result)?ea+=Z.srcElement.result:'object'==typeof Z.srcElement.result?q=W(q,Z.srcElement.result):q.message+=Z.srcElement.result;if(/2/.test(fb.readyState)){if(/^(\{|\[)/.test(ea))try{q=W(q,JSON.parse(ea))}catch(ha){q=W(q,ha)}q.message||delete q.message;z=w.eventData.error=q;if(gina&&V&&'undefined'!=typeof window.ginaToolbar&&
window.ginaToolbar&&z)try{window.ginaToolbar.update('data-xhr',z)}catch(ha){throw ha;}/^gina\-upload/i.test(n)&&sa(gina,h,'error',n,q);triggerEvent(gina,h,'error.'+n,q);P&&triggerEvent(gina,h,'error.'+n+'.hform',q)}});fb.readAsText(Ya)}else{if(/^(\{|\[)/.test(I.responseText))try{q=W(JSON.parse(I.responseText),q)}catch(Z){q=W(Z,q)}else'object'==typeof I.responseText?q=W(I.responseText,q):q.message=I.responseText;if('undefined'!=typeof q&&'undefined'!=typeof q.error&&q.fields&&'object'==typeof q.fields){eb=
'undefined'!=typeof q.message?q.message:null;Wa={};for(yb in q.fields)ya={},ya[yb]={},ya[yb].isApiError=q.fields[yb],eb&&!ya[yb].isApiError&&(ya[yb].isApiError=q.error),Wa[yb]=ya[yb],G(w.target,ya,e,yb);q.fields=Wa}z=w.eventData.error=q;if(gina&&V&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&z)try{window.ginaToolbar.update('data-xhr',z)}catch(Z){throw Z;}/^gina\-upload/i.test(n)&&sa(gina,h,'error',n,q);triggerEvent(gina,h,'error.'+n,q);P&&triggerEvent(gina,h,'error.'+n+'.hform',q)}}};
I.onprogress=function(ya){var Ya='0';ya.lengthComputable&&(Ya=ya.loaded/ya.total,Ya=parseInt(100*Ya));ya={status:100,progress:Ya};w.eventData.onprogress=ya;triggerEvent(gina,h,'progress.'+n,ya)};I.ontimeout=function(ya){q={status:408,error:'Request Timeout'};w.eventData.ontimeout=q;/^gina\-upload/i.test(n)&&sa(gina,h,'error',n,q);triggerEvent(gina,h,'error.'+n,q);P&&triggerEvent(gina,h,'error.'+n+'.hform',q)};e||(e=event.detail.data);if(e){b=!1;if('object'==typeof e){v=[];Q=0;var fa={};try{if(e instanceof
FormData){var ta=event.currentTarget.getAttribute('data-gina-form-upload-group')||'untagged',ka,ia;for([ka,ia]of e.entries())ia instanceof File?(b||=!0,v[Q]={key:ka,group:ta,file:ia,bin:''},++Q):fa[ka]=ia}else e=JSON.stringify(e);if(b&&0<v.length){var Ba='--ginaWKBoundary'+oa.v4().replace(/\-/g,'');return Ea(v,Ba,'',0,function(ya,Ya,Ta){if(ya)/^gina\-upload/i.test(n)&&sa(gina,h,'error',n,ya),triggerEvent(gina,h,'error.'+n,ya),P&&triggerEvent(gina,h,'error.'+n+'.hform',ya);else return Ta&&(I.setRequestHeader('Content-Type',
'multipart/form-data; boundary='+Ba),I.send(Ya),w.sent=!0,V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),window.ginaToolbar.update('forms',{id:n,sent:Ya}))),!1})}'undefined'!=typeof fa&&0<fa.count()&&(e=JSON.stringify(fa))}catch(ya){/^gina\-upload/i.test(n)&&sa(gina,h,'error',n,ya),triggerEvent(gina,h,'error.'+n,ya),P&&triggerEvent(gina,h,'error.'+n+'.hform',ya)}}b||('undefined'!=typeof ba&&null!=ba&&''!=ba&&I.setRequestHeader('Content-Type',
ba),I.send(e))}else'undefined'!=typeof ba&&null!=ba&&''!=ba&&I.setRequestHeader('Content-Type',ba),I.send();w.sent=!0;V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),ta={id:n,sent:'string'==typeof e?JSON.parse(e):e},window.ginaToolbar.update('forms',ta))}}},sa=function(e,b,h,n,w){e=b.uploadProperties||null;if(!e)throw Error('No uploadProperties found !!');b=document.getElementById(e.uploadTriggerId);n=null;var q=w.files||[],z=null;e.hasPreviewContainer&&
(n=document.getElementById(e.previewContainer.id))&&(n.innerHTML='');e.errorField&&(z=document.getElementById(e.errorField));z&&(z.style.display='none');if(z&&'success'!=h){var X=w.message||w.error;z.innerHTML='<p>'+X+'</p>';fadeIn(z)}else if(z||'success'==h)for(h=0,w=q.length;h<w;++h){var P=n.id.replace(/\-preview/,'-'+h+'-reset-trigger');X=!1;z=document.getElementById(P);var ba=['reset','js-upload-reset'];z?(/a/i.test(z.tagName)&&(z.href='#'),z.innerHTML&&''!=z.innerHTML||(z.innerHTML=b.getAttribute('data-gina-form-upload-reset-label')||
'Reset'),'undefined'==typeof z.className&&(z.className=''),P=W(z.className.split(/\s+/g),ba),z.className=P.join(' ')):(X=!0,z=document.createElement('A'),z.href='#',z.innerHTML=b.getAttribute('data-gina-form-upload-reset-label')||'Reset',z.className=ba.join(' '),z.id=P);z.style.display='none';if('undefined'==typeof q[h].preview&&e.hasPreviewContainer&&/^image/.test(q[h].mime)&&''!=q[h].location){P=document.createElement('IMG');P.src=q[h].tmpUri;P.style.display='none';P.setAttribute('data-upload-original-filename',
q[h].originalFilename);P.setAttribute('data-upload-reset-link-id',z.id);ba=n.getAttribute('data-preview-max-width')||null;if(P.width&&ba&&P.width>ba){var Q=P.width/ba;P.width=ba;P.height/=Q}else!P.width&&ba&&(P.width=ba);/ul/i.test(e.previewContainer.tagName)?(ba=document.createElement('LI'),ba.className='item',ba.appendChild(P),n.appendChild(ba)):n.appendChild(P);fadeIn(P)}P=e.uploadFields[h];for(var v in P)if('name'==v&&''!=P[v].value||!q[h][v]||'preview'==v&&'undefined'==typeof q[h][v]||/(height|width)/i.test(v)&&
!/^image/.test(q[h].mime))/(preview|height|width)/i.test(v)&&(ba=document.getElementById(P[v].id))&&ba.parentNode.removeChild(ba);else if(P[v].value=q[h][v],'preview'==v)for(var fa in q[h][v])if('undefined'!=typeof q[h][v][fa]&&'undefined'!=typeof P[v][fa]&&(P[v][fa].value=q[h][v][fa]),'tmpUri'==fa&&e.hasPreviewContainer){Q=document.createElement('IMG');Q.src=q[h][v].tmpUri;Q.style.display='none';Q.setAttribute('data-upload-original-filename',q[h].originalFilename);Q.setAttribute('data-upload-preview-original-filename',
q[h][v].originalFilename);Q.setAttribute('data-upload-reset-link-id',z.id);if(ba=n.getAttribute('data-preview-max-width')||null)Q.width=ba;/ul/i.test(e.previewContainer.tagName)?(ba=document.createElement('LI'),ba.className='item',ba.appendChild(Q),n.appendChild(ba)):n.appendChild(Q);fadeIn(Q)}e.hasPreviewContainer&&(/ul/i.test(e.previewContainer.tagName)?(ba=document.createElement('LI'),ba.className='item',X&&ba.appendChild(z),n.appendChild(ba)):X&&n.appendChild(z));Eb('reset',b,h);fadeIn(z)}else throw Error(X);
},qa=function(e,b){console.debug(b+' input files');var h=/reset/i.test(b)?!0:!1,n=null,w=null,q=document.getElementById(e.id+'-preview').childNodes,z=null,X=e.customFiles,P=[];for(let ba=0,Q=q.length;ba<Q;ba++)if(/img/i.test(q[ba].tagName)){h?(n=q[ba].getAttribute('data-upload-original-filename'),P.push(n),(w=q[ba].getAttribute('data-upload-preview-original-filename'))&&P.push(w)):(n=q[ba].src.substr(q[ba].src.lastIndexOf('/')+1),P.push(n));for(let v=0,fa=X.length;v<fa;v++)if(X[v].name==n){z=h?document.getElementById(q[ba].getAttribute('data-upload-'+
b+'-link-id')):document.getElementById(X[v].deleteLinkId);z.style.display='none';q[ba].style.display='none';X.splice(v,1);e.customFiles=X;h&&(e.value=X.join(', C:\\fakepath\\'));n=new RegExp('^'+(e.name+'['+v+']').replace(/\-|\[|\]|\./g,'\\$&'));for(let ka=0,ia=e.form.length;ka<ia;ka++)if(w=e.form[ka].dataset.ginaFormUploadIsLocked||!1,n.test(e.form[ka].name)&&!/true/i.test(w)&&(e.form[ka].remove(),ia--,ka--,gina&&V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar))try{window.ginaToolbar.update('data-xhr',
{files:X})}catch(Ba){throw Ba;}w=e.getAttribute('data-gina-form-upload-'+b+'-action');if(!w||'undefined'==typeof w||''==w||/404/.test(w))throw Error('input file `'+e.id+'` error: `data-gina-form-upload-'+b+'-action` is required. You need to provide a valide url.');(n=e.getAttribute('data-gina-form-upload-'+b+'-method'))&&'undefined'!=typeof n&&''!=n?n=n.toUpperCase():h?n='POST':(n=1<P.length?'POST':'DELETE',console.warn('`data-gina-form-upload-'+b+'-method` was not defined. Switching to `'+n+'` by default.'));
let ta=e.getAttribute('data-gina-form-upload-'+b+'-is-synchrone');if(/null/i.test(ta)||'undefined'==typeof n||''==n)ta=!0;w=setupXhr({url:w,method:n,isSynchrone:ta,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}});/GET|DELETE/i.test(n)?w.send():w.send(JSON.stringify({files:P}));if(/none/i.test(window.getComputedStyle(e).display)){if(/none/i.test(e.parentElement.style.display)){e.parentElement.style.display='block';return}e.style.display=
'block'}removeListener(gina,$uploadResetTrigger,'click',function(){z.remove();q[ba].remove()});Q--;ba--;break}}},Ea=function(e,b,h,n,w){var q=new FileReader;q.addEventListener('load',function(z){z.preventDefault();try{var X=this.result,P=void 0;z='';var ba=null;'undefined'==typeof P&&(P=8);var Q=P/8;switch(P){case 8:ba=new Uint8Array(X);break;case 16:ba=new Uint16Array(X);break;case 32:ba=new Uint32Array(X);break;default:ba=new Uint8Array(X)}var v=ba.length,fa=Math.pow(2,8)+Q;X=0;for(Q=P=null;X<v;X+=
fa)P=Math.min(fa,v-X),Q=ba.subarray(X,X+P),z+=String.fromCharCode.apply(null,Q);e[this.index].bin+=z;e[this.index].file.type||(e[this.index].file.type='application/octet-stream')}catch(ta){return w(ta,null,!0)}h+='--'+b+'\r\n';h+='Content-Disposition: form-data; name="'+e[this.index].key+'"; group="'+e[this.index].group+'"; filename="'+e[this.index].file.name+'"\r\nContent-Type: '+e[this.index].file.type+'\r\nContent-Length: '+e[this.index].bin.length+'\r\n\r\n';h+=e[this.index].bin+'\r\n';++this.index;
this.index==e.length?(h+='--'+b+'--',w(!1,h,!0)):Ea(e,b,h,this.index,w)},!1);q.index=n;e[n].bin='';q.readAsArrayBuffer(e[n].file)},wa=function(e){var b=e.target.getAttribute('data-gina-form-event-on-submit-success')||null;if(null!=b)if(/\((.*)\)/.test(b))eval(b);else e.on('success.hform',window[b]);b=e.target.getAttribute('data-gina-form-event-on-submit-error')||null;if(null!=b)if(/\((.*)\)/.test(b))eval(b);else e.on('error.hform',window[b])},za=function(e){var b=null,h=e;if(!x.$forms)throw Error('`$forms` collection not found');
if('undefined'==typeof h)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)h=this.id;else throw Error('[ FormValidator::destroy(formId) ] `formId` is missing');if('string'==typeof h)h=h.replace(/#/,'');else{if('object'!=typeof h||Array.isArray(h))throw Error('[ FormValidator::destroy(formId) ] `formId` should be a `string`');e=h.form;h=e.getAttribute('id')||'form.'+oa.v4();e.setAttribute('id',h)}'undefined'!=typeof x.$forms[h]?b=x.$forms[h]:'undefined'!=typeof this.binded&&(b=this);if(b)addListener(gina,
b.target,'destroy.'+h,function(n){cancelEvent(n);delete x.$forms[h];removeListener(gina,n.currentTarget,n.type);removeListener(gina,n.currentTarget,'destroy')}),b=Fb(b),triggerEvent(gina,b.target,'destroy.'+h);else throw Error('[ FormValidator::destroy(formId) ] `'+h+'` not found');},pa=function(e){e='undefined'!=typeof e?e:x.rules;for(let n in e){var b=Object.getOwnPropertyNames(e[n]),h=0;let w=b.length,q=!1,z=null;for(;h<w;){if(/^_case_/.test(b[h])){q=!0;z=b[h];break}h++}q||'object'!=typeof e[n]||
pa(e[n]);if(z&&Array.isArray(e[n][z].conditions)&&0<e[n][z].conditions.length)for(b=0,h=e[n][z].conditions.length;b<h;)'undefined'!=typeof e[n][z].conditions[b].rules&&0==e[n][z].conditions[b].rules.count()&&(e[n][z].conditions.splice(b,1),h--,b--),b++}},Ca=function(e){var b=JSON.stringify(e),h=b.match(/("@import\s+[-_a-z A-Z 0-9/.]+")/g)||[],n=[];for(let X=0,P=h.length;X<P;X++)0>n.indexOf(h[X])&&n.push(h[X]);h=n;n=b.match(/("_merging(.*))(\s+:|:)(.*)(",|")/g);x.rules||(x.rules={});if(h&&0<h.length){e=
{};for(let X=0,P=h.length;X<P;++X){var w=h[X].replace(/(@import\s+|"|')/g,'');var q=w.replace(/(@import\s+|"|')/g,'').split(/\s/g);for(let ba=0,Q=q.length;ba<Q;++ba){var z=q[ba].replace(/\//g,'.').replace(/\-/g,'.');'undefined'!=typeof x.rules[z]?(z=JSON.stringify(x.rules[z]),z=JSON.parse(z),z._comment='undefined'!=typeof z._comment?z._comment+'\n':'',z._comment+='Imported from `'+w+'`',z=JSON.stringify(z),b=b.replace(new RegExp(h[X],'g'),z),x.rules=JSON.parse(JSON.stringify(x.rules).replace(new RegExp(h[X],
'g'),'{}'))):console.warn('[formValidator:rules] <@import error> on `'+h[X]+'`: rule `'+q[ba]+'` not found. Ignoring.')}q=new RegExp(h[X]);if(w=n&&q.test(n.join())?!0:!1)for(let ba=0,Q=n.length;ba<Q;ba++)if(q.test(n[ba])){w=JSON.stringify(e);w=w.substr(1,w.length-1);ba<Q-1&&(w+=',');try{b=b.replace(new RegExp(n[ba],'g'),w),x.rules=JSON.parse(JSON.stringify(x.rules).replace(new RegExp(n[ba],'g'),'{}'))}catch(v){throw v;}}e={}}e=JSON.parse(b);Sa(e,'');try{pa()}catch(X){console.error(X.stack)}}return e},
Ra=function(e){gina.hasValidator?(x=W(x,gina.validator),x.on('init',function(b){x.isReady=!0;triggerEvent(gina,x.target,'ready.'+x.id,x)})):(x.target=document,x.setOptions=p,x.getFormById=C,x.validateFormById=N,x.resetErrorsDisplay=K,x.resetFields=A,x.handleErrorsDisplay=G,x.send=T,x.on('init',function(b){if('undefined'!=typeof e&&e.count())try{Sa(e,''),e=Ca(e),gina.forms.rules='undefined'!=typeof gina.forms.rules&&gina.forms.rules?W(gina.forms.rules,e,!0):e,x.rules=W(x.rules,JSON.clone(gina.forms.rules),
!0)}catch(X){throw X;}Da.count()||(Da=JSON.clone(x.rules));ma.setOptions=p;ma.getFormById=C;ma.validateFormById=N;ma.resetErrorsDisplay=K;ma.resetFields=A;ma.handleErrorsDisplay=G;ma.submit=O;ma.send=T;ma.unbind=Fb;ma.bind=Gb;ma.reBind=xb;ma.destroy=za;b=0;for(var h=document.getElementsByTagName('form'),n=0,w=h.length;n<w;++n){if(h[n].getAttribute){var q=h[n].getAttribute('id')||'form.'+oa.v4();q!==h[n].getAttribute('id')&&h[n].setAttribute('id',q)}else q='form.'+oa.v4(),h[n].setAttribute('id',q);
ma.id=q;ma.target=h[n];x.$forms[q]=W({},ma);var z=h[n].getAttribute('data-gina-form-rule');if(z){z=z.replace(/\-|\//g,'.');'undefined'!=typeof e&&(x.$forms[q].rules[z]=x.rules[z]=Da[z]=W(JSON.clone(eval('gina.forms.rules.'+z)),x.rules[z]));if('undefined'==typeof Da[z])throw Error('['+q+'] no rule found with key: `'+z+'`. Please check if json is not malformed @ /forms/rules/'+z.replace(/\./g,'/')+'.json');z=x.rules[z]}'string'==typeof q&&'undefined'!=typeof Da[q.replace(/\-/g,'.')]||'object'==typeof z?
(q=x.$forms[q].target,z?Gb(q,z):Gb(q),++b):('object'==typeof h[n].id?(delete x.$forms[h[n].id],q=h[n].attributes.getNamedItem('id').nodeValue||'form.'+oa.v4(),h[n].setAttribute('id',q),h[n].id=q,ma.target=h[n],x.$forms[q]=W({},ma),q=x.$forms[q].target):q=x.$forms[h[n].id].target,z?Gb(q,z):Gb(q))}if(window.XMLHttpRequest)I=new XMLHttpRequest;else if(window.ActiveXObject)try{I=new ActiveXObject('Msxml2.XMLHTTP')}catch(X){try{I=new ActiveXObject('Microsoft.XMLHTTP')}catch(P){}}x.isReady=!0;gina.hasValidator=
!0;gina.validator=x;triggerEvent(gina,x.target,'ready.'+x.id,x)}));x.initialized=!0;return x},Sa=function(e,b){var h;for(h in e)if('object'==typeof e[h]&&'undefined'==typeof x.rules[b+h]){var n=h;/\[|\]/.test(h)&&(n=h.replace(/\[/g,'.').replace(/\]/g,''));x.rules[b+n]=e[h];Sa(e[h],b+n+'.')}},Pa=function(e){if('undefined'!=typeof Da[e])return Da[e];var b=null;if('undefined'==typeof x.rules[e]){if(Sa(Da,''),Da=Ca(Da),b=Da[e],!b)return{}}else b=x.rules[e];b=JSON.clone(b);var h=new RegExp('^'+e),n=new RegExp('^'+
e+'.'),w=null,q=function(X,P,ba,Q,v,fa,ta){if(P.length){var ka=Object.getOwnPropertyNames(X)[0],ia=P[0];ia=''==v?v+=ia:v+'['+ia+']';1==P.length&&(X[ka]=W(X[ka],ba,!0));P.splice(0,1);ia==ka?q(X[ka],P,ba,Q,ia,fa,ta):'undefined'!=typeof X[ka]?q(X[ka],P,ba,Q,ia,fa,ta):q(X,P,ba,Q,v,fa,ta)}},z;for(z in x.rules)z!=e&&h.test(z)&&(w=z.replace(n,''),/\./.test(w)&&(w=w.split(/\./g),q(b,w,x.rules[z],b,'',0,b.count()-1)));return Da[e]=b},zb=function(e,b,h,n,w,q,z){var X=window.gina._global;X.register({root:e||
null,obj:h||null,value:q||null,rootObj:z||null});if(w==n)return eval(root+'=value'),b=JSON.clone(rootObj),X.unregister(['root','obj','rootObj','value','valueType']),b;e=b[w].replace(/^\[|\]$/g,'');'undefined'!=typeof rootObj&&rootObj?root+=/^\d+$/.test(e)?'['+e+']':'["'+e+'"]':(rootObj={},root='rootObj',root+=/^\d+$/.test(e)?'['+e+']':'["'+e+'"]',eval(root+'=obj'));q=(h='undefined'!=typeof b[w+1]?b[w+1].replace(/^\[|\]$/g,''):null)&&parseInt(h)==h?[]:{};X.register({valueType:q});h&&eval(root+' = valueType');
if('undefined'==typeof obj[e])return/^\d+$/.test(h)?obj[e]=[]:obj[e]={},++w,zb(root,b,obj[e],n,w,value,rootObj);++w;return zb(root,b,obj[e],n,w,value,rootObj)},Ia=function(e,b,h,n,w){if(w>=n)return!1;var q=h[w].replace(/^\[|\]$/g,''),z=w<n-1&&'undefined'!=typeof h[w+1]?h[w+1].replace(/^\[|\]$/g,''):null;'undefined'==typeof e[q]&&(z&&/^\d+$/.test(z)?(parseInt(z),e[q]=[]):e[q]={});Array.isArray(e[q])?(z=zb(q,h,e[q],h.length,1,b,null),e[q]=W(e[q],z)):w==n-1&&(e[q]=b);Ia(e[q],b,h,n,w+1)},La=function(e){var b=
null,h={},n=null,w=function(X,P,ba,Q,v){if(v==Q)return X;var fa=P?Object.keys(ba)[v]:v;/\[(.*)\]/.test(fa)?(n=fa,b=fa.match(/(\[[-_\[a-z 0-9]*\]\]|\[[-_\[a-z 0-9]*\])/ig),fa=fa.match(/^[-_a-z 0-9]+\[{0}/ig),'undefined'==typeof X[fa]&&(X[fa]=Array.isArray(ba[n])?[]:{}),Ia(h,ba[n],b,b.length,0),X[fa]=W(X[fa],h),h={}):X[fa]=ba[fa];++v;return w(X,P,ba,Q,v)},q='undefined'==typeof e?0:1,z=!1;Array.isArray(e)?q=e.length:'object'==typeof e&&(q=e.count(),z=!0);return w({},z,e,q,0)},Za=function(e){var b=x.$forms[e.form.getAttribute('id')],
h=/^true$/i.test(e.disabled)?!0:!1;h&&'undefined'!=typeof b.rule&&'undefined'!=typeof b.rule[e.name]&&'undefined'!=typeof b.rule[e.name].exclude&&/^false$/i.test(b.rule[e.name].exclude)&&(h=!1);if(/^(radio|text|hidden|password|number|date|email)$/i.test(e.type)&&!h){var n=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,'value'),w=n.set;n.set=function(q){Object.defineProperty(this,'value',{set:w});var z='change.'+this.id;q===this.value&&q===this.defaultValue||q===this.value||(this.value=
q,console.debug('Value set: '+q),'undefined'!=typeof gina.events[z]&&(console.debug('trigger event on: ',this.name,z),triggerEvent(gina,this,z,q)));Object.defineProperty(this,'value',n)};Object.defineProperty(e,'value',n)}},vb=function(e,b,h,n){'undefined'==typeof n&&(n=!1);var w=e.rules,q=x.$forms[b.form.getAttribute('id')],z=/^true$/i.test(b.disabled)?!0:!1;z&&'undefined'!=typeof q.rule&&'undefined'!=typeof q.rule[b.name]&&'undefined'!=typeof q.rule[b.name].exclude&&/^false$/i.test(q.rule[b.name].exclude)&&
(z=!1);if(/^(radio|checkbox|text|hidden|password|number|date|email)$/i.test(b.type)&&!z||n&&!z){n=b.name;q=w[n]||null;if(!q&&(Qa(w,b),'undefined'==typeof w[n]))return;if(e.target.dataset.ginaFormLiveCheckEnabled&&q&&(n=[],q=null,z=0,/^(radio|checkbox)$/i.test(b.type)?q=/^(radio|checkbox)$/i.test(b.type)?'changed.'+b.id:'change.'+b.id:(addEventListener(gina,b,'focusout.'+b.id,function(P){P.preventDefault();clearTimeout(h)}),q='change.'+b.id,'undefined'==typeof gina.events[q]&&(n[z]=q,++z),q='keyup.'+
b.id,'undefined'==typeof gina.events[q]&&(n[z]=q,++z),q='focusin.'+b.id,'undefined'==typeof gina.events[q]&&(n[z]=q,++z),q='focusout.'+b.id),'undefined'==typeof gina.events[q]&&(n[z]=q,++z),0<n.length)){var X=!1;addListener(gina,b,n,function(P){P.preventDefault();clearTimeout(h);if(!X&&/^changed\./i.test(P.type)||!X&&/^(radio|checkbox)$/i.test(P.target.type))X=!0;else if(X&&/^changed\./i.test(P.type)||X&&/^(radio|checkbox)$/i.test(P.target.type))return!1;if('undefined'!=typeof x.$forms[P.target.form.getAttribute('id')].isSubmitting&&
/true/i.test(x.$forms[P.target.form.getAttribute('id')].isSubmitting))return!1;var ba=function(){console.debug('processing: '+P.target.name+'/'+P.target.id);if(!/^(radio|checkbox)$/i.test(P.target.type)&&P.target.value===P.target.defaultValue&&''!=P.target.value){var Q=x.$forms[P.target.form.getAttribute('id')].errors;if(Q&&0!=Q.count())G(P.target.form,Q,null,P.target.name);else return G(P.target.form,{},null,P.target.name),cancelEvent(P)}Q={};var v={};Q[P.target.name]=P.target.value;v[P.target.name]=
P.target;x.$forms[P.target.form.getAttribute('id')].isValidating=!0;M(P.target,Q,v,e.rules,function(fa){x.$forms[P.target.form.getAttribute('id')].isValidating=!1;fa.isValid()?G(P.target.form,{},fa.data,P.target.name):G(P.target.form,fa.error,fa.data,P.target.name);var ta=P.target.form,ka=fa=null,ia=null;ka=Zb(ta,w);fa=ka.fields;ka=ka.$fields;var Ba=ta.getAttribute('id');ia=x.$forms[Ba].rules;x.$forms[Ba].isValidating=!0;M(ta,fa,ka,ia,function(ya){x.$forms[Ba].isValidating=!1;console.debug('['+Ba+
'] onSilentGlobalLiveValidation: '+ya.isValid(),ya);var Ya=ya.isValid();V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:Ba,errors:ya.error||{}}));Yb(ta,Ya);X=!1})})};if(/^changed\./i.test(P.type)||/^change\./i.test(P.type)&&'radio'==P.target.type)return function(Q,v){if(!(0<v))return++v,setTimeout(()=>{console.debug(' changed .... '+b.id);ba()},0)}(X,0);/^focusin\./i.test(P.type)?/\-error/.test(b.parentNode.className)&&
(console.debug('#1 you just focusin ....'+b.id,b.value),u(b)):/^focusout\./i.test(P.type)?/\-warning/.test(b.parentNode.className)&&(console.debug('#1 you just focusout ....'+b.id,b.value),u(b),G(b.form,x.$forms[b.form.getAttribute('id')].errors,null,b.name)):/^keyup\./i.test(P.type)?(b.ginaFormValidatorTestedValue=b.value,h=setTimeout(function(){-1<['91','17'].indexOf(''+P.keyCode)&&0==S.count()||(console.debug(' keyup ('+P.keyCode+') .... '+b.id,b.value,' VS ',b.ginaFormValidatorTestedValue+'(old)'),
ba())},1E3)):/^change\./i.test(P.type)&&!/^(checkbox)$/i.test(P.target.type)&&(console.debug(' change .... '+b.id),ba())})}}},cb=function(e,b){e.setSelectionRange?(e.focus(),e.setSelectionRange(b,b)):e.createTextRange&&(e=e.createTextRange(),e.collapse(!0),e.moveEnd('character',b),e.moveStart('character',b),e.select())},Xa=function(e,b){if(document.activeElement&&document.activeElement.form){e=Array.prototype.filter.call(document.activeElement.form.querySelectorAll('a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), select:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])'),
function(w){return 0<w.offsetWidth||0<w.offsetHeight||w===document.activeElement});var h=e.indexOf(document.activeElement);if(-1<h){var n=e[h+1];b&&(n=e[h-1]);(n||e[0]).focus()}}},Cb=function(e,b){e.setAttribute('readonly','readonly');addListener(gina,e,'focusout.'+e.id,function(h){h.preventDefault();clearTimeout(b);h=h.currentTarget;triggerEvent(gina,h,'change.'+h.id);h.setAttribute('readonly','readonly')});addListener(gina,e,'focusin.'+e.id,function(h){h.preventDefault();h.currentTarget.removeAttribute('readonly');
var n='keydown.'+h.currentTarget.id;'undefined'==typeof gina.events[n]&&addListener(gina,h.currentTarget,n,function(w){w.preventDefault();clearTimeout(b);var q=w.currentTarget,z=w.currentTarget.value,X=q.selectionStart,P=q.selectionEnd;q.removeAttribute('readonly');switch(w.keyCode){case 46:case 8:X!=P?(q.value=z.substr(0,X)+z.substr(P),0==X&&(q.value=z.substr(P))):q.value=0==X?z.substring(X+1):z.substr(0,X-1)+z.substr(P);w.currentTarget.setAttribute('readonly','readonly');setTimeout(()=>{q.removeAttribute('readonly');
setTimeout(()=>{X!=P?cb(q,X):0==X?cb(q,X):cb(q,X-1)},0)},0);break;case 9:S[16]&&S[9]?Xa(q,!0):Xa(q);break;case 13:case 16:break;case 37:console.debug('moving left ',X-1);cb(q,X-1);break;case 39:X+1<z.length+1&&cb(q,X+1);break;case 17:case 91:console.debug('CMD hit');w.preventDefault();break;case 67:if(S[67]&&S[91]||S[67]&&S[17]){q.setSelectionRange(X,P);document.execCommand('copy');break}case 86:if(S[86]&&S[91]||S[86]&&S[17]){X!=P&&(q.value=q.value.replace(z.substring(X,P),''));cb(q,X);document.execCommand('paste');
break}case 88:if(S[88]&&S[91]||S[88]&&S[17]){q.setSelectionRange(X,P);document.execCommand('cut');break}case 90:if(S[90]&&S[91]||S[90]&&S[17]){q.value=q.defaultValue;break}default:X!=P?(q.value=z.substr(0,X)+w.key,P-1<z.length&&(q.value+=z.substring(P))):q.value=0==X?w.key+z.substring(X):z.substr(0,X)+w.key+z.substr(P),w.currentTarget.setAttribute('readonly','readonly'),setTimeout(()=>{q.removeAttribute('readonly');setTimeout(()=>{cb(q,X+1)},0)},0)}})})},Db=function(e,b){if(/^(input|textarea)$/i.test(b.tagName)&&
'undefined'==typeof gina.events['registered.'+b.id]){/^file$/i.test(b.type)||Za(b);switch(b.tagName.toLowerCase()){case 'textarea':vb(e,b,null,!0);break;default:vb(e,b,null),e=b.getAttribute('autocomplete'),/safari/i.test(navigator.userAgent)&&e&&/^(off|false)/i.test(e)&&Cb(b,null)}gina.events['registered.'+b.id]=b.id}},Eb=function(e,b,h){var n=b.id+'-'+h+'-'+e+'-trigger',w=document.getElementById(n);w||(n=b.getAttribute('data-gina-form-upload--'+h+ +e+'-trigger'),w=document.getElementById(n));w&&
'undefined'==typeof w.isBinded||w&&'undefined'!=typeof w.isBinded&&!/true/i.test(w.isBinded)?(addListener(gina,w,'click',function(q){q.preventDefault();qa(b,e)}),w.isBinded=!0):console.warn('[FormValidator::bindForm][upload]['+b.id+'] : did not find `upload '+e+' trigger`.\nPlease, make sure that your delete element ID is `'+n+'-'+e+'-trigger`, or add to your file input ('+b.id+') -> `data-gina-form-upload-'+e+'-trigger="your-custom-id"` definition.')},ub=function(e,b){var h=function(n,w,q){var z=
null;switch(w){case 'data-gina-form-upload-action':z='upload-to-tmp-xml';break;case 'data-gina-form-upload-reset-action':z='upload-delete-from-tmp-xml'}var X=n.getAttribute(w);if(!X||''==X){z||console.warn('`'+w+'` definition not found for `'+n.id+'`. Trying to get default route.');var P=null;try{z&&(X=U.getRoute(z))}catch(ba){P=ba}X?(console.info('Ignore previous warnings regarding upload. I have found a default `'+w+'` route: `'+z+'@'+X.bundle+'`'),n.setAttribute('data-gina-form-upload-action',
X.toUrl())):(n='`'+w+'` needs to be defined to proceed for your `input[type=file]` with ID `'+n.id+'`\n'+P+'\n',q&&(q.innerHTML+=n.replace(/(\n|\r)/g,'<br>')),console.error(n))}};h(e,'data-gina-form-upload-action',b);h(e,'data-gina-form-upload-reset-action',b);h(e,'data-gina-form-upload-delete-action',b)},xb=function(e,b,h){e=Fb(e);Gb(e.target,b);return h?h(e):e},Fb=function(e){var b=null,h=null;try{if(e.getAttribute&&e.getAttribute('id'))if(h=e.getAttribute('id'),'undefined'!=typeof x.$forms[h])b=
x.$forms[h];else throw Error('form instance `'+h+'` not found');else if('undefined'!=typeof e.target)b=e,h=b.id;else throw Error('Validator::unbindForm($target): `$target` must be a DOM element\n'+err.stack);}catch(z){throw Error('Validator::unbindForm($target) could not unbind form `'+e+'`\n'+z.stack);}if('undefined'!=typeof b&&!b.binded)return b;removeListener(gina,b,'success.'+h);removeListener(gina,b,'error.'+h);b.target.getAttribute('data-gina-form-event-on-submit-success')&&removeListener(gina,
b,'success.'+h+'.hform');b.target.getAttribute('data-gina-form-event-on-submit-error')&&removeListener(gina,b,'error.'+h+'.hform');removeListener(gina,b,'validate.'+h);removeListener(gina,b,'validated.'+h);removeListener(gina,b,'submit.'+h);removeListener(gina,b,'reset.'+h);e=[];h=b.target.getElementsByTagName('button');if(0<h.length)for(let z=0,X=h.length;z<X;++z)e.push(h[z]);h=b.target.getElementsByTagName('a');if(0<h.length)for(let z=0,X=h.length;z<X;++z)e.push(h[z]);h=b.target.getElementsByTagName('input');
if(0<h.length)for(let z=0,X=h.length;z<X;++z)if(/^(hidden)$/i.test(h[z].type)||e.push(h[z]),/^(file)$/i.test(h[z].type)){var n=h[z].getAttribute('data-gina-form-virtual');if(n){var w=C(n).target;if(w){e.push(w);for(let P=0,ba=Ga.length;P<ba;P++){var q=Ga[P];'undefined'!=typeof gina.events[q+'.'+n+'.hform']&&gina.events[q+'.'+n+'.hform']==n&&removeListener(gina,w,q+'.'+n+'.hform')}}}}else for(let P=0,ba=Ga.length;P<ba;P++)n=Ga[P]+'.'+h[z].id,'undefined'!=typeof gina.events[n]&&gina.events[n]==h[z].id&&
removeListener(gina,h[z],n),n=Ga[P],'undefined'!=typeof gina.events[n]&&gina.events[n]==h[z].id&&removeListener(gina,h[z],n),n=h[z].id,'undefined'!=typeof gina.events[n]&&gina.events[n]==h[z].id&&removeListener(gina,h[z],n);h=b.target.getElementsByTagName('textarea');if(0<h.length)for(let z=0,X=h.length;z<X;++z)e.push(h[z]);h=b.target.getElementsByTagName('form');if(0<h.length)for(let z=0,X=h.length;z<X;++z)e.push(h[z]);e.push(b.target);for(let z=0,X=e.length;z<X;++z){h=e[z];n=h.getAttribute('id');
for(let P=0,ba=Ga.length;P<ba;P++)q=w=Ga[P],'undefined'!=typeof gina.events[q]&&gina.events[q]==n&&removeListener(gina,h,q),q=n,'undefined'!=typeof gina.events[q]&&gina.events[q]==n&&removeListener(gina,h,q),q=w+'.'+n,'undefined'!=typeof gina.events[q]&&gina.events[q]==n&&removeListener(gina,h,q),q=w+'.'+n,'undefined'!=typeof gina.events[q]&&gina.events[q]==q&&removeListener(gina,h,q),q=w+'.'+n+'.hform','undefined'!=typeof gina.events[q]&&gina.events[q]==n&&removeListener(gina,h,q)}evt=null;b.binded=
!1;return b},Qa=function(e,b){b=b.name;if(!e[b])for(let h in e)if(/^\//.test(h)&&(re=h.match(/\/(.*)\//).pop(),flags=h.replace('/'+re+'/',''),re=re.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),re=new RegExp(re,flags),re.test(b))){e[b]=e[h];break}},Gb=function(e,b){var h=null,n=null,w=typeof(0<Da.count())?Da:x.rules;try{if(e.getAttribute&&e.getAttribute('id'))if(n=e.getAttribute('id'),'undefined'!=typeof x.$forms[n])h=x.$forms[n];else throw Error('form instance `'+n+'` not found');else throw Error('Validator::bindForm($target, customRule): `$target` must be a DOM element\n'+
err.stack);}catch(ea){throw Error('Validator::bindForm($target, customRule) could not bind form `'+e+'`\n'+ea.stack);}if('undefined'!=typeof h&&h.binded)return!1;console.debug('binding for: '+n);var q=!1,z=null,X='',P=null;'undefined'!=typeof b||'string'==typeof n&&'undefined'!=typeof w[n.replace(/\-|\//g,'.')]?(q=!0,z=b&&'object'==typeof b?b:b&&'string'==typeof b&&'undefined'!=typeof w[b.replace(/\-|\//g,'.')]?Pa(b.replace(/\-|\//g,'.')):Pa(n.replace(/\-|\//g,'.')),h.rules=z,V&&L&&'undefined'!=typeof window.ginaToolbar&&
window.ginaToolbar&&(gina.forms.rules||(gina.forms.rules={}),objCallback={id:n,rules:h.rules},window.ginaToolbar.update('forms',objCallback))):h.rules={};'undefined'==typeof h.target.dataset.ginaFormLiveCheckEnabled&&0<h.rules.count()?h.target.dataset.ginaFormLiveCheckEnabled=!0:h.target.dataset.ginaFormLiveCheckEnabled='undefined'!=typeof h.target.dataset.ginaFormLiveCheckEnabled?/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)?!0:!1:!1;h.fieldsSet||(h.fieldsSet={});P=null;e.getElementsByTagName('a');
b=e.getElementsByTagName('input');var ba=e.getElementsByTagName('textarea');P=e.getElementsByTagName('select');var Q={},v=[],fa={},ta=null,ka={},ia=null,Ba=null;for(let ea=0,Z=ba.length;ea<Z;++ea)Qa(h.rules,ba[ea]),Ba=ba[ea].getAttribute('id'),Ba&&''!=Ba||(Ba='textareas.'+oa.v4(),ba[ea].setAttribute('id',Ba)),h.fieldsSet[Ba]||(h.fieldsSet[Ba]={id:Ba,name:ba[ea].name||null,value:ba[ea].value||'',defaultValue:ba[ea].value||''}),/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)&&Db(h,ba[ea]);
for(let ea=0,Z=b.length;ea<Z;++ea){Qa(h.rules,b[ea]);Ba=b[ea].getAttribute('id');Ba&&''!=Ba||(Ba='input.'+oa.v4(),b[ea].setAttribute('id',Ba));h.fieldsSet[Ba]||(ta=b[ea].value,/$(on|true|false)$/i.test(ta)&&(ta=/$(on|true)$/i.test(ta)?!0:!1),h.fieldsSet[Ba]={id:Ba,name:b[ea].name||null,value:ta||!/^(checkbox|radio)$/i.test(b[ea].type)?'':b[ea].checked,defaultValue:/^(checkbox|radio)$/i.test(b[ea].type)?b[ea].checked:ta},/^(checkbox|radio)$/i.test(b[ea].type)&&'undefined'==typeof h.fieldsSet[Ba].defaultChecked&&
(h.fieldsSet[Ba].defaultChecked=/^(true|on)$/i.test(b[ea].checked)||/^(true|on)$/.test(ta)&&/^(checkbox)$/i.test(b[ea].type)?!0:!1,/^radio$/i.test(b[ea].type)&&(h.fieldsSet[Ba].value=b[ea].value,h.fieldsSet[Ba].defaultValue=b[ea].value)));/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)&&Db(h,b[ea]);if(ta=b[ea].getAttribute('data-gina-form-element-group'))0>v.indexOf(ta)&&v.push(ta),ia=b[ea].getAttribute('name')||Ba,ia===Ba&&b[ea].setAttribute('name',Ba),Q[Ba]={id:Ba,name:ia,group:ta,target:b[ea]},
fa[b[ea].name]=new RegExp('^'+ta.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')),q&&('undefined'==typeof h.rules[b[ea].name]&&(h.rules[b[ea].name]={}),'undefined'!=typeof h.rules[b[ea].name].isRequired&&h.rules[b[ea].name].isRequired||(h.rules[b[ea].name].exclude=!0));if(0<fa.count())for(var ya in fa)b[ea].name!=ya&&(b[ea].getAttribute('data-gina-form-element-group'),fa[ya].test(b[ea].name)&&(b[ea].disabled=!0,'undefined'==typeof ka[ya]&&(ka[ya]={}),ka[ya][b[ea].name]=b[ea]));if(/^file$/i.test(b[ea].type)){Ba=
b[ea].getAttribute('data-gina-form-upload-trigger');Ba||(Ba=b[ea].id);ta=null;ia=(new DOMParser).parseFromString(e.innerHTML,'text/html');Ba&&(ta=document.getElementById(Ba));ba=document.getElementById(b[ea].id+'-error');ub(b[ea],ba);if((ba=ia.getElementById(Ba+'-preview'))&&ta&&!/none/i.test(window.getComputedStyle(ba).display)&&!/none/i.test(ba.parentElement.style.display)){ia=0;console.debug('preview is visible ...');ta.customFiles=[];ta.form=e;ba=ba.childNodes;for(let ha=0,na=ba.length;ha<na;ha++){var Ya=
null;if(/ul/i.test(ba[ha].tagName))for(let Ma=0,$a=ba[ha].length;Ma<$a;Ma++){let db=$$els[ha];for(let Ka=0,sb=db.length;Ka<sb;Ka++)/img/i.test(db[Ka])&&(Ya=db[Ka],Ya.setAttribute(''),ia++)}else/img/i.test(ba[ha].tagName)&&(Ya=ba[ha],deleteLinkId=Ba+'-'+ia+'-delete-trigger',Ya=Ya.src.substr(Ya.src.lastIndexOf('/')+1),ta.customFiles.push({name:Ya,deleteLinkId}),Eb('delete',ta,ia),ia++)}}addListener(gina,b[ea],'change',function(ha){ha.preventDefault();var na=ha.currentTarget;ha=na.files;na.customFiles=
Array.from(ha);if(!ha.length)return!1;var Ma=na.getAttribute('data-gina-form-upload-action'),$a=na.getAttribute('name'),db='gina-upload-'+$a.replace(/\[/g,'-').replace(/\]/g,'-'+h.id);na.setAttribute('data-gina-form-virtual',db);var Ka=na.getAttribute('data-gina-form-upload-on-success'),sb=na.getAttribute('data-gina-form-upload-on-error'),hb=null;if(0<ha.length){var lb=null;if(D()){lb=gina.popin.getActivePopin();lb.$target=(new DOMParser).parseFromString(lb.target.outerHTML,'text/html');lb.$target.getElementById(lb.id).innerHTML=
document.getElementById(lb.id).innerHTML;var mb=lb.$target.getElementById(db)}else mb=document.getElementById(db);if(!mb){try{mb=C(db)||null}catch(Tc){}mb||=D()?lb.$target.createElement('form'):document.createElement('form');mb.id=db;mb.action=Ma;mb.enctype='multipart/form-data';mb.method='POST';if('undefined'!=typeof na.form){Ma='files';var nb=na.getAttribute('data-gina-form-upload-prefix')||na.name||na.getAttribute('name'),jb=na.id||na.getAttribute('id'),Pb=!1,Hb=na.getAttribute('data-gina-form-upload-preview')||
jb+'-preview';Hb=D()?lb.$target.getElementById(Hb):document.getElementById(Hb);'undefined'!=typeof Hb&&(Pb=!0);nb&&(Ma=nb);nb=[];for(var Jb='name group originalFilename ext encoding size height width location mime preview'.split(' '),Mb=na.form.getElementsByTagName('INPUT'),ac,Wb,Gc,qc,Ob=0,Nc=ha.length;Ob<Nc;++Ob){Eb('reset',na,Ob);nb[Ob]=null;ac=Ma+'['+Ob+']';qc=new RegExp('^'+ac.replace(/\[/g,'\\[').replace(/\]/g,'\\]'));for(var wc=0,xc=Mb.length;wc<xc;++wc)ac=Mb[wc].getAttribute('type'),hb=Mb[wc].getAttribute('data-gina-form-upload-error')||
jb+'-error'||null,ac&&/hidden/i.test(ac)&&(Wb=Mb[wc],ac=/\[\w+\]$/i.test(Wb.name)?Wb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Wb.name,Gc=/\[\w+\]$/i.test(Wb.name)?Wb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Wb.name,Wb&&'undefiend'!=typeof ac&&-1<Jb.indexOf(ac)&&qc.test(Wb.name)?(nb[Ob]||(nb[Ob]={}),/\[preview\]/i.test(Wb.name)?('undefined'==typeof nb[Ob].preview&&(nb[Ob].preview={}),nb[Ob].preview[ac]=Wb):nb[Ob][ac]=Wb):Wb&&'undefiend'!=typeof ac&&0>Jb.indexOf(ac)&&qc.test(Wb.name)&&(nb[Ob]||
(nb[Ob]={}),/\[preview\]/i.test(Wb.name)?('undefined'==typeof nb[Ob].preview&&(nb[Ob].preview={}),nb[Ob].preview[Gc]=Wb):nb[Ob][Gc]=Wb));qc=0;for(wc=Jb.length;qc<wc;++qc)nb[Ob]||(nb[Ob]={}),'undefined'==typeof nb[Ob][Jb[qc]]&&(ac=Ma+'['+Ob+']['+Jb[qc]+']',$newVirtualField=document.createElement('input'),$newVirtualField.type='hidden',$newVirtualField.id='input.'+oa.v4(),$newVirtualField.name=ac,$newVirtualField.value='',na.form.appendChild($newVirtualField),nb[Ob][Jb[qc]]=na.form[na.form.length-1])}mb.uploadProperties=
{id:na.form.id||na.getAttribute('id'),uploadTriggerId:na.id,$form:na.form,errorField:hb,mandatoryFields:Jb,uploadFields:nb,hasPreviewContainer:Pb,isPopinContext:D()};Pb&&(mb.uploadProperties.previewContainer=Hb)}Ka?mb.setAttribute('data-gina-form-event-on-submit-success',Ka):mb.setAttribute('data-gina-form-event-on-submit-success','onGenericXhrResponse');sb?mb.setAttribute('data-gina-form-event-on-submit-error',sb):mb.setAttribute('data-gina-form-event-on-submit-error','onGenericXhrResponse');D()?
document.getElementById(lb.id).appendChild(mb):document.body.appendChild(mb)}try{var sc=C(db),Sc=new FormData;na=null;db=0;for(var Oc=ha.length;db<Oc;++db)na=ha[db],Sc.append($a,na,na.name);sc.send(Sc,{withCredentials:!0})}catch(Tc){throw Tc;}}})}}var Ta=function(ea,Z){ea.setAttribute('data-value',ea.value);if(/^(true)$/i.test(Z.target.dataset.ginaFormLiveCheckEnabled&&0<Z.rules.count())){var ha={},na={},Ma=null;Ma=ea.form;ha[event.target.name]=event.target.value;na[event.target.name]=event.target;
x.$forms[Ma.getAttribute('id')].isValidating=!0;M(event.target,ha,na,Z.rules,function($a){x.$forms[Ma.getAttribute('id')].isValidating=!1;$a.isValid()?G(Ma,{},$a.data,event.target.name):G(Ma,$a.error,$a.data,event.target.name);var db=Ma,Ka=$a=null,sb=null;Ka=Zb(db,w);$a=Ka.fields;Ka=Ka.$fields;var hb=db.getAttribute('id');sb=x.$forms[hb].rules;x.$forms[hb].isValidating=!0;M(db,$a,Ka,sb,function(lb){x.$forms[hb].isValidating=!1;console.debug('[updateSelect]: onSilentGlobalLiveValidation: '+lb.isValid(),
lb);lb=lb.isValid();Yb(db,lb);once=!1})})}};ta=ka=null;ya=0;for(fa=P.length;ya<fa;++ya)if(Qa(h.rules,P[ya]),Ba=P[ya].getAttribute('id'),!Ba||!/^gina\-toolbar/.test(Ba)){Ba&&''!=Ba||(Ba='select.'+oa.v4(),P[ya].setAttribute('id',Ba));if(ta=P[ya].getAttribute('data-gina-form-element-group'))ka=P[ya].getAttribute('name')||Ba,ka===Ba&&P[ya].setAttribute('name',Ba),Q[Ba]={id:Ba,name:ka,group:ta,target:P[ya]};addListener(gina,P[ya],'change',function(ea){ea=ea.target;/select/i.test(ea.type)&&Ta(ea,h)});if(P[ya].options&&
!h.fieldsSet[Ba]){ka=0;if(ta=P[ya].getAttribute('data-value')||null)for(ia=0,ba=P[ya].options.length;ia<ba;++ia)if(P[ya].options[ia].value==ta){ka=ia;P[ya].selectedIndex=ka;break}'undefined'!=typeof P[ya].options[P[ya].selectedIndex]&&P[ya].options[P[ya].selectedIndex].index&&(ka=P[ya].options[P[ya].selectedIndex].index);h.fieldsSet[Ba]={id:Ba,name:P[ya].name||null,value:P[ya].options[ka].value||ta||null,selectedIndex:ka||0};'undefined'!=typeof P[ya].selectedIndex&&(P[ya].options[ka].selected=!0,
P[ya].setAttribute('data-value',P[ya].options[ka].value))}}var ob=function(ea,Z,ha,na){'undefined'==typeof na&&(na=!1);if('undefined'==typeof Q[ea])throw Error('Radio & Checkbox dependencies not met: you must use the ID attribue of the `master element` as the `data-gina-form-element-group`');var Ma=ea.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');ea=Q[ea].target.checked;for(let Ka in Q)if(!/radio|checkbox/i.test(Q[Ka].target.type)){var $a=new RegExp(Ma);var db=new RegExp(Z);if($a.test(Q[Ka].group)&&db.test(Q[Ka].group)||
$a.test(Q[Ka].group))Q[Ka].target.disabled=!0,'undefined'==typeof h.rules[Q[Ka].name]&&(h.rules[Q[Ka].name]={}),h.rules[Q[Ka].name].exclude=!0,na?(Q[Ka].target.disabled=ea?!1:!0,h.rules[Q[Ka].name].exclude=ea?!1:!0):(Q[Ka].target.disabled=ha,h.rules[Q[Ka].name].exclude=ha)}},wb=function(ea,Z,ha,na){'undefined'==typeof na&&(na=!1);if(na&&'undefined'!=typeof Q[Z.id])return ea=/true/i.test(Z.checked)?!1:!0,ob(Z.id,Q[Z.id].group,ea,na);ha=Z.name;q&&'undefined'==typeof ea.rules[ha]&&(ea.rules[ha]={});
/^true$/i.test(Z.checked)?q&&(ea.rules[ha].exclude=!1,'undefined'!=typeof Q[Z.id]&&ob(Z.id,Q[Z.id].group,!1,na)):q&&(ea.rules[ha].exclude=!0,'undefined'!=typeof Q[Z.id]&&ob(Z.id,Q[Z.id].group,!0,na))},Kb=function(ea,Z){'undefined'==typeof Z&&(Z=!1);var ha=function(Ka,sb,hb){if(sb)wb(h,Ka,sb);else for(let lb in Q)if(db.test(Q[lb].group)||db.test(Q[lb].target.getAttribute('data-gina-form-element-group')))Q[lb].target.disabled=hb};Z&&/^(on)$/i.test(ea.value)&&!ea.checked&&(ea.value=!1);var na=ea.getAttribute('data-value')||
ea.getAttribute('value')||ea.value;na=/^(true|on)$/.test(na)?!0:na;''===na&&(na=!1);var Ma=/^(true|on|false)$/i.test(na)?!0:!1;Z&&Ma&&(/^true$/i.test(na)&&!ea.checked?ea.checked=!0:/^false$/i.test(na)&&ea.checked&&(ea.checked=!1));na=ea.checked;var $a=ea.getAttribute('data-gina-form-element-group')||null,db=new RegExp(ea.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));na&&'null'!=na&&'false'!=na&&''!=na?(Z?eb(ea):(setTimeout(function(){ea.checked=!0;ha(ea,$a,!1);eb(ea)},0),ea.setAttribute('checked','checked')),
Ma&&(ea.value=!0,ea.setAttribute('value',!0),typeof('undefined'!=ea.getAttribute('data-value'))&&ea.setAttribute('data-value',!0))):(Z?eb(ea):setTimeout(function(){ea.checked=!1;ha(ea,$a,!0);eb(ea)},0),ea.removeAttribute('checked'),Ma&&(ea.value=!1,ea.setAttribute('value','false'),typeof('undefined'!=ea.getAttribute('data-value'))&&ea.setAttribute('data-value','false')))},eb=function(ea){ea=new RegExp(ea.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(let Z in Q)(/checkbox/i.test(Q[Z].target.type)&&
ea.test(Q[Z].group)||/checkbox/i.test(Q[Z].target.type)&&ea.test(Q[Z].target.getAttribute('data-gina-form-element-group')))&&wb(h,Q[Z].target,Q[Z].group,!0)},yb=function(ea,Z){Z=ea.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');Z=new RegExp(Z);for(let ha in Q)if(/checkbox|radio/i.test(Q[ha].target.type)||(Q[ha].target.disabled=!0,'undefined'==typeof h.rules[Q[ha].name]&&(h.rules[Q[ha].name]={}),h.rules[Q[ha].name].exclude=!0),Z.test(Q[ha].group)||Z.test(Q[ha].target.getAttribute('data-gina-form-element-group').replace(/\-|_|@|#|\.|\[|\]/g,
'\\$&')))Q[ha].target.disabled=!0,'undefined'==typeof h.rules[Q[ha].name]&&(h.rules[Q[ha].name]={}),/^(true|on)$/i.test(ea.checked)?(Q[ha].target.disabled=!1,h.rules[Q[ha].name].exclude=!1):(Q[ha].target.disabled=!0,h.rules[Q[ha].name].exclude=!0);eb(ea)},Vb=null,Wa=function(ea,Z,ha){Z='undefined'!=typeof Z&&Z?!0:!1;ha='undefined'!=typeof ha&&ha?!0:!1;var na=ea.checked,Ma=/^(true|false)$/i.test(ea.value);Vb=document.getElementsByName(ea.name);for(let $a=0,db=Vb.length;$a<db;++$a)Vb[$a].id!==ea.id&&
na&&(Vb[$a].checked=!1,Vb[$a].removeAttribute('checked'),yb(Vb[$a],!0));Z?yb(ea):(na&&'null'!=na&&'false'!=na&&''!=na?setTimeout(function(){ha?yb(ea):(ea.checked=!1,ea.removeAttribute('checked'))},0):setTimeout(function(){ha?yb(ea):(ea.checked=!0,ea.setAttribute('checked','checked'))},0),Ma&&(ea.value=/^true$/.test(ea.value)?!0:!1))};ya=0;for(fa=b.length;ya<fa;++ya){P=b[ya].getAttribute('type');if('undefined'==typeof b[ya].id||''==b[ya].id)b[ya].id=P+'-'+oa.v4(),b[ya].setAttribute('id',b[ya].id);
if('undefined'!=typeof P&&/^checkbox$/i.test(P)){if(b[ya].disabled&&-1<v.indexOf(b[ya].id)||!b[ya].checked&&-1<v.indexOf(b[ya].id)){P=new RegExp(b[ya].id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(var fb in Q)P.test(Q[fb].group)&&(Q[fb].target.disabled=!0)}X='change.'+b[ya].id;P=function(ea,Z){addListener(gina,ea,Z,function(ha){Kb(ha.target);triggerEvent(gina,ha.target,'changed.'+ha.target.id)});Kb(ea,!0)};'undefined'!=typeof gina.events[X]&&gina.events[X]==b[ya].id&&removeListener(gina,b[ya],X);P(b[ya],
X)}else'undefined'!=typeof P&&/^radio$/i.test(P)&&(X=b[ya].id,P=function(ea,Z){addListener(gina,ea,Z,function(ha){Wa(ha.target);triggerEvent(gina,ha.target,'changed.'+ha.target.id)});Wa(ea,!0)},'undefined'!=typeof gina.events[X]&&gina.events[X]==b[ya].id&&removeListener(gina,b[ya],X),P(b[ya],X))}X='click';P=function(){var ea=null;ea='reset.'+e.id;'undefined'==typeof gina.events[ea]&&addListener(gina,e,ea,function(Z){Z.preventDefault();var ha=x.$forms[Z.currentTarget.id||Z.target.id];ha.target.dataset.ginaFormIsResetting=
!0;A(ha);Z=Zb(ha.target,ha.rules,!0);M(ha.target,Z.fields,Z.$fields,ha.rules,function(na){var Ma=na.isValid();console.debug('silent reset validation result[isValid:'+Ma+']: ',na);G(ha.target,{});Yb(ha.target,Ma);ha.target.dataset.ginaFormIsResetting=!1})});addListener(gina,e,'reset',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;Z.preventDefault();var na=ha.id;if(!na)return!1;/^reset\./.test(na)||(na='reset.'+ha.id);gina.events[na]&&triggerEvent(gina,
ha,na,Z.detail)});addListener(gina,e,'keydown',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;S[Z.keyCode]='keydown'==Z.type;var na=ha.id;if(!na)return!1;/^keydown\./.test(na)||(na='keydown.'+ha.id);gina.events[na]&&(cancelEvent(Z),triggerEvent(gina,ha,na,Z.detail,Z))});addListener(gina,e,'keyup',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;S[Z.keyCode]&&delete S[Z.keyCode];var na=ha.id;if(!na)return!1;
/^keyup\./.test(na)||(na='keyup.'+ha.id);gina.events[na]&&(cancelEvent(Z),triggerEvent(gina,ha,na,Z.detail,Z))});addListener(gina,e,'focusin',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;var na=ha.id;if(!na)return!1;/^focusin\./.test(na)||(na='focusin.'+ha.id);gina.events[na]&&(cancelEvent(Z),triggerEvent(gina,ha,na,Z.detail))});addListener(gina,e,'focusout',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;
var na=ha.id;if(!na)return!1;/^focusout\./.test(na)||(na='focusout.'+ha.id);gina.events[na]&&(cancelEvent(Z),triggerEvent(gina,ha,na,Z.detail))});addListener(gina,e,'change',function(Z){var ha=Z.target;if('undefined'!=typeof Z.defaultPrevented&&Z.defaultPrevented)return!1;var na=ha.id;if(!na)return!1;/^change\./.test(na)||(na='change.'+ha.id);gina.events[na]&&(cancelEvent(Z),triggerEvent(gina,ha,na,Z.detail))});addListener(gina,e,'click',function(Z){var ha=Z.target,na=!1,Ma=!1;if(/(label)/i.test(Z.target.tagName)&&
'undefined'!=typeof Z.target.control&&null!=Z.target.control&&/(checkbox|radio)/i.test(Z.target.control.type)||/(label)/i.test(Z.target.parentNode.tagName)&&'undefined'!=typeof Z.target.parentNode.control&&null!=Z.target.parentNode.control&&/(checkbox|radio)/i.test(Z.target.parentNode.control.type))Ma=Z.target.getAttribute('for')||Z.target.parentNode.getAttribute('for')?!0:!1,ha=Z.target.control||Z.target.parentNode.control;if(!ha.disabled&&/(checkbox|radio)/i.test(ha.type)&&!Ma){if(/checkbox/i.test(ha.type))return Kb(ha);
if(/radio/i.test(ha.type))return Wa(ha,!1,!0)}if(/(button|input)/i.test(ha.tagName)&&/(submit|checkbox|radio)/i.test(ha.type)||/a/i.test(ha.tagName)&&ha.attributes.getNamedItem('data-gina-form-submit')||/a/i.test(ha.parentNode.tagName)&&ha.parentNode.attributes.getNamedItem('data-gina-form-submit')){Ma=ha.attributes.getNamedItem('data-gina-form-submit');var $a=ha.parentNode.attributes.getNamedItem('data-gina-form-submit');if(Ma||$a)na=!0,($a=Ma?ha.getAttribute('data-gina-form-submit-method'):ha.parentNode.getAttribute('data-gina-form-submit-method'))&&
(Ma&&ha.form?ha.form.setAttribute('method',$a):ha.parentNode.form&&ha.parentNode.form.setAttribute('method',$a));'undefined'!=typeof ha.id&&ha.getAttribute('id')||ha.setAttribute('id','click.'+oa.v4());ha.id=ha.getAttribute('id');if(/^click\./.test(ha.id)||q){Ma=ha.id;if(!Ma)return!1;/^click\./.test(Ma)||(Ma=ha.id);if(!ha.disabled&&/(checkbox|radio)/i.test(ha.type)){if(/checkbox/i.test(ha.type))return Kb(ha);if(/radio/i.test(ha.type))return Wa(ha,!1,!0)}if('undefined'!=typeof Z.defaultPrevented&&
Z.defaultPrevented)return!1;'submit'!=ha.type||/^submit\./i.test(Ma)||(Ma='submit.'+Ma);'reset'!=ha.type||/^reset\./i.test(Ma)||(Ma='reset.'+Ma);gina.events[Ma]?(cancelEvent(Z),triggerEvent(gina,ha,Ma,Z.detail)):na&&'undefined'!=typeof this.id&&''!=this.id&&'undefined'!=typeof gina.validator.$forms[this.id]&&(gina.validator.getFormById(this.id).submit(),cancelEvent(Z))}}})};P();X='validate.'+n;P=function(){addListener(gina,e,X,function(ea){cancelEvent(ea);var Z=h.eventData.error||h.eventData.validation||
ea.detail;G(ea.target,Z.fields||Z.error,Z.data);ea=ea.target.getAttribute('id');if('undefined'!=typeof Z.isValid&&Z.isValid()){var ha=x.$forms[ea].target.getAttribute('data-gina-form-inherits-data')||null;ha&&(Z.data=W(Z.data,JSON.parse(decodeURIComponent(ha))));x.$forms[ea]?x.$forms[ea].send(Z.data):h&&h.send(Z.data)}})};'undefined'!=typeof gina.events[X]&&gina.events[X]=='validate.'+n&&removeListener(gina,h,X,P);P();fb=function(ea,Z){/^submit\./i.test(ea)||(ea='submit.'+ea);addListener(gina,Z,ea,
function(ha){cancelEvent(ha);var na={};ha={_length:0};var Ma=e.getAttribute('id'),$a='undefined'!=typeof x.$forms[Ma]?x.$forms[Ma].rules:null;x.$forms[Ma].sent||(na=Zb(e,$a),ha=na.fields,na=na.$fields,$a=x.$forms[Ma].rules,0==ha._length?(delete ha._length,ha={error:[],isValid:function(){return!0},data:La(ha)},triggerEvent(gina,e,'validate.'+n,ha)):(n=e.getAttribute('id'),z=($a=e.getAttribute('data-gina-form-rule'))?Pa($a.replace(/\-|\//g,'.')):Pa(n.replace(/\-/g,'.')),x.$forms[Ma].isSubmitting=!0,
x.$forms[Ma].isSending=!1,M(e,ha,na,z,function(db){triggerEvent(gina,e,'validate.'+n,db)})))})};v=null;b=[];v=[];P=null;v=e.getElementsByTagName('button');if(0<v.length)for(let ea=0,Z=v.length;ea<Z;++ea)'submit'==v[ea].type&&b.push(v[ea]);v=e.getElementsByTagName('a');if(0<v.length)for(let ea=0,Z=v.length;ea<Z;++ea)v[ea].attributes.getNamedItem('data-gina-form-submit')?b.push(v[ea]):v[ea].getAttribute('id')||/gina\-popin/.test(v[ea].className)||gina.popinIsBinded||/gina\-link/.test(v[ea].className)||
(P='link.'+oa.v4(),v[ea].id=P);P=null;ya=!1;for(let ea=0,Z=b.length;ea<Z;++ea){v=b[ea];if(/button/i.test(v.tagName)&&'undefined'!=typeof v.type&&/submit/i.test(v.type)||/a/i.test(v.tagName)&&'undefined'!=typeof v.dataset.ginaFormSubmit&&/^true$/i.test(v.dataset.ginaFormSubmit)||/a/i.test(v.parentNode.tagName)&&'undefined'!=typeof v.parentNode.dataset.ginaFormSubmit&&/^true$/i.test(v.parentNode.dataset.ginaFormSubmit)){/a/i.test(v.parentNode.tagName)&&(v=v.parentNode);if('undefined'==typeof v.id||
'undefined'!=typeof v.id&&''==v.id)v.id='click.'+oa.v4(),v.setAttribute('id',v.id);/a/i.test(v.tagName)&&'undefined'==typeof v.form&&(v.form={id:h.id});'undefined'==typeof v.dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof x.$forms[h.id]&&'undefined'==typeof x.$forms[h.id].submitTrigger&&'undefined'!=typeof v.form.id&&h.id==v.form.id&&(console.debug('attching submitTrigger: '+v.id,'  form id: '+h.id),x.$forms[h.id].submitTrigger=h.submitTrigger=v.id||v.getAttribute('id'),v.dataset.ginaFormSubmitTriggerFor=
h.id)}'A'==v.tagName&&(P=v.getAttribute('onclick'),ya=v.getAttribute('data-gina-form-submit'),P||ya?/return false/i.test(P)||ya||(P=/;$/.test(P)?P+'return false;':P+'; return false;'):v.setAttribute('onclick','return false;'));v.id?X=v.id:(X='click.'+oa.v4(),v.id=X,v.setAttribute('id',X));'undefined'!=typeof gina.events[X]&&gina.events[X]==v.id||fb(X,v)}X='submit';addListener(gina,e,X,function(ea){var Z=ea.target,ha=Z.getAttribute('id'),na=x.$forms[ha],Ma=h.binded;(na=(new DOMParser).parseFromString(Z.innerHTML,
'text/html').getElementById(na.submitTrigger))&&na.disabled&&cancelEvent(ea);if('undefined'!=typeof ea.defaultPrevented&&ea.defaultPrevented)return!1;(q||Ma)&&cancelEvent(ea);ea={};Ma={_length:0};na='undefined'!=typeof gina.validator.$forms[ha]?gina.validator.$forms[ha].rules:null;for(var $a=null,db=null,Ka=0,sb=Z.length;Ka<sb;++Ka)$a=Z[Ka].getAttribute('name'),db=Z[Ka].disabled||Z[Ka].getAttribute('disabled'),db=/disabled|true/i.test(db)?!0:!1,$a&&!db&&('undefined'!=typeof Z[Ka].type&&'radio'==Z[Ka].type||
'undefined'!=typeof Z[Ka].type&&'checkbox'==Z[Ka].type?Z[Ka].checked?/^(true|false)$/.test(Z[Ka].value)?Ma[$a]=Z[Ka].value=/^true$/.test(Z[Ka].value)?!0:!1:Ma[$a]=Z[Ka].value:na&&'undefined'!=typeof na[$a]&&'undefined'!=typeof na[$a].isBoolean&&'checkbox'==Z[Ka].type&&!/^(true|false)$/.test(Z[Ka].value)&&(Ma[$a]=!1):Ma[$a]=Z[Ka].value,ea[$a]=Z[Ka],ea[$a].setAttribute('data-gina-form-errors',''));Ma._length=Ma.count();0==Ma._length?(delete Ma._length,ea={error:[],isValid:function(){return!0},data:La(Ma)},
'undefined'!=typeof gina.events['submit.'+ha]?triggerEvent(gina,Z,'submit.'+ha,ea):triggerEvent(gina,Z,'validate.'+ha,ea)):(z=(na=Z.getAttribute('data-gina-form-rule'))?Pa(na.replace(/\-|\//g,'.')):Pa(ha.replace(/\-/g,'.')),x.$forms[ha].isValidating=!0,M(Z,Ma,ea,z,function(hb){x.$forms[ha].isValidating=!1;'undefined'!=typeof gina.events['submit.'+ha]?triggerEvent(gina,Z,'submit.'+ha,hb):triggerEvent(gina,Z,'validate.'+ha,hb)}))});x.$forms[n].binded=!0;/^(true)$/i.test(h.target.dataset.ginaFormLiveCheckEnabled&&
0<h.rules.count())?(console.debug('silent validation mode on'),fb=Zb(h.target,h.rules),M(h.target,fb.fields,fb.$fields,h.rules,function(ea){console.debug('silent validation result[isValid:'+ea.isValid()+']: ',ea);V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:n,errors:ea.error}));Yb(h,ea.isValid())})):/^(true)$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)||Yb(h,!0)},Yb=function(e,b){$formInstance=
null;e instanceof HTMLFormElement?(e=e.getAttribute('id'),$formInstance=x.$forms[e]):$formInstance=e;'undefined'==typeof $formInstance.submitTrigger?console.warn('This might be normal, so do not worry if this form is handled by your javascript: `'+$formInstance.id+'`\nGina could not complete `updateSubmitTriggerState()`: `submitTrigger` might not be attached to form instance `'+$formInstance.id+'`\nTo disable this warning, You just need to disable `Form Live Checking on your form by adding to your <form>: `data-gina-form-live-check-enabled=false``'):
document.getElementById($formInstance.submitTrigger)&&(/true/i.test(b)?document.getElementById($formInstance.submitTrigger).disabled=!1:document.getElementById($formInstance.submitTrigger).disabled=!0)},Zb=function(e,b,h){'undefined'==typeof h&&(h=!1);var n={},w={},q=e.id||e.getAttribute('id');'undefined'==typeof b&&(b='undefined'!=typeof x.$forms[q].rules&&0<x.$forms[q].rules.count()?x.$forms[q].rules:null,b||'undefined'==typeof gina.validator.$forms[q]||(b=gina.validator.$forms[q].rules));for(var z=
0,X=e.length;z<X;++z){if(h)switch(e[z].tagName.toLowerCase()){case 'input':/^(hidden|text)$/i.test(e[z].type)&&(e[z].value=e[z].defaultValue)}if(/button/i.test(e[z].tagName)&&'undefined'!=typeof e[z].type&&/submit/i.test(e[z].type)||/a/i.test(e[z].tagName)&&'undefined'!=typeof e[z].dataset.ginaFormSubmit&&/^true$/i.test(e[z].dataset.ginaFormSubmit))/a/i.test(e[z].tagName)&&'undefined'==typeof e[z].form&&(e[z].form={id:q}),'undefined'==typeof e[z].dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof x.$forms[q]&&
'undefined'==typeof x.$forms[q].submitTrigger&&'undefined'!=typeof e[z].form.id&&q==e[z].form.id&&(x.$forms[q].submitTrigger=e[z].id||e[z].getAttribute('id'),e[z].dataset.ginaFormSubmitTriggerFor=q);var P=e[z].getAttribute('name');var ba=e[z].disabled||e[z].getAttribute('disabled');ba=/disabled|true/i.test(ba)?!0:!1;if(P&&!ba){if('undefined'!=typeof e[z].type&&'radio'==e[z].type||'undefined'!=typeof e[z].type&&'checkbox'==e[z].type)if(e[z].checked||'undefined'==typeof b[P]&&'undefined'!=e[z].value&&
/^(true|false)$/.test(e[z].value)||!e[z].checked&&'undefined'!=typeof b[P]&&'undefined'!=typeof b[P].isBoolean&&/^(true|false)$/.test(e[z].value))if(/^(true|false)$/.test(e[z].value))if('undefined'==typeof b[P]?b[P]={isBoolean:!0}:'undefined'!=typeof b[P]&&'undefined'==typeof b[P].isBoolean&&(b[P].isBoolean=!0,b[P].isRequired=!0),'radio'==e[z].type){if('undefined'==typeof b[P])throw Error('rule '+P+' is not defined');/^true$/.test(b[P].isBoolean)&&e[z].checked&&(w[P]=/^true$/.test(e[z].value)?!0:
!1)}else w[P]=e[z].value=/^true$/.test(e[z].value)?!0:!1;else w[P]=e[z].value;else b&&'undefined'!=typeof b[P]&&'undefined'!=typeof b[P].isBoolean&&'undefined'!=typeof b[P].isRequired&&!/^(true|false)$/.test(e[z].value)&&(w[P]=!1);else w[P]=e[z].value;'undefined'==typeof n[P]&&(n[P]=e[z],n[P].setAttribute('data-gina-form-errors',''))}}w._length=w.count()||0;return{$fields:n,fields:w,rules:b}},va=function(e,b,h,n){return'undefined'==typeof e[h]||/^(null|NaN|undefined|\s*)$/i.test(b[h])?b[h]:'undefined'!=
typeof e[h].isNumber||'undefined'!=typeof e[h].isInteger||'undefined'!=typeof e[h].isFloat||'undefined'!=typeof e[h].toFloat||'undefined'!=typeof e[h].toInteger?(/,/.test(b[h])&&(b[h]=b[h].replace(/,/g,'.').replace(/\s+/g,'')),b[h]):'boolean'==typeof b[h]?b[h]:e[h].isBoolean?/^true$/i.test(b[h])?!0:!1:'undefined'!=typeof n&&/^true$/i.test(n)?'\\"'+b[h]+'\\"':b[h]},xa=function(e,b){'string'!=typeof e&&(e=JSON.stringify(JSON.clone(e)));e=JSON.parse(e.replace(/"(true|false)"/gi,'$1'));for(let h in b)b[h]=
va(e,b,h);return b},Ha=function(e,b,h,n){var w=JSON.parse(e.replace(/"(true|false)"/gi,'$1')),q=JSON.stringify(w);n&&(b=h[Object.getOwnPropertyNames(h)[0]].form,h=Zb(b,w),delete h.fields._length,b=h.fields,h=h.$fields);n=[];var z=0;for(X in b)n[z]=X,z++;n.sort().reverse();for(let ba=0,Q=n.length;ba<Q;ba++){var X=n[ba].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');X=new RegExp('\\$'+X,'g');z='\\"'+b[n[ba]]+'\\"';var P=X.test(q);P&&'undefined'!=typeof w[n[ba]]?z=va(w,b,n[ba],!0):P&&console.warn('`'+n[ba]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+
n[ba]+'` to `string`.');e=e.replace(X,z)}if(/\$(.*)/.test(e))for(let ba=0,Q=n.length;ba<Q;ba++)X=n[ba].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'),X=new RegExp('\\$'+X,'g'),z=''!=h[n[ba]].value?'\\"'+h[n[ba]].value+'\\"':'\\"\\"',(P=X.test(q))&&'undefined'!=typeof w[n[ba]]?z=va(w,b,n[ba],!0):P&&console.warn('`'+n[ba]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+n[ba]+'` to `string`.'),e=e.replace(X,z||h[n[ba]].checked);return JSON.parse(e)},M=function(e,
b,h,n,w){delete b._length;var q=JSON.stringify(n);b=xa(q,b);/\$(.*)/.test(q)&&(n=!/^form$/i.test(e.tagName)&&1==h.count()&&/true/i.test(e.form.dataset.ginaFormLiveCheckEnabled)?!0:!1,n=Ha(q,b,h,n));var z=null,X=q=null,P=!1,ba=0;b.count();var Q=!1,v=null,fa=null,ta=null,ka=0,ia=null,Ba=null,ya=null,Ya=function(Wa,fb,ea){if('undefined'==typeof fb[Wa]){skipTest=!1;for(var Z in fb)if(!/^_comment$/i.test(Z)&&/^\//.test(Z)&&(ia=Z.match(/\/(.*)\//).pop(),Ba=Z.replace('/'+ia+'/',''),ia=ia.replace(/\[/g,'\\[').replace(/\]/g,
'\\]'),ia=new RegExp(ia,Ba),ia.test(Wa))){skipTest=!0;fb[Wa]=fb[Z];break}if('undefined'==typeof fb[Wa])return}var ha=Object.getOwnPropertyNames(fb)||[];Z=0;var na=ha.length;if(0<na)for(;Z<na;)'undefined'!=typeof fb[ha[Z]].exclude&&/^true$/i.test(fb[ha[Z]].exclude)&&(ha.splice(Z,1),na--,Z--),Z++;for(var Ma in fb[Wa])if('function'==typeof Ta[Wa][Ma]){/^((is)\d+|is$)/.test(Ma)&&'undefined'==typeof Ta[Wa][Ma]&&(Ta[Wa][Ma]=function(){},Ta[Wa][Ma]=Y(Ta[Wa][Ma],Ta[Wa][Ma.replace(/\d+/,'')]),Ta[Wa][Ma].setAlias=
function(hb){this._currentValidatorAlias=hb}(Ma));try{if(Array.isArray(fb[Wa][Ma])){ya=JSON.clone(fb[Wa][Ma]);if(/\$[\-\w\[\]]*/.test(ya[0])){var $a=ya[0].match(/\$[\-\w\[\]]*/g);Z=0;for(var db=$a.length;Z<db;++Z)ya[0]=ya[0].replace($a[Z],Ta[$a[Z].replace('$','')].value)}Ta[Wa][Ma].apply(Ta[Wa],ya)}else if(/^query$/.test(Ma)){v=h[Wa];fa=v.getAttribute('id');ta='asyncCompleted.'+fa;var Ka=0,sb=!1;if('undefined'!=typeof gina.events[ta]){console.debug('event `'+ta+'` already added');ka=0;break}++ka;
addListener(gina,v,ta,function(hb){hb.preventDefault();Ka++;--ka;var lb=Object.getOwnPropertyNames(fb[Wa]);lb[lb.length-1]==Ma&&(Q=!0);lb='asyncCompleted.'+hb.target.getAttribute('id');if(!/true/.test(sb)){Ta[Wa]=hb.detail;var mb=e;/^form$/i.test(e.tagName)||(mb=e.form);var nb=mb.getAttribute('id');if(Q&&0>=ka&&!sb&&(sb=!0,removeListener(gina,hb.target,lb),w._data=Ta.toData(),w._errors=Ta.getErrors(Wa),w._errors&&0<w._errors.count())){'undefined'==typeof x.$forms[nb].errors&&(x.$forms[nb].errors=
{});x.$forms[nb].errors[Wa]=w._errors[Wa];if(!jb&&/^true|false$/i.test(x.$forms[nb].isValidating)||''!=Ta[Wa].target.value)u(eb[Wa]),G(mb,w._errors,w._data,Wa),Yb(mb,jb);V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:nb,errors:x.$forms[nb].errors||{}}));triggerEvent(gina,mb,'validated.'+nb,w);return}hb=!1;var jb=null;1==ha.length||ha[ha.length-1]==Wa?(jb=0<w._errors.count()?!1:!0,!jb&&/^true|false$/i.test(x.$forms[nb].isValidating)&&
(x.$forms[nb].errors=W(w._errors,x.$forms[nb].errors),u(eb[Wa]),G(mb,w._errors,w._data,Wa),Yb(mb,jb)),triggerEvent(gina,mb,'validated.'+nb,w)):/^true$/i.test(x.$forms[nb].isValidating)&&1<ha.length&&ha[ha.length-1]!=Wa&&(hb=!0);hb&&M(mb,Kb,eb,fb,function(Pb){x.$forms[nb].isValidating=!1;jb=Pb.isValid();V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:nb,errors:Pb.error||{}}));G(mb,Pb.error,Pb.data,Wa);
Yb(mb,jb)})}});Ta[Wa][Ma](fb[Wa][Ma]);continue}else Ta[Wa][Ma](fb[Wa][Ma]);delete ea[Wa]}catch(hb){if('conditions'==Ma)throw Error('[ ginaFormValidator ] could not evaluate `'+Wa+'->'+Ma+'()` where `conditions` must be a `collection` (Array)\nStack:\n'+hb);throw Error('[ ginaFormValidator ] could not evaluate `'+Wa+'->'+Ma+'()`\nStack:\n'+hb);}}},Ta=null,ob={},wb=!1;L?/^form$/i.test(e.tagName)?(z=e.getAttribute('id'),q='validated.'+z,x.$forms[z].fields=b,'undefined'!=typeof e.eventData&&'undefined'!=
typeof e.eventData.error&&delete e.eventData.error,Ta=new m(b,h,y)):(wb=!0,z=e.form.getAttribute('id')||e.form.target.getAttribute('id'),q='validated.'+z,x.$forms[z].fields=b,Ta=new m(b,h,y,x.$forms[z].fieldsSet)):Ta=new m(b,null,y);var Kb=null,eb=null;if(wb){wb=e.form.getAttribute('id');var yb=Zb(x.$forms[wb].target,x.$forms[wb].rules,!1);Kb=xa(JSON.stringify(x.$forms[wb].rules),JSON.clone(yb.fields));eb=yb.$fields}else Kb=JSON.clone(b),eb=h;wb='undefined'!=typeof n?JSON.clone(n):{};var Vb=function(Wa,
fb,ea,Z,ha,na,Ma,$a){var db=null;if('undefined'!=typeof na)for(var Ka in Z)if(L&&'undefined'==typeof ha[Ka])console.warn('field `'+Ka+'` found for your form rule ('+Wa.id+'), but not found in $field collection.\nPlease, check your HTML or remove `'+Ka+'` declaration from your rule if this is a mistake.');else{L&&ha[Ka].getAttribute('data-gina-form-element-group')&&'undefined'!=typeof na[Ka]&&'undefined'!=typeof na[Ka].exclude&&na[Ka].exclude&&!ha[Ka].disabled&&(na[Ka].exclude=!1);var sb='undefined'!=
typeof na['_case_'+Ka]?!0:!1;if(L&&'input'==ha[Ka].tagName.toLowerCase()&&/(checkbox)/i.test(ha[Ka].getAttribute('type')))if(!ha[Ka].checked&&'undefined'!=typeof na[Ka]&&'undefined'!=typeof na[Ka].isRequired&&/^(false)$/i.test(na[Ka].isRequired)||ha[Ka].disabled)na[Ka]={exclude:!0};else if(!ha[Ka].checked&&'undefined'==typeof na[Ka])continue;for(var hb in na)if(/^_case_/.test(hb)&&'undefined'!=typeof na[hb].conditions&&(!Array.isArray(na[hb].conditions)||na[hb].conditions.length)&&'undefined'!=typeof na[hb].conditions[0].rules&&
'undefined'!=typeof na[hb].conditions&&Array.isArray(na[hb].conditions))if(db=hb.replace('_case_',''),'undefined'==typeof eb[db])console.warn('Found case `'+hb+'` but field `'+db+'` is misssing in the dom.\n You should add `'+db+'` element to your form in order to allow Validator to process this case.');else{'undefined'==typeof fb[db]&&(fb[db]=eb[db].value);var lb=fb[db];L&&('true'==Z[Ka]?lb=!0:'false'==Z[Ka]&&(lb=!1));for(var mb=0,nb=na[hb].conditions.length;mb<nb;++mb)if(na[hb].conditions[mb].case==
lb)for(var jb in na[hb].conditions[mb].rules)if(!/^_comment$/i.test(jb)&&jb!=db&&ha[jb])if(Ka==jb||/^\//.test(jb)||'undefined'!=typeof Z[jb]||'undefined'==typeof fb[jb])if(/^\//.test(jb)){if(ia=jb.match(/\/(.*)\//).pop(),Ba=jb.replace('/'+ia+'/',''),ia=ia.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),ia=new RegExp(ia,Ba),ia.test(Ka)){if(na[hb].conditions[mb].case==lb||/^\//.test(na[hb].conditions[mb].case)&&(new RegExp(na[hb].conditions[mb].case)).test(lb))Pb='undefined'!=typeof na[jb]?na[jb]:{},na[jb]=
W(na[hb].conditions[mb].rules[jb],Pb);db!=jb&&'undefined'!=typeof na[jb]&&Ya(jb,na,Z)}}else'undefined'!=typeof na[hb].conditions[mb].rules[jb]&&(caseField=jb,lb=Z[caseField],'undefined'==typeof ha[caseField]?console.warn('ignoring case `'+caseField+'`: field `NaN'):(L&&/^(true|false)$/i.test(lb)&&'undefined'!=typeof na[caseField]&&'undefined'!=typeof na[caseField].isBoolean&&/^(true)$/i.test(na[caseField].isBoolean)&&(lb=/^(true)$/i.test(lb)?!0:!1),'undefined'!=typeof na[hb].conditions[mb].rules[jb]&&
(Pb='undefined'!=typeof na[hb].conditions[mb].rules[jb]?na[hb].conditions[mb].rules[jb]:{},na[jb]=Pb),db!=jb&&'undefined'!=typeof na[jb]&&'undefined'!=typeof Z[jb]&&Ya(jb,na,Z)));else{Z[jb]=fb[jb];var Pb='undefined'!=typeof na[jb]?na[jb]:{};na[jb]=W(na[hb].conditions[mb].rules[jb],Pb);Ya(jb,na,Z)}}if(db!=Ka&&('undefined'!=typeof na[Ka]&&Ya(Ka,na,fb),sb)){++$a;sb=na['_case_'+Ka].conditions;if(!sb)throw Error('[ ginaFormValidator ] case `_case_'+Ka+'` found without `condition(s)` !\nPlease, check your delcaration for `_case_'+
Ka+'`');for(let Mb=0,ac=sb.length;Mb<ac;++Mb)if(lb=fb[Ka],L&&('true'==Z[Ka]?lb=!0:'false'==Z[Ka]&&(lb=!1)),sb[Mb]['case']===lb||Array.isArray(sb[Mb]['case'])&&-1<sb[Mb]['case'].indexOf(lb)||/^\//.test(sb[Mb]['case'])){Pb={};if('undefined'==typeof sb[Mb].rules[Ka]&&'undefined'==typeof fb[Ka]||ha[Ka].disabled)sb[Mb].rules[Ka]={exclude:!0};for(var Hb in sb[Mb].rules)if(!/^_comment$/i.test(Hb))if(/^\//.test(Hb)){ia=Hb.match(/\/(.*)\//).pop();Ba=Hb.replace('/'+ia+'/','');ia=ia.replace(/\[/g,'\\[').replace(/\]/g,
'\\]');ia=new RegExp(ia,Ba);for(var Jb in ha)ia.test(Jb)&&(/^\//.test(sb[Mb]['case'])?(ia=sb[Mb]['case'].match(/\/(.*)\//).pop(),Ba=sb[Mb]['case'].replace('/'+ia+'/',''),ia=new RegExp(ia,Ba),ia.test(lb)&&(Pb[Jb]=sb[Mb].rules[Hb])):Pb[Jb]=sb[Mb].rules[Hb],'undefined'==typeof Z[Jb]&&'undefined'!=typeof ha[Jb]&&'undefined'!=typeof ha[Jb].value&&(Z[Jb]=ha[Jb].value,L&&/(true|false)/i.test(Z[Jb])&&('true'==Z[Jb]?Z[Jb]=!0:'false'==Z[Jb]&&(Z[Jb]=!1)),Ta.addField(Jb,Z[Jb]),'undefined'!=typeof ea[Jb]&&(Pb[Jb]=
W(Pb[Jb],ea[Jb]))))}else/^\//.test(sb[Mb]['case'])?(ia=sb[Mb]['case'].match(/\/(.*)\//).pop(),Ba=sb[Mb]['case'].replace('/'+ia+'/',''),ia=ia.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),ia=new RegExp(ia,Ba),ia.test(lb)&&(Pb[Hb]=sb[Mb].rules[Hb])):Pb[Hb]=sb[Mb].rules[Hb],'undefined'==typeof Z[Hb]&&'undefined'!=typeof ha[Hb]&&'undefined'!=typeof ha[Hb].value&&(Z[Hb]=ha[Hb].value,L&&/(true|false)/i.test(Z[Hb])&&('true'==Z[Hb]?Z[Hb]=!0:'false'==Z[Hb]&&(Z[Hb]=!1)),Ta.addField(Hb,Z[Hb]),'undefined'!=typeof ea[Hb]&&
(Pb[Hb]=W(Pb[Hb],ea[Hb])));++ba;if(L)Vb(Wa,fb,ea,Z,ha,Pb,Ma,$a);else return Vb(Wa,fb,ea,Z,ha,Pb,Ma,$a)}--$a}}--ba;if(0>=$a&&0>ba){fb=Ta.getErrors();for(Ka in fb){for(rule in fb[Ka])ob[Ka]||(ob[Ka]=''),0>ob[Ka].indexOf(rule)&&(ob[Ka]+=rule+' ');L&&ha[Ka].setAttribute('data-gina-form-errors',ob[Ka].substr(0,ob[Ka].length-1))}try{X=La(Ta.toData()),V&&L&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.validated||(gina.forms.validated={}),gina.forms.validated[z]||(gina.forms.validated[z]=
{}),window.ginaToolbar.update('forms',{id:z,validated:X}))}catch(Mb){throw Mb;}Q=!0;if(!P&&0>=ka)if('undefined'!=typeof Ma&&'function'===typeof Ma)Ma._errors=Ta.getErrors(),Ma._data=Ta.toData(),triggerEvent(gina,Wa,'validated.'+z,Ma);else return P=!0,{isValid:Ta.isValid,error:fb,data:X}}};L&&addListener(gina,e,q,function(Wa){Wa.preventDefault();if(!P){P=!0;Q=!1;ka=0;var fb=Wa.detail,ea=fb._data||Ta.toData(),Z=fb._errors||Ta.getErrors()||null;console.debug('instance errors: ',x.$forms[z].errors,' VS cbErrors: ',
Z,Ta.isValid(),' VS d.getErrors(): ',Ta.getErrors());0<Z.count()&&Ta.isValid()&&(Ta.isValid=function(){return!1});fb({isValid:Ta.isValid,error:Z,data:La(ea)});removeListener(gina,Wa.target,'validated.'+Wa.target.id)}});if(L)Vb(e,Kb,wb,b,h,n,w,0);else return Vb(e,Kb,wb,b,h,n,w,0)};return L?Ra(E):F(E,R,da)}'undefined'!==typeof module&&module.exports?module.exports=ValidatorPlugin:'function'===typeof define&&define.amd&&define('gina/validator',['utils/events','utils/dom','utils/form-validator'],function(){return ValidatorPlugin});
define('gina/toolbar','require jquery vendor/uuid utils/collection utils/routing gina/storage gina/validator'.split(' '),function(E){var R=E('jquery');R.noConflict();var da=E('utils/routing');E('utils/collection');var Ga=E('gina/storage');return function(){var L=null,V=!1,oa=!1,W=!1,Y,m=(new Ga({bucket:'gina'})).Collection('plugin'),U=null,x=null,ma=!1,Da=null,S=null,I=null,y=null,F=null,p='',C=null,D=null,N=null,u='',r=null,G=0,K=0,A=0,O='',T={},sa=null,qa=null,Ea=null,wa=null,za=null,pa=null,Ca=
null,Ra=null,Sa=null,Pa=null,zb=null,Ia=null,La=null,Za=null,vb=function(){U=R('#gina-toolbar');if(!U.length)return!1;Da=U.find('.gina-toolbar-tab > a');S=R('#gina-toolbar-toggle');I=R('#gina-toolbar-panels');y=I.find('.gina-toolbar-panel');C=R('#gina-toolbar-vposition');D=R('#gina-toolbar-hposition');N=C.add(D);r=R('#gina-toolbar-width');U.find('.gina-toolbar-main');sa=R('#gina-toolbar-json');qa=R('#gina-toolbar-gina-json');Ea=R('#gina-toolbar-toggle-code-raw');$forms=R('form:not(.gina-toolbar-options, .gina-toolbar-content)');
Sa=R('#gina-toolbar-data-html');Pa=R('#gina-toolbar-view-html');zb=R('#gina-toolbar-forms-html');Ra=R('#gina-toolbar-configuration-environment-html');Ia=R('#gina-toolbar-code-toggle');U.prepend('<textarea class="gina-toolbar-copy"></textarea>');La=U.find('.gina-toolbar-copy');x=m.findOne({_name:'toolbar'});x||(x={_name:'toolbar',_version:'1.0.3',_description:'Toolbar settings',_licence:'MIT',_author:[{name:'Fabrice Delaneau',company:'Freelancer'},{name:'Martin-Luther Etouman',company:'Rhinostone'}],
position:'top-right',width:'30',panelId:'#gina-toolbar-data',isCollapsed:!0,isUnfolded:[],debug:{forms:{active:!1,strategy:'frontend'}}},m.insert(x),x=m.findOne({_name:'toolbar'}));'1.0.3'!=x._version&&('1.0.1'>x._version&&(x.isUnfolded||(x.isUnfolded=[]),void 0!=x.codeFolding&&delete x.codeFolding),'undefined'==typeof x.isUnfolded||Array.isArray(x.isUnfolded)||(x.isUnfolded=[]),x._version='1.0.3',x.save(!0));u=x.position;G=x.width;p=x.panelId;ma=x.isCollapsed;U.removeClass('gina-toolbar-hidden');
Cb()},cb=function(h,n,w){var q=null;try{var z=sa?sa.text():'';''==z||'null'==z?sa.text('Empty'):(za=JSON.parse(z),Ca=JSON.parse(qa.text()),sa.text(''),wa||(wa={jsonObject:JSON.clone(za),ginaJsonObject:JSON.clone(Ca)},pa={}))}catch(fa){if(z='Could not load'+(h?' [ '+h+' ] ':' ')+'json\n'+(fa.stack||fa.message||fa),sa)sa.text(z);else throw z;}if(za){n&&!w?(za[h]||(za[h]={}),za[h]=Ca[h]=n):'data-xhr'==h&&!n&&za['data-xhr']?delete za['data-xhr']:w&&(za=n,Ca=w);b(za,'');delete za.environment.routing;delete Ca.environment.routing;
delete za.environment.reverseRouting;delete Ca.environment.reverseRouting;delete za.environment.forms;delete Ca.environment.forms;Ra.html(Gb(za.environment,Ca.environment));q=za.data;var X=za.view;w=za.forms;var P=Ca.data,ba=Ca.view;z=Ca.forms;oa=Y=!1;var Q=null,v=!1;/^(view-xhr)$/.test(h)&&(Q=!0,X=za[h],ba=Ca[h],q=za['data-xhr'],P=Ca['data-xhr']);if(!h||/^(data)$/.test(h))Sa.html('<ul class="gina-toolbar-code">'+Gb(q,P,null,Q)+'</ul>'),Pa.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),
Pa.html(Zb(X,ba,null,Q,Pa)),q=$forms,zb.html(''),zb.html(xa(w,z,zb,0,q,q.length,Q)),zb.find('div.gina-toolbar-section > h2').off('click').on('click',function(fa){fa.preventDefault();R(this).parent().find('ul').first().slideToggle()});if(/^(data-xhr|view-xhr)$/.test(h)){if('undefined'==typeof za[h]||!za[h]||'null'==za[h])return!1;Q=!0;v='undefined'!=typeof za[h].isXHRViewData?!0:v;v||/^(view-xhr)$/.test(h)||'undefined'==typeof za['el-xhr']||(pa.data=JSON.clone(za[h]));v&&delete za[h].isXHRViewData;
/^(data-xhr)$/.test(h)?Sa.html('<ul class="gina-toolbar-code">'+Gb(za[h],Ca[h],null,Q)+'</ul>'):/^(view-xhr)$/.test(h)&&(Pa.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),Pa.html(Zb(za[h],Ca[h],null,Q,Pa)))}/^(el-xhr)$/.test(h)&&(Q=!0,q=R('#'+n).find('form:not(.gina-toolbar-options, .gina-toolbar-content)'),zb.html(''),zb.html(xa(w,z,zb,0,q,q.length,
Q)),zb.find('div.gina-toolbar-section > h2').off('click').on('click',function(fa){fa.preventDefault();R(this).parent().find('ul').first().slideToggle()}));/^(forms)$/.test(h)&&(oa=Q=!0,R('#gina-toolbar-form-'+n.id).length||(q=$forms,zb.html(''),zb.html(xa(w,z,zb,0,q,q.length,Q)),zb.find('div.gina-toolbar-section > h2').off('click').on('click',function(fa){fa.preventDefault();R(this).parent().find('ul').first().slideToggle()})),'undefined'!=typeof n.rules&&Ha(n.id,'rules',n.rules,Q),'undefined'!=typeof n.errors&&
0<n.errors.count()&&Ha(n.id,'errors',n.errors,Q),'undefined'!=typeof n.sent&&Ha(n.id,'sent',n.sent,Q));x.currentFile=za.file;x.currentFile||(x.currentFile=za.file);za.file==x.currentFile&&R(document).ready(function(){oa?(V=!0,0<x.isUnfolded.length&&!Y&&(Y=!0,setTimeout(function(){0<x.isUnfolded.length&&Xa(x.isUnfolded,x.isUnfolded.length,0)},200))):Q?(V=!0,0<x.isUnfolded.length&&!Y&&(Y=!0,Xa(x.isUnfolded,x.isUnfolded.length,0))):(V=!1,setTimeout(function(){0<x.isUnfolded.length&&Xa(x.isUnfolded,x.isUnfolded.length,
0)},200))})}if(!h||'el-xhr'==h&&!W)W=h&&'el-xhr'==h?!0:!1,va(h)},Xa=function(h,n,w){if(w==n)return!1;var q=h[w],z=null;V&&/^xhr-/.test(q)?(q=q.replace(/^xhr-/,''),z=R('.gina-toolbar-xhr-folding-state-'+q)):z=R('.gina-toolbar-folding-state-'+q);xb(z,function(){w+=1;Xa(h,n,w)})},Cb=function(){Sa.add(Pa).off('click','a').on('click','a',function(n){n.preventDefault();xb(R(this),null,!0)}).add(zb).off('click','a').on('click','a',function(n){n.preventDefault();xb(R(this),null,!0)});Ia.off('click').on('click',
function(n){n.preventDefault();xb('all',null,!0)});Sa.add(Pa,zb).off('click','.gina-toolbar-value').on('click','.gina-toolbar-value',function(n){n.preventDefault();try{Za=R(this).text(),La.text(Za),La.select(),document.execCommand('copy',!1,null),La.blur()}catch(w){alert('Please press Ctrl/Cmd+C to copy the value')}});Ea.off('click').on('click',function(n){za&&window.open('','JSON RAW','width=400,height=100').document.write(JSON.stringify(za.data))});Da.off('click').on('click',function(n){n.preventDefault();
Da.removeClass('gina-toolbar-active');y.removeClass('gina-toolbar-active');R(this).addClass('gina-toolbar-active');p=R(this).attr('href');F=R(p).addClass('gina-toolbar-active');x.panelId=p;x.save()});S.off('click').on('click',function(n){n.preventDefault();U.toggleClass('gina-toolbar-collapsed');ma=U.hasClass('gina-toolbar-collapsed');x.isCollapsed=ma;x.save()});N.off('change').on('change',function(n){n.preventDefault();n=C.val();var w=D.val();u=n+'-'+w;Db(u);x.position=u;x.save()});r.off('change').on('change',
function(n){n.preventDefault();G=r.val();Eb(G);x.width=G;x.save()});R(window).off('resize').on('resize',function(){ub()});R('body').off('keypress').on('keypress',function(n){if(!/INPUT|TEXTAREA/.test(n.target.tagName)){O=n.keyCode?n.keyCode:n.which?n.which:n.charCode;n=new Date;if('undefined'!=typeof T.keynum&&T.keynum==O&&'undefined'!=typeof T.pressTime&&500>n.getTime()-T.pressTime)switch(O){case 103:U.toggle()}T.pressTime=n.getTime();T.keynum=O}});Da.filter('[href="'+p+'"]').trigger('click');ma||
R('#gina-toolbar-toggle').trigger('click');Db(u);var h=u.split('-');C.val(h[0]);D.val(h[1]);Eb(G);r.val(G);ub();h=sa?sa.text():'';/^\{\{ (.*) \}\}/.test(h)?e(h,cb):cb()},Db=function(h){U.removeClass('gina-toolbar-top-left gina-toolbar-top-right gina-toolbar-bottom-left gina-toolbar-bottom-right').addClass('gina-toolbar-'+h)},Eb=function(h){U.removeClass('gina-toolbar-auto gina-toolbar-100 gina-toolbar-80 gina-toolbar-60 gina-toolbar-50 gina-toolbar-40 gina-toolbar-30').addClass('gina-toolbar-'+h)},
ub=function(){K=window.innerHeight-32;U.find('.gina-toolbar-main').css('max-height',K+'px');var h=F.find('.gina-toolbar-main'),n=h.find('.gina-toolbar-content');A=h.height();A==K?n.addClass('gina-toolbar-content-end'):n.removeClass('gina-toolbar-content-end')},xb=function(h,n,w){'undefined'==typeof w&&(w=!1);if(void 0!=h&&h.length&&'all'!=h){L=h.attr('class');var q=!1;if(/(gina-toolbar-folding-state-[a-z 0-9_-]+|gina-toolbar-xhr-folding-state-[a-z 0-9_-]+)/i.test(L))if(/gina-toolbar-folding-state-[a-z0-9_-]+/i.test(L)?
L=L.match(/gina-toolbar-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-folding-state-/,''):(q=!0,'undefined'!=typeof L&&(L=L.match(/gina-toolbar-xhr-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-xhr-folding-state-/,'xhr-'))),0>x.isUnfolded.indexOf(L))x.isUnfolded.push(L),x.save(),h.hasClass('gina-toolbar-unfolded')||(h.addClass('gina-toolbar-unfolded'),h.next('ul').slideToggle('fast'));else if(-1<x.isUnfolded.indexOf(L)&&h.hasClass('gina-toolbar-unfolded')){for(var z=new RegExp('^('+
L+')'),X=0,P=x.isUnfolded.length;X<P;++X)z.test(x.isUnfolded[X])&&(!oa&&w||oa&&q||w)&&(x.isUnfolded.splice(X,1),--X);x.save(!0);0>x.isUnfolded.indexOf(L)&&(h.removeClass('gina-toolbar-unfolded'),h.next('ul').slideToggle('fast'))}else h.addClass('gina-toolbar-unfolded'),h.next('ul').slideToggle('fast')}'undefined'!=typeof n&&null!=n&&n()},Fb=function(h){var n={},w=null,q=[],z=0;for(w in h)h.hasOwnProperty(w)&&(q[z]=w,++z);var X=q.length;q.sort();for(z=0;z<X;++z)w=q[z],n[w]=h[w];return n},Qa=function(h,
n){var w='';if('undefined'!=typeof h&&''!=h){var q=h;'string'==typeof h&&(q=h.replace(/(\]\[|\[)/g,'-').replace(/\]/,'').replace(/[^A-Za-z0-9_-]/g,'_'));w+=q+'-'}'undefined'!=typeof n&&''!=n?(h=n,'string'==typeof n&&(h=n.replace(/(\]\[|\[)/g,'-').replace(/\]/,'')),w+=h):w=w.substr(0,w.length-1);return w.trim()},Gb=function(h,n,w,q,z){var X='';w='undefined'!=typeof w&&null!=w?w.replace(/[^A-Za-z0-9_-]/g,'_'):'';var P='undefined'!=typeof z&&null!=z?z:'',ba='undefined'!=typeof q&&null!=q?'-xhr':'';h=
Fb(h);n=Fb(n);for(var Q in h)if('object'!=typeof h[Q]||Array.isArray(h[Q])||null===h[Q])if(Array.isArray(h[Q])){w+='-'+Q.replace(/[^A-Za-z0-9_-]/g,'_');var v=0<h[Q].length||'undefined'!=typeof n[Q]&&0<n[Q].length?'':' is-empty';X+='<li class="gina-toolbar-collection">';X+='<a href="#" class="gina-toolbar-key gina-toolbar'+ba+'-folding-state-'+Qa(P,Q.replace(/[^A-Za-z0-9_-]/g,'_'))+v+'">'+Q+' <span>['+h[Q].length+']</span></a>';X+='<ul class="gina-toolbar-collection">'+Yb(h[Q],n[Q],w,q,z)+'</ul>';
X+='</li>';w=w.substr(0,w.length-Q.length)}else v=null===n[Q]?'null':typeof n[Q],'undefined'==v?(X+='<li class="gina-toolbar-key-value">',X+='<span class="gina-toolbar-key gina-toolbar-key-added">'+Q+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+v+'">'+h[Q]+'</span>'):(h[Q]!==n[Q]&&(X+='<li class="gina-toolbar-key-value gina-toolbar-is-overridden">',X+='<span class="gina-toolbar-key">'+Q+':</span> <span class="gina-toolbar-value">'+n[Q]+'</span>',X+='</li>'),X+='<li class="gina-toolbar-key-value">',
X+='<span class="gina-toolbar-key">'+Q+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+v+'">'+h[Q]+'</span>'),X+='</li>';else w+='-'+Q.replace(/[^A-Za-z0-9_-]/g,'_'),v=0<h[Q].count()||'undefined'!=typeof n[Q]&&0<n[Q].count()?'':' is-empty',X+='<li class="gina-toolbar-object">',X+='<a href="#" class="gina-toolbar-key gina-toolbar'+ba+'-folding-state-'+Qa(P,Q.replace(/[^A-Za-z0-9_-]/g,'_'))+v+'">'+Q+' <span>{ }</span></a>',X+='<ul class="gina-toolbar-object">'+Gb(h[Q],n[Q],w,
q,z)+'</ul>',X+='</li>',w=w.substr(0,w.length-Q.length);return X},Yb=function(h,n,w,q,z){var X='';w='undefined'!=typeof w&&null!=w?w:'';var P='undefined'!=typeof z&&null!=z?z:'',ba='undefined'!=typeof q&&null!=q?'-xhr':'';n||=[];for(var Q=0,v=h.length;Q<v;++Q)'object'!=typeof h[Q]||Array.isArray(h[Q])?Array.isArray(h[Q])?(w+='-'+Q,''==P&&(P=w),X+='<li class="gina-toolbar-collection">',X+='<a href="#" class="gina-toolbar-key gina-toolbar'+ba+'-folding-state-'+Qa(P,Q)+'">'+Q+'<span>[ ]</span></a>',
X+='<ul class="gina-toolbar-collection">'+Yb(h[Q],n[Q],w,q,z)+'</ul>',X+='</li>',w=w.substr(0,w.length-Q.toString().length)):X+='<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+Q+':</span> <span class="gina-toolbar-value">'+h[Q]+'</span></li>':(n[Q]||(n[Q]=h[Q]),w+='-'+Q,''==P&&(P=w),X+='<li class="gina-toolbar-object">',X+='<a href="#" class="gina-toolbar-key gina-toolbar'+ba+'-folding-state-'+Qa(P,Q)+'">'+Q+' <span>{ }</span></a>',X+='<ul class="gina-toolbar-object">'+Gb(h[Q],
n[Q],w,q,z)+'</ul>',X+='</li>',w=w.substr(0,w.length-Q.toString().length-1));return X},Zb=function(h,n,w,q,z,X){w=null!=w?w.replace(/[^A-Za-z0-9_-]/g,'_'):'';var P='undefined'!=typeof q&&null!=q?'-xhr':'';h=Fb(h);n=Fb(n);X||=z;for(var ba in h){var Q=ba;if('object'!=typeof h[ba]||Array.isArray(h[ba])||null===h[ba])if(Array.isArray(h[ba])){var v=R('#gina-toolbar-view-'+w.substr(0,w.length-1));var fa=v.length?!0:!1;!fa||/^html/.test(w)?(v=R('.'+w),fa=w+ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-',v.append('<li class="gina-toolbar-collection"><a href="#" class="gina-toolbar-key gina-toolbar'+
P+'-folding-state-'+Qa(ba.replace(/[^A-Za-z0-9_-]/g,'_'),fa.substr(0,fa.length-1))+'">'+ba+' <span>['+h[ba].length+']</span></a><ul> '+Yb(h[ba],n[ba],fa,v.find('li ul.'+w.substr(0,w.length-1)),Q)+'</ul></li>')):(fa=w+ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-',v.find('li.'+w.substr(0,w.length-1)+' ul').append('<li class="gina-toolbar-collection"><a class="gina-toolbar-key gina-toolbar'+P+'-folding-state-'+Qa(ba.replace(/[^A-Za-z0-9_-]/g,'_'),fa.substr(0,fa.length-1))+'">'+ba+' <span>['+h[ba].length+']</span></a><ul>'+
Yb(h[ba],n[ba],fa,v.find('li ul.'+w.substr(0,w.length-1)),Q)+'</ul></li>'));w+=ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-';w=w.substr(0,w.length-ba.length-1)}else if(Q=null===n[ba]?'null':typeof n[ba],'undefined'==Q)/\-$/.test(w)&&(w=w.substr(0,w.length-1)),w&&z.find('ul.'+w).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key gina-toolbar-key-added">'+ba+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+h[ba]+'</span></li>');else if(h[ba]!==n[ba]){w||(w+=
ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-');try{z.find('ul.'+w).append('<li class="gina-toolbar-key-value gina-toolbar-is-overridden"><span class="gina-toolbar-key">'+ba+':</span> <span class="gina-toolbar-value">'+n[ba]+'</span></li>'),z.find('ul.'+w).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ba+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+h[ba]+'</span></li>')}catch(ta){throw Error('GinaToolbarError: `ul.'+w+'` not found');}}else!w||
/^html\-properties/.test(w)?X.find('.gina-toolbar-properties').append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ba+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+h[ba]+'</span></li>'):X.find('ul.'+w.substr(0,w.length-1)).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ba+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+Q+'">'+h[ba]+'</span></li>');else v=R('#gina-toolbar-view-'+w.substr(0,w.length-
1)),(fa=v.length?!0:!1)?(fa=w+ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-',v.find('ul.'+w.substr(0,w.length-1)).append('<li class="gina-toolbar-object"><a href="#" class="gina-toolbar-key gina-toolbar'+P+'-folding-state-'+Qa(ba.replace(/[^A-Za-z0-9_-]/g,'_'),fa.substr(0,fa.length-1))+'">'+ba+' <span>{ }</span></a><ul class="gina-toolbar-object '+fa.substr(0,fa.length-1)+'"></ul></li>'),Zb(h[ba],n[ba],fa,q,v.find('ul.'+w.substr(0,w.length-1)),X),w+=ba.replace(/[^A-Za-z0-9_-]/g,'_')+'-'):(w+=ba.replace(/[^A-Za-z0-9_-]/g,
'_')+'-','params'==ba?(Q='<div id="gina-toolbar-view-'+w.substr(0,w.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+w.substr(0,w.length-1)+'</h2><ul class="'+w.substr(0,w.length-1)+'"></ul></div>',R('#gina-toolbar-view-html-properties').before(Q)):/^html/.test(w)||(Q='<div id="gina-toolbar-view-'+w.substr(0,w.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+w.substr(0,w.length-1)+'</h2><ul class="'+w.substr(0,w.length-1)+'"></ul></div>',
z.append(Q)),Zb(h[ba],n[ba],w,q,z.find('ul.'+w.substr(0,w.length-1)),X)),w=w.substr(0,w.length-ba.length-1)}return X.html()},va=function(h){h=gina.hasPopinHandler?gina.popin.getActivePopin():null;var n,w=(gina.hasPopinHandler?R('#'+h.id):R('body')).html().match(/404:\[(.+)\](.+)@(.+)"/gm);if(w){var q=0;for(n=w.length;q<n;++q){h=w[q].replace(/"(.*)|"/g,'');var z=h.match(/\[(.*)\]/g,'')[0].replace(/\[|\]/g,'');da.getRouteByUrl(h,z)}}fLen=da.notFound.count();if(0<fLen)for(f in da.notFound)console.warn('(x'+
da.notFound[f].count+') '+f+' => '+da.notFound[f].message)},xa=function(h,n,w,q,z,X,P){if(!X)return!1;for(var ba=z[q].attributes,Q,v=z[q].getAttribute('id')||z[q].id,fa=R('<div id="gina-toolbar-form-'+v+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+v+'</h2><ul class="gina-toolbar-section-content gina-toolbar-code" style="display: none;"><li class="gina-toolbar-form-attributes"><h3 class="gina-toolbar-sub-section-title">'+'gina-toolbar-form-attributes'.replace(/gina-toolbar-form-/,
'')+'</h3><ul class="gina-toolbar-code"></ul></li></ul></div>'),ta,ka,ia=null,Ba=0,ya=ba.length;Ba<ya;++Ba)ta=ba[Ba].name,ka=ba[Ba].nodeValue,/^method$/.test(ta)&&(ka=ka.toUpperCase()),/^class$/.test(ta)&&/\s+/.test(ka)&&(ka='<ul><li>'+ka.replace(/\s+/g,'</li><li>')+'</li></ul>'),/^action$/.test(ta)&&((Q='undefined'!=typeof ba.method?ba.method.nodeValue:void 0)||console.warn('[ ToolbarFormHelper::UndefinedMethod : form `'+ba.id.nodeValue+'` method attribute cannot be left undefined !'),Q=da.getRouteByUrl(ka,
Q),'undefined'!=typeof Q&&Q||(Q={name:'not found',namespace:'not found',param:{control:'not found',file:'not found'}}),ka='<ul><li><span class="gina-toolbar-key">url</span><span class="gina-toolbar-value">'+(ka||'#')+'</span></li><li><span class="gina-toolbar-key">route</span><span class="gina-toolbar-value">'+Q.name+'</span></li><li><span class="gina-toolbar-key">namespace</span><span class="gina-toolbar-value">'+(Q.namespace||'root controller')+'</span></li><li><span class="gina-toolbar-key">control</span><span class="gina-toolbar-value">'+
Q.param.control+'</span></li><li><span class="gina-toolbar-key">file</span><span class="gina-toolbar-value">'+Q.param.file+'</span></li><ul>',ia='<li><span class="gina-toolbar-key">'+ta+':</span><span class="gina-toolbar-value">'+ka+'</span></li>'),/^data-gina-form-event/.test(ta)?(Q='events',ia=fa.find('.gina-toolbar-form-attributes').find('.gina-toolbar-key-events').length?!0:!1,ta=ta.replace(/^data-gina-form-event-/,''),ia||fa.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+
Q+'"><h3 class="gina-toolbar-sub-section-title">'+Q+'</h3><ul class="gina-toolbar-code"></ul></li>'),ia='<li><span class="gina-toolbar-key">'+ta+':</span><span class="gina-toolbar-value">'+ka+'</span></li>',fa.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+Q+' > ul').append(ia)):(/^action$/.test(ta)||(ia='<li><span class="gina-toolbar-key">'+ta+':</span><span class="gina-toolbar-value">'+ka+'</span></li>'),fa.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-attributes > ul').append(ia));
ba=null;try{var Ya=z[q].getAttribute('data-gina-form-rule');ba='undefined'!=typeof Ya&&null!=Ya?eval('gina.forms.rules.'+Ya.replace(/-/g,'.')):eval('gina.forms.rules.'+v.replace(/-/g,'.'))}catch(Ta){}ba&&(Q='rules',fa.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+Q+'"><h3 class="gina-toolbar-sub-section-title">'+Q+'</h3><ul class="gina-toolbar-properties">'+Gb(ba,ba,v,P,Q)+'</ul></li>'));w.append(fa);++q;q<X&&xa(h,n,w,q,z,X,P)},Ha=function(h,n,w,q){var z=R('#gina-toolbar-form-'+
h);$section=z.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+n+'> ul');if(0<$section.length){if(0==w.count())return z.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+n).remove(),!1;$section.html(Gb(w,w,h,q,n))}else z.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+n+'"><h3 class="gina-toolbar-sub-section-title">'+n+'</h3><ul class="gina-toolbar-properties">'+Gb(w,w,h,q,n)+'</ul></li>');h=z.find('ul.gina-toolbar-section-content');
h.is(':visible')||h.slideToggle()},M=function(h,n){return h='<label class="gina-toolbar-input-file"><input type="file" multiple id="'+(h+'">')+n+'</label>'},e=function(h,n){h=M('mock','Select your JSON file');Sa.html(h);sa.text('');Sa.find('input').off('change').on('change',function(w){var q=R(this)[0].files,z=w=null;if(1==q.length)w=R(this)[0].files[0],z=new FileReader,z.addEventListener('load',function(){sa.text(z.result);qa.text(z.result);n()},!1),z.readAsBinaryString(w);else{var X=0;z=[];for(var P=
0,ba=q.length;P<ba;++P)switch(w=q[P],!0){case /user/.test(w.name):z[P]=new FileReader;z[P].addEventListener('load',function(Q){sa.text(Q.currentTarget.result);++X;X==q.length&&n()},!1);z[P].readAsBinaryString(w);break;case /gina/.test(w.name):z[P]=new FileReader,z[P].addEventListener('load',function(Q){qa.text(Q.currentTarget.result);++X;X==q.length&&n()},!1),z[P].readAsBinaryString(w)}}});return!1},b=function(h,n){for(var w in h)'object'==typeof h[w]&&b(h[w],n+w+'-')};this.update=function(h,n){cb(h,
n)};this.restore=function(){pa&&'undefined'!=typeof pa.data&&(wa.jsonObject.data=pa.data);cb('data',wa.jsonObject,wa.ginaJsonObject);W=!1;da.notFound={}};if('undefined'!=typeof gina.validator)gina.validator.on('initialized',function(){console.log('toolbar validator ready');vb()});else vb()}});
define('gina','require vendor/uuid utils/merge utils/events helpers/prototypes helpers/dateFormat gina/toolbar'.split(' '),function(E){E('utils/events');var R=E('utils/merge'),da=E('helpers/dateFormat')();E('helpers/prototypes')({dateFormat:da});var Ga=E('vendor/uuid');window.process||function(L,V,oa,W,Y,m,U){for(m=L[oa]||(L[oa]={});!U&&Y<W.length;)U=L[W[Y++]+'requestAnimationFrame'];m[V]=m[V]||U&&U.bind(L)||L.setImmediate||L.setTimeout}(window,'nextTick','process',['r','webkitR','mozR','msR','oR'],
0);window.getComputedStyle||(window.getComputedStyle=function(L,V){this.el=L;this.getPropertyValue=function(oa){var W=/(\-([a-z]){1})/g;'float'==oa&&(oa='styleFloat');W.test(oa)&&(oa=oa.replace(W,function(Y,m,U){return U.toUpperCase()}));return L.currentStyle[oa]?L.currentStyle[oa]:null};return this});return function(L){this.plugin='gina';var V='gina-'+Ga.v1(),oa=document,W;document.id=V;V={id:V,isFrameworkLoaded:!1,hasValidator:!1,hasPopinHandler:!1,config:{},registeredEvents:{},events:{},setOptions:function(Y){W=
R(W,Y,!0)}};'undefined'!=typeof parent.window.gina&&(window.gina=R(window.gina||{},parent.window.gina));V=R(window.gina||{},V);registerEvents(this.plugin,['ginaloaded','ready']);triggerEvent(L,oa,'ginaloaded',V)}});
!function(E,R){'object'==typeof exports&&'undefined'!=typeof module?module.exports=R():'function'==typeof define&&define.amd?define('vendor/engine.io',R):(E='undefined'!=typeof globalThis?globalThis:E||self).eio=R()}(this,function(){function E(va){return E='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(xa){return typeof xa}:function(xa){return xa&&'function'==typeof Symbol&&xa.constructor===Symbol&&xa!==Symbol.prototype?'symbol':typeof xa},E(va)}function R(va,xa){if(!(va instanceof
xa))throw new TypeError('Cannot call a class as a function');}function da(va,xa){for(var Ha=0;Ha<xa.length;Ha++){var M=xa[Ha];M.enumerable=M.enumerable||!1;M.configurable=!0;'value'in M&&(M.writable=!0);Object.defineProperty(va,M.key,M)}}function Ga(va,xa,Ha){return xa&&da(va.prototype,xa),Ha&&da(va,Ha),va}function L(){return L=Object.assign||function(va){for(var xa=1;xa<arguments.length;xa++){var Ha=arguments[xa],M;for(M in Ha)Object.prototype.hasOwnProperty.call(Ha,M)&&(va[M]=Ha[M])}return va},
L.apply(this,arguments)}function V(va,xa){if('function'!=typeof xa&&null!==xa)throw new TypeError('Super expression must either be null or a function');va.prototype=Object.create(xa&&xa.prototype,{constructor:{value:va,writable:!0,configurable:!0}});xa&&W(va,xa)}function oa(va){return oa=Object.setPrototypeOf?Object.getPrototypeOf:function(xa){return xa.__proto__||Object.getPrototypeOf(xa)},oa(va)}function W(va,xa){return W=Object.setPrototypeOf||function(Ha,M){return Ha.__proto__=M,Ha},W(va,xa)}
function Y(){if('undefined'==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(va){return!1}}function m(va,xa,Ha){return m=Y()?Reflect.construct:function(M,e,b){var h=[null];h.push.apply(h,e);M=new (Function.bind.apply(M,h));return b&&W(M,b.prototype),M},m.apply(null,arguments)}function U(va){var xa='function'==typeof Map?new Map:void 0;return U=function(Ha){function M(){return m(Ha,
arguments,oa(this).constructor)}if(null===Ha||(e=Ha,-1===Function.toString.call(e).indexOf('[native code]')))return Ha;var e;if('function'!=typeof Ha)throw new TypeError('Super expression must either be null or a function');if(void 0!==xa){if(xa.has(Ha))return xa.get(Ha);xa.set(Ha,M)}return M.prototype=Object.create(Ha.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),W(M,Ha)},U(va)}function x(va){if(void 0===va)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return va}function ma(va){var xa=Y();return function(){var Ha=oa(va);if(xa){var M=oa(this).constructor;Ha=Reflect.construct(Ha,arguments,M)}else Ha=Ha.apply(this,arguments);return!Ha||'object'!=typeof Ha&&'function'!=typeof Ha?x(this):Ha}}function Da(va,xa,Ha){return Da='undefined'!=typeof Reflect&&Reflect.get?Reflect.get:function(M,e,b){for(;!Object.prototype.hasOwnProperty.call(M,e)&&null!==(M=oa(M)););if(M)return e=Object.getOwnPropertyDescriptor(M,e),e.get?e.get.call(b):e.value},Da(va,xa,Ha||
va)}function S(va){if(va){for(var xa in S.prototype)va[xa]=S.prototype[xa];return va}}function I(va){for(var xa=arguments.length,Ha=Array(1<xa?xa-1:0),M=1;M<xa;M++)Ha[M-1]=arguments[M];return Ha.reduce(function(e,b){return va.hasOwnProperty(b)&&(e[b]=va[b]),e},{})}function y(va,xa){xa.useNativeTimers?(va.setTimeoutFn=zb.bind(Pa),va.clearTimeoutFn=Ia.bind(Pa)):(va.setTimeoutFn=setTimeout.bind(Pa),va.clearTimeoutFn=clearTimeout.bind(Pa))}function F(va){var xa='';do xa=vb[va%64]+xa,va=Math.floor(va/
64);while(0<va);return xa}function p(){var va=F(+new Date);return va!==La?(cb=0,La=va):va+'.'+F(cb++)}function C(va){var xa='',Ha;for(Ha in va)va.hasOwnProperty(Ha)&&(xa.length&&(xa+='&'),xa+=encodeURIComponent(Ha)+'='+encodeURIComponent(va[Ha]));return xa}function D(va){var xa={};va=va.split('&');for(var Ha=0,M=va.length;Ha<M;Ha++){var e=va[Ha].split('=');xa[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return xa}function N(va){va=va.xdomain;try{if('undefined'!=typeof XMLHttpRequest&&(!va||
Cb))return new XMLHttpRequest}catch(xa){}if(!va)try{return new (Pa[['Active'].concat('Object').join('X')])('Microsoft.XMLHTTP')}catch(xa){}}function u(){}function r(){for(var va in Eb.requests)Eb.requests.hasOwnProperty(va)&&Eb.requests[va].abort()}function G(va){var xa=va,Ha=va.indexOf('['),M=va.indexOf(']');-1!=Ha&&-1!=M&&(va=va.substring(0,Ha)+va.substring(Ha,M).replace(/:/g,';')+va.substring(M,va.length));var e,b;va=Gb.exec(va||'');for(var h={},n=14;n--;)h[Yb[n]]=va[n]||'';return-1!=Ha&&-1!=M&&
(h.source=xa,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,':'),h.authority=h.authority.replace('[','').replace(']','').replace(/;/g,':'),h.ipv6uri=!0),h.pathNames=function(w,q){w=q.replace(/\/{2,9}/g,'/').split('/');'/'!=q.substr(0,1)&&0!==q.length||w.splice(0,1);'/'==q.substr(q.length-1,1)&&w.splice(w.length-1,1);return w}(0,h.path),h.queryKey=(e=h.query,b={},e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(w,q,z){q&&(b[q]=z)}),b),h}var K=Object.create(null);K.open='0';K.close='1';K.ping=
'2';K.pong='3';K.message='4';K.upgrade='5';K.noop='6';var A=Object.create(null);Object.keys(K).forEach(function(va){A[K[va]]=va});for(var O={type:'error',data:'parser error'},T='function'==typeof Blob||'undefined'!=typeof Blob&&'[object BlobConstructor]'===Object.prototype.toString.call(Blob),sa='function'==typeof ArrayBuffer,qa=function(va,xa,Ha){var M=va.type;va=va.data;return T&&va instanceof Blob?xa?Ha(va):Ea(va,Ha):sa&&(va instanceof ArrayBuffer||('function'==typeof ArrayBuffer.isView?ArrayBuffer.isView(va):
va&&va.buffer instanceof ArrayBuffer))?xa?Ha(va):Ea(new Blob([va]),Ha):Ha(K[M]+(va||''))},Ea=function(va,xa){var Ha=new FileReader;return Ha.onload=function(){var M=Ha.result.split(',')[1];xa('b'+M)},Ha.readAsDataURL(va)},wa='undefined'==typeof Uint8Array?[]:new Uint8Array(256),za=0;64>za;za++)wa['ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.charCodeAt(za)]=za;var pa='function'==typeof ArrayBuffer,Ca=function(va,xa){if('string'!=typeof va)return{type:'message',data:Ra(va,xa)};
var Ha=va.charAt(0);if('b'===Ha){va=va.substring(1);if(pa){var M=.75*va.length;Ha=va.length;var e=0;'='===va[va.length-1]&&(M--,'='===va[va.length-2]&&M--);var b=new ArrayBuffer(M),h=new Uint8Array(b);for(M=0;M<Ha;M+=4){var n=wa[va.charCodeAt(M)];var w=wa[va.charCodeAt(M+1)];var q=wa[va.charCodeAt(M+2)];var z=wa[va.charCodeAt(M+3)];h[e++]=n<<2|w>>4;h[e++]=(15&w)<<4|q>>2;h[e++]=(3&q)<<6|63&z}xa=Ra(b,xa)}else xa={base64:!0,data:va};xa={type:'message',data:xa}}else xa=A[Ha]?1<va.length?{type:A[Ha],data:va.substring(1)}:
{type:A[Ha]}:O;return xa},Ra=function(va,xa){return'blob'===xa&&va instanceof ArrayBuffer?new Blob([va]):va},Sa=String.fromCharCode(30);S.prototype.on=S.prototype.addEventListener=function(va,xa){return this._callbacks=this._callbacks||{},(this._callbacks['$'+va]=this._callbacks['$'+va]||[]).push(xa),this};S.prototype.once=function(va,xa){function Ha(){this.off(va,Ha);xa.apply(this,arguments)}return Ha.fn=xa,this.on(va,Ha),this};S.prototype.off=S.prototype.removeListener=S.prototype.removeAllListeners=
S.prototype.removeEventListener=function(va,xa){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var Ha,M=this._callbacks['$'+va];if(!M)return this;if(1==arguments.length)return delete this._callbacks['$'+va],this;for(var e=0;e<M.length;e++)if((Ha=M[e])===xa||Ha.fn===xa){M.splice(e,1);break}return 0===M.length&&delete this._callbacks['$'+va],this};S.prototype.emit=function(va){this._callbacks=this._callbacks||{};for(var xa=Array(arguments.length-1),Ha=this._callbacks['$'+
va],M=1;M<arguments.length;M++)xa[M-1]=arguments[M];if(Ha){M=0;for(var e=(Ha=Ha.slice(0)).length;M<e;++M)Ha[M].apply(this,xa)}return this};S.prototype.emitReserved=S.prototype.emit;S.prototype.listeners=function(va){return this._callbacks=this._callbacks||{},this._callbacks['$'+va]||[]};S.prototype.hasListeners=function(va){return!!this.listeners(va).length};var Pa='undefined'!=typeof self?self:'undefined'!=typeof window?window:Function('return this')(),zb=setTimeout,Ia=clearTimeout,La,Za=function(va){function xa(M,
e,b){var h;return R(this,xa),(h=Ha.call(this,M)).description=e,h.context=b,h.type='TransportError',h}V(xa,va);var Ha=ma(xa);return xa}(U(Error));za=function(va){function xa(M){var e;return R(this,xa),(e=Ha.call(this)).writable=!1,y(x(e),M),e.opts=M,e.query=M.query,e.readyState='',e.socket=M.socket,e}V(xa,va);var Ha=ma(xa);return Ga(xa,[{key:'onError',value:function(M,e,b){return Da(oa(xa.prototype),'emitReserved',this).call(this,'error',new Za(M,e,b)),this}},{key:'open',value:function(){return'closed'!==
this.readyState&&''!==this.readyState||(this.readyState='opening',this.doOpen()),this}},{key:'close',value:function(){return'opening'!==this.readyState&&'open'!==this.readyState||(this.doClose(),this.onClose()),this}},{key:'send',value:function(M){'open'===this.readyState&&this.write(M)}},{key:'onOpen',value:function(){this.readyState='open';this.writable=!0;Da(oa(xa.prototype),'emitReserved',this).call(this,'open')}},{key:'onData',value:function(M){M=Ca(M,this.socket.binaryType);this.onPacket(M)}},
{key:'onPacket',value:function(M){Da(oa(xa.prototype),'emitReserved',this).call(this,'packet',M)}},{key:'onClose',value:function(M){this.readyState='closed';Da(oa(xa.prototype),'emitReserved',this).call(this,'close',M)}}]),xa}(S);for(var vb='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''),cb=0,Xa=0;64>Xa;Xa++);Xa=!1;try{Xa='undefined'!=typeof XMLHttpRequest&&'withCredentials'in new XMLHttpRequest}catch(va){}var Cb=Xa,Db=null!=(new N({xdomain:!1})).responseType;Xa=function(va){function xa(M){var e;
if(R(this,xa),(e=Ha.call(this,M)).polling=!1,'undefined'!=typeof location){var b='https:'===location.protocol,h=location.port;h||=b?'443':'80';e.xd='undefined'!=typeof location&&M.hostname!==location.hostname||h!==M.port;e.xs=M.secure!==b}M=M&&M.forceBase64;return e.supportsBinary=Db&&!M,e}V(xa,va);var Ha=ma(xa);return Ga(xa,[{key:'doOpen',value:function(){this.poll()}},{key:'pause',value:function(M){var e=this;this.readyState='pausing';var b=function(){e.readyState='paused';M()};if(this.polling||
!this.writable){var h=0;this.polling&&(h++,this.once('pollComplete',function(){--h||b()}));this.writable||(h++,this.once('drain',function(){--h||b()}))}else b()}},{key:'poll',value:function(){this.polling=!0;this.doPoll();this.emitReserved('poll')}},{key:'onData',value:function(M){var e=this;(function(b,h){b=b.split(Sa);for(var n=[],w=0;w<b.length;w++){var q=Ca(b[w],h);if(n.push(q),'error'===q.type)break}return n})(M,this.socket.binaryType).forEach(function(b){if('opening'===e.readyState&&'open'===
b.type&&e.onOpen(),'close'===b.type)return e.onClose({description:'transport closed by the server'}),!1;e.onPacket(b)});'closed'!==this.readyState&&(this.polling=!1,this.emitReserved('pollComplete'),'open'===this.readyState&&this.poll())}},{key:'doClose',value:function(){var M=this,e=function(){M.write([{type:'close'}])};'open'===this.readyState?e():this.once('open',e)}},{key:'write',value:function(M){var e=this;this.writable=!1;(function(b,h){var n=b.length,w=Array(n),q=0;b.forEach(function(z,X){qa(z,
!1,function(P){w[X]=P;++q===n&&h(w.join(Sa))})})})(M,function(b){e.doWrite(b,function(){e.writable=!0;e.emitReserved('drain')})})}},{key:'uri',value:function(){var M=this.query||{},e=this.opts.secure?'https':'http',b='';!1!==this.opts.timestampRequests&&(M[this.opts.timestampParam]=p());this.supportsBinary||M.sid||(M.b64=1);this.opts.port&&('https'===e&&443!==Number(this.opts.port)||'http'===e&&80!==Number(this.opts.port))&&(b=':'+this.opts.port);M=C(M);return e+'://'+(-1!==this.opts.hostname.indexOf(':')?
'['+this.opts.hostname+']':this.opts.hostname)+b+this.opts.path+(M.length?'?'+M:'')}},{key:'request',value:function(){var M=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return L(M,{xd:this.xd,xs:this.xs},this.opts),new Eb(this.uri(),M)}},{key:'doWrite',value:function(M,e){var b=this;M=this.request({method:'POST',data:M});M.on('success',e);M.on('error',function(h,n){b.onError('xhr post error',h,n)})}},{key:'doPoll',value:function(){var M=this,e=this.request();e.on('data',this.onData.bind(this));
e.on('error',function(b,h){M.onError('xhr poll error',b,h)});this.pollXhr=e}},{key:'name',get:function(){return'polling'}}]),xa}(za);var Eb=function(va){function xa(M,e){var b;return R(this,xa),y(x(b=Ha.call(this)),e),b.opts=e,b.method=e.method||'GET',b.uri=M,b.async=!1!==e.async,b.data=void 0!==e.data?e.data:null,b.create(),b}V(xa,va);var Ha=ma(xa);return Ga(xa,[{key:'create',value:function(){var M=this,e=I(this.opts,'agent','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','autoUnref');
e.xdomain=!!this.opts.xd;e.xscheme=!!this.opts.xs;var b=this.xhr=new N(e);try{b.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var h in b.setDisableHeaderCheck&&b.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(h)&&b.setRequestHeader(h,this.opts.extraHeaders[h])}catch(n){}if('POST'===this.method)try{b.setRequestHeader('Content-type','text/plain;charset=UTF-8')}catch(n){}try{b.setRequestHeader('Accept','*/*')}catch(n){}'withCredentials'in
b&&(b.withCredentials=this.opts.withCredentials);this.opts.requestTimeout&&(b.timeout=this.opts.requestTimeout);b.onreadystatechange=function(){4===b.readyState&&(200===b.status||1223===b.status?M.onLoad():M.setTimeoutFn(function(){M.onError('number'==typeof b.status?b.status:0)},0))};b.send(this.data)}catch(n){return void this.setTimeoutFn(function(){M.onError(n)},0)}'undefined'!=typeof document&&(this.index=xa.requestsCount++,xa.requests[this.index]=this)}},{key:'onError',value:function(M){this.emitReserved('error',
M,this.xhr);this.cleanup(!0)}},{key:'cleanup',value:function(M){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=u,M)try{this.xhr.abort()}catch(e){}'undefined'!=typeof document&&delete xa.requests[this.index];this.xhr=null}}},{key:'onLoad',value:function(){var M=this.xhr.responseText;null!==M&&(this.emitReserved('data',M),this.emitReserved('success'),this.cleanup())}},{key:'abort',value:function(){this.cleanup()}}]),xa}(S);if(Eb.requestsCount=0,Eb.requests={},'undefined'!=typeof document)'function'==
typeof attachEvent?attachEvent('onunload',r):'function'==typeof addEventListener&&addEventListener('onpagehide'in Pa?'pagehide':'unload',r,!1);var ub='function'==typeof Promise&&'function'==typeof Promise.resolve?function(va){return Promise.resolve().then(va)}:function(va,xa){return xa(va,0)},xb=Pa.WebSocket||Pa.MozWebSocket,Fb='undefined'!=typeof navigator&&'string'==typeof navigator.product&&'reactnative'===navigator.product.toLowerCase(),Qa={websocket:function(va){function xa(M){var e;return R(this,
xa),(e=Ha.call(this,M)).supportsBinary=!M.forceBase64,e}V(xa,va);var Ha=ma(xa);return Ga(xa,[{key:'doOpen',value:function(){if(this.check()){var M=this.uri(),e=this.opts.protocols,b=Fb?{}:I(this.opts,'agent','perMessageDeflate','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','localAddress','protocolVersion','origin','maxPayload','family','checkServerIdentity');this.opts.extraHeaders&&(b.headers=this.opts.extraHeaders);try{this.ws=Fb?new xb(M,e,b):e?new xb(M,e):new xb(M)}catch(h){return this.emitReserved('error',
h)}this.ws.binaryType=this.socket.binaryType||'arraybuffer';this.addEventListeners()}}},{key:'addEventListeners',value:function(){var M=this;this.ws.onopen=function(){M.opts.autoUnref&&M.ws._socket.unref();M.onOpen()};this.ws.onclose=function(e){return M.onClose({description:'websocket connection closed',context:e})};this.ws.onmessage=function(e){return M.onData(e.data)};this.ws.onerror=function(e){return M.onError('websocket error',e)}}},{key:'write',value:function(M){var e=this;this.writable=!1;
for(var b=function(n){var w=n===M.length-1;qa(M[n],e.supportsBinary,function(q){try{e.ws.send(q)}catch(z){}w&&ub(function(){e.writable=!0;e.emitReserved('drain')},e.setTimeoutFn)})},h=0;h<M.length;h++)b(h)}},{key:'doClose',value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:'uri',value:function(){var M=this.query||{},e=this.opts.secure?'wss':'ws',b='';this.opts.port&&('wss'===e&&443!==Number(this.opts.port)||'ws'===e&&80!==Number(this.opts.port))&&(b=':'+this.opts.port);this.opts.timestampRequests&&
(M[this.opts.timestampParam]=p());this.supportsBinary||(M.b64=1);M=C(M);return e+'://'+(-1!==this.opts.hostname.indexOf(':')?'['+this.opts.hostname+']':this.opts.hostname)+b+this.opts.path+(M.length?'?'+M:'')}},{key:'check',value:function(){return!!xb}},{key:'name',get:function(){return'websocket'}}]),xa}(za),polling:Xa},Gb=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
Yb='source protocol authority userInfo user password host port relative path directory file query anchor'.split(' '),Zb=function(va){function xa(M){var e,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return R(this,xa),e=Ha.call(this),M&&'object'===E(M)&&(b=M,M=null),M?(M=G(M),b.hostname=M.host,b.secure='https'===M.protocol||'wss'===M.protocol,b.port=M.port,M.query&&(b.query=M.query)):b.host&&(b.hostname=G(b.host).host),y(x(e),b),e.secure=null!=b.secure?b.secure:'undefined'!=typeof location&&
'https:'===location.protocol,b.hostname&&!b.port&&(b.port=e.secure?'443':'80'),e.hostname=b.hostname||('undefined'!=typeof location?location.hostname:'localhost'),e.port=b.port||('undefined'!=typeof location&&location.port?location.port:e.secure?'443':'80'),e.transports=b.transports||['polling','websocket'],e.readyState='',e.writeBuffer=[],e.prevBufferLen=0,e.opts=L({path:'/engine.io',agent:!1,withCredentials:!1,upgrade:!0,timestampParam:'t',rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},
transportOptions:{},closeOnBeforeunload:!0},b),e.opts.path=e.opts.path.replace(/\/$/,'')+'/','string'==typeof e.opts.query&&(e.opts.query=D(e.opts.query)),e.id=null,e.upgrades=null,e.pingInterval=null,e.pingTimeout=null,e.pingTimeoutTimer=null,'function'==typeof addEventListener&&(e.opts.closeOnBeforeunload&&addEventListener('beforeunload',function(){e.transport&&(e.transport.removeAllListeners(),e.transport.close())},!1),'localhost'!==e.hostname&&(e.offlineEventListener=function(){e.onClose('transport close',
{description:'network connection lost'})},addEventListener('offline',e.offlineEventListener,!1))),e.open(),e}V(xa,va);var Ha=ma(xa);return Ga(xa,[{key:'createTransport',value:function(M){var e=L({},this.opts.query);e.EIO=4;e.transport=M;this.id&&(e.sid=this.id);e=L({},this.opts.transportOptions[M],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Qa[M](e)}},{key:'open',value:function(){var M=this;if(this.opts.rememberUpgrade&&xa.priorWebsocketSuccess&&
-1!==this.transports.indexOf('websocket'))var e='websocket';else{if(0===this.transports.length)return void this.setTimeoutFn(function(){M.emitReserved('error','No transports available')},0);e=this.transports[0]}this.readyState='opening';try{e=this.createTransport(e)}catch(b){return this.transports.shift(),void this.open()}e.open();this.setTransport(e)}},{key:'setTransport',value:function(M){var e=this;this.transport&&this.transport.removeAllListeners();this.transport=M;M.on('drain',this.onDrain.bind(this)).on('packet',
this.onPacket.bind(this)).on('error',this.onError.bind(this)).on('close',function(b){return e.onClose('transport close',b)})}},{key:'probe',value:function(M){function e(){z||(z=!0,ba(),q.close(),q=null)}function b(){P('transport closed')}function h(){P('socket closed')}function n(Q){q&&Q.name!==q.name&&e()}var w=this,q=this.createTransport(M),z=!1;xa.priorWebsocketSuccess=!1;var X=function(){z||(q.send([{type:'ping',data:'probe'}]),q.once('packet',function(Q){if(!z)if('pong'===Q.type&&'probe'===Q.data){if(w.upgrading=
!0,w.emitReserved('upgrading',q),q)xa.priorWebsocketSuccess='websocket'===q.name,w.transport.pause(function(){z||'closed'!==w.readyState&&(ba(),w.setTransport(q),q.send([{type:'upgrade'}]),w.emitReserved('upgrade',q),q=null,w.upgrading=!1,w.flush())})}else Q=Error('probe error'),Q.transport=q.name,w.emitReserved('upgradeError',Q)}))},P=function(Q){Q=Error('probe error: '+Q);Q.transport=q.name;e();w.emitReserved('upgradeError',Q)},ba=function(){q.removeListener('open',X);q.removeListener('error',P);
q.removeListener('close',b);w.off('close',h);w.off('upgrading',n)};q.once('open',X);q.once('error',P);q.once('close',b);this.once('close',h);this.once('upgrading',n);q.open()}},{key:'onOpen',value:function(){if(this.readyState='open',xa.priorWebsocketSuccess='websocket'===this.transport.name,this.emitReserved('open'),this.flush(),'open'===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var M=0,e=this.upgrades.length;M<e;M++)this.probe(this.upgrades[M])}},{key:'onPacket',value:function(M){if('opening'===
this.readyState||'open'===this.readyState||'closing'===this.readyState)switch(this.emitReserved('packet',M),this.emitReserved('heartbeat'),M.type){case 'open':this.onHandshake(JSON.parse(M.data));break;case 'ping':this.resetPingTimeout();this.sendPacket('pong');this.emitReserved('ping');this.emitReserved('pong');break;case 'error':var e=Error('server error');e.code=M.data;this.onError(e);break;case 'message':this.emitReserved('data',M.data),this.emitReserved('message',M.data)}}},{key:'onHandshake',
value:function(M){this.emitReserved('handshake',M);this.id=M.sid;this.transport.query.sid=M.sid;this.upgrades=this.filterUpgrades(M.upgrades);this.pingInterval=M.pingInterval;this.pingTimeout=M.pingTimeout;this.maxPayload=M.maxPayload;this.onOpen();'closed'!==this.readyState&&this.resetPingTimeout()}},{key:'resetPingTimeout',value:function(){var M=this;this.clearTimeoutFn(this.pingTimeoutTimer);this.pingTimeoutTimer=this.setTimeoutFn(function(){M.onClose('ping timeout')},this.pingInterval+this.pingTimeout);
this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:'onDrain',value:function(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emitReserved('drain'):this.flush()}},{key:'flush',value:function(){if('closed'!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var M=this.getWritablePackets();this.transport.send(M);this.prevBufferLen=M.length;this.emitReserved('flush')}}},{key:'getWritablePackets',value:function(){if(!(this.maxPayload&&
'polling'===this.transport.name&&1<this.writeBuffer.length))return this.writeBuffer;for(var M,e=1,b=0;b<this.writeBuffer.length;b++){if(M=this.writeBuffer[b].data){if('string'==typeof M){for(var h=0,n=0,w=0,q=M.length;w<q;w++)128>(h=M.charCodeAt(w))?n+=1:2048>h?n+=2:55296>h||57344<=h?n+=3:(w++,n+=4);M=n}else M=Math.ceil(1.33*(M.byteLength||M.size));e+=M}if(0<b&&e>this.maxPayload)return this.writeBuffer.slice(0,b);e+=2}return this.writeBuffer}},{key:'write',value:function(M,e,b){return this.sendPacket('message',
M,e,b),this}},{key:'send',value:function(M,e,b){return this.sendPacket('message',M,e,b),this}},{key:'sendPacket',value:function(M,e,b,h){if('function'==typeof e&&(h=e,e=void 0),'function'==typeof b&&(h=b,b=null),'closing'!==this.readyState&&'closed'!==this.readyState)(b=b||{}).compress=!1!==b.compress,M={type:M,data:e,options:b},this.emitReserved('packetCreate',M),this.writeBuffer.push(M),h&&this.once('flush',h),this.flush()}},{key:'close',value:function(){var M=this,e=function(){M.onClose('forced close');
M.transport.close()},b=function w(){M.off('upgrade',w);M.off('upgradeError',w);e()},h=function(){M.once('upgrade',b);M.once('upgradeError',b)};return'opening'!==this.readyState&&'open'!==this.readyState||(this.readyState='closing',this.writeBuffer.length?this.once('drain',function(){M.upgrading?h():e()}):this.upgrading?h():e()),this}},{key:'onError',value:function(M){xa.priorWebsocketSuccess=!1;this.emitReserved('error',M);this.onClose('transport error',M)}},{key:'onClose',value:function(M,e){'opening'!==
this.readyState&&'open'!==this.readyState&&'closing'!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners('close'),this.transport.close(),this.transport.removeAllListeners(),'function'==typeof removeEventListener&&removeEventListener('offline',this.offlineEventListener,!1),this.readyState='closed',this.id=null,this.emitReserved('close',M,e),this.writeBuffer=[],this.prevBufferLen=0)}},{key:'filterUpgrades',value:function(M){for(var e=[],b=0,h=M.length;b<
h;b++)~this.transports.indexOf(M[b])&&e.push(M[b]);return e}}]),xa}(S);Zb.protocol=4;return function(va,xa){return new Zb(va,xa)}});
function BindingHelper(E){var R={};'undefined'!=typeof E&&(R=E);R.process=function(da,Ga,L){if('undefined'==typeof da||!Array.isArray(da))throw Error('`bindings` must be a defined array');'undefined'==typeof Ga&&(Ga=da.length,L=0);if(da[L]){var V=da[L];if('undefined'==typeof V.call)throw Error('`bindings.['+L+'].call` is required !');if('function'!=typeof R[V.call])throw Error('`bindingContext.'+V.call+'` is not a function');var oa=V.call;delete V.call;try{if('undefined'!=typeof V.handler){if(!window[V.handler])throw Error('`'+
V.handler+'` could not be reached. You must expose it to the `window` do object before any call.');var W=V.handler;delete V.handler;window[W].apply(this,Object.values(V));V.handler=W}else R[oa].apply(this,Object.values(V));V.call=oa}catch(Y){console.error('BindingHelper encountered error while trying to execute `'+oa+'`'+Y.stack||Y)}R.process(da,Ga,L+1)}};return R}define('helpers/binding',[],function(){return BindingHelper});
define('gina/link',['require','jquery','vendor/uuid','utils/merge','utils/events'],function(E){E('jquery').noConflict();var R=E('vendor/uuid'),da=E('utils/merge');E('utils/events');return function(Ga){function L(y,F){var p=S(y),C=p.id,D=document.getElementById(C)||null;(D.getAttribute('data-gina-link-event-on-success')||D.getAttribute('data-gina-link-event-on-error'))&&listenToXhrEvents(p);F='undefined'==typeof F?U:da(F,U);if(/^(http|https):/.test(y)&&!(new RegExp('^'+window.location.protocol+'//'+
window.location.host)).test(y)){var N=(new RegExp(window.location.hostname)).test(y)?!0:!1;gina.config.envIsDev&&console.debug('Checking CORS from Link plugin...TODO - local CORS Proxy');N||(y=y.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+y)}F.url=y;p&&'undefined'!=typeof p.options&&(F=da(p.options,F));F.withCredentials?'withCredentials'in m?F.isSynchrone?m.open(F.method,F.url,F.isSynchrone):m.open(F.method,F.url):'undefined'!=typeof XDomainRequest?(m=new XDomainRequest,m.open(F.method,
F.url)):(m=null,triggerEvent(gina,D,'error.'+C,'CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ')):F.isSynchrone?m.open(F.method,F.url,F.isSynchrone):m.open(F.method,F.url);if(!m)throw Error('No `xhr` object initiated');F.$link=p;handleXhr(m,D,F,E);m.send()}function V(y,F){if('object'!=typeof F)throw Error('`options` must be an object');y.options=da(F,oa.options);F=document.getElementById(y.id)||null;if('undefined'==typeof W.$links[y.id]){if(-1<x.indexOf(y.id))throw Error('`link '+
y.id+'` already exists !');if(!gina.events[evt]){addListener(gina,F,evt,function(D){cancelEvent(D);D=Da(D.target.id);var N=D.url;'undefined'==typeof D.options.isSynchrone&&(D.options.isSynchrone=!1);'undefined'==typeof D.options.withCredentials&&(D.options.withCredentials=!1);L(N,D.options)});var p=F.childNodes,C=0;lLen=p.length;if(0<lLen)for(;C<lLen;++C)'undefined'!=typeof p[C].tagName&&ma(p[C],F,evt)}y.request=L;y.getLinkById=Da;y.getLinkByUrl=S;W.$links[y.id]=y}}this.plugin='link';registerEvents(this.plugin,
'loaded ready open close destroy success error progress'.split(' '));var oa={options:{url:void 0,'class':'gina-link-default'},authorizedEvents:['ready','success','error'],events:{}},W={plugin:this.plugin,id:'gina-links-'+R.v4(),on,eventData:{},$links:{},target:document,isReady:!1,initialized:!1},Y={plugin:this.plugin,on,eventData:{},target:document,url:null,request:null,$forms:[]},m=null,U={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}},x=[],ma=
function(y,F,p){addListener(gina,y,'click',function(C){cancelEvent(C);triggerEvent(gina,F,p)})},Da=function(y){return'undefined'!=typeof W.$links[y]?W.$links[y]:null},S=function(y){var F=null,p;for(p in gina.link.$links)if('undefined'!=typeof gina.link.$links[p].url&&gina.link.$links[p].url==y){F=gina.link.$links[p];break}return F},I=function(y,F){'undefined'==typeof y&&(y=W.target);var p,C=null;y=y.getElementsByTagName('a');for(var D=0,N=y.length;D<N;++D)if(p=y[D].getAttribute('data-gina-link')){p=
y[D];var u={type:'a',method:'GET'};var r=p.getAttribute('data-gina-link-url');u.url='undefined'!=typeof r&&null!=r?r:p.getAttribute('href');r=p.getAttribute('id');if('undefined'==typeof r||null==r||''==r||/popin\.link/.test(r))r='link.click.gina-link-'+W.id+'-'+R.v4();p.id=r;evt=u.id=r;p.setAttribute('id',evt);'A'==p.tagName&&(C=p.getAttribute('onclick'));C?'undefined'==typeof C||/return false/.test(C)||(C=/;$/.test(C)?C+'return false;':C+'; return false;',p.setAttribute('onclick',C)):p.setAttribute('onclick',
'return false;');'undefined'==typeof W.$links[u.id]&&(u.target=p,p=da(u,Y),V(p,F))}};return function(y){W.bindLinks=I;W.request=L;W.getLinkById=Da;W.getLinkByUrl=S;W.on('init',function(F){if(window.XMLHttpRequest)m=new XMLHttpRequest;else if(window.ActiveXObject)try{m=new ActiveXObject('Msxml2.XMLHTTP')}catch(p){try{m=new ActiveXObject('Microsoft.XMLHTTP')}catch(C){}}evt='click';addListener(gina,W.target,evt,function(p){'undefined'==typeof p.target.id&&(p.target.setAttribute('id',evt+'.'+R.v4()),
p.target.id=p.target.getAttribute('id'));if(/^link\.click\./.test(p.target.id)){cancelEvent(p);var C=p.target.id;(new RegExp('^link.click.gina-link-'+W.id)).test(C)&&triggerEvent(gina,p.target,C,p.detail)}});'undefined'==typeof y&&(y={});W.options=y;I(W.target,y);gina.linkIsBinded=!0;W.isReady=!0;gina.hasLinkHandler=!0;gina.link=da(gina.link,W);triggerEvent(gina,W.target,'ready.'+W.id,W)});W.initialized=!0;return W}(Ga)}});
define('gina/popin','require jquery vendor/uuid utils/merge utils/routing utils/events'.split(' '),function(E){E('jquery').noConflict();var R=E('vendor/uuid'),da=E('utils/merge');E('utils/routing');E('utils/events');return function(Ga){function L(){var A=null,O;for(O in gina.popin.$popins)if('undefined'!=typeof gina.popin.$popins[O].isOpen&&gina.popin.$popins[O].isOpen){A=gina.popin.$popins[O];break}!A&&gina.popin.activePopinId&&(A=gina.popin.$popins[gina.popin.activePopinId]);return A}function V(A,
O){var T=A.target,sa=A.type;'undefined'!=typeof A.detail&&'function'==typeof A.detail.trim&&(T.innerHTML=A.detail.trim());A=function(Xa,Cb,Db){var Eb=Db.getAttribute('data-gina-popin-is-link');Eb=/^true$/i.test(Eb)?!0:!1;'link'!=Xa||Eb||(Xa='action');addListener(gina,Db,Cb,function(ub){cancelEvent(ub);if('close'!=Xa){var xb=!1,Fb='loaded.'+O.id;'undefined'==typeof gina.events[Fb]&&addListener(gina,T,Fb,function(Qa){Qa.preventDefault();xb||(xb=!0,Y(Qa.detail))});Fb={isSynchrone:!1,withCredentials:!1};
Fb=da(O.options,Fb);W(O.name,Db.href,Fb)}removeListener(gina,ub.target,ub.type)});addListener(gina,Db,'click',function(ub){cancelEvent(ub);if(null!=ub.target.getAttribute('disabled')&&'false'!=ub.target.getAttribute('disabled'))return!1;if('link'==Xa){var xb=ub.target.getAttribute('href')||null,Fb=ub.target.getAttribute('target');null!=Fb&&''!=Fb?window.open(xb,Fb):triggerEvent(gina,ub.target,ub.currentTarget.id,O)}else'undefined'==typeof ub.target.id&&(ub.target.setAttribute('id',Cb+'.'+R.v4()),
ub.target.id=ub.target.getAttribute('id')),/^popin\.close\./.test(ub.target.id)&&(cancelEvent(ub),O.isRedirecting=!1,ma(O.name)),/^popin\.click\./.test(ub.target.id)&&(cancelEvent(ub),xb=ub.target.id,(new RegExp('^popin.click.gina-popin-'+I.id)).test(xb)&&triggerEvent(gina,ub.target,xb,ub.detail))})};gina.popinIsBinded=!0;var qa=null,Ea=null,wa=null;O.isOpen||addListener(gina,I.target.childNodes[0],'mousedown',function(Xa){if(/gina-popin-is-active/.test(Xa.target.className)){removeListener(gina,Xa.target,
'mousedown');Xa=[];qa=0;var Cb=T.getElementsByTagName('button');Ea=0;wa=Cb.length;if(0<wa)for(;Ea<wa;++Ea)/gina-popin-close/.test(Cb[Ea].className)&&(Xa[qa]=Cb[Ea],++qa);Cb=T.getElementsByTagName('div');Ea=0;wa=Cb.length;if(0<wa)for(;Ea<wa;++Ea)/gina-popin-close/.test(Cb[Ea].className)&&(Xa[qa]=Cb[Ea],++qa);Cb=T.getElementsByTagName('a');Ea=0;wa=Cb.length;if(0<wa)for(;Ea<wa;++Ea)/gina-popin-close/.test(Cb[Ea].className)&&(Xa[qa]=Cb[Ea],++qa);Ea=0;for(wa=Xa.length;Ea<wa;++Ea){Cb=Xa[Ea];let Db=Cb.getAttribute('id');
for(let Eb=0,ub=Da.length;Eb<ub;Eb++){let xb=Da[Eb];'undefined'!=typeof gina.events[xb]&&gina.events[xb]==Db&&removeListener(gina,Cb,xb);'undefined'!=typeof gina.events[Db]&&gina.events[Db]==Db&&removeListener(gina,Cb,Db);'undefined'!=typeof gina.events[xb+'.'+Db]&&gina.events[xb+'.'+Db]==Db&&removeListener(gina,Cb,xb+'.'+Db);'undefined'!=typeof gina.events[xb+'.'+Db]&&gina.events[xb+'.'+Db]==xb+'.'+Db&&removeListener(gina,Cb,xb+'.'+Db)}}O.isRedirecting=!1;ma(O.name)}});/<form/i.test(T.innerHTML)&&
'undefined'!=typeof F&&F&&(O.hasForm=!0);var za=[],pa=[],Ca=[];pa=T.getElementsByTagName('button');Ea=qa=0;wa=pa.length;if(0<pa.length)for(;Ea<wa;++Ea)/gina-popin-close/.test(pa[Ea].className)&&(za[qa]=pa[Ea],++qa);pa=T.getElementsByTagName('div');Ea=0;wa=pa.length;if(0<wa)for(;Ea<wa;++Ea)/gina-popin-close/.test(pa[Ea].className)&&(za[qa]=pa[Ea],++qa);pa=T.getElementsByTagName('a');Ea=0;wa=pa.length;if(0<wa)for(;Ea<wa;++Ea)/gina-popin-close/.test(pa[Ea].className)?(za[qa]=pa[Ea],++qa):('undefined'==
typeof pa[Ea]||/(#|#.*)$/.test(pa[Ea].href)||pa[Ea].id)&&('undefined'==typeof pa[Ea]||/(#|#.*)$/.test(pa[Ea].href)||/^(click\.|popin\.link)/.test(pa[Ea].id))||Ca.push(pa[Ea]);var Ra=null;pa=null;Ea=0;for(wa=za.length;Ea<wa;++Ea)'A'==za[Ea].tagName&&(Ra=za[Ea].getAttribute('onclick')),Ra?'undefined'==typeof Ra||/return false/.test(Ra)||(Ra=/;$/.test(Ra)?Ra+'return false;':Ra+'; return false;'):za[Ea].setAttribute('onclick','return false;'),za[Ea].id?pa=za[Ea].id:(pa='popin.close.'+R.v4(),za[Ea].id=
pa,za[Ea].setAttribute('id',pa)),'undefined'!=typeof gina.events[pa]&&gina.events[pa]==za[Ea].id||A('close',pa,za[Ea]);qa=0;wa=Ca.length;var Sa=null,Pa=null,zb=null,Ia={},La=null,Za=new DOMParser,vb=null,cb=null;for(pa=za=za=null;qa<wa;++qa)null==Ca[qa].getAttribute('disabled')&&(Ca[qa].id=/^null$/i.test(Ca[qa].getAttribute('id'))?null:Ca[qa].getAttribute('id'),Ca[qa].id&&/^popin\.link/.test(Ca[qa].id)&&/^popin\.click/.test(Ca[qa].id)?pa=Ca[qa].id:(pa=!0,za=Ca[qa].getAttribute('href'),za&&''!=za&&
'#'!=za||('#'!=za&&Ca[qa].setAttribute('href','#'),pa=!1),/^null$/i.test(Ca[qa].id)?pa?(pa='popin.link.'+R.v4(),Ca[qa].setAttribute('data-gina-popin-is-link',!0)):(pa='popin.click.'+R.v4(),Ca[qa].setAttribute('data-gina-popin-is-link',!1)):pa=Ca[qa].id,Ca[qa].id=pa,Ca[qa].setAttribute('id',pa)),za=(za=Ca[qa].getAttribute('data-gina-form-submit'))&&/^true$/i.test(za)?!0:!1,za||(/^(null|\s*)$/.test(Ca[qa].getAttribute('href'))||addListener(gina,Ca[qa],'click',function(Xa){Xa.preventDefault();O.isRedirecting=
!0;if(O.hasForm){Sa=O.target.getElementsByTagName('FORM');Pa=0;for(zb=Sa.length;Pa<zb;++Pa)if(vb=Xa.currentTarget.id,cb=Za.parseFromString(Sa.item(Pa).innerHTML,'text/html').getElementById(vb)||!1)La=Sa[Pa].getAttribute('data-gina-form-inherits-data')||null,Ia=da(Ia,JSON.parse(decodeURIComponent(La)));0<Ia.count()&&(/\?/.test(Xa.currentTarget.href)?Xa.currentTarget.href+='&inheritedData='+encodeURIComponent(JSON.stringify(Ia)):Xa.currentTarget.href+='?inheritedData='+encodeURIComponent(JSON.stringify(Ia)))}}),
'undefined'!=typeof gina.events[pa]&&gina.events[pa]==Ca[qa].id||A('link',pa,Ca[qa])));if(O.hasForm)for(A=null,Ca=T.getElementsByTagName('form'),qa=0,wa=Ca.length;qa<wa;++qa)Ca[qa].id&&'string'==typeof Ca[qa]?A=Ca[qa].id:(A=Ca[qa].getAttribute('id')||'form.'+R.v4(),Ca[qa].setAttribute('id',A),Ca[qa].id=A),0>O.$forms.indexOf(A)&&O.$forms.push(A),Ca[qa].close=ma,F.isPopinContext=!0,F.validateFormById(Ca[qa].getAttribute('id')),removeListener(gina,O.target,sa)}function oa(A,O){var T=L();if(gina&&'undefined'!=
typeof window.ginaToolbar&&window.ginaToolbar&&'undefined'!=typeof A&&'undefined'!=typeof O&&A){var sa=A;try{T=null;!O&&sa.error&&/^(\{|\[)/.test(sa.error)&&(sa.error=JSON.parse(sa.error));if('undefined'!=typeof sa.error&&'object'==typeof sa.error&&'object'==typeof sa.error){T={status:sa.status};for(xErr in sa.error)/^error$/.test(xErr)||(T[xErr]=sa.error[xErr]);T.error=sa.error.error;sa=T}else'undefined'!=typeof sa.error&&'string'==typeof sa.error&&(sa=A);sa.isXHRViewData=!0;ginaToolbar.update('data-xhr',
sa);return}catch(qa){throw qa;}}try{T=u(I.activePopinId)}catch(qa){ginaToolbar.update('data-xhr',qa)}sa='string'==typeof A&&/<(.*)>/.test(A)?(new DOMParser).parseFromString(A,'text/html').getElementById('gina-without-layout-xhr-data'):document.getElementById('gina-without-layout-xhr-data');if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&sa)try{'undefined'!=typeof sa.value&&sa.value&&(sa=JSON.parse(decodeURIComponent(sa.value)),sa.isXHRViewData=!0,ginaToolbar.update('data-xhr',
sa))}catch(qa){throw qa;}A='string'==typeof A&&/<(.*)>/.test(A)?(new DOMParser).parseFromString(A,'text/html').getElementById('gina-without-layout-xhr-view'):document.getElementById('gina-without-layout-xhr-view');if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&A)try{'undefined'!=typeof A.value&&A.value&&(A=JSON.parse(decodeURIComponent(A.value)),ginaToolbar.update('view-xhr',A)),ginaToolbar.update('el-xhr',T.id)}catch(qa){throw qa;}}function W(A,O,T){if('undefined'==typeof A){if('undefined'==
typeof this.name)throw Error('`$popin.name` needs to be defined !');A=this.name}else'undefined'==typeof this.name&&'undefined'!=A&&(this.name=A);var sa=r(A),qa=sa.id;gina.popin.activePopinId||(gina.popin.activePopinId=qa);var Ea=document.getElementById(qa)||null;null==Ea&&(A=sa.options.class+' '+qa,Ea=document.createElement('div'),Ea.setAttribute('id',qa),Ea.setAttribute('class',A),I.target.firstChild.appendChild(Ea));'undefined'==typeof T?T=K:(A=K.withCredentials,T=da(T,K),T.withCredentials=A);/^(http|https):/.test(O)&&
!(new RegExp('^'+window.location.protocol+'//'+window.location.host)).test(O)&&(A=(new RegExp(window.location.hostname)).test(O)?!0:!1,gina.config.envIsDev&&console.debug('Checking CORS from Popin plugin...TODO - local CORS Proxy'),A||(O=O.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+O,T.withCredentials=!1));T.url=O;sa.options=da(T,sa.options);T.withCredentials?'withCredentials'in p?T.isSynchrone?p.open(T.method,T.url,T.isSynchrone):p.open(T.method,T.url):'undefined'!=typeof XDomainRequest?
(p=new XDomainRequest,p.open(T.method,T.url)):(p=null,triggerEvent(gina,Ea,'error.'+qa,'CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ')):T.isSynchrone?p.open(T.method,T.url,T.isSynchrone):p.open(T.method,T.url);if(p){p.withCredentials='undefined'!=typeof T.withCredentials?T.withCredentials:!1;p.onerror=function(za,pa){za={status:p.status,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};
I.eventData.error=za+'\n'+pa;oa(za,!0);triggerEvent(gina,Ea,'error.'+qa,za)};for(var wa in T.headers)p.setRequestHeader(wa,T.headers[wa]);p.onreadystatechange=function(za){if(4==p.readyState)if(/^2/.test(p.status))try{var pa=p.responseText,Ca=p.getResponseHeader('Content-Type'),Ra=/application\/json/.test(Ca)?!0:!1;za=!0;Ra&&(pa=JSON.parse(p.responseText),pa.status=p.status,pa.contentType=Ca,za=!1);I.eventData.success=pa;if(!Ra&&sa.isOpen&&!sa.hasForm||!Ra&&sa.isOpen&&za)Y(pa,za);else{if(Ra&&'undefined'!=
typeof pa.location||Ra&&'undefined'!=typeof pa.reload){Ca=!1;'undefined'!=typeof pa.isXhrRedirect&&/^true$/i.test(pa.isXhrRedirect)&&(Ca=!0);if('undefined'!=typeof pa.location&&Ca){if('undefined'!=typeof pa.popin&&'undefined'!=typeof pa.popin.close){sa.isRedirecting=!1;sa.close();var Sa=pa.popin.reload?pa.popin.reload:!1;pa.popin.location||pa.popin.url||(delete pa.popin,Sa&&(pa.popin={reload:Sa}))}Ra='_self';'undefined'!=typeof pa.target&&(pa.target='_'+pa.target,Ra=pa.target);if(/^_self$/.test(Ra))return Ra=
null,Ra='undefined'!=typeof pa.popin?pa.popin.location||pa.popin.url:pa.location,sa.load(sa.name,Ra,sa.options),setTimeout(function(Pa){Pa.isOpen||Pa.open()},50,sa);window.open(pa.location,Ra);return}if('undefined'!=typeof pa.location){document.location=pa.location;return}if('undefined'!=typeof pa.reload){document.location.reload();return}'undefined'!=typeof pa.popin&&'undefined'!=typeof pa.popin.close&&(sa.isRedirecting=!1,ma(sa.name))}if(!Ra){triggerEvent(gina,Ea,'loaded.'+qa,pa);return}triggerEvent(gina,
$forms[0],'success.'+qa,pa)}GINA_ENV_IS_DEV&&oa(pa)}catch(Pa){Ra=!1,pa={status:422,error:Pa.description||Pa.stack},/application\/json/.test(p.getResponseHeader('Content-Type'))&&(pa.error=JSON.parse(p.responseText),Ra=!0),I.eventData.error=pa,GINA_ENV_IS_DEV&&oa(pa,Ra),triggerEvent(gina,Ea,'error.'+qa,pa)}else Ra=!1,pa={status:p.status,error:p.responseText},/application\/json/.test(p.getResponseHeader('Content-Type'))&&(pa.error=JSON.parse(p.responseText),Ra=!0),I.eventData.error=pa,GINA_ENV_IS_DEV&&
oa(pa,Ra),triggerEvent(gina,Ea,'error.'+qa,pa)};p.send();return{open:function(){var za=!1;addListener(gina,Ea,'loaded.'+qa,function(pa){pa.preventDefault();za||(za=!0,I.activePopinId=sa.id,V(pa,sa),U(sa.name))})}}}}function Y(A,O){var T=L();if(T){if(!T.isOpen)throw Error('Popin `'+T.name+'` is not open !');T.isRedirecting='undefined'!=typeof O?O:!1;O=T.target;O.innerHTML=A.trim();x(T.name,!0);V({target:O,type:'loaded.'+T.id},T);T.isRedirecting?triggerEvent(gina,I.target,'loaded.'+T.id,T):triggerEvent(gina,
I.target,'open.'+T.id,T)}}function m(A){var O=setupXhr();O.open('GET',A,!0);O.setRequestHeader('Content-Type','text/javascript');O.onload=function(){eval(O.response)};O.send()}function U(A){var O='undefined'!=typeof A?r(A):u(this.id);if(!O)throw Error('Popin name `'+A+'` not found !');A=document.getElementById(O.id);var T=O.parentScripts,sa=A.getElementsByTagName('script'),qa=0,Ea=sa.length,wa=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');for(wa=new RegExp(wa+':\\d+|'+
wa);qa<Ea;++qa){if('undefined'==typeof sa[qa].src||''==sa[qa].src)continue;let za=sa[qa].src.replace(/(https|http|):\/\//,'').replace(wa,'');-1<T.indexOf(za)||m(sa[qa].src)}V({target:A,type:'loaded.'+O.id},O);/gina-popin-is-active/.test(A.className)||(A.className+=' gina-popin-is-active');/gina-popin-is-active/.test(I.target.firstChild.className)||(I.target.firstChild.className+=' gina-popin-is-active');/gina-popin-is-active/.test(I.target.firstChild.className)&&removeListener(gina,I.target,'open.'+
O.id);O.isOpen=!0;O.target=A;I.activePopinId=O.id;GINA_ENV_IS_DEV&&oa();triggerEvent(gina,I.target,'open.'+O.id,O)}function x(A,O){var T='undefined'!=typeof A?r(A):L();if(!T&&'undefined'!=typeof A)throw Error('Popin `'+A+'` not found !');if('undefined'!=typeof T&&null!=T&&(A=T.target,O='undefined'!=typeof O?O:!1,null!=A&&/gina-popin-is-active/.test(A.className))){O||(I.target.firstChild.className=I.target.firstChild.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,
''),A.className=A.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,''),A.innerHTML='');if(F&&(O=0,A=T.$forms.length,F.$forms&&0<A))for(;O<A;++O)'undefined'!=typeof F.$forms[T.$forms[O]]&&F.$forms[T.$forms[O]].destroy(),T.$forms.splice(O,1);gina.popinIsBinded=!1;removeListener(gina,T.target,'loaded.'+T.id)}}function ma(A){if('undefined'==typeof A&&/^true$/.test(this.isOpen)){A=this.name;var O=this}else{O=r(A)||L();if(!O)return;A=O.name}if(!O&&'undefined'!=typeof A)throw Error('Popin `'+
A+'` not found !');if(O.isOpen&&'undefined'!=typeof O&&null!=O&&!O.isRedirecting){var T=O.target;removeListener(gina,O.target,'ready.'+I.id);O.hasForm&&(O.hasForm=!1);if(null!=T&&/gina-popin-is-active/.test(T.className)){x(A);O.isOpen=!1;gina.popinIsBinded=!1;GINA_ENV_IS_DEV&&gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&ginaToolbar.restore();I.activePopinId=null;if(0<O.$headers.length){A=0;T=O.$headers.length;try{for(;A<T;++A)document.getElementById(O.$headers[A].id).remove()}catch(sa){console.warn('Could not remove script `'+
O.$headers[A].id+'`\n'+sa.stack)}O.$headers=[]}triggerEvent(gina,O.target,'close.'+O.id,O)}}}this.plugin='popin';var Da='init loaded ready open close click destroy success error progress'.split(' ');registerEvents(this.plugin,Da);var S={name:void 0,'class':'gina-popin-default'},I={plugin:this.plugin,id:'gina-popins-'+R.v4(),on,eventData:{},$popins:{},activePopinId:null,getActivePopin:null,target:document,isReady:!1,initialized:!1},y={plugin:this.plugin,on,eventData:{},target:document,name:null,load:null,
loadContent:null,open:null,isOpen:!1,isRedirecting:!1,close:null,$forms:[],hasForm:!1,$headers:[]},F=null,p=null,C=[],D=function(){var A=document.createElement('div');A.id=I.id;A.setAttribute('id',I.id);A.setAttribute('class','gina-popins');var O=document.createElement('div');O.setAttribute('id','gina-popins-overlay');O.setAttribute('class','gina-popins-overlay');A.appendChild(O);document.body.appendChild(A);I.target=A;I.on=on;gina.popinContainer=I.id},N=function(A,O,T){addListener(gina,A,'click',
function(sa){cancelEvent(sa);triggerEvent(gina,O,T)})},u=function(A){return'undefined'!=typeof I.$popins[A]?I.$popins[A]:null},r=function(A){var O=null,T;for(T in I.$popins)if(I.$popins[T].name===A){O=I.$popins[T];break}return O},G=function(A,O){O=getElementsByAttribute('data-gina-popin-name');var T=null,sa=null,qa=null,Ea=null,wa=null,za=null;wa=0;for(za=O.length;wa<za;++wa){T=O[wa];sa=T.getAttribute('data-gina-popin-name');'A'==T.tagName&&(qa=T.getAttribute('href'),''==qa||'#'==qa||/#/.test(qa))&&
(qa=null);qa||'undefined'==typeof T.getAttribute('data-gina-popin-url')||(qa=T.getAttribute('data-gina-popin-url'));if(!qa)throw Error('Found `data-gina-popin-name` without `url` !');T.url||(T.url=qa);T.popinName||(T.popinName=sa);if(sa==A.name&&(Ea='popin.click.gina-popin-'+I.id+'-'+R.v4()+'-'+sa,T.id=Ea,T.setAttribute('id',Ea),!gina.events[Ea])){addListener(gina,T,Ea,function(Ca){cancelEvent(Ca);var Ra=!1;addListener(gina,A.target,'loaded.'+A.id,function(Pa){Pa.preventDefault();Ra||(Ra=!0,console.debug('active popin should be ',
A.id),gina.popin.activePopinId=A.id,V(Pa,A),A.isOpen||U(A.name))});Ca={isSynchrone:!1,withCredentials:!1};Ca=da(A.options,Ca);var Sa=this.getAttribute('data-gina-popin-url')||this.getAttribute('href');if(!Sa)throw Error('Popin `url` not defined, please check value for `data-gina-popin-url`');W(A.name,Sa,Ca)});sa=T.childNodes;var pa=0;lLen=sa.length;if(0<lLen)for(;pa<lLen;++pa)'undefined'!=typeof sa[pa].tagName&&N(sa[pa],T,Ea)}}Ea='click';addListener(gina,document,Ea,function(Ca){if(null!=Ca.target.getAttribute('disabled')&&
'false'!=Ca.target.getAttribute('disabled'))return!1;'undefined'==typeof Ca.target.id&&(Ca.target.setAttribute('id',Ea+'.'+R.v4()),Ca.target.id=Ca.target.getAttribute('id'));if(/^popin\.close\./.test(Ca.target.id)){cancelEvent(Ca);var Ra=Ca.target.id;triggerEvent(gina,Ca.target,Ra,Ca.detail)}/^popin\.click\./.test(Ca.target.id)&&(cancelEvent(Ca),Ra=Ca.target.id,(new RegExp('^popin.click.gina-popin-'+I.id)).test(Ra)&&triggerEvent(gina,Ca.target,Ra,Ca.detail))});gina.popinIsBinded=!1},K={url:'',method:'GET',
isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}};gina.hasPopinHandler?(I.target=document.getElementById(gina.popinContainer),I.on=on):D();return function(A){I.getPopinById=u;I.getPopinByName=r;I.load=W;I.loadContent=Y;I.getActivePopin=L;I.open=U;I.close=ma;addListener(gina,I.target,'init.'+I.id,function(O){O=null;if('undefined'==typeof I.$popins['gina-popin-'+I.id+'-'+A.name]){var T=O=da({},y);if('object'!=typeof A)throw Error('`options` must be an object');T.options=
da(A,S);T.id='gina-popin-'+I.id+'-'+T.options.name;if('undefined'==typeof I.$popins[T.id]){if('string'!=typeof T.options.name||''==T.options.name)throw Error('`options.name` can not be left `empty` or `undefined`');if(-1<C.indexOf(T.options.name))throw Error('`popin '+T.options.name+'` already exists !');'undefined'!=typeof T.options.validator&&(F=T.options.validator,T.validateFormById=F.validateFormById);T.options['class']='gina-popin-container '+T.options['class'];T.name=T.options.name;T.target=
I.target;T.load=W;T.loadContent=Y;T.open=U;T.close=ma;GINA_ENV_IS_DEV&&(T.updateToolbar=oa);T.parentScripts=[];T.parentStyles=[];var sa=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');sa=new RegExp(sa+':\\d+|'+sa);var qa=document.getElementsByTagName('script');for(let wa=0,za=qa.length;wa<za;wa++)if(qa[wa].src&&''!=qa[wa].src){var Ea=qa[wa].src.replace(/(https|http|):\/\//,'').replace(sa,'');T.parentScripts[wa]=Ea}qa=document.getElementsByTagName('link');for(let wa=0,za=
qa.length;wa<za;wa++)'undefined'!=typeof qa[wa].rel&&/stylesheet/i.test(qa[wa].rel)&&(Ea=qa[wa].href.replace(/(https|http|):\/\//,'').replace(sa,''),T.parentStyles[wa]=Ea);I.$popins[T.id]=T;if(window.XMLHttpRequest)p=new XMLHttpRequest;else if(window.ActiveXObject)try{p=new ActiveXObject('Msxml2.XMLHTTP')}catch(wa){try{p=new ActiveXObject('Microsoft.XMLHTTP')}catch(za){}}G(T)}}I.isReady=!0;gina.hasPopinHandler=!0;gina.popin=da(gina.popin,I);triggerEvent(gina,I.target,'ready.'+I.id,O)});I.initialized=
!0;return I}(Ga)}});function fadeIn(E){var R=.1;E.style.display='block';var da=setInterval(function(){1<=R&&clearInterval(da);E.style.opacity=R;E.style.filter='alpha(opacity='+100*R+')';R+=.1*R},10)}function fadeOut(E){var R=1,da=setInterval(function(){.1>=R&&(clearInterval(da),E.style.display='none');E.style.opacity=R;E.style.filter='alpha(opacity='+100*R+')';R-=.1*R},50)}define('utils/effects',function(){});
'function'!==typeof Object.assign&&Object.defineProperty(Object,'assign',{value:function(E,R){if(null===E||void 0===E)throw new TypeError('Cannot convert undefined or null to object');for(var da=Object(E),Ga=1;Ga<arguments.length;Ga++){var L=arguments[Ga];if(null!==L&&void 0!==L)for(var V in L)Object.prototype.hasOwnProperty.call(L,V)&&(da[V]=L[V])}return da},writable:!0,configurable:!0});
if('undefined'==typeof JSON.clone){var clone=function(E,R){if(null==E||'object'!=typeof E||E.constructor!=Object&&E.constructor!=Array)return E;if(E.constructor==Date||E.constructor==RegExp||E.constructor==Function||E.constructor==String||E.constructor==Number||E.constructor==Boolean)return new E.constructor(E);R=R||new E.constructor;for(var da=0,Ga=Object.getOwnPropertyNames(E).length||0,L=Object.keys(E);da<Ga;)R[L[da]]='undefined'==typeof R[L[da]]?clone(E[L[da]],null):R[L[da]],da++;return R};JSON.clone=
clone}if('undefined'==typeof JSON.escape){var escape=function(E){try{return E.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(R){throw R;}};JSON.escape=escape}define('utils/polyfill',function(){});
function Inherits(E,R){return function(da,Ga){var L='undefined'==typeof da||'undefined'==typeof Ga?"inherits(a, b): neither [ a ] nor [ b ] can't be undefined or null":!1;if(L)throw Error(L);L=function(){return function(){if(this){this.prototype=da.prototype;this.name||(this.name=da.name);this.prototype.name=this.name;for(var V in Ga.prototype)this[V]||(this[V]=Ga.prototype[V]);Ga.apply(this,arguments);da.apply(this,arguments)}}}(da,Ga);void 0==da.prototype&&(da.prototype={});void 0==Ga.prototype&&
(Ga.prototype={});da.prototype=Object.create(Ga.prototype,{});L.prototype=Object.create(da.prototype,{});return L}}'undefined'!==typeof module&&module.exports?module.exports=Inherits():'function'===typeof define&&define.amd&&define('utils/inherits',[],function(){return Inherits()});var readyList=[{name:'gina',ctx:window.gina,fn:window.onGinaLoaded}],readyFired=!1,readyEventHandlersInstalled=!1;
function ready(){if(!readyFired){readyFired=!0;var E=null,R=function(da,Ga){if(Ga[da])if('gina'==Ga[da].name)var L=window.setInterval(function(V,oa){try{if('undefined'==typeof oa&&(oa=window.readyList),oa[V].ctx=window.gina,E=oa[V].fn.call(window,oa[V].ctx,window.require))window.clearInterval(L),++V,R(V,oa)}catch(W){throw window.clearInterval(L),W;}},50,da,Ga);else window.$||'undefined'==typeof parent.window.$||(window.$=parent.window.$),'undefined'==typeof window.originalContext&&'undefined'!=typeof window.$&&
(window.originalContext=window.$),Ga[da].ctx=window.originalContext||$,Ga[da].fn.call(window,Ga[da].ctx,window.require),++da,R(da,Ga);else Ga=[]};R(0,readyList)}}function readyStateChange(){'complete'===document.readyState&&gina.ready()}
if('undefined'==typeof window.gina){var gina={_global:{register:function(E){if('undefined'!=typeof E)for(let R in E)window[R]=E[R]},unregister:function(E){if('undefined'==typeof E||!Array.isArray(E))throw Error('`variables` needs to ba an array');for(let R=0,da=E.length;R<da;R++)delete window[E[R]]}},ready:function(E,R){readyFired?setTimeout(function(){E(R)},1):(readyList.push({name:'anonymous',fn:E,ctx:R}),'complete'===document.readyState||!document.attachEvent&&'interactive'===document.readyState?
setTimeout(ready,1):readyEventHandlersInstalled||(document.addEventListener?(document.addEventListener('DOMContentLoaded',ready,!1),window.addEventListener('load',ready,!1)):(document.attachEvent('onreadystatechange',readyStateChange),window.attachEvent('onload',ready)),readyEventHandlersInstalled=!0))}};window.gina=gina}define('core',['require','gina'],function(E){E('gina')(window.gina)});require.config({packages:['gina']});require('vendor/uuid vendor/engine.io core helpers/prototypes helpers/binding helpers/dateFormat gina/link gina/validator gina/popin gina/storage utils/dom utils/events utils/effects utils/polyfill utils/inherits utils/form-validator utils/collection utils/routing'.split(' '));
for(var tags=document.getElementsByTagName('script'),t=0,len=tags.length;t<len;++t)if(/gina.min.js|gina.js/.test(tags[t].getAttribute('src'))){tags[t].onload=function(E){if(window.onGinaLoaded)var R=window.onGinaLoaded;document.addEventListener?document.addEventListener('ginaloaded',function(da){window.gina=da.detail;R(da.detail)}):document.attachEvent&&document.attachEvent('ginaloaded',function(da){window.gina=da.detail;R(da.detail)})}();break};
