/*
 RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license  @source https://gist.github.com/1129031  Engine.IO v6.2.2
 (c) 2014-2022 Guillermo Rauch
 Released under the MIT License.
*/
var requirejs,require,define;
(function(B,P){function V(Ia,Ja){return Ja||''}function ma(Ia){return'[object Function]'===Fa.call(Ia)}function U(Ia){return'[object Array]'===Fa.call(Ia)}function N(Ia,Ja){if(Ia){var Ua;for(Ua=0;Ua<Ia.length&&(!Ia[Ua]||!Ja(Ia[Ua],Ua,Ia));Ua+=1);}}function ba(Ia,Ja){if(Ia){var Ua;for(Ua=Ia.length-1;-1<Ua&&(!Ia[Ua]||!Ja(Ia[Ua],Ua,Ia));--Ua);}}function Q(Ia,Ja){return W.call(Ia,Ja)}function S(Ia,Ja){return Q(Ia,Ja)&&Ia[Ja]}function r(Ia,Ja){for(var Ua in Ia)if(Q(Ia,Ua)&&Ja(Ia[Ua],Ua))break}function G(Ia,
Ja,Ua,pb){Ja&&r(Ja,function(ab,gb){if(Ua||!Q(Ia,gb))!pb||'object'!==typeof ab||!ab||U(ab)||ma(ab)||ab instanceof RegExp?Ia[gb]=ab:(Ia[gb]||(Ia[gb]={}),G(Ia[gb],ab,Ua,pb))});return Ia}function w(Ia,Ja){return function(){return Ja.apply(Ia,arguments)}}function va(Ia){throw Ia;}function Aa(Ia){if(!Ia)return Ia;var Ja=B;N(Ia.split('.'),function(Ua){Ja=Ja[Ua]});return Ja}function I(Ia,Ja,Ua,pb){Ja=Error(Ja+'\nhttps://requirejs.org/docs/errors.html#'+Ia);Ja.requireType=Ia;Ja.requireModules=pb;Ua&&(Ja.originalError=
Ua);return Ja}function O(){if(y&&'interactive'===y.readyState)return y;ba(document.getElementsByTagName('script'),function(Ia){if('interactive'===Ia.readyState)return y=Ia});return y}var A,D,l,y,z,F,u,v=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,H=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,K=/\.js$/,T=/^\.\//;var qa=Object.prototype;var Fa=qa.toString,W=qa.hasOwnProperty,ka=!('undefined'===typeof window||'undefined'===typeof navigator||!window.document),ha=!ka&&'undefined'!==typeof importScripts,
xa=ka&&'PLAYSTATION 3'===navigator.platform?/^complete$/:/^(complete|loaded)$/,la='undefined'!==typeof opera&&'[object Opera]'===opera.toString(),ta={},Da={},Qa=[],La=!1;if('undefined'===typeof define){if('undefined'!==typeof requirejs){if(ma(requirejs))return;Da=requirejs;requirejs=void 0}'undefined'===typeof require||ma(require)||(Da=require,require=void 0);var Ea=requirejs=function(Ia,Ja,Ua,pb){var ab='_';if(!U(Ia)&&'string'!==typeof Ia){var gb=Ia;U(Ja)?(Ia=Ja,Ja=Ua,Ua=pb):Ia=[]}gb&&gb.context&&
(ab=gb.context);(pb=S(ta,ab))||(pb=ta[ab]=Ea.s.newContext(ab));gb&&pb.configure(gb);return pb.require(Ia,Ja,Ua)};Ea.config=function(Ia){return Ea(Ia)};Ea.nextTick='undefined'!==typeof P?function(Ia){P(Ia,4)}:function(Ia){Ia()};require||=Ea;Ea.version='2.3.6';Ea.jsExtRegExp=/^\/|:|\?|\.js$/;Ea.isBrowser=ka;qa=Ea.s={contexts:ta,newContext:function(Ia){function Ja(E,na,ra){var ia;na=na&&na.split('/');var Z=m.map,Ga=Z&&Z['*'];if(E){E=E.split('/');var Pa=E.length-1;m.nodeIdCompat&&K.test(E[Pa])&&(E[Pa]=
E[Pa].replace(K,''));'.'===E[0].charAt(0)&&na&&(Pa=na.slice(0,na.length-1),E=Pa.concat(E));Pa=E;for(ia=0;ia<Pa.length;ia++){var $a=Pa[ia];'.'===$a?(Pa.splice(ia,1),--ia):'..'===$a&&0!==ia&&(1!==ia||'..'!==Pa[2])&&'..'!==Pa[ia-1]&&0<ia&&(Pa.splice(ia-1,2),ia-=2)}E=E.join('/')}if(ra&&Z&&(na||Ga)){Pa=E.split('/');ia=Pa.length;a:for(;0<ia;--ia){var ib=Pa.slice(0,ia).join('/');if(na)for($a=na.length;0<$a;--$a)if(ra=S(Z,na.slice(0,$a).join('/')))if(ra=S(ra,ib)){var Cb=ra;var zb=ia;break a}if(!qb&&Ga&&S(Ga,
ib)){var qb=S(Ga,ib);var Mb=ia}}!Cb&&qb&&(Cb=qb,zb=Mb);Cb&&(Pa.splice(0,zb,Cb),E=Pa.join('/'))}return(Cb=S(m.pkgs,E))?Cb:E}function Ua(E){ka&&N(document.getElementsByTagName('script'),function(na){if(na.getAttribute('data-requiremodule')===E&&na.getAttribute('data-requirecontext')===da.contextName)return na.parentNode.removeChild(na),!0})}function pb(E){var na=S(m.paths,E);if(na&&U(na)&&1<na.length)return na.shift(),da.require.undef(E),da.makeRequire(null,{skipMap:!0})([E]),!0}function ab(E){var na=
E?E.indexOf('!'):-1;if(-1<na){var ra=E.substring(0,na);E=E.substring(na+1,E.length)}return[ra,E]}function gb(E,na,ra,ia){var Z=null,Ga=na?na.name:null,Pa=E,$a=!0,ib='';E||($a=!1,E='_@r'+(L+=1));E=ab(E);Z=E[0];E=E[1];if(Z){Z=Ja(Z,Ga,ia);var Cb=S(q,Z)}if(E)if(Z)ib=ra?E:Cb&&Cb.normalize?Cb.normalize(E,function(qb){return Ja(qb,Ga,ia)}):-1===E.indexOf('!')?Ja(E,Ga,ia):E;else{ib=Ja(E,Ga,ia);E=ab(ib);Z=E[0];ib=E[1];ra=!0;var zb=da.nameToUrl(ib)}ra=!Z||Cb||ra?'':'_unnormalized'+(fa+=1);return{prefix:Z,name:ib,
parentMap:na,unnormalized:!!ra,url:zb,originalName:Pa,isDefine:$a,id:(Z?Z+'!'+ib:ib)+ra}}function Ub(E){var na=E.id,ra=S(g,na);ra||=g[na]=new da.Module(E);return ra}function Zb(E,na,ra){var ia=E.id,Z=S(g,ia);if(!Q(q,ia)||Z&&!Z.defineEmitComplete)if(Z=Ub(E),Z.error&&'error'===na)ra(Z.error);else Z.on(na,ra);else'defined'===na&&ra(q[ia])}function jb(E,na){var ra=E.requireModules,ia=!1;if(na)na(E);else if(N(ra,function(Z){if(Z=S(g,Z))Z.error=E,Z.events.error&&(ia=!0,Z.emit('error',E))}),!ia)Ea.onError(E)}
function Db(){Qa.length&&(N(Qa,function(E){var na=E[0];'string'===typeof na&&(da.defQueueMap[na]=!0);x.push(E)}),Qa=[])}function rb(E){delete g[E];delete h[E]}function xb(E,na,ra){var ia=E.map.id;E.error?E.emit('error',E.error):(na[ia]=!0,N(E.depMaps,function(Z,Ga){Z=Z.id;var Pa=S(g,Z);!Pa||E.depMatched[Ga]||ra[Z]||(S(na,Z)?(E.defineDep(Ga,q[Z]),E.check()):xb(Pa,na,ra))}),ra[ia]=!0)}function Ka(){var E,na,ra=(E=1E3*m.waitSeconds)&&da.startTime+E<(new Date).getTime(),ia=[],Z=[],Ga=!1,Pa=!0;if(!ya){ya=
!0;r(h,function($a){var ib=$a.map,Cb=ib.id;if($a.enabled&&(ib.isDefine||Z.push($a),!$a.error))if(!$a.inited&&ra)pb(Cb)?Ga=na=!0:(ia.push(Cb),Ua(Cb));else if(!$a.inited&&$a.fetched&&ib.isDefine&&(Ga=!0,!ib.prefix))return Pa=!1});if(ra&&ia.length)return E=I('timeout','Load timeout for modules: '+ia,null,ia),E.contextName=da.contextName,jb(E);Pa&&N(Z,function($a){xb($a,{},{})});ra&&!na||!Ga||!ka&&!ha||za||(za=P(function(){za=0;Ka()},50));ya=!1}}function db(E){Q(q,E[0])||Ub(gb(E[0],null,!0)).init(E[1],
E[2])}function Lb(E){E=E.currentTarget||E.srcElement;var na=da.onScriptLoad;E.detachEvent&&!la?E.detachEvent('onreadystatechange',na):E.removeEventListener('load',na,!1);na=da.onScriptError;E.detachEvent&&!la||E.removeEventListener('error',na,!1);return{node:E,id:E&&E.getAttribute('data-requiremodule')}}function Vb(){for(Db();x.length;){var E=x.shift();if(null===E[0])return jb(I('mismatch','Mismatched anonymous define() module: '+E[E.length-1]));db(E)}da.defQueueMap={}}var ya,za,m={waitSeconds:7,
baseUrl:'./',paths:{},bundles:{},pkgs:{},shim:{},config:{}},g={},h={},b={},x=[],q={},p={},R={},L=1,fa=1;var Ba={require:function(E){return E.require?E.require:E.require=da.makeRequire(E.map)},exports:function(E){E.usingExports=!0;if(E.map.isDefine)return E.exports?q[E.map.id]=E.exports:E.exports=q[E.map.id]={}},module:function(E){return E.module?E.module:E.module={id:E.map.id,uri:E.map.url,config:function(){return S(m.config,E.map.id)||{}},exports:E.exports||(E.exports={})}}};var ea=function(E){this.events=
S(b,E.id)||{};this.map=E;this.shim=S(m.shim,E.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};ea.prototype={init:function(E,na,ra,ia){ia=ia||{};if(!this.inited){this.factory=na;if(ra)this.on('error',ra);else this.events.error&&(ra=w(this,function(Z){this.emit('error',Z)}));this.depMaps=E&&E.slice(0);this.errback=ra;this.inited=!0;this.ignore=ia.ignore;ia.enabled||this.enabled?this.enable():this.check()}},defineDep:function(E,na){this.depMatched[E]||(this.depMatched[E]=
!0,--this.depCount,this.depExports[E]=na)},fetch:function(){if(!this.fetched){this.fetched=!0;da.startTime=(new Date).getTime();var E=this.map;if(this.shim)da.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],w(this,function(){return E.prefix?this.callPlugin():this.load()}));else return E.prefix?this.callPlugin():this.load()}},load:function(){var E=this.map.url;p[E]||(p[E]=!0,da.load(this.map.id,E))},check:function(){if(this.enabled&&!this.enabling){var E=this.map.id;var na=this.depExports;
var ra=this.exports,ia=this.factory;if(!this.inited)Q(da.defQueueMap,E)||this.fetch();else if(this.error)this.emit('error',this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(ma(ia)){if(this.events.error&&this.map.isDefine||Ea.onError!==va)try{ra=da.execCb(E,ia,na,ra)}catch(Pa){var Z=Pa}else ra=da.execCb(E,ia,na,ra);this.map.isDefine&&void 0===ra&&((na=this.module)?ra=na.exports:this.usingExports&&(ra=this.exports));if(Z)return Z.requireMap=this.map,Z.requireModules=
this.map.isDefine?[this.map.id]:null,Z.requireType=this.map.isDefine?'define':'require',jb(this.error=Z)}else ra=ia;this.exports=ra;if(this.map.isDefine&&!this.ignore&&(q[E]=ra,Ea.onResourceLoad)){var Ga=[];N(this.depMaps,function(Pa){Ga.push(Pa.normalizedMap||Pa)});Ea.onResourceLoad(da,this.map,Ga)}rb(E);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit('defined',this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var E=this.map,na=
E.id,ra=gb(E.prefix);this.depMaps.push(ra);Zb(ra,'defined',w(this,function(ia){var Z=S(R,this.map.id),Ga=this.map.name,Pa=this.map.parentMap?this.map.parentMap.name:null,$a=da.makeRequire(E.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){ia.normalize&&(Ga=ia.normalize(Ga,function(zb){return Ja(zb,Pa,!0)})||'');var ib=gb(E.prefix+'!'+Ga,this.map.parentMap,!0);Zb(ib,'defined',w(this,function(zb){this.map.normalizedMap=ib;this.init([],function(){return zb},null,{enabled:!0,ignore:!0})}));
if(ia=S(g,ib.id)){this.depMaps.push(ib);if(this.events.error)ia.on('error',w(this,function(zb){this.emit('error',zb)}));ia.enable()}}else if(Z)this.map.url=da.nameToUrl(Z),this.load();else{var Cb=w(this,function(zb){this.init([],function(){return zb},null,{enabled:!0})});Cb.error=w(this,function(zb){this.inited=!0;this.error=zb;zb.requireModules=[na];r(g,function(qb){0===qb.map.id.indexOf(na+'_unnormalized')&&rb(qb.map.id)});jb(zb)});Cb.fromText=w(this,function(zb,qb){var Mb=E.name,Ya=gb(Mb),cb=La;
qb&&(zb=qb);cb&&(La=!1);Ub(Ya);Q(m.config,na)&&(m.config[Mb]=m.config[na]);try{Ea.exec(zb)}catch(ca){return jb(I('fromtexteval','fromText eval for '+na+' failed: '+ca,ca,[na]))}cb&&(La=!0);this.depMaps.push(Ya);da.completeLoad(Mb);$a([Mb],Cb)});ia.load(E.name,$a,Cb,m)}}));da.enable(ra,this);this.pluginMaps[ra.id]=ra},enable:function(){h[this.map.id]=this;this.enabling=this.enabled=!0;N(this.depMaps,w(this,function(E,na){var ra;if('string'===typeof E){E=gb(E,this.map.isDefine?this.map:this.map.parentMap,
!1,!this.skipMap);this.depMaps[na]=E;if(ra=S(Ba,E.id)){this.depExports[na]=ra(this);return}this.depCount+=1;Zb(E,'defined',w(this,function(Z){this.undefed||(this.defineDep(na,Z),this.check())}));this.errback?Zb(E,'error',w(this,this.errback)):this.events.error&&Zb(E,'error',w(this,function(Z){this.emit('error',Z)}))}ra=E.id;var ia=g[ra];Q(Ba,ra)||!ia||ia.enabled||da.enable(E,this)}));r(this.pluginMaps,w(this,function(E){var na=S(g,E.id);na&&!na.enabled&&da.enable(E,this)}));this.enabling=!1;this.check()},
on:function(E,na){var ra=this.events[E];ra||=this.events[E]=[];ra.push(na)},emit:function(E,na){N(this.events[E],function(ra){ra(na)});'error'===E&&delete this.events[E]}};var da={config:m,contextName:Ia,registry:g,defined:q,urlFetched:p,defQueue:x,defQueueMap:{},Module:ea,makeModuleMap:gb,nextTick:Ea.nextTick,onError:jb,configure:function(E){E.baseUrl&&'/'!==E.baseUrl.charAt(E.baseUrl.length-1)&&(E.baseUrl+='/');if('string'===typeof E.urlArgs){var na=E.urlArgs;E.urlArgs=function(Z,Ga){return(-1===
Ga.indexOf('?')?'?':'&')+na}}var ra=m.shim,ia={paths:!0,bundles:!0,config:!0,map:!0};r(E,function(Z,Ga){ia[Ga]?(m[Ga]||(m[Ga]={}),G(m[Ga],Z,!0,!0)):m[Ga]=Z});E.bundles&&r(E.bundles,function(Z,Ga){N(Z,function(Pa){Pa!==Ga&&(R[Pa]=Ga)})});E.shim&&(r(E.shim,function(Z,Ga){U(Z)&&(Z={deps:Z});!Z.exports&&!Z.init||Z.exportsFn||(Z.exportsFn=da.makeShimExports(Z));ra[Ga]=Z}),m.shim=ra);E.packages&&N(E.packages,function(Z){Z='string'===typeof Z?{name:Z}:Z;var Ga=Z.name;Z.location&&(m.paths[Ga]=Z.location);
m.pkgs[Ga]=Z.name+'/'+(Z.main||'main').replace(T,'').replace(K,'')});r(g,function(Z,Ga){Z.inited||Z.map.unnormalized||(Z.map=gb(Ga,null,!0))});(E.deps||E.callback)&&da.require(E.deps||[],E.callback)},makeShimExports:function(E){return function(){var na;E.init&&(na=E.init.apply(B,arguments));return na||E.exports&&Aa(E.exports)}},makeRequire:function(E,na){function ra(ia,Z,Ga){var Pa;na.enableBuildCallback&&Z&&ma(Z)&&(Z.__requireJsBuild=!0);if('string'===typeof ia){if(ma(Z))return jb(I('requireargs',
'Invalid require call'),Ga);if(E&&Q(Ba,ia))return Ba[ia](g[E.id]);if(Ea.get)return Ea.get(da,ia,E,ra);var $a=gb(ia,E,!1,!0);$a=$a.id;return Q(q,$a)?q[$a]:jb(I('notloaded','Module name "'+$a+'" has not been loaded yet for context: '+Ia+(E?'':'. Use require([])')))}Vb();da.nextTick(function(){Vb();Pa=Ub(gb(null,E));Pa.skipMap=na.skipMap;Pa.init(ia,Z,Ga,{enabled:!0});Ka()});return ra}na=na||{};G(ra,{isBrowser:ka,toUrl:function(ia){var Z=ia.lastIndexOf('.'),Ga=ia.split('/')[0];if(-1!==Z&&('.'!==Ga&&'..'!==
Ga||1<Z)){var Pa=ia.substring(Z,ia.length);ia=ia.substring(0,Z)}return da.nameToUrl(Ja(ia,E&&E.id,!0),Pa,!0)},defined:function(ia){return Q(q,gb(ia,E,!1,!0).id)},specified:function(ia){ia=gb(ia,E,!1,!0).id;return Q(q,ia)||Q(g,ia)}});E||(ra.undef=function(ia){Db();var Z=gb(ia,E,!0),Ga=S(g,ia);Ga.undefed=!0;Ua(ia);delete q[ia];delete p[Z.url];delete b[ia];ba(x,function(Pa,$a){Pa[0]===ia&&x.splice($a,1)});delete da.defQueueMap[ia];Ga&&(Ga.events.defined&&(b[ia]=Ga.events),rb(ia))});return ra},enable:function(E){S(g,
E.id)&&Ub(E).enable()},completeLoad:function(E){var na=S(m.shim,E)||{},ra=na.exports;for(Db();x.length;){var ia=x.shift();if(null===ia[0]){ia[0]=E;if(Z)break;var Z=!0}else ia[0]===E&&(Z=!0);db(ia)}da.defQueueMap={};ia=S(g,E);if(!Z&&!Q(q,E)&&ia&&!ia.inited)if(!m.enforceDefine||ra&&Aa(ra))db([E,na.deps||[],na.exportsFn]);else return pb(E)?void 0:jb(I('nodefine','No define call for '+E,null,[E]));Ka()},nameToUrl:function(E,na,ra){var ia,Z;(ia=S(m.pkgs,E))&&(E=ia);if(ia=S(R,E))return da.nameToUrl(ia,
na,ra);if(Ea.jsExtRegExp.test(E))ia=E+(na||'');else{ia=m.paths;var Ga=E.split('/');for(Z=Ga.length;0<Z;--Z){var Pa=Ga.slice(0,Z).join('/');if(Pa=S(ia,Pa)){U(Pa)&&(Pa=Pa[0]);Ga.splice(0,Z,Pa);break}}ia=Ga.join('/');ia+=na||(/^data:|^blob:|\?/.test(ia)||ra?'':'.js');ia=('/'===ia.charAt(0)||ia.match(/^[\w\+\.\-]+:/)?'':m.baseUrl)+ia}return m.urlArgs&&!/^blob:/.test(ia)?ia+m.urlArgs(E,ia):ia},load:function(E,na){Ea.load(da,E,na)},execCb:function(E,na,ra,ia){return na.apply(ia,ra)},onScriptLoad:function(E){if('load'===
E.type||xa.test((E.currentTarget||E.srcElement).readyState))y=null,E=Lb(E),da.completeLoad(E.id)},onScriptError:function(E){var na=Lb(E);if(!pb(na.id)){var ra=[];r(g,function(ia,Z){0!==Z.indexOf('_@r')&&N(ia.depMaps,function(Ga){if(Ga.id===na.id)return ra.push(Z),!0})});return jb(I('scripterror','Script error for "'+na.id+(ra.length?'", needed by: '+ra.join(', '):'"'),E,[na.id]))}}};da.require=da.makeRequire();return da}};Ea({});N(['toUrl','undef','defined','specified'],function(Ia){Ea[Ia]=function(){var Ja=
ta._;return Ja.require[Ia].apply(Ja,arguments)}});if(ka){var Na=qa.head=document.getElementsByTagName('head')[0];if(A=document.getElementsByTagName('base')[0])Na=qa.head=A.parentNode}Ea.onError=va;Ea.createNode=function(Ia,Ja,Ua){Ja=Ia.xhtml?document.createElementNS('http://www.w3.org/1999/xhtml','html:script'):document.createElement('script');Ja.type=Ia.scriptType||'text/javascript';Ja.charset='utf-8';Ja.async=!0;return Ja};Ea.load=function(Ia,Ja,Ua){var pb=Ia&&Ia.config||{};if(ka){var ab=Ea.createNode(pb,
Ja,Ua);ab.setAttribute('data-requirecontext',Ia.contextName);ab.setAttribute('data-requiremodule',Ja);!ab.attachEvent||ab.attachEvent.toString&&0>ab.attachEvent.toString().indexOf('[native code')||la?(ab.addEventListener('load',Ia.onScriptLoad,!1),ab.addEventListener('error',Ia.onScriptError,!1)):(La=!0,ab.attachEvent('onreadystatechange',Ia.onScriptLoad));ab.src=Ua;if(pb.onNodeCreated)pb.onNodeCreated(ab,pb,Ja,Ua);z=ab;A?Na.insertBefore(ab,A):Na.appendChild(ab);z=null;return ab}if(ha)try{P(function(){},
0),importScripts(Ua),Ia.completeLoad(Ja)}catch(gb){Ia.onError(I('importscripts','importScripts failed for '+Ja+' at '+Ua,gb,[Ja]))}};ka&&!Da.skipDataMain&&ba(document.getElementsByTagName('script'),function(Ia){Na||(Na=Ia.parentNode);if(D=Ia.getAttribute('data-main'))return F=D,Da.baseUrl||-1!==F.indexOf('!')||(l=F.split('/'),F=l.pop(),u=l.length?l.join('/')+'/':'./',Da.baseUrl=u),F=F.replace(K,''),Ea.jsExtRegExp.test(F)&&(F=D),Da.deps=Da.deps?Da.deps.concat(F):[F],!0});define=function(Ia,Ja,Ua){var pb;
'string'!==typeof Ia&&(Ua=Ja,Ja=Ia,Ia=null);U(Ja)||(Ua=Ja,Ja=null);!Ja&&ma(Ua)&&(Ja=[],Ua.length&&(Ua.toString().replace(v,V).replace(H,function(gb,Ub){Ja.push(Ub)}),Ja=(1===Ua.length?['require']:['require','exports','module']).concat(Ja)));if(La&&(pb=z||O())){Ia||=pb.getAttribute('data-requiremodule');var ab=ta[pb.getAttribute('data-requirecontext')]}ab?(ab.defQueue.push([Ia,Ja,Ua]),ab.defQueueMap[Ia]=!0):Qa.push([Ia,Ja,Ua])};define.amd={jQuery:!0};Ea.exec=function(Ia){return eval(Ia)};Ea(Da)}})(this,
'undefined'===typeof setTimeout?void 0:setTimeout);define('requireLib',function(){});
!function(B,P){'object'==typeof exports&&'undefined'!=typeof module?P(exports):'function'==typeof define&&define.amd?define('vendor/uuid',['exports'],P):P((B=B||self).uuid={})}(this,function(B){function P(){if(!r)throw Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');return r(G)}function V(l,y){y=y||0;var z=Aa;return[z[l[y++]],z[l[y++]],z[l[y++]],z[l[y++]],'-',z[l[y++]],z[l[y++]],'-',z[l[y++]],z[l[y++]],'-',z[l[y++]],z[l[y++]],'-',z[l[y++]],
z[l[y++]],z[l[y++]],z[l[y++]],z[l[y++]],z[l[y++]]].join('')}function ma(l,y,z){var F=function(u,v,H,K){K=H&&K||0;if('string'==typeof u&&(u=function(T){T=unescape(encodeURIComponent(T));for(var qa=Array(T.length),Fa=0;Fa<T.length;Fa++)qa[Fa]=T.charCodeAt(Fa);return qa}(u)),'string'==typeof v&&(v=function(T){var qa=[];return T.replace(/[a-fA-F0-9]{2}/g,function(Fa){qa.push(parseInt(Fa,16))}),qa}(v)),!Array.isArray(u))throw TypeError('value must be an array of bytes');if(!Array.isArray(v)||16!==v.length)throw TypeError('namespace must be uuid string or an Array of 16 byte values');
u=z(v.concat(u));if(u[6]=15&u[6]|y,u[8]=63&u[8]|128,H)for(v=0;16>v;++v)H[K+v]=u[v];return H||V(u)};try{F.name=l}catch(u){}return F.DNS='6ba7b810-9dad-11d1-80b4-00c04fd430c8',F.URL='6ba7b811-9dad-11d1-80b4-00c04fd430c8',F}function U(l,y){var z=(65535&l)+(65535&y);return(l>>16)+(y>>16)+(z>>16)<<16|65535&z}function N(l,y,z,F,u,v){return U((H=U(U(y,l),U(F,v)))<<(K=u)|H>>>32-K,z);var H,K}function ba(l,y,z,F,u,v,H){return N(y&z|~y&F,l,y,u,v,H)}function Q(l,y,z,F,u,v,H){return N(y&F|z&~F,l,y,u,v,H)}function S(l,
y,z,F,u,v,H){return N(z^(y|~F),l,y,u,v,H)}for(var r='undefined'!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||'undefined'!=typeof msCrypto&&'function'==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),G=new Uint8Array(16),w,va,Aa=[],I=0;256>I;++I)Aa[I]=(I+256).toString(16).substr(1);var O=0,A=0;I=ma('v3',48,function(l){if('string'==typeof l){var y=unescape(encodeURIComponent(l));l=Array(y.length);for(var z=0;z<y.length;z++)l[z]=y.charCodeAt(z)}return function(F){var u,
v=[],H=32*F.length;for(u=0;u<H;u+=8){var K=F[u>>5]>>>u%32&255;K=parseInt('0123456789abcdef'.charAt(K>>>4&15)+'0123456789abcdef'.charAt(15&K),16);v.push(K)}return v}(function(F,u){F[u>>5]|=128<<u%32;F[14+(u+64>>>9<<4)]=u;var v=1732584193,H=-271733879,K=-1732584194,T=271733878;for(u=0;u<F.length;u+=16){var qa=v;var Fa=H;var W=K;var ka=T;v=ba(v,H,K,T,F[u],7,-680876936);T=ba(T,v,H,K,F[u+1],12,-389564586);K=ba(K,T,v,H,F[u+2],17,606105819);H=ba(H,K,T,v,F[u+3],22,-1044525330);v=ba(v,H,K,T,F[u+4],7,-176418897);
T=ba(T,v,H,K,F[u+5],12,1200080426);K=ba(K,T,v,H,F[u+6],17,-1473231341);H=ba(H,K,T,v,F[u+7],22,-45705983);v=ba(v,H,K,T,F[u+8],7,1770035416);T=ba(T,v,H,K,F[u+9],12,-1958414417);K=ba(K,T,v,H,F[u+10],17,-42063);H=ba(H,K,T,v,F[u+11],22,-1990404162);v=ba(v,H,K,T,F[u+12],7,1804603682);T=ba(T,v,H,K,F[u+13],12,-40341101);K=ba(K,T,v,H,F[u+14],17,-1502002290);H=ba(H,K,T,v,F[u+15],22,1236535329);v=Q(v,H,K,T,F[u+1],5,-165796510);T=Q(T,v,H,K,F[u+6],9,-1069501632);K=Q(K,T,v,H,F[u+11],14,643717713);H=Q(H,K,T,v,F[u],
20,-373897302);v=Q(v,H,K,T,F[u+5],5,-701558691);T=Q(T,v,H,K,F[u+10],9,38016083);K=Q(K,T,v,H,F[u+15],14,-660478335);H=Q(H,K,T,v,F[u+4],20,-405537848);v=Q(v,H,K,T,F[u+9],5,568446438);T=Q(T,v,H,K,F[u+14],9,-1019803690);K=Q(K,T,v,H,F[u+3],14,-187363961);H=Q(H,K,T,v,F[u+8],20,1163531501);v=Q(v,H,K,T,F[u+13],5,-1444681467);T=Q(T,v,H,K,F[u+2],9,-51403784);K=Q(K,T,v,H,F[u+7],14,1735328473);H=Q(H,K,T,v,F[u+12],20,-1926607734);v=N(H^K^T,v,H,F[u+5],4,-378558);T=N(v^H^K,T,v,F[u+8],11,-2022574463);K=N(T^v^H,K,
T,F[u+11],16,1839030562);H=N(K^T^v,H,K,F[u+14],23,-35309556);v=N(H^K^T,v,H,F[u+1],4,-1530992060);T=N(v^H^K,T,v,F[u+4],11,1272893353);K=N(T^v^H,K,T,F[u+7],16,-155497632);H=N(K^T^v,H,K,F[u+10],23,-1094730640);v=N(H^K^T,v,H,F[u+13],4,681279174);T=N(v^H^K,T,v,F[u],11,-358537222);K=N(T^v^H,K,T,F[u+3],16,-722521979);H=N(K^T^v,H,K,F[u+6],23,76029189);v=N(H^K^T,v,H,F[u+9],4,-640364487);T=N(v^H^K,T,v,F[u+12],11,-421815835);K=N(T^v^H,K,T,F[u+15],16,530742520);H=N(K^T^v,H,K,F[u+2],23,-995338651);v=S(v,H,K,T,
F[u],6,-198630844);T=S(T,v,H,K,F[u+7],10,1126891415);K=S(K,T,v,H,F[u+14],15,-1416354905);H=S(H,K,T,v,F[u+5],21,-57434055);v=S(v,H,K,T,F[u+12],6,1700485571);T=S(T,v,H,K,F[u+3],10,-1894986606);K=S(K,T,v,H,F[u+10],15,-1051523);H=S(H,K,T,v,F[u+1],21,-2054922799);v=S(v,H,K,T,F[u+8],6,1873313359);T=S(T,v,H,K,F[u+15],10,-30611744);K=S(K,T,v,H,F[u+6],15,-1560198380);H=S(H,K,T,v,F[u+13],21,1309151649);v=S(v,H,K,T,F[u+4],6,-145523070);T=S(T,v,H,K,F[u+11],10,-1120210379);K=S(K,T,v,H,F[u+2],15,718787259);H=S(H,
K,T,v,F[u+9],21,-343485551);v=U(v,qa);H=U(H,Fa);K=U(K,W);T=U(T,ka)}return[v,H,K,T]}(function(F){var u,v=[];v[(F.length>>2)-1]=void 0;for(u=0;u<v.length;u+=1)v[u]=0;var H=8*F.length;for(u=0;u<H;u+=8)v[u>>5]|=(255&F[u/8])<<u%32;return v}(l),8*l.length))});var D=ma('v5',80,function(l){var y=[1518500249,1859775393,2400959708,3395469782],z=[1732584193,4023233417,2562383102,271733878,3285377520];if('string'==typeof l){var F=unescape(encodeURIComponent(l));l=Array(F.length);for(var u=0;u<F.length;u++)l[u]=
F.charCodeAt(u)}l.push(128);F=Math.ceil((l.length/4+2)/16);var v=Array(F);for(u=0;u<F;u++){v[u]=Array(16);for(var H=0;16>H;H++)v[u][H]=l[64*u+4*H]<<24|l[64*u+4*H+1]<<16|l[64*u+4*H+2]<<8|l[64*u+4*H+3]}v[F-1][14]=8*(l.length-1)/Math.pow(2,32);v[F-1][14]=Math.floor(v[F-1][14]);v[F-1][15]=8*(l.length-1)&4294967295;for(u=0;u<F;u++){l=Array(80);for(H=0;16>H;H++)l[H]=v[u][H];for(H=16;80>H;H++){var K=l[H-3]^l[H-8]^l[H-14]^l[H-16];l[H]=K<<1|K>>>31}K=z[0];var T=z[1],qa=z[2],Fa=z[3],W=z[4];for(H=0;80>H;H++){var ka=
Math.floor(H/20),ha=K<<5|K>>>27;a:{switch(ka){case 0:var xa=T&qa^~T&Fa;break a;case 1:xa=T^qa^Fa;break a;case 2:xa=T&qa^T&Fa^qa&Fa;break a;case 3:xa=T^qa^Fa;break a}xa=void 0}ka=ha+xa+W+y[ka]+l[H]>>>0;W=Fa;Fa=qa;qa=(T<<30|T>>>2)>>>0;T=K;K=ka}z[0]=z[0]+K>>>0;z[1]=z[1]+T>>>0;z[2]=z[2]+qa>>>0;z[3]=z[3]+Fa>>>0;z[4]=z[4]+W>>>0}return[z[0]>>24&255,z[0]>>16&255,z[0]>>8&255,255&z[0],z[1]>>24&255,z[1]>>16&255,z[1]>>8&255,255&z[1],z[2]>>24&255,z[2]>>16&255,z[2]>>8&255,255&z[2],z[3]>>24&255,z[3]>>16&255,z[3]>>
8&255,255&z[3],z[4]>>24&255,z[4]>>16&255,z[4]>>8&255,255&z[4]]});B.v1=function(l,y,z){z=y&&z||0;var F=y||[],u=(l=l||{}).node||w,v=void 0!==l.clockseq?l.clockseq:va;if(null==u||null==v){var H=l.random||(l.rng||P)();null==u&&(u=w=[1|H[0],H[1],H[2],H[3],H[4],H[5]]);null==v&&(v=va=16383&(H[6]<<8|H[7]))}H=void 0!==l.msecs?l.msecs:(new Date).getTime();var K=void 0!==l.nsecs?l.nsecs:A+1,T=H-O+(K-A)/1E4;if(0>T&&void 0===l.clockseq&&(v=v+1&16383),(0>T||H>O)&&void 0===l.nsecs&&(K=0),1E4<=K)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");
O=H;A=K;va=v;l=(1E4*(268435455&(H+=122192928E5))+K)%4294967296;F[z++]=l>>>24&255;F[z++]=l>>>16&255;F[z++]=l>>>8&255;F[z++]=255&l;l=H/4294967296*1E4&268435455;F[z++]=l>>>8&255;F[z++]=255&l;F[z++]=l>>>24&15|16;F[z++]=l>>>16&255;F[z++]=v>>>8|128;F[z++]=255&v;for(v=0;6>v;++v)F[z+v]=u[v];return y||V(F)};B.v3=I;B.v4=function(l,y,z){z=y&&z||0;'string'==typeof l&&(y='binary'===l?Array(16):null,l=null);var F=(l=l||{}).random||(l.rng||P)();if(F[6]=15&F[6]|64,F[8]=63&F[8]|128,y)for(l=0;16>l;++l)y[z+l]=F[l];
return y||V(F)};B.v5=D;Object.defineProperty(B,'__esModule',{value:!0})});
function Merge(){var B=[],P=!1,V=function(N,ba){var Q=N;P||('object'==typeof N&&Array.isArray(N),P=!0);'undefined'==typeof Q&&(Q='undefined'!=typeof ba&&Array.isArray(ba)?[]:{});var S=!1;'boolean'==typeof arguments[arguments.length-1]&&(S=arguments[arguments.length-1]);var r=1,G=arguments.length,w,va;if('object'!==typeof Q&&'function'!==typeof Q)Q=S?'undefined'==typeof arguments[2]?arguments[1]:arguments[2]:'undefined'==typeof arguments[0]?arguments[1]:arguments[0];else for(;r<G;++r)if('boolean'!=
typeof arguments[r]&&null!=(w=arguments[r])){if('object'!=typeof w){Q=w;break}if(Array.isArray(w)&&Array.isArray(Q))Q=ma(w,Q,S);else for(var Aa in w){Q||={name:null};var I=Q[Aa];var O=w[Aa];if(Q!==O)if(O&&(U(O)||(va=Array.isArray(O)))){var A=!1;if(va){va=!1;if(I&&Array.isArray(I))var D=I||[];else if(U(I)){D=I||{};Q[Aa]=D;continue}else D=[];B=D;D=ma(O,D,S);Q[Aa]=D}else{D=I&&U(I)?I:null;if(!D){A=!0;D={};for(var l in O)D[l]=O[l]}if(S){for(l in O)'undefined'!=typeof O[l]?Array.isArray(O[l])&&Array.isArray(D[l])?
D[l]=ma(O[l],D[l],S):D[l]=O[l]:Array.isArray(O[l])&&Array.isArray(D[l])&&(D[l]=ma(O[l],D[l],S));Q[Aa]=D}else{for(l in O)'undefined'==typeof D[l]?Array.isArray(O[l])&&Array.isArray(D[l])?D[l]=ma(O[l],D[l],S):D[l]=O[l]:Array.isArray(O[l])&&Array.isArray(D[l])&&(D[l]=ma(O[l],D[l],S));'boolean'==typeof I||A?A&&(Q[Aa]=D):Q[Aa]=V(D,O,S)}}}else void 0!==O&&(Q[Aa]='undefined'==typeof I||null==I||I===O||S?O:I)}}B=[];P=!1;return Q},ma=function(N,ba,Q){B=[];var S=[],r=V.getKeyComparison();if(/^true$/i.test(Q)){if('object'==
typeof N[0]&&null!=N[0]&&'undefined'!=typeof N[0][r]&&'object'==typeof ba[0]&&'undefined'!=typeof ba[0][r]){B=Array.isArray(ba)?Array.from(ba):JSON.clone(ba);var G=0;for(Q=B.length;G<Q;++G)S.push(B[G][r]);Q=JSON.clone(N);var w=0;G=0;N=Q.length;for(var va=I||0,Aa=ba.length;va<Aa;++va)a:for(G=G||0;G<N;++G)if(Q[G][r]===ba[va][r]){-1<S.indexOf(Q[G][r])?(B[w]=Q[G],++w):-1==S.indexOf(Q[G][r])&&(S.push(Q[G][r]),B[w]=Q[G],++w);break a}else-1==S.indexOf(Q[G][r])&&(S.push(Q[G][r]),B.push(Q[G]));return B}return Array.isArray(N)&&
0==N.length||'undefined'==typeof N?/^true$/i.test(Q)?N:ba:N}if(0==N.length&&0<ba.length)return B=ba;if(0==ba.length&&0<N.length)for(G=0;G<N.length;++G)ba.push(N[G]);if(0==B.length&&0<ba.length)for(G=0;G<ba.length;++G)'object'!=typeof ba[G]&&-1==B.indexOf(ba[G])&&B.push(ba[G]);if(0<ba.length){if('undefined'!=typeof N[0]&&'object'==typeof N[0]&&null!=N[0]&&'undefined'!=typeof N[0][r]&&'object'==typeof ba[0]&&'undefined'!=typeof ba[0][r]){B=Array.isArray(ba)?Array.from(ba):JSON.clone(ba);Q=JSON.clone(N);
var I=null;G=0;for(N=B.length;G<N;++G)S.push(B[G][r]);for(G=0;G<N;++G)a:for(va=I||0,Aa=Q.length;va<Aa;++va)if(null!=Q[va]&&'undefined'!=typeof Q[va][r]&&Q[va][r]!==B[G][r]){if(-1==S.indexOf(Q[va][r])){B.push(Q[va]);S.push(Q[va][r]);I=va+1;N<Aa&&++N;break a}}else if(null!=Q[va]&&'undefined'!=typeof Q[va][r]&&Q[va][r]===B[G][r])I=va+1;else break a;return B}for(G=0;G<N.length;++G)if(S=null,'undefined'==typeof N||'object'!=typeof N[G]||Array.isArray(N[G])||null==N[G]||(S=Object.getOwnPropertyNames(N[G])),
'undefined'!=typeof S&&null!=S&&(S=S[0]||null),-1<ba.indexOf(N[G])&&Q)ba.splice(ba.indexOf(N[G]),1,N[G]);else if('undefined'==typeof B[G]&&'object'==typeof N[G])for(w in B=ba,'undefined'==typeof B[G]&&(B[G]={}),N[G])B[G].hasOwnProperty(w)||(B[G][w]=N[G][w]);else!Q&&-1<B.indexOf(N[G])&&/number/i.test(typeof N[G])&&N[G]!==B[G]?B.push(N[G]):'undefined'==typeof ba[G]||/null/i.test(ba[G])||'undefined'==typeof ba[G][r]||'undefined'==typeof N[G]||'undefined'==typeof N[G][r]||ba[G][r]!=N[G][r]?-1==B.indexOf(N[G])&&
'object'!=typeof N[G]?B.push(N[G]):'undefined'==typeof ba[G]||/null/i.test(ba[G])||'undefined'==typeof ba[G][S]||'undefined'==typeof N[G]||'undefined'==typeof N[G][S]||ba[G][S]!=N[G][S]||(B[G]=Q?N[G]:ba[G]):B[G]=Q?N[G]:ba[G]}if(0<B.length&&0<ba.length||0==B.length&&0==ba.length)return B};ma.prototype.setKeyComparison=function(N){this.keyComparison=N};var U=function(N){if(!N||'[object Object]'!=={}.toString.call(N)||N.nodeType||N.setInterval)return!1;var ba={}.hasOwnProperty,Q=ba.call(N,'constructor');
ba='undefined'!=typeof N.constructor?ba.call(N.constructor.prototype,'isPrototypeOf'):!1;return!N.constructor||Q||ba?!0:!1};V.setKeyComparison=function(N){ma.keyComparison=N;return V};V.getKeyComparison=function(){var N=ma.keyComparison||'id';ma.keyComparison='id';return N};return V}'undefined'!==typeof module&&module.exports?('undefined'==typeof JSON.clone&&require('../../../helpers'),module.exports=Merge()):'function'===typeof define&&define.amd&&define('lib/merge',[],function(){return Merge()});
function registerEvents(B,P){'undefined'==typeof gina&&'undefined'!=typeof window.gina&&(gina=window.gina);gina.registeredEvents[B]=P}function mergeEventProps(B,P){for(let V in P)'undefined'==typeof B[V]&&(B[V]=P[V]);return B}
function addListener(B,P,V,ma){var U=function(Q,S,r,G){'undefined'!=typeof Q.event&&Q.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(r)&&-1==Q.event[r].indexOf(S)&&(Q.event[r][Q.event[r].length]=S);'undefined'!=typeof S&&null!=S?S.addEventListener?S.addEventListener(r,G,!1):S.attachEvent&&S.attachEvent('on'+r,G):Q.customEvent.addListener(r,G);gina.events[r]='undefined'!=typeof S.id&&'object'!=typeof S.id?S.id:S.getAttribute('id')},N=0,ba=null;if(Array.isArray(V))for(ba=V.length;N<ba;N++)U(B,
P,V[N],ma);else if(Array.isArray(P))for(N=0,ba=P.length;N<ba;N++){let Q=/\.$/.test(V)?V+P[N].id:V;U(B,P[N],Q,ma)}else V=/\.$/.test(V)?V+P.id:V,U(B,P,V,ma)}
function triggerEvent(B,P,V,ma,U){if('undefined'!=typeof P&&null!=P){B=!1;if(jQuery){var N=jQuery.fn.jquery.split(/\./);N=2<N.length?N.splice(0,2).join('.'):N.join('.');N='1.7'>=N?jQuery(P).data('events'):jQuery._data(jQuery(P)[0],'events');if(N='undefined'!=typeof N&&'undefined'!=typeof N[V]?!0:!1)N=jQuery.Event(V),jQuery(P).trigger(N,ma),B=N.isDefaultPrevented()}window.CustomEvent||document.createEvent?(window.CustomEvent?N=new CustomEvent(V,{detail:ma,bubbles:!0,cancelable:!0,target:P}):(N=document.createEvent('HTMLEvents'),
N.detail=ma,N.target=P,N.initEvent(V,!0,!0),N.eventName=V),U&&(N=mergeEventProps(N,U)),'undefined'!=typeof N.defaultPrevented&&N.defaultPrevented&&(B=N.defaultPrevented),B||P.dispatchEvent(N)):document.createEventObject&&(N=document.createEventObject(),N.srcElement.id=P.id,N.detail=ma,N.target=P,U&&(N=mergeEventProps(N,U)),P.fireEvent('on'+V,N))}else B.customEvent.fire(V,ma)}
function cancelEvent(B){'undefined'!=typeof B&&null!=B&&(B.cancelBubble=!0,B.preventDefault&&B.preventDefault(),B.stopPropagation&&B.stopPropagation(),B.returnValue=!1)}
function setupXhr(B){var P=null;if(window.XMLHttpRequest)P=new XMLHttpRequest;else if(window.ActiveXObject)try{P=new ActiveXObject('Msxml2.XMLHTTP')}catch(ma){try{P=new ActiveXObject('Microsoft.XMLHTTP')}catch(U){}}if('undefined'!=typeof B){if(!B.url||'undefined'==typeof B.url)throw Error('Missing `options.url`');'undefined'==typeof B.method&&(B.method='GET');B.method=B.method.toUpperCase();if(B.withCredentials){if('withCredentials'in P)B.isSynchrone?P.open(B.method,B.url,B.isSynchrone):P.open(B.method,
B.url);else if('undefined'!=typeof XDomainRequest)P=new XDomainRequest,P.open(B.method,B.url);else{result='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,$target,'error.'+id,result);return}P.responseType='undefined'!=typeof B.responseType?B.responseType:'';P.withCredentials=!0}else B.isSynchrone?P.open(B.method,B.url,B.isSynchrone):P.open(B.method,B.url);for(var V in B.headers)'Content-Type'==V&&'undefined'!=typeof enctype&&null!=
enctype&&''!=enctype||P.setRequestHeader(V,B.headers[V])}return P}
function handleXhr(B,P,V,ma){if(!B)throw Error('No `xhr` object initiated');var U=null,N=null,ba=null,Q=null,S=null,r=V.$link||null,G=V.$form||null,w=null;delete V.$link;delete V.$form;G||r?r?(r.target=document.getElementById(r.id),w=gina.link.target,S=gina.link.id):(w=G.target,S=w.getAttribute('id')):(w=P,S=w.getAttribute('id'));var va=r&&P.getAttribute('data-gina-link-event-on-success')||r&&P.getAttribute('data-gina-link-event-on-error')?!0:!1,Aa=G&&w.getAttribute('data-gina-form-event-on-submit-success')||
G&&w.getAttribute('data-gina-form-event-on-submit-error')?!0:!1;Aa&&G&&listenToXhrEvents(G,'form');P=P.getAttribute('enctype')||V.headers['Content-Type'];for(var I in V.headers)'Content-Type'==I&&'undefined'!=typeof P&&null!=P&&''!=P||B.setRequestHeader(I,V.headers[I]);B.withCredentials='undefined'!=typeof V.withCredentials?V.withCredentials:!1;B.onerror=function(O,A){O={status:B.status||500,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};
G&&(G.eventData.error=O);r&&(r.eventData.error=O);window.ginaToolbar.update('data-xhr',O,!0);triggerEvent(gina,w,'error.'+S,O);Aa&&triggerEvent(gina,w,'error.'+S+'.hform',O);va&&triggerEvent(gina,w,'error.'+S+'.hlink',O)};B.onreadystatechange=function(O){O=/Google Inc/i.test(navigator.vendor)?50:0;2==B.readyState&&(N=/^attachment;/.test(B.getResponseHeader('Content-Disposition'))?!0:!1,!B.responseType&&N&&(B.responseType='blob'));if(4==B.readyState)if(U=null,ba=B.getResponseHeader('Content-Type'),
/^2/.test(B.status)){try{if(/blob/.test(B.responseType)||N){if('undefined'==typeof ba||null==ba)ba='application/octet-stream';U=new Blob([this.response],{type:ba});var A=document.createElement('a');A.style='display: none';document.body.appendChild(A);var D=window.URL.createObjectURL(U);A.href=D;var l=B.getResponseHeader('Content-Disposition');A.download=l.match('=(.*)')[0].substr(1);A.click();window.URL.revokeObjectURL(D);Q={status:B.status,statusText:B.statusText,responseType:U.type,type:U.type,
size:U.size}}!Q&&/\/json/.test(ba)&&(Q=JSON.parse(B.responseText),'undefined'==typeof Q.status&&(Q.status=B.status||200));if(!Q&&/\/html/.test(ba)&&(Q={contentType:ba,content:B.responseText},'undefined'==typeof Q.status&&(Q.status=B.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler)){var y=gina.popin.getActivePopin();if(y){XHRData={};try{XHRData=(new DOMParser).parseFromString(Q.content,'text/html').getElementById('gina-without-layout-xhr-data'),XHRData=JSON.parse(decodeURIComponent(XHRData.value)),
XHRView=(new DOMParser).parseFromString(Q.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRData&&window.ginaToolbar.update('data-xhr',XHRData),gina&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(v){throw v;}y.loadContent(Q.content);Q=XHRData;triggerEvent(gina,w,'success.'+S,Q);return}}Q||(Q=B.responseText);G&&
(G.eventData.success=Q);XHRData=Q;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&/\/html/.test(ba)&&window.ginaToolbar.update('data-xhr',XHRData)}catch(v){throw v;}triggerEvent(gina,w,'success.'+S,Q);Aa&&triggerEvent(gina,w,'success.'+S+'.hform',Q);va&&triggerEvent(gina,w,'success.'+S+'.hlink',Q)}catch(v){Q={status:422,error:v.message,stack:v.stack};G&&(G.eventData.error=Q);XHRData=Q;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{'undefined'!=typeof XHRData&&
window.ginaToolbar.update('data-xhr',XHRData)}catch(H){throw H;}triggerEvent(gina,w,'error.'+S,Q);Aa&&triggerEvent(gina,w,'error.'+S+'.hform',Q);va&&triggerEvent(gina,w,'error.'+S+'.hlink',Q)}if('undefined'!=typeof Q&&'undefined'!=typeof Q.location)return window.location.hash='',Q.location=/^http/.test(Q.location)||/^\//.test(Q.location)?Q.location:location.protocol+'//'+Q.location,setTimeout(()=>{window.location.href=Q.location},O)}else if(0!=B.status)if(Q={status:B.status,message:''},/blob/.test(B.responseType)){U=
new Blob([this.response],{type:'text/plain'});var z=new FileReader,F='';z.addEventListener('loadend',v=>{/string/i.test(typeof v.srcElement.result)?F+=v.srcElement.result:'object'==typeof v.srcElement.result?Q=merge(Q,v.srcElement.result):Q.message+=v.srcElement.result;if(/^2/.test(z.readyState)){if(/^(\{|\[)/.test(F))try{Q=merge(Q,JSON.parse(F))}catch(T){Q=merge(Q,T)}Q.message||delete Q.message;G&&(G.eventData.error=Q);if('undefined'!=typeof Q&&'undefined'!=typeof Q.error&&Q.error.fields&&'object'==
typeof Q.error.fields){v={};var H=0,K;for(K in Q.error.fields)++H,v[K]={isApplicationValidationError:Q.error.fields[K]};0<H&&handleErrorsDisplay(G.target,v)}XHRData=Q;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(T){throw T;}triggerEvent(gina,w,'error.'+S,Q);Aa&&triggerEvent(gina,w,'error.'+S+'.hform',Q);va&&triggerEvent(gina,w,'error.'+S+'.hlink',Q)}});z.readAsText(U)}else{try{Q=merge(Q,JSON.parse(B.responseText))}catch(v){Q=merge(Q,
v)}G&&(G.eventData.error=Q);if('undefined'!=typeof Q&&'undefined'!=typeof Q.error&&Q.error.fields&&'object'==typeof Q.error.fields){A={};D=0;for(var u in Q.error.fields)++D,A[u]={isApplicationValidationError:Q.error.fields[u]};0<D&&handleErrorsDisplay(G.target,A)}XHRData=Q;if(gina&&'object'==typeof window.ginaToolbar&&XHRData)try{window.ginaToolbar.update('data-xhr',XHRData)}catch(v){throw v;}triggerEvent(gina,w,'error.'+S,Q);Aa&&triggerEvent(gina,w,'error.'+S+'.hform',Q);va&&triggerEvent(gina,w,
'error.'+S+'.hlink',Q)}};B.onprogress=function(O){var A='0';O.lengthComputable&&(A=O.loaded/O.total,A=parseInt(100*A));O={status:100,progress:A};G&&(G.eventData.onprogress=O);triggerEvent(gina,w,'progress.'+S,O)};B.ontimeout=function(O){Q={status:408,error:'Request Timeout'};G&&(G.eventData.ontimeout=Q);triggerEvent(gina,w,'error.'+S,Q);Aa&&triggerEvent(gina,w,'error.'+S+'.hform',Q);va&&triggerEvent(gina,w,'error.'+S+'.hlink',Q)}}
function removeListener(B,P,V,ma){'undefined'!=typeof B.event&&B.event.isTouchSupported&&/^(click|mouseout|mouseover)/.test(V)&&-1!=B.event[V].indexOf(P)&&B.event[V].splice(B.event[V].indexOf(P),1);if('undefined'!=typeof P&&null!=P)if(P.removeEventListener)if(Array.isArray(P))for(i=0,len=P.length;i<len;i++)B=/\.$/.test(V)?V+P[i].id:V,P.removeEventListener(B,ma,!1),'undefined'!=typeof gina.events[B]&&delete gina.events[B];else V=/\.$/.test(V)?V+P.id:V,P.removeEventListener(V,ma,!1);else{if(P.attachEvent)if(Array.isArray(P))for(i=
0,len=P.length;i<len;i++)B=/\.$/.test(V)?V+P[i].id:V,P.detachEvent('on'+B,ma),'undefined'!=typeof gina.events[B]&&delete gina.events[B];else V=/\.$/.test(V)?V+P.id:V,P.detachEvent('on'+V,ma)}else if(Array.isArray(P))for(i=0,len=P.length;i<len;i++){let U=/\.$/.test(V)?V+P[i].id:V;B.customEvent.removeListener(U,ma);'undefined'!=typeof gina.events[U]&&delete gina.events[U]}else V=/\.$/.test(V)?V+P.id:V,B.customEvent.removeListener(V,ma);'undefined'!=typeof gina.events[V]&&delete gina.events[V];'undefined'!=
typeof ma&&ma()}
function on(B,P){if(!this.plugin)throw Error('No `plugin` reference found for this event: `'+B);if(0>gina.registeredEvents[this.plugin].indexOf(B)&&!/^init$/.test(B)&&!/\.hform$/.test(B)&&!/\.hlink$/.test(B))P(Error('Event `'+B+'` not handled by ginaEventHandler'));else{var V=null,ma=null;'undefined'!=typeof this.id&&'object'!=typeof this.id?(V=this.target||this,ma=this.id):'undefined'!=typeof this.target?((V=this.target)||(V=this),ma='undefined'!=typeof V.getAttribute?V.getAttribute('id'):this.id):
(V=this.target,ma=instance.id);this.eventData&&!V.eventData&&(V.eventData=this.eventData);B=/\.(hform|hlink)$/.test(B)?/\.hform$/.test(B)?B.replace(/\.hform$/,'.'+ma+'.hform'):B.replace(/\.hlink$/,'.'+ma+'.hlink'):B+('.'+ma);gina.events[B]||(addListener(gina,V,B,function(U){cancelEvent(U);var N=null;U.detail?N=U.detail:'undefined'!=typeof this.eventData.submit?N=this.eventData.submit:'undefined'!=typeof this.eventData.error?N=this.eventData.error:'undefined'!=typeof this.eventData.success&&(N=this.eventData.success);
P&&P(U,N)}),this.initialized&&!this.isReady&&triggerEvent(gina,V,'init.'+ma));return this}}define('utils/events',function(){});
function PrototypesHelper(B){var P='undefined'!==typeof module&&module.exports?!1:!0,V=B||null;B=null;if('undefined'==typeof GINA_DIR&&!P&&'undefined'!=typeof process&&3<process.argv.length)if(/^\{/.test(process.argv[2]))B=JSON.parse(process.argv[2]).envVars;else if(/\.ctx$/.test(process.argv[2])){B=require('fs');var ma=process.argv[2].split(/\-\-argv\-filename=/)[1];B=JSON.parse(B.readFileSync(ma).toString()).envVars}if(V&&'undefined'!=typeof V&&'undefined'!=typeof V.dateFormat)for(let U in V.dateFormat)'undefined'==
typeof Date[U]&&Object.defineProperty(Date.prototype,U,{writable:!1,enumerable:!1,configurable:!0,value:function(){var N={0:this},ba=1,Q;for(Q in arguments)N[ba]=arguments[Q],++ba;N.length=ba;return V.dateFormat[U].apply(this,N)}});'undefined'==typeof Array.clone&&Object.defineProperty(Array.prototype,'clone',{writable:!1,enumerable:!1,configurable:!0,value:function(){return this.slice(0)}});'undefined'!=typeof JSON.clone||P||('undefined'!=typeof B&&null!=B?JSON.clone=require(B.GINA_DIR+'/utils/prototypes.json_clone'):
(B||(P=process.cwd().match(/.*\/gina/)[0],require(P+'/utils/helper'),setEnvVar('GINA_DIR',P,!0),B=getEnvVars()),JSON.clone=require(getEnvVar('GINA_DIR')+'/utils/prototypes.json_clone')));'undefined'==typeof JSON.escape&&(JSON.escape=function(U){try{return U.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(N){throw N;}});'undefined'==typeof Array.toString&&(Array.prototype.toString=function(){return this.join()});'undefined'==typeof Array.inArray&&Object.defineProperty(Array.prototype,
'inArray',{writable:!1,enumerable:!1,configurable:!0,value:function(U){return-1!=this.indexOf(U)}});'undefined'==typeof Array.from&&Object.defineProperty(Array.prototype,'from',{writable:!1,enumerable:!1,configurable:!0,value:function(U){for(var N={},ba=[],Q=U.length,S=0,r=0;r<Q;r++){var G=U[r];1!==N[G]&&(N[G]=1,ba[S++]=G)}return ba}});'undefined'==typeof Object.count&&Object.defineProperty(Object.prototype,'count',{writable:!0,enumerable:!1,configurable:!0,value:function(){var U=0;try{this instanceof
String&&JSON.parse(this);for(var N in this)this.hasOwnProperty(N)&&++U;return U}catch(ba){return U}}});'undefined'!=typeof global&&'undefined'==typeof global.__stack&&Object.defineProperty(global,'__stack',{configurable:!0,get:function(){var U=Error.prepareStackTrace;Error.prepareStackTrace=function(ba,Q){return Q};var N=Error();Error.captureStackTrace(N,arguments.callee);N=N.stack;Error.prepareStackTrace=U;return N}})}
'undefined'!==typeof module&&module.exports?module.exports=PrototypesHelper:'function'===typeof define&&define.amd&&define('helpers/prototypes',[],function(){return PrototypesHelper});
function DateFormatHelper(){var B='undefined'!==typeof module&&module.exports?!1:!0,P=B?require('lib/merge'):require('./../lib/merge');var V='en-US';var ma='en';var U={'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy',cookieDate:'GMT:ddd, dd mmm yyyy HH:MM:ss',logger:'yyyy mmm dd HH:MM:ss',shortTime:'h:MM TT',shortTime2:'h:MM',mediumTime:'h:MM:ss TT',mediumTime2:'h:MM:ss',longTime:'h:MM:ss TT Z',
longTime2:'h:MM:ss TT',concatenatedDate:'yyyymmdd',isoDate:'yyyy-mm-dd',isoTime:'HH:MM:ss',shortIsoTime:'HH:MM',longIsoTime:'HH:MM:ss TT',isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",longIsoDateTime:"yyyy-mm-dd'T'HH:MM:ss.L",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};var N={en:{dayNames:'Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday'.split(' '),monthNames:'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December'.split(' '),
masks:{'default':'ddd mmm dd yyyy HH:MM:ss',shortDate:'m/d/yy',shortDate2:'mm/dd/yyyy',mediumDate:'mmm d, yyyy',longDate:'mmmm d, yyyy',fullDate:'dddd, mmmm d, yyyy'}},fr:{dayNames:'dim lun mar mer jeu ven sam dimanche lundi mardi mercredi jeudi vendredi samedi'.split(' '),monthNames:'Jan F\u00e9v Mar Avr Mai Jui Juil Ao\u00fb Sep Oct Nov D\u00e9c Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre'.split(' '),masks:{'default':'ddd mmm dd yyyy HH:MM:ss',
shortDate:'d/m/yy',shortDate2:'dd/mm/yyyy',mediumDate:'d mmm, yyyy',longDate:'d mmmm, yyyy',fullDate:'dddd, d mmmm, yyyy'}}};var ba=function(r,G){if(G instanceof Date)return r=r.getTime(),G=G.getTime(),Math.round(Math.abs(r-G)/864E5);throw Error('dateTo is not instance of Date() !');},Q=['us','eu','corporate'],S=function(r){d=new Date(r.getFullYear(),r.getMonth(),r.getDate());r=d.getDay()||7;d.setDate(d.getDate()+4-r);r=new Date(Date.parse(d.getFullYear(),0,1));return Math.ceil(((d-r)/864E5+1)/7)};
return{setCulture:function(r,G){/\-/.test(G)?(V=G,ma=G.split(/\-/)[0]):ma=G;return this},format:function(r,G,w){var va=N[ma]||N.en,Aa=null;try{Aa=P(va.masks,U)}catch(T){P=(B='undefined'!==typeof module&&module.exports?!1:!0)?require('lib/merge'):require('./../lib/merge'),Aa=P(va.masks,U)}'undefined'!=typeof N[V]&&(va=N[V],'undefined'!=typeof N[V].mask&&(Aa=P(va.masks,U)));var I=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,
O=/[^-+\dA-Z]/g,A=function(T,qa){T=String(T);for(qa=qa||2;T.length<qa;)T='0'+T;return T};1!=arguments.length||'[object String]'!=Object.prototype.toString.call(r)||/\d/.test(r)||(G=r,r=void 0);r=r?new Date(r):new Date;if(isNaN(r))throw SyntaxError('invalid date');G=String(Aa[G]||G||Aa['default']);'UTC:'==G.slice(0,4)&&(G=G.slice(4),w=!0);var D=w?'getUTC':'get';Aa=r[D+'Date']();var l=r[D+'Day'](),y=r[D+'Month'](),z=r[D+'FullYear'](),F=r[D+'Hours'](),u=r[D+'Minutes'](),v=r[D+'Seconds']();D=r[D+'Milliseconds']();
var H=w?0:r.getTimezoneOffset(),K={d:Aa,dd:A(Aa),ddd:va.dayNames[l],dddd:va.dayNames[l+7],m:y+1,mm:A(y+1),mmm:va.monthNames[y],mmmm:va.monthNames[y+12],yy:String(z).slice(2),yyyy:z,h:F%12||12,hh:A(F%12||12),H:F,HH:A(F),M:u,MM:A(u),s:v,ss:A(v),l:A(D,3),L:A(D),t:12>F?'a':'p',tt:12>F?'am':'pm',T:12>F?'A':'P',TT:12>F?'AM':'PM',Z:w?'UTC':(String(r).match(I)||['']).pop().replace(O,''),o:(0<H?'-':'+')+A(100*Math.floor(Math.abs(H)/60)+Math.abs(H)%60,4),S:['th','st','nd','rd'][3<Aa%10?0:(10!=Aa%100-Aa%10)*
Aa%10]};return G.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,function(T){return T in K?K[T]:T.slice(1,T.length-1)})},countDaysTo:ba,getDaysTo:function(r,G,w){if(G instanceof Date){G=ba(r,G);var va=r.getMonth(),Aa=r.getFullYear();r=r.getDate()+1;r=new Date(Aa,va,r);va=[];for(Aa=0;Aa<G;++Aa)'undefined'!=typeof w?va.push((new Date(r)).format(w)):va.push(new Date(r)),r.setDate(r.getDate()+1);return va||[]}throw Error('dateTo is not instance of Date() !');},getDaysInMonth:function(r){var G=
r.getMonth();r=r.getFullYear();r=new Date(r,G,1);for(var w=[];r.getMonth()===G;)w.push(new Date(r)),r.setDate(r.getDate()+1);return w},getQuarter:function(r,G){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>Q.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');r=new Date;G=arguments[0]}'undefined'==typeof r&&(r=new Date);'undefined'==typeof G&&(G='corporate');G=G.toLowerCase();switch(G){case 'us':var w=[4,1,2,3];break;case 'corportate':case 'eu':w=
[1,2,3,4];break;default:w=[1,2,3,4]}return w[Math.floor(r.getMonth()/3)]},getHalfYear:function(r,G){if(1==arguments.length&&'string'==typeof arguments[0]){if(0>Q.indexOf(arguments[0].toLowerCase()))throw Error('Quarter '+arguments[0]+' code not supported !');r=new Date;G=arguments[0]}'undefined'==typeof r&&(r=new Date);'undefined'==typeof G&&(G='corporate');G=G.toLowerCase();return 2>=r.getQuarter(G)?1:2},getWeek:function(r,G){'undefined'==typeof r&&(r=new Date);'undefined'==typeof G&&(G='ISO 8601');
G=G.replace(/\s+/g,'').toLowerCase();switch(G){case 'corporate':case 'eu':case 'iso8601':return S(r);default:return S(r)}},addHours:function(r,G){r=new Date(r.getTime());r.setHours(r.getHours()+G);return r},addDays:function(r,G){r=new Date(r.getTime());r.setHours(r.getHours()+24*G);return r},addYears:function(r,G){r=new Date(r.getTime());r.setFullYear(r.getFullYear()+G);return r}}}
'undefined'!==typeof module&&module.exports?module.exports=DateFormatHelper:'function'===typeof define&&define.amd&&define('helpers/dateFormat',[],function(){return DateFormatHelper});
!function(B,P){'object'==typeof module&&'object'==typeof module.exports?module.exports=B.document?P(B,!0):function(V){if(!V.document)throw Error('jQuery requires a window with a document');return P(V)}:P(B)}('undefined'!=typeof window?window:this,function(B,P){function V(a){var c=!!a&&'length'in a&&a.length,e=b.type(a);return'function'===e||b.isWindow(a)?!1:'array'===e||0===c||'number'==typeof c&&0<c&&c-1 in a}function ma(a,c,e){if(b.isFunction(c))return b.grep(a,function(k,n){return!!c.call(k,n,
k)!==e});if(c.nodeType)return b.grep(a,function(k){return k===c!==e});if('string'==typeof c){if(E.test(c))return b.filter(c,a,e);c=b.filter(c,a)}return b.grep(a,function(k){return-1<b.inArray(k,c)!==e})}function U(a,c){do a=a[c];while(a&&1!==a.nodeType);return a}function N(a){var c={};return b.each(a.match(Ga)||[],function(e,k){c[k]=!0}),c}function ba(){Ka.addEventListener?(Ka.removeEventListener('DOMContentLoaded',Q),B.removeEventListener('load',Q)):(Ka.detachEvent('onreadystatechange',Q),B.detachEvent('onload',
Q))}function Q(){(Ka.addEventListener||'load'===B.event.type||'complete'===Ka.readyState)&&(ba(),b.ready())}function S(a,c,e){if(void 0===e&&1===a.nodeType){var k='data-'+c.replace(zb,'-$1').toLowerCase();if(e=a.getAttribute(k),'string'==typeof e){try{e='true'===e?!0:'false'===e?!1:'null'===e?null:+e+''===e?+e:Cb.test(e)?b.parseJSON(e):e}catch(n){}b.data(a,c,e)}else e=void 0}return e}function r(a){for(var c in a)if(('data'!==c||!b.isEmptyObject(a[c]))&&'toJSON'!==c)return!1;return!0}function G(a,
c,e,k){if(ib(a)){var n,C,J=b.expando,Y=a.nodeType,pa=Y?b.cache:a,Ca=Y?a[J]:a[J]&&J;if(Ca&&pa[Ca]&&(k||pa[Ca].data)||void 0!==e||'string'!=typeof c)return Ca||=Y?a[J]=xb.pop()||b.guid++:J,pa[Ca]||(pa[Ca]=Y?{}:{toJSON:b.noop}),'object'!=typeof c&&'function'!=typeof c||(k?pa[Ca]=b.extend(pa[Ca],c):pa[Ca].data=b.extend(pa[Ca].data,c)),C=pa[Ca],k||(C.data||(C.data={}),C=C.data),void 0!==e&&(C[b.camelCase(c)]=e),'string'==typeof c?(n=C[c],null==n&&(n=C[b.camelCase(c)])):n=C,n}}function w(a,c,e){if(ib(a)){var k,
n,C=a.nodeType,J=C?b.cache:a,Y=C?a[b.expando]:b.expando;if(J[Y]){if(c&&(k=e?J[Y]:J[Y].data)){b.isArray(c)?c=c.concat(b.map(c,b.camelCase)):c in k?c=[c]:(c=b.camelCase(c),c=c in k?[c]:c.split(' '));for(n=c.length;n--;)delete k[c[n]];if(e?!r(k):!b.isEmptyObject(k))return}(e||(delete J[Y].data,r(J[Y])))&&(C?b.cleanData([a],!0):h.deleteExpando||J!=J.window?delete J[Y]:J[Y]=void 0)}}}function va(a,c,e,k){var n,C=1,J=20,Y=k?function(){return k.cur()}:function(){return b.css(a,c,'')},pa=Y(),Ca=e&&e[3]||
(b.cssNumber[c]?'':'px'),sa=(b.cssNumber[c]||'px'!==Ca&&+pa)&&Mb.exec(b.css(a,c));if(sa&&sa[3]!==Ca){Ca=Ca||sa[3];e=e||[];sa=+pa||1;do C=C||'.5',sa/=C,b.style(a,c,sa+Ca);while(C!==(C=Y()/pa)&&1!==C&&--J)}return e&&(sa=+sa||+pa||0,n=e[1]?sa+(e[1]+1)*e[2]:+e[2],k&&(k.unit=Ca,k.start=sa,k.end=n)),n}function Aa(a){var c='abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video'.split(' ');
a=a.createDocumentFragment();if(a.createElement)for(;c.length;)a.createElement(c.pop());return a}function I(a,c){var e,k,n=0,C='undefined'!=typeof a.getElementsByTagName?a.getElementsByTagName(c||'*'):'undefined'!=typeof a.querySelectorAll?a.querySelectorAll(c||'*'):void 0;if(!C)for(C=[],e=a.childNodes||a;null!=(k=e[n]);n++)!c||b.nodeName(k,c)?C.push(k):b.merge(C,I(k,c));return void 0===c||c&&b.nodeName(a,c)?b.merge([a],C):C}function O(a,c){for(var e,k=0;null!=(e=a[k]);k++)b._data(e,'globalEval',
!c||b._data(c[k],'globalEval'))}function A(a){X.test(a.type)&&(a.defaultChecked=a.checked)}function D(a,c,e,k,n){for(var C,J,Y,pa,Ca,sa,Sa,Va=a.length,yb=Aa(c),bb=[],Hb=0;Va>Hb;Hb++)if(J=a[Hb],J||0===J)if('object'===b.type(J))b.merge(bb,J.nodeType?[J]:J);else if(eb.test(J)){pa=pa||yb.appendChild(c.createElement('div'));Ca=(ja.exec(J)||['',''])[1].toLowerCase();Sa=Xa[Ca]||Xa._default;pa.innerHTML=Sa[1]+b.htmlPrefilter(J)+Sa[2];for(C=Sa[0];C--;)pa=pa.lastChild;if(!h.leadingWhitespace&&Ra.test(J)&&bb.push(c.createTextNode(Ra.exec(J)[0])),
!h.tbody)for(C=(J='table'!==Ca||Oa.test(J)?'<table>'!==Sa[1]||Oa.test(J)?0:pa:pa.firstChild)&&J.childNodes.length;C--;)b.nodeName(sa=J.childNodes[C],'tbody')&&!sa.childNodes.length&&J.removeChild(sa);b.merge(bb,pa.childNodes);for(pa.textContent='';pa.firstChild;)pa.removeChild(pa.firstChild);pa=yb.lastChild}else bb.push(c.createTextNode(J));pa&&yb.removeChild(pa);h.appendChecked||b.grep(I(bb,'input'),A);for(Hb=0;J=bb[Hb++];)if(k&&-1<b.inArray(J,k))n&&n.push(J);else if(Y=b.contains(J.ownerDocument,
J),pa=I(yb.appendChild(J),'script'),Y&&O(pa),e)for(C=0;J=pa[C++];)ua.test(J.type||'')&&e.push(J);return yb}function l(){return!0}function y(){return!1}function z(){try{return Ka.activeElement}catch(a){}}function F(a,c,e,k,n,C){var J,Y;if('object'==typeof c){'string'!=typeof e&&(k=k||e,e=void 0);for(Y in c)F(a,Y,e,k,c[Y],C);return a}if(null==k&&null==n?(n=e,k=e=void 0):null==n&&('string'==typeof e?(n=k,k=void 0):(n=k,k=e,e=void 0)),!1===n)n=y;else if(!n)return a;return 1===C&&(J=n,n=function(pa){return b().off(pa),
J.apply(this,arguments)},n.guid=J.guid||(J.guid=b.guid++)),a.each(function(){b.event.add(this,c,n,k,e)})}function u(a,c){return b.nodeName(a,'table')&&b.nodeName(11!==c.nodeType?c:c.firstChild,'tr')?a.getElementsByTagName('tbody')[0]||a.appendChild(a.ownerDocument.createElement('tbody')):a}function v(a){return a.type=(null!==b.find.attr(a,'type'))+'/'+a.type,a}function H(a){var c=$b.exec(a.type);return c?a.type=c[1]:a.removeAttribute('type'),a}function K(a,c){if(1===c.nodeType&&b.hasData(a)){var e,
k;var n=b._data(a);a=b._data(c,n);var C=n.events;if(C)for(e in delete a.handle,a.events={},C)for(n=0,k=C[e].length;k>n;n++)b.event.add(c,e,C[e][n]);a.data&&(a.data=b.extend({},a.data))}}function T(a,c,e,k){c=Lb.apply([],c);var n,C,J,Y=0,pa=a.length,Ca=pa-1,sa=c[0],Sa=b.isFunction(sa);if(Sa||1<pa&&'string'==typeof sa&&!h.checkClone&&Ib.test(sa))return a.each(function(yb){var bb=a.eq(yb);Sa&&(c[0]=sa.call(this,yb,bb.html()));T(bb,c,e,k)});if(pa&&(J=D(c,a[0].ownerDocument,!1,a,k),n=J.firstChild,1===
J.childNodes.length&&(J=n),n||k)){var Va=b.map(I(J,'script'),v);for(C=Va.length;pa>Y;Y++)n=J,Y!==Ca&&(n=b.clone(n,!0,!0),C&&b.merge(Va,I(n,'script'))),e.call(a[Y],n,Y);if(C)for(J=Va[Va.length-1].ownerDocument,b.map(Va,H),Y=0;C>Y;Y++)n=Va[Y],ua.test(n.type||'')&&!b._data(n,'globalEval')&&b.contains(J,n)&&(n.src?b._evalUrl&&b._evalUrl(n.src):b.globalEval((n.text||n.textContent||n.innerHTML||'').replace(Xb,'')));J=n=null}return a}function qa(a,c,e){for(var k=c?b.filter(c,a):a,n=0;null!=(c=k[n]);n++)e||
1!==c.nodeType||b.cleanData(I(c)),c.parentNode&&(e&&b.contains(c.ownerDocument,c)&&O(I(c,'script')),c.parentNode.removeChild(c));return a}function Fa(a,c){a=b(c.createElement(a)).appendTo(c.body);c=b.css(a[0],'display');return a.detach(),c}function W(a){var c=Ka,e=Nb[a];return e||(e=Fa(a,c),'none'!==e&&e||(gc=(gc||b("<iframe frameborder='0' width='0' height='0'/>")).appendTo(c.documentElement),c=(gc[0].contentWindow||gc[0].contentDocument).document,c.write(),c.close(),e=Fa(a,c),gc.detach()),Nb[a]=
e),e}function ka(a,c){return{get:function(){return a()?void delete this.get:(this.get=c).apply(this,arguments)}}}function ha(a){if(a in hd)return a;for(var c=a.charAt(0).toUpperCase()+a.slice(1),e=jd.length;e--;)if(a=jd[e]+c,a in hd)return a}function xa(a,c){for(var e,k,n,C=[],J=0,Y=a.length;Y>J;J++)k=a[J],k.style&&(C[J]=b._data(k,'olddisplay'),e=k.style.display,c?(C[J]||'none'!==e||(k.style.display=''),''===k.style.display&&cb(k)&&(C[J]=b._data(k,'olddisplay',W(k.nodeName)))):(n=cb(k),(e&&'none'!==
e||!n)&&b._data(k,'olddisplay',n?e:b.css(k,'display'))));for(J=0;Y>J;J++)k=a[J],k.style&&(c&&'none'!==k.style.display&&''!==k.style.display||(k.style.display=c?C[J]||'':'none'));return a}function la(a,c,e){return(a=vd.exec(c))?Math.max(0,a[1]-(e||0))+(a[2]||'px'):c}function ta(a,c,e,k,n){c=e===(k?'border':'content')?4:'width'===c?1:0;for(var C=0;4>c;c+=2)'margin'===e&&(C+=b.css(a,e+Ya[c],!0,n)),k?('content'===e&&(C-=b.css(a,'padding'+Ya[c],!0,n)),'margin'!==e&&(C-=b.css(a,'border'+Ya[c]+'Width',!0,
n))):(C+=b.css(a,'padding'+Ya[c],!0,n),'padding'!==e&&(C+=b.css(a,'border'+Ya[c]+'Width',!0,n)));return C}function Da(a,c,e){var k=!0,n='width'===c?a.offsetWidth:a.offsetHeight,C=rc(a),J=h.boxSizing&&'border-box'===b.css(a,'boxSizing',!1,C);if(0>=n||null==n){if(n=sc(a,c,C),(0>n||null==n)&&(n=a.style[c]),nc.test(n))return n;k=J&&(h.boxSizingReliable()||n===a.style[c]);n=parseFloat(n)||0}return n+ta(a,c,e||(J?'border':'content'),k,C)+'px'}function Qa(a,c,e,k,n){return new Qa.prototype.init(a,c,e,k,
n)}function La(){return B.setTimeout(function(){Fc=void 0}),Fc=b.now()}function Ea(a,c){var e={height:a},k=0;for(c=c?1:0;4>k;k+=2-c){var n=Ya[k];e['margin'+n]=e['padding'+n]=a}return c&&(e.opacity=e.width=a),e}function Na(a,c,e){for(var k,n=(Ja.tweeners[c]||[]).concat(Ja.tweeners['*']),C=0,J=n.length;J>C;C++)if(k=n[C].call(e,c,a))return k}function Ia(a,c){var e,k,n,C,J;for(e in a)if(k=b.camelCase(e),n=c[k],C=a[e],b.isArray(C)&&(n=C[1],C=a[e]=C[0]),e!==k&&(a[k]=C,delete a[e]),J=b.cssHooks[k],J&&'expand'in
J)for(e in C=J.expand(C),delete a[k],C)e in a||(a[e]=C[e],c[e]=n);else c[k]=n}function Ja(a,c,e){var k,n=0,C=Ja.prefilters.length,J=b.Deferred().always(function(){delete Y.elem}),Y=function(){if(k)return!1;var Ca=Fc||La();Ca=Math.max(0,pa.startTime+pa.duration-Ca);for(var sa=1-(Ca/pa.duration||0),Sa=0,Va=pa.tweens.length;Va>Sa;Sa++)pa.tweens[Sa].run(sa);return J.notifyWith(a,[pa,sa,Ca]),1>sa&&Va?Ca:(J.resolveWith(a,[pa]),!1)},pa=J.promise({elem:a,props:b.extend({},c),opts:b.extend(!0,{specialEasing:{},
easing:b.easing._default},e),originalProperties:c,originalOptions:e,startTime:Fc||La(),duration:e.duration,tweens:[],createTween:function(Ca,sa){Ca=b.Tween(a,pa.opts,Ca,sa,pa.opts.specialEasing[Ca]||pa.opts.easing);return pa.tweens.push(Ca),Ca},stop:function(Ca){var sa=0,Sa=Ca?pa.tweens.length:0;if(k)return this;for(k=!0;Sa>sa;sa++)pa.tweens[sa].run(1);return Ca?(J.notifyWith(a,[pa,1,0]),J.resolveWith(a,[pa,Ca])):J.rejectWith(a,[pa,Ca]),this}});e=pa.props;for(Ia(e,pa.opts.specialEasing);C>n;n++)if(c=
Ja.prefilters[n].call(pa,a,e,pa.opts))return b.isFunction(c.stop)&&(b._queueHooks(pa.elem,pa.opts.queue).stop=b.proxy(c.stop,c)),c;return b.map(e,Na,pa),b.isFunction(pa.opts.start)&&pa.opts.start.call(a,pa),b.fx.timer(b.extend(Y,{elem:a,anim:pa,queue:pa.opts.queue})),pa.progress(pa.opts.progress).done(pa.opts.done,pa.opts.complete).fail(pa.opts.fail).always(pa.opts.always)}function Ua(a){return b.attr(a,'class')||''}function pb(a){return function(c,e){'string'!=typeof c&&(e=c,c='*');var k=0,n=c.toLowerCase().match(Ga)||
[];if(b.isFunction(e))for(;c=n[k++];)'+'===c.charAt(0)?(c=c.slice(1)||'*',(a[c]=a[c]||[]).unshift(e)):(a[c]=a[c]||[]).push(e)}}function ab(a,c,e,k){function n(Y){var pa;return C[Y]=!0,b.each(a[Y]||[],function(Ca,sa){Ca=sa(c,e,k);return'string'!=typeof Ca||J||C[Ca]?J?!(pa=Ca):void 0:(c.dataTypes.unshift(Ca),n(Ca),!1)}),pa}var C={},J=a===Vc;return n(c.dataTypes[0])||!C['*']&&n('*')}function gb(a,c){var e,k,n=b.ajaxSettings.flatOptions||{};for(k in c)void 0!==c[k]&&((n[k]?a:e||={})[k]=c[k]);return e&&
b.extend(!0,a,e),a}function Ub(a){if(!b.contains(a.ownerDocument||Ka,a))return!0;for(;a&&1===a.nodeType;){if('none'===(a.style&&a.style.display||b.css(a,'display'))||'hidden'===a.type)return!0;a=a.parentNode}return!1}function Zb(a,c,e,k){var n;if(b.isArray(c))b.each(c,function(C,J){e||wd.test(a)?k(a,J):Zb(a+'['+('object'==typeof J&&null!=J?C:'')+']',J,e,k)});else if(e||'object'!==b.type(c))k(a,c);else for(n in c)Zb(a+'['+n+']',c[n],e,k)}function jb(){try{return new B.XMLHttpRequest}catch(a){}}function Db(){try{return new B.ActiveXObject('Microsoft.XMLHTTP')}catch(a){}}
function rb(a){return b.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var xb=[],Ka=B.document,db=xb.slice,Lb=xb.concat,Vb=xb.push,ya=xb.indexOf,za={},m=za.toString,g=za.hasOwnProperty,h={},b=function(a,c){return new b.fn.init(a,c)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,q=/^-ms-/,p=/-([\da-z])/gi,R=function(a,c){return c.toUpperCase()};b.fn=b.prototype={jquery:'1.12.4',constructor:b,selector:'',length:0,toArray:function(){return db.call(this)},get:function(a){return null!=a?0>a?this[a+
this.length]:this[a]:db.call(this)},pushStack:function(a){a=b.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a){return b.each(this,a)},map:function(a){return this.pushStack(b.map(this,function(c,e){return a.call(c,e,c)}))},slice:function(){return this.pushStack(db.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var c=this.length;a=+a+(0>a?c:0);return this.pushStack(0<=a&&c>a?[this[a]]:[])},
end:function(){return this.prevObject||this.constructor()},push:Vb,sort:xb.sort,splice:xb.splice};b.extend=b.fn.extend=function(){var a,c,e,k,n=arguments[0]||{},C=1,J=arguments.length,Y=!1;'boolean'==typeof n&&(Y=n,n=arguments[C]||{},C++);'object'==typeof n||b.isFunction(n)||(n={});for(C===J&&(n=this,C--);J>C;C++)if(null!=(e=arguments[C]))for(c in e){var pa=n[c];var Ca=e[c];n!==Ca&&(Y&&Ca&&(b.isPlainObject(Ca)||(a=b.isArray(Ca)))?(a?(a=!1,k=pa&&b.isArray(pa)?pa:[]):k=pa&&b.isPlainObject(pa)?pa:{},
n[c]=b.extend(Y,k,Ca)):void 0!==Ca&&(n[c]=Ca))}return n};b.extend({expando:'jQuery'+('1.12.4'+Math.random()).replace(/\D/g,''),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return'function'===b.type(a)},isArray:Array.isArray||function(a){return'array'===b.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var c=a&&a.toString();return!b.isArray(a)&&0<=c-parseFloat(c)+1},isEmptyObject:function(a){for(var c in a)return!1;return!0},
isPlainObject:function(a){var c;if(!a||'object'!==b.type(a)||a.nodeType||b.isWindow(a))return!1;try{if(a.constructor&&!g.call(a,'constructor')&&!g.call(a.constructor.prototype,'isPrototypeOf'))return!1}catch(e){return!1}if(!h.ownFirst)for(c in a)return g.call(a,c);for(c in a);return void 0===c||g.call(a,c)},type:function(a){return null==a?a+'':'object'==typeof a||'function'==typeof a?za[m.call(a)]||'object':typeof a},globalEval:function(a){a&&b.trim(a)&&(B.execScript||function(c){B.eval.call(B,c)})(a)},
camelCase:function(a){return a.replace(q,'ms-').replace(p,R)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()},each:function(a,c){var e,k=0;if(V(a))for(e=a.length;e>k&&!1!==c.call(a[k],k,a[k]);k++);else for(k in a)if(!1===c.call(a[k],k,a[k]))break;return a},trim:function(a){return null==a?'':(a+'').replace(x,'')},makeArray:function(a,c){c=c||[];return null!=a&&(V(Object(a))?b.merge(c,'string'==typeof a?[a]:a):Vb.call(c,a)),c},inArray:function(a,c,e){if(c){if(ya)return ya.call(c,
a,e);var k=c.length;for(e=e?0>e?Math.max(0,k+e):e:0;k>e;e++)if(e in c&&c[e]===a)return e}return-1},merge:function(a,c){for(var e=+c.length,k=0,n=a.length;e>k;)a[n++]=c[k++];if(e!==e)for(;void 0!==c[k];)a[n++]=c[k++];return a.length=n,a},grep:function(a,c,e){for(var k=[],n=0,C=a.length,J=!e;C>n;n++)e=!c(a[n],n),e!==J&&k.push(a[n]);return k},map:function(a,c,e){var k,n=0,C=[];if(V(a))for(k=a.length;k>n;n++){var J=c(a[n],n,e);null!=J&&C.push(J)}else for(n in a)J=c(a[n],n,e),null!=J&&C.push(J);return Lb.apply([],
C)},guid:1,proxy:function(a,c){var e,k,n;return'string'==typeof c&&(n=a[c],c=a,a=n),b.isFunction(a)?(e=db.call(arguments,2),k=function(){return a.apply(c||this,e.concat(db.call(arguments)))},k.guid=a.guid=a.guid||b.guid++,k):void 0},now:function(){return+new Date},support:h});'function'==typeof Symbol&&(b.fn[Symbol.iterator]=xb[Symbol.iterator]);b.each('Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' '),function(a,c){za['[object '+c+']']=c.toLowerCase()});var L=function(a){function c(M,
aa,oa,wa){var Ha,Ma,Ta,Za,Wa=aa&&aa.ownerDocument,kb=aa?aa.nodeType:9;if(oa=oa||[],'string'!=typeof M||!M||1!==kb&&9!==kb&&11!==kb)return oa;if(!wa&&((aa?aa.ownerDocument||aa:ac)!==tb&&Bc(aa),aa=aa||tb,fc)){if(11!==kb&&(Za=xd.exec(M)))if(Ha=Za[1])if(9===kb){if(!(Ma=aa.getElementById(Ha)))return oa;if(Ma.id===Ha)return oa.push(Ma),oa}else{if(Wa&&(Ma=Wa.getElementById(Ha))&&oc(aa,Ma)&&Ma.id===Ha)return oa.push(Ma),oa}else{if(Za[2])return Ac.apply(oa,aa.getElementsByTagName(M)),oa;if((Ha=Za[3])&&Pb.getElementsByClassName&&
aa.getElementsByClassName)return Ac.apply(oa,aa.getElementsByClassName(Ha)),oa}if(!(!Pb.qsa||bc[M+' ']||Tb&&Tb.test(M))){if(1!==kb){Wa=aa;var nb=M}else if('object'!==aa.nodeName.toLowerCase()){(Ta=aa.getAttribute('id'))?Ta=Ta.replace(yd,'\\$&'):aa.setAttribute('id',Ta=Ab);Za=Mc(M);Ha=Za.length;for(Ma=kd.test(Ta)?'#'+Ta:"[id='"+Ta+"']";Ha--;)Za[Ha]=Ma+' '+Va(Za[Ha]);nb=Za.join(',');Wa=Wc.test(M)&&sa(aa.parentNode)||aa}if(nb)try{return Ac.apply(oa,Wa.querySelectorAll(nb)),oa}catch(fb){}finally{Ta===
Ab&&aa.removeAttribute('id')}}}return hc(M.replace(Nc,'$1'),aa,oa,wa)}function e(){function M(oa,wa){return aa.push(oa+' ')>Fb.cacheLength&&delete M[aa.shift()],M[oa+' ']=wa}var aa=[];return M}function k(M){return M[Ab]=!0,M}function n(M){var aa=tb.createElement('div');try{return!!M(aa)}catch(oa){return!1}finally{aa.parentNode&&aa.parentNode.removeChild(aa)}}function C(M,aa){M=M.split('|');for(var oa=M.length;oa--;)Fb.attrHandle[M[oa]]=aa}function J(M,aa){var oa=aa&&M,wa=oa&&1===M.nodeType&&1===aa.nodeType&&
(~aa.sourceIndex||-2147483648)-(~M.sourceIndex||-2147483648);if(wa)return wa;if(oa)for(;oa=oa.nextSibling;)if(oa===aa)return-1;return M?1:-1}function Y(M){return function(aa){return'input'===aa.nodeName.toLowerCase()&&aa.type===M}}function pa(M){return function(aa){var oa=aa.nodeName.toLowerCase();return('input'===oa||'button'===oa)&&aa.type===M}}function Ca(M){return k(function(aa){return aa=+aa,k(function(oa,wa){for(var Ha,Ma=M([],oa.length,aa),Ta=Ma.length;Ta--;)oa[Ha=Ma[Ta]]&&(oa[Ha]=!(wa[Ha]=
oa[Ha]))})})}function sa(M){return M&&'undefined'!=typeof M.getElementsByTagName&&M}function Sa(){}function Va(M){for(var aa=0,oa=M.length,wa='';oa>aa;aa++)wa+=M[aa].value;return wa}function yb(M,aa,oa){var wa=aa.dir,Ha=oa&&'parentNode'===wa,Ma=Qb++;return aa.first?function(Ta,Za,Wa){for(;Ta=Ta[wa];)if(1===Ta.nodeType||Ha)return M(Ta,Za,Wa)}:function(Ta,Za,Wa){var kb,nb,fb,Jb=[Wb,Ma];if(Wa)for(;Ta=Ta[wa];){if((1===Ta.nodeType||Ha)&&M(Ta,Za,Wa))return!0}else for(;Ta=Ta[wa];)if(1===Ta.nodeType||Ha){if(fb=
Ta[Ab]||(Ta[Ab]={}),nb=fb[Ta.uniqueID]||(fb[Ta.uniqueID]={}),(kb=nb[wa])&&kb[0]===Wb&&kb[1]===Ma)return Jb[2]=kb[2];if(nb[wa]=Jb,Jb[2]=M(Ta,Za,Wa))return!0}}}function bb(M){return 1<M.length?function(aa,oa,wa){for(var Ha=M.length;Ha--;)if(!M[Ha](aa,oa,wa))return!1;return!0}:M[0]}function Hb(M,aa,oa,wa,Ha){for(var Ma,Ta=[],Za=0,Wa=M.length,kb=null!=aa;Wa>Za;Za++)(Ma=M[Za])&&(oa&&!oa(Ma,wa,Ha)||(Ta.push(Ma),kb&&aa.push(Za)));return Ta}function kc(M,aa,oa,wa,Ha,Ma){return wa&&!wa[Ab]&&(wa=kc(wa)),Ha&&
!Ha[Ab]&&(Ha=kc(Ha,Ma)),k(function(Ta,Za,Wa,kb){var nb,fb=[],Jb=[],cc=Za.length,Yb;if(!(Yb=Ta)){Yb=aa||'*';for(var ub=Wa.nodeType?[Wa]:Wa,tc=[],ic=0,qc=ub.length;qc>ic;ic++)c(Yb,ub[ic],tc);Yb=tc}Yb=!M||!Ta&&aa?Yb:Hb(Yb,fb,M,Wa,kb);ub=oa?Ha||(Ta?M:cc||wa)?[]:Za:Yb;if(oa&&oa(Yb,ub,Wa,kb),wa){var dc=Hb(ub,Jb);wa(dc,[],Wa,kb);for(Wa=dc.length;Wa--;)(nb=dc[Wa])&&(ub[Jb[Wa]]=!(Yb[Jb[Wa]]=nb))}if(Ta){if(Ha||M){if(Ha){dc=[];for(Wa=ub.length;Wa--;)(nb=ub[Wa])&&dc.push(Yb[Wa]=nb);Ha(null,ub=[],dc,kb)}for(Wa=
ub.length;Wa--;)(nb=ub[Wa])&&-1<(dc=Ha?Cc(Ta,nb):fb[Wa])&&(Ta[dc]=!(Za[dc]=nb))}}else ub=Hb(ub===Za?ub.splice(cc,ub.length):ub),Ha?Ha(null,Za,ub,kb):Ac.apply(Za,ub)})}function Gc(M){var aa,oa,wa=M.length,Ha=Fb.relative[M[0].type];var Ma=Ha||Fb.relative[' '];for(var Ta=Ha?1:0,Za=yb(function(nb){return nb===aa},Ma,!0),Wa=yb(function(nb){return-1<Cc(aa,nb)},Ma,!0),kb=[function(nb,fb,Jb){nb=!Ha&&(Jb||fb!==Bb)||((aa=fb).nodeType?Za(nb,fb,Jb):Wa(nb,fb,Jb));return aa=null,nb}];wa>Ta;Ta++)if(Ma=Fb.relative[M[Ta].type])kb=
[yb(bb(kb),Ma)];else{if(Ma=Fb.filter[M[Ta].type].apply(null,M[Ta].matches),Ma[Ab]){for(oa=++Ta;wa>oa&&!Fb.relative[M[oa].type];oa++);return kc(1<Ta&&bb(kb),1<Ta&&Va(M.slice(0,Ta-1).concat({value:' '===M[Ta-2].type?'*':''})).replace(Nc,'$1'),Ma,oa>Ta&&Gc(M.slice(Ta,oa)),wa>oa&&Gc(M=M.slice(oa)),wa>oa&&Va(M))}kb.push(Ma)}return bb(kb)}function lc(M,aa){var oa=0<aa.length,wa=0<M.length,Ha=function(Ma,Ta,Za,Wa,kb){var nb,fb,Jb=0,cc='0',Yb=Ma&&[],ub=[],tc=Bb,ic=Ma||wa&&Fb.find.TAG('*',kb),qc=Wb+=null==
tc?1:Math.random()||.1,dc=ic.length;for(kb&&(Bb=Ta===tb||Ta||kb);cc!==dc&&null!=(nb=ic[cc]);cc++){if(wa&&nb){var Xc=0;for(Ta||nb.ownerDocument===tb||(Bc(nb),Za=!fc);fb=M[Xc++];)if(fb(nb,Ta||tb,Za)){Wa.push(nb);break}kb&&(Wb=qc)}oa&&((nb=!fb&&nb)&&Jb--,Ma&&Yb.push(nb))}if(Jb+=cc,oa&&cc!==Jb){for(Xc=0;fb=aa[Xc++];)fb(Yb,ub,Ta,Za);if(Ma){if(0<Jb)for(;cc--;)Yb[cc]||ub[cc]||(ub[cc]=Yc.call(Wa));ub=Hb(ub)}Ac.apply(Wa,ub);kb&&!Ma&&0<ub.length&&1<Jb+aa.length&&c.uniqueSort(Wa)}return kb&&(Wb=qc,Bb=tc),Yb};
return oa?k(Ha):Ha}var wc,vb,hc,Bb,Ob,Rb,tb,jc,fc,Tb,ec,Sb,oc,Ab='sizzle'+1*new Date,ac=a.document,Wb=0,Qb=0,Hc=e(),pc=e(),bc=e(),uc=function(M,aa){return M===aa&&(Rb=!0),0},vc={}.hasOwnProperty,mc=[],Yc=mc.pop,zd=mc.push,Ac=mc.push,ld=mc.slice,Cc=function(M,aa){for(var oa=0,wa=M.length;wa>oa;oa++)if(M[oa]===aa)return oa;return-1},Ad=RegExp('[\\x20\\t\\r\\n\\f]+','g'),Nc=RegExp('^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$','g'),Bd=RegExp('^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*'),
Cd=RegExp('^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*'),Dd=RegExp('=[\\x20\\t\\r\\n\\f]*([^\\]\'"]*?)[\\x20\\t\\r\\n\\f]*\\]','g'),Ed=RegExp(':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
kd=RegExp('^(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+$'),Oc={ID:RegExp('^#((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),CLASS:RegExp('^\\.((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)'),TAG:RegExp('^((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+|[*])'),ATTR:RegExp('^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]'),PSEUDO:RegExp('^:((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)'),
CHILD:RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)','i'),bool:RegExp('^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$','i'),needsContext:RegExp('^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)',
'i')},Fd=/^(?:input|select|textarea|button)$/i,Gd=/^h\d$/i,Kc=/^[^{]+\{\s*\[native \w/,xd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Wc=/[+~]/,yd=/'|\\/g,xc=RegExp('\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)','ig'),yc=function(M,aa,oa){M='0x'+aa-65536;return M!==M||oa?aa:0>M?String.fromCharCode(M+65536):String.fromCharCode(M>>10|55296,1023&M|56320)},md=function(){Bc()};try{Ac.apply(mc=ld.call(ac.childNodes),ac.childNodes),mc[ac.childNodes.length].nodeType}catch(M){Ac={apply:mc.length?
function(aa,oa){zd.apply(aa,ld.call(oa))}:function(aa,oa){for(var wa=aa.length,Ha=0;aa[wa++]=oa[Ha++];);aa.length=wa-1}}}var Pb=c.support={};var Hd=c.isXML=function(M){return(M=M&&(M.ownerDocument||M).documentElement)?'HTML'!==M.nodeName:!1};var Bc=c.setDocument=function(M){var aa,oa;M=M?M.ownerDocument||M:ac;return M!==tb&&9===M.nodeType&&M.documentElement?(tb=M,jc=tb.documentElement,fc=!Hd(tb),(oa=tb.defaultView)&&oa.top!==oa&&(oa.addEventListener?oa.addEventListener('unload',md,!1):oa.attachEvent&&
oa.attachEvent('onunload',md)),Pb.attributes=n(function(wa){return wa.className='i',!wa.getAttribute('className')}),Pb.getElementsByTagName=n(function(wa){return wa.appendChild(tb.createComment('')),!wa.getElementsByTagName('*').length}),Pb.getElementsByClassName=Kc.test(tb.getElementsByClassName),Pb.getById=n(function(wa){return jc.appendChild(wa).id=Ab,!tb.getElementsByName||!tb.getElementsByName(Ab).length}),Pb.getById?(Fb.find.ID=function(wa,Ha){if('undefined'!=typeof Ha.getElementById&&fc)return(wa=
Ha.getElementById(wa))?[wa]:[]},Fb.filter.ID=function(wa){var Ha=wa.replace(xc,yc);return function(Ma){return Ma.getAttribute('id')===Ha}}):(delete Fb.find.ID,Fb.filter.ID=function(wa){var Ha=wa.replace(xc,yc);return function(Ma){return(Ma='undefined'!=typeof Ma.getAttributeNode&&Ma.getAttributeNode('id'))&&Ma.value===Ha}}),Fb.find.TAG=Pb.getElementsByTagName?function(wa,Ha){return'undefined'!=typeof Ha.getElementsByTagName?Ha.getElementsByTagName(wa):Pb.qsa?Ha.querySelectorAll(wa):void 0}:function(wa,
Ha){var Ma=[],Ta=0;Ha=Ha.getElementsByTagName(wa);if('*'===wa){for(;wa=Ha[Ta++];)1===wa.nodeType&&Ma.push(wa);return Ma}return Ha},Fb.find.CLASS=Pb.getElementsByClassName&&function(wa,Ha){return'undefined'!=typeof Ha.getElementsByClassName&&fc?Ha.getElementsByClassName(wa):void 0},ec=[],Tb=[],(Pb.qsa=Kc.test(tb.querySelectorAll))&&(n(function(wa){jc.appendChild(wa).innerHTML="<a id='"+Ab+"'></a><select id='"+Ab+"-\r\\' msallowcapture=''><option selected=''></option></select>";wa.querySelectorAll("[msallowcapture^='']").length&&
Tb.push('[*^$]=[\\x20\\t\\r\\n\\f]*(?:\'\'|"")');wa.querySelectorAll('[selected]').length||Tb.push('\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)');wa.querySelectorAll('[id~='+Ab+'-]').length||Tb.push('~=');wa.querySelectorAll(':checked').length||Tb.push(':checked');wa.querySelectorAll('a#'+Ab+'+*').length||Tb.push('.#.+[+~]')}),n(function(wa){var Ha=tb.createElement('input');Ha.setAttribute('type',
'hidden');wa.appendChild(Ha).setAttribute('name','D');wa.querySelectorAll('[name=d]').length&&Tb.push('name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=');wa.querySelectorAll(':enabled').length||Tb.push(':enabled',':disabled');wa.querySelectorAll('*,:x');Tb.push(',.*:')})),(Pb.matchesSelector=Kc.test(Sb=jc.matches||jc.webkitMatchesSelector||jc.mozMatchesSelector||jc.oMatchesSelector||jc.msMatchesSelector))&&n(function(wa){Pb.disconnectedMatch=Sb.call(wa,'div');Sb.call(wa,"[s!='']:x");ec.push('!=',':((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)')}),
Tb=Tb.length&&new RegExp(Tb.join('|')),ec=ec.length&&new RegExp(ec.join('|')),aa=Kc.test(jc.compareDocumentPosition),oc=aa||Kc.test(jc.contains)?function(wa,Ha){var Ma=9===wa.nodeType?wa.documentElement:wa;Ha=Ha&&Ha.parentNode;return wa===Ha||!(!Ha||1!==Ha.nodeType||!(Ma.contains?Ma.contains(Ha):wa.compareDocumentPosition&&16&wa.compareDocumentPosition(Ha)))}:function(wa,Ha){if(Ha)for(;Ha=Ha.parentNode;)if(Ha===wa)return!0;return!1},uc=aa?function(wa,Ha){if(wa===Ha)return Rb=!0,0;var Ma=!wa.compareDocumentPosition-
!Ha.compareDocumentPosition;return Ma?Ma:(Ma=(wa.ownerDocument||wa)===(Ha.ownerDocument||Ha)?wa.compareDocumentPosition(Ha):1,1&Ma||!Pb.sortDetached&&Ha.compareDocumentPosition(wa)===Ma?wa===tb||wa.ownerDocument===ac&&oc(ac,wa)?-1:Ha===tb||Ha.ownerDocument===ac&&oc(ac,Ha)?1:Ob?Cc(Ob,wa)-Cc(Ob,Ha):0:4&Ma?-1:1)}:function(wa,Ha){if(wa===Ha)return Rb=!0,0;var Ma=0,Ta=wa.parentNode,Za=Ha.parentNode,Wa=[wa],kb=[Ha];if(!Ta||!Za)return wa===tb?-1:Ha===tb?1:Ta?-1:Za?1:Ob?Cc(Ob,wa)-Cc(Ob,Ha):0;if(Ta===Za)return J(wa,
Ha);for(;wa=wa.parentNode;)Wa.unshift(wa);for(wa=Ha;wa=wa.parentNode;)kb.unshift(wa);for(;Wa[Ma]===kb[Ma];)Ma++;return Ma?J(Wa[Ma],kb[Ma]):Wa[Ma]===ac?-1:kb[Ma]===ac?1:0},tb):tb};c.matches=function(M,aa){return c(M,null,null,aa)};c.matchesSelector=function(M,aa){if((M.ownerDocument||M)!==tb&&Bc(M),aa=aa.replace(Dd,"='$1']"),!(!Pb.matchesSelector||!fc||bc[aa+' ']||ec&&ec.test(aa)||Tb&&Tb.test(aa)))try{var oa=Sb.call(M,aa);if(oa||Pb.disconnectedMatch||M.document&&11!==M.document.nodeType)return oa}catch(wa){}return 0<
c(aa,tb,null,[M]).length};c.contains=function(M,aa){return(M.ownerDocument||M)!==tb&&Bc(M),oc(M,aa)};c.attr=function(M,aa){(M.ownerDocument||M)!==tb&&Bc(M);var oa=Fb.attrHandle[aa.toLowerCase()];oa=oa&&vc.call(Fb.attrHandle,aa.toLowerCase())?oa(M,aa,!fc):void 0;return void 0!==oa?oa:Pb.attributes||!fc?M.getAttribute(aa):(oa=M.getAttributeNode(aa))&&oa.specified?oa.value:null};c.error=function(M){throw Error('Syntax error, unrecognized expression: '+M);};c.uniqueSort=function(M){var aa,oa=[],wa=0,
Ha=0;if(Rb=!Pb.detectDuplicates,Ob=!Pb.sortStable&&M.slice(0),M.sort(uc),Rb){for(;aa=M[Ha++];)aa===M[Ha]&&(wa=oa.push(Ha));for(;wa--;)M.splice(oa[wa],1)}return Ob=null,M};var Zc=c.getText=function(M){var aa,oa='',wa=0;if(aa=M.nodeType)if(1===aa||9===aa||11===aa){if('string'==typeof M.textContent)return M.textContent;for(M=M.firstChild;M;M=M.nextSibling)oa+=Zc(M)}else{if(3===aa||4===aa)return M.nodeValue}else for(;aa=M[wa++];)oa+=Zc(aa);return oa};var Fb=c.selectors={cacheLength:50,createPseudo:k,
match:Oc,attrHandle:{},find:{},relative:{'>':{dir:'parentNode',first:!0},' ':{dir:'parentNode'},'+':{dir:'previousSibling',first:!0},'~':{dir:'previousSibling'}},preFilter:{ATTR:function(M){return M[1]=M[1].replace(xc,yc),M[3]=(M[3]||M[4]||M[5]||'').replace(xc,yc),'~='===M[2]&&(M[3]=' '+M[3]+' '),M.slice(0,4)},CHILD:function(M){return M[1]=M[1].toLowerCase(),'nth'===M[1].slice(0,3)?(M[3]||c.error(M[0]),M[4]=+(M[4]?M[5]+(M[6]||1):2*('even'===M[3]||'odd'===M[3])),M[5]=+(M[7]+M[8]||'odd'===M[3])):M[3]&&
c.error(M[0]),M},PSEUDO:function(M){var aa,oa=!M[6]&&M[2];return Oc.CHILD.test(M[0])?null:(M[3]?M[2]=M[4]||M[5]||'':oa&&Ed.test(oa)&&(aa=Mc(oa,!0))&&(aa=oa.indexOf(')',oa.length-aa)-oa.length)&&(M[0]=M[0].slice(0,aa),M[2]=oa.slice(0,aa)),M.slice(0,3))}},filter:{TAG:function(M){var aa=M.replace(xc,yc).toLowerCase();return'*'===M?function(){return!0}:function(oa){return oa.nodeName&&oa.nodeName.toLowerCase()===aa}},CLASS:function(M){var aa=Hc[M+' '];return aa||(aa=new RegExp('(^|[\\x20\\t\\r\\n\\f])'+
M+'([\\x20\\t\\r\\n\\f]|$)'),Hc(M,function(oa){return aa.test('string'==typeof oa.className&&oa.className||'undefined'!=typeof oa.getAttribute&&oa.getAttribute('class')||'')}))},ATTR:function(M,aa,oa){return function(wa){wa=c.attr(wa,M);return null==wa?'!='===aa:aa?(wa+='','='===aa?wa===oa:'!='===aa?wa!==oa:'^='===aa?oa&&0===wa.indexOf(oa):'*='===aa?oa&&-1<wa.indexOf(oa):'$='===aa?oa&&wa.slice(-oa.length)===oa:'~='===aa?-1<(' '+wa.replace(Ad,' ')+' ').indexOf(oa):'|='===aa?wa===oa||wa.slice(0,oa.length+
1)===oa+'-':!1):!0}},CHILD:function(M,aa,oa,wa,Ha){var Ma='nth'!==M.slice(0,3),Ta='last'!==M.slice(-4),Za='of-type'===aa;return 1===wa&&0===Ha?function(Wa){return!!Wa.parentNode}:function(Wa,kb,nb){var fb,Jb;kb=Ma!==Ta?'nextSibling':'previousSibling';var cc=Wa.parentNode,Yb=Za&&Wa.nodeName.toLowerCase();nb=!nb&&!Za;var ub=!1;if(cc){if(Ma){for(;kb;){for(fb=Wa;fb=fb[kb];)if(Za?fb.nodeName.toLowerCase()===Yb:1===fb.nodeType)return!1;var tc=kb='only'===M&&!tc&&'nextSibling'}return!0}if(tc=[Ta?cc.firstChild:
cc.lastChild],Ta&&nb){fb=cc;var ic=fb[Ab]||(fb[Ab]={});var qc=ic[fb.uniqueID]||(ic[fb.uniqueID]={});var dc=qc[M]||[];ub=(Jb=dc[0]===Wb&&dc[1])&&dc[2];for(fb=Jb&&cc.childNodes[Jb];fb=++Jb&&fb&&fb[kb]||(ub=Jb=0)||tc.pop();)if(1===fb.nodeType&&++ub&&fb===Wa){qc[M]=[Wb,Jb,ub];break}}else if(nb&&(fb=Wa,ic=fb[Ab]||(fb[Ab]={}),qc=ic[fb.uniqueID]||(ic[fb.uniqueID]={}),dc=qc[M]||[],Jb=dc[0]===Wb&&dc[1],ub=Jb),!1===ub)for(;(fb=++Jb&&fb&&fb[kb]||(ub=Jb=0)||tc.pop())&&((Za?fb.nodeName.toLowerCase()!==Yb:1!==
fb.nodeType)||!++ub||(nb&&(ic=fb[Ab]||(fb[Ab]={}),qc=ic[fb.uniqueID]||(ic[fb.uniqueID]={}),qc[M]=[Wb,ub]),fb!==Wa)););return ub-=Ha,ub===wa||0===ub%wa&&0<=ub/wa}}},PSEUDO:function(M,aa){var oa,wa=Fb.pseudos[M]||Fb.setFilters[M.toLowerCase()]||c.error('unsupported pseudo: '+M);return wa[Ab]?wa(aa):1<wa.length?(oa=[M,M,'',aa],Fb.setFilters.hasOwnProperty(M.toLowerCase())?k(function(Ha,Ma){for(var Ta,Za=wa(Ha,aa),Wa=Za.length;Wa--;)Ta=Cc(Ha,Za[Wa]),Ha[Ta]=!(Ma[Ta]=Za[Wa])}):function(Ha){return wa(Ha,
0,oa)}):wa}},pseudos:{not:k(function(M){var aa=[],oa=[],wa=vb(M.replace(Nc,'$1'));return wa[Ab]?k(function(Ha,Ma,Ta,Za){var Wa;Ta=wa(Ha,null,Za,[]);for(Za=Ha.length;Za--;)(Wa=Ta[Za])&&(Ha[Za]=!(Ma[Za]=Wa))}):function(Ha,Ma,Ta){return aa[0]=Ha,wa(aa,null,Ta,oa),aa[0]=null,!oa.pop()}}),has:k(function(M){return function(aa){return 0<c(M,aa).length}}),contains:k(function(M){return M=M.replace(xc,yc),function(aa){return-1<(aa.textContent||aa.innerText||Zc(aa)).indexOf(M)}}),lang:k(function(M){return kd.test(M||
'')||c.error('unsupported lang: '+M),M=M.replace(xc,yc).toLowerCase(),function(aa){var oa;do if(oa=fc?aa.lang:aa.getAttribute('xml:lang')||aa.getAttribute('lang'))return oa=oa.toLowerCase(),oa===M||0===oa.indexOf(M+'-');while((aa=aa.parentNode)&&1===aa.nodeType);return!1}}),target:function(M){var aa=a.location&&a.location.hash;return aa&&aa.slice(1)===M.id},root:function(M){return M===jc},focus:function(M){return M===tb.activeElement&&(!tb.hasFocus||tb.hasFocus())&&!!(M.type||M.href||~M.tabIndex)},
enabled:function(M){return!1===M.disabled},disabled:function(M){return!0===M.disabled},checked:function(M){var aa=M.nodeName.toLowerCase();return'input'===aa&&!!M.checked||'option'===aa&&!!M.selected},selected:function(M){return M.parentNode&&M.parentNode.selectedIndex,!0===M.selected},empty:function(M){for(M=M.firstChild;M;M=M.nextSibling)if(6>M.nodeType)return!1;return!0},parent:function(M){return!Fb.pseudos.empty(M)},header:function(M){return Gd.test(M.nodeName)},input:function(M){return Fd.test(M.nodeName)},
button:function(M){var aa=M.nodeName.toLowerCase();return'input'===aa&&'button'===M.type||'button'===aa},text:function(M){var aa;return'input'===M.nodeName.toLowerCase()&&'text'===M.type&&(null==(aa=M.getAttribute('type'))||'text'===aa.toLowerCase())},first:Ca(function(){return[0]}),last:Ca(function(M,aa){return[aa-1]}),eq:Ca(function(M,aa,oa){return[0>oa?oa+aa:oa]}),even:Ca(function(M,aa){for(var oa=0;aa>oa;oa+=2)M.push(oa);return M}),odd:Ca(function(M,aa){for(var oa=1;aa>oa;oa+=2)M.push(oa);return M}),
lt:Ca(function(M,aa,oa){for(aa=0>oa?oa+aa:oa;0<=--aa;)M.push(aa);return M}),gt:Ca(function(M,aa,oa){for(oa=0>oa?oa+aa:oa;++oa<aa;)M.push(oa);return M})}};Fb.pseudos.nth=Fb.pseudos.eq;for(wc in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Fb.pseudos[wc]=Y(wc);for(wc in{submit:!0,reset:!0})Fb.pseudos[wc]=pa(wc);Sa.prototype=Fb.filters=Fb.pseudos;Fb.setFilters=new Sa;var Mc=c.tokenize=function(M,aa){var oa,wa,Ha,Ma,Ta;if(Ma=pc[M+' '])return aa?0:Ma.slice(0);Ma=M;var Za=[];for(Ta=Fb.preFilter;Ma;){Wa&&
!(oa=Bd.exec(Ma))||(oa&&(Ma=Ma.slice(oa[0].length)||Ma),Za.push(wa=[]));var Wa=!1;(oa=Cd.exec(Ma))&&(Wa=oa.shift(),wa.push({value:Wa,type:oa[0].replace(Nc,' ')}),Ma=Ma.slice(Wa.length));for(Ha in Fb.filter)!(oa=Oc[Ha].exec(Ma))||Ta[Ha]&&!(oa=Ta[Ha](oa))||(Wa=oa.shift(),wa.push({value:Wa,type:Ha,matches:oa}),Ma=Ma.slice(Wa.length));if(!Wa)break}return aa?Ma.length:Ma?c.error(M):pc(M,Za).slice(0)};return vb=c.compile=function(M,aa){var oa,wa=[],Ha=[],Ma=bc[M+' '];if(!Ma){aa||=Mc(M);for(oa=aa.length;oa--;)Ma=
Gc(aa[oa]),Ma[Ab]?wa.push(Ma):Ha.push(Ma);Ma=bc(M,lc(Ha,wa));Ma.selector=M}return Ma},hc=c.select=function(M,aa,oa,wa){var Ha,Ma,Ta,Za,Wa,kb='function'==typeof M&&M,nb=!wa&&Mc(M=kb.selector||M);if(oa=oa||[],1===nb.length){if(Ma=nb[0]=nb[0].slice(0),2<Ma.length&&'ID'===(Ta=Ma[0]).type&&Pb.getById&&9===aa.nodeType&&fc&&Fb.relative[Ma[1].type]){if(aa=(Fb.find.ID(Ta.matches[0].replace(xc,yc),aa)||[])[0],!aa)return oa;kb&&(aa=aa.parentNode);M=M.slice(Ma.shift().value.length)}for(Ha=Oc.needsContext.test(M)?
0:Ma.length;Ha--&&(Ta=Ma[Ha],!Fb.relative[Za=Ta.type]);)if((Wa=Fb.find[Za])&&(wa=Wa(Ta.matches[0].replace(xc,yc),Wc.test(Ma[0].type)&&sa(aa.parentNode)||aa))){if(Ma.splice(Ha,1),M=wa.length&&Va(Ma),!M)return Ac.apply(oa,wa),oa;break}}return(kb||vb(M,nb))(wa,aa,!fc,oa,!aa||Wc.test(M)&&sa(aa.parentNode)||aa),oa},Pb.sortStable=Ab.split('').sort(uc).join('')===Ab,Pb.detectDuplicates=!!Rb,Bc(),Pb.sortDetached=n(function(M){return 1&M.compareDocumentPosition(tb.createElement('div'))}),n(function(M){return M.innerHTML=
"<a href='#'></a>",'#'===M.firstChild.getAttribute('href')})||C('type|href|height|width',function(M,aa,oa){return oa?void 0:M.getAttribute(aa,'type'===aa.toLowerCase()?1:2)}),Pb.attributes&&n(function(M){return M.innerHTML='<input/>',M.firstChild.setAttribute('value',''),''===M.firstChild.getAttribute('value')})||C('value',function(M,aa,oa){return oa||'input'!==M.nodeName.toLowerCase()?void 0:M.defaultValue}),n(function(M){return null==M.getAttribute('disabled')})||C('checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',
function(M,aa,oa){var wa;return oa?void 0:!0===M[aa]?aa.toLowerCase():(wa=M.getAttributeNode(aa))&&wa.specified?wa.value:null}),c}(B);b.find=L;b.expr=L.selectors;b.expr[':']=b.expr.pseudos;b.uniqueSort=b.unique=L.uniqueSort;b.text=L.getText;b.isXMLDoc=L.isXML;b.contains=L.contains;var fa=function(a,c,e){for(var k=[],n=void 0!==e;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(n&&b(a).is(e))break;k.push(a)}return k},Ba=function(a,c){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==c&&e.push(a);return e},
ea=b.expr.match.needsContext,da=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;b.filter=function(a,c,e){var k=c[0];return e&&(a=':not('+a+')'),1===c.length&&1===k.nodeType?b.find.matchesSelector(k,a)?[k]:[]:b.find.matches(a,b.grep(c,function(n){return 1===n.nodeType}))};b.fn.extend({find:function(a){var c,e=[],k=this,n=k.length;if('string'!=typeof a)return this.pushStack(b(a).filter(function(){for(c=0;n>c;c++)if(b.contains(k[c],this))return!0}));for(c=0;n>c;c++)b.find(a,k[c],e);return e=this.pushStack(1<
n?b.unique(e):e),e.selector=this.selector?this.selector+' '+a:a,e},filter:function(a){return this.pushStack(ma(this,a||[],!1))},not:function(a){return this.pushStack(ma(this,a||[],!0))},is:function(a){return!!ma(this,'string'==typeof a&&ea.test(a)?b(a):a||[],!1).length}});var na=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(b.fn.init=function(a,c,e){var k,n;if(!a)return this;if(e=e||ra,'string'==typeof a){if(k='<'===a.charAt(0)&&'>'===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:na.exec(a),!k||!k[1]&&
c)return!c||c.jquery?(c||e).find(a):this.constructor(c).find(a);if(k[1]){if(c=c instanceof b?c[0]:c,b.merge(this,b.parseHTML(k[1],c&&c.nodeType?c.ownerDocument||c:Ka,!0)),da.test(k[1])&&b.isPlainObject(c))for(k in c)b.isFunction(this[k])?this[k](c[k]):this.attr(k,c[k]);return this}if(n=Ka.getElementById(k[2]),n&&n.parentNode){if(n.id!==k[2])return ra.find(a);this.length=1;this[0]=n}return this.context=Ka,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):b.isFunction(a)?
'undefined'!=typeof e.ready?e.ready(a):a(b):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),b.makeArray(a,this))}).prototype=b.fn;var ra=b(Ka);var ia=/^(?:parents|prev(?:Until|All))/,Z={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({has:function(a){var c,e=b(a,this),k=e.length;return this.filter(function(){for(c=0;k>c;c++)if(b.contains(this,e[c]))return!0})},closest:function(a,c){for(var e,k=0,n=this.length,C=[],J=ea.test(a)||'string'!=typeof a?b(a,c||this.context):
0;n>k;k++)for(e=this[k];e&&e!==c;e=e.parentNode)if(11>e.nodeType&&(J?-1<J.index(e):1===e.nodeType&&b.find.matchesSelector(e,a))){C.push(e);break}return this.pushStack(1<C.length?b.uniqueSort(C):C)},index:function(a){return a?'string'==typeof a?b.inArray(this[0],b(a)):b.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,c){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(a,c))))},addBack:function(a){return this.add(null==a?this.prevObject:
this.prevObject.filter(a))}});b.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return fa(a,'parentNode')},parentsUntil:function(a,c,e){return fa(a,'parentNode',e)},next:function(a){return U(a,'nextSibling')},prev:function(a){return U(a,'previousSibling')},nextAll:function(a){return fa(a,'nextSibling')},prevAll:function(a){return fa(a,'previousSibling')},nextUntil:function(a,c,e){return fa(a,'nextSibling',e)},prevUntil:function(a,c,e){return fa(a,'previousSibling',
e)},siblings:function(a){return Ba((a.parentNode||{}).firstChild,a)},children:function(a){return Ba(a.firstChild)},contents:function(a){return b.nodeName(a,'iframe')?a.contentDocument||a.contentWindow.document:b.merge([],a.childNodes)}},function(a,c){b.fn[a]=function(e,k){var n=b.map(this,c,e);return'Until'!==a.slice(-5)&&(k=e),k&&'string'==typeof k&&(n=b.filter(k,n)),1<this.length&&(Z[a]||(n=b.uniqueSort(n)),ia.test(a)&&(n=n.reverse())),this.pushStack(n)}});var Ga=/\S+/g;b.Callbacks=function(a){a=
'string'==typeof a?N(a):b.extend({},a);var c,e,k,n,C=[],J=[],Y=-1,pa=function(){n=a.once;for(k=c=!0;J.length;Y=-1)for(e=J.shift();++Y<C.length;)!1===C[Y].apply(e[0],e[1])&&a.stopOnFalse&&(Y=C.length,e=!1);a.memory||(e=!1);c=!1;n&&(C=e?[]:'')},Ca={add:function(){return C&&(e&&!c&&(Y=C.length-1,J.push(e)),function Va(Sa){b.each(Sa,function(yb,bb){b.isFunction(bb)?a.unique&&Ca.has(bb)||C.push(bb):bb&&bb.length&&'string'!==b.type(bb)&&Va(bb)})}(arguments),e&&!c&&pa()),this},remove:function(){return b.each(arguments,
function(sa,Sa){for(var Va;-1<(Va=b.inArray(Sa,C,Va));)C.splice(Va,1),Y>=Va&&Y--}),this},has:function(sa){return sa?-1<b.inArray(sa,C):0<C.length},empty:function(){return C&&=[],this},disable:function(){return n=J=[],C=e='',this},disabled:function(){return!C},lock:function(){return n=!0,e||Ca.disable(),this},locked:function(){return!!n},fireWith:function(sa,Sa){return n||(Sa=Sa||[],Sa=[sa,Sa.slice?Sa.slice():Sa],J.push(Sa),c||pa()),this},fire:function(){return Ca.fireWith(this,arguments),this},fired:function(){return!!k}};
return Ca};b.extend({Deferred:function(a){var c=[['resolve','done',b.Callbacks('once memory'),'resolved'],['reject','fail',b.Callbacks('once memory'),'rejected'],['notify','progress',b.Callbacks('memory')]],e='pending',k={state:function(){return e},always:function(){return n.done(arguments).fail(arguments),this},then:function(){var C=arguments;return b.Deferred(function(J){b.each(c,function(Y,pa){var Ca=b.isFunction(C[Y])&&C[Y];n[pa[1]](function(){var sa=Ca&&Ca.apply(this,arguments);sa&&b.isFunction(sa.promise)?
sa.promise().progress(J.notify).done(J.resolve).fail(J.reject):J[pa[0]+'With'](this===k?J.promise():this,Ca?[sa]:arguments)})});C=null}).promise()},promise:function(C){return null!=C?b.extend(C,k):k}},n={};return k.pipe=k.then,b.each(c,function(C,J){var Y=J[2],pa=J[3];k[J[1]]=Y.add;pa&&Y.add(function(){e=pa},c[1^C][2].disable,c[2][2].lock);n[J[0]]=function(){return n[J[0]+'With'](this===n?k:this,arguments),this};n[J[0]+'With']=Y.fireWith}),k.promise(n),a&&a.call(n,n),n},when:function(a){var c=0,e=
db.call(arguments),k=e.length,n=1!==k||a&&b.isFunction(a.promise)?k:0,C=1===n?a:b.Deferred(),J=function(sa,Sa,Va){return function(yb){Sa[sa]=this;Va[sa]=1<arguments.length?db.call(arguments):yb;Va===pa?C.notifyWith(Sa,Va):--n||C.resolveWith(Sa,Va)}},Y;if(1<k){var pa=Array(k);var Ca=Array(k);for(Y=Array(k);k>c;c++)e[c]&&b.isFunction(e[c].promise)?e[c].promise().progress(J(c,Ca,pa)).done(J(c,Y,e)).fail(C.reject):--n}return n||C.resolveWith(Y,e),C.promise()}});var Pa;b.fn.ready=function(a){return b.ready.promise().done(a),
this};b.extend({isReady:!1,readyWait:1,holdReady:function(a){a?b.readyWait++:b.ready(!0)},ready:function(a){(!0===a?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==a&&0<--b.readyWait||(Pa.resolveWith(Ka,[b]),b.fn.triggerHandler&&(b(Ka).triggerHandler('ready'),b(Ka).off('ready'))))}});b.ready.promise=function(a){if(!Pa)if(Pa=b.Deferred(),'complete'===Ka.readyState||'loading'!==Ka.readyState&&!Ka.documentElement.doScroll)B.setTimeout(b.ready);else if(Ka.addEventListener)Ka.addEventListener('DOMContentLoaded',
Q),B.addEventListener('load',Q);else{Ka.attachEvent('onreadystatechange',Q);B.attachEvent('onload',Q);var c=!1;try{c=null==B.frameElement&&Ka.documentElement}catch(e){}c&&c.doScroll&&!function k(){if(!b.isReady){try{c.doScroll('left')}catch(n){return B.setTimeout(k,50)}ba();b.ready()}}()}return Pa.promise(a)};b.ready.promise();for(var $a in b(h))break;h.ownFirst='0'===$a;h.inlineBlockNeedsLayout=!1;b(function(){var a,c,e,k;(e=Ka.getElementsByTagName('body')[0])&&e.style&&(c=Ka.createElement('div'),
k=Ka.createElement('div'),k.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',e.appendChild(k).appendChild(c),'undefined'!=typeof c.style.zoom&&(c.style.cssText='display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1',h.inlineBlockNeedsLayout=a=3===c.offsetWidth,a&&(e.style.zoom=1)),e.removeChild(k))});(function(){var a=Ka.createElement('div');h.deleteExpando=!0;try{delete a.test}catch(c){h.deleteExpando=!1}})();var ib=function(a){var c=b.noData[(a.nodeName+' ').toLowerCase()],
e=+a.nodeType||1;return 1!==e&&9!==e?!1:!c||!0!==c&&a.getAttribute('classid')===c},Cb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,zb=/([A-Z])/g;b.extend({cache:{},noData:{'applet ':!0,'embed ':!0,'object ':'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'},hasData:function(a){return a=a.nodeType?b.cache[a[b.expando]]:a[b.expando],!!a&&!r(a)},data:function(a,c,e){return G(a,c,e)},removeData:function(a,c){return w(a,c)},_data:function(a,c,e){return G(a,c,e,!0)},_removeData:function(a,c){return w(a,c,!0)}});b.fn.extend({data:function(a,
c){var e,k,n,C=this[0],J=C&&C.attributes;if(void 0===a){if(this.length&&(n=b.data(C),1===C.nodeType&&!b._data(C,'parsedAttrs'))){for(e=J.length;e--;)J[e]&&(k=J[e].name,0===k.indexOf('data-')&&(k=b.camelCase(k.slice(5)),S(C,k,n[k])));b._data(C,'parsedAttrs',!0)}return n}return'object'==typeof a?this.each(function(){b.data(this,a)}):1<arguments.length?this.each(function(){b.data(this,a,c)}):C?S(C,a,b.data(C,a)):void 0},removeData:function(a){return this.each(function(){b.removeData(this,a)})}});b.extend({queue:function(a,
c,e){var k;return a?(c=(c||'fx')+'queue',k=b._data(a,c),e&&(!k||b.isArray(e)?k=b._data(a,c,b.makeArray(e)):k.push(e)),k||[]):void 0},dequeue:function(a,c){c=c||'fx';var e=b.queue(a,c),k=e.length,n=e.shift(),C=b._queueHooks(a,c),J=function(){b.dequeue(a,c)};'inprogress'===n&&(n=e.shift(),k--);n&&('fx'===c&&e.unshift('inprogress'),delete C.stop,n.call(a,J,C));!k&&C&&C.empty.fire()},_queueHooks:function(a,c){var e=c+'queueHooks';return b._data(a,e)||b._data(a,e,{empty:b.Callbacks('once memory').add(function(){b._removeData(a,
c+'queue');b._removeData(a,e)})})}});b.fn.extend({queue:function(a,c){var e=2;return'string'!=typeof a&&(c=a,a='fx',e--),arguments.length<e?b.queue(this[0],a):void 0===c?this:this.each(function(){var k=b.queue(this,a,c);b._queueHooks(this,a);'fx'===a&&'inprogress'!==k[0]&&b.dequeue(this,a)})},dequeue:function(a){return this.each(function(){b.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||'fx',[])},promise:function(a,c){var e,k=1,n=b.Deferred(),C=this,J=this.length,Y=function(){--k||
n.resolveWith(C,[C])};'string'!=typeof a&&(c=a,a=void 0);for(a=a||'fx';J--;)(e=b._data(C[J],a+'queueHooks'))&&e.empty&&(k++,e.empty.add(Y));return Y(),n.promise(c)}});(function(){var a;h.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var c,e,k;return e=Ka.getElementsByTagName('body')[0],e&&e.style?(c=Ka.createElement('div'),k=Ka.createElement('div'),k.style.cssText='position:absolute;border:0;width:0;height:0;top:0;left:-9999px',e.appendChild(k).appendChild(c),'undefined'!=typeof c.style.zoom&&
(c.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1',c.appendChild(Ka.createElement('div')).style.width='5px',a=3!==c.offsetWidth),e.removeChild(k),a):void 0}})();var qb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mb=new RegExp('^(?:([+-])=|)('+qb+')([a-z%]*)$','i'),Ya=['Top','Right','Bottom','Left'],cb=function(a,c){return a=c||a,'none'===b.css(a,'display')||!b.contains(a.ownerDocument,a)},
ca=function(a,c,e,k,n,C,J){var Y=0,pa=a.length,Ca=null==e;if('object'===b.type(e))for(Y in n=!0,e)ca(a,c,Y,e[Y],!0,C,J);else if(void 0!==k&&(n=!0,b.isFunction(k)||(J=!0),Ca&&(J?(c.call(a,k),c=null):(Ca=c,c=function(sa,Sa,Va){return Ca.call(b(sa),Va)})),c))for(;pa>Y;Y++)c(a[Y],e,J?k:k.call(a[Y],Y,c(a[Y],e)));return n?a:Ca?c.call(a):pa?c(a[0],e):C},X=/^(?:checkbox|radio)$/i,ja=/<([\w:-]+)/,ua=/^$|\/(?:java|ecma)script/i,Ra=/^\s+/;!function(){var a=Ka.createElement('div'),c=Ka.createDocumentFragment(),
e=Ka.createElement('input');a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";h.leadingWhitespace=3===a.firstChild.nodeType;h.tbody=!a.getElementsByTagName('tbody').length;h.htmlSerialize=!!a.getElementsByTagName('link').length;h.html5Clone='<:nav></:nav>'!==Ka.createElement('nav').cloneNode(!0).outerHTML;e.type='checkbox';e.checked=!0;c.appendChild(e);h.appendChecked=e.checked;a.innerHTML='<textarea>x</textarea>';h.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue;
c.appendChild(a);e=Ka.createElement('input');e.setAttribute('type','radio');e.setAttribute('checked','checked');e.setAttribute('name','t');a.appendChild(e);h.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;h.noCloneEvent=!!a.addEventListener;a[b.expando]=1;h.attributes=!a.getAttribute(b.expando)}();var Xa={option:[1,"<select multiple='multiple'>",'</select>'],legend:[1,'<fieldset>','</fieldset>'],area:[1,'<map>','</map>'],param:[1,'<object>','</object>'],thead:[1,'<table>','</table>'],
tr:[2,'<table><tbody>','</tbody></table>'],col:[2,'<table><tbody></tbody><colgroup>','</colgroup></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:h.htmlSerialize?[0,'','']:[1,'X<div>','</div>']};Xa.optgroup=Xa.option;Xa.tbody=Xa.tfoot=Xa.colgroup=Xa.caption=Xa.thead;Xa.th=Xa.td;var eb=/<|&#?\w+;/,Oa=/<tbody/i;!function(){var a,c=Ka.createElement('div');for(a in{submit:!0,change:!0,focusin:!0}){var e='on'+a;(h[a]=e in B)||(c.setAttribute(e,'t'),h[a]=!1===c.attributes[e].expando)}}();
var wb=/^(?:input|select|textarea)$/i,lb=/^key/,hb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ob=/^(?:focusinfocus|focusoutblur)$/,sb=/^([^.]*)(?:\.(.+)|)/;b.event={global:{},add:function(a,c,e,k,n){var C,J,Y,pa,Ca,sa,Sa,Va;if(J=b._data(a)){e.handler&&(Y=e,e=Y.handler,n=Y.selector);e.guid||(e.guid=b.guid++);(C=J.events)||(C=J.events={});(Ca=J.handle)||(Ca=J.handle=function(Hb){return'undefined'==typeof b||Hb&&b.event.triggered===Hb.type?void 0:b.event.dispatch.apply(Ca.elem,arguments)},Ca.elem=
a);c=(c||'').match(Ga)||[''];for(J=c.length;J--;){var yb=sb.exec(c[J])||[];var bb=Va=yb[1];yb=(yb[2]||'').split('.').sort();bb&&(pa=b.event.special[bb]||{},bb=(n?pa.delegateType:pa.bindType)||bb,pa=b.event.special[bb]||{},sa=b.extend({type:bb,origType:Va,data:k,handler:e,guid:e.guid,selector:n,needsContext:n&&b.expr.match.needsContext.test(n),namespace:yb.join('.')},Y),(Sa=C[bb])||(Sa=C[bb]=[],Sa.delegateCount=0,pa.setup&&!1!==pa.setup.call(a,k,yb,Ca)||(a.addEventListener?a.addEventListener(bb,Ca,
!1):a.attachEvent&&a.attachEvent('on'+bb,Ca))),pa.add&&(pa.add.call(a,sa),sa.handler.guid||(sa.handler.guid=e.guid)),n?Sa.splice(Sa.delegateCount++,0,sa):Sa.push(sa),b.event.global[bb]=!0)}a=null}},remove:function(a,c,e,k,n){var C,J,Y,pa,Ca,sa,Sa,Va,yb=b.hasData(a)&&b._data(a);if(yb&&(Ca=yb.events)){c=(c||'').match(Ga)||[''];for(pa=c.length;pa--;)if(J=sb.exec(c[pa])||[],sa=Va=J[1],Sa=(J[2]||'').split('.').sort(),sa){var bb=b.event.special[sa]||{};sa=(k?bb.delegateType:bb.bindType)||sa;var Hb=Ca[sa]||
[];J=J[2]&&new RegExp('(^|\\.)'+Sa.join('\\.(?:.*\\.|)')+'(\\.|$)');for(Y=C=Hb.length;C--;){var kc=Hb[C];!n&&Va!==kc.origType||e&&e.guid!==kc.guid||J&&!J.test(kc.namespace)||k&&k!==kc.selector&&('**'!==k||!kc.selector)||(Hb.splice(C,1),kc.selector&&Hb.delegateCount--,bb.remove&&bb.remove.call(a,kc))}Y&&!Hb.length&&(bb.teardown&&!1!==bb.teardown.call(a,Sa,yb.handle)||b.removeEvent(a,sa,yb.handle),delete Ca[sa])}else for(sa in Ca)b.event.remove(a,sa+c[pa],e,k,!0);b.isEmptyObject(Ca)&&(delete yb.handle,
b._removeData(a,'events'))}},trigger:function(a,c,e,k){var n,C,J,Y,pa=[e||Ka],Ca=g.call(a,'type')?a.type:a;var sa=g.call(a,'namespace')?a.namespace.split('.'):[];if(J=n=e=e||Ka,3!==e.nodeType&&8!==e.nodeType&&!ob.test(Ca+b.event.triggered)&&(-1<Ca.indexOf('.')&&(sa=Ca.split('.'),Ca=sa.shift(),sa.sort()),C=0>Ca.indexOf(':')&&'on'+Ca,a=a[b.expando]?a:new b.Event(Ca,'object'==typeof a&&a),a.isTrigger=k?2:3,a.namespace=sa.join('.'),a.rnamespace=a.namespace?new RegExp('(^|\\.)'+sa.join('\\.(?:.*\\.|)')+
'(\\.|$)'):null,a.result=void 0,a.target||(a.target=e),c=null==c?[a]:b.makeArray(c,[a]),Y=b.event.special[Ca]||{},k||!Y.trigger||!1!==Y.trigger.apply(e,c))){if(!k&&!Y.noBubble&&!b.isWindow(e)){var Sa=Y.delegateType||Ca;for(ob.test(Sa+Ca)||(J=J.parentNode);J;J=J.parentNode)pa.push(J),n=J;n===(e.ownerDocument||Ka)&&pa.push(n.defaultView||n.parentWindow||B)}for(sa=0;(J=pa[sa++])&&!a.isPropagationStopped();)a.type=1<sa?Sa:Y.bindType||Ca,(n=(b._data(J,'events')||{})[a.type]&&b._data(J,'handle'))&&n.apply(J,
c),(n=C&&J[C])&&n.apply&&ib(J)&&(a.result=n.apply(J,c),!1===a.result&&a.preventDefault());if(a.type=Ca,!(k||a.isDefaultPrevented()||Y._default&&!1!==Y._default.apply(pa.pop(),c))&&ib(e)&&C&&e[Ca]&&!b.isWindow(e)){(n=e[C])&&(e[C]=null);b.event.triggered=Ca;try{e[Ca]()}catch(Va){}b.event.triggered=void 0;n&&(e[C]=n)}return a.result}},dispatch:function(a){a=b.event.fix(a);var c,e,k,n,C=db.call(arguments);var J=(b._data(this,'events')||{})[a.type]||[];var Y=b.event.special[a.type]||{};if(C[0]=a,a.delegateTarget=
this,!Y.preDispatch||!1!==Y.preDispatch.call(this,a)){var pa=b.event.handlers.call(this,a,J);for(J=0;(k=pa[J++])&&!a.isPropagationStopped();)for(a.currentTarget=k.elem,c=0;(n=k.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(n.namespace)||(a.handleObj=n,a.data=n.data,e=((b.event.special[n.origType]||{}).handle||n.handler).apply(k.elem,C),void 0!==e&&!1===(a.result=e)&&(a.preventDefault(),a.stopPropagation()));return Y.postDispatch&&Y.postDispatch.call(this,a),
a.result}},handlers:function(a,c){var e,k=[],n=c.delegateCount,C=a.target;if(n&&C.nodeType&&('click'!==a.type||isNaN(a.button)||1>a.button))for(;C!=this;C=C.parentNode||this)if(1===C.nodeType&&(!0!==C.disabled||'click'!==a.type)){var J=[];for(e=0;n>e;e++){var Y=c[e];var pa=Y.selector+' ';void 0===J[pa]&&(J[pa]=Y.needsContext?-1<b(pa,this).index(C):b.find(pa,this,null,[C]).length);J[pa]&&J.push(Y)}J.length&&k.push({elem:C,handlers:J})}return n<c.length&&k.push({elem:this,handlers:c.slice(n)}),k},fix:function(a){if(a[b.expando])return a;
var c=a.type;var e=a,k=this.fixHooks[c];k||(this.fixHooks[c]=k=hb.test(c)?this.mouseHooks:lb.test(c)?this.keyHooks:{});var n=k.props?this.props.concat(k.props):this.props;a=new b.Event(e);for(c=n.length;c--;){var C=n[c];a[C]=e[C]}return a.target||(a.target=e.srcElement||Ka),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,k.filter?k.filter(a,e):a},props:'altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(' '),
fixHooks:{},keyHooks:{props:['char','charCode','key','keyCode'],filter:function(a,c){return null==a.which&&(a.which=null!=c.charCode?c.charCode:c.keyCode),a}},mouseHooks:{props:'button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement'.split(' '),filter:function(a,c){var e,k,n,C=c.button,J=c.fromElement;return null==a.pageX&&null!=c.clientX&&(k=a.target.ownerDocument||Ka,n=k.documentElement,e=k.body,a.pageX=c.clientX+(n&&n.scrollLeft||e&&e.scrollLeft||0)-(n&&
n.clientLeft||e&&e.clientLeft||0),a.pageY=c.clientY+(n&&n.scrollTop||e&&e.scrollTop||0)-(n&&n.clientTop||e&&e.clientTop||0)),!a.relatedTarget&&J&&(a.relatedTarget=J===a.target?c.toElement:J),a.which||void 0===C||(a.which=1&C?1:2&C?3:4&C?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==z()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:'focusin'},blur:{trigger:function(){return this===z()&&this.blur?(this.blur(),!1):void 0},delegateType:'focusout'},click:{trigger:function(){return b.nodeName(this,
'input')&&'checkbox'===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return b.nodeName(a.target,'a')}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,c,e){a=b.extend(new b.Event,e,{type:a,isSimulated:!0});b.event.trigger(a,null,c);a.isDefaultPrevented()&&e.preventDefault()}};b.removeEvent=Ka.removeEventListener?function(a,c,e){a.removeEventListener&&a.removeEventListener(c,e)}:function(a,
c,e){c='on'+c;a.detachEvent&&('undefined'==typeof a[c]&&(a[c]=null),a.detachEvent(c,e))};b.Event=function(a,c){return this instanceof b.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?l:y):this.type=a,c&&b.extend(this,c),this.timeStamp=a&&a.timeStamp||b.now(),void(this[b.expando]=!0)):new b.Event(a,c)};b.Event.prototype={constructor:b.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=l;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=l;a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=l;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};b.each({mouseenter:'mouseover',
mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},function(a,c){b.event.special[a]={delegateType:c,bindType:c,handle:function(e){var k,n=e.relatedTarget,C=e.handleObj;return n&&(n===this||b.contains(this,n))||(e.type=C.origType,k=C.handler.apply(this,arguments),e.type=c),k}}});h.submit||(b.event.special.submit={setup:function(){return b.nodeName(this,'form')?!1:void b.event.add(this,'click._submit keypress._submit',function(a){a=a.target;(a=b.nodeName(a,'input')||b.nodeName(a,
'button')?b.prop(a,'form'):void 0)&&!b._data(a,'submit')&&(b.event.add(a,'submit._submit',function(c){c._submitBubble=!0}),b._data(a,'submit',!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&b.event.simulate('submit',this.parentNode,a))},teardown:function(){return b.nodeName(this,'form')?!1:void b.event.remove(this,'._submit')}});h.change||(b.event.special.change={setup:function(){return wb.test(this.nodeName)?('checkbox'!==this.type&&'radio'!==
this.type||(b.event.add(this,'propertychange._change',function(a){'checked'===a.originalEvent.propertyName&&(this._justChanged=!0)}),b.event.add(this,'click._change',function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1);b.event.simulate('change',this,a)})),!1):void b.event.add(this,'beforeactivate._change',function(a){a=a.target;wb.test(a.nodeName)&&!b._data(a,'change')&&(b.event.add(a,'change._change',function(c){!this.parentNode||c.isSimulated||c.isTrigger||b.event.simulate('change',
this.parentNode,c)}),b._data(a,'change',!0))})},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||'radio'!==c.type&&'checkbox'!==c.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return b.event.remove(this,'._change'),!wb.test(this.nodeName)}});h.focusin||b.each({focus:'focusin',blur:'focusout'},function(a,c){var e=function(k){b.event.simulate(c,k.target,b.event.fix(k))};b.event.special[c]={setup:function(){var k=this.ownerDocument||this,n=b._data(k,
c);n||k.addEventListener(a,e,!0);b._data(k,c,(n||0)+1)},teardown:function(){var k=this.ownerDocument||this,n=b._data(k,c)-1;n?b._data(k,c,n):(k.removeEventListener(a,e,!0),b._removeData(k,c))}}});b.fn.extend({on:function(a,c,e,k){return F(this,a,c,e,k)},one:function(a,c,e,k){return F(this,a,c,e,k,1)},off:function(a,c,e){var k,n;if(a&&a.preventDefault&&a.handleObj)return k=a.handleObj,b(a.delegateTarget).off(k.namespace?k.origType+'.'+k.namespace:k.origType,k.selector,k.handler),this;if('object'==
typeof a){for(n in a)this.off(n,c,a[n]);return this}return!1!==c&&'function'!=typeof c||(e=c,c=void 0),!1===e&&(e=y),this.each(function(){b.event.remove(this,a,e,c)})},trigger:function(a,c){return this.each(function(){b.event.trigger(a,c,this)})},triggerHandler:function(a,c){var e=this[0];return e?b.event.trigger(a,c,e,!0):void 0}});var mb=/ jQuery\d+="(?:null|\d+)"/g,Kb=RegExp('<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video)[\\s/>]',
'i'),Eb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Gb=/<script|<style|<link/i,Ib=/checked\s*(?:[^=]|=\s*.checked.)/i,$b=/^true\/(.*)/,Xb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Dc=Aa(Ka).appendChild(Ka.createElement('div'));b.extend({htmlPrefilter:function(a){return a.replace(Eb,'<$1></$2>')},clone:function(a,c,e){var k,n,C,J=b.contains(a.ownerDocument,a);if(h.html5Clone||b.isXMLDoc(a)||!Kb.test('<'+a.nodeName+'>')?n=a.cloneNode(!0):(Dc.innerHTML=a.outerHTML,Dc.removeChild(n=
Dc.firstChild)),!(h.noCloneEvent&&h.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||b.isXMLDoc(a))){var Y=I(n);var pa=I(a);for(C=0;null!=(k=pa[C]);++C)if(Y[C]){var Ca=void 0,sa,Sa=k,Va=Y[C];if(1===Va.nodeType){if(sa=Va.nodeName.toLowerCase(),!h.noCloneEvent&&Va[b.expando]){k=b._data(Va);for(Ca in k.events)b.removeEvent(Va,Ca,k.handle);Va.removeAttribute(b.expando)}'script'===sa&&Va.text!==Sa.text?(v(Va).text=Sa.text,H(Va)):'object'===sa?(Va.parentNode&&(Va.outerHTML=Sa.outerHTML),h.html5Clone&&Sa.innerHTML&&
!b.trim(Va.innerHTML)&&(Va.innerHTML=Sa.innerHTML)):'input'===sa&&X.test(Sa.type)?(Va.defaultChecked=Va.checked=Sa.checked,Va.value!==Sa.value&&(Va.value=Sa.value)):'option'===sa?Va.defaultSelected=Va.selected=Sa.defaultSelected:'input'!==sa&&'textarea'!==sa||(Va.defaultValue=Sa.defaultValue)}}}if(c)if(e)for(pa=pa||I(a),Y=Y||I(n),C=0;null!=(k=pa[C]);C++)K(k,Y[C]);else K(a,n);return Y=I(n,'script'),0<Y.length&&O(Y,!J&&I(a,'script')),n},cleanData:function(a,c){for(var e,k,n,C,J=0,Y=b.expando,pa=b.cache,
Ca=h.attributes,sa=b.event.special;null!=(e=a[J]);J++)if((c||ib(e))&&(n=e[Y],C=n&&pa[n])){if(C.events)for(k in C.events)sa[k]?b.event.remove(e,k):b.removeEvent(e,k,C.handle);pa[n]&&(delete pa[n],Ca||'undefined'==typeof e.removeAttribute?e[Y]=void 0:e.removeAttribute(Y),xb.push(n))}}});b.fn.extend({domManip:T,detach:function(a){return qa(this,a,!0)},remove:function(a){return qa(this,a)},text:function(a){return ca(this,function(c){return void 0===c?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||
Ka).createTextNode(c))},null,a,arguments.length)},append:function(){return T(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||u(this,a).appendChild(a)})},prepend:function(){return T(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=u(this,a);c.insertBefore(a,c.firstChild)}})},before:function(){return T(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return T(this,arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,c=0;null!=(a=this[c]);c++){for(1===a.nodeType&&b.cleanData(I(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&b.nodeName(a,'select')&&(a.options.length=0)}return this},clone:function(a,c){return a=null==a?!1:a,c=null==c?a:c,this.map(function(){return b.clone(this,a,c)})},html:function(a){return ca(this,function(c){var e=this[0]||{},k=0,n=this.length;if(void 0===c)return 1===e.nodeType?
e.innerHTML.replace(mb,''):void 0;if(!('string'!=typeof c||Gb.test(c)||!h.htmlSerialize&&Kb.test(c)||!h.leadingWhitespace&&Ra.test(c)||Xa[(ja.exec(c)||['',''])[1].toLowerCase()])){c=b.htmlPrefilter(c);try{for(;n>k;k++)e=this[k]||{},1===e.nodeType&&(b.cleanData(I(e,!1)),e.innerHTML=c);e=0}catch(C){}}e&&this.empty().append(c)},null,a,arguments.length)},replaceWith:function(){var a=[];return T(this,arguments,function(c){var e=this.parentNode;0>b.inArray(this,a)&&(b.cleanData(I(this)),e&&e.replaceChild(c,
this))},a)}});b.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},function(a,c){b.fn[a]=function(e){for(var k=0,n=[],C=b(e),J=C.length-1;J>=k;k++)e=k===J?this:this.clone(!0),b(C[k])[c](e),Vb.apply(n,e.get());return this.pushStack(n)}});var gc,Nb={HTML:'block',BODY:'block'},Pc=/^margin/,nc=new RegExp('^('+qb+')(?!px)[a-z%]+$','i'),Lc=function(a,c,e,k){var n,C={};for(n in c)C[n]=a.style[n],a.style[n]=c[n];e=e.apply(a,k||[]);for(n in c)a.style[n]=
C[n];return e},Qc=Ka.documentElement;!function(){var a,c,e,k,n,C,J=Ka.createElement('div'),Y=Ka.createElement('div');if(Y.style){Y.style.cssText='float:left;opacity:.5';h.opacity='0.5'===Y.style.opacity;h.cssFloat=!!Y.style.cssFloat;Y.style.backgroundClip='content-box';Y.cloneNode(!0).style.backgroundClip='';h.clearCloneStyle='content-box'===Y.style.backgroundClip;J=Ka.createElement('div');J.style.cssText='border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute';
Y.innerHTML='';J.appendChild(Y);h.boxSizing=''===Y.style.boxSizing||''===Y.style.MozBoxSizing||''===Y.style.WebkitBoxSizing;b.extend(h,{reliableHiddenOffsets:function(){return null==a&&pa(),k},boxSizingReliable:function(){return null==a&&pa(),e},pixelMarginRight:function(){return null==a&&pa(),c},pixelPosition:function(){return null==a&&pa(),a},reliableMarginRight:function(){return null==a&&pa(),n},reliableMarginLeft:function(){return null==a&&pa(),C}});function pa(){var Ca,sa,Sa=Ka.documentElement;
Sa.appendChild(J);Y.style.cssText='-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%';a=e=C=!1;c=n=!0;B.getComputedStyle&&(sa=B.getComputedStyle(Y),a='1%'!==(sa||{}).top,C='2px'===(sa||{}).marginLeft,e='4px'===(sa||{width:'4px'}).width,Y.style.marginRight='50%',c='4px'===(sa||{marginRight:'4px'}).marginRight,Ca=Y.appendChild(Ka.createElement('div')),Ca.style.cssText=Y.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0',
Ca.style.marginRight=Ca.style.width='0',Y.style.width='1px',n=!parseFloat((B.getComputedStyle(Ca)||{}).marginRight),Y.removeChild(Ca));Y.style.display='none';(k=0===Y.getClientRects().length)&&(Y.style.display='',Y.innerHTML='<table><tr><td></td><td>t</td></tr></table>',Y.childNodes[0].style.borderCollapse='separate',Ca=Y.getElementsByTagName('td'),Ca[0].style.cssText='margin:0;border:0;padding:0;display:none',k=0===Ca[0].offsetHeight,k&&(Ca[0].style.display='',Ca[1].style.display='none',k=0===Ca[0].offsetHeight));
Sa.removeChild(J)}}}();var rc,sc,Rc=/^(top|right|bottom|left)$/;B.getComputedStyle?(rc=function(a){var c=a.ownerDocument.defaultView;return c&&c.opener||(c=B),c.getComputedStyle(a)},sc=function(a,c,e){var k,n,C,J,Y=a.style;return e=e||rc(a),J=e?e.getPropertyValue(c)||e[c]:void 0,''!==J&&void 0!==J||b.contains(a.ownerDocument,a)||(J=b.style(a,c)),e&&!h.pixelMarginRight()&&nc.test(J)&&Pc.test(c)&&(k=Y.width,n=Y.minWidth,C=Y.maxWidth,Y.minWidth=Y.maxWidth=Y.width=J,J=e.width,Y.width=k,Y.minWidth=n,Y.maxWidth=
C),void 0===J?J:J+''}):Qc.currentStyle&&(rc=function(a){return a.currentStyle},sc=function(a,c,e){var k,n,C,J,Y=a.style;return e=e||rc(a),J=e?e[c]:void 0,null==J&&Y&&Y[c]&&(J=Y[c]),nc.test(J)&&!Rc.test(c)&&(k=Y.left,n=a.runtimeStyle,C=n&&n.left,C&&(n.left=a.currentStyle.left),Y.left='fontSize'===c?'1em':J,J=Y.pixelLeft+'px',Y.left=k,C&&(n.left=C)),void 0===J?J:J+''||'auto'});var $c=/alpha\([^)]*\)/i,Id=/opacity\s*=\s*([^)]*)/i,Jd=/^(none|table(?!-c[ea]).+)/,vd=new RegExp('^('+qb+')(.*)$','i'),Kd=
{position:'absolute',visibility:'hidden',display:'block'},nd={letterSpacing:'0',fontWeight:'400'},jd=['Webkit','O','Moz','ms'],hd=Ka.createElement('div').style;b.extend({cssHooks:{opacity:{get:function(a,c){if(c)return a=sc(a,'opacity'),''===a?'1':a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{'float':h.cssFloat?'cssFloat':'styleFloat'},style:function(a,
c,e,k){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var n,C,J,Y=b.camelCase(c),pa=a.style;if(c=b.cssProps[Y]||(b.cssProps[Y]=ha(Y)||Y),J=b.cssHooks[c]||b.cssHooks[Y],void 0===e)return J&&'get'in J&&void 0!==(n=J.get(a,!1,k))?n:pa[c];if(C=typeof e,'string'===C&&(n=Mb.exec(e))&&n[1]&&(e=va(a,c,n),C='number'),null!=e&&e===e&&('number'===C&&(e+=n&&n[3]||(b.cssNumber[Y]?'':'px')),h.clearCloneStyle||''!==e||0!==c.indexOf('background')||(pa[c]='inherit'),!(J&&'set'in J&&void 0===(e=J.set(a,e,k)))))try{pa[c]=
e}catch(Ca){}}},css:function(a,c,e,k){var n,C,J,Y=b.camelCase(c);return c=b.cssProps[Y]||(b.cssProps[Y]=ha(Y)||Y),J=b.cssHooks[c]||b.cssHooks[Y],J&&'get'in J&&(C=J.get(a,!0,e)),void 0===C&&(C=sc(a,c,k)),'normal'===C&&c in nd&&(C=nd[c]),''===e||e?(n=parseFloat(C),!0===e||isFinite(n)?n||0:C):C}});b.each(['height','width'],function(a,c){b.cssHooks[c]={get:function(e,k,n){return k?Jd.test(b.css(e,'display'))&&0===e.offsetWidth?Lc(e,Kd,function(){return Da(e,c,n)}):Da(e,c,n):void 0},set:function(e,k,n){var C=
n&&rc(e);return la(e,k,n?ta(e,c,n,h.boxSizing&&'border-box'===b.css(e,'boxSizing',!1,C),C):0)}}});h.opacity||(b.cssHooks.opacity={get:function(a,c){return Id.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||'')?.01*parseFloat(RegExp.$1)+'':c?'1':''},set:function(a,c){var e=a.style;a=a.currentStyle;var k=b.isNumeric(c)?'alpha(opacity='+100*c+')':'',n=a&&a.filter||e.filter||'';e.zoom=1;(1<=c||''===c)&&''===b.trim(n.replace($c,''))&&e.removeAttribute&&(e.removeAttribute('filter'),''===
c||a&&!a.filter)||(e.filter=$c.test(n)?n.replace($c,k):n+' '+k)}});b.cssHooks.marginRight=ka(h.reliableMarginRight,function(a,c){return c?Lc(a,{display:'inline-block'},sc,[a,'marginRight']):void 0});b.cssHooks.marginLeft=ka(h.reliableMarginLeft,function(a,c){return c?(parseFloat(sc(a,'marginLeft'))||(b.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Lc(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+'px':void 0});b.each({margin:'',padding:'',border:'Width'},function(a,
c){b.cssHooks[a+c]={expand:function(e){var k=0,n={};for(e='string'==typeof e?e.split(' '):[e];4>k;k++)n[a+Ya[k]+c]=e[k]||e[k-2]||e[0];return n}};Pc.test(a)||(b.cssHooks[a+c].set=la)});b.fn.extend({css:function(a,c){return ca(this,function(e,k,n){var C,J={},Y=0;if(b.isArray(k)){n=rc(e);for(C=k.length;C>Y;Y++)J[k[Y]]=b.css(e,k[Y],!1,n);return J}return void 0!==n?b.style(e,k,n):b.css(e,k)},a,c,1<arguments.length)},show:function(){return xa(this,!0)},hide:function(){return xa(this)},toggle:function(a){return'boolean'==
typeof a?a?this.show():this.hide():this.each(function(){cb(this)?b(this).show():b(this).hide()})}});b.Tween=Qa;Qa.prototype={constructor:Qa,init:function(a,c,e,k,n,C){this.elem=a;this.prop=e;this.easing=n||b.easing._default;this.options=c;this.start=this.now=this.cur();this.end=k;this.unit=C||(b.cssNumber[e]?'':'px')},cur:function(){var a=Qa.propHooks[this.prop];return a&&a.get?a.get(this):Qa.propHooks._default.get(this)},run:function(a){var c,e=Qa.propHooks[this.prop];return this.options.duration?
this.pos=c=b.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=c=a,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),e&&e.set?e.set(this):Qa.propHooks._default.set(this),this}};Qa.prototype.init.prototype=Qa.prototype;Qa.propHooks={_default:{get:function(a){var c;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(c=b.css(a.elem,a.prop,''),c&&'auto'!==c?c:0)},set:function(a){b.fx.step[a.prop]?
b.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[b.cssProps[a.prop]]&&!b.cssHooks[a.prop]?a.elem[a.prop]=a.now:b.style(a.elem,a.prop,a.now+a.unit)}}};Qa.propHooks.scrollTop=Qa.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};b.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:'swing'};b.fx=Qa.prototype.init;b.fx.step={};var Fc,ad,Ld=/^(?:toggle|show|hide)$/,Md=/queueHooks$/;b.Animation=b.extend(Ja,
{tweeners:{'*':[function(a,c){var e=this.createTween(a,c);return va(e.elem,a,Mb.exec(c),e),e}]},tweener:function(a,c){b.isFunction(a)?(c=a,a=['*']):a=a.match(Ga);for(var e,k=0,n=a.length;n>k;k++)e=a[k],Ja.tweeners[e]=Ja.tweeners[e]||[],Ja.tweeners[e].unshift(c)},prefilters:[function(a,c,e){var k,n,C,J,Y,pa,Ca,sa=this,Sa={},Va=a.style,yb=a.nodeType&&cb(a),bb=b._data(a,'fxshow');e.queue||(J=b._queueHooks(a,'fx'),null==J.unqueued&&(J.unqueued=0,Y=J.empty.fire,J.empty.fire=function(){J.unqueued||Y()}),
J.unqueued++,sa.always(function(){sa.always(function(){J.unqueued--;b.queue(a,'fx').length||J.empty.fire()})}));1===a.nodeType&&('height'in c||'width'in c)&&(e.overflow=[Va.overflow,Va.overflowX,Va.overflowY],pa=b.css(a,'display'),Ca='none'===pa?b._data(a,'olddisplay')||W(a.nodeName):pa,'inline'===Ca&&'none'===b.css(a,'float')&&(h.inlineBlockNeedsLayout&&'inline'!==W(a.nodeName)?Va.zoom=1:Va.display='inline-block'));e.overflow&&(Va.overflow='hidden',h.shrinkWrapBlocks()||sa.always(function(){Va.overflow=
e.overflow[0];Va.overflowX=e.overflow[1];Va.overflowY=e.overflow[2]}));for(k in c)if(n=c[k],Ld.exec(n)){if(delete c[k],C=C||'toggle'===n,n===(yb?'hide':'show')){if('show'!==n||!bb||void 0===bb[k])continue;yb=!0}Sa[k]=bb&&bb[k]||b.style(a,k)}else pa=void 0;if(b.isEmptyObject(Sa))'inline'===('none'===pa?W(a.nodeName):pa)&&(Va.display=pa);else for(k in bb?'hidden'in bb&&(yb=bb.hidden):bb=b._data(a,'fxshow',{}),C&&(bb.hidden=!yb),yb?b(a).show():sa.done(function(){b(a).hide()}),sa.done(function(){var Hb;
b._removeData(a,'fxshow');for(Hb in Sa)b.style(a,Hb,Sa[Hb])}),Sa)c=Na(yb?bb[k]:0,k,sa),k in bb||(bb[k]=c.start,yb&&(c.end=c.start,c.start='width'===k||'height'===k?1:0))}],prefilter:function(a,c){c?Ja.prefilters.unshift(a):Ja.prefilters.push(a)}});b.speed=function(a,c,e){var k=a&&'object'==typeof a?b.extend({},a):{complete:e||!e&&c||b.isFunction(a)&&a,duration:a,easing:e&&c||c&&!b.isFunction(c)&&c};return k.duration=b.fx.off?0:'number'==typeof k.duration?k.duration:k.duration in b.fx.speeds?b.fx.speeds[k.duration]:
b.fx.speeds._default,null!=k.queue&&!0!==k.queue||(k.queue='fx'),k.old=k.complete,k.complete=function(){b.isFunction(k.old)&&k.old.call(this);k.queue&&b.dequeue(this,k.queue)},k};b.fn.extend({fadeTo:function(a,c,e,k){return this.filter(cb).css('opacity',0).show().end().animate({opacity:c},a,e,k)},animate:function(a,c,e,k){var n=b.isEmptyObject(a),C=b.speed(c,e,k);c=function(){var J=Ja(this,b.extend({},a),C);(n||b._data(this,'finish'))&&J.stop(!0)};return c.finish=c,n||!1===C.queue?this.each(c):this.queue(C.queue,
c)},stop:function(a,c,e){var k=function(n){var C=n.stop;delete n.stop;C(e)};return'string'!=typeof a&&(e=c,c=a,a=void 0),c&&!1!==a&&this.queue(a||'fx',[]),this.each(function(){var n=!0,C=null!=a&&a+'queueHooks',J=b.timers,Y=b._data(this);if(C)Y[C]&&Y[C].stop&&k(Y[C]);else for(C in Y)Y[C]&&Y[C].stop&&Md.test(C)&&k(Y[C]);for(C=J.length;C--;)J[C].elem!==this||null!=a&&J[C].queue!==a||(J[C].anim.stop(e),n=!1,J.splice(C,1));!n&&e||b.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||'fx'),this.each(function(){var c=
b._data(this),e=c[a+'queue'];var k=c[a+'queueHooks'];var n=b.timers,C=e?e.length:0;c.finish=!0;b.queue(this,a,[]);k&&k.stop&&k.stop.call(this,!0);for(k=n.length;k--;)n[k].elem===this&&n[k].queue===a&&(n[k].anim.stop(!0),n.splice(k,1));for(k=0;C>k;k++)e[k]&&e[k].finish&&e[k].finish.call(this);delete c.finish})}});b.each(['toggle','show','hide'],function(a,c){var e=b.fn[c];b.fn[c]=function(k,n,C){return null==k||'boolean'==typeof k?e.apply(this,arguments):this.animate(Ea(c,!0),k,n,C)}});b.each({slideDown:Ea('show'),
slideUp:Ea('hide'),slideToggle:Ea('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},function(a,c){b.fn[a]=function(e,k,n){return this.animate(c,e,k,n)}});b.timers=[];b.fx.tick=function(){var a=b.timers,c=0;for(Fc=b.now();c<a.length;c++){var e=a[c];e()||a[c]!==e||a.splice(c--,1)}a.length||b.fx.stop();Fc=void 0};b.fx.timer=function(a){b.timers.push(a);a()?b.fx.start():b.timers.pop()};b.fx.interval=13;b.fx.start=function(){ad||=B.setInterval(b.fx.tick,b.fx.interval)};
b.fx.stop=function(){B.clearInterval(ad);ad=null};b.fx.speeds={slow:600,fast:200,_default:400};b.fn.delay=function(a,c){return a=b.fx?b.fx.speeds[a]||a:a,c=c||'fx',this.queue(c,function(e,k){var n=B.setTimeout(e,a);k.stop=function(){B.clearTimeout(n)}})};(function(){var a=Ka.createElement('input');Ka.createElement('div');var c=Ka.createElement('select'),e=c.appendChild(Ka.createElement('option'));var k=Ka.createElement('div');k.setAttribute('className','t');k.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
k.getElementsByTagName('a');a.setAttribute('type','checkbox');k.appendChild(a);var n=k.getElementsByTagName('a')[0];n.style.cssText='top:1px';h.getSetAttribute='t'!==k.className;h.style=/top/.test(n.getAttribute('style'));h.hrefNormalized='/a'===n.getAttribute('href');h.checkOn=!!a.value;h.optSelected=e.selected;h.enctype=!!Ka.createElement('form').enctype;c.disabled=!0;h.optDisabled=!e.disabled;a=Ka.createElement('input');a.setAttribute('value','');h.input=''===a.getAttribute('value');a.value='t';
a.setAttribute('type','radio');h.radioValue='t'===a.value})();var Nd=/\r/g,Od=/[\x20\t\r\n\f]+/g;b.fn.extend({val:function(a){var c,e,k,n=this[0];if(arguments.length)return k=b.isFunction(a),this.each(function(C){var J;1===this.nodeType&&(J=k?a.call(this,C,b(this).val()):a,null==J?J='':'number'==typeof J?J+='':b.isArray(J)&&(J=b.map(J,function(Y){return null==Y?'':Y+''})),c=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],c&&'set'in c&&void 0!==c.set(this,J,'value')||(this.value=J))});
if(n)return c=b.valHooks[n.type]||b.valHooks[n.nodeName.toLowerCase()],c&&'get'in c&&void 0!==(e=c.get(n,'value'))?e:(e=n.value,'string'==typeof e?e.replace(Nd,''):null==e?'':e)}});b.extend({valHooks:{option:{get:function(a){var c=b.find.attr(a,'value');return null!=c?c:b.trim(b.text(a)).replace(Od,' ')}},select:{get:function(a){for(var c,e=a.options,k=a.selectedIndex,n='select-one'===a.type||0>k,C=n?null:[],J=n?k+1:e.length,Y=0>k?J:n?k:0;J>Y;Y++)if(c=e[Y],!(!c.selected&&Y!==k||(h.optDisabled?c.disabled:
null!==c.getAttribute('disabled'))||c.parentNode.disabled&&b.nodeName(c.parentNode,'optgroup'))){if(a=b(c).val(),n)return a;C.push(a)}return C},set:function(a,c){var e,k,n=a.options;c=b.makeArray(c);for(var C=n.length;C--;)if(k=n[C],-1<b.inArray(b.valHooks.option.get(k),c))try{k.selected=e=!0}catch(J){k.scrollHeight}else k.selected=!1;return e||(a.selectedIndex=-1),n}}}});b.each(['radio','checkbox'],function(){b.valHooks[this]={set:function(a,c){return b.isArray(c)?a.checked=-1<b.inArray(b(a).val(),
c):void 0}};h.checkOn||(b.valHooks[this].get=function(a){return null===a.getAttribute('value')?'on':a.value})});var Ic,zc=b.expr.attrHandle,bd=/^(?:checked|selected)$/i,Ec=h.getSetAttribute,Sc=h.input;b.fn.extend({attr:function(a,c){return ca(this,b.attr,a,c,1<arguments.length)},removeAttr:function(a){return this.each(function(){b.removeAttr(this,a)})}});b.extend({attr:function(a,c,e){var k,n,C=a.nodeType;if(3!==C&&8!==C&&2!==C)return'undefined'==typeof a.getAttribute?b.prop(a,c,e):(1===C&&b.isXMLDoc(a)||
(c=c.toLowerCase(),n=b.attrHooks[c]||(b.expr.match.bool.test(c)?Pd:Ic)),void 0!==e?null===e?void b.removeAttr(a,c):n&&'set'in n&&void 0!==(k=n.set(a,e,c))?k:(a.setAttribute(c,e+''),e):n&&'get'in n&&null!==(k=n.get(a,c))?k:(k=b.find.attr(a,c),null==k?void 0:k))},attrHooks:{type:{set:function(a,c){if(!h.radioValue&&'radio'===c&&b.nodeName(a,'input')){var e=a.value;return a.setAttribute('type',c),e&&(a.value=e),c}}}},removeAttr:function(a,c){var e=0,k=c&&c.match(Ga);if(k&&1===a.nodeType)for(;c=k[e++];){var n=
b.propFix[c]||c;b.expr.match.bool.test(c)?Sc&&Ec||!bd.test(c)?a[n]=!1:a[b.camelCase('default-'+c)]=a[n]=!1:b.attr(a,c,'');a.removeAttribute(Ec?c:n)}}});var Pd={set:function(a,c,e){return!1===c?b.removeAttr(a,e):Sc&&Ec||!bd.test(e)?a.setAttribute(!Ec&&b.propFix[e]||e,e):a[b.camelCase('default-'+e)]=a[e]=!0,e}};b.each(b.expr.match.bool.source.match(/\w+/g),function(a,c){var e=zc[c]||b.find.attr;Sc&&Ec||!bd.test(c)?zc[c]=function(k,n,C){var J,Y;return C||(Y=zc[n],zc[n]=J,J=null!=e(k,n,C)?n.toLowerCase():
null,zc[n]=Y),J}:zc[c]=function(k,n,C){return C?void 0:k[b.camelCase('default-'+n)]?n.toLowerCase():null}});Sc&&Ec||(b.attrHooks.value={set:function(a,c,e){return b.nodeName(a,'input')?void(a.defaultValue=c):Ic&&Ic.set(a,c,e)}});Ec||(Ic={set:function(a,c,e){var k=a.getAttributeNode(e);return k||a.setAttributeNode(k=a.ownerDocument.createAttribute(e)),k.value=c+='','value'===e||c===a.getAttribute(e)?c:void 0}},zc.id=zc.name=zc.coords=function(a,c,e){var k;return e?void 0:(k=a.getAttributeNode(c))&&
''!==k.value?k.value:null},b.valHooks.button={get:function(a,c){return(a=a.getAttributeNode(c))&&a.specified?a.value:void 0},set:Ic.set},b.attrHooks.contenteditable={set:function(a,c,e){Ic.set(a,''===c?!1:c,e)}},b.each(['width','height'],function(a,c){b.attrHooks[c]={set:function(e,k){return''===k?(e.setAttribute(c,'auto'),k):void 0}}}));h.style||(b.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,c){return a.style.cssText=c+''}});var Qd=/^(?:input|select|textarea|button|object)$/i,
Rd=/^(?:a|area)$/i;b.fn.extend({prop:function(a,c){return ca(this,b.prop,a,c,1<arguments.length)},removeProp:function(a){return a=b.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(c){}})}});b.extend({prop:function(a,c,e){var k,n,C=a.nodeType;if(3!==C&&8!==C&&2!==C)return 1===C&&b.isXMLDoc(a)||(c=b.propFix[c]||c,n=b.propHooks[c]),void 0!==e?n&&'set'in n&&void 0!==(k=n.set(a,e,c))?k:a[c]=e:n&&'get'in n&&null!==(k=n.get(a,c))?k:a[c]},propHooks:{tabIndex:{get:function(a){var c=
b.find.attr(a,'tabindex');return c?parseInt(c,10):Qd.test(a.nodeName)||Rd.test(a.nodeName)&&a.href?0:-1}}},propFix:{'for':'htmlFor','class':'className'}});h.hrefNormalized||b.each(['href','src'],function(a,c){b.propHooks[c]={get:function(e){return e.getAttribute(c,4)}}});h.optSelected||(b.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});
b.each('tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable'.split(' '),function(){b.propFix[this.toLowerCase()]=this});h.enctype||(b.propFix.enctype='encoding');var cd=/[\t\r\n\f]/g;b.fn.extend({addClass:function(a){var c,e,k,n,C,J,Y=0;if(b.isFunction(a))return this.each(function(pa){b(this).addClass(a.call(this,pa,Ua(this)))});if('string'==typeof a&&a)for(c=a.match(Ga)||[];e=this[Y++];)if(n=Ua(e),k=1===e.nodeType&&(' '+n+' ').replace(cd,' ')){for(J=
0;C=c[J++];)0>k.indexOf(' '+C+' ')&&(k+=C+' ');k=b.trim(k);n!==k&&b.attr(e,'class',k)}return this},removeClass:function(a){var c,e,k,n,C,J,Y=0;if(b.isFunction(a))return this.each(function(pa){b(this).removeClass(a.call(this,pa,Ua(this)))});if(!arguments.length)return this.attr('class','');if('string'==typeof a&&a)for(c=a.match(Ga)||[];e=this[Y++];)if(n=Ua(e),k=1===e.nodeType&&(' '+n+' ').replace(cd,' ')){for(J=0;C=c[J++];)for(;-1<k.indexOf(' '+C+' ');)k=k.replace(' '+C+' ',' ');k=b.trim(k);n!==k&&
b.attr(e,'class',k)}return this},toggleClass:function(a,c){var e=typeof a;return'boolean'==typeof c&&'string'===e?c?this.addClass(a):this.removeClass(a):b.isFunction(a)?this.each(function(k){b(this).toggleClass(a.call(this,k,Ua(this),c),c)}):this.each(function(){var k,n;if('string'===e){var C=0;var J=b(this);for(n=a.match(Ga)||[];k=n[C++];)J.hasClass(k)?J.removeClass(k):J.addClass(k)}else void 0!==a&&'boolean'!==e||(k=Ua(this),k&&b._data(this,'__className__',k),b.attr(this,'class',k||!1===a?'':b._data(this,
'__className__')||''))})},hasClass:function(a){var c,e=0;for(a=' '+a+' ';c=this[e++];)if(1===c.nodeType&&-1<(' '+Ua(c)+' ').replace(cd,' ').indexOf(a))return!0;return!1}});b.each('blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(' '),function(a,c){b.fn[c]=function(e,k){return 0<arguments.length?this.on(c,null,e,k):this.trigger(c)}});b.fn.extend({hover:function(a,
c){return this.mouseenter(a).mouseleave(c||a)}});var Sd=B.location,dd=b.now(),ed=/\?/,Td=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;b.parseJSON=function(a){if(B.JSON&&B.JSON.parse)return B.JSON.parse(a+'');var c,e=null,k=b.trim(a+'');return k&&!b.trim(k.replace(Td,function(n,C,J,Y){return c&&C&&(e=0),0===e?n:(c=J||C,e+=!Y-!J,'')}))?Function('return '+k)():b.error('Invalid JSON: '+a)};b.parseXML=function(a){var c,
e;if(!a||'string'!=typeof a)return null;try{B.DOMParser?(e=new B.DOMParser,c=e.parseFromString(a,'text/xml')):(c=new B.ActiveXObject('Microsoft.XMLDOM'),c.async='false',c.loadXML(a))}catch(k){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName('parsererror').length||b.error('Invalid XML: '+a),c};var Ud=/#.*$/,od=/([?&])_=[^&]*/,Vd=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Wd=/^(?:GET|HEAD)$/,Xd=/^\/\//,pd=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,qd={},Vc={},rd='*/'.concat('*'),
fd=Sd.href,Jc=pd.exec(fd.toLowerCase())||[];b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fd,type:'GET',isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Jc[1]),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{'*':rd,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',json:'application/json, text/javascript'},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:'responseXML',
text:'responseText',json:'responseJSON'},converters:{'* text':String,'text html':!0,'text json':b.parseJSON,'text xml':b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,c){return c?gb(gb(a,b.ajaxSettings),c):gb(b.ajaxSettings,a)},ajaxPrefilter:pb(qd),ajaxTransport:pb(Vc),ajax:function(a,c){function e(Bb,Ob,Rb,tb){var jc,fc,Tb,ec=Ob;if(2!==lc){lc=2;J&&B.clearTimeout(J);pa=void 0;C=tb||'';vb.readyState=0<Bb?4:0;tb=200<=Bb&&300>Bb||304===Bb;if(Rb){var Sb=sa;for(var oc=vb,Ab,ac,Wb,Qb,
Hc=Sb.contents,pc=Sb.dataTypes;'*'===pc[0];)pc.shift(),void 0===ac&&(ac=Sb.mimeType||oc.getResponseHeader('Content-Type'));if(ac)for(Qb in Hc)if(Hc[Qb]&&Hc[Qb].test(ac)){pc.unshift(Qb);break}if(pc[0]in Rb)Wb=pc[0];else{for(Qb in Rb){if(!pc[0]||Sb.converters[Qb+' '+pc[0]]){Wb=Qb;break}Ab||=Qb}Wb=Wb||Ab}Sb=Wb?(Wb!==pc[0]&&pc.unshift(Wb),Rb[Wb]):void 0}a:{Rb=sa;Ab=Sb;ac=vb;Wb=tb;var bc,uc,vc;Sb={};oc=Rb.dataTypes.slice();if(oc[1])for(bc in Rb.converters)Sb[bc.toLowerCase()]=Rb.converters[bc];for(Qb=
oc.shift();Qb;)if(Rb.responseFields[Qb]&&(ac[Rb.responseFields[Qb]]=Ab),!vc&&Wb&&Rb.dataFilter&&(Ab=Rb.dataFilter(Ab,Rb.dataType)),vc=Qb,Qb=oc.shift())if('*'===Qb)Qb=vc;else if('*'!==vc&&vc!==Qb){if(bc=Sb[vc+' '+Qb]||Sb['* '+Qb],!bc)for(mc in Sb)if(uc=mc.split(' '),uc[1]===Qb&&(bc=Sb[vc+' '+uc[0]]||Sb['* '+uc[0]])){!0===bc?bc=Sb[mc]:!0!==Sb[mc]&&(Qb=uc[0],oc.unshift(uc[1]));break}if(!0!==bc)if(bc&&Rb['throws'])Ab=bc(Ab);else try{Ab=bc(Ab)}catch(Yc){var mc={state:'parsererror',error:bc?Yc:'No conversion from '+
vc+' to '+Qb};break a}}mc={state:'success',data:Ab}}Sb=mc;tb?(sa.ifModified&&(Tb=vb.getResponseHeader('Last-Modified'),Tb&&(b.lastModified[hc]=Tb),Tb=vb.getResponseHeader('etag'),Tb&&(b.etag[hc]=Tb)),204===Bb||'HEAD'===sa.type?ec='nocontent':304===Bb?ec='notmodified':(ec=Sb.state,jc=Sb.data,fc=Sb.error,tb=!fc)):(fc=ec,!Bb&&ec||(ec='error',0>Bb&&(Bb=0)));vb.status=Bb;vb.statusText=(Ob||ec)+'';tb?yb.resolveWith(Sa,[jc,ec,vb]):yb.rejectWith(Sa,[vb,ec,fc]);vb.statusCode(Hb);Hb=void 0;Y&&Va.trigger(tb?
'ajaxSuccess':'ajaxError',[vb,sa,tb?jc:fc]);bb.fireWith(Sa,[vb,ec]);Y&&(Va.trigger('ajaxComplete',[vb,sa]),--b.active||b.event.trigger('ajaxStop'))}}'object'==typeof a&&(c=a,a=void 0);c=c||{};var k,n,C,J,Y,pa,Ca,sa=b.ajaxSetup({},c),Sa=sa.context||sa,Va=sa.context&&(Sa.nodeType||Sa.jquery)?b(Sa):b.event,yb=b.Deferred(),bb=b.Callbacks('once memory'),Hb=sa.statusCode||{},kc={},Gc={},lc=0,wc='canceled',vb={readyState:0,getResponseHeader:function(Bb){var Ob;if(2===lc){if(!Ca)for(Ca={};Ob=Vd.exec(C);)Ca[Ob[1].toLowerCase()]=
Ob[2];Ob=Ca[Bb.toLowerCase()]}return null==Ob?null:Ob},getAllResponseHeaders:function(){return 2===lc?C:null},setRequestHeader:function(Bb,Ob){var Rb=Bb.toLowerCase();return lc||(Bb=Gc[Rb]=Gc[Rb]||Bb,kc[Bb]=Ob),this},overrideMimeType:function(Bb){return lc||(sa.mimeType=Bb),this},statusCode:function(Bb){var Ob;if(Bb)if(2>lc)for(Ob in Bb)Hb[Ob]=[Hb[Ob],Bb[Ob]];else vb.always(Bb[vb.status]);return this},abort:function(Bb){Bb=Bb||wc;return pa&&pa.abort(Bb),e(0,Bb),this}};if(yb.promise(vb).complete=bb.add,
vb.success=vb.done,vb.error=vb.fail,sa.url=((a||sa.url||fd)+'').replace(Ud,'').replace(Xd,Jc[1]+'//'),sa.type=c.method||c.type||sa.method||sa.type,sa.dataTypes=b.trim(sa.dataType||'*').toLowerCase().match(Ga)||[''],null==sa.crossDomain&&(k=pd.exec(sa.url.toLowerCase()),sa.crossDomain=!(!k||k[1]===Jc[1]&&k[2]===Jc[2]&&(k[3]||('http:'===k[1]?'80':'443'))===(Jc[3]||('http:'===Jc[1]?'80':'443')))),sa.data&&sa.processData&&'string'!=typeof sa.data&&(sa.data=b.param(sa.data,sa.traditional)),ab(qd,sa,c,
vb),2===lc)return vb;(Y=b.event&&sa.global)&&0===b.active++&&b.event.trigger('ajaxStart');sa.type=sa.type.toUpperCase();sa.hasContent=!Wd.test(sa.type);var hc=sa.url;sa.hasContent||(sa.data&&(hc=sa.url+=(ed.test(hc)?'&':'?')+sa.data,delete sa.data),!1===sa.cache&&(sa.url=od.test(hc)?hc.replace(od,'$1_='+dd++):hc+(ed.test(hc)?'&':'?')+'_='+dd++));sa.ifModified&&(b.lastModified[hc]&&vb.setRequestHeader('If-Modified-Since',b.lastModified[hc]),b.etag[hc]&&vb.setRequestHeader('If-None-Match',b.etag[hc]));
(sa.data&&sa.hasContent&&!1!==sa.contentType||c.contentType)&&vb.setRequestHeader('Content-Type',sa.contentType);vb.setRequestHeader('Accept',sa.dataTypes[0]&&sa.accepts[sa.dataTypes[0]]?sa.accepts[sa.dataTypes[0]]+('*'!==sa.dataTypes[0]?', '+rd+'; q=0.01':''):sa.accepts['*']);for(n in sa.headers)vb.setRequestHeader(n,sa.headers[n]);if(sa.beforeSend&&(!1===sa.beforeSend.call(Sa,vb,sa)||2===lc))return vb.abort();wc='abort';for(n in{success:1,error:1,complete:1})vb[n](sa[n]);if(pa=ab(Vc,sa,c,vb)){if(vb.readyState=
1,Y&&Va.trigger('ajaxSend',[vb,sa]),2===lc)return vb;sa.async&&0<sa.timeout&&(J=B.setTimeout(function(){vb.abort('timeout')},sa.timeout));try{lc=1,pa.send(kc,e)}catch(Bb){if(!(2>lc))throw Bb;e(-1,Bb)}}else e(-1,'No Transport');return vb},getJSON:function(a,c,e){return b.get(a,c,e,'json')},getScript:function(a,c){return b.get(a,void 0,c,'script')}});b.each(['get','post'],function(a,c){b[c]=function(e,k,n,C){return b.isFunction(k)&&(C=C||n,n=k,k=void 0),b.ajax(b.extend({url:e,type:c,dataType:C,data:k,
success:n},b.isPlainObject(e)&&e))}});b._evalUrl=function(a){return b.ajax({url:a,type:'GET',dataType:'script',cache:!0,async:!1,global:!1,'throws':!0})};b.fn.extend({wrapAll:function(a){if(b.isFunction(a))return this.each(function(e){b(this).wrapAll(a.call(this,e))});if(this[0]){var c=b(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(a){return b.isFunction(a)?
this.each(function(c){b(this).wrapInner(a.call(this,c))}):this.each(function(){var c=b(this),e=c.contents();e.length?e.wrapAll(a):c.append(a)})},wrap:function(a){var c=b.isFunction(a);return this.each(function(e){b(this).wrapAll(c?a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,'body')||b(this).replaceWith(this.childNodes)}).end()}});b.expr.filters.hidden=function(a){return h.reliableHiddenOffsets()?0>=a.offsetWidth&&0>=a.offsetHeight&&!a.getClientRects().length:
Ub(a)};b.expr.filters.visible=function(a){return!b.expr.filters.hidden(a)};var Yd=/%20/g,wd=/\[\]$/,sd=/\r?\n/g,Zd=/^(?:submit|button|image|reset|file)$/i,$d=/^(?:input|select|textarea|keygen)/i;b.param=function(a,c){var e,k=[],n=function(C,J){J=b.isFunction(J)?J():null==J?'':J;k[k.length]=encodeURIComponent(C)+'='+encodeURIComponent(J)};if(void 0===c&&(c=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(a)||a.jquery&&!b.isPlainObject(a))b.each(a,function(){n(this.name,this.value)});else for(e in a)Zb(e,
a[e],c,n);return k.join('&').replace(Yd,'+')};b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=b.prop(this,'elements');return a?b.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!b(this).is(':disabled')&&$d.test(this.nodeName)&&!Zd.test(a)&&(this.checked||!X.test(a))}).map(function(a,c){a=b(this).val();return null==a?null:b.isArray(a)?b.map(a,function(e){return{name:c.name,value:e.replace(sd,
'\r\n')}}):{name:c.name,value:a.replace(sd,'\r\n')}}).get()}});b.ajaxSettings.xhr=void 0!==B.ActiveXObject?function(){return this.isLocal?Db():8<Ka.documentMode?jb():/^(get|post|head|put|delete|options)$/i.test(this.type)&&jb()||Db()}:jb;var ae=0,Tc={},Uc=b.ajaxSettings.xhr();B.attachEvent&&B.attachEvent('onunload',function(){for(var a in Tc)Tc[a](void 0,!0)});h.cors=!!Uc&&'withCredentials'in Uc;(Uc=h.ajax=!!Uc)&&b.ajaxTransport(function(a){if(!a.crossDomain||h.cors){var c;return{send:function(e,
k){var n,C=a.xhr(),J=++ae;if(C.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(n in a.xhrFields)C[n]=a.xhrFields[n];a.mimeType&&C.overrideMimeType&&C.overrideMimeType(a.mimeType);a.crossDomain||e['X-Requested-With']||(e['X-Requested-With']='XMLHttpRequest');for(n in e)void 0!==e[n]&&C.setRequestHeader(n,e[n]+'');C.send(a.hasContent&&a.data||null);c=function(Y,pa){if(c&&(pa||4===C.readyState))if(delete Tc[J],c=void 0,C.onreadystatechange=b.noop,pa)4!==C.readyState&&C.abort();else{var Ca=
{};var sa=C.status;'string'==typeof C.responseText&&(Ca.text=C.responseText);try{var Sa=C.statusText}catch(Va){Sa=''}sa||!a.isLocal||a.crossDomain?1223===sa&&(sa=204):sa=Ca.text?200:404}Ca&&k(sa,Sa,Ca,C.getAllResponseHeaders())};a.async?4===C.readyState?B.setTimeout(c):C.onreadystatechange=Tc[J]=c:c()},abort:function(){c&&c(void 0,!0)}}}});b.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/\b(?:java|ecma)script\b/},
converters:{'text script':function(a){return b.globalEval(a),a}}});b.ajaxPrefilter('script',function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type='GET',a.global=!1)});b.ajaxTransport('script',function(a){if(a.crossDomain){var c,e=Ka.head||b('head')[0]||Ka.documentElement;return{send:function(k,n){c=Ka.createElement('script');c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(C,J){(J||!c.readyState||/loaded|complete/.test(c.readyState))&&
(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,J||n(200,'success'))};e.insertBefore(c,e.firstChild)},abort:function(){c&&c.onload(void 0,!0)}}}});var td=[],gd=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:'callback',jsonpCallback:function(){var a=td.pop()||b.expando+'_'+dd++;return this[a]=!0,a}});b.ajaxPrefilter('json jsonp',function(a,c,e){var k,n,C,J=!1!==a.jsonp&&(gd.test(a.url)?'url':'string'==typeof a.data&&0===(a.contentType||'').indexOf('application/x-www-form-urlencoded')&&
gd.test(a.data)&&'data');return J||'jsonp'===a.dataTypes[0]?(k=a.jsonpCallback=b.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,J?a[J]=a[J].replace(gd,'$1'+k):!1!==a.jsonp&&(a.url+=(ed.test(a.url)?'&':'?')+a.jsonp+'='+k),a.converters['script json']=function(){return C||b.error(k+' was not called'),C[0]},a.dataTypes[0]='json',n=B[k],B[k]=function(){C=arguments},e.always(function(){void 0===n?b(B).removeProp(k):B[k]=n;a[k]&&(a.jsonpCallback=c.jsonpCallback,td.push(k));C&&b.isFunction(n)&&
n(C[0]);C=n=void 0}),'script'):void 0});b.parseHTML=function(a,c,e){if(!a||'string'!=typeof a)return null;'boolean'==typeof c&&(e=c,c=!1);c=c||Ka;var k=da.exec(a);e=!e&&[];return k?[c.createElement(k[1])]:(k=D([a],c,e),e&&e.length&&b(e).remove(),b.merge([],k.childNodes))};var ud=b.fn.load;b.fn.load=function(a,c,e){if('string'!=typeof a&&ud)return ud.apply(this,arguments);var k,n,C,J=this,Y=a.indexOf(' ');return-1<Y&&(k=b.trim(a.slice(Y,a.length)),a=a.slice(0,Y)),b.isFunction(c)?(e=c,c=void 0):c&&
'object'==typeof c&&(n='POST'),0<J.length&&b.ajax({url:a,type:n||'GET',dataType:'html',data:c}).done(function(pa){C=arguments;J.html(k?b('<div>').append(b.parseHTML(pa)).find(k):pa)}).always(e&&function(pa,Ca){J.each(function(){e.apply(this,C||[pa.responseText,Ca,pa])})}),this};b.each('ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend'.split(' '),function(a,c){b.fn[c]=function(e){return this.on(c,e)}});b.expr.filters.animated=function(a){return b.grep(b.timers,function(c){return a===
c.elem}).length};b.offset={setOffset:function(a,c,e){var k,n,C,J=b.css(a,'position'),Y=b(a),pa={};'static'===J&&(a.style.position='relative');var Ca=Y.offset();var sa=b.css(a,'top');var Sa=b.css(a,'left');('absolute'===J||'fixed'===J)&&-1<b.inArray('auto',[sa,Sa])?(k=Y.position(),C=k.top,n=k.left):(C=parseFloat(sa)||0,n=parseFloat(Sa)||0);b.isFunction(c)&&(c=c.call(a,e,b.extend({},Ca)));null!=c.top&&(pa.top=c.top-Ca.top+C);null!=c.left&&(pa.left=c.left-Ca.left+n);'using'in c?c.using.call(a,pa):Y.css(pa)}};
b.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(J){b.offset.setOffset(this,a,J)});var c,e,k={top:0,left:0},n=this[0],C=n&&n.ownerDocument;if(C)return c=C.documentElement,b.contains(c,n)?('undefined'!=typeof n.getBoundingClientRect&&(k=n.getBoundingClientRect()),e=rb(C),{top:k.top+(e.pageYOffset||c.scrollTop)-(c.clientTop||0),left:k.left+(e.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):k},position:function(){if(this[0]){var a,c,e={top:0,left:0},k=this[0];
return'fixed'===b.css(k,'position')?c=k.getBoundingClientRect():(a=this.offsetParent(),c=this.offset(),b.nodeName(a[0],'html')||(e=a.offset()),e.top+=b.css(a[0],'borderTopWidth',!0),e.left+=b.css(a[0],'borderLeftWidth',!0)),{top:c.top-e.top-b.css(k,'marginTop',!0),left:c.left-e.left-b.css(k,'marginLeft',!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&!b.nodeName(a,'html')&&'static'===b.css(a,'position');)a=a.offsetParent;return a||Qc})}});b.each({scrollLeft:'pageXOffset',
scrollTop:'pageYOffset'},function(a,c){var e=/Y/.test(c);b.fn[a]=function(k){return ca(this,function(n,C,J){var Y=rb(n);return void 0===J?Y?c in Y?Y[c]:Y.document.documentElement[C]:n[C]:void(Y?Y.scrollTo(e?b(Y).scrollLeft():J,e?J:b(Y).scrollTop()):n[C]=J)},a,k,arguments.length,null)}});b.each(['top','left'],function(a,c){b.cssHooks[c]=ka(h.pixelPosition,function(e,k){return k?(k=sc(e,c),nc.test(k)?b(e).position()[c]+'px':k):void 0})});b.each({Height:'height',Width:'width'},function(a,c){b.each({padding:'inner'+
a,content:c,'':'outer'+a},function(e,k){b.fn[k]=function(n,C){var J=arguments.length&&(e||'boolean'!=typeof n),Y=e||(!0===n||!0===C?'margin':'border');return ca(this,function(pa,Ca,sa){var Sa;return b.isWindow(pa)?pa.document.documentElement['client'+a]:9===pa.nodeType?(Sa=pa.documentElement,Math.max(pa.body['scroll'+a],Sa['scroll'+a],pa.body['offset'+a],Sa['offset'+a],Sa['client'+a])):void 0===sa?b.css(pa,Ca,Y):b.style(pa,Ca,sa,Y)},c,J?n:void 0,J,null)}})});b.fn.extend({bind:function(a,c,e){return this.on(a,
null,c,e)},unbind:function(a,c){return this.off(a,null,c)},delegate:function(a,c,e,k){return this.on(c,a,e,k)},undelegate:function(a,c,e){return 1===arguments.length?this.off(a,'**'):this.off(c,a||'**',e)}});b.fn.size=function(){return this.length};b.fn.andSelf=b.fn.addBack;'function'==typeof define&&define.amd&&define('jquery',[],function(){return b});var be=B.jQuery,ce=B.$;return b.noConflict=function(a){return B.$===b&&(B.$=ce),a&&B.jQuery===b&&(B.jQuery=be),b},P||(B.jQuery=B.$=b),b});
if('undefined'!==typeof module&&module.exports)var lib=require('../../index');
function Collection(B,P){var V='undefined'!==typeof module&&module.exports?!1:!0,ma=V?require('vendor/uuid'):require('uuid'),U=V?require('lib/merge'):require('../../../lib/merge'),N={isCaseSensitive:{false:{re:'^%s$',modifiers:'i'},true:{re:'^%s$'}}},ba=!1,Q=!1,S=null;V={useLocalStorage:!1,locale:'en',searchOptionRules:N};P='object'==typeof P?U(P,V):V;var r=['not null'],G=function(A){try{return eval(A)}catch(D){throw Error('Could not evaluate condition `'+A+'`.\n'+D.stack);}};if('undefined'==typeof B||
''==B||null==B)B=[];if(!Array.isArray(B))throw Error('`new Collection([content] [, options] )`: `content` argument must be an Array !');B=B?JSON.clone(B):[];for(var w=[],va=V=0,Aa=B.length;va<Aa;++va)B[va]||(B[va]={}),B[va]._uuid=ma.v4(),w[V]=B[va]._uuid,++V;var I=B;I.setSearchOption=function(){if(!arguments.length)throw Error('searchOption cannot be left blank');if(3<arguments.length||3>arguments.length&&1<arguments.length)throw Error('argument length mismatch');var A=0,D=arguments.length;if(1==
arguments.length){if('object'!=typeof arguments[0])throw Error('searchOption must be an object');for(var l in arguments[0])if('undefined'==typeof N[l])throw Error(arguments[1]+' is not an allowed searchOption !');S=arguments[0]}else for(S||={};A<D;++A){if('undefined'==typeof N[arguments[1]])throw Error(arguments[1]+' is not an allowed searchOption !');'undefined'==typeof S[arguments[0]]&&(S[arguments[0]]={});/true|false/i.test(arguments[2])?S[arguments[0]][arguments[1]]=/true/i.test(arguments[2])?
!0:!1:S[arguments[0]][arguments[1]]=arguments[2]}return I};I.find=function(){ba=!1;'boolean'==typeof arguments[arguments.length-1]&&(ba=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);var A=null,D=null,l=null;try{A=JSON.stringify(arguments),D=JSON.parse(A),l=D.count()}catch(la){throw Error('filter must be an object\n'+la.stack);}if('undefined'!=typeof D&&0<l){1<l&&(ba=!0);l=A=null;var y=0,z=Array.isArray(this)?this:JSON.clone(B),F=[],u='',v=null,H=S,K=P.searchOptionRules,
T=null,qa=[],Fa=function(la,ta,Da,Qa,La){if(null===la&&null===Da)++Qa;else if(la&&-1<r.indexOf(u)&&'not null'==u&&'undefined'!=typeof Da&&'object'!==typeof Da&&'null'!=Da&&'undefined'!=Da)0>F.indexOf(Da)&&++Qa;else if('undefined'!=typeof Da&&'object'!==typeof Da&&/(<|>|=)/.test(la)&&!/undefined|function/.test(typeof Da))ta=la,La=Da+la,'string'==typeof la&&'string'==typeof Da&&(La=la.replace(/^(<=|>=|!==|!=|===|!==)/g,''),'string'!=typeof Da||/^"(.*)"$/.test(La)||(la=la.replace(La,'"'+La+'"')),La=
'"'+Da+'"'+la,la=ta),/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(Da)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(la)?G(Da.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+la.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Qa:G(La)&&++Qa;else if('undefined'!=typeof Da&&'object'!==typeof Da&&Da===la&&!H||'undefined'!=typeof Da&&'object'!==typeof Da&&Da===la&&'undefined'==typeof H[ta])++Qa;
else if('undefined'!=typeof Da&&'object'!==typeof Da&&H&&'undefined'!=typeof H[ta]){var Ea=0;var Na=H[ta].count();for(var Ia in H[ta])La[Ia][H[ta][Ia]].re=La[Ia][H[ta][Ia]].re.replace(/%s/,la),v=La[Ia][H[ta][Ia]].modifiers?new RegExp(La[Ia][H[ta][Ia]].re,La[Ia][H[ta][Ia]].modifiers):new RegExp(La[Ia][H[ta][Ia]].re),v.test(Da)&&++Ea;Ea==Na&&++Qa}return{matched:Qa}},W=function(la,ta,Da,Qa){var La=ta.split(/\./g);La=La[La.length-1];v=new RegExp('("'+La+'":\\w+)');La=null;try{Da&&(La=eval('_content.'+
ta))}catch(Ea){}La&&(Array.isArray(La)?La=La[1].split(/:/)[1]:'string'==typeof La&&/:/.test(La)&&(La=La.split(/:/)[1]),/(<|>|=)/.test(la)?/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(La)&&/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/.test(la)?G(La.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")')+la.replace(/(\d{4})\-(\d{2})\-(\d{2})(\s+|T)(\d{2}):(\d{2}):(\d{2})/,'new Date("$&")'))&&++Qa:G(La+la)&&++Qa:La==la&&++Qa);return{matched:Qa}},
ka=function(la,ta,Da,Qa,La){ta=ta.split(/\[\*\]/g);La=ta[0].replace(/\[\*\]/,'');Da=Da[La];ta=ta[1];/^\./.test(ta)&&(ta=ta.substr(1));La=0;if(Da)for(var Ea=0,Na=Da.length;Ea<Na&&!(qa=/\./.test(ta)?W(la,ta,Da[Ea],La):Fa(la,ta,Da[Ea],La,K),La=qa.matched,0<La);++Ea);return{matched:Qa+La}},ha;for(ha in z)if(z[ha]||(z[ha]={}),!/undefined|function/.test(typeof z[ha]))for(let la=0,ta=D.count();la<ta;++la){A=D[la];l=A.count();T=0;for(var xa in A){if('undefined'==typeof A[xa])throw Error('filter `'+xa+'` cannot be left undefined');
u=null===A[xa]||/(boolean|number)/.test(typeof A[xa])?A[xa]:A[xa].toLocaleLowerCase();qa=/\./.test(xa)?/\[\*\]/.test(xa)?ka(A[xa],xa,z[ha],T,0):W(A[xa],xa,z[ha],T):Fa(A[xa],xa,z[ha][xa],T,K);T=qa.matched}if(T==l)if(ba&&Q&&0>w.indexOf(z[ha]._uuid)||Q||!ba){if(!ba||ba&&0>F.indexOf(z[ha]._uuid)||Q)F[y]=z[ha],++y}else ba&&!Q&&0>F.indexOf(z[ha]._uuid)&&(F[y]=z[ha],++y)}}else F=B;S=null;F.insert=I.insert;F.notIn=I.notIn;F.find=this.find;F.update=I.update;F.replace=I.replace;F.or=I.or;F.findOne=I.findOne;
F.limit=I.limit;F.orderBy=I.orderBy;F.delete=I.delete;F.toRaw=I.toRaw;F.filter=I.filter;return F};I.findOne=function(){var A=null;'string'==typeof arguments[arguments.length-1]&&(delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(A=arguments);if('undefined'==typeof A||!A||'object'!=typeof A)throw Error('[ Collection ][ findOne ] `filters` argument must be defined: Array or Filter Object(s) expected');A=null;var D=Array.isArray(arguments[0])?arguments[0]:I.find.apply(this,
arguments)||[];0<D.length&&(A=D.limit(1).toRaw()[0]);return A};I.or=function(){arguments[arguments.length]=!0;++arguments.length;return I.find.apply(this,arguments)};I.limit=function(A){if('undefined'==typeof A||'number'!=typeof A)throw Error('[Collection::result->limit(resultLimit)] : `resultLimit` parametter must by a `number`');var D=Array.isArray(this)?this:JSON.clone(B);D=D.splice(0,A);D.insert=I.insert;D.update=I.update;D.replace=I.replace;D.notIn=I.notIn;D.findOne=I.findOne;D.orderBy=I.orderBy;
D.max=I.max;D.delete=I.delete;D.toRaw=I.toRaw;D.filter=I.filter;return D};I.notIn=function(){var A=null,D=null,l=!0;'string'==typeof arguments[arguments.length-1]&&(A=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'boolean'==typeof arguments[arguments.length-1]&&(l=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(D=arguments);if('undefined'==typeof D||!D||'object'!=typeof D)throw Error('[ Collection ][ notIn ] `filters` argument must be defined: Array or Filter Object(s) expected');
var y=JSON.clone(Array.isArray(this)?this:B);if(Array.isArray(arguments[0]))var z=arguments[0];else Q=!0,z=I.find.apply(this,arguments)||[],Q=!1;if(0<z.length){if(l&&A&&'undefined'==typeof z[0]&&'undefined'==typeof z[0][A])throw Error('[ Collection ][ notIn ] `key` not valid');l&&!A&&'undefined'!=typeof z[0]._uuid?A='_uuid':'undefined'!=typeof z[0].id&&(A='id');if(!A||'undefined'==typeof z[0][A])throw Error('No comparison key defined !');var F=0,u=z.length,v=0,H,K=D.count(),T;if(l&&'undefined'!=typeof y[v]&&
y[v].hasOwnProperty(A))for(;F<u&&y.length;++F)for(v=0,l=y.length;v<l;++v){if('undefined'!=typeof y[v]&&'undefined'!=typeof z[F]&&y[v][A]===z[F][A]){y.splice(v,1);break}}else if('undefined'==typeof y[v])y=JSON.clone(z);else for(;F<u&&y.length;++F)for(v=0,l=y.length;v<l;++v)if('undefined'!=typeof y[v]){for(H=T=0;H<K;++H){if('undefined'==typeof D[H])throw Error('filter `'+H+'` cannot be left undefined');var qa=D[H].count();var Fa=0;for(A in D[H])y[v].hasOwnProperty(A)&&y[v][A]===z[F][A]&&++Fa;Fa==qa&&
++T}if(T){y.splice(v,1);break}}}A=y;A.notIn=I.notIn;A.limit=I.limit;A.find=I.find;A.findOne=I.findOne;A.insert=I.insert;A.replace=I.replace;A.update=I.update;A.orderBy=I.orderBy;A.max=I.max;A.delete=I.delete;A.toRaw=I.toRaw;A.filter=I.filter;return A};I.insert=function(A){if('object'!==typeof A)throw Error('filter must be an object');var D=Array.isArray(this)?this:B;A._uuid=ma.v4();D.push(A);D.limit=I.limit;D.find=I.find;D.findOne=I.findOne;D.update=I.update;D.replace=I.replace;D.orderBy=I.orderBy;
D.max=I.max;D.notIn=I.notIn;D.delete=I.delete;D.toRaw=I.toRaw;D.filter=I.filter;return D};I.update=function(){var A='_uuid',D,l=D=null;'string'==typeof arguments[arguments.length-1]&&(A=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(l=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);0<arguments.length&&(D=arguments);if('undefined'==typeof D||!D||'object'!=typeof D)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');
if('undefined'==typeof l||!l||'object'!=typeof l)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var y=Array.isArray(arguments[0])?arguments[0]:I.find.apply(this,arguments)||[];D=Array.isArray(this)?this:JSON.clone(B);if(0<y.length){y=y.toRaw();for(var z=0,F=y.length;z<F;++z){y[z]=U(JSON.clone(l),y[z]);for(var u=0,v=D.length;u<v;++u)if('undefined'==typeof D[u][A]&&'_uuid'==A&&'undefined'!=typeof D[u].id&&(A='id'),D[u][A]==y[z][A]){D[u]=y[z];break}}}D.limit=
I.limit;D.find=I.find;D.findOne=I.findOne;D.insert=I.insert;D.update=I.update;D.replace=I.replace;D.orderBy=I.orderBy;D.max=I.max;D.notIn=I.notIn;D.delete=I.delete;D.toRaw=I.toRaw;D.filter=I.filter;return D};I.replace=function(){var A='_uuid',D,l=D=null;'string'==typeof arguments[arguments.length-1]&&(A=arguments[arguments.length-1],delete arguments[arguments.length-1],--arguments.length);'object'==typeof arguments[arguments.length-1]&&(l=arguments[arguments.length-1],delete arguments[arguments.length-
1],--arguments.length);0<arguments.length&&(D=arguments);if('undefined'==typeof D||!D||'object'!=typeof D)throw Error('[ Collection ][ update ] `filters` argument must be defined: Array or Filter Object(s) expected');if('undefined'==typeof l||!l||'object'!=typeof l)throw Error('[ Collection ][ update ] `set` argument must be defined: Object expected');var y=Array.isArray(arguments[0])?arguments[0]:I.find.apply(this,arguments)||[];D=Array.isArray(this)?this:JSON.clone(B);if(0<y.length){y=y.toRaw();
for(var z=0,F=y.length;z<F;++z){y[z]=JSON.clone(l);for(var u=0,v=D.length;u<v;++u){if('undefined'==typeof D[u][A]&&'_uuid'==A&&'undefined'!=typeof D[u].id)A='id';else if('undefined'==typeof D[u][A]&&'_uuid'==A)throw Error('No comparison key defined !');if(D[u][A]==y[z][A]){D[u]=y[z];break}}}}D.limit=I.limit;D.find=I.find;D.findOne=I.findOne;D.insert=I.insert;D.update=I.update;D.replace=I.replace;D.orderBy=I.orderBy;D.max=I.max;D.notIn=I.notIn;D.delete=I.delete;D.toRaw=I.toRaw;D.filter=I.filter;return D};
I['delete']=function(){var A=I.notIn.apply(this,arguments);A.limit=I.limit;A.find=I.find;A.findOne=I.findOne;A.insert=I.insert;A.update=I.update;A.replace=I.replace;A.orderBy=I.orderBy;A.max=I.max;A.notIn=I.notIn;A.toRaw=I.toRaw;A.filter=I.filter;A.delete=this.delete;return A};I.orderBy=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->orderBy(filter) ] where `filter` must not be empty or null');if(1==arguments.length)var A=arguments[0];else{A=Array(arguments.length);
for(var D=0,l=A.length;D<l;++D)A[D]=arguments[D]}D=Array.isArray(this)?this:JSON.clone(B);return O(A,D.toRaw())};I.max=function(){if('undefined'==typeof arguments||1>arguments.length)throw Error('[ Collection->max(filter) ] where `filter` must not be empty or null');if(1<arguments.length||Array.isArray(arguments[0])||'object'==typeof arguments[0]&&1<arguments[0].count())throw Error('[ Collection->max(filter) ] only accept one filter length, and fileter count must be equal to 1');var A=arguments[0];
try{var D=Object.keys(A)[0],l={};l[D]='desc';return I.find(A).orderBy(l).limit(1)[0][D]}catch(y){throw y;}};var O=function(A,D){if('object'!=typeof A)throw Error('`filter` parametter must be an object or an array');var l={},y=null,z=null,F=y=null;y=[];if(0==A.count())return null;l.asc=function(u,v){var H=v.map(function(K,T){var qa={};qa.index=T;qa[u]=K[u];return qa});H.sort(function(K,T){var qa=function(Fa,W){/^(true|false)$/i.test(Fa)&&(Fa=/true/i.test(Fa)?1:0);/^(true|false)$/i.test(W)&&(W=/true/i.test(W)?
1:0);return'string'==typeof Fa&&''!=Fa||'string'==typeof W?('number'==typeof Fa&&(Fa=''+Fa),'number'==typeof W&&(W=''+W),Fa.localeCompare(W,void 0,{sensitivity:'case',caseFirst:'upper'})):Fa>W?1:Fa<W?-1:0};return'object'==typeof K?qa(K[u],T[u]):qa(K,T)});return H.map(function(K,T,qa){return v[K.index]})};l.desc=function(u,v){return l.asc(u,v).reverse()};y=function(u,v){var H=[],K=[];if(Array.isArray(v))for(var T=0,qa=v.length;T<qa;++T)H[T]=Object.keys(v[T])[0],K[T]=v[T][H[T]];else for(qa in T=0,v)H[T]=
qa,K[T]=v[qa],++T;z=function(Fa,W,ka,ha,xa){var la='desc'==ha[xa]?1:0,ta,Da=ta=null;return'string'==typeof Fa[ka[xa]]&&''!=Fa[ka[xa]]?(ta=Fa[ka[xa]].localeCompare(W[ka[xa]]),0==la&&0!=ta?0>ta?-1:1:0!=ta?0>ta?1:-1:ka.length-1>xa?z(Fa,W,ka,ha,xa+1):0):'number'==typeof Fa[ka[xa]]||'number'==typeof W[ka[xa]]?(ta=(''+Fa[ka[xa]]).localeCompare(''+W[ka[xa]],void 0,{numeric:!0}),0==la&&0!=ta?0>ta?-1:1:0!=ta?0>ta?1:-1:ka.length-1>xa?z(Fa,W,ka,ha,xa+1):0):'boolean'==typeof Fa[ka[xa]]||'boolean'==typeof W[ka[xa]]?
('boolean'==typeof Fa[ka[xa]]&&(ta=Fa[ka[xa]]?1:0),'boolean'==typeof W[ka[xa]]&&(Da=W[ka[xa]]?1:0),ta>Da?0==la?1:-1:ta<Da?0==la?-1:1:ka.length-1>xa?z(Fa,W,ka,ha,xa+1):0):Fa[ka[xa]]>W[ka[xa]]?0==la?1:-1:Fa[ka[xa]]<W[ka[xa]]?0==la?-1:1:ka.length-1>xa?z(Fa,W,ka,ha,xa+1):0};return u.sort(function(Fa,W){return z(Fa,W,H,K,0)})};Array.isArray(A)||1<A.count()?y=y(D,A):(F=Object.keys(A)[0],y=A[F],y=l[y](F,D));y.find=I.find;y.findOne=I.findOne;y.limit=I.limit;y.notIn=I.notIn;y.insert=I.insert;y.update=I.update;
y.replace=I.replace;y.delete=I.delete;y.orderBy=I.orderBy;y.max=I.max;y.toRaw=I.toRaw;y.filter=I.filter;return y};I.toRaw=function(){for(var A=Array.isArray(this)?this.slice():B.slice(),D=0,l=A.length;D<l;++D)A[D]._uuid&&delete A[D]._uuid;return A};I.filter=function(A){if('undefined'==typeof A)throw Error('`filter` parametter must be a string or an array.');var D=Array.isArray(this)?this:B;if(!D.length)return[];var l=0,y=D.length,z=[],F=0;if(Array.isArray(A))for(var u,v=A.length,H;l<y;++l){H=!1;for(u=
0;u<v;++u)'undefined'!=typeof D[l][A[u]]&&('undefined'==typeof z[F]&&(z[F]={}),z[F][A[u]]=D[l][A[u]],H=!0);H&&++F}else for(;l<y;++l)'undefined'!=typeof D[l][A]&&('undefined'==typeof z[F]&&(z[F]={}),z[F][A]=D[l][A],++F);return JSON.clone(z)};return I}'undefined'!==typeof module&&module.exports?module.exports=Collection:'function'===typeof define&&define.amd&&define('lib/collection',[],function(){return Collection});
function FormValidatorUtil(B,P,V,ma){var U='undefined'!==typeof module&&module.exports?!1:!0,N=U?require('lib/merge'):require('../../../../../lib/merge');U||require('../../../../../helpers');U&&require('helpers/dateFormat');var ba=U?require('lib/routing'):require('../../../../../lib/routing'),Q=function(){var l=!1,y=null;U?U&&'undefined'!=typeof gina.forms&&(y=gina.forms):y=getContext('gina').forms||null;y&&'undefined'!=typeof y.validators&&(l=!0);return l},S={errors:{},keys:{'%l':'label','%n':'name',
'%s':'size'},data:{},excluded:[],errorLabels:{is:'Condition not satisfied',isEmail:'A valid email is required',isRequired:'Cannot be left empty',isBoolean:'Must be a valid boolean',isNumber:'Must be a number: allowed values are integers or floats',isNumberLength:'Must contain %s characters',isNumberMinLength:'Should be at least %s characters',isNumberMaxLength:'Should not be more than %s characters',isInteger:'Must be an integer',isIntegerLength:'Must have %s characters',isIntegerMinLength:'Should be at least %s characters',
isIntegerMaxLength:'Should not be more than %s characters',toInteger:'Could not be converted to integer',isFloat:'Must be a proper float',isFloatException:'Float exception found: %n',toFloat:'Could not be converted to float',toFloatNAN:'Value must be a valid number',isDate:'Must be a valid Date',isString:'Must be a string',isStringLength:'Must have %s characters',isStringMinLength:'Should be at least %s characters',isStringMaxLength:'Should not be more than %s characters',isJsonWebToken:'Must be a valid JSON Web Token',
query:'Must be a valid response',isApiError:'Condition not satisfied'}},r=null;if(B)r=N(JSON.clone(B),r),S.data=N(JSON.clone(B),S.data);else throw Error('missing data param');var G=function(l,y){var z=null;for(let F in ma)if(ma[F].name===y){z=(new DOMParser).parseFromString(l.innerHTML,'text/html').getElementById(ma[F].id);break}if(z)return z;throw Error('Field `'+y+'` not found in fieldsSet');},w=function(l){var y;var z='';var F=l.length;for(y=0;y<F;){var u=l[y++];switch(u>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:z+=
String.fromCharCode(u);break;case 12:case 13:var v=l[y++];z+=String.fromCharCode((u&31)<<6|v&63);break;case 14:v=l[y++];var H=l[y++];z+=String.fromCharCode((u&15)<<12|(v&63)<<6|(H&63)<<0)}}return z},va=function(l,y){y=l.match(/\{\{([^{{}}]+)\}\}/g);for(let z=0,F=y.length;z<F;z++){let u=y[z].replace(/\[/g,'["').replace(/\]/g,'"]').replace(/\{|\}/g,'').trim();try{u=eval('data.'+u).replace(/^"|"$/g,''),l=l.replace(new RegExp(y[z].replace(/\{|\[|\]|\}/g,'\\$&'),'g'),u)}catch(v){}}return l},Aa=function(l,
y){var z=r[this.name].errors||{},F=this.target.id||this.target.getAttribute('id');if(r.isValid()){var u=this.target.dataset.ginaFormValidatorTestedValue;console.debug('[ '+this.name+' ]','TESTED VALUE -> '+this.value+' vs '+u);F='asyncCompleted.'+F;var v=this.target.form.getAttribute('id'),H='undefined'!=typeof gina.validator&&'undefined'!=typeof gina.validator.$forms[v]&&'undefined'!=typeof gina.validator.$forms[v].cachedErrors?gina.validator.$forms[v].cachedErrors:null;if(!u||'undefined'==typeof u||
u!==this.value)this.target.dataset.ginaFormValidatorTestedValue=this.value,H&&'undefined'!=typeof H[this.name]&&'undefined'!=typeof H[this.name].query&&(delete H[this.name].query,'undefined'!=typeof gina.validator.$forms[v]&&'undefined'!=typeof gina.validator.$forms[v].errors&&delete gina.validator.$forms[v].errors.query);else if(u===this.value){var K=!1;H&&'undefined'!=typeof H[this.name]&&'undefined'!=typeof H[this.name].query&&'undefined'!=typeof H[this.name].query[this.value]&&(this.error=y=H[this.name].query[this.value].slice(0),
K=!0);z.query=D(this.error||y||S.errorLabels.query,this);console.debug('[2] potential cached error detected !! ',K,H,' vs ',z.query);K&&(this.errors=z,this.valid=!1);'undefined'!=typeof gina.events[F]&&triggerEvent(gina,this.target,F,r[this.name]);return r[this.name]}var T=null,qa=this;if(window.XMLHttpRequest)T=new XMLHttpRequest;else if(window.ActiveXObject)try{T=new ActiveXObject('Msxml2.XMLHTTP')}catch(xa){try{T=new ActiveXObject('Microsoft.XMLHTTP')}catch(la){}}y={isSynchrone:!1,headers:{}};
u=l.data||null;z=null;F=/^true$/i.test(this.target.form.dataset.ginaFormLiveCheckEnabled)?!0:!1;z=JSON.stringify(u);if(/\$/.test(z)){u=z.match(/\$[-_\[\]a-z 0-9]+/g)||[];v=H=null;for(let xa=0,la=u.length;xa<la;xa++)v=u[xa].replace(/\$/g,''),re=new RegExp('\\'+u[xa].replace(/\[|\]/g,'\\$&'),'g'),H=S.data[v]||null,!H&&F&&(H=G(this.target.form,v).value),z=z.replace(re,H)}u=z.replace(/\\"/g,'');var Fa='undefined'==typeof l.validIf?!0:l.validIf;y=N(y,l,V);delete y.data;delete y.validIf;z=y.headers['Content-Type'];
var W=null;F=this.target.getAttribute('id');if(!/^http/.test(y.url)&&/@/.test(y.url))try{K=ba.getRoute(y.url),y.url=K.toUrl()}catch(xa){throw xa;}if(y.withCredentials){if('withCredentials'in T)y.isSynchrone?T.open(y.method,y.url,y.isSynchrone):T.open(y.method,y.url);else if('undefined'!=typeof XDomainRequest)T=new XDomainRequest,T.open(y.method,y.url);else throw T=null,W='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ',Error(W);T.responseType='undefined'!=
typeof y.responseType?y.responseType:'';T.withCredentials=!0}else y.isSynchrone?T.open(y.method,y.url,y.isSynchrone):T.open(y.method,y.url);for(var ka in y.headers)'Content-Type'==ka&&'undefined'!=typeof z&&null!=z&&''!=z||T.setRequestHeader(ka,y.headers[ka]);'undefined'!=typeof z&&null!=z&&''!=z&&T.setRequestHeader('Content-Type',z);var ha=function(xa){qa.value=S.data[qa.name]=qa.value?qa.value.toLowerCase():qa.value;var la=xa.isValid||!1;la=Fa!=la?!1:!0;r[qa.name].valid=la;var ta=r[qa.name].errors||
{},Da='undefined'!=typeof xa.error&&'undefined'!=typeof xa.fields?xa.fields:{};if(0<Da.count()&&!la||!la){if(!la){var Qa=null;'undefined'!=typeof Da[qa.name]?S.errorLabels.query=va(Da[qa.name],l.data):'undefined'!=typeof xa.error&&/^5/.test(xa.status)&&(Qa=xa.error);Da='undefined'!=typeof l.error?l.error:null;ta.query=D(Qa||qa.error||Da||S.errorLabels.query,qa);console.debug('[1] query error detected !! ',xa)}ta.query||''!=qa.value||(la=!0)}la&&'undefined'!=typeof ta.query&&delete ta.query;qa.valid=
la;xa=gina.validator.$forms[qa.target.form.getAttribute('id')].cachedErrors||{};0<ta.count()?(qa.errors=ta,'undefined'==typeof r[qa.name].errors&&(r[qa.name].errors={}),r[qa.name].errors=N(r[qa.name].errors,ta),'undefined'!=typeof ta.query&&ta.query&&('undefined'==typeof xa[qa.name]&&(xa[qa.name]={}),'undefined'==typeof xa[qa.name].query&&(xa[qa.name].query={}),xa[qa.name].query[qa.value]=ta.query.slice(0)),ta=qa.target.getAttribute('data-gina-form-errors'),/query/.test(ta)||qa.target.setAttribute('data-gina-form-errors',
ta&&''!=ta?ta+' query':'query')):'undefined'!=typeof xa[qa.name]&&'undefined'!=typeof xa[qa.name].query&&'undefined'!=typeof xa[qa.name].query[qa.value]&&delete xa[qa.name].query[qa.value];ta=qa.target.id||qa.target.getAttribute('id');console.debug('prematurely completed event `asyncCompleted.'+ta+'`');return triggerEvent(gina,qa.target,'asyncCompleted.'+ta,r[qa.name])};T&&(T.onerror=function(xa,la){console.debug('query error [2] detected !! ',la,'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.');
isOnException=!0;xa=this.getResponseHeader('Content-Type');if(/\/json/.test(xa))xa=JSON.parse(this.responseText),'undefined'==typeof xa.status&&(xa.status=this.status);else if(xa={status:T.status,message:''},/^(\{|\[)/.test(T.responseText))try{xa=N(xa,JSON.parse(T.responseText))}catch(ta){xa=N(xa,ta)}return ha(xa)},T.onload=function(){try{W=this.responseText;var xa=this.getResponseHeader('Content-Type');if(/\/json/.test(xa))W=JSON.parse(this.responseText),'undefined'==typeof W.status&&(W.status=this.status);
else if(W={status:T.status,message:''},/^(\{|\[)/.test(T.responseText))try{W=N(W,JSON.parse(T.responseText))}catch(la){W=N(W,la)}return ha(W)}catch(la){throw la;}},B?T.send(u):T.send())}else console.debug('stopping on errors ...'),triggerEvent(gina,this.target,'asyncCompleted.'+F,r[this.name])},I=async function(l,y,z,F){var u=(new (require(_(GINA_FRAMEWORK_DIR+'/core/config.js',!0)))).getInstance(),v=null,H=null,K=null,T=getContext('bundle');if(/@/.test(l.url)){var qa=l.url.split(/@/);H=qa[0];K=qa[1];
getConfig(T,'app');try{u.bundle!==K&&(v=getConfig(T,'app').proxy[K])}catch(ha){throw Error('Could not retrieve `proxy` configuration for bundle `'+K+'`. Please check your `/config/app.json`.\n'+ha.stack);}qa=null}else throw Error('external url/domain not  handled at this moment, please contact us if you need support for it.');qa=JSON.clone(ba.getRoute(l.url,l.data));var Fa=u[K][u.env];v||(u.bundle==K&&(v=getConfig(T,'settings').server.credentials,l.ca=v.ca||null,l.hostname=Fa.server.scheme+'://'+
Fa.host,l.port=Fa.port[Fa.server.protocol][Fa.server.scheme],l.protocol=Fa.server.protocol,l.rejectUnauthorized=!1),v={ca:l.ca,hostname:l.hostname,port:l.port,path:l.path},'undefined'!=typeof l.protocol&&(v.protocol=l.protocol),'undefined'!=typeof l.rejectUnauthorized&&(v.rejectUnauthorized=l.rejectUnauthorized));H={method:qa.method,requirements:qa.requirements,namespace:qa.namespace||void 0,url:decodeURI(qa.url),rule:H+'@'+K,param:JSON.clone(qa.param),middleware:JSON.clone(qa.middleware),bundle:qa.bundle,
isXMLRequest:y.isXMLRequest,isWithCredentials:y.isWithCredentials};K=H.rule.replace('@'+K,'')||'_common';K={template:'undefined'!=typeof Fa.content.templates?Fa.content.templates[K]||Fa.content.templates._common:void 0,cacheless:Fa.cacheless};K=N(K,H);Fa=JSON.clone(Fa);K.conf=Fa;K.conf.content.routing[K.rule].param=H.param;K.template&&'undefined'==typeof K.template.ginaLoader&&(K.template.ginaLoader=K.conf.content.templates._common.ginaLoader);K.conf.content.routing[K.rule].param=H.param;delete K.middleware;
delete K.param;delete K.requirements;Fa=new (require(_(GINA_FRAMEWORK_DIR+'/core/controller/controller.js'),!0))(K);Fa.name=qa.param.control;Fa.setOptions(y,z,F,K);y='object'==typeof l.data&&0<l.data.count()?l.data:{};if(/^get|delete|put$/i.test(l.method)){z=0;for(let ha in y)'object'==typeof y[ha]&&encodeRFC5987ValueChars(JSON.stringify(y[ha])),z++}v.method=l.method;v.path=qa.url;l=require('util').promisify;var W={isValid:!1},ka=!1;await l(Fa.query)(v,y).then(function(ha){W=ha}).catch(function(ha){ka=
ha});ka&&(console.error(ka),W.error=ka);return W},O=null;O=U?Aa:I;var A=function(l,y){var z=null,F=null;'undefined'==typeof r[l]&&'undefined'!=typeof y&&(r[l]=z=y);if('object'==typeof r[l])try{z=JSON.parse(JSON.stringify(r[l]))}catch(u){z=r[l]}else z=r[l];F='';U&&'undefined'!=typeof P&&(F=P[l].getAttribute('data-gina-form-field-label')||'');r[l]={target:U&&'undefined'!=typeof P?P[l]:null,name:l,value:z,valid:!1,label:F,exclude:!1};r[l].is=function(u,v,H){var K=!1,T='undefined'!=typeof window&&'undefined'!=
typeof window._currentValidatorAlias?window._currentValidatorAlias:'is';'undefined'!=typeof window&&window._currentValidatorAlias&&delete window._currentValidatorAlias;var qa=r[this.name].errors||{};S.data[this.name]=r[this.name].value;'undefined'==typeof qa.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value||!qa.isRequired&&''==this.value&&!/^false$/i.test(this.value)&&0!=this.value?K=!0:qa.isRequired||'string'!=typeof this.value||''!=this.value||(K=!0);if(!K&&/^(true|false)$/i.test(u))K=
u;else if(!K){var Fa=null,W=null;if(/[!=>><a-z 0-9]+/i.test(u)){if((W=u.match(/\${0}[-_,.\[\]a-z0-9]+/ig))&&0<W.length){for(var ka=0,ha=W.length;ka<ha;++ka)'undefined'!=typeof r[W[ka]]&&W[ka]&&(Fa=new RegExp('\\$'+W[ka]+'(?!\\S+)','g'),u=''==r[W[ka]].value?u.replace(Fa,'""'):'string'==typeof r[W[ka]].value?u.replace(Fa,'"'+r[W[ka]].value+'"'):u.replace(Fa,r[W[ka]].value));try{u=u.replace(/(\(|\)|return)/g,''),K=/^\//.test(u)?eval(u+'.test("'+this.value+'")'):eval(u)}catch(xa){throw Error(xa.stack||
xa.message);}}}else if(u instanceof RegExp)K=u.test(this.value)?!0:!1;else if('boolean'==typeof u)K=u?!0:!1;else try{/\/(.*)\//.test(u)?(Fa=u.match(/\/(.*)\//).pop(),W=u.replace('/'+Fa+'/',''),K=(new RegExp(Fa,W)).test(this.value)):K=eval(u)}catch(xa){throw Error(xa.stack||xa.message);}}K?K&&'undefined'!=typeof qa[T]&&delete qa[T]:(qa[T]=D(this.error||v||S.errorLabels[T],this),'undefined'!=typeof H&&(qa.stack=H));this.valid=K;0<qa.count()&&(this.errors=qa);return r[this.name]};r[l].set=function(u){this.value=
S.data[this.name]=u;this.target.setAttribute('value',u);return r[this.name]};r[l].isEmail=function(){this.value=S.data[this.name]=this.value?this.value.toLowerCase():this.value;U&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var u=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.value)?!0:!1,v=r[this.name].errors||{};v.isRequired||
''!=this.value||(u=!0);u?u&&'undefined'!=typeof v.isEmail&&delete v.isEmail:v.isEmail=D(this.error||S.errorLabels.isEmail,this);this.valid=u;0<v.count()&&(this.errors=v);return r[this.name]};r[l].isJsonWebToken=function(){this.value=S.data[this.name]=this.value?this.value.toLowerCase():this.value;U&&this.target&&''!=this.target.value&&/[A-Z]+/.test(this.target.value)&&(this.target.value=this.value);var u=/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/.test(this.value)?!0:!1,v=r[this.name].errors||
{};v.isRequired||''!=this.value||(u=!0);u?u&&'undefined'!=typeof v.isJsonWebToken&&delete v.isJsonWebToken:v.isJsonWebToken=D(this.error||S.errorLabels.isJsonWebToken,this);this.valid=u;0<v.count()&&(this.errors=v);return r[this.name]};r[l].isBoolean=function(){var u=null,v=r[this.name].errors||{};v.isRequired&&0==this.value&&(delete v.isRequired,this.errors=v);switch(this.value){case 'true':case !0:case 1:u=this.value=S.data[this.name]=!0;break;case 'false':case !1:case 0:u=this.value=S.data[this.name]=
!1}(u=null!==u?!0:!1)?u&&'undefined'!=typeof v.isBoolean&&delete v.isBoolean:v.isBoolean=D(this.error||S.errorLabels.isBoolean,this);this.valid=u;0<v.count()&&(this.errors=v);return r[this.name]};r[l].isNumber=function(u,v){var H=this.value,K=!1,T=!0,qa=!0,Fa=r[this.name].errors||{};try{'string'==typeof H&&/,|\./g.test(H)?H=S.data[this.name]=this.value=parseFloat(H.replace(/,/g,'.').replace(/\s+/g,'')):'string'==typeof H&&''!=H&&(H=S.data[this.name]=this.value=parseInt(H.replace(/\s+/g,'')))}catch(ka){Fa.isNumber=
D(this.error||S.errorLabels.isNumber,this),this.valid=!1,0<Fa.count()&&(this.errors=Fa)}if(+H===+H&&(K=!0,!Fa.isRequired&&''!=H)){var W=H.toString().length;u&&'number'==typeof u&&W<u&&(T=!1,this.size=u);v&&'number'==typeof v&&W>v&&(qa=!1,this.size=v)}K&&T&&qa||(K||(Fa.isNumber=D(this.error||S.errorLabels.isNumber,this)),T&&qa||(T||(Fa.isNumberLength=D(this.error||S.errorLabels.isNumberMinLength,this)),qa||(Fa.isNumberLength=D(this.error||S.errorLabels.isNumberMaxLength,this)),u===v&&(Fa.isNumberLength=
D(this.error||S.errorLabels.isNumberLength,this))),K=!1);K&&'undefined'!=typeof Fa.isNumberLength&&delete Fa.isNumberLength;this.valid=K;this.value=S.data[this.name]=''!=H?Number(H):H;0<Fa.count()&&(this.errors=Fa);return r[this.name]};r[l].toInteger=function(){var u=this.value,v=r[this.name].errors||{};if(u)try{this.value=S.data[this.name]=Math.round(u)}catch(H){v.toInteger=D(this.error||S.errorLabels.toInteger,this),this.valid=!1,0<v.count()&&(this.errors=v)}return r[this.name]};r[l].isInteger=
function(u,v){var H=this.value,K=!1,T=!0,qa=!0,Fa=r[this.name].errors||{};+H===+H&&0===H%1&&(K=!0,Fa.isRequired||''==H||(u&&'number'==typeof u&&H.length<u&&(T=!1,this.size=u),v&&'number'==typeof v&&H.length>v&&(qa=!1,this.size=v)));K&&T&&qa||(K||(Fa.isInteger=D(this.error||S.errorLabels.isInteger,this)),T&&qa||(T||(Fa.isIntegerLength=D(this.error||S.errorLabels.isIntegerMinLength,this),K=!1),qa||(Fa.isIntegerLength=D(this.error||S.errorLabels.isIntegerMaxLength,this),K=!1),u===v&&(Fa.isIntegerLength=
D(this.error||S.errorLabels.isIntegerLength,this),K=!1)));this.valid=K;this.value=S.data[this.name]=Number(H);0<Fa.count()&&(this.errors=Fa);return r[this.name]};r[l].toFloat=function(u){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''),/,/.test(this.value)&&!/\./.test(this.value)?this.value=this.value.replace(/,/g,'.'):this.value=this.value.replace(/,/g,''));var v=S.data[this.name]=this.value,H=r[this.name].errors||{},K=!0;u?this.decimals=parseInt(u):'undefined'==typeof this.decimals&&
(this.decimals=2);if(v)if(this.isNumber().valid)try{Number.isFinite(v)||(v=this.value=S.data[this.name]=new Number(parseFloat(v.match(/[0-9.,]+/g).join('').replace(/,/,'.')))),U&&this.target.setAttribute('value',v)}catch(T){K=!1,H.toFloat=D(this.error||S.errorLabels.toFloat,this),this.valid=!1,0<H.count()&&(this.errors=H)}else K=!1,H.toFloat=D(this.error||S.errorLabels.toFloatNAN,this);else return r[this.name];this.decimals&&v&&!H.toFloat&&(this.value=S.data[this.name]=parseFloat(this.value.toFixed(this.decimals)));
this.valid=K;0<H.count()&&(this.errors=H);return r[this.name]};r[l].isFloat=function(u){'string'==typeof this.value&&(this.value=this.value.replace(/\s+/g,''));var v=S.data[this.name]=this.value;u=r[this.name].errors||{};'string'==typeof v&&/\./.test(v)&&Number.isFinite(Number(v));'string'==typeof v&&/,/g.test(v)&&(v=this.value=S.data[this.name]=Number(v.replace(/,/g,'.')));Number(v)===v&&0!==v%1?(this.value=S.data[this.name]=Number(v),v=!0):v=!1;u.isRequired||''!=this.value||(v=!0);v||(u.isFloat=
D(this.error||S.errorLabels.isFloat,this));this.valid=v;0<u.count()&&(this.errors=u);return r[this.name]};r[l].isRequired=function(u){if('boolean'==typeof u&&!u)return this.valid=!0,u=S.excluded.indexOf(this.name),-1<u&&S.excluded.splice(u,1),r[this.name];if(U&&this.target&&'INPUT'==this.target.tagName&&'undefined'!=typeof this.target.type&&'radio'==this.target.type){u=document.getElementsByName(this.name);for(var v=0,H=u.length;v<H;++v)if(u[v].checked){/true|false/.test(u[v].value)?this.value=S.data[this.name]=
/true/.test(u[v].value)?!0:!1:this.value=S.data[this.name]=u[v].value;this.valid=!0;break}}u='undefined'==typeof this.value||null==this.value||''==this.value||/^\s+/.test(this.value)?!1:!0;v=r[this.name].errors||{};u?u&&'undefined'!=typeof v.isRequired&&delete v.isRequired:v.isRequired=D(this.error||S.errorLabels.isRequired,this);this.valid=u;0<v.count()&&(this.errors=v);return r[this.name]};r[l].isString=function(u,v){var H=S.data[this.name]=this.value,K=!1,T=!0,qa=!0,Fa=r[this.name].errors||{};
'string'!=typeof H||Fa.isRequired||''==H||(K=!0,u&&'number'==typeof u&&H.length<u&&(T=!1,this.size=u),v&&'number'==typeof v&&H.length>v&&(qa=!1,this.size=v));K&&T&&qa||(!K&&Fa.isRequired&&''==H?(K=!1,Fa.isString=D(this.error||S.errorLabels.isString,this)):K||Fa.isRequired||(K=!0),T&&qa||(K=!1,T||(Fa.isStringLength=D(this.error||S.errorLabels.isStringMinLength,this)),qa||(Fa.isStringLength=D(this.error||S.errorLabels.isStringMaxLength,this)),u===v&&(Fa.isStringLength=D(this.error||S.errorLabels.isStringLength,
this))));this.valid=K;0<Fa.count()&&(this.errors=Fa);return r[this.name]};r[l].isDate=function(u){var v=this.value,H=!1,K=r[this.name].errors||{},T=null;if(!v||''==v||/NaN|Invalid Date/i.test(v))return/NaN|Invalid Date/i.test(v)&&(console.warn('[FormValidator::isDate] Provided value for field `'+this.name+'` is not allowed: `'+v+'`'),K.isDate=D(this.error||S.errorLabels.isDate,this)),this.valid=H,0<K.count()&&(this.errors=K),r[this.name];if('undefined'==typeof u||'undefined'!=typeof u&&/true/i.test(u))u=
'yyyy-mm-dd';if(v instanceof Date)v=v.format(u);else{try{T=u.match(/[^\/\- ]+/g)}catch(ha){throw Error('[FormValidator::isDate] Provided mask not allowed: `'+u+'`');}try{v=v.match(/[^\/\- ]+/g);var qa={},Fa;var W=0;for(Fa=T.length;W<Fa;++W)qa[T[W]]=v[W];for(var ka in qa)u=u.replace(new RegExp(ka,'g'),qa[ka])}catch(ha){throw Error('[FormValidator::isDate] Provided value not allowed: `'+v+'`'+ha);}v=this.value=S.data[this.name]=new Date(u);if(/Invalid Date/i.test(v)||!1===v instanceof Date)return K.isRequired||
''!=this.value?K.isDate=D(this.error||S.errorLabels.isDate,this):H=!0,this.valid=H,0<K.count()&&(this.errors=K),r[this.name];H=!0}this.valid=H;return v};r[l].format=function(u,v){var H=this.value;return H?H.format(u,v):r[this.name]};r[l].setFlash=function(u,v){'undefined'!=typeof v&&''!=v&&(this.error=v);return r[this.name]};r[l].setLabel=function(u){'undefined'!=typeof u&&''!=u&&(this.label=u);return r[this.name]};r[l].trim=function(u){if('boolean'==typeof u&&u)return this.value=this.value.replace(/^\s+|\s+$/,
''),S.data[this.name]=S.data[this.name]=this.value,r[this.name]};r[l].exclude=function(u){if('boolean'==typeof u&&!u)return/^true|false$/i.test(this.value)&&(this.value=/^true$/i.test(this.value)?!0:!1,S.data[this.name]=this.value),r[this.name];this.isExcluded=!1;0>S.excluded.indexOf(this.name)&&(S.excluded.push(this.name),this.isExcluded=!0);return r[this.name]};r[l].query=O;r[l].getValidationContext=function(){return{isGFFCtx:U,self:r,local:S,replace:D}};if(Q()){z=y=null;try{for(let u in gina.forms.validators)z=
'/validators/'+u+'/main.js',S.errorLabels[u]='Condition not satisfied',U?(y=w(gina.forms.validators[u].data),y=y.replace(/(\)\s+\{|\)\{){1}/,'$&\n\tvar validationContext = this.getValidationContext(),isGFFCtx = validationContext.isGFFCtx,self = validationContext.self,local = validationContext.local,replace = validationContext.replace;')):y=gina.forms.validators[u].toString(),r[l][u]=eval('('+y+')\n//# sourceURL='+u+'.js')}catch(u){throw Error('[UserFormValidator] Could not evaluate: `'+z+'`\n'+u.stack);
}}};for(let l in r)A(l,r[l]);r.addField=function(l,y){'undefined'==typeof r[l]&&A(l,y)};r.isValid=function(){return 0<r.getErrors().count()?!1:!0};r.setErrors=function(l){if(!l)return{};for(var y in r)if('object'==typeof r[y]){for(var z in r[y])'object'==typeof l[y]&&'undefined'!=typeof l[y][z]&&('undefined'!=typeof r[y].valid&&/^true$/i.test(r[y].valid)?delete l[y][z]:('undefined'==typeof r[y].errors&&(r[y].errors={}),r[y].errors[z]=l[y][z]));('undefined'==typeof r[y].errors&&'undefined'!=typeof l[y]||
'undefined'!=typeof r[y].errors&&0==r[y].errors.count()&&'undefined'!=typeof l[y])&&delete l[y]}return l};r.getErrors=function(l){var y={};if('undefined'!=typeof l)return'undefined'!=typeof r[l]&&r[l]&&'undefined'!=typeof r[l].errors&&0<r[l].errors.count()&&(y[l]=r[l].errors),y;for(var z in r)'object'==typeof r[z]&&'undefined'!=typeof r[z].errors&&0<r[z].errors.count()&&(y[z]=r[z].errors);return y};r.toData=function(){if(0<S.excluded.length)for(var l=0,y=S.excluded.length;l<y;++l)'undefined'!=typeof S.data[S.excluded[l]]&&
delete S.data[S.excluded[l]];return S.data};var D=function(l,y){var z=l.match(/%[a-z]+/gi);if(z)for(var F=0,u=z.length;F<u;++F)l=l.replace(new RegExp(z[F],'g'),y[S.keys[z[F]]]);return l};r.setErrorLabels=function(l){'undefined'!=typeof l&&(S.errorLabels=N(l,S.errorLabels))};return r}'undefined'!==typeof module&&module.exports?module.exports=FormValidatorUtil:'function'===typeof define&&define.amd&&define('lib/form-validator',[],function(){return FormValidatorUtil});
function Routing(){var B='undefined'!==typeof module&&module.exports?!1:!0,P={allowedMethods:['get','post','put','delete'],reservedParams:['controle','file','title','namespace','path'],notFound:{}};P.allowedMethodsString=P.allowedMethods.join(',');var V=null,ma=null,U=null;B?(ma&&'function'==typeof ma||(ma=require('lib/merge')),U&&'function'==typeof U||(U=require('lib/form-validator'))):(require('fs'),require('util'),require('../../inherits'),ma=require('../../merge'),V=require(__dirname+'/../../../core/plugins')||
getContext('gina').plugins,U=V.Validator);P.getUrlProps=function(r,G){var w={};if(B){var va=window.gina.config;w.hostname=va.hostname;'undefined'!=typeof r&&(r=this.getRoute('webroot@'+r),w.hostname=r.hostname,w.host=r.host,w.webroot=r.webroot)}else va=getContext('gina').config,'undefined'!=typeof getContext('argvFilename')&&(va.getRouting=getContext('gina').Config.instance.getRouting),'undefined'==typeof r&&(r=va.bundle),'undefined'==typeof G&&(G=va.env),w.hostname=va.envConf[r][G].hostname,w.host=
va.envConf[r][G].host,w.webroot=va.envConf[r][G].server.webroot;return w};P.compareUrls=async function(r,G,w,va,Aa){'undefined'==typeof w&&(w={routing:{}});if(/,/.test(G)){var I=0;G=G.split(/,/g);for(var O=G.length,A={past:!1,request:w};I<O&&!A.past;)A=await N(r,G[I],w,va,Aa),++I;return A}return await N(r,G,w,va,Aa)};var N=async function(r,G,w,va,Aa){var I=null;try{I=r.url.split(/\//)}catch(T){console.warn(T),I=['']}G=G.split(/\//);var O=0,A=0,D=G.length,l=0,y={},z=0,F=w.method.toLowerCase(),u='get';
try{u=r.method.toLowerCase()}catch(T){}var v=!1;if('undefined'!=typeof r.requirements&&/get|delete/i.test(F)&&'undefined'!=typeof w[F]||'undefined'!=typeof r.requirements&&/get/i.test(F)&&/delete/i.test(u)){/get/i.test(F)&&/delete/i.test(u)&&(F=u);if(/^(delete)$/i.test(F)&&I.length===G.length){'undefined'==typeof w[F]&&(w[F]={});for(let T=0,qa=G.length;T<qa;T++)if(I[T]===G[T])++l;else if(u=G[T].substr(1),'undefined'!=typeof r.requirements[u]){u=r.requirements[u];if(/^\//.test(u))u=u.substr(1,u.lastIndexOf('/')-
1);else if(/^validator::/.test(u)&&await ba(G[T],I[T],r,w,va,Aa)){++l;continue}/^:/.test(G[T])&&'undefined'!=typeof u&&(new RegExp(u)).test(I[T])&&(++l,w[F][G[T].substr(1)]=I[T])}v=!0}for(var H in w[F])'undefined'!=typeof r.requirements[H]&&0>G.indexOf(':'+H)&&(G[A]=':'+H,++A,I[O]=w[F][H],++O,v||I.length!==G.length||++D)}if(!v&&I.length===G.length)for(;z<D;++z)I[z]===G[z]?++l:l==z&&/:/.test(G[z])&&await ba(G[z],I[z],r,w,va,Aa)&&++l;if('undefined'!=typeof r.requirements&&F==r.method.toLowerCase()&&
!v&&l>=D)for(H=Object.getOwnPropertyNames(r.requirements),O=0,G.join(',').match(/:[-_a-z0-9]+/g);O<H.length;){A=H[O];if('undefined'==typeof r.param[A]&&/^validator::/i.test(r.requirements[A])){if(G.length!=I.length)break;var K=G.join(',').match(/:[-_a-z0-9]+/g);let T=r.requirements[A];z={};u={};v={};try{u=JSON.parse(T.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(qa){throw qa;}if('undefined'!=typeof u.query&&'undefined'!=typeof u.query.data){z=
u.query.data;for(let qa in z)0>K.indexOf(z[qa])&&delete z[qa];for(let qa=0,Fa=G.length;qa<Fa;qa++)/^:/.test(G[qa])&&(K=G[qa].replace(/^:/,''),''!=K&&'undefined'!=typeof I[qa]&&(z[K]=I[qa],'undefined'==typeof w.params[K]&&(w.params[K]=I[qa])))}z=ma(z,JSON.clone(w[F])||{});'undefined'==typeof z[A]&&(z[A]=null);v[A]=u;_validator=B?new U(z):new U('routing',z,null,v);if(0==u.count()){console.error('Route validation failed '+r.rule);--l;O++;continue}for(let qa in u)if('undefined'!=typeof u[qa].data&&(u[qa].data=
z),v=Array.isArray(u[qa])?await _validator[A][qa].apply(_validator[A],u[qa]):await _validator[A][qa](u[qa],w,va,Aa),!v.isValid&&(--l,'undefined'!=typeof v.error))throw v.error;}O++}y.past=l===D?!0:!1;y.past&&(w.routing=S(r,w[F]),y.request=w);return y},ba=async function(r,G,w,va,Aa,I){var O=-1,A=r.match(/:\w+/g);O=new RegExp(r,'g');var D=null,l=null,y=null;D=!1;var z=D=l=l=null,F=null,u=va.method.toLowerCase();if(!A.length)return!1;w.param.path&&O.test(w.param.path)&&(w.param.path=w.param.path.replace(O,
G));w.param.namespace&&O.test(w.param.namespace)&&(w.param.namespace=w.param.namespace.replace(O,G));'undefined'!=typeof w.param.file&&/:/.test(w.param.file)&&(D=new RegExp('(:'+r+'/|:'+r+'$)','g'),Q.variable=G,w.param.file=w.param.file.replace(D,Q),D=null);w.param.title&&O.test(w.param.title)&&(w.param.title=w.param.title.replace(O,G));if(1==A.length){D=new RegExp(A[0]);O=-1<A.indexOf(r)?A.indexOf(r):!1;!1===O&&r.match(D)&&(O=0);if(!1===O)return O;if(w.method.toLowerCase()!==u)return!1;'undefined'==
typeof va[u]&&(va[u]={});y=A[O].substr(1);O=w.requirements[y];if(/^\//.test(O))D=O.match(/\/(.*)\//).pop(),l=O.replace('/'+D+'/',''),D=(new RegExp(D,l)).test(G);else if(/^validator::/.test(O)&&G){l={};D={};z={};F='';r.replace(new RegExp('[^'+y+']','g'),function(qa){F+=qa});l[y]=G.replace(new RegExp(F,'g'),'');try{D=JSON.parse(O.split(/::/).splice(1)[0].replace(/([^:"\s+](\w+)):/g,'"$1":').replace(/([^:"\s+](\w+))\s+:/g,'"$1":'))}catch(qa){throw qa;}'undefined'!=typeof D.query&&'undefined'!=typeof D.query.data&&
r==D.query.data[Object.keys(D.query.data)[0]]&&(D.query.data[Object.keys(D.query.data)[0]]=l[y],va.params[y]=l[y]);z[y]=D;l=new U('routing',l,null,z);if(0==D.count())return console.error('Route validation failed '+w.rule),!1;for(var v in D)Array.isArray(D[v])?await l[y][v].apply(l[y],D[v]):await l[y][v](D[v],va,Aa,I);D=l.isValid()}else D=(new RegExp(w.requirements[y])).test(G);if('undefined'!=typeof w.param[y]&&'undefined'!=typeof w.requirements&&'undefined'!=typeof w.requirements[y]&&'undefined'!=
typeof va.params&&D)return va.params[y]=G,'undefined'==typeof va[u][y]&&(va[u][y]=G),!0}else{Aa=w.url;I=va.url;u={};z='';var H=!1,K=0;v=0;for(var T=I.length;v<T;++v)if(I.charAt(v)!=Aa.charAt(K)||H){if(''==z)H=!0,z+=I.charAt(v);else if(v>Aa.indexOf(A[0])+A[0].length){O=w.requirements[A[0]];G=z.substr(0,z.length);if(/^\//.test(O))D=O.match(/\/(.*)\//).pop(),l=O.replace('/'+D+'/',''),D=(new RegExp(D,l)).test(G);else if(/^validator::/.test(O)){l={};D={};z={};F='';r.replace(new RegExp('[^'+y[0]+']','g'),
function(qa){F+=qa});l[y[0]]=G.replace(new RegExp(F,'g'),'');D=JSON.parse(O.split(/::/).splice(1)[0].replace(/([^\W+ true false])+(\w+)/g,'"$&"'));z[y[0]]=D;l=new U('routing',l,null,z);for(let qa in D)if(Array.isArray(D[qa]))l[y[0]][qa].apply(l[y[0]],D[qa]);else l[y[0]][qa](D[qa]);D=l.isValid()}else D=(new RegExp(w.requirements[y[0]])).test(G);if(D)u[A[0].substr(1)]=G;else return!1;z='';H=!1;K=Aa.indexOf(A[0])+A[0].length;--v;A.splice(0,1)}else z+=I.charAt(v),++K;if(v==T-1)if(O=w.requirements[A[0]],
G=z.substr(0,z.length),/^\//.test(O)?(D=O.match(/\/(.*)\//).pop(),l=O.replace('/'+D+'/',''),D=(new RegExp(D,l)).test(G)):D=(new RegExp(w.requirements[y])).test(G),D)u[A[0].substr(1)]=G;else return!1}else++K;if(u.count()==A.length){y=null;for(y in u)va.params[y]=u[y];return!0}}return!1},Q=function(r){return/\/$/.test(r)?Q.variable+'/':Q.variable},S=function(r,G){var w=null,va,Aa=r.url,I=null;for(I in r.param)if(('undefined'==typeof G||'undefined'!=typeof G[I])&&/^:/.test(r.param[I])){var O=r.param[I].substr(1);
if('undefined'!=typeof G&&'undefined'!=typeof G[O]){var A=new RegExp('(:'+O+'/|:'+O+'$)','g');'undefined'!=typeof r.param.path&&/:/.test(r.param.path)&&(r.param.path=r.param.path.replace(A,G[O]));'undefined'!=typeof r.param.title&&/:/.test(r.param.title)&&(r.param.title=r.param.title.replace(A,G[O]));'undefined'!=typeof r.param.namespace&&/:/.test(r.param.namespace)&&(r.param.namespace=r.param.namespace.replace(A,G[O]));'undefined'!=typeof r.param.file&&/:/.test(r.param.file)&&(Q.variable=G[O],r.param.file=
r.param.file.replace(A,Q));if(/,/.test(r.url)){w=r.url.split(/,/g);var D=0;for(va=w.length;D<va;++D)Q.variable=G[O],w[D]=w[D].replace(A,Q);r.url=w.join(',')}else Q.variable=G[O],r.url=r.url.replace(A,Q)}}if(w){D=0;va=w.length;Aa=Aa.split(/,/g);var l=0;for(r.urlIndex=0;D<va;++D)if(w=0,A=Aa[0].match(/:[-_a-z0-9]+/ig)){I=0;for(O=A.length;I<O;I++){var y=A[I].substr(1);'undefined'!=typeof G[y]&&G[y]&&w++}w>l&&(l=w,r.urlIndex=D)}}return r};P.getRoute=function(r,G,w){var va=null,Aa=!1;if(B)window.location.port||
window.location.hostname!=window.gina.config.hostname.replace(/^(https|http|wss|ws):\/\//,'').replace(/:\d+$/,'')||(Aa=!0,window.gina.config.hostname=window.gina.config.hostname.replace(/^(https|http|wss|ws):\/\//,'').replace(/:\d+$/,'')),va=window.gina.config;else{var I=getContext('isProxyHost');Aa=I&&/^true$/i.test(I)?!0:'undefined'!=typeof process.env.PROXY_HOSTNAME?!0:!1;va=getContext('gina').config;'undefined'!=typeof getContext('argvFilename')&&(va.getRouting=getContext('gina').Config.instance.getRouting)}var O=
va.env||GINA_ENV;I=null;var A=va.bundle;/@/.test(r)||'undefined'==typeof A||null==A||(r=r.toLowerCase(),r+='@'+A);if(/@/.test(r)){var D=r.replace(/(.*):\/\//,'').split(/@/);A=D[1];/\/(.*)$/.test(r)&&(I=r.replace(/(.*):\/\//,'').split(/\/(.*)$/)[1],A=A.replace(/\/(.*)$/,''),O=I||O);r=D[0].toLowerCase()+'@'+A}A=va.getRouting(A,O);if('undefined'==typeof A[r])throw Error('[ RoutingHelper::getRouting(rule, params) ] : `'+r+'` not found !');I=JSON.clone(A[r]);D=null;I=S(I,G);if(I.isProxyHost=Aa)I.hostname=
B?window.location.protocol+'//'+window.gina.config.hostname:va.envConf._proxyHostname||process.env.PROXY_HOSTNAME,I.host=I.hostname.replace(/^(https|http):\/\//,'');/,/.test(I.url)&&('undefined'!=typeof I.urlIndex&&(w=I.urlIndex,delete I.urlIndex),w='undefined'!=typeof w?w:0,I.url=I.url.split(/,/g)[w]);/\/$/.test(I.url)&&'/'!=I.url&&(I.url=I.url.substr(0,I.url.length-1));if(/GET/i.test(I.method)&&'undefined'!=typeof G){w='?';va=A[r].url;Aa=[];A=0;for(let l in I.param)-1<P.reservedParams.indexOf(l)||
(new RegExp(I.param[l])).test(va)||'undefined'==typeof G[l]||(w+=l+'='+encodeRFC5987ValueChars(G[l])+'&',Aa[A]=G[l],++A);for(let l in G)-1<P.reservedParams.indexOf(l)||'undefined'!=typeof I.requirements[l]||-1<Aa.indexOf(l)||(w='object'==typeof G[l]?w+(l+'='+encodeRFC5987ValueChars(JSON.stringify(G[l]))+'&'):w+(l+'='+G[l]+'&'));A=Aa=va=null;1<w.length&&(w=w.substring(0,w.length-1),I.url+=w);w=null}I.toUrl=function(l){var y=null;/^redirect$/i.test(this.param.control)&&(y=P.getUrlProps(this.bundle,
O||GINA_ENV));var z=this.webroot||y.webroot;y=this.hostname||y.hostname;var F=this.url;this.url='undefined'!=typeof l&&/^true$/i.test(l)?F.replace(new RegExp('^'+z),'/'):F.replace(new RegExp('^('+z+'|/$)'),z);return y+this.url};I.request=function(l,y){var z=null,F=null;'function'==typeof arguments[arguments.length-1]&&(z=arguments[arguments.length-1]);'object'==typeof arguments[2]&&(F=arguments[2]);var u=this.webroot||F.webroot,v=this.hostname||F.hostname;F='undefined'!=typeof l&&1==l?path.replace(u,
'/'):this.url||F.url;v=/^https/.test(v)?'https':'http';B?window.open(F,'undefined'!=typeof y&&'undefined'!=typeof y.target?y.target:'_self'):('undefined'==typeof y.agent&&(y.agent=!1),v=require(''+v),u=function(H){var K='',T=!1;H.on('data',function(qa){K+=qa});H.on('error',function(qa){T='Failed to get mail content';qa&&'undefined'!=typeof qa.stack?T+=qa.stack:'string'==typeof qa&&(T+='\n'+qa)});H.on('end',function(){if(/^\{/.test(K))try{K=JSON.parse(K),'undefined'!=typeof K.error&&(T=JSON.clone(K),
K=null)}catch(qa){T=qa}T?z(T):z(!1,K)})},z?v.get(F,y,u):v.get(F,y))};!/:/.test(I.url)||/:d+\//.test(I.url)||/:\/\//.test(I.url)||(G=I.url.match(/(:(.*)\/|:(.*)$)/g).map(function(l){return l.replace(/\//g,'')}).join(', '),D='[ RoutingHelper::getRoute(rule[, bundle, method]) ] : route [ %r ] param placeholder not defined: `'+I.url+'` !\n Check your route description to compare requirements against param variables [ '+G+']',D=D.replace(/%r/,r),r=Error(D),console.warn(r),D=r=G=null);return I};P.getRouteByUrl=
function(r,G,w,va,Aa){2==arguments.length&&'undefined'!=typeof arguments[1]&&arguments[1]&&-1<P.allowedMethods.indexOf(arguments[1].toLowerCase())&&(w=arguments[1],G=void 0);var I=null,O=null,A=null,D=null,l=null,y=null;if(/#/.test(r)&&1<r.length){var z=r.split(/#/);r=z[0];l='#'+z[1];z=null}1==arguments.length&&'undefined'!=typeof arguments[0]&&(/^(https|http)/i.test(r)||/^\//.test(r)||(r='/'+r),I='/'+r.split(/\//g)[1],B&&(D=gina.config.reverseRouting,A=gina.config.routing),'undefined'!=typeof D[I]&&
(z=A[D[I]],G=z.bundle,I=z.webroot,y=z.hostname,z=null));Aa='boolean'!=typeof arguments[arguments.length-1]?!1:arguments[arguments.length-1];var F=!1,u=null,v=null,H=u=v=null;z='undefined'!=typeof w?!0:!1;B?(u=window.gina.config,G='undefined'!=typeof G?G:u.bundle,v=u.env,A=A||u.getRouting(G),D=D||u.reverseRouting,isXMLRequest='undefined'!=typeof isXMLRequest?isXMLRequest:!1,y=y||u.hostname,I=I||u.webroot,va={routing:{},method:w,params:{},url:r},G&&(va.bundle=G)):(u=getContext('gina').config,G='undefined'!=
typeof G?G:u.bundle,v=u.env,A=u.getRouting(G),y=u.envConf[G][v].hostname,I=u.envConf[G][v].server.webroot,va||={routing:{},isXMLRequest:!1,method:'undefined'!=typeof w?w.toLowerCase():'get',params:{},url:r},Aa&&(va.method=w),isXMLRequest=va.isXMLRequest||!1);v=r.replace(new RegExp('^('+y+'|'+y.replace(/:\d+/,'')+')'),'');'undefined'==typeof va.routing.path&&(va.routing.path=decodeURI(v));w='undefined'!=typeof w?w.toLowerCase():'get';z&&(va.originalMethod=va.method,va.method=w,va.routing.path=decodeURI(v));
va.method||(va.method=w);u={};I=new RegExp(w,'i');D=null;var K;for(K in A){if('undefined'==typeof A[K].param)break;if(A[K].bundle==G&&(D=A[K].method,/,/.test(D)&&I.test(D)&&(D=va.method),'undefined'==typeof A[K].method||I.test(D))){u={method:D,requirements:A[K].requirements,namespace:A[K].namespace||void 0,url:decodeURI(v),rule:A[K].originalRule||K,param:A[K].param,middleware:JSON.clone(A[K].middleware),bundle:A[K].bundle,isXMLRequest};try{if(H=P.compareUrls(u,A[K].url,va),H.past){O=JSON.clone(A[K]);
O.name=K;F=!0;H={};break}}catch(T){throw Error('Route [ '+K+' ] needs your attention.\n'+T.stack);}}}if(F)return/\/$/.test(r)&&'/'!=r&&(r=r.substr(0,r.length-1)),l&&(r+=l),O.url=r,O.toUrl=function(T){var qa=this.webroot,Fa=this.hostname,W=this.url;this.url='undefined'!=typeof T&&1==T?W.replace(qa,'/'):W;return Fa+this.url},O;if(B){l=!1;if('#'==r&&/GET/i.test(w)&&z||/^404:/.test(r))r=location.pathname,l=!0;'undefined'==typeof P.notFound&&(P.notFound={});A=null;O='[ RoutingHelper::getRouteByUrl(rule[, bundle, method]) ] : route [ %r ] is called but not found inside your view: `'+
r+'` !';if((A=(A=gina.hasPopinHandler&&gina.popinIsBinded?gina.popin.getActivePopin().target.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/):document.body.innerHTML.match(/404:\[\w+\][a-z 0-9-_@]+/))&&0<A.length?A[0]:null)&&z&&l)return l=A.match(/\[\w+\]/)[0],A=A.replace('404:'+l,l.replace(/\[|\]/g,'')+'::'),O=O.replace(/%r/,A.replace(/404:\s+/,'')),'undefined'==typeof P.notFound[A]?P.notFound[A]={count:1,message:O}:z&&'undefined'!=typeof P.notFound[A]&&++P.notFound[A].count,!1;if((l=gina.config.reverseRouting[r]||
null)&&'undefined'!=typeof l&&l.split(/@(.+)$/)[1]==G)return A=l,'undefined'==typeof P.notFound[A]?(O=O.replace(/%r/,w.toUpperCase()+'::'+l),P.notFound[A]={count:1,message:O}):z&&'undefined'!=typeof P.notFound[A]&&++P.notFound[A].count,!1;A=P.compareUrls(u,r,va)||null;A.past&&z&&(A=w.toUpperCase()+'::'+A.request.routing.rule,'undefined'==typeof P.notFound[A]?O=O.replace(/%r/,A):++P.notFound[A].count);return!1}console.warn(Error('[ RoutingHelper::getRouteByUrl(rule[, bundle, method, request]) ] : route not found for url: `'+
r+'` !').stack);return!1};return P}'undefined'!==typeof module&&module.exports?module.exports=Routing():'function'===typeof define&&define.amd&&define('lib/routing',['require','lib/form-validator','lib/merge'],function(){return Routing()});
function StoragePlugin(B){function P(O){G=JSON.parse(S.getItem(this.bucket));'undefined'==typeof G[O]&&(G[O]=[],S.setItem(this.bucket,JSON.stringify(G)),G=JSON.parse(S.getItem(this.bucket)));r[O]={_collection:O,_bucket:this.bucket};r[O]=ma(r[O],Aa);return r[O]}function V(O){if('object'!==typeof O)throw Error('filter must be an object');var A=G[this._collection],D=O.count(),l=0,y=null;if(0==D)return null;for(var z in A)for(var F in O){var u='boolean'!=typeof O[F]?O[F].toLocaleLowerCase():O[F];O[F]&&
-1<w.indexOf(u)&&'not null'==u&&'undefined'!=typeof A[z][F]&&'object'!==typeof A[z][F]&&A[z][F]===O[F]&&'null'!=A[z][F]&&'undefined'!=A[z][F]?0>y.indexOf(A[z][F])&&(++l,l===D&&(y=A[z],y._index=z,y._collection=this._collection,y._bucket=this._bucket)):'undefined'!=typeof A[z][F]&&'object'!==typeof A[z][F]&&A[z][F]===O[F]&&(++l,l===D&&(y=A[z],y._index=z,y._collection=this._collection,y._bucket=this._bucket,y._filter=O))}y&&(y.save=I);return y}var ma=ma||require('lib/merge');P=P||require('lib/collection');
var U=U||require('vendor/uuid'),N=N||require('helpers/dateFormat'),ba={bucket:'default'},Q={},S=null,r={},G={},w=['not null'],va={bucket:void 0,drop:function(){S.removeItem(ba.bucket);Q=null;for(var O in this)delete this[O];return Q},Collection:P},Aa={insert:function(O){O._id=U.v1();O._createdAt=(new Date).format('isoDateTime');O._updatedAt=(new Date).format('isoDateTime');G[this._collection][G[this._collection].length]=O;S.setItem(this._bucket,JSON.stringify(G))},find:function(O,A){if(!O)return G[this._collection];
if('object'!==typeof O)throw Error('filter must be an object');A=G[this._collection];O.count();var D=0,l=[],y;for(y in A)for(var z in O){var F='boolean'!=typeof O[z]?O[z].toLocaleLowerCase():O[z];O[z]&&-1<w.indexOf(F)&&'not null'==F&&'undefined'!=typeof A[y][z]&&'object'!==typeof A[y][z]&&'null'!=A[y][z]&&'undefined'!=A[y][z]?0>l.indexOf(A[y][z])&&(l[D]=A[y][z],++D):'undefined'!=typeof A[y][z]&&'object'!==typeof A[y][z]&&A[y][z]===O[z]&&(l[D]=A[y],++D)}return l},findOne:V,update:null,'delete':function(O){if('object'!==
typeof O)throw Error('filter must be an object');var A=JSON.clone(G[this._collection]),D=0,l=[],y;for(y in A)for(var z in O)O[z]&&-1<w.indexOf(O[z].toLocaleLowerCase())&&'not null'==O[z].toLowerCase()&&'undefined'!=typeof A[y][z]&&'object'!==typeof A[y][z]&&'null'!=A[y][z]&&'undefined'!=A[y][z]?0>l.indexOf(A[y][z])&&(l[D]=A[y][z],delete G[this._collection][y][z],++D):'undefined'!=typeof A[y][z]&&'object'!==typeof A[y][z]&&A[y][z]===O[z]&&(l[D]=A[y],G[this._collection].splice(y,1),++D);return 0<l.length?
(S.setItem(this._bucket,JSON.stringify(G)),!0):!1},drop:function(O){if('undefined'==typeof G[this._collection])throw Error('Collection `'+O+'` not found');delete r[this._collection];delete G[this._collection];S.setItem(this._bucket,JSON.stringify(G))}},I=function(O){O=O||!1;try{var A=JSON.clone(G),D=this._index,l=this._collection,y=this._bucket,z=this._filter;this._updatedAt=(new Date).format('isoDateTime');A[l][D]=ma(A[l][D],this,!0);delete A[l][D]._index;delete A[l][D]._collection;delete A[l][D]._bucket;
delete A[l][D].save;delete A[l][D]._filter;if(O&&'object'==typeof A[l][D]){var F=function(v,H){for(var K=0,T=v.length;K<T;++K)'object'!=typeof H[K]||'undefined'==typeof v[K]||Array.isArray(v[K])?Array.isArray(v[K])?F(v[K],H[K]):'undefined'==typeof v[K]&&delete H[K]:u(v[K],H[K]);return H},u=function(v,H){for(var K in H)'object'!=typeof H[K]||'undefined'==typeof v[K]||Array.isArray(v[K])?Array.isArray(v[K])?F(v[K],H[K]):'undefined'==typeof v[K]&&delete H[K]:u(v[K],H[K]);return H};Array.isArray(A[l][D])?
A[l][D]=F(this,A[l][D]):'object'==typeof A[l][D]?A[l][D]=u(this,A[l][D]):'undefined'==typeof this[prop]&&delete A[l][D]}G[l][D]=A[l][D];S.setItem(y,JSON.stringify(G));return V(z)}catch(v){throw v;}};(function(O){if(!window.localStorage||window.localStorage&&'undefined'==!typeof window.localStorage.setItem)throw Error('Make sure your browser supports `window.localStorage` to use Gina Storage. See: `https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Browser_compatibility`');if('object'!=
typeof O&&'undefined'!=typeof O)throw Error('`options` must be an object');'undefined'==typeof O&&(O={});ba=ma(O,ba);S=window.localStorage;O=ba.bucket;if(!S.getItem(O)&&void 0!=O)S.setItem(O,JSON.stringify(G));else if(void 0==O)throw Error('`bucket` name cannot be undefined');Q.bucket=O;Q=ma(Q,va)})(B);return Q}
if('undefined'!==typeof module&&module.exports){var merge=require('lib/merge');Collection=require('lib/collection');var uuid=require('uuid');module.exports=StoragePlugin}else'function'===typeof define&&define.amd&&define('gina/storage',['helpers/dateFormat','helpers/prototypes'],function(){return StoragePlugin});function insertAfter(B,P){B.parentNode.insertBefore(P,B.nextSibling)}
function getElementsByAttribute(B){for(var P=[],V=0,ma=document.getElementsByTagName('*'),U=0,N=ma.length;U<N;++U)null!==ma[U].getAttribute(B)&&(P[V]=ma[U],++V);return P}
(function(B){var P=B.prototype,V=P.parseFromString;try{if((new B).parseFromString('','text/html'))return}catch(ma){}P.parseFromString=function(ma,U){if(/^\s*text\/html\s*(?:;|$)/i.test(U)){var N=document.implementation.createHTMLDocument('');-1<ma.toLowerCase().indexOf('<!doctype')?N.documentElement.innerHTML=ma:N.body.innerHTML=ma;return N}return V.apply(this,arguments)}})(DOMParser);define('utils/dom',function(){});
function fadeIn(B){var P=.1;B.style.display='block';var V=setInterval(function(){1<=P&&clearInterval(V);B.style.opacity=P;B.style.filter='alpha(opacity='+100*P+')';P+=.1*P},10)}function fadeOut(B){var P=1,V=setInterval(function(){.1>=P&&(clearInterval(V),B.style.display='none');B.style.opacity=P;B.style.filter='alpha(opacity='+100*P+')';P-=.1*P},50)}define('utils/effects',function(){});
function DataHelper(){encodeRFC5987ValueChars=function(V){return encodeURIComponent(V).replace(/['()]/g,escape).replace(/\*/g,'%2A').replace(/%(?:7C|60|5E)/g,unescape)};formatDataFromString=function(V){'object'==typeof V&&(V=JSON.stringify(V));try{V=decodeURIComponent(V)}catch(r){}/("false"|"true"|"on")/.test(V)&&(V=V.replace(/"false"/g,!1).replace(/"true"/g,!0).replace(/"on"/g,!0));/("null")/i.test(V)&&(V=V.replace(/"null"/ig,null));a:{var ma=V,U=V=null,N=null;if(/^(\{|\[|%7B|%5B)/.test(ma)){try{V=
(N=/^(\{|%7B)/.test(ma)?!1:!0)?[]:{};U=/^(%7B|%5B)/.test(ma)?JSON.parse(decodeURIComponent(ma)):JSON.parse(ma);if(Array.isArray(U)){N=0;for(var ba=U.length;N<ba;++N)V[N]=B(U[N],V);var Q=V}else Q=B(U,V);var S=Q;break a}catch(r){console.error('[365] could not parse body:\n'+ma)}S=void 0}else{V={};S=ma.split(/&/g);/("false"|"true"|"on")/.test(ma)&&ma.replace(/"false"/g,!1).replace(/"true"/g,!0).replace(/"on"/g,!0);ma={};ba=0;for(U=S.length;ba<U;++ba)if(S[ba])if(S[ba]=decodeURIComponent(S[ba]),/^\{/.test(S[ba])||
/=\{/.test(S[ba])||/=\[/.test(S[ba]))try{if(/^\{/.test(S[ba])){V=JSON.parse(S[ba]);break}else ma=S[ba].match(/=(.*)/),ma[0]=S[ba].split(/=/)[0],V[ma[0]]=JSON.parse(ma[1])}catch(r){console.error('[parseBody#1] could not parse body:\n'+S[ba])}else{ma=S[ba].split(/=/);if(/\{\}":/.test(ma[1]))try{ma[1]=JSON.parse(ma[1])}catch(r){console.error('[parseBody#2] could not parse body:\n'+ma[1])}'string'!=typeof ma[1]||/\[object /.test(ma[1])||(ma[0]=decodeURIComponent(ma[0]),ma[1]=decodeURIComponent(ma[1]),
/^(.*)\[(.*)\]/.test(ma[0])?(Q=ma[0].replace(/\]/g,'').split(/\[/g),V=P(V,Q,0,ma[1])):V[ma[0]]=ma[1])}S=V}}return S};var B=function(V,ma){var U=[];ma||={};for(let ba in V)if(U[0]=ba,U[1]=V[ba],/^(.*)\[(.*)\]/.test(U[0])){var N=U[0].replace(/\]/g,'').split(/\[/g);ma=P(ma,N,0,U[1])}else ma[U[0]]=U[1];return ma},P=function(V,ma,U,N){for(let ba=0,Q=ma.length;ba<Q;ba++){let S=ma[U];if(ba==U){if('undefined'==typeof V[ma[U]]||'string'==typeof V[ma[U]])Array.isArray(V)?(S=~~ma[U],V[S]=/^\d+$/.test(ma[U+1])?
[]:{}):V[ma[U]]=/^\d+$/.test(ma[U+1])?[]:{};if(U==ma.length-1){N='undefined'!=typeof N?N:'';Array.isArray(V[ma[U]])?V[ma[U]].push(N):V[ma[U]]=N;break}else/^\d+$/.test(ma[U])&&!Array.isArray(V)&&(V=[]),'undefined'==typeof V[S]&&(V[S]=null),P(V[S],ma,U+1,N)}}return V}}'undefined'!==typeof module&&module.exports?module.exports=DataHelper:'function'===typeof define&&define.amd&&define('utils/data',[],function(){return DataHelper()});
function ValidatorPlugin(B,P,V){this.plugin='validator';var ma='init ready registered success error progress submit reset change changed keydown keyup focusout focusin validate validated destroy asyncCompleted'.split(' '),U='undefined'!==typeof module&&module.exports?!1:!0,N=null;if(U)require('utils/events'),registerEvents(this.plugin,ma),require('utils/dom'),require('utils/effects'),require('utils/data'),N=gina.config.envIsDev;else{if(N=/^true$/i.test(process.env.NODE_ENV_IS_DEV)?!0:!1)delete require.cache[require.resolve('./form-validator')],
delete require.cache[require.resolve('../../../../../helpers/data')];require('../../../../../helpers/data')}var ba=U?require('vendor/uuid'):require('uuid'),Q=U?require('lib/merge'):require('../../../../../lib/merge'),S=U?require('lib/inherits'):require('../../../../../lib/inherits'),r=U?require('lib/form-validator'):require('./form-validator'),G=U?require('lib/routing'):require('../../../../../lib/routing'),w={id:'validator-'+ba.v4(),plugin:this.plugin,on:U?on:null,eventData:{},target:U?document:
null,errors:{},initialized:!1,isReady:!1,rules:{},$forms:{},getFormById:null,validateFormById:null,setOptions:null,resetErrorsDisplay:null,resetFields:null},va={id:null,plugin:this.plugin,on:U?on:null,eventData:{},target:U?document:null,cachedErrors:{},binded:!1,unbinded:!1,withUserBindings:!1,rules:{},setOptions:null,send:null,isValidating:null,isSubmitting:null,submit:null,destroy:null,resetErrorsDisplay:null,resetFields:null},Aa={},I={},O=null,A={url:'',method:'GET',isSynchrone:!1,withCredentials:!1,
headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}},D=function(m,g,h){h='undefined'!=typeof h?{id:h}:null;var b={},x;for(x in g)b[x]=g[x];if('undefined'!=typeof m&&0<m.count()){try{La(m,''),Da(m)}catch(q){throw q;}return za(h,b,null,w.rules)}return new r(b)},l=function(m){A=m=Q(m,A)},y=function(m){var g=null;if(!w.$forms)throw Error('`$forms` collection not found');if('undefined'==typeof m)throw Error('[ FormValidator::getFormById(formId) ] `formId` is missing');
m=m.replace(/#/,'');if(null!=document.getElementById(m)&&'undefined'==typeof w.$forms[m]){var h=document.getElementById(m),b,x=typeof(0<Aa.count())?Aa:w.rules;h.getAttribute?(id=h.getAttribute('id')||'form.'+ba.v4(),id!==h.getAttribute('id')&&h.setAttribute('id',id)):(id='form.'+ba.v4(),h.setAttribute('id',id));h.id=va.id=id;if('undefined'!=typeof h.id&&'null'!=h.id&&''!=h.id){va.target=h;w.$forms[h.id]=Q({},va);if(b=h.getAttribute('data-gina-form-rule')){b=b.replace(/\-|\//g,'.');if('undefined'==
typeof x[b])throw Error('['+h.id+'] no rule found with key: `null`');b=x[b]}'string'==typeof h.id&&'undefined'!=typeof x[h.id.replace(/\-/g,'.')]?$target=w.$forms[h.id].target:'object'==typeof h.id?(delete w.$forms[h.id],x=h.attributes.getNamedItem('id').nodeValue||'form.'+ba.v4(),h.setAttribute('id',x),h.id=x,va.target=h,w.$forms[x]=Q({},va),$target=w.$forms[x].target):$target=w.$forms[h.id].target;b?xb($target,b):xb($target)}}'undefined'!=typeof w.$forms[m]&&(w.$forms[m].withUserBindings=!0,g='undefined'!=
typeof this.$forms&&'undefined'==typeof this.$forms[m]?this.$forms[m]=w.$forms[m]:w.$forms[m]);if(!g)throw Error('Validator::getFormById(...) exception: could not retrieve form `'+m+'`');g.binded||(xb(g.target),g=w.$forms[m]);N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),h={id:m,rules:w.$forms[m].rules},'undefined'!=typeof w.$forms[m].errors&&(h.errors=w.$forms[m].errors),window.ginaToolbar.update('forms',h));return g},z=function(){var m=
!1,g=null;gina.hasPopinHandler&&gina.popinIsBinded&&(g=gina.popin.getActivePopin());g&&g.isOpen&&(m=!0);return m},F=function(m,g){var h=typeof(0<Aa.count())?Aa:w.rules;if(!w.$forms)throw Error('`$forms` collection not found');if('undefined'!=typeof m&&'undefined'!=typeof w.$forms[m])return w.$forms[m];if('undefined'==typeof m)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)m=this.id;else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `formId` is missing');if('string'==
typeof m)m=m.replace(/#/,'');else{if('object'!=typeof m||Array.isArray(m))throw Error('[ FormValidator::validateFormById(formId[, customRule]) ] `formId` should be a `string`');var b=m.form;m=b.getAttribute('id')||'form.'+ba.v4();b.setAttribute('id',m)}var x=document.getElementsByTagName('form');for(var q={},p=0,R=x.length;p<R;++p)b=x[p].getAttribute('id')||null,'undefined'==typeof q[b]?q[b]=!0:'undefined'==typeof w.$forms[b]||w.$forms[b].warned||(gina.popinIsBinded?console.warn('Popin/Validator::bindForm($target, customRule): `'+
b+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.\n Check inside your popin content'):console.warn('Validator::bindForm($target, customRule): `'+b+'` is a duplicate form ID. If not fixed, this could lead to an undesirable behaviour.'),w.$forms[b].warned=!0);if('undefined'!=typeof this.$forms&&'undefined'!=typeof w.$forms[m])x=this.$forms[m]=w.$forms[m];else{b=document.getElementById(m);va.id=m;va.target=b;x=this.$forms[m]=w.$forms[m]=Q({},va);if('undefined'==
typeof g)if(q=m.replace(/\-/g,'.'),'undefined'!=typeof h)x.rule=Ea(q);else{if('undefined'!=typeof x.target&&null!==x.target&&x.target.getAttribute('data-gina-form-rule'))if(q=x.target.getAttribute('data-gina-form-rule').replace(/\-|\//g,'.'),'undefined'!=typeof h)x.rule=Ea(q);else throw Error('[ FormValidator::validateFormById(formId) ] using `data-gina-form-rule` on form `'+x.target+'`: no matching rule found');}else if(q=g.replace(/\-|\//g,'.'),'undefined'!=typeof h)x.rule=Ea(q);else throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+
g+'` is not a valid rule');b&&'undefined'!=typeof this.isPopinContext&&/true/i.test(this.isPopinContext)&&(b.isPopinContext=this.isPopinContext);b&&!x.binded&&xb(b,q)}if(!x)throw Error('[ FormValidator::validateFormById(formId, customRule) ] `'+m+'` not found');return x||null},u=function(m){var g=m.form.getAttribute('id');if(!/^true$/i.test(w.$forms[g].isValidating)){var h=m.parentNode;m=!1;g=h.getElementsByTagName('div');/form\-item\-warning/.test(h.className)?h.className=h.className.replace(/form\-item\-warning/,
'form-item-error'):/form\-item\-error/.test(h.className)&&(h.className=h.className.replace(/form\-item\-error/,'form-item-warning'),m=!0);h=0;for(var b=g.length;h<b;++h)if(/form\-item\-error\-message/.test(g[h].className)){g[h].className=m?g[h].className+' hidden':g[h].className.replace(/(\s+hidden|hidden)/,'');break}}},v={},H=function(m,g,h,b){if(N)var x=null;var q=!1;if('undefined'!=typeof m.dataset.ginaFormIsResetting&&/^(true)$/i.test(m.dataset.ginaFormIsResetting))g={},v={},m.dataset.ginaFormIsResetting=
!1;else if(/^(true)$/i.test(m.dataset.ginaFormLiveCheckEnabled)&&'undefined'!=typeof b){var p='string'!=typeof m.id?m.getAttribute('id'):m.id;'undefined'==typeof v[p]&&(v[p]={});if(0<g.count()){if(v[p][b]={},v[p][b]=Q(g[b],v[p][b]),0==v[p][b].count()&&delete v[p][b],g=v[p],!w.$forms[p].sent||w.$forms[p].isValidating)q=!0}else'undefined'!=typeof v[p][b]&&(delete v[p][b],'undefined'!=typeof window.gina.validator.$forms[p].errors&&'undefined'!=typeof window.gina.validator.$forms[p].errors[b]&&delete window.gina.validator.$forms[p].errors[b]),
('undefined'!=typeof w.$forms&&'undefined'!=typeof w.$forms[p]&&'undefined'!=typeof w.$forms[p].errors&&0==w.$forms[p].errors.count()||'undefined'!=typeof w.$forms&&'undefined'!=typeof w.$forms[p]&&!w.$forms[p].errors)&&Ka(m,!0),'undefined'!=typeof v[p]&&0==v[p].count()?delete v[p]:g=v[p]}var R=null;p=m.getAttribute('id');h='undefined'!=typeof h?h:{};for(var L=0,fa=m.length;L<fa;++L){var Ba=m[L];if('undefined'==typeof b||b==Ba.name){if(/form\-item\-wrapper$/.test(Ba.parentNode.className)){var ea=
Ba.parentNode.parentNode;var da=Ba.parentNode}else ea=Ba.parentNode,da=Ba;var E=Ba.getAttribute('name');var na=Ba.getAttribute('data-gina-form-errors');if(E){if('undefined'!=typeof g[E]&&!/(form\-item\-error|form\-item\-warning)/.test(ea.className)){ea.className=q?ea.className+(''==ea.className?'form-item-warning':' form-item-warning'):ea.className+(''==ea.className?'form-item-error':' form-item-error');R=document.createElement('div');R.className=q?'form-item-error-message hidden':'form-item-error-message';
for(var ra in g[E])'stack'!=ra&&(ea=document.createElement('p'),ea.appendChild(document.createTextNode(g[E][ra])),R.appendChild(ea)),N&&(x||={},x[E]||(x[E]={}),x[E][ra]=g[E][ra]);'hidden'!=da.type&&insertAfter(da,R)}else if('undefined'==typeof g[E]&&/(form\-item\-error|form\-item\-warning)/.test(ea.className)||'undefined'!=typeof g[E]&&0==g[E].count()&&/(form\-item\-error|form\-item\-warning)/.test(ea.className)){E=ea.getElementsByTagName('div');da=0;for(na=E.length;da<na;++da)if(/form\-item\-error\-message/.test(E[da].className)){E[da].parentElement.removeChild(E[da]);
break}ea.className=ea.className.replace(/(\s+form\-item\-error|form\-item\-error|\s+form\-item\-warning|form\-item\-warning)/,'')}else if('undefined'!=typeof g[E]&&na){ea=ea.getElementsByTagName('div');na=0;for(var ia=ea.length;na<ia;++na)if('form-item-error-message'==ea[na].className){ea[na].parentElement.removeChild(ea[na]);R=document.createElement('div');R.setAttribute('class','form-item-error-message');for(ra in g[E])ea=document.createElement('p'),ea.appendChild(document.createTextNode(g[E][ra])),
R.appendChild(ea),N&&(x||={},x[E]||(x[E]={}),x[E][ra]=g[E][ra]);break}R&&'hidden'!=da.type&&insertAfter(da,R)}if('undefined'!=typeof b&&b===Ba.name)break}}}x?(triggerEvent(gina,m,'error.'+p,g),N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),m={id:p,errors:x},window.ginaToolbar.update('forms',m))):N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),m={id:p,errors:{}},U&&window.ginaToolbar.update('forms',
m));if(gina&&U&&N&&w.$forms[p].isSubmitting&&/^true$/i.test(w.$forms[p].isSubmitting)&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&h)try{window.ginaToolbar.update('data-xhr',h)}catch(Z){throw Z;}},K=function(m){var g=null;'undefined'==typeof m&&'undefined'!=typeof this.id&&(m=this.id);/^string$/i.test(typeof m)?(g=m.replace(/#/,''),g=document.getElementById(g)):m instanceof HTMLFormElement?g=m:/^object$/i.test(typeof m)&&(g=m.target);if(!g)throw Error('[ FormValidator::resetErrorsDisplay([ formId | <form> ]) ] `'+
m+'` not found');g.dataset.ginaFormIsResetting=!0;H(g,{});return g},T=function(m){if('undefined'==typeof m){var g='undefined'!=typeof this.target?this.target.getAttribute('id'):this.getAttribute('id');m=w.$forms[g]}else if('string'==typeof m){g=m.replace(/#/,'');if('undefined'==typeof w.$forms[g])throw Error('[ FormValidator::resetErrorsDisplay([formId]) ] `'+m+'` not found');m=w.$forms[g]}if(m.fieldsSet){var h;for(h in m.fieldsSet){g=document.getElementById(h);var b=g.tagName.toLowerCase();var x=
g.tagName;/textarea/i.test(x)?(x=m.fieldsSet[h].defaultValue,g.value=x,triggerEvent(gina,g,'change')):'input'==b?(x=m.fieldsSet[h].defaultValue,/$(on|true|false)$/i.test(x)&&(x=/$(on|true)$/i.test(x)?!0:!1),/^(checkbox|radio)$/i.test(g.type)?g.checked=m.fieldsSet[h].defaultChecked:/^(checkbox|radio)$/i.test(g.type)||(g.value=x),triggerEvent(gina,g,'change')):'select'==b&&(x=m.fieldsSet[h].selectedIndex||0,g.selectedIndex=x,g.dataset.value=g.options[g.selectedIndex].value,triggerEvent(gina,g,'change'))}}return m},
qa=function(){var m=null,g=null;'undefined'!=typeof this.getAttribute?(m=this.getAttribute('id'),g=this):'undefined'!=typeof this.target&&null!=this.target&&'undefined'!=typeof this.target.getAttribute&&(m=this.target.getAttribute('id'),g=this.target);if('undefined'==typeof w.$forms[m])throw Error('[ FormValidator::submit() ] not `$form` binded. Use `FormValidator::getFormById(id)` or `FormValidator::validateFormById(id)` first ');triggerEvent(gina,g,'submit');return this},Fa=function(m,g){var h=
this.target,b=h.getAttribute('id'),x=w.$forms[b]||this,q=null,p=null,R=null,L=null;if(!('undefined'!=typeof x.isSending&&/^true$/i.test(x.isSending)||'undefined'!=typeof x.sent&&/^true$/i.test(x.sent))){w.$forms[b].isSending=!0;g='undefined'!=typeof g?Q(g,A):A;'undefined'!=typeof x.id&&(g.headers['X-Gina-Form-Id']=x.id,'undefined'!=typeof gina.forms.rules&&0<x.rules.count()&&'undefined'!=typeof x.rules[x.id]&&(g.headers['X-Gina-Form-Rule']=x.id+'@'+gina.config.bundle));'undefined'!=typeof x.target.dataset.ginaFormRule&&
(g.headers['X-Gina-Form-Rule']=x.target.dataset.ginaFormRule+'@'+gina.config.bundle);z()&&($activePopin=gina.popin.getActivePopin(),$activePopin.isOpen&&('undefined'!=typeof $activePopin.id&&(g.headers['X-Gina-Popin-Id']=$activePopin.id),'undefined'!=typeof $activePopin.name&&(g.headers['X-Gina-Popin-Name']=$activePopin.name)));(L=h.getAttribute('data-gina-form-event-on-submit-success')||h.getAttribute('data-gina-form-event-on-submit-error')?!0:!1)&&xa(x);var fa=h.getAttribute('action')||g.url,Ba=
h.getAttribute('method')||g.method;Ba=Ba.toUpperCase();g.method=Ba;g.url=fa;O||=setupXhr(g);fa=h.getAttribute('enctype')||g.headers['Content-Type'];if(g.withCredentials){if('withCredentials'in O)g.isSynchrone?O.open(g.method,g.url,g.isSynchrone):O.open(g.method,g.url);else if('undefined'!=typeof XDomainRequest)O=new XDomainRequest,O.open(g.method,g.url);else{O=null;q='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ';triggerEvent(gina,h,'error.'+b,q);
return}O.responseType='undefined'!=typeof g.responseType?g.responseType:'';O.withCredentials=!0}else g.isSynchrone?O.open(g.method,g.url,g.isSynchrone):O.open(g.method,g.url);for(var ea in g.headers)'Content-Type'==ea&&'undefined'!=typeof fa&&null!=fa&&''!=fa||O.setRequestHeader(ea,g.headers[ea]);if(O){O.onreadystatechange=function(Z){x.isSubmitting=!1;x.isSending=!1;setTimeout(function(){x.sent=!1},1E3);Z=/Google Inc/i.test(navigator.vendor)?50:0;2==O.readyState&&(R=/^attachment;/.test(O.getResponseHeader('Content-Disposition'))?
!0:!1,!O.responseType&&R&&(O.responseType='blob'));if(4==O.readyState){var Ga=null,Pa=null,$a=O.getResponseHeader('Content-Type');if(/^2/.test(O.status)){try{if(/blob/.test(O.responseType)||R){if('undefined'==typeof $a||null==$a)$a='application/octet-stream';Pa=new Blob([this.response],{type:$a});var ib=document.createElement('a');ib.style='display: none';document.body.appendChild(ib);var Cb=window.URL.createObjectURL(Pa);ib.href=Cb;var zb=O.getResponseHeader('Content-Disposition');ib.download=zb.match('=(.*)')[0].substr(1);
ib.click();window.URL.revokeObjectURL(Cb);q={status:O.status,statusText:O.statusText,responseType:Pa.type,type:Pa.type,size:Pa.size}}else q=O.responseText;/\/json/.test($a)&&(q=JSON.parse(O.responseText),'undefined'==typeof q.status&&(q.status=O.status));if(/\/html/.test($a)&&(q={contentType:$a,content:O.responseText},'undefined'==typeof q.status&&(q.status=O.status),'undefined'!=typeof gina.popin&&gina.hasPopinHandler&&(Ga=gina.popin.getActivePopin()))){p={};try{p=(new DOMParser).parseFromString(q.content,
'text/html').getElementById('gina-without-layout-xhr-data'),p=JSON.parse(decodeURIComponent(p.value)),XHRView=(new DOMParser).parseFromString(q.content,'text/html').getElementById('gina-without-layout-xhr-view'),XHRView=JSON.parse(decodeURIComponent(XHRView.value)),gina&&N&&typeof window.ginaToolbar&&'undefined'!=typeof p&&window.ginaToolbar.update('data-xhr',p),gina&&N&&typeof window.ginaToolbar&&'undefined'!=typeof XHRView&&window.ginaToolbar.update('view-xhr',XHRView)}catch(X){throw X;}Ga.loadContent(q.content);
q=p;triggerEvent(gina,h,'success.'+b,q);return}p=x.eventData.success=q;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&p)try{N&&'undefined'!=typeof p&&!/\/html|\/json/.test($a)&&window.ginaToolbar.update('data-xhr',p)}catch(X){throw X;}/^gina\-upload/i.test(b)&&W(gina,h,'success',b,q);var qb=!1;'undefined'!=typeof q.isXhrRedirect&&/^true$/i.test(q.isXhrRedirect)&&(qb=!0);if('undefined'!=typeof gina.popin&&gina.hasPopinHandler&&'undefined'!=typeof q.popin||'undefined'!=typeof gina.popin&&
gina.hasPopinHandler&&'undefined'!=typeof q.location&&qb){Ga=gina.popin.getActivePopin();if(!Ga&&'undefined'!=typeof q.popin){if('undefined'!=typeof q.popin&&'undefined'==typeof q.popin.name)throw Error('To get a `$popin` instance, you need at list a `popin.name`.');Ga=gina.popin.getPopinByName(q.popin.name);if(!Ga)throw Error('Popin with name: `'+q.popin.name+'` not found.');}if('undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.close){Ga.isRedirecting=!1;Ga.close();var Mb=q.popin.reload?q.popin.reload:
!1;q.popin.location||q.popin.url||(delete q.popin,Mb&&(q.popin={reload:Mb}))}if('undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.location||'undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.url||'undefined'!=typeof q.location&&qb){qb=null;Ga&&(qb=Ga.name,Ga.isRedirecting=!0);'undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.target&&(q.popin.target='_'+q.popin.target);var Ya=q.location||q.popin.location||q.popin.url;if('undefined'!=typeof q.popin&&'undefined'!=typeof q.popin.name&&
qb!=q.popin.name){Ga&&Ga.isOpen&&Ga.close();qb=q.popin.name;Ga=gina.popin.getPopinByName(qb);if(!Ga)throw Error('Popin with name `'+qb+'` not found !');console.debug('Validator::Popin now redirecting [1-c]');Ga.load(Ga.name,Ya,Ga.options)}else Ga&&(console.debug('Validator::Popin now redirecting [1-d]'),Ga&&Ga.isOpen&&Ga.close(),Ga.load(Ga.name,Ya,Ga.options));if(Ga&&!Ga.isOpen)return setTimeout(function(X){X.isOpen||X.open()},50,Ga)}}triggerEvent(gina,h,'success.'+b,q);L&&triggerEvent(gina,h,'success.'+
b+'.hform',q)}catch(X){q={status:422,error:X.message,stack:X.stack};p=x.eventData.error=q;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&p)try{N&&'undefined'!=typeof p&&window.ginaToolbar.update('data-xhr',p)}catch(ja){throw ja;}/^gina\-upload/i.test(b)&&W(gina,h,'error',b,q);triggerEvent(gina,h,'error.'+b,q);L&&triggerEvent(gina,h,'error.'+b+'.hform',q)}if('undefined'!=typeof q&&'undefined'!=typeof q.location)return window.location.hash='',q.location=/^http/.test(q.location)||
/^\//.test(q.location)?q.location:location.protocol+'//'+q.location,q.location.replace(/^http(.*):\d+/,'$1').replace(/^:\/\//,'').split(/\//g)[0]==gina.config.hostname&&gina.config.hostname==window.location.host&&(q.location=location.protocol+q.location.replace(/^http(.*):\d+/,'$1').replace(/^:/,'')),setTimeout(()=>{window.location.href=q.location},Z)}else if(0!=O.status)if(q={status:O.status},/blob/.test(O.responseType)){Pa=new Blob([this.response],{type:'text/plain'});var cb=new FileReader,ca='';
cb.addEventListener('loadend',X=>{/string/i.test(typeof X.srcElement.result)?ca+=X.srcElement.result:'object'==typeof X.srcElement.result?q=Q(q,X.srcElement.result):q.message+=X.srcElement.result;if(/2/.test(cb.readyState)){if(/^(\{|\[)/.test(ca))try{q=Q(q,JSON.parse(ca))}catch(ja){q=Q(q,ja)}q.message||delete q.message;p=x.eventData.error=q;if(gina&&N&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&p)try{window.ginaToolbar.update('data-xhr',p)}catch(ja){throw ja;}/^gina\-upload/i.test(b)&&
W(gina,h,'error',b,q);triggerEvent(gina,h,'error.'+b,q);L&&triggerEvent(gina,h,'error.'+b+'.hform',q)}});cb.readAsText(Pa)}else{if(/^(\{|\[)/.test(O.responseText))try{q=Q(JSON.parse(O.responseText),q)}catch(X){q=Q(X,q)}else'object'==typeof O.responseText?q=Q(O.responseText,q):q.message=O.responseText;if('undefined'!=typeof q&&'undefined'!=typeof q.error&&q.fields&&'object'==typeof q.fields){Ya='undefined'!=typeof q.message?q.message:null;Z={};for(qb in q.fields)Ga={},Ga[qb]={},Ga[qb].isApiError=q.fields[qb],
Ya&&!Ga[qb].isApiError&&(Ga[qb].isApiError=q.error),Z[qb]=Ga[qb],H(x.target,Ga,m,qb);q.fields=Z}p=x.eventData.error=q;if(gina&&N&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&p)try{window.ginaToolbar.update('data-xhr',p)}catch(X){throw X;}/^gina\-upload/i.test(b)&&W(gina,h,'error',b,q);triggerEvent(gina,h,'error.'+b,q);L&&triggerEvent(gina,h,'error.'+b+'.hform',q)}}};O.onprogress=function(Z){var Ga='0';Z.lengthComputable&&(Ga=Z.loaded/Z.total,Ga=parseInt(100*Ga));Z={status:100,progress:Ga};
x.eventData.onprogress=Z;triggerEvent(gina,h,'progress.'+b,Z)};O.ontimeout=function(Z){q={status:408,error:'Request Timeout'};x.eventData.ontimeout=q;/^gina\-upload/i.test(b)&&W(gina,h,'error',b,q);triggerEvent(gina,h,'error.'+b,q);L&&triggerEvent(gina,h,'error.'+b+'.hform',q)};m||(m=event.detail.data);if(m){g=!1;if('object'==typeof m){ea=[];Ba=0;var da={};try{if(m instanceof FormData){var E=event.currentTarget.getAttribute('data-gina-form-upload-group')||'untagged',na,ra;for([na,ra]of m.entries())ra instanceof
File?(g||=!0,ea[Ba]={key:na,group:E,file:ra,bin:''},++Ba):da[na]=ra}else m=JSON.stringify(m);if(g&&0<ea.length){var ia='--ginaWKBoundary'+ba.v4().replace(/\-/g,'');return ha(ea,ia,'',0,function(Z,Ga,Pa){if(Z)/^gina\-upload/i.test(b)&&W(gina,h,'error',b,Z),triggerEvent(gina,h,'error.'+b,Z),L&&triggerEvent(gina,h,'error.'+b+'.hform',Z);else return Pa&&(O.setRequestHeader('Content-Type','multipart/form-data; boundary='+ia),O.send(Ga),x.sent=!0,N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&
(gina.forms.sent||(gina.forms.sent={}),window.ginaToolbar.update('forms',{id:b,sent:Ga}))),!1})}'undefined'!=typeof da&&0<da.count()&&(m=JSON.stringify(da))}catch(Z){/^gina\-upload/i.test(b)&&W(gina,h,'error',b,Z),triggerEvent(gina,h,'error.'+b,Z),L&&triggerEvent(gina,h,'error.'+b+'.hform',Z)}}g||('undefined'!=typeof fa&&null!=fa&&''!=fa&&O.setRequestHeader('Content-Type',fa),O.send(m))}else'undefined'!=typeof fa&&null!=fa&&''!=fa&&O.setRequestHeader('Content-Type',fa),O.send();x.sent=!0;N&&U&&'undefined'!=
typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.sent||(gina.forms.sent={}),E={id:b,sent:'string'==typeof m?JSON.parse(m):m},window.ginaToolbar.update('forms',E))}}},W=function(m,g,h,b,x){m=g.uploadProperties||null;if(!m)throw Error('No uploadProperties found !!');g=document.getElementById(m.uploadTriggerId);b=null;var q=x.files||[],p=null;m.hasPreviewContainer&&(b=document.getElementById(m.previewContainer.id))&&(b.innerHTML='');m.errorField&&(p=document.getElementById(m.errorField));p&&
(p.style.display='none');if(p&&'success'!=h){var R=x.message||x.error;p.innerHTML='<p>'+R+'</p>';fadeIn(p)}else if(p||'success'==h)for(h=0,x=q.length;h<x;++h){var L=b.id.replace(/\-preview/,'-'+h+'-reset-trigger');R=!1;p=document.getElementById(L);var fa=['reset','js-upload-reset'];p?(/a/i.test(p.tagName)&&(p.href='#'),p.innerHTML&&''!=p.innerHTML||(p.innerHTML=g.getAttribute('data-gina-form-upload-reset-label')||'Reset'),'undefined'==typeof p.className&&(p.className=''),L=Q(p.className.split(/\s+/g),
fa),p.className=L.join(' ')):(R=!0,p=document.createElement('A'),p.href='#',p.innerHTML=g.getAttribute('data-gina-form-upload-reset-label')||'Reset',p.className=fa.join(' '),p.id=L);p.style.display='none';if('undefined'==typeof q[h].preview&&m.hasPreviewContainer&&/^image/.test(q[h].mime)&&''!=q[h].location){L=document.createElement('IMG');L.src=q[h].tmpUri;L.style.display='none';L.setAttribute('data-upload-original-filename',q[h].originalFilename);L.setAttribute('data-upload-reset-link-id',p.id);
fa=b.getAttribute('data-preview-max-width')||null;if(L.width&&fa&&L.width>fa){var Ba=L.width/fa;L.width=fa;L.height/=Ba}else!L.width&&fa&&(L.width=fa);/ul/i.test(m.previewContainer.tagName)?(fa=document.createElement('LI'),fa.className='item',fa.appendChild(L),b.appendChild(fa)):b.appendChild(L);fadeIn(L)}L=m.uploadFields[h];for(var ea in L)if('name'==ea&&''!=L[ea].value||!q[h][ea]||'preview'==ea&&'undefined'==typeof q[h][ea]||/(height|width)/i.test(ea)&&!/^image/.test(q[h].mime))/(preview|height|width)/i.test(ea)&&
(fa=document.getElementById(L[ea].id))&&fa.parentNode.removeChild(fa);else if(L[ea].value=q[h][ea],'preview'==ea)for(var da in q[h][ea])if('undefined'!=typeof q[h][ea][da]&&'undefined'!=typeof L[ea][da]&&(L[ea][da].value=q[h][ea][da]),'tmpUri'==da&&m.hasPreviewContainer){Ba=document.createElement('IMG');Ba.src=q[h][ea].tmpUri;Ba.style.display='none';Ba.setAttribute('data-upload-original-filename',q[h].originalFilename);Ba.setAttribute('data-upload-preview-original-filename',q[h][ea].originalFilename);
Ba.setAttribute('data-upload-reset-link-id',p.id);if(fa=b.getAttribute('data-preview-max-width')||null)Ba.width=fa;/ul/i.test(m.previewContainer.tagName)?(fa=document.createElement('LI'),fa.className='item',fa.appendChild(Ba),b.appendChild(fa)):b.appendChild(Ba);fadeIn(Ba)}m.hasPreviewContainer&&(/ul/i.test(m.previewContainer.tagName)?(fa=document.createElement('LI'),fa.className='item',R&&fa.appendChild(p),b.appendChild(fa)):R&&b.appendChild(p));Ub('reset',g,h);fadeIn(p)}else throw Error(R);},ka=
function(m,g){console.debug(g+' input files');var h=/reset/i.test(g)?!0:!1,b=null,x=null,q=document.getElementById(m.id+'-preview').childNodes,p=null,R=m.customFiles,L=[];for(let fa=0,Ba=q.length;fa<Ba;fa++)if(/img/i.test(q[fa].tagName)){h?(b=q[fa].getAttribute('data-upload-original-filename'),L.push(b),(x=q[fa].getAttribute('data-upload-preview-original-filename'))&&L.push(x)):(b=q[fa].src.substr(q[fa].src.lastIndexOf('/')+1),L.push(b));for(let ea=0,da=R.length;ea<da;ea++)if(R[ea].name==b){p=h?document.getElementById(q[fa].getAttribute('data-upload-'+
g+'-link-id')):document.getElementById(R[ea].deleteLinkId);p.style.display='none';q[fa].style.display='none';R.splice(ea,1);m.customFiles=R;h&&(m.value=R.join(', C:\\fakepath\\'));b=new RegExp('^'+(m.name+'['+ea+']').replace(/\-|\[|\]|\./g,'\\$&'));for(let na=0,ra=m.form.length;na<ra;na++)if(x=m.form[na].dataset.ginaFormUploadIsLocked||!1,b.test(m.form[na].name)&&!/true/i.test(x)&&(m.form[na].remove(),ra--,na--,gina&&N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar))try{window.ginaToolbar.update('data-xhr',
{files:R})}catch(ia){throw ia;}x=m.getAttribute('data-gina-form-upload-'+g+'-action');if(!x||'undefined'==typeof x||''==x||/404/.test(x))throw Error('input file `'+m.id+'` error: `data-gina-form-upload-'+g+'-action` is required. You need to provide a valide url.');(b=m.getAttribute('data-gina-form-upload-'+g+'-method'))&&'undefined'!=typeof b&&''!=b?b=b.toUpperCase():h?b='POST':(b=1<L.length?'POST':'DELETE',console.warn('`data-gina-form-upload-'+g+'-method` was not defined. Switching to `'+b+'` by default.'));
let E=m.getAttribute('data-gina-form-upload-'+g+'-is-synchrone');if(/null/i.test(E)||'undefined'==typeof b||''==b)E=!0;x=setupXhr({url:x,method:b,isSynchrone:E,headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}});/GET|DELETE/i.test(b)?x.send():x.send(JSON.stringify({files:L}));if(/none/i.test(window.getComputedStyle(m).display)){if(/none/i.test(m.parentElement.style.display)){m.parentElement.style.display='block';return}m.style.display=
'block'}removeListener(gina,$uploadResetTrigger,'click',function(){p.remove();q[fa].remove()});Ba--;fa--;break}}},ha=function(m,g,h,b,x){var q=new FileReader;q.addEventListener('load',function(p){p.preventDefault();try{var R=this.result,L=void 0;p='';var fa=null;'undefined'==typeof L&&(L=8);var Ba=L/8;switch(L){case 8:fa=new Uint8Array(R);break;case 16:fa=new Uint16Array(R);break;case 32:fa=new Uint32Array(R);break;default:fa=new Uint8Array(R)}var ea=fa.length,da=Math.pow(2,8)+Ba;R=0;for(Ba=L=null;R<
ea;R+=da)L=Math.min(da,ea-R),Ba=fa.subarray(R,R+L),p+=String.fromCharCode.apply(null,Ba);m[this.index].bin+=p;m[this.index].file.type||(m[this.index].file.type='application/octet-stream')}catch(E){return x(E,null,!0)}h+='--'+g+'\r\n';h+='Content-Disposition: form-data; name="'+m[this.index].key+'"; group="'+m[this.index].group+'"; filename="'+m[this.index].file.name+'"\r\nContent-Type: '+m[this.index].file.type+'\r\nContent-Length: '+m[this.index].bin.length+'\r\n\r\n';h+=m[this.index].bin+'\r\n';
++this.index;this.index==m.length?(h+='--'+g+'--',x(!1,h,!0)):ha(m,g,h,this.index,x)},!1);q.index=b;m[b].bin='';q.readAsArrayBuffer(m[b].file)},xa=function(m){var g=m.target.getAttribute('data-gina-form-event-on-submit-success')||null;if(null!=g)if(/\((.*)\)/.test(g))eval(g);else m.on('success.hform',window[g]);g=m.target.getAttribute('data-gina-form-event-on-submit-error')||null;if(null!=g)if(/\((.*)\)/.test(g))eval(g);else m.on('error.hform',window[g])},la=function(m){var g=null,h=m;if(!w.$forms)throw Error('`$forms` collection not found');
if('undefined'==typeof h)if('undefined'!=typeof this.id&&''!=this.id&&null!=this.id)h=this.id;else throw Error('[ FormValidator::destroy(formId) ] `formId` is missing');if('string'==typeof h)h=h.replace(/#/,'');else{if('object'!=typeof h||Array.isArray(h))throw Error('[ FormValidator::destroy(formId) ] `formId` should be a `string`');m=h.form;h=m.getAttribute('id')||'form.'+ba.v4();m.setAttribute('id',h)}'undefined'!=typeof w.$forms[h]?g=w.$forms[h]:'undefined'!=typeof this.binded&&(g=this);if(g)addListener(gina,
g.target,'destroy.'+h,function(b){cancelEvent(b);delete w.$forms[h];removeListener(gina,b.currentTarget,b.type);removeListener(gina,b.currentTarget,'destroy')}),g=Db(g),triggerEvent(gina,g.target,'destroy.'+h);else throw Error('[ FormValidator::destroy(formId) ] `'+h+'` not found');},ta=function(m){m='undefined'!=typeof m?m:w.rules;for(let b in m){var g=Object.getOwnPropertyNames(m[b]),h=0;let x=g.length,q=!1,p=null;for(;h<x;){if(/^_case_/.test(g[h])){q=!0;p=g[h];break}h++}q||'object'!=typeof m[b]||
ta(m[b]);if(p&&Array.isArray(m[b][p].conditions)&&0<m[b][p].conditions.length)for(g=0,h=m[b][p].conditions.length;g<h;)'undefined'!=typeof m[b][p].conditions[g].rules&&0==m[b][p].conditions[g].rules.count()&&(m[b][p].conditions.splice(g,1),h--,g--),g++}},Da=function(m){var g=JSON.stringify(m),h=g.match(/("@import\s+[-_a-z A-Z 0-9/.]+")/g)||[],b=[];for(let R=0,L=h.length;R<L;R++)0>b.indexOf(h[R])&&b.push(h[R]);h=b;b=g.match(/("_merging(.*))(\s+:|:)(.*)(",|")/g);w.rules||(w.rules={});if(h&&0<h.length){m=
{};for(let R=0,L=h.length;R<L;++R){var x=h[R].replace(/(@import\s+|"|')/g,'');var q=x.replace(/(@import\s+|"|')/g,'').split(/\s/g);for(let fa=0,Ba=q.length;fa<Ba;++fa){var p=q[fa].replace(/\//g,'.').replace(/\-/g,'.');'undefined'!=typeof w.rules[p]?(p=JSON.stringify(w.rules[p]),p=JSON.parse(p),p._comment='undefined'!=typeof p._comment?p._comment+'\n':'',p._comment+='Imported from `'+x+'`',p=JSON.stringify(p),g=g.replace(new RegExp(h[R],'g'),p),w.rules=JSON.parse(JSON.stringify(w.rules).replace(new RegExp(h[R],
'g'),'{}'))):console.warn('[formValidator:rules] <@import error> on `'+h[R]+'`: rule `'+q[fa]+'` not found. Ignoring.')}q=new RegExp(h[R]);if(x=b&&q.test(b.join())?!0:!1)for(let fa=0,Ba=b.length;fa<Ba;fa++)if(q.test(b[fa])){x=JSON.stringify(m);x=x.substr(1,x.length-1);fa<Ba-1&&(x+=',');try{g=g.replace(new RegExp(b[fa],'g'),x),w.rules=JSON.parse(JSON.stringify(w.rules).replace(new RegExp(b[fa],'g'),'{}'))}catch(ea){throw ea;}}m={}}m=JSON.parse(g);La(m,'');try{ta()}catch(R){console.error(R.stack)}}return m},
Qa=function(m){gina.hasValidator?(w=Q(w,gina.validator),w.on('init',function(g){w.isReady=!0;triggerEvent(gina,w.target,'ready.'+w.id,w)})):(w.target=document,w.setOptions=l,w.getFormById=y,w.validateFormById=F,w.resetErrorsDisplay=K,w.resetFields=T,w.handleErrorsDisplay=H,w.send=Fa,w.on('init',function(g){if('undefined'!=typeof m&&m.count())try{La(m,''),m=Da(m),gina.forms.rules='undefined'!=typeof gina.forms.rules&&gina.forms.rules?Q(gina.forms.rules,m,!0):m,w.rules=Q(w.rules,JSON.clone(gina.forms.rules),
!0)}catch(R){throw R;}Aa.count()||(Aa=JSON.clone(w.rules));va.setOptions=l;va.getFormById=y;va.validateFormById=F;va.resetErrorsDisplay=K;va.resetFields=T;va.handleErrorsDisplay=H;va.submit=qa;va.send=Fa;va.unbind=Db;va.bind=xb;va.reBind=jb;va.destroy=la;g=0;for(var h=document.getElementsByTagName('form'),b=0,x=h.length;b<x;++b){if(h[b].getAttribute){var q=h[b].getAttribute('id')||'form.'+ba.v4();q!==h[b].getAttribute('id')&&h[b].setAttribute('id',q)}else q='form.'+ba.v4(),h[b].setAttribute('id',
q);va.id=q;va.target=h[b];w.$forms[q]=Q({},va);var p=h[b].getAttribute('data-gina-form-rule');if(p){p=p.replace(/\-|\//g,'.');'undefined'!=typeof m&&(w.$forms[q].rules[p]=w.rules[p]=Aa[p]=Q(JSON.clone(eval('gina.forms.rules.'+p)),w.rules[p]));if('undefined'==typeof Aa[p])throw Error('['+q+'] no rule found with key: `'+p+'`. Please check if json is not malformed @ /forms/rules/'+p.replace(/\./g,'/')+'.json');p=w.rules[p]}'string'==typeof q&&'undefined'!=typeof Aa[q.replace(/\-/g,'.')]||'object'==typeof p?
(q=w.$forms[q].target,p?xb(q,p):xb(q),++g):('object'==typeof h[b].id?(delete w.$forms[h[b].id],q=h[b].attributes.getNamedItem('id').nodeValue||'form.'+ba.v4(),h[b].setAttribute('id',q),h[b].id=q,va.target=h[b],w.$forms[q]=Q({},va),q=w.$forms[q].target):q=w.$forms[h[b].id].target,p?xb(q,p):xb(q))}if(window.XMLHttpRequest)O=new XMLHttpRequest;else if(window.ActiveXObject)try{O=new ActiveXObject('Msxml2.XMLHTTP')}catch(R){try{O=new ActiveXObject('Microsoft.XMLHTTP')}catch(L){}}w.isReady=!0;gina.hasValidator=
!0;gina.validator=w;triggerEvent(gina,w.target,'ready.'+w.id,w)}));w.initialized=!0;return w},La=function(m,g){var h;for(h in m)if('object'==typeof m[h]&&'undefined'==typeof w.rules[g+h]){var b=h;/\[|\]/.test(h)&&(b=h.replace(/\[/g,'.').replace(/\]/g,''));w.rules[g+b]=m[h];La(m[h],g+b+'.')}},Ea=function(m){if('undefined'!=typeof Aa[m])return Aa[m];var g=null;if('undefined'==typeof w.rules[m]){if(La(Aa,''),Aa=Da(Aa),g=Aa[m],!g)return{}}else g=w.rules[m];g=JSON.clone(g);var h=new RegExp('^'+m),b=new RegExp('^'+
m+'.'),x=null,q=function(R,L,fa,Ba,ea,da,E){if(L.length){var na=Object.getOwnPropertyNames(R)[0],ra=L[0];ra=''==ea?ea+=ra:ea+'['+ra+']';1==L.length&&(R[na]=Q(R[na],fa,!0));L.splice(0,1);ra==na?q(R[na],L,fa,Ba,ra,da,E):'undefined'!=typeof R[na]?q(R[na],L,fa,Ba,ra,da,E):q(R,L,fa,Ba,ea,da,E)}},p;for(p in w.rules)p!=m&&h.test(p)&&(x=p.replace(b,''),/\./.test(x)&&(x=x.split(/\./g),q(g,x,w.rules[p],g,'',0,g.count()-1)));return Aa[m]=g},Na=formatDataFromString,Ia=function(m){var g=w.$forms[m.form.getAttribute('id')],
h=/^true$/i.test(m.disabled)?!0:!1;h&&'undefined'!=typeof g.rule&&'undefined'!=typeof g.rule[m.name]&&'undefined'!=typeof g.rule[m.name].exclude&&/^false$/i.test(g.rule[m.name].exclude)&&(h=!1);if(/^(radio|text|hidden|password|number|date|email)$/i.test(m.type)&&!h){var b=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,'value'),x=b.set;b.set=function(q){Object.defineProperty(this,'value',{set:x});var p='change.'+this.id;q===this.value&&q===this.defaultValue||q===this.value||(this.value=
q,console.debug('Value set: '+q),'undefined'!=typeof gina.events[p]&&(console.debug('trigger event on: ',this.name,p),triggerEvent(gina,this,p,q)));Object.defineProperty(this,'value',b)};Object.defineProperty(m,'value',b)}},Ja=function(m,g,h,b){'undefined'==typeof b&&(b=!1);var x=m.rules,q=w.$forms[g.form.getAttribute('id')],p=/^true$/i.test(g.disabled)?!0:!1;p&&'undefined'!=typeof q.rule&&'undefined'!=typeof q.rule[g.name]&&'undefined'!=typeof q.rule[g.name].exclude&&/^false$/i.test(q.rule[g.name].exclude)&&
(p=!1);if(/^(radio|checkbox|text|hidden|password|number|date|email)$/i.test(g.type)&&!p||b&&!p){b=g.name;q=x[b]||null;if(!q&&(rb(x,g),'undefined'==typeof x[b]))return;if(m.target.dataset.ginaFormLiveCheckEnabled&&q&&(b=[],q=null,p=0,/^(radio|checkbox)$/i.test(g.type)?q=/^(radio|checkbox)$/i.test(g.type)?'changed.'+g.id:'change.'+g.id:(addEventListener(gina,g,'focusout.'+g.id,function(L){L.preventDefault();clearTimeout(h)}),q='change.'+g.id,'undefined'==typeof gina.events[q]&&(b[p]=q,++p),q='keyup.'+
g.id,'undefined'==typeof gina.events[q]&&(b[p]=q,++p),q='focusin.'+g.id,'undefined'==typeof gina.events[q]&&(b[p]=q,++p),q='focusout.'+g.id),'undefined'==typeof gina.events[q]&&(b[p]=q,++p),0<b.length)){var R=!1;addListener(gina,g,b,function(L){L.preventDefault();clearTimeout(h);if(!R&&/^changed\./i.test(L.type)||!R&&/^(radio|checkbox)$/i.test(L.target.type))R=!0;else if(R&&/^changed\./i.test(L.type)||R&&/^(radio|checkbox)$/i.test(L.target.type))return!1;if('undefined'!=typeof w.$forms[L.target.form.getAttribute('id')].isSubmitting&&
/true/i.test(w.$forms[L.target.form.getAttribute('id')].isSubmitting))return!1;var fa=function(){console.debug('processing: '+L.target.name+'/'+L.target.id);if(!/^(radio|checkbox)$/i.test(L.target.type)&&L.target.value===L.target.defaultValue&&''!=L.target.value){var Ba=w.$forms[L.target.form.getAttribute('id')].errors;if(Ba&&0!=Ba.count())H(L.target.form,Ba,null,L.target.name);else return H(L.target.form,{},null,L.target.name),cancelEvent(L)}Ba={};var ea={};Ba[L.target.name]=L.target.value;ea[L.target.name]=
L.target;w.$forms[L.target.form.getAttribute('id')].isValidating=!0;za(L.target,Ba,ea,m.rules,function(da){w.$forms[L.target.form.getAttribute('id')].isValidating=!1;da.isValid()?H(L.target.form,{},da.data,L.target.name):H(L.target.form,da.error,da.data,L.target.name);var E=L.target.form,na=da=null,ra=null;na=db(E,x);da=na.fields;na=na.$fields;var ia=E.getAttribute('id');ra=w.$forms[ia].rules;w.$forms[ia].isValidating=!0;za(E,da,na,ra,function(Z){w.$forms[ia].isValidating=!1;console.debug('['+ia+
'] onSilentGlobalLiveValidation: '+Z.isValid(),Z);var Ga=Z.isValid();N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:ia,errors:Z.error||{}}));Ka(E,Ga);R=!1})})};if(/^changed\./i.test(L.type)||/^change\./i.test(L.type)&&'radio'==L.target.type)return function(Ba,ea){if(!(0<ea))return++ea,setTimeout(()=>{console.debug(' changed .... '+g.id);fa()},0)}(R,0);/^focusin\./i.test(L.type)?/\-error/.test(g.parentNode.className)&&
(console.debug('#1 you just focusin ....'+g.id,g.value),u(g)):/^focusout\./i.test(L.type)?/\-warning/.test(g.parentNode.className)&&(console.debug('#1 you just focusout ....'+g.id,g.value),u(g),H(g.form,w.$forms[g.form.getAttribute('id')].errors,null,g.name)):/^keyup\./i.test(L.type)?(g.ginaFormValidatorTestedValue=g.value,h=setTimeout(function(){-1<['91','17'].indexOf(''+L.keyCode)&&0==I.count()||(console.debug(' keyup ('+L.keyCode+') .... '+g.id,g.value,' VS ',g.ginaFormValidatorTestedValue+'(old)'),
fa())},1E3)):/^change\./i.test(L.type)&&!/^(checkbox)$/i.test(L.target.type)&&(console.debug(' change .... '+g.id),fa())})}}},Ua=function(m,g){m.setSelectionRange?(m.focus(),m.setSelectionRange(g,g)):m.createTextRange&&(m=m.createTextRange(),m.collapse(!0),m.moveEnd('character',g),m.moveStart('character',g),m.select())},pb=function(m,g){if(document.activeElement&&document.activeElement.form){m=Array.prototype.filter.call(document.activeElement.form.querySelectorAll('a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), select:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])'),
function(x){return 0<x.offsetWidth||0<x.offsetHeight||x===document.activeElement});var h=m.indexOf(document.activeElement);if(-1<h){var b=m[h+1];g&&(b=m[h-1]);(b||m[0]).focus()}}},ab=function(m,g){m.setAttribute('readonly','readonly');addListener(gina,m,'focusout.'+m.id,function(h){h.preventDefault();clearTimeout(g);h=h.currentTarget;triggerEvent(gina,h,'change.'+h.id);h.setAttribute('readonly','readonly')});addListener(gina,m,'focusin.'+m.id,function(h){h.preventDefault();h.currentTarget.removeAttribute('readonly');
var b='keydown.'+h.currentTarget.id;'undefined'==typeof gina.events[b]&&addListener(gina,h.currentTarget,b,function(x){x.preventDefault();clearTimeout(g);var q=x.currentTarget,p=x.currentTarget.value,R=q.selectionStart,L=q.selectionEnd;q.removeAttribute('readonly');switch(x.keyCode){case 46:case 8:R!=L?(q.value=p.substr(0,R)+p.substr(L),0==R&&(q.value=p.substr(L))):q.value=0==R?p.substring(R+1):p.substr(0,R-1)+p.substr(L);x.currentTarget.setAttribute('readonly','readonly');setTimeout(()=>{q.removeAttribute('readonly');
setTimeout(()=>{R!=L?Ua(q,R):0==R?Ua(q,R):Ua(q,R-1)},0)},0);break;case 9:I[16]&&I[9]?pb(q,!0):pb(q);break;case 13:case 16:break;case 37:console.debug('moving left ',R-1);Ua(q,R-1);break;case 39:R+1<p.length+1&&Ua(q,R+1);break;case 17:case 91:console.debug('CMD hit');x.preventDefault();break;case 67:if(I[67]&&I[91]||I[67]&&I[17]){q.setSelectionRange(R,L);document.execCommand('copy');break}case 86:if(I[86]&&I[91]||I[86]&&I[17]){R!=L&&(q.value=q.value.replace(p.substring(R,L),''));Ua(q,R);document.execCommand('paste');
break}case 88:if(I[88]&&I[91]||I[88]&&I[17]){q.setSelectionRange(R,L);document.execCommand('cut');break}case 90:if(I[90]&&I[91]||I[90]&&I[17]){q.value=q.defaultValue;break}default:R!=L?(q.value=p.substr(0,R)+x.key,L-1<p.length&&(q.value+=p.substring(L))):q.value=0==R?x.key+p.substring(R):p.substr(0,R)+x.key+p.substr(L),x.currentTarget.setAttribute('readonly','readonly'),setTimeout(()=>{q.removeAttribute('readonly');setTimeout(()=>{Ua(q,R+1)},0)},0)}})})},gb=function(m,g){if(/^(input|textarea)$/i.test(g.tagName)&&
'undefined'==typeof gina.events['registered.'+g.id]){/^file$/i.test(g.type)||Ia(g);switch(g.tagName.toLowerCase()){case 'textarea':Ja(m,g,null,!0);break;default:Ja(m,g,null),m=g.getAttribute('autocomplete'),/safari/i.test(navigator.userAgent)&&m&&/^(off|false)/i.test(m)&&ab(g,null)}gina.events['registered.'+g.id]=g.id}},Ub=function(m,g,h){var b=g.id+'-'+h+'-'+m+'-trigger',x=document.getElementById(b);x||(b=g.getAttribute('data-gina-form-upload--'+h+ +m+'-trigger'),x=document.getElementById(b));x&&
'undefined'==typeof x.isBinded||x&&'undefined'!=typeof x.isBinded&&!/true/i.test(x.isBinded)?(addListener(gina,x,'click',function(q){q.preventDefault();ka(g,m)}),x.isBinded=!0):console.warn('[FormValidator::bindForm][upload]['+g.id+'] : did not find `upload '+m+' trigger`.\nPlease, make sure that your delete element ID is `'+b+'-'+m+'-trigger`, or add to your file input ('+g.id+') -> `data-gina-form-upload-'+m+'-trigger="your-custom-id"` definition.')},Zb=function(m,g){var h=function(b,x,q){var p=
null;switch(x){case 'data-gina-form-upload-action':p='upload-to-tmp-xml';break;case 'data-gina-form-upload-reset-action':p='upload-delete-from-tmp-xml'}var R=b.getAttribute(x);if(!R||''==R){p||console.warn('`'+x+'` definition not found for `'+b.id+'`. Trying to get default route.');var L=null;try{p&&(R=G.getRoute(p))}catch(fa){L=fa}R?(console.info('Ignore previous warnings regarding upload. I have found a default `'+x+'` route: `'+p+'@'+R.bundle+'`'),b.setAttribute('data-gina-form-upload-action',
R.toUrl())):(b='`'+x+'` needs to be defined to proceed for your `input[type=file]` with ID `'+b.id+'`\n'+L+'\n',q&&(q.innerHTML+=b.replace(/(\n|\r)/g,'<br>')),console.error(b))}};h(m,'data-gina-form-upload-action',g);h(m,'data-gina-form-upload-reset-action',g);h(m,'data-gina-form-upload-delete-action',g)},jb=function(m,g,h){m=Db(m);xb(m.target,g);return h?h(m):m},Db=function(m){var g=null,h=null;try{if(m.getAttribute&&m.getAttribute('id'))if(h=m.getAttribute('id'),'undefined'!=typeof w.$forms[h])g=
w.$forms[h];else throw Error('form instance `'+h+'` not found');else if('undefined'!=typeof m.target)g=m,h=g.id;else throw Error('Validator::unbindForm($target): `$target` must be a DOM element\n'+err.stack);}catch(p){throw Error('Validator::unbindForm($target) could not unbind form `'+m+'`\n'+p.stack);}if('undefined'!=typeof g&&!g.binded)return g;removeListener(gina,g,'success.'+h);removeListener(gina,g,'error.'+h);g.target.getAttribute('data-gina-form-event-on-submit-success')&&removeListener(gina,
g,'success.'+h+'.hform');g.target.getAttribute('data-gina-form-event-on-submit-error')&&removeListener(gina,g,'error.'+h+'.hform');removeListener(gina,g,'validate.'+h);removeListener(gina,g,'validated.'+h);removeListener(gina,g,'submit.'+h);removeListener(gina,g,'reset.'+h);m=[];h=g.target.getElementsByTagName('button');if(0<h.length)for(let p=0,R=h.length;p<R;++p)m.push(h[p]);h=g.target.getElementsByTagName('a');if(0<h.length)for(let p=0,R=h.length;p<R;++p)m.push(h[p]);h=g.target.getElementsByTagName('input');
if(0<h.length)for(let p=0,R=h.length;p<R;++p)if(/^(hidden)$/i.test(h[p].type)||m.push(h[p]),/^(file)$/i.test(h[p].type)){var b=h[p].getAttribute('data-gina-form-virtual');if(b){var x=y(b).target;if(x){m.push(x);for(let L=0,fa=ma.length;L<fa;L++){var q=ma[L];'undefined'!=typeof gina.events[q+'.'+b+'.hform']&&gina.events[q+'.'+b+'.hform']==b&&removeListener(gina,x,q+'.'+b+'.hform')}}}}else for(let L=0,fa=ma.length;L<fa;L++)b=ma[L]+'.'+h[p].id,'undefined'!=typeof gina.events[b]&&gina.events[b]==h[p].id&&
removeListener(gina,h[p],b),b=ma[L],'undefined'!=typeof gina.events[b]&&gina.events[b]==h[p].id&&removeListener(gina,h[p],b),b=h[p].id,'undefined'!=typeof gina.events[b]&&gina.events[b]==h[p].id&&removeListener(gina,h[p],b);h=g.target.getElementsByTagName('textarea');if(0<h.length)for(let p=0,R=h.length;p<R;++p)m.push(h[p]);h=g.target.getElementsByTagName('form');if(0<h.length)for(let p=0,R=h.length;p<R;++p)m.push(h[p]);m.push(g.target);for(let p=0,R=m.length;p<R;++p){h=m[p];b=h.getAttribute('id');
for(let L=0,fa=ma.length;L<fa;L++)q=x=ma[L],'undefined'!=typeof gina.events[q]&&gina.events[q]==b&&removeListener(gina,h,q),q=b,'undefined'!=typeof gina.events[q]&&gina.events[q]==b&&removeListener(gina,h,q),q=x+'.'+b,'undefined'!=typeof gina.events[q]&&gina.events[q]==b&&removeListener(gina,h,q),q=x+'.'+b,'undefined'!=typeof gina.events[q]&&gina.events[q]==q&&removeListener(gina,h,q),q=x+'.'+b+'.hform','undefined'!=typeof gina.events[q]&&gina.events[q]==b&&removeListener(gina,h,q)}evt=null;g.binded=
!1;return g},rb=function(m,g){g=g.name;if(!m[g])for(let h in m)if(/^\//.test(h)&&(re=h.match(/\/(.*)\//).pop(),flags=h.replace('/'+re+'/',''),re=re.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),re=new RegExp(re,flags),re.test(g))){m[g]=m[h];break}},xb=function(m,g){var h=null,b=null,x=typeof(0<Aa.count())?Aa:w.rules;try{if(m.getAttribute&&m.getAttribute('id'))if(b=m.getAttribute('id'),'undefined'!=typeof w.$forms[b])h=w.$forms[b];else throw Error('form instance `'+b+'` not found');else throw Error('Validator::bindForm($target, customRule): `$target` must be a DOM element\n'+
err.stack);}catch(ca){throw Error('Validator::bindForm($target, customRule) could not bind form `'+m+'`\n'+ca.stack);}if('undefined'!=typeof h&&h.binded)return!1;console.debug('binding for: '+b);var q=!1,p=null,R='',L=null;'undefined'!=typeof g||'string'==typeof b&&'undefined'!=typeof x[b.replace(/\-|\//g,'.')]?(q=!0,p=g&&'object'==typeof g?g:g&&'string'==typeof g&&'undefined'!=typeof x[g.replace(/\-|\//g,'.')]?Ea(g.replace(/\-|\//g,'.')):Ea(b.replace(/\-|\//g,'.')),h.rules=p,N&&U&&'undefined'!=typeof window.ginaToolbar&&
window.ginaToolbar&&(gina.forms.rules||(gina.forms.rules={}),objCallback={id:b,rules:h.rules},window.ginaToolbar.update('forms',objCallback))):h.rules={};'undefined'==typeof h.target.dataset.ginaFormLiveCheckEnabled&&0<h.rules.count()?h.target.dataset.ginaFormLiveCheckEnabled=!0:h.target.dataset.ginaFormLiveCheckEnabled='undefined'!=typeof h.target.dataset.ginaFormLiveCheckEnabled?/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)?!0:!1:!1;h.fieldsSet||(h.fieldsSet={});L=null;m.getElementsByTagName('a');
g=m.getElementsByTagName('input');var fa=m.getElementsByTagName('textarea');L=m.getElementsByTagName('select');var Ba={},ea=[],da={},E=null,na={},ra=null,ia=null;for(let ca=0,X=fa.length;ca<X;++ca)rb(h.rules,fa[ca]),ia=fa[ca].getAttribute('id'),ia&&''!=ia||(ia='textareas.'+ba.v4(),fa[ca].setAttribute('id',ia)),h.fieldsSet[ia]||(h.fieldsSet[ia]={id:ia,name:fa[ca].name||null,value:fa[ca].value||'',defaultValue:fa[ca].value||''}),/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)&&gb(h,fa[ca]);
for(let ca=0,X=g.length;ca<X;++ca){rb(h.rules,g[ca]);ia=g[ca].getAttribute('id');ia&&''!=ia||(ia='input.'+ba.v4(),g[ca].setAttribute('id',ia));h.fieldsSet[ia]||(E=g[ca].value,/$(on|true|false)$/i.test(E)&&(E=/$(on|true)$/i.test(E)?!0:!1),h.fieldsSet[ia]={id:ia,name:g[ca].name||null,value:E||!/^(checkbox|radio)$/i.test(g[ca].type)?'':g[ca].checked,defaultValue:/^(checkbox|radio)$/i.test(g[ca].type)?g[ca].checked:E},/^(checkbox|radio)$/i.test(g[ca].type)&&'undefined'==typeof h.fieldsSet[ia].defaultChecked&&
(h.fieldsSet[ia].defaultChecked=/^(true|on)$/i.test(g[ca].checked)||/^(true|on)$/.test(E)&&/^(checkbox)$/i.test(g[ca].type)?!0:!1,/^radio$/i.test(g[ca].type)&&(h.fieldsSet[ia].value=g[ca].value,h.fieldsSet[ia].defaultValue=g[ca].value)));/^true$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)&&gb(h,g[ca]);if(E=g[ca].getAttribute('data-gina-form-element-group'))0>ea.indexOf(E)&&ea.push(E),ra=g[ca].getAttribute('name')||ia,ra===ia&&g[ca].setAttribute('name',ia),Ba[ia]={id:ia,name:ra,group:E,target:g[ca]},
da[g[ca].name]=new RegExp('^'+E.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')),q&&('undefined'==typeof h.rules[g[ca].name]&&(h.rules[g[ca].name]={}),'undefined'!=typeof h.rules[g[ca].name].isRequired&&h.rules[g[ca].name].isRequired||(h.rules[g[ca].name].exclude=!0));if(0<da.count())for(var Z in da)g[ca].name!=Z&&(g[ca].getAttribute('data-gina-form-element-group'),da[Z].test(g[ca].name)&&(g[ca].disabled=!0,'undefined'==typeof na[Z]&&(na[Z]={}),na[Z][g[ca].name]=g[ca]));if(/^file$/i.test(g[ca].type)){ia=g[ca].getAttribute('data-gina-form-upload-trigger');
ia||(ia=g[ca].id);E=null;ra=(new DOMParser).parseFromString(m.innerHTML,'text/html');ia&&(E=document.getElementById(ia));fa=document.getElementById(g[ca].id+'-error');Zb(g[ca],fa);if((fa=ra.getElementById(ia+'-preview'))&&E&&!/none/i.test(window.getComputedStyle(fa).display)&&!/none/i.test(fa.parentElement.style.display)){ra=0;console.debug('preview is visible ...');E.customFiles=[];E.form=m;fa=fa.childNodes;for(let ja=0,ua=fa.length;ja<ua;ja++){var Ga=null;if(/ul/i.test(fa[ja].tagName))for(let Ra=
0,Xa=fa[ja].length;Ra<Xa;Ra++){let eb=$$els[ja];for(let Oa=0,wb=eb.length;Oa<wb;Oa++)/img/i.test(eb[Oa])&&(Ga=eb[Oa],Ga.setAttribute(''),ra++)}else/img/i.test(fa[ja].tagName)&&(Ga=fa[ja],deleteLinkId=ia+'-'+ra+'-delete-trigger',Ga=Ga.src.substr(Ga.src.lastIndexOf('/')+1),E.customFiles.push({name:Ga,deleteLinkId}),Ub('delete',E,ra),ra++)}}addListener(gina,g[ca],'change',function(ja){ja.preventDefault();var ua=ja.currentTarget;ja=ua.files;ua.customFiles=Array.from(ja);if(!ja.length)return!1;var Ra=
ua.getAttribute('data-gina-form-upload-action'),Xa=ua.getAttribute('name'),eb='gina-upload-'+Xa.replace(/\[/g,'-').replace(/\]/g,'-'+h.id);ua.setAttribute('data-gina-form-virtual',eb);var Oa=ua.getAttribute('data-gina-form-upload-on-success'),wb=ua.getAttribute('data-gina-form-upload-on-error'),lb=null;if(0<ja.length){var hb=null;if(z()){hb=gina.popin.getActivePopin();hb.$target=(new DOMParser).parseFromString(hb.target.outerHTML,'text/html');hb.$target.getElementById(hb.id).innerHTML=document.getElementById(hb.id).innerHTML;
var ob=hb.$target.getElementById(eb)}else ob=document.getElementById(eb);if(!ob){try{ob=y(eb)||null}catch(Rc){}ob||=z()?hb.$target.createElement('form'):document.createElement('form');ob.id=eb;ob.action=Ra;ob.enctype='multipart/form-data';ob.method='POST';if('undefined'!=typeof ua.form){Ra='files';var sb=ua.getAttribute('data-gina-form-upload-prefix')||ua.name||ua.getAttribute('name'),mb=ua.id||ua.getAttribute('id'),Kb=!1,Eb=ua.getAttribute('data-gina-form-upload-preview')||mb+'-preview';Eb=z()?hb.$target.getElementById(Eb):
document.getElementById(Eb);'undefined'!=typeof Eb&&(Kb=!0);sb&&(Ra=sb);sb=[];for(var Gb='name group originalFilename ext encoding size height width location mime preview'.split(' '),Ib=ua.form.getElementsByTagName('INPUT'),$b,Xb,Dc,gc,Nb=0,Pc=ja.length;Nb<Pc;++Nb){Ub('reset',ua,Nb);sb[Nb]=null;$b=Ra+'['+Nb+']';gc=new RegExp('^'+$b.replace(/\[/g,'\\[').replace(/\]/g,'\\]'));for(var nc=0,Lc=Ib.length;nc<Lc;++nc)$b=Ib[nc].getAttribute('type'),lb=Ib[nc].getAttribute('data-gina-form-upload-error')||mb+
'-error'||null,$b&&/hidden/i.test($b)&&(Xb=Ib[nc],$b=/\[\w+\]$/i.test(Xb.name)?Xb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Xb.name,Dc=/\[\w+\]$/i.test(Xb.name)?Xb.name.match(/\[\w+\]$/)[0].replace(/\[|\]/g,''):Xb.name,Xb&&'undefiend'!=typeof $b&&-1<Gb.indexOf($b)&&gc.test(Xb.name)?(sb[Nb]||(sb[Nb]={}),/\[preview\]/i.test(Xb.name)?('undefined'==typeof sb[Nb].preview&&(sb[Nb].preview={}),sb[Nb].preview[$b]=Xb):sb[Nb][$b]=Xb):Xb&&'undefiend'!=typeof $b&&0>Gb.indexOf($b)&&gc.test(Xb.name)&&(sb[Nb]||
(sb[Nb]={}),/\[preview\]/i.test(Xb.name)?('undefined'==typeof sb[Nb].preview&&(sb[Nb].preview={}),sb[Nb].preview[Dc]=Xb):sb[Nb][Dc]=Xb));gc=0;for(nc=Gb.length;gc<nc;++gc)sb[Nb]||(sb[Nb]={}),'undefined'==typeof sb[Nb][Gb[gc]]&&($b=Ra+'['+Nb+']['+Gb[gc]+']',$newVirtualField=document.createElement('input'),$newVirtualField.type='hidden',$newVirtualField.id='input.'+ba.v4(),$newVirtualField.name=$b,$newVirtualField.value='',ua.form.appendChild($newVirtualField),sb[Nb][Gb[gc]]=ua.form[ua.form.length-1])}ob.uploadProperties=
{id:ua.form.id||ua.getAttribute('id'),uploadTriggerId:ua.id,$form:ua.form,errorField:lb,mandatoryFields:Gb,uploadFields:sb,hasPreviewContainer:Kb,isPopinContext:z()};Kb&&(ob.uploadProperties.previewContainer=Eb)}Oa?ob.setAttribute('data-gina-form-event-on-submit-success',Oa):ob.setAttribute('data-gina-form-event-on-submit-success','onGenericXhrResponse');wb?ob.setAttribute('data-gina-form-event-on-submit-error',wb):ob.setAttribute('data-gina-form-event-on-submit-error','onGenericXhrResponse');z()?
document.getElementById(hb.id).appendChild(ob):document.body.appendChild(ob)}try{var Qc=y(eb),rc=new FormData;ua=null;eb=0;for(var sc=ja.length;eb<sc;++eb)ua=ja[eb],rc.append(Xa,ua,ua.name);Qc.send(rc,{withCredentials:!0})}catch(Rc){throw Rc;}}})}}var Pa=function(ca,X){ca.setAttribute('data-value',ca.value);if(/^(true)$/i.test(X.target.dataset.ginaFormLiveCheckEnabled&&0<X.rules.count())){var ja={},ua={},Ra=null;Ra=ca.form;ja[event.target.name]=event.target.value;ua[event.target.name]=event.target;
w.$forms[Ra.getAttribute('id')].isValidating=!0;za(event.target,ja,ua,X.rules,function(Xa){w.$forms[Ra.getAttribute('id')].isValidating=!1;Xa.isValid()?H(Ra,{},Xa.data,event.target.name):H(Ra,Xa.error,Xa.data,event.target.name);var eb=Ra,Oa=Xa=null,wb=null;Oa=db(eb,x);Xa=Oa.fields;Oa=Oa.$fields;var lb=eb.getAttribute('id');wb=w.$forms[lb].rules;w.$forms[lb].isValidating=!0;za(eb,Xa,Oa,wb,function(hb){w.$forms[lb].isValidating=!1;console.debug('[updateSelect]: onSilentGlobalLiveValidation: '+hb.isValid(),
hb);hb=hb.isValid();Ka(eb,hb);once=!1})})}};E=na=null;Z=0;for(da=L.length;Z<da;++Z)if(rb(h.rules,L[Z]),ia=L[Z].getAttribute('id'),!ia||!/^gina\-toolbar/.test(ia)){ia&&''!=ia||(ia='select.'+ba.v4(),L[Z].setAttribute('id',ia));if(E=L[Z].getAttribute('data-gina-form-element-group'))na=L[Z].getAttribute('name')||ia,na===ia&&L[Z].setAttribute('name',ia),Ba[ia]={id:ia,name:na,group:E,target:L[Z]};addListener(gina,L[Z],'change',function(ca){ca=ca.target;/select/i.test(ca.type)&&Pa(ca,h)});if(L[Z].options&&
!h.fieldsSet[ia]){na=0;if(E=L[Z].getAttribute('data-value')||null)for(ra=0,fa=L[Z].options.length;ra<fa;++ra)if(L[Z].options[ra].value==E){na=ra;L[Z].selectedIndex=na;break}'undefined'!=typeof L[Z].options[L[Z].selectedIndex]&&L[Z].options[L[Z].selectedIndex].index&&(na=L[Z].options[L[Z].selectedIndex].index);0<L[Z].options.length&&'undefined'!=typeof L[Z].options[na]&&(E=L[Z].options[na].value);h.fieldsSet[ia]={id:ia,name:L[Z].name||null,value:E||null,selectedIndex:na||0};'undefined'!=typeof L[Z].selectedIndex&&
-1<L[Z].selectedIndex&&(L[Z].options[na].selected=!0,L[Z].setAttribute('data-value',L[Z].options[na].value))}}var $a=function(ca,X,ja,ua){'undefined'==typeof ua&&(ua=!1);if('undefined'==typeof Ba[ca])throw Error('Radio & Checkbox dependencies not met: you must use the ID attribue of the `master element` as the `data-gina-form-element-group`');var Ra=ca.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');ca=Ba[ca].target.checked;for(let Oa in Ba)if(!/radio|checkbox/i.test(Ba[Oa].target.type)){var Xa=new RegExp(Ra);
var eb=new RegExp(X);if(Xa.test(Ba[Oa].group)&&eb.test(Ba[Oa].group)||Xa.test(Ba[Oa].group))Ba[Oa].target.disabled=!0,'undefined'==typeof h.rules[Ba[Oa].name]&&(h.rules[Ba[Oa].name]={}),h.rules[Ba[Oa].name].exclude=!0,ua?(Ba[Oa].target.disabled=ca?!1:!0,h.rules[Ba[Oa].name].exclude=ca?!1:!0):(Ba[Oa].target.disabled=ja,h.rules[Ba[Oa].name].exclude=ja)}},ib=function(ca,X,ja,ua){'undefined'==typeof ua&&(ua=!1);if(ua&&'undefined'!=typeof Ba[X.id])return ca=/true/i.test(X.checked)?!1:!0,$a(X.id,Ba[X.id].group,
ca,ua);ja=X.name;q&&'undefined'==typeof ca.rules[ja]&&(ca.rules[ja]={});/^true$/i.test(X.checked)?q&&(ca.rules[ja].exclude=!1,'undefined'!=typeof Ba[X.id]&&$a(X.id,Ba[X.id].group,!1,ua)):q&&(ca.rules[ja].exclude=!0,'undefined'!=typeof Ba[X.id]&&$a(X.id,Ba[X.id].group,!0,ua))},Cb=function(ca,X){'undefined'==typeof X&&(X=!1);var ja=function(Oa,wb,lb){if(wb)ib(h,Oa,wb);else for(let hb in Ba)if(eb.test(Ba[hb].group)||eb.test(Ba[hb].target.getAttribute('data-gina-form-element-group')))Ba[hb].target.disabled=
lb};X&&/^(on)$/i.test(ca.value)&&!ca.checked&&(ca.value=!1);var ua=ca.getAttribute('data-value')||ca.getAttribute('value')||ca.value;ua=/^(true|on)$/.test(ua)?!0:ua;''===ua&&(ua=!1);var Ra=/^(true|on|false)$/i.test(ua)?!0:!1;X&&Ra&&(/^true$/i.test(ua)&&!ca.checked?ca.checked=!0:/^false$/i.test(ua)&&ca.checked&&(ca.checked=!1));ua=ca.checked;var Xa=ca.getAttribute('data-gina-form-element-group')||null,eb=new RegExp(ca.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));ua&&'null'!=ua&&'false'!=ua&&''!=ua?(X?
zb(ca):(setTimeout(function(){ca.checked=!0;ja(ca,Xa,!1);zb(ca)},0),ca.setAttribute('checked','checked')),Ra&&(ca.value=!0,ca.setAttribute('value',!0),typeof('undefined'!=ca.getAttribute('data-value'))&&ca.setAttribute('data-value',!0))):(X?zb(ca):setTimeout(function(){ca.checked=!1;ja(ca,Xa,!0);zb(ca)},0),ca.removeAttribute('checked'),Ra&&(ca.value=!1,ca.setAttribute('value','false'),typeof('undefined'!=ca.getAttribute('data-value'))&&ca.setAttribute('data-value','false')))},zb=function(ca){ca=new RegExp(ca.id.replace(/\-|_|@|#|\.|\[|\]/g,
'\\$&'));for(let X in Ba)(/checkbox/i.test(Ba[X].target.type)&&ca.test(Ba[X].group)||/checkbox/i.test(Ba[X].target.type)&&ca.test(Ba[X].target.getAttribute('data-gina-form-element-group')))&&ib(h,Ba[X].target,Ba[X].group,!0)},qb=function(ca,X){X=ca.id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');X=new RegExp(X);for(let ja in Ba)if(/checkbox|radio/i.test(Ba[ja].target.type)||(Ba[ja].target.disabled=!0,'undefined'==typeof h.rules[Ba[ja].name]&&(h.rules[Ba[ja].name]={}),h.rules[Ba[ja].name].exclude=!0),X.test(Ba[ja].group)||
X.test(Ba[ja].target.getAttribute('data-gina-form-element-group').replace(/\-|_|@|#|\.|\[|\]/g,'\\$&')))Ba[ja].target.disabled=!0,'undefined'==typeof h.rules[Ba[ja].name]&&(h.rules[Ba[ja].name]={}),/^(true|on)$/i.test(ca.checked)?(Ba[ja].target.disabled=!1,h.rules[Ba[ja].name].exclude=!1):(Ba[ja].target.disabled=!0,h.rules[Ba[ja].name].exclude=!0);zb(ca)},Mb=null,Ya=function(ca,X,ja){X='undefined'!=typeof X&&X?!0:!1;ja='undefined'!=typeof ja&&ja?!0:!1;var ua=ca.checked,Ra=/^(true|false)$/i.test(ca.value);
Mb=document.getElementsByName(ca.name);for(let Xa=0,eb=Mb.length;Xa<eb;++Xa)Mb[Xa].id!==ca.id&&ua&&(Mb[Xa].checked=!1,Mb[Xa].removeAttribute('checked'),qb(Mb[Xa],!0));X?qb(ca):(ua&&'null'!=ua&&'false'!=ua&&''!=ua?setTimeout(function(){ja?qb(ca):(ca.checked=!1,ca.removeAttribute('checked'))},0):setTimeout(function(){ja?qb(ca):(ca.checked=!0,ca.setAttribute('checked','checked'))},0),Ra&&(ca.value=/^true$/.test(ca.value)?!0:!1))};Z=0;for(da=g.length;Z<da;++Z){L=g[Z].getAttribute('type');if('undefined'==
typeof g[Z].id||''==g[Z].id)g[Z].id=L+'-'+ba.v4(),g[Z].setAttribute('id',g[Z].id);if('undefined'!=typeof L&&/^checkbox$/i.test(L)){if(g[Z].disabled&&-1<ea.indexOf(g[Z].id)||!g[Z].checked&&-1<ea.indexOf(g[Z].id)){L=new RegExp(g[Z].id.replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'));for(var cb in Ba)L.test(Ba[cb].group)&&(Ba[cb].target.disabled=!0)}R='change.'+g[Z].id;L=function(ca,X){addListener(gina,ca,X,function(ja){Cb(ja.target);triggerEvent(gina,ja.target,'changed.'+ja.target.id)});Cb(ca,!0)};'undefined'!=
typeof gina.events[R]&&gina.events[R]==g[Z].id&&removeListener(gina,g[Z],R);L(g[Z],R)}else'undefined'!=typeof L&&/^radio$/i.test(L)&&(R=g[Z].id,L=function(ca,X){addListener(gina,ca,X,function(ja){Ya(ja.target);triggerEvent(gina,ja.target,'changed.'+ja.target.id)});Ya(ca,!0)},'undefined'!=typeof gina.events[R]&&gina.events[R]==g[Z].id&&removeListener(gina,g[Z],R),L(g[Z],R))}R='click';L=function(){var ca=null;ca='reset.'+m.id;'undefined'==typeof gina.events[ca]&&addListener(gina,m,ca,function(X){X.preventDefault();
var ja=w.$forms[X.currentTarget.id||X.target.id];ja.target.dataset.ginaFormIsResetting=!0;T(ja);X=db(ja.target,ja.rules,!0);za(ja.target,X.fields,X.$fields,ja.rules,function(ua){var Ra=ua.isValid();console.debug('silent reset validation result[isValid:'+Ra+']: ',ua);H(ja.target,{});Ka(ja.target,Ra);ja.target.dataset.ginaFormIsResetting=!1})});addListener(gina,m,'reset',function(X){var ja=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;X.preventDefault();var ua=ja.id;
if(!ua)return!1;/^reset\./.test(ua)||(ua='reset.'+ja.id);gina.events[ua]&&triggerEvent(gina,ja,ua,X.detail)});addListener(gina,m,'keydown',function(X){var ja=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;I[X.keyCode]='keydown'==X.type;var ua=ja.id;if(!ua)return!1;/^keydown\./.test(ua)||(ua='keydown.'+ja.id);gina.events[ua]&&(cancelEvent(X),triggerEvent(gina,ja,ua,X.detail,X))});addListener(gina,m,'keyup',function(X){var ja=X.target;if('undefined'!=typeof X.defaultPrevented&&
X.defaultPrevented)return!1;I[X.keyCode]&&delete I[X.keyCode];var ua=ja.id;if(!ua)return!1;/^keyup\./.test(ua)||(ua='keyup.'+ja.id);gina.events[ua]&&(cancelEvent(X),triggerEvent(gina,ja,ua,X.detail,X))});addListener(gina,m,'focusin',function(X){var ja=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;var ua=ja.id;if(!ua)return!1;/^focusin\./.test(ua)||(ua='focusin.'+ja.id);gina.events[ua]&&(cancelEvent(X),triggerEvent(gina,ja,ua,X.detail))});addListener(gina,m,'focusout',
function(X){var ja=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;var ua=ja.id;if(!ua)return!1;/^focusout\./.test(ua)||(ua='focusout.'+ja.id);gina.events[ua]&&(cancelEvent(X),triggerEvent(gina,ja,ua,X.detail))});addListener(gina,m,'change',function(X){var ja=X.target;if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;var ua=ja.id;if(!ua)return!1;/^change\./.test(ua)||(ua='change.'+ja.id);gina.events[ua]&&(cancelEvent(X),triggerEvent(gina,ja,ua,
X.detail))});addListener(gina,m,'click',function(X){var ja=X.target,ua=!1,Ra=!1;if(/(label)/i.test(X.target.tagName)&&'undefined'!=typeof X.target.control&&null!=X.target.control&&/(checkbox|radio)/i.test(X.target.control.type)||/(label)/i.test(X.target.parentNode.tagName)&&'undefined'!=typeof X.target.parentNode.control&&null!=X.target.parentNode.control&&/(checkbox|radio)/i.test(X.target.parentNode.control.type))Ra=X.target.getAttribute('for')||X.target.parentNode.getAttribute('for')?!0:!1,ja=X.target.control||
X.target.parentNode.control;if(!ja.disabled&&/(checkbox|radio)/i.test(ja.type)&&!Ra){if(/checkbox/i.test(ja.type))return Cb(ja);if(/radio/i.test(ja.type))return Ya(ja,!1,!0)}if(/(button|input)/i.test(ja.tagName)&&/(submit|checkbox|radio)/i.test(ja.type)||/a/i.test(ja.tagName)&&ja.attributes.getNamedItem('data-gina-form-submit')||/a/i.test(ja.parentNode.tagName)&&ja.parentNode.attributes.getNamedItem('data-gina-form-submit')){Ra=ja.attributes.getNamedItem('data-gina-form-submit');var Xa=ja.parentNode.attributes.getNamedItem('data-gina-form-submit');
if(Ra||Xa)ua=!0,(Xa=Ra?ja.getAttribute('data-gina-form-submit-method')||X.currentTarget.getAttribute('method'):ja.parentNode.getAttribute('data-gina-form-submit-method')||X.currentTarget.getAttribute('method'))&&(Ra&&ja.form?ja.form.setAttribute?ja.form.setAttribute('method',Xa):X.currentTarget.setAttribute('method',Xa):ja.parentNode.form&&(ja.parentNode.form.setAttribute?ja.parentNode.form.setAttribute('method',Xa):X.currentTarget.setAttribute('method',Xa)));'undefined'!=typeof ja.id&&ja.getAttribute('id')||
ja.setAttribute('id','click.'+ba.v4());ja.id=ja.getAttribute('id');if(/^click\./.test(ja.id)||q){Ra=ja.id;if(!Ra)return!1;/^click\./.test(Ra)||(Ra=ja.id);if(!ja.disabled&&/(checkbox|radio)/i.test(ja.type)){if(/checkbox/i.test(ja.type))return Cb(ja);if(/radio/i.test(ja.type))return Ya(ja,!1,!0)}if('undefined'!=typeof X.defaultPrevented&&X.defaultPrevented)return!1;if('submit'==ja.type&&!/^submit\./i.test(Ra)||ua&&!/^submit\./i.test(Ra))Ra='submit.'+Ra;'reset'!=ja.type||/^reset\./i.test(Ra)||(Ra='reset.'+
Ra);gina.events[Ra]?(cancelEvent(X),triggerEvent(gina,ja,Ra,X.detail)):ua&&'undefined'!=typeof this.id&&''!=this.id&&'undefined'!=typeof gina.validator.$forms[this.id]&&(gina.validator.getFormById(this.id).submit(),cancelEvent(X))}}})};L();R='validate.'+b;L=function(){addListener(gina,m,R,function(ca){cancelEvent(ca);var X=h.eventData.error||h.eventData.validation||ca.detail;H(ca.target,X.fields||X.error,X.data);ca=ca.target.getAttribute('id');if('undefined'!=typeof X.isValid&&X.isValid()){var ja=
w.$forms[ca].target.getAttribute('data-gina-form-inherits-data')||null;ja&&(X.data=Q(X.data,JSON.parse(decodeURIComponent(ja))));w.$forms[ca]?w.$forms[ca].send(X.data):h&&h.send(X.data)}})};'undefined'!=typeof gina.events[R]&&gina.events[R]=='validate.'+b&&removeListener(gina,h,R,L);L();cb=function(ca,X){/^submit\./i.test(ca)||(ca='submit.'+ca);addListener(gina,X,ca,function(ja){cancelEvent(ja);var ua={};ja={_length:0};var Ra=m.getAttribute('id'),Xa='undefined'!=typeof w.$forms[Ra]?w.$forms[Ra].rules:
null;w.$forms[Ra].sent||(ua=db(m,Xa),ja=ua.fields,ua=ua.$fields,Xa=w.$forms[Ra].rules,0==ja._length?(delete ja._length,ja={error:[],isValid:function(){return!0},data:Na(ja)},triggerEvent(gina,m,'validate.'+b,ja)):(b=m.getAttribute('id'),p=(Xa=m.getAttribute('data-gina-form-rule'))?Ea(Xa.replace(/\-|\//g,'.')):Ea(b.replace(/\-/g,'.')),w.$forms[Ra].isSubmitting=!0,w.$forms[Ra].isSending=!1,za(m,ja,ua,p,function(eb){triggerEvent(gina,m,'validate.'+b,eb)})))})};ea=null;g=[];ea=[];L=null;ea=m.getElementsByTagName('button');
if(0<ea.length)for(let ca=0,X=ea.length;ca<X;++ca)'submit'==ea[ca].type&&g.push(ea[ca]);ea=m.getElementsByTagName('a');if(0<ea.length)for(let ca=0,X=ea.length;ca<X;++ca)ea[ca].attributes.getNamedItem('data-gina-form-submit')?g.push(ea[ca]):ea[ca].getAttribute('id')||/gina\-popin/.test(ea[ca].className)||gina.popinIsBinded||/gina\-link/.test(ea[ca].className)||(L='link.'+ba.v4(),ea[ca].id=L);L=null;Z=!1;for(let ca=0,X=g.length;ca<X;++ca){ea=g[ca];if(/button/i.test(ea.tagName)&&'undefined'!=typeof ea.type&&
/submit/i.test(ea.type)||/a/i.test(ea.tagName)&&'undefined'!=typeof ea.dataset.ginaFormSubmit&&/^true$/i.test(ea.dataset.ginaFormSubmit)||/a/i.test(ea.parentNode.tagName)&&'undefined'!=typeof ea.parentNode.dataset.ginaFormSubmit&&/^true$/i.test(ea.parentNode.dataset.ginaFormSubmit)){/a/i.test(ea.parentNode.tagName)&&(ea=ea.parentNode);if('undefined'==typeof ea.id||'undefined'!=typeof ea.id&&''==ea.id)ea.id='click.'+ba.v4(),ea.setAttribute('id',ea.id);/a/i.test(ea.tagName)&&'undefined'==typeof ea.form&&
(ea.form={id:h.id});'undefined'==typeof ea.dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof w.$forms[h.id]&&'undefined'==typeof w.$forms[h.id].submitTrigger&&'undefined'!=typeof ea.form.id&&h.id==ea.form.id&&(console.debug('attching submitTrigger: '+ea.id,'  form id: '+h.id),w.$forms[h.id].submitTrigger=h.submitTrigger=ea.id||ea.getAttribute('id'),ea.dataset.ginaFormSubmitTriggerFor=h.id)}'A'==ea.tagName&&(L=ea.getAttribute('onclick'),Z=ea.getAttribute('data-gina-form-submit'),L||Z?/return false/i.test(L)||
Z||(L=/;$/.test(L)?L+'return false;':L+'; return false;'):ea.setAttribute('onclick','return false;'));ea.id?R=ea.id:(R='click.'+ba.v4(),ea.id=R,ea.setAttribute('id',R));'undefined'!=typeof gina.events[R]&&gina.events[R]==ea.id||cb(R,ea)}R='submit';addListener(gina,m,R,function(ca){var X=ca.target,ja=X.getAttribute('id'),ua=w.$forms[ja],Ra=h.binded;(ua=(new DOMParser).parseFromString(X.innerHTML,'text/html').getElementById(ua.submitTrigger))&&ua.disabled&&cancelEvent(ca);if('undefined'!=typeof ca.defaultPrevented&&
ca.defaultPrevented)return!1;(q||Ra)&&cancelEvent(ca);ca={};Ra={_length:0};ua='undefined'!=typeof gina.validator.$forms[ja]?gina.validator.$forms[ja].rules:null;for(var Xa=null,eb=null,Oa=0,wb=X.length;Oa<wb;++Oa)Xa=X[Oa].getAttribute('name'),eb=X[Oa].disabled||X[Oa].getAttribute('disabled'),eb=/disabled|true/i.test(eb)?!0:!1,Xa&&!eb&&('undefined'!=typeof X[Oa].type&&'radio'==X[Oa].type||'undefined'!=typeof X[Oa].type&&'checkbox'==X[Oa].type?X[Oa].checked?/^(true|false)$/.test(X[Oa].value)?Ra[Xa]=
X[Oa].value=/^true$/.test(X[Oa].value)?!0:!1:Ra[Xa]=X[Oa].value:ua&&'undefined'!=typeof ua[Xa]&&'undefined'!=typeof ua[Xa].isBoolean&&'checkbox'==X[Oa].type&&!/^(true|false)$/.test(X[Oa].value)&&(Ra[Xa]=!1):Ra[Xa]=X[Oa].value,ca[Xa]=X[Oa],ca[Xa].setAttribute('data-gina-form-errors',''));Ra._length=Ra.count();0==Ra._length?(delete Ra._length,ca={error:[],isValid:function(){return!0},data:Na(Ra)},'undefined'!=typeof gina.events['submit.'+ja]?triggerEvent(gina,X,'submit.'+ja,ca):triggerEvent(gina,X,
'validate.'+ja,ca)):(p=(ua=X.getAttribute('data-gina-form-rule'))?Ea(ua.replace(/\-|\//g,'.')):Ea(ja.replace(/\-/g,'.')),w.$forms[ja].isValidating=!0,za(X,Ra,ca,p,function(lb){w.$forms[ja].isValidating=!1;'undefined'!=typeof gina.events['submit.'+ja]?triggerEvent(gina,X,'submit.'+ja,lb):triggerEvent(gina,X,'validate.'+ja,lb)}))});w.$forms[b].binded=!0;/^(true)$/i.test(h.target.dataset.ginaFormLiveCheckEnabled&&0<h.rules.count())?(console.debug('silent validation mode on'),cb=db(h.target,h.rules),
za(h.target,cb.fields,cb.$fields,h.rules,function(ca){console.debug('silent validation result[isValid:'+ca.isValid()+']: ',ca);N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:b,errors:ca.error}));Ka(h,ca.isValid())})):/^(true)$/i.test(h.target.dataset.ginaFormLiveCheckEnabled)||Ka(h,!0)},Ka=function(m,g){$formInstance=null;m instanceof HTMLFormElement?(m=m.getAttribute('id'),$formInstance=w.$forms[m]):
$formInstance=m;'undefined'==typeof $formInstance.submitTrigger?console.warn('This might be normal, so do not worry if this form is handled by your javascript: `'+$formInstance.id+'`\nGina could not complete `updateSubmitTriggerState()`: `submitTrigger` might not be attached to form instance `'+$formInstance.id+'`\nTo disable this warning, You just need to disable `Form Live Checking on your form by adding to your <form>: `data-gina-form-live-check-enabled=false``'):document.getElementById($formInstance.submitTrigger)&&
(/true/i.test(g)?document.getElementById($formInstance.submitTrigger).disabled=!1:document.getElementById($formInstance.submitTrigger).disabled=!0)},db=function(m,g,h){'undefined'==typeof h&&(h=!1);var b={},x={},q=m.id||m.getAttribute('id');'undefined'==typeof g&&(g='undefined'!=typeof w.$forms[q].rules&&0<w.$forms[q].rules.count()?w.$forms[q].rules:null,g||'undefined'==typeof gina.validator.$forms[q]||(g=gina.validator.$forms[q].rules));for(var p=0,R=m.length;p<R;++p){if(h)switch(m[p].tagName.toLowerCase()){case 'input':/^(hidden|text)$/i.test(m[p].type)&&
(m[p].value=m[p].defaultValue)}if(/button/i.test(m[p].tagName)&&'undefined'!=typeof m[p].type&&/submit/i.test(m[p].type)||/a/i.test(m[p].tagName)&&'undefined'!=typeof m[p].dataset.ginaFormSubmit&&/^true$/i.test(m[p].dataset.ginaFormSubmit))/a/i.test(m[p].tagName)&&'undefined'==typeof m[p].form&&(m[p].form={id:q}),'undefined'==typeof m[p].dataset.ginaFormSubmitTriggerFor&&'undefined'!=typeof w.$forms[q]&&'undefined'==typeof w.$forms[q].submitTrigger&&'undefined'!=typeof m[p].form.id&&q==m[p].form.id&&
(w.$forms[q].submitTrigger=m[p].id||m[p].getAttribute('id'),m[p].dataset.ginaFormSubmitTriggerFor=q);var L=m[p].getAttribute('name');var fa=m[p].disabled||m[p].getAttribute('disabled');fa=/disabled|true/i.test(fa)?!0:!1;if(L&&!fa){if('undefined'!=typeof m[p].type&&'radio'==m[p].type||'undefined'!=typeof m[p].type&&'checkbox'==m[p].type)if(m[p].checked||'undefined'==typeof g[L]&&'undefined'!=m[p].value&&/^(true|false)$/.test(m[p].value)||!m[p].checked&&'undefined'!=typeof g[L]&&'undefined'!=typeof g[L].isBoolean&&
/^(true|false)$/.test(m[p].value))if(/^(true|false)$/.test(m[p].value))if('undefined'==typeof g[L]?g[L]={isBoolean:!0}:'undefined'!=typeof g[L]&&'undefined'==typeof g[L].isBoolean&&(g[L].isBoolean=!0,g[L].isRequired=!0),'radio'==m[p].type){if('undefined'==typeof g[L])throw Error('rule '+L+' is not defined');/^true$/.test(g[L].isBoolean)&&m[p].checked&&(x[L]=/^true$/.test(m[p].value)?!0:!1)}else x[L]=m[p].value=/^true$/.test(m[p].value)?!0:!1;else x[L]=m[p].value;else g&&'undefined'!=typeof g[L]&&
'undefined'!=typeof g[L].isBoolean&&'undefined'!=typeof g[L].isRequired&&!/^(true|false)$/.test(m[p].value)&&(x[L]=!1);else x[L]=m[p].value;'undefined'==typeof b[L]&&(b[L]=m[p],b[L].setAttribute('data-gina-form-errors',''))}}x._length=x.count()||0;return{$fields:b,fields:x,rules:g}},Lb=function(m,g,h,b){return'undefined'==typeof m[h]||/^(null|NaN|undefined|\s*)$/i.test(g[h])?g[h]:'undefined'!=typeof m[h].isNumber||'undefined'!=typeof m[h].isInteger||'undefined'!=typeof m[h].isFloat||'undefined'!=
typeof m[h].toFloat||'undefined'!=typeof m[h].toInteger?(/,/.test(g[h])&&(g[h]=g[h].replace(/,/g,'.').replace(/\s+/g,'')),g[h]):'boolean'==typeof g[h]?g[h]:m[h].isBoolean?/^true$/i.test(g[h])?!0:!1:'undefined'!=typeof b&&/^true$/i.test(b)?'\\"'+g[h]+'\\"':g[h]},Vb=function(m,g){'string'!=typeof m&&(m=JSON.stringify(JSON.clone(m)));m=JSON.parse(m.replace(/"(true|false)"/gi,'$1'));for(let h in g)g[h]=Lb(m,g,h);return g},ya=function(m,g,h,b){var x=JSON.parse(m.replace(/"(true|false)"/gi,'$1')),q=JSON.stringify(x);
b&&(g=h[Object.getOwnPropertyNames(h)[0]].form,h=db(g,x),delete h.fields._length,g=h.fields,h=h.$fields);b=[];var p=0;for(R in g)b[p]=R,p++;b.sort().reverse();for(let fa=0,Ba=b.length;fa<Ba;fa++){var R=b[fa].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&');R=new RegExp('\\$'+R,'g');p='\\"'+g[b[fa]]+'\\"';var L=R.test(q);L&&'undefined'!=typeof x[b[fa]]?p=Lb(x,g,b[fa],!0):L&&console.warn('`'+b[fa]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+b[fa]+'` to `string`.');
m=m.replace(R,p)}if(/\$(.*)/.test(m))for(let fa=0,Ba=b.length;fa<Ba;fa++)R=b[fa].replace(/\-|_|@|#|\.|\[|\]/g,'\\$&'),R=new RegExp('\\$'+R,'g'),p=''!=h[b[fa]].value?'\\"'+h[b[fa]].value+'\\"':'\\"\\"',(L=R.test(q))&&'undefined'!=typeof x[b[fa]]?p=Lb(x,g,b[fa],!0):L&&console.warn('`'+b[fa]+'` is used in a dynamic rule without definition. This could lead to an evaluation error. Casting `'+b[fa]+'` to `string`.'),m=m.replace(R,p||h[b[fa]].checked);return JSON.parse(m)},za=function(m,g,h,b,x){delete g._length;
var q=JSON.stringify(b);g=Vb(q,g);/\$(.*)/.test(q)&&(b=!/^form$/i.test(m.tagName)&&1==h.count()&&/true/i.test(m.form.dataset.ginaFormLiveCheckEnabled)?!0:!1,b=ya(q,g,h,b));var p=null,R=q=null,L=!1,fa=0;g.count();var Ba=!1,ea=null,da=null,E=null,na=0,ra=null,ia=null,Z=null,Ga=function(Ya,cb,ca){if('undefined'==typeof cb[Ya]){skipTest=!1;for(var X in cb)if(!/^_comment$/i.test(X)&&/^\//.test(X)&&(ra=X.match(/\/(.*)\//).pop(),ia=X.replace('/'+ra+'/',''),ra=ra.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),
ra=new RegExp(ra,ia),ra.test(Ya))){skipTest=!0;cb[Ya]=cb[X];break}if('undefined'==typeof cb[Ya])return}var ja=Object.getOwnPropertyNames(cb)||[];X=0;var ua=ja.length;if(0<ua)for(;X<ua;)'undefined'!=typeof cb[ja[X]].exclude&&/^true$/i.test(cb[ja[X]].exclude)&&(ja.splice(X,1),ua--,X--),X++;for(var Ra in cb[Ya])if('function'==typeof Pa[Ya][Ra]){/^((is)\d+|is$)/.test(Ra)&&'undefined'==typeof Pa[Ya][Ra]&&(Pa[Ya][Ra]=function(){},Pa[Ya][Ra]=S(Pa[Ya][Ra],Pa[Ya][Ra.replace(/\d+/,'')]),Pa[Ya][Ra].setAlias=
function(lb){this._currentValidatorAlias=lb}(Ra));try{if(Array.isArray(cb[Ya][Ra])){Z=JSON.clone(cb[Ya][Ra]);if(/\$[\-\w\[\]]*/.test(Z[0])){var Xa=Z[0].match(/\$[\-\w\[\]]*/g);X=0;for(var eb=Xa.length;X<eb;++X)Z[0]=Z[0].replace(Xa[X],Pa[Xa[X].replace('$','')].value)}Pa[Ya][Ra].apply(Pa[Ya],Z)}else if(/^query$/.test(Ra)){ea=h[Ya];da=ea.getAttribute('id');E='asyncCompleted.'+da;var Oa=0,wb=!1;if('undefined'!=typeof gina.events[E]){console.debug('event `'+E+'` already added');na=0;break}++na;addListener(gina,
ea,E,function(lb){lb.preventDefault();Oa++;--na;var hb=Object.getOwnPropertyNames(cb[Ya]);hb[hb.length-1]==Ra&&(Ba=!0);hb='asyncCompleted.'+lb.target.getAttribute('id');if(!/true/.test(wb)){Pa[Ya]=lb.detail;var ob=m;/^form$/i.test(m.tagName)||(ob=m.form);var sb=ob.getAttribute('id');if(Ba&&0>=na&&!wb&&(wb=!0,removeListener(gina,lb.target,hb),x._data=Pa.toData(),x._errors=Pa.getErrors(Ya),x._errors&&0<x._errors.count())){'undefined'==typeof w.$forms[sb].errors&&(w.$forms[sb].errors={});w.$forms[sb].errors[Ya]=
x._errors[Ya];if(!mb&&/^true|false$/i.test(w.$forms[sb].isValidating)||''!=Pa[Ya].target.value)u(zb[Ya]),H(ob,x._errors,x._data,Ya),Ka(ob,mb);N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:sb,errors:w.$forms[sb].errors||{}}));triggerEvent(gina,ob,'validated.'+sb,x);return}lb=!1;var mb=null;1==ja.length||ja[ja.length-1]==Ya?(mb=0<x._errors.count()?!1:!0,!mb&&/^true|false$/i.test(w.$forms[sb].isValidating)&&
(w.$forms[sb].errors=Q(x._errors,w.$forms[sb].errors),u(zb[Ya]),H(ob,x._errors,x._data,Ya),Ka(ob,mb)),triggerEvent(gina,ob,'validated.'+sb,x)):/^true$/i.test(w.$forms[sb].isValidating)&&1<ja.length&&ja[ja.length-1]!=Ya&&(lb=!0);lb&&za(ob,Cb,zb,cb,function(Kb){w.$forms[sb].isValidating=!1;mb=Kb.isValid();N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&(gina.forms.errors||(gina.forms.errors={}),window.ginaToolbar.update('forms',{id:sb,errors:Kb.error||{}}));H(ob,Kb.error,Kb.data,Ya);
Ka(ob,mb)})}});Pa[Ya][Ra](cb[Ya][Ra]);continue}else Pa[Ya][Ra](cb[Ya][Ra]);delete ca[Ya]}catch(lb){if('conditions'==Ra)throw Error('[ ginaFormValidator ] could not evaluate `'+Ya+'->'+Ra+'()` where `conditions` must be a `collection` (Array)\nStack:\n'+lb);throw Error('[ ginaFormValidator ] could not evaluate `'+Ya+'->'+Ra+'()`\nStack:\n'+lb);}}},Pa=null,$a={},ib=!1;U?/^form$/i.test(m.tagName)?(p=m.getAttribute('id'),q='validated.'+p,w.$forms[p].fields=g,'undefined'!=typeof m.eventData&&'undefined'!=
typeof m.eventData.error&&delete m.eventData.error,Pa=new r(g,h,A)):(ib=!0,p=m.form.getAttribute('id')||m.form.target.getAttribute('id'),q='validated.'+p,w.$forms[p].fields=g,Pa=new r(g,h,A,w.$forms[p].fieldsSet)):Pa=new r(g,null,A);var Cb=null,zb=null;if(ib){ib=m.form.getAttribute('id');var qb=db(w.$forms[ib].target,w.$forms[ib].rules,!1);Cb=Vb(JSON.stringify(w.$forms[ib].rules),JSON.clone(qb.fields));zb=qb.$fields}else Cb=JSON.clone(g),zb=h;ib='undefined'!=typeof b?JSON.clone(b):{};var Mb=function(Ya,
cb,ca,X,ja,ua,Ra,Xa){var eb=null;if('undefined'!=typeof ua)for(var Oa in X){var wb=ja[Oa].getAttribute('type');if(U&&'undefined'==typeof ja[Oa])console.warn('field `'+Oa+'` found for your form rule ('+Ya.id+'), but not found in $field collection.\nPlease, check your HTML or remove `'+Oa+'` declaration from your rule if this is a mistake.');else{U&&ja[Oa].getAttribute('data-gina-form-element-group')&&'undefined'!=typeof ua[Oa]&&'undefined'!=typeof ua[Oa].exclude&&ua[Oa].exclude&&!ja[Oa].disabled&&
(ua[Oa].exclude=!1);var lb='undefined'!=typeof ua['_case_'+Oa]?!0:!1;if(U&&'input'==ja[Oa].tagName.toLowerCase()&&/^(checkbox)$/i.test(wb))if(!ja[Oa].checked&&'undefined'!=typeof ua[Oa]&&'undefined'!=typeof ua[Oa].isRequired&&/^(false)$/i.test(ua[Oa].isRequired)||ja[Oa].disabled)ua[Oa]={exclude:!0};else{if(!ja[Oa].checked&&'undefined'==typeof ua[Oa])continue}else U&&'input'==ja[Oa].tagName.toLowerCase()&&/^(radio)$/i.test(wb)&&console.debug('Radio: ',ja[Oa].id,ja[Oa].checked,ja[Oa].value);for(var hb in ua)if(/^_case_/.test(hb)&&
'undefined'!=typeof ua[hb].conditions&&(!Array.isArray(ua[hb].conditions)||ua[hb].conditions.length)&&'undefined'!=typeof ua[hb].conditions[0].rules&&'undefined'!=typeof ua[hb].conditions&&Array.isArray(ua[hb].conditions))if(eb=hb.replace('_case_',''),'undefined'==typeof zb[eb])console.warn('Found case `'+hb+'` but field `'+eb+'` is misssing in the dom.\n You should add `'+eb+'` element to your form in order to allow Validator to process this case.');else{'undefined'==typeof cb[eb]&&(cb[eb]=zb[eb].value);
wb=cb[eb];U&&('true'==X[Oa]?wb=!0:'false'==X[Oa]&&(wb=!1));for(var ob=0,sb=ua[hb].conditions.length;ob<sb;++ob)if(ua[hb].conditions[ob].case==wb)for(var mb in ua[hb].conditions[ob].rules)if(!/^_comment$/i.test(mb)&&mb!=eb&&ja[mb])if(Oa==mb||/^\//.test(mb)||'undefined'!=typeof X[mb]||'undefined'==typeof cb[mb])if(/^\//.test(mb)){if(ra=mb.match(/\/(.*)\//).pop(),ia=mb.replace('/'+ra+'/',''),ra=ra.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),ra=new RegExp(ra,ia),ra.test(Oa)){if(ua[hb].conditions[ob].case==
wb||/^\//.test(ua[hb].conditions[ob].case)&&(new RegExp(ua[hb].conditions[ob].case)).test(wb))Kb='undefined'!=typeof ua[mb]?ua[mb]:{},ua[mb]=Q(ua[hb].conditions[ob].rules[mb],Kb);eb!=mb&&'undefined'!=typeof ua[mb]&&Ga(mb,ua,X)}}else'undefined'!=typeof ua[hb].conditions[ob].rules[mb]&&(caseField=mb,wb=X[caseField],'undefined'==typeof ja[caseField]?console.warn('ignoring case `'+caseField+'`: field `NaN'):(U&&/^(true|false)$/i.test(wb)&&'undefined'!=typeof ua[caseField]&&'undefined'!=typeof ua[caseField].isBoolean&&
/^(true)$/i.test(ua[caseField].isBoolean)&&(wb=/^(true)$/i.test(wb)?!0:!1),'undefined'!=typeof ua[hb].conditions[ob].rules[mb]&&(Kb='undefined'!=typeof ua[hb].conditions[ob].rules[mb]?ua[hb].conditions[ob].rules[mb]:{},ua[mb]=Kb),eb!=mb&&'undefined'!=typeof ua[mb]&&'undefined'!=typeof X[mb]&&Ga(mb,ua,X)));else{X[mb]=cb[mb];var Kb='undefined'!=typeof ua[mb]?ua[mb]:{};ua[mb]=Q(ua[hb].conditions[ob].rules[mb],Kb);Ga(mb,ua,X)}}if(eb!=Oa&&('undefined'!=typeof ua[Oa]&&Ga(Oa,ua,cb),lb)){++Xa;lb=ua['_case_'+
Oa].conditions;if(!lb)throw Error('[ ginaFormValidator ] case `_case_'+Oa+'` found without `condition(s)` !\nPlease, check your delcaration for `_case_'+Oa+'`');for(let Ib=0,$b=lb.length;Ib<$b;++Ib)if(wb=cb[Oa],U&&('true'==X[Oa]?wb=!0:'false'==X[Oa]&&(wb=!1)),lb[Ib]['case']===wb||Array.isArray(lb[Ib]['case'])&&-1<lb[Ib]['case'].indexOf(wb)||/^\//.test(lb[Ib]['case'])){Kb={};if('undefined'==typeof lb[Ib].rules[Oa]&&'undefined'==typeof cb[Oa]||ja[Oa].disabled)lb[Ib].rules[Oa]={exclude:!0};for(var Eb in lb[Ib].rules)if(!/^_comment$/i.test(Eb))if(/^\//.test(Eb)){ra=
Eb.match(/\/(.*)\//).pop();ia=Eb.replace('/'+ra+'/','');ra=ra.replace(/\[/g,'\\[').replace(/\]/g,'\\]');ra=new RegExp(ra,ia);for(var Gb in ja)ra.test(Gb)&&(/^\//.test(lb[Ib]['case'])?(ra=lb[Ib]['case'].match(/\/(.*)\//).pop(),ia=lb[Ib]['case'].replace('/'+ra+'/',''),ra=new RegExp(ra,ia),ra.test(wb)&&(Kb[Gb]=lb[Ib].rules[Eb])):Kb[Gb]=lb[Ib].rules[Eb],'undefined'==typeof X[Gb]&&'undefined'!=typeof ja[Gb]&&'undefined'!=typeof ja[Gb].value&&(X[Gb]=ja[Gb].value,U&&/(true|false)/i.test(X[Gb])&&('true'==
X[Gb]?X[Gb]=!0:'false'==X[Gb]&&(X[Gb]=!1)),Pa.addField(Gb,X[Gb]),'undefined'!=typeof ca[Gb]&&(Kb[Gb]=Q(Kb[Gb],ca[Gb]))))}else/^\//.test(lb[Ib]['case'])?(ra=lb[Ib]['case'].match(/\/(.*)\//).pop(),ia=lb[Ib]['case'].replace('/'+ra+'/',''),ra=ra.replace(/\[/g,'\\[').replace(/\]/g,'\\]'),ra=new RegExp(ra,ia),ra.test(wb)&&(Kb[Eb]=lb[Ib].rules[Eb])):Kb[Eb]=lb[Ib].rules[Eb],'undefined'==typeof X[Eb]&&'undefined'!=typeof ja[Eb]&&'undefined'!=typeof ja[Eb].value&&(X[Eb]=ja[Eb].value,U&&/(true|false)/i.test(X[Eb])&&
('true'==X[Eb]?X[Eb]=!0:'false'==X[Eb]&&(X[Eb]=!1)),Pa.addField(Eb,X[Eb]),'undefined'!=typeof ca[Eb]&&(Kb[Eb]=Q(Kb[Eb],ca[Eb])));++fa;if(U)Mb(Ya,cb,ca,X,ja,Kb,Ra,Xa);else return Mb(Ya,cb,ca,X,ja,Kb,Ra,Xa)}--Xa}}}--fa;if(0>=Xa&&0>fa){cb=Pa.getErrors();for(Oa in cb){for(rule in cb[Oa])$a[Oa]||($a[Oa]=''),0>$a[Oa].indexOf(rule)&&($a[Oa]+=rule+' ');U&&ja[Oa].setAttribute('data-gina-form-errors',$a[Oa].substr(0,$a[Oa].length-1))}try{R=Na(Pa.toData()),N&&U&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&
(gina.forms.validated||(gina.forms.validated={}),gina.forms.validated[p]||(gina.forms.validated[p]={}),window.ginaToolbar.update('forms',{id:p,validated:R}))}catch(Ib){throw Ib;}Ba=!0;if(!L&&0>=na)if('undefined'!=typeof Ra&&'function'===typeof Ra)Ra._errors=Pa.getErrors(),Ra._data=Pa.toData(),triggerEvent(gina,Ya,'validated.'+p,Ra);else return L=!0,{isValid:Pa.isValid,error:cb,data:R}}};U&&addListener(gina,m,q,function(Ya){Ya.preventDefault();if(!L){L=!0;Ba=!1;na=0;var cb=Ya.detail,ca=cb._data||Pa.toData(),
X=cb._errors||Pa.getErrors()||null;console.debug('instance errors: ',w.$forms[p].errors,' VS cbErrors: ',X,Pa.isValid(),' VS d.getErrors(): ',Pa.getErrors());0<X.count()&&Pa.isValid()&&(Pa.isValid=function(){return!1});cb({isValid:Pa.isValid,error:X,data:Na(ca)});removeListener(gina,Ya.target,'validated.'+Ya.target.id)}});if(U)Mb(m,Cb,ib,g,h,b,x,0);else return Mb(m,Cb,ib,g,h,b,x,0)};return U?Qa(B):D(B,P,V)}
'undefined'!==typeof module&&module.exports?module.exports=ValidatorPlugin:'function'===typeof define&&define.amd&&define('gina/validator',['utils/events','utils/dom','utils/effects','utils/data','lib/form-validator'],function(){return ValidatorPlugin});
define('gina/toolbar','require jquery vendor/uuid lib/collection lib/routing gina/storage gina/validator'.split(' '),function(B){var P=B('jquery');P.noConflict();var V=B('lib/routing');B('lib/collection');var ma=B('gina/storage');return function(){var U=null,N=!1,ba=!1,Q=!1,S,r=(new ma({bucket:'gina'})).Collection('plugin'),G=null,w=null,va=!1,Aa=null,I=null,O=null,A=null,D=null,l='',y=null,z=null,F=null,u='',v=null,H=0,K=0,T=0,qa='',Fa={},W=null,ka=null,ha=null,xa=null,la=null,ta=null,Da=null,Qa=
null,La=null,Ea=null,Na=null,Ia=null,Ja=null,Ua=null,pb=function(){G=P('#gina-toolbar');if(!G.length)return!1;Aa=G.find('.gina-toolbar-tab > a');I=P('#gina-toolbar-toggle');O=P('#gina-toolbar-panels');A=O.find('.gina-toolbar-panel');y=P('#gina-toolbar-vposition');z=P('#gina-toolbar-hposition');F=y.add(z);v=P('#gina-toolbar-width');G.find('.gina-toolbar-main');W=P('#gina-toolbar-json');ka=P('#gina-toolbar-gina-json');ha=P('#gina-toolbar-toggle-code-raw');$forms=P('form:not(.gina-toolbar-options, .gina-toolbar-content)');
La=P('#gina-toolbar-data-html');Ea=P('#gina-toolbar-view-html');Na=P('#gina-toolbar-forms-html');Qa=P('#gina-toolbar-configuration-environment-html');Ia=P('#gina-toolbar-code-toggle');G.prepend('<textarea class="gina-toolbar-copy"></textarea>');Ja=G.find('.gina-toolbar-copy');w=r.findOne({_name:'toolbar'});w||(w={_name:'toolbar',_version:'1.0.3',_description:'Toolbar settings',_licence:'MIT',_author:[{name:'Fabrice Delaneau',company:'Freelancer'},{name:'Martin-Luther Etouman',company:'Rhinostone'}],
position:'top-right',width:'30',panelId:'#gina-toolbar-data',isCollapsed:!0,isUnfolded:[],debug:{forms:{active:!1,strategy:'frontend'}}},r.insert(w),w=r.findOne({_name:'toolbar'}));'1.0.3'!=w._version&&('1.0.1'>w._version&&(w.isUnfolded||(w.isUnfolded=[]),void 0!=w.codeFolding&&delete w.codeFolding),'undefined'==typeof w.isUnfolded||Array.isArray(w.isUnfolded)||(w.isUnfolded=[]),w._version='1.0.3',w.save(!0));u=w.position;H=w.width;l=w.panelId;va=w.isCollapsed;G.removeClass('gina-toolbar-hidden');
Ub()},ab=function(x,q,p){var R=null,L=null;try{L=W?W.text():'',''==L||'null'==L?W.text('{}'):(la=JSON.parse(L),Da=JSON.parse(ka.text()),W.text(''),xa||(xa={jsonObject:JSON.clone(la),ginaJsonObject:JSON.clone(Da)},ta={}))}catch(na){console.error('Could not load'+(x?' [ '+x+' ] ':' ')+'json\n'+na.message+'\n'+na.stack)}if(la){q&&!p?(la[x]||(la[x]={}),la[x]=Da[x]=q):'data-xhr'==x&&!q&&la['data-xhr']?delete la['data-xhr']:p&&(la=q,Da=p);b(la,'');Da.environment&&(delete Da.environment.routing,delete Da.environment.reverseRouting,
delete Da.environment.forms);la.environment&&(delete la.environment.routing,delete la.environment.reverseRouting,delete la.environment.forms);Qa.html(db(la.environment,Da.environment));R=la.data;var fa=la.view;p=la.forms;var Ba=Da.data,ea=Da.view;L=Da.forms;ba=S=!1;var da=null,E=!1;/^(view-xhr)$/.test(x)&&(da=!0,fa=la[x],ea=Da[x],R=la['data-xhr'],Ba=Da['data-xhr']);if(!x||/^(data)$/.test(x))La.html('<ul class="gina-toolbar-code">'+db(R,Ba,null,da)+'</ul>'),Ea.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),
Ea.html(Vb(fa,ea,null,da,Ea)),R=$forms,Na.html(''),Na.html(za(p,L,Na,0,R,R.length,da)),Na.find('div.gina-toolbar-section > h2').off('click').on('click',function(na){na.preventDefault();P(this).parent().find('ul').first().slideToggle()});if(/^(data-xhr|view-xhr)$/.test(x)){if('undefined'==typeof la[x]||!la[x]||'null'==la[x])return!1;da=!0;E='undefined'!=typeof la[x].isXHRViewData?!0:E;E||/^(view-xhr)$/.test(x)||'undefined'==typeof la['el-xhr']||(ta.data=JSON.clone(la[x]));E&&delete la[x].isXHRViewData;
/^(data-xhr)$/.test(x)?La.html('<ul class="gina-toolbar-code">'+db(la[x],Da[x],null,da)+'</ul>'):/^(view-xhr)$/.test(x)&&(Ea.html('<div id="gina-toolbar-view-html-properties" class="gina-toolbar-section">\n    <h2 class="gina-toolbar-section-title">properties</h2>\n    <ul class="gina-toolbar-properties"></ul>\n</div>'),Ea.html(Vb(la[x],Da[x],null,da,Ea)))}/^(el-xhr)$/.test(x)&&(da=!0,R=P('#'+q).find('form:not(.gina-toolbar-options, .gina-toolbar-content)'),Na.html(''),Na.html(za(p,L,Na,0,R,R.length,
da)),Na.find('div.gina-toolbar-section > h2').off('click').on('click',function(na){na.preventDefault();P(this).parent().find('ul').first().slideToggle()}));/^(forms)$/.test(x)&&(ba=da=!0,P('#gina-toolbar-form-'+q.id).length||(R=$forms,Na.html(''),Na.html(za(p,L,Na,0,R,R.length,da)),Na.find('div.gina-toolbar-section > h2').off('click').on('click',function(na){na.preventDefault();P(this).parent().find('ul').first().slideToggle()})),'undefined'!=typeof q.rules&&m(q.id,'rules',q.rules,da),'undefined'!=
typeof q.errors&&0<q.errors.count()&&m(q.id,'errors',q.errors,da),'undefined'!=typeof q.sent&&m(q.id,'sent',q.sent,da));w.currentFile=la.file;w.currentFile||(w.currentFile=la.file);la.file==w.currentFile&&P(document).ready(function(){ba?(N=!0,0<w.isUnfolded.length&&!S&&(S=!0,setTimeout(function(){0<w.isUnfolded.length&&gb(w.isUnfolded,w.isUnfolded.length,0)},200))):da?(N=!0,0<w.isUnfolded.length&&!S&&(S=!0,gb(w.isUnfolded,w.isUnfolded.length,0))):(N=!1,setTimeout(function(){0<w.isUnfolded.length&&
gb(w.isUnfolded,w.isUnfolded.length,0)},200))})}if(!x||'el-xhr'==x&&!Q)Q=x&&'el-xhr'==x?!0:!1,ya(x)},gb=function(x,q,p){if(p==q)return!1;var R=x[p],L=null;N&&/^xhr-/.test(R)?(R=R.replace(/^xhr-/,''),L=P('.gina-toolbar-xhr-folding-state-'+R)):L=P('.gina-toolbar-folding-state-'+R);rb(L,function(){p+=1;gb(x,q,p)})},Ub=function(){La.add(Ea).off('click','a').on('click','a',function(q){q.preventDefault();rb(P(this),null,!0)}).add(Na).off('click','a').on('click','a',function(q){q.preventDefault();rb(P(this),
null,!0)});Qa.add(Ea).off('click','a').on('click','a',function(q){q.preventDefault();rb(P(this),null,!0)}).add(Na).off('click','a').on('click','a',function(q){q.preventDefault();rb(P(this),null,!0)});Ia.off('click').on('click',function(q){q.preventDefault();rb('all',null,!0)});La.add(Ea,Na).off('click','.gina-toolbar-value').on('click','.gina-toolbar-value',function(q){q.preventDefault();try{Ua=P(this).text(),Ja.text(Ua),Ja.select(),document.execCommand('copy',!1,null),Ja.blur()}catch(p){alert('Please press Ctrl/Cmd+C to copy the value')}});
ha.off('click').on('click',function(q){la&&window.open('','JSON RAW','width=400,height=100').document.write(JSON.stringify(la.data))});Aa.off('click').on('click',function(q){q.preventDefault();Aa.removeClass('gina-toolbar-active');A.removeClass('gina-toolbar-active');P(this).addClass('gina-toolbar-active');l=P(this).attr('href');D=P(l).addClass('gina-toolbar-active');w.panelId=l;w.save()});I.off('click').on('click',function(q){q.preventDefault();G.toggleClass('gina-toolbar-collapsed');va=G.hasClass('gina-toolbar-collapsed');
w.isCollapsed=va;w.save()});F.off('change').on('change',function(q){q.preventDefault();q=y.val();var p=z.val();u=q+'-'+p;Zb(u);w.position=u;w.save()});v.off('change').on('change',function(q){q.preventDefault();H=v.val();jb(H);w.width=H;w.save()});P(window).off('resize').on('resize',function(){Db()});P('body').off('keypress').on('keypress',function(q){if(!/INPUT|TEXTAREA/.test(q.target.tagName)){qa=q.keyCode?q.keyCode:q.which?q.which:q.charCode;q=new Date;if('undefined'!=typeof Fa.keynum&&Fa.keynum==
qa&&'undefined'!=typeof Fa.pressTime&&500>q.getTime()-Fa.pressTime)switch(qa){case 103:G.toggle()}Fa.pressTime=q.getTime();Fa.keynum=qa}});Aa.filter('[href="'+l+'"]').trigger('click');va||P('#gina-toolbar-toggle').trigger('click');Zb(u);var x=u.split('-');y.val(x[0]);z.val(x[1]);jb(H);v.val(H);Db();x=W?W.text():'';/^\{\{ (.*) \}\}/.test(x)?h(x,ab):ab()},Zb=function(x){G.removeClass('gina-toolbar-top-left gina-toolbar-top-right gina-toolbar-bottom-left gina-toolbar-bottom-right').addClass('gina-toolbar-'+
x)},jb=function(x){G.removeClass('gina-toolbar-auto gina-toolbar-100 gina-toolbar-80 gina-toolbar-60 gina-toolbar-50 gina-toolbar-40 gina-toolbar-30').addClass('gina-toolbar-'+x)},Db=function(){K=window.innerHeight-32;G.find('.gina-toolbar-main').css('max-height',K+'px');var x=D.find('.gina-toolbar-main'),q=x.find('.gina-toolbar-content');T=x.height();T==K?q.addClass('gina-toolbar-content-end'):q.removeClass('gina-toolbar-content-end')},rb=function(x,q,p){'undefined'==typeof p&&(p=!1);if(void 0!=
x&&x.length&&'all'!=x){U=x.attr('class');var R=!1;if(/(gina-toolbar-folding-state-[a-z 0-9_-]+|gina-toolbar-xhr-folding-state-[a-z 0-9_-]+)/i.test(U))if(/gina-toolbar-folding-state-[a-z0-9_-]+/i.test(U)?U=U.match(/gina-toolbar-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-folding-state-/,''):(R=!0,'undefined'!=typeof U&&(U=U.match(/gina-toolbar-xhr-folding-state-[a-z0-9_-]+/i)[0].replace(/gina-toolbar-xhr-folding-state-/,'xhr-'))),0>w.isUnfolded.indexOf(U))w.isUnfolded.push(U),w.save(),x.hasClass('gina-toolbar-unfolded')||
(x.addClass('gina-toolbar-unfolded'),x.next('ul').slideToggle('fast'));else if(-1<w.isUnfolded.indexOf(U)&&x.hasClass('gina-toolbar-unfolded')){for(var L=new RegExp('^('+U+')'),fa=0,Ba=w.isUnfolded.length;fa<Ba;++fa)L.test(w.isUnfolded[fa])&&(!ba&&p||ba&&R||p)&&(w.isUnfolded.splice(fa,1),--fa);w.save(!0);0>w.isUnfolded.indexOf(U)&&(x.removeClass('gina-toolbar-unfolded'),x.next('ul').slideToggle('fast'))}else x.addClass('gina-toolbar-unfolded'),x.next('ul').slideToggle('fast')}'undefined'!=typeof q&&
null!=q&&q()},xb=function(x){var q={},p=null,R=[],L=0;for(p in x)x.hasOwnProperty(p)&&(R[L]=p,++L);var fa=R.length;R.sort();for(L=0;L<fa;++L)p=R[L],q[p]=x[p];return q},Ka=function(x,q){var p='';if('undefined'!=typeof x&&''!=x){var R=x;'string'==typeof x&&(R=x.replace(/(\]\[|\[)/g,'-').replace(/\]/,'').replace(/[^A-Za-z0-9_-]/g,'_'));p+=R+'-'}'undefined'!=typeof q&&''!=q?(x=q,'string'==typeof q&&(x=q.replace(/(\]\[|\[)/g,'-').replace(/\]/,'')),p+=x):p=p.substr(0,p.length-1);return p.trim()},db=function(x,
q,p,R,L){var fa='';p='undefined'!=typeof p&&null!=p?p.replace(/[^A-Za-z0-9_-]/g,'_'):'';var Ba='undefined'!=typeof L&&null!=L?L:'',ea='undefined'!=typeof R&&null!=R?'-xhr':'';if(x){x=xb(x);q=xb(q);for(var da in x)if('object'!=typeof x[da]||Array.isArray(x[da])||null===x[da])if(Array.isArray(x[da])){p+='-'+da.replace(/[^A-Za-z0-9_-]/g,'_');var E=0<x[da].length||'undefined'!=typeof q[da]&&0<q[da].length?'':' is-empty';fa+='<li class="gina-toolbar-collection">';fa+='<a href="#" class="gina-toolbar-key gina-toolbar'+
ea+'-folding-state-'+Ka(Ba,da.replace(/[^A-Za-z0-9_-]/g,'_'))+E+'">'+da+' <span>['+x[da].length+']</span></a>';fa+='<ul class="gina-toolbar-collection">'+Lb(x[da],q[da],p,R,L)+'</ul>';fa+='</li>';p=p.substr(0,p.length-da.length)}else E=null===q[da]?'null':typeof q[da],'undefined'==E?(fa+='<li class="gina-toolbar-key-value">',fa+='<span class="gina-toolbar-key gina-toolbar-key-added">'+da+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+E+'">'+x[da]+'</span>'):(x[da]!==q[da]&&
(fa+='<li class="gina-toolbar-key-value gina-toolbar-is-overridden">',fa+='<span class="gina-toolbar-key">'+da+':</span> <span class="gina-toolbar-value">'+q[da]+'</span>',fa+='</li>'),fa+='<li class="gina-toolbar-key-value">',fa+='<span class="gina-toolbar-key">'+da+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+E+'">'+x[da]+'</span>'),fa+='</li>';else p+='-'+da.replace(/[^A-Za-z0-9_-]/g,'_'),E=0<x[da].count()||'undefined'!=typeof q[da]&&0<q[da].count()?'':' is-empty',fa+=
'<li class="gina-toolbar-object">',fa+='<a href="#" class="gina-toolbar-key gina-toolbar'+ea+'-folding-state-'+Ka(Ba,da.replace(/[^A-Za-z0-9_-]/g,'_'))+E+'">'+da+' <span>{ }</span></a>',fa+='<ul class="gina-toolbar-object">'+db(x[da],q[da],p,R,L)+'</ul>',fa+='</li>',p=p.substr(0,p.length-da.length);return fa}},Lb=function(x,q,p,R,L){var fa='';p='undefined'!=typeof p&&null!=p?p:'';var Ba='undefined'!=typeof L&&null!=L?L:'',ea='undefined'!=typeof R&&null!=R?'-xhr':'';q||=[];for(var da=0,E=x.length;da<
E;++da)'object'!=typeof x[da]||Array.isArray(x[da])?Array.isArray(x[da])?(p+='-'+da,''==Ba&&(Ba=p),fa+='<li class="gina-toolbar-collection">',fa+='<a href="#" class="gina-toolbar-key gina-toolbar'+ea+'-folding-state-'+Ka(Ba,da)+'">'+da+'<span>[ ]</span></a>',fa+='<ul class="gina-toolbar-collection">'+Lb(x[da],q[da],p,R,L)+'</ul>',fa+='</li>',p=p.substr(0,p.length-da.toString().length)):fa+='<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+da+':</span> <span class="gina-toolbar-value">'+
x[da]+'</span></li>':(q[da]||(q[da]=x[da]),p+='-'+da,''==Ba&&(Ba=p),fa+='<li class="gina-toolbar-object">',fa+='<a href="#" class="gina-toolbar-key gina-toolbar'+ea+'-folding-state-'+Ka(Ba,da)+'">'+da+' <span>{ }</span></a>',fa+='<ul class="gina-toolbar-object">'+db(x[da],q[da],p,R,L)+'</ul>',fa+='</li>',p=p.substr(0,p.length-da.toString().length-1));return fa},Vb=function(x,q,p,R,L,fa){p=null!=p?p.replace(/[^A-Za-z0-9_-]/g,'_'):'';var Ba='undefined'!=typeof R&&null!=R?'-xhr':'';x=xb(x);q=xb(q);fa||=
L;for(var ea in x){var da=ea;if('object'!=typeof x[ea]||Array.isArray(x[ea])||null===x[ea])if(Array.isArray(x[ea])){var E=P('#gina-toolbar-view-'+p.substr(0,p.length-1));var na=E.length?!0:!1;!na||/^html/.test(p)?(E=P('.'+p),na=p+ea.replace(/[^A-Za-z0-9_-]/g,'_')+'-',E.append('<li class="gina-toolbar-collection"><a href="#" class="gina-toolbar-key gina-toolbar'+Ba+'-folding-state-'+Ka(ea.replace(/[^A-Za-z0-9_-]/g,'_'),na.substr(0,na.length-1))+'">'+ea+' <span>['+x[ea].length+']</span></a><ul> '+Lb(x[ea],
q[ea],na,E.find('li ul.'+p.substr(0,p.length-1)),da)+'</ul></li>')):(na=p+ea.replace(/[^A-Za-z0-9_-]/g,'_')+'-',E.find('li.'+p.substr(0,p.length-1)+' ul').append('<li class="gina-toolbar-collection"><a class="gina-toolbar-key gina-toolbar'+Ba+'-folding-state-'+Ka(ea.replace(/[^A-Za-z0-9_-]/g,'_'),na.substr(0,na.length-1))+'">'+ea+' <span>['+x[ea].length+']</span></a><ul>'+Lb(x[ea],q[ea],na,E.find('li ul.'+p.substr(0,p.length-1)),da)+'</ul></li>'));p+=ea.replace(/[^A-Za-z0-9_-]/g,'_')+'-';p=p.substr(0,
p.length-ea.length-1)}else if(da=null===q[ea]?'null':typeof q[ea],'undefined'==da)/\-$/.test(p)&&(p=p.substr(0,p.length-1)),p&&L.find('ul.'+p).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key gina-toolbar-key-added">'+ea+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+da+'">'+x[ea]+'</span></li>');else if(x[ea]!==q[ea]){p||(p+=ea.replace(/[^A-Za-z0-9_-]/g,'_')+'-');try{L.find('ul.'+p).append('<li class="gina-toolbar-key-value gina-toolbar-is-overridden"><span class="gina-toolbar-key">'+
ea+':</span> <span class="gina-toolbar-value">'+q[ea]+'</span></li>'),L.find('ul.'+p).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ea+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+da+'">'+x[ea]+'</span></li>')}catch(ra){throw Error('GinaToolbarError: `ul.'+p+'` not found');}}else!p||/^html\-properties/.test(p)?fa.find('.gina-toolbar-properties').append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ea+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+
da+'">'+x[ea]+'</span></li>'):fa.find('ul.'+p.substr(0,p.length-1)).append('<li class="gina-toolbar-key-value"><span class="gina-toolbar-key">'+ea+':</span> <span class="gina-toolbar-value gina-toolbar-value-type-is-'+da+'">'+x[ea]+'</span></li>');else E=P('#gina-toolbar-view-'+p.substr(0,p.length-1)),(na=E.length?!0:!1)?(na=p+ea.replace(/[^A-Za-z0-9_-]/g,'_')+'-',E.find('ul.'+p.substr(0,p.length-1)).append('<li class="gina-toolbar-object"><a href="#" class="gina-toolbar-key gina-toolbar'+Ba+'-folding-state-'+
Ka(ea.replace(/[^A-Za-z0-9_-]/g,'_'),na.substr(0,na.length-1))+'">'+ea+' <span>{ }</span></a><ul class="gina-toolbar-object '+na.substr(0,na.length-1)+'"></ul></li>'),Vb(x[ea],q[ea],na,R,E.find('ul.'+p.substr(0,p.length-1)),fa),p+=ea.replace(/[^A-Za-z0-9_-]/g,'_')+'-'):(p+=ea.replace(/[^A-Za-z0-9_-]/g,'_')+'-','params'==ea?(da='<div id="gina-toolbar-view-'+p.substr(0,p.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+p.substr(0,p.length-1)+'</h2><ul class="'+p.substr(0,
p.length-1)+'"></ul></div>',P('#gina-toolbar-view-html-properties').before(da)):/^html/.test(p)||(da='<div id="gina-toolbar-view-'+p.substr(0,p.length-1)+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+p.substr(0,p.length-1)+'</h2><ul class="'+p.substr(0,p.length-1)+'"></ul></div>',L.append(da)),Vb(x[ea],q[ea],p,R,L.find('ul.'+p.substr(0,p.length-1)),fa)),p=p.substr(0,p.length-ea.length-1)}return fa.html()},ya=function(x){x=gina.hasPopinHandler?gina.popin.getActivePopin():
null;var q,p=(gina.hasPopinHandler?P('#'+x.id):P('body')).html().match(/404:\[(.+)\](.+)@(.+)"/gm);if(p){var R=0;for(q=p.length;R<q;++R){x=p[R].replace(/"(.*)|"/g,'');var L=x.match(/\[(.*)\]/g,'')[0].replace(/\[|\]/g,'');V.getRouteByUrl(x,L)}}fLen=V.notFound.count();if(0<fLen)for(f in V.notFound)console.warn('(x'+V.notFound[f].count+') '+f+' => '+V.notFound[f].message)},za=function(x,q,p,R,L,fa,Ba){if(!fa)return!1;for(var ea=L[R].attributes,da,E=L[R].getAttribute('id')||L[R].id,na=P('<div id="gina-toolbar-form-'+
E+'" class="gina-toolbar-section"><h2 class="gina-toolbar-section-title">'+E+'</h2><ul class="gina-toolbar-section-content gina-toolbar-code" style="display: none;"><li class="gina-toolbar-form-attributes"><h3 class="gina-toolbar-sub-section-title">'+'gina-toolbar-form-attributes'.replace(/gina-toolbar-form-/,'')+'</h3><ul class="gina-toolbar-code"></ul></li></ul></div>'),ra,ia,Z=null,Ga=0,Pa=ea.length;Ga<Pa;++Ga)ra=ea[Ga].name,ia=ea[Ga].nodeValue,/^method$/.test(ra)&&(ia=ia.toUpperCase()),/^class$/.test(ra)&&
/\s+/.test(ia)&&(ia='<ul><li>'+ia.replace(/\s+/g,'</li><li>')+'</li></ul>'),/^action$/.test(ra)&&((da='undefined'!=typeof ea.method?ea.method.nodeValue:null)||console.warn('[ ToolbarFormHelper::UndefinedMethod : form `'+(E||void 0)+'` method attribute cannot be left undefined !'),da=V.getRouteByUrl(ia,da),'undefined'!=typeof da&&da||(da={name:'not found',namespace:'not found',param:{control:'not found',file:'not found'}}),ia='<ul><li><span class="gina-toolbar-key">url</span><span class="gina-toolbar-value">'+
(ia||'#')+'</span></li><li><span class="gina-toolbar-key">route</span><span class="gina-toolbar-value">'+da.name+'</span></li><li><span class="gina-toolbar-key">namespace</span><span class="gina-toolbar-value">'+(da.namespace||'root controller')+'</span></li><li><span class="gina-toolbar-key">control</span><span class="gina-toolbar-value">'+da.param.control+'</span></li><li><span class="gina-toolbar-key">file</span><span class="gina-toolbar-value">'+da.param.file+'</span></li><ul>',Z='<li><span class="gina-toolbar-key">'+
ra+':</span><span class="gina-toolbar-value">'+ia+'</span></li>'),/^data-gina-form-event/.test(ra)?(da='events',Z=na.find('.gina-toolbar-form-attributes').find('.gina-toolbar-key-events').length?!0:!1,ra=ra.replace(/^data-gina-form-event-/,''),Z||na.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+da+'"><h3 class="gina-toolbar-sub-section-title">'+da+'</h3><ul class="gina-toolbar-code"></ul></li>'),Z='<li><span class="gina-toolbar-key">'+ra+':</span><span class="gina-toolbar-value">'+
ia+'</span></li>',na.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+da+' > ul').append(Z)):(/^action$/.test(ra)||(Z='<li><span class="gina-toolbar-key">'+ra+':</span><span class="gina-toolbar-value">'+ia+'</span></li>'),na.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-attributes > ul').append(Z));ea=null;try{var $a=L[R].getAttribute('data-gina-form-rule');ea='undefined'!=typeof $a&&null!=$a?eval('gina.forms.rules.'+$a.replace(/-/g,'.')):eval('gina.forms.rules.'+
E.replace(/-/g,'.'))}catch(ib){}ea&&(da='rules',na.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+da+'"><h3 class="gina-toolbar-sub-section-title">'+da+'</h3><ul class="gina-toolbar-properties">'+db(ea,ea,E,Ba,da)+'</ul></li>'));p.append(na);++R;R<fa&&za(x,q,p,R,L,fa,Ba)},m=function(x,q,p,R){var L=P('#gina-toolbar-form-'+x);$section=L.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+q+'> ul');if(0<$section.length){if(0==p.count())return L.find('ul.gina-toolbar-section-content').find('li.gina-toolbar-form-'+
q).remove(),!1;$section.html(db(p,p,x,R,q))}else L.find('ul.gina-toolbar-section-content').append('<li class="gina-toolbar-form-'+q+'"><h3 class="gina-toolbar-sub-section-title">'+q+'</h3><ul class="gina-toolbar-properties">'+db(p,p,x,R,q)+'</ul></li>');x=L.find('ul.gina-toolbar-section-content');x.is(':visible')||x.slideToggle()},g=function(x,q){return x='<label class="gina-toolbar-input-file"><input type="file" multiple id="'+(x+'">')+q+'</label>'},h=function(x,q){x=g('mock','Select your JSON file');
La.html(x);W.text('');La.find('input').off('change').on('change',function(p){var R=P(this)[0].files,L=p=null;if(1==R.length)p=P(this)[0].files[0],L=new FileReader,L.addEventListener('load',function(){W.text(L.result);ka.text(L.result);q()},!1),L.readAsBinaryString(p);else{var fa=0;L=[];for(var Ba=0,ea=R.length;Ba<ea;++Ba)switch(p=R[Ba],!0){case /user/.test(p.name):L[Ba]=new FileReader;L[Ba].addEventListener('load',function(da){W.text(da.currentTarget.result);++fa;fa==R.length&&q()},!1);L[Ba].readAsBinaryString(p);
break;case /gina/.test(p.name):L[Ba]=new FileReader,L[Ba].addEventListener('load',function(da){ka.text(da.currentTarget.result);++fa;fa==R.length&&q()},!1),L[Ba].readAsBinaryString(p)}}});return!1},b=function(x,q){for(var p in x)'object'==typeof x[p]&&b(x[p],q+p+'-')};this.update=function(x,q){ab(x,q)};this.restore=function(){ta&&'undefined'!=typeof ta.data&&(xa.jsonObject.data=ta.data);ab('data',xa.jsonObject,xa.ginaJsonObject);Q=!1;V.notFound={}};if('undefined'!=typeof gina.validator)gina.validator.on('initialized',
function(){console.log('toolbar validator ready');pb()});else pb()}});
define('gina','require vendor/uuid lib/merge utils/events helpers/prototypes helpers/dateFormat gina/toolbar'.split(' '),function(B){B('utils/events');var P=B('lib/merge'),V=B('helpers/dateFormat')();B('helpers/prototypes')({dateFormat:V});var ma=B('vendor/uuid');window.process||function(U,N,ba,Q,S,r,G){for(r=U[ba]||(U[ba]={});!G&&S<Q.length;)G=U[Q[S++]+'requestAnimationFrame'];r[N]=r[N]||G&&G.bind(U)||U.setImmediate||U.setTimeout}(window,'nextTick','process',['r','webkitR','mozR','msR','oR'],0);
window.getComputedStyle||(window.getComputedStyle=function(U,N){this.el=U;this.getPropertyValue=function(ba){var Q=/(\-([a-z]){1})/g;'float'==ba&&(ba='styleFloat');Q.test(ba)&&(ba=ba.replace(Q,function(S,r,G){return G.toUpperCase()}));return U.currentStyle[ba]?U.currentStyle[ba]:null};return this});return function(U){this.plugin='gina';var N='gina-'+ma.v1(),ba=document,Q;document.id=N;N={id:N,isFrameworkLoaded:!1,hasValidator:!1,hasPopinHandler:!1,config:{},session:null,registeredEvents:{},events:{},
setOptions:function(S){Q=P(Q,S,!0)}};'undefined'!=typeof parent.window.gina&&(window.gina=P(window.gina||{},parent.window.gina));N=P(window.gina||{},N);registerEvents(this.plugin,['ginaloaded','ready']);triggerEvent(U,ba,'ginaloaded',N)}});
!function(B,P){'object'==typeof exports&&'undefined'!=typeof module?module.exports=P():'function'==typeof define&&define.amd?define('vendor/engine.io',P):(B='undefined'!=typeof globalThis?globalThis:B||self).eio=P()}(this,function(){function B(ya){return B='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(za){return typeof za}:function(za){return za&&'function'==typeof Symbol&&za.constructor===Symbol&&za!==Symbol.prototype?'symbol':typeof za},B(ya)}function P(ya,za){if(!(ya instanceof
za))throw new TypeError('Cannot call a class as a function');}function V(ya,za){for(var m=0;m<za.length;m++){var g=za[m];g.enumerable=g.enumerable||!1;g.configurable=!0;'value'in g&&(g.writable=!0);Object.defineProperty(ya,g.key,g)}}function ma(ya,za,m){return za&&V(ya.prototype,za),m&&V(ya,m),ya}function U(){return U=Object.assign||function(ya){for(var za=1;za<arguments.length;za++){var m=arguments[za],g;for(g in m)Object.prototype.hasOwnProperty.call(m,g)&&(ya[g]=m[g])}return ya},U.apply(this,arguments)}
function N(ya,za){if('function'!=typeof za&&null!==za)throw new TypeError('Super expression must either be null or a function');ya.prototype=Object.create(za&&za.prototype,{constructor:{value:ya,writable:!0,configurable:!0}});za&&Q(ya,za)}function ba(ya){return ba=Object.setPrototypeOf?Object.getPrototypeOf:function(za){return za.__proto__||Object.getPrototypeOf(za)},ba(ya)}function Q(ya,za){return Q=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m},Q(ya,za)}function S(){if('undefined'==
typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(ya){return!1}}function r(ya,za,m){return r=S()?Reflect.construct:function(g,h,b){var x=[null];x.push.apply(x,h);g=new (Function.bind.apply(g,x));return b&&Q(g,b.prototype),g},r.apply(null,arguments)}function G(ya){var za='function'==typeof Map?new Map:void 0;return G=function(m){function g(){return r(m,arguments,
ba(this).constructor)}if(null===m||(h=m,-1===Function.toString.call(h).indexOf('[native code]')))return m;var h;if('function'!=typeof m)throw new TypeError('Super expression must either be null or a function');if(void 0!==za){if(za.has(m))return za.get(m);za.set(m,g)}return g.prototype=Object.create(m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),Q(g,m)},G(ya)}function w(ya){if(void 0===ya)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return ya}function va(ya){var za=S();return function(){var m=ba(ya);if(za){var g=ba(this).constructor;m=Reflect.construct(m,arguments,g)}else m=m.apply(this,arguments);return!m||'object'!=typeof m&&'function'!=typeof m?w(this):m}}function Aa(ya,za,m){return Aa='undefined'!=typeof Reflect&&Reflect.get?Reflect.get:function(g,h,b){for(;!Object.prototype.hasOwnProperty.call(g,h)&&null!==(g=ba(g)););if(g)return h=Object.getOwnPropertyDescriptor(g,h),h.get?h.get.call(b):h.value},Aa(ya,za,m||ya)}function I(ya){if(ya){for(var za in I.prototype)ya[za]=
I.prototype[za];return ya}}function O(ya){for(var za=arguments.length,m=Array(1<za?za-1:0),g=1;g<za;g++)m[g-1]=arguments[g];return m.reduce(function(h,b){return ya.hasOwnProperty(b)&&(h[b]=ya[b]),h},{})}function A(ya,za){za.useNativeTimers?(ya.setTimeoutFn=Na.bind(Ea),ya.clearTimeoutFn=Ia.bind(Ea)):(ya.setTimeoutFn=setTimeout.bind(Ea),ya.clearTimeoutFn=clearTimeout.bind(Ea))}function D(ya){var za='';do za=pb[ya%64]+za,ya=Math.floor(ya/64);while(0<ya);return za}function l(){var ya=D(+new Date);return ya!==
Ja?(ab=0,Ja=ya):ya+'.'+D(ab++)}function y(ya){var za='',m;for(m in ya)ya.hasOwnProperty(m)&&(za.length&&(za+='&'),za+=encodeURIComponent(m)+'='+encodeURIComponent(ya[m]));return za}function z(ya){var za={};ya=ya.split('&');for(var m=0,g=ya.length;m<g;m++){var h=ya[m].split('=');za[decodeURIComponent(h[0])]=decodeURIComponent(h[1])}return za}function F(ya){ya=ya.xdomain;try{if('undefined'!=typeof XMLHttpRequest&&(!ya||Ub))return new XMLHttpRequest}catch(za){}if(!ya)try{return new (Ea[['Active'].concat('Object').join('X')])('Microsoft.XMLHTTP')}catch(za){}}
function u(){}function v(){for(var ya in jb.requests)jb.requests.hasOwnProperty(ya)&&jb.requests[ya].abort()}function H(ya){var za=ya,m=ya.indexOf('['),g=ya.indexOf(']');-1!=m&&-1!=g&&(ya=ya.substring(0,m)+ya.substring(m,g).replace(/:/g,';')+ya.substring(g,ya.length));var h,b;ya=db.exec(ya||'');for(var x={},q=14;q--;)x[Lb[q]]=ya[q]||'';return-1!=m&&-1!=g&&(x.source=za,x.host=x.host.substring(1,x.host.length-1).replace(/;/g,':'),x.authority=x.authority.replace('[','').replace(']','').replace(/;/g,
':'),x.ipv6uri=!0),x.pathNames=function(p,R){p=R.replace(/\/{2,9}/g,'/').split('/');'/'!=R.substr(0,1)&&0!==R.length||p.splice(0,1);'/'==R.substr(R.length-1,1)&&p.splice(p.length-1,1);return p}(0,x.path),x.queryKey=(h=x.query,b={},h.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(p,R,L){R&&(b[R]=L)}),b),x}var K=Object.create(null);K.open='0';K.close='1';K.ping='2';K.pong='3';K.message='4';K.upgrade='5';K.noop='6';var T=Object.create(null);Object.keys(K).forEach(function(ya){T[K[ya]]=ya});for(var qa=
{type:'error',data:'parser error'},Fa='function'==typeof Blob||'undefined'!=typeof Blob&&'[object BlobConstructor]'===Object.prototype.toString.call(Blob),W='function'==typeof ArrayBuffer,ka=function(ya,za,m){var g=ya.type;ya=ya.data;return Fa&&ya instanceof Blob?za?m(ya):ha(ya,m):W&&(ya instanceof ArrayBuffer||('function'==typeof ArrayBuffer.isView?ArrayBuffer.isView(ya):ya&&ya.buffer instanceof ArrayBuffer))?za?m(ya):ha(new Blob([ya]),m):m(K[g]+(ya||''))},ha=function(ya,za){var m=new FileReader;
return m.onload=function(){var g=m.result.split(',')[1];za('b'+g)},m.readAsDataURL(ya)},xa='undefined'==typeof Uint8Array?[]:new Uint8Array(256),la=0;64>la;la++)xa['ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.charCodeAt(la)]=la;var ta='function'==typeof ArrayBuffer,Da=function(ya,za){if('string'!=typeof ya)return{type:'message',data:Qa(ya,za)};var m=ya.charAt(0);if('b'===m){ya=ya.substring(1);if(ta){var g=.75*ya.length;m=ya.length;var h=0;'='===ya[ya.length-1]&&(g--,'='===ya[ya.length-
2]&&g--);var b=new ArrayBuffer(g),x=new Uint8Array(b);for(g=0;g<m;g+=4){var q=xa[ya.charCodeAt(g)];var p=xa[ya.charCodeAt(g+1)];var R=xa[ya.charCodeAt(g+2)];var L=xa[ya.charCodeAt(g+3)];x[h++]=q<<2|p>>4;x[h++]=(15&p)<<4|R>>2;x[h++]=(3&R)<<6|63&L}za=Qa(b,za)}else za={base64:!0,data:ya};za={type:'message',data:za}}else za=T[m]?1<ya.length?{type:T[m],data:ya.substring(1)}:{type:T[m]}:qa;return za},Qa=function(ya,za){return'blob'===za&&ya instanceof ArrayBuffer?new Blob([ya]):ya},La=String.fromCharCode(30);
I.prototype.on=I.prototype.addEventListener=function(ya,za){return this._callbacks=this._callbacks||{},(this._callbacks['$'+ya]=this._callbacks['$'+ya]||[]).push(za),this};I.prototype.once=function(ya,za){function m(){this.off(ya,m);za.apply(this,arguments)}return m.fn=za,this.on(ya,m),this};I.prototype.off=I.prototype.removeListener=I.prototype.removeAllListeners=I.prototype.removeEventListener=function(ya,za){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;
var m,g=this._callbacks['$'+ya];if(!g)return this;if(1==arguments.length)return delete this._callbacks['$'+ya],this;for(var h=0;h<g.length;h++)if((m=g[h])===za||m.fn===za){g.splice(h,1);break}return 0===g.length&&delete this._callbacks['$'+ya],this};I.prototype.emit=function(ya){this._callbacks=this._callbacks||{};for(var za=Array(arguments.length-1),m=this._callbacks['$'+ya],g=1;g<arguments.length;g++)za[g-1]=arguments[g];if(m){g=0;for(var h=(m=m.slice(0)).length;g<h;++g)m[g].apply(this,za)}return this};
I.prototype.emitReserved=I.prototype.emit;I.prototype.listeners=function(ya){return this._callbacks=this._callbacks||{},this._callbacks['$'+ya]||[]};I.prototype.hasListeners=function(ya){return!!this.listeners(ya).length};var Ea='undefined'!=typeof self?self:'undefined'!=typeof window?window:Function('return this')(),Na=setTimeout,Ia=clearTimeout,Ja,Ua=function(ya){function za(g,h,b){var x;return P(this,za),(x=m.call(this,g)).description=h,x.context=b,x.type='TransportError',x}N(za,ya);var m=va(za);
return za}(G(Error));la=function(ya){function za(g){var h;return P(this,za),(h=m.call(this)).writable=!1,A(w(h),g),h.opts=g,h.query=g.query,h.readyState='',h.socket=g.socket,h}N(za,ya);var m=va(za);return ma(za,[{key:'onError',value:function(g,h,b){return Aa(ba(za.prototype),'emitReserved',this).call(this,'error',new Ua(g,h,b)),this}},{key:'open',value:function(){return'closed'!==this.readyState&&''!==this.readyState||(this.readyState='opening',this.doOpen()),this}},{key:'close',value:function(){return'opening'!==
this.readyState&&'open'!==this.readyState||(this.doClose(),this.onClose()),this}},{key:'send',value:function(g){'open'===this.readyState&&this.write(g)}},{key:'onOpen',value:function(){this.readyState='open';this.writable=!0;Aa(ba(za.prototype),'emitReserved',this).call(this,'open')}},{key:'onData',value:function(g){g=Da(g,this.socket.binaryType);this.onPacket(g)}},{key:'onPacket',value:function(g){Aa(ba(za.prototype),'emitReserved',this).call(this,'packet',g)}},{key:'onClose',value:function(g){this.readyState=
'closed';Aa(ba(za.prototype),'emitReserved',this).call(this,'close',g)}}]),za}(I);for(var pb='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''),ab=0,gb=0;64>gb;gb++);gb=!1;try{gb='undefined'!=typeof XMLHttpRequest&&'withCredentials'in new XMLHttpRequest}catch(ya){}var Ub=gb,Zb=null!=(new F({xdomain:!1})).responseType;gb=function(ya){function za(g){var h;if(P(this,za),(h=m.call(this,g)).polling=!1,'undefined'!=typeof location){var b='https:'===location.protocol,x=location.port;
x||=b?'443':'80';h.xd='undefined'!=typeof location&&g.hostname!==location.hostname||x!==g.port;h.xs=g.secure!==b}g=g&&g.forceBase64;return h.supportsBinary=Zb&&!g,h}N(za,ya);var m=va(za);return ma(za,[{key:'doOpen',value:function(){this.poll()}},{key:'pause',value:function(g){var h=this;this.readyState='pausing';var b=function(){h.readyState='paused';g()};if(this.polling||!this.writable){var x=0;this.polling&&(x++,this.once('pollComplete',function(){--x||b()}));this.writable||(x++,this.once('drain',
function(){--x||b()}))}else b()}},{key:'poll',value:function(){this.polling=!0;this.doPoll();this.emitReserved('poll')}},{key:'onData',value:function(g){var h=this;(function(b,x){b=b.split(La);for(var q=[],p=0;p<b.length;p++){var R=Da(b[p],x);if(q.push(R),'error'===R.type)break}return q})(g,this.socket.binaryType).forEach(function(b){if('opening'===h.readyState&&'open'===b.type&&h.onOpen(),'close'===b.type)return h.onClose({description:'transport closed by the server'}),!1;h.onPacket(b)});'closed'!==
this.readyState&&(this.polling=!1,this.emitReserved('pollComplete'),'open'===this.readyState&&this.poll())}},{key:'doClose',value:function(){var g=this,h=function(){g.write([{type:'close'}])};'open'===this.readyState?h():this.once('open',h)}},{key:'write',value:function(g){var h=this;this.writable=!1;(function(b,x){var q=b.length,p=Array(q),R=0;b.forEach(function(L,fa){ka(L,!1,function(Ba){p[fa]=Ba;++R===q&&x(p.join(La))})})})(g,function(b){h.doWrite(b,function(){h.writable=!0;h.emitReserved('drain')})})}},
{key:'uri',value:function(){var g=this.query||{},h=this.opts.secure?'https':'http',b='';!1!==this.opts.timestampRequests&&(g[this.opts.timestampParam]=l());this.supportsBinary||g.sid||(g.b64=1);this.opts.port&&('https'===h&&443!==Number(this.opts.port)||'http'===h&&80!==Number(this.opts.port))&&(b=':'+this.opts.port);g=y(g);return h+'://'+(-1!==this.opts.hostname.indexOf(':')?'['+this.opts.hostname+']':this.opts.hostname)+b+this.opts.path+(g.length?'?'+g:'')}},{key:'request',value:function(){var g=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return U(g,{xd:this.xd,xs:this.xs},this.opts),new jb(this.uri(),g)}},{key:'doWrite',value:function(g,h){var b=this;g=this.request({method:'POST',data:g});g.on('success',h);g.on('error',function(x,q){b.onError('xhr post error',x,q)})}},{key:'doPoll',value:function(){var g=this,h=this.request();h.on('data',this.onData.bind(this));h.on('error',function(b,x){g.onError('xhr poll error',b,x)});this.pollXhr=h}},{key:'name',get:function(){return'polling'}}]),
za}(la);var jb=function(ya){function za(g,h){var b;return P(this,za),A(w(b=m.call(this)),h),b.opts=h,b.method=h.method||'GET',b.uri=g,b.async=!1!==h.async,b.data=void 0!==h.data?h.data:null,b.create(),b}N(za,ya);var m=va(za);return ma(za,[{key:'create',value:function(){var g=this,h=O(this.opts,'agent','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','autoUnref');h.xdomain=!!this.opts.xd;h.xscheme=!!this.opts.xs;var b=this.xhr=new F(h);try{b.open(this.method,this.uri,this.async);
try{if(this.opts.extraHeaders)for(var x in b.setDisableHeaderCheck&&b.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(x)&&b.setRequestHeader(x,this.opts.extraHeaders[x])}catch(q){}if('POST'===this.method)try{b.setRequestHeader('Content-type','text/plain;charset=UTF-8')}catch(q){}try{b.setRequestHeader('Accept','*/*')}catch(q){}'withCredentials'in b&&(b.withCredentials=this.opts.withCredentials);this.opts.requestTimeout&&(b.timeout=this.opts.requestTimeout);b.onreadystatechange=
function(){4===b.readyState&&(200===b.status||1223===b.status?g.onLoad():g.setTimeoutFn(function(){g.onError('number'==typeof b.status?b.status:0)},0))};b.send(this.data)}catch(q){return void this.setTimeoutFn(function(){g.onError(q)},0)}'undefined'!=typeof document&&(this.index=za.requestsCount++,za.requests[this.index]=this)}},{key:'onError',value:function(g){this.emitReserved('error',g,this.xhr);this.cleanup(!0)}},{key:'cleanup',value:function(g){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=
u,g)try{this.xhr.abort()}catch(h){}'undefined'!=typeof document&&delete za.requests[this.index];this.xhr=null}}},{key:'onLoad',value:function(){var g=this.xhr.responseText;null!==g&&(this.emitReserved('data',g),this.emitReserved('success'),this.cleanup())}},{key:'abort',value:function(){this.cleanup()}}]),za}(I);if(jb.requestsCount=0,jb.requests={},'undefined'!=typeof document)'function'==typeof attachEvent?attachEvent('onunload',v):'function'==typeof addEventListener&&addEventListener('onpagehide'in
Ea?'pagehide':'unload',v,!1);var Db='function'==typeof Promise&&'function'==typeof Promise.resolve?function(ya){return Promise.resolve().then(ya)}:function(ya,za){return za(ya,0)},rb=Ea.WebSocket||Ea.MozWebSocket,xb='undefined'!=typeof navigator&&'string'==typeof navigator.product&&'reactnative'===navigator.product.toLowerCase(),Ka={websocket:function(ya){function za(g){var h;return P(this,za),(h=m.call(this,g)).supportsBinary=!g.forceBase64,h}N(za,ya);var m=va(za);return ma(za,[{key:'doOpen',value:function(){if(this.check()){var g=
this.uri(),h=this.opts.protocols,b=xb?{}:O(this.opts,'agent','perMessageDeflate','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','localAddress','protocolVersion','origin','maxPayload','family','checkServerIdentity');this.opts.extraHeaders&&(b.headers=this.opts.extraHeaders);try{this.ws=xb?new rb(g,h,b):h?new rb(g,h):new rb(g)}catch(x){return this.emitReserved('error',x)}this.ws.binaryType=this.socket.binaryType||'arraybuffer';this.addEventListeners()}}},{key:'addEventListeners',
value:function(){var g=this;this.ws.onopen=function(){g.opts.autoUnref&&g.ws._socket.unref();g.onOpen()};this.ws.onclose=function(h){return g.onClose({description:'websocket connection closed',context:h})};this.ws.onmessage=function(h){return g.onData(h.data)};this.ws.onerror=function(h){return g.onError('websocket error',h)}}},{key:'write',value:function(g){var h=this;this.writable=!1;for(var b=function(q){var p=q===g.length-1;ka(g[q],h.supportsBinary,function(R){try{h.ws.send(R)}catch(L){}p&&Db(function(){h.writable=
!0;h.emitReserved('drain')},h.setTimeoutFn)})},x=0;x<g.length;x++)b(x)}},{key:'doClose',value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:'uri',value:function(){var g=this.query||{},h=this.opts.secure?'wss':'ws',b='';this.opts.port&&('wss'===h&&443!==Number(this.opts.port)||'ws'===h&&80!==Number(this.opts.port))&&(b=':'+this.opts.port);this.opts.timestampRequests&&(g[this.opts.timestampParam]=l());this.supportsBinary||(g.b64=1);g=y(g);return h+'://'+(-1!==this.opts.hostname.indexOf(':')?
'['+this.opts.hostname+']':this.opts.hostname)+b+this.opts.path+(g.length?'?'+g:'')}},{key:'check',value:function(){return!!rb}},{key:'name',get:function(){return'websocket'}}]),za}(la),polling:gb},db=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Lb='source protocol authority userInfo user password host port relative path directory file query anchor'.split(' '),
Vb=function(ya){function za(g){var h,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return P(this,za),h=m.call(this),g&&'object'===B(g)&&(b=g,g=null),g?(g=H(g),b.hostname=g.host,b.secure='https'===g.protocol||'wss'===g.protocol,b.port=g.port,g.query&&(b.query=g.query)):b.host&&(b.hostname=H(b.host).host),A(w(h),b),h.secure=null!=b.secure?b.secure:'undefined'!=typeof location&&'https:'===location.protocol,b.hostname&&!b.port&&(b.port=h.secure?'443':'80'),h.hostname=b.hostname||('undefined'!=
typeof location?location.hostname:'localhost'),h.port=b.port||('undefined'!=typeof location&&location.port?location.port:h.secure?'443':'80'),h.transports=b.transports||['polling','websocket'],h.readyState='',h.writeBuffer=[],h.prevBufferLen=0,h.opts=U({path:'/engine.io',agent:!1,withCredentials:!1,upgrade:!0,timestampParam:'t',rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},b),h.opts.path=h.opts.path.replace(/\/$/,'')+'/','string'==
typeof h.opts.query&&(h.opts.query=z(h.opts.query)),h.id=null,h.upgrades=null,h.pingInterval=null,h.pingTimeout=null,h.pingTimeoutTimer=null,'function'==typeof addEventListener&&(h.opts.closeOnBeforeunload&&addEventListener('beforeunload',function(){h.transport&&(h.transport.removeAllListeners(),h.transport.close())},!1),'localhost'!==h.hostname&&(h.offlineEventListener=function(){h.onClose('transport close',{description:'network connection lost'})},addEventListener('offline',h.offlineEventListener,
!1))),h.open(),h}N(za,ya);var m=va(za);return ma(za,[{key:'createTransport',value:function(g){var h=U({},this.opts.query);h.EIO=4;h.transport=g;this.id&&(h.sid=this.id);h=U({},this.opts.transportOptions[g],this.opts,{query:h,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Ka[g](h)}},{key:'open',value:function(){var g=this;if(this.opts.rememberUpgrade&&za.priorWebsocketSuccess&&-1!==this.transports.indexOf('websocket'))var h='websocket';else{if(0===this.transports.length)return void this.setTimeoutFn(function(){g.emitReserved('error',
'No transports available')},0);h=this.transports[0]}this.readyState='opening';try{h=this.createTransport(h)}catch(b){return this.transports.shift(),void this.open()}h.open();this.setTransport(h)}},{key:'setTransport',value:function(g){var h=this;this.transport&&this.transport.removeAllListeners();this.transport=g;g.on('drain',this.onDrain.bind(this)).on('packet',this.onPacket.bind(this)).on('error',this.onError.bind(this)).on('close',function(b){return h.onClose('transport close',b)})}},{key:'probe',
value:function(g){function h(){L||(L=!0,ea(),R.close(),R=null)}function b(){Ba('transport closed')}function x(){Ba('socket closed')}function q(da){R&&da.name!==R.name&&h()}var p=this,R=this.createTransport(g),L=!1;za.priorWebsocketSuccess=!1;var fa=function(){L||(R.send([{type:'ping',data:'probe'}]),R.once('packet',function(da){if(!L)if('pong'===da.type&&'probe'===da.data){if(p.upgrading=!0,p.emitReserved('upgrading',R),R)za.priorWebsocketSuccess='websocket'===R.name,p.transport.pause(function(){L||
'closed'!==p.readyState&&(ea(),p.setTransport(R),R.send([{type:'upgrade'}]),p.emitReserved('upgrade',R),R=null,p.upgrading=!1,p.flush())})}else da=Error('probe error'),da.transport=R.name,p.emitReserved('upgradeError',da)}))},Ba=function(da){da=Error('probe error: '+da);da.transport=R.name;h();p.emitReserved('upgradeError',da)},ea=function(){R.removeListener('open',fa);R.removeListener('error',Ba);R.removeListener('close',b);p.off('close',x);p.off('upgrading',q)};R.once('open',fa);R.once('error',
Ba);R.once('close',b);this.once('close',x);this.once('upgrading',q);R.open()}},{key:'onOpen',value:function(){if(this.readyState='open',za.priorWebsocketSuccess='websocket'===this.transport.name,this.emitReserved('open'),this.flush(),'open'===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var g=0,h=this.upgrades.length;g<h;g++)this.probe(this.upgrades[g])}},{key:'onPacket',value:function(g){if('opening'===this.readyState||'open'===this.readyState||'closing'===this.readyState)switch(this.emitReserved('packet',
g),this.emitReserved('heartbeat'),g.type){case 'open':this.onHandshake(JSON.parse(g.data));break;case 'ping':this.resetPingTimeout();this.sendPacket('pong');this.emitReserved('ping');this.emitReserved('pong');break;case 'error':var h=Error('server error');h.code=g.data;this.onError(h);break;case 'message':this.emitReserved('data',g.data),this.emitReserved('message',g.data)}}},{key:'onHandshake',value:function(g){this.emitReserved('handshake',g);this.id=g.sid;this.transport.query.sid=g.sid;this.upgrades=
this.filterUpgrades(g.upgrades);this.pingInterval=g.pingInterval;this.pingTimeout=g.pingTimeout;this.maxPayload=g.maxPayload;this.onOpen();'closed'!==this.readyState&&this.resetPingTimeout()}},{key:'resetPingTimeout',value:function(){var g=this;this.clearTimeoutFn(this.pingTimeoutTimer);this.pingTimeoutTimer=this.setTimeoutFn(function(){g.onClose('ping timeout')},this.pingInterval+this.pingTimeout);this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:'onDrain',value:function(){this.writeBuffer.splice(0,
this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emitReserved('drain'):this.flush()}},{key:'flush',value:function(){if('closed'!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var g=this.getWritablePackets();this.transport.send(g);this.prevBufferLen=g.length;this.emitReserved('flush')}}},{key:'getWritablePackets',value:function(){if(!(this.maxPayload&&'polling'===this.transport.name&&1<this.writeBuffer.length))return this.writeBuffer;
for(var g,h=1,b=0;b<this.writeBuffer.length;b++){if(g=this.writeBuffer[b].data){if('string'==typeof g){for(var x=0,q=0,p=0,R=g.length;p<R;p++)128>(x=g.charCodeAt(p))?q+=1:2048>x?q+=2:55296>x||57344<=x?q+=3:(p++,q+=4);g=q}else g=Math.ceil(1.33*(g.byteLength||g.size));h+=g}if(0<b&&h>this.maxPayload)return this.writeBuffer.slice(0,b);h+=2}return this.writeBuffer}},{key:'write',value:function(g,h,b){return this.sendPacket('message',g,h,b),this}},{key:'send',value:function(g,h,b){return this.sendPacket('message',
g,h,b),this}},{key:'sendPacket',value:function(g,h,b,x){if('function'==typeof h&&(x=h,h=void 0),'function'==typeof b&&(x=b,b=null),'closing'!==this.readyState&&'closed'!==this.readyState)(b=b||{}).compress=!1!==b.compress,g={type:g,data:h,options:b},this.emitReserved('packetCreate',g),this.writeBuffer.push(g),x&&this.once('flush',x),this.flush()}},{key:'close',value:function(){var g=this,h=function(){g.onClose('forced close');g.transport.close()},b=function p(){g.off('upgrade',p);g.off('upgradeError',
p);h()},x=function(){g.once('upgrade',b);g.once('upgradeError',b)};return'opening'!==this.readyState&&'open'!==this.readyState||(this.readyState='closing',this.writeBuffer.length?this.once('drain',function(){g.upgrading?x():h()}):this.upgrading?x():h()),this}},{key:'onError',value:function(g){za.priorWebsocketSuccess=!1;this.emitReserved('error',g);this.onClose('transport error',g)}},{key:'onClose',value:function(g,h){'opening'!==this.readyState&&'open'!==this.readyState&&'closing'!==this.readyState||
(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners('close'),this.transport.close(),this.transport.removeAllListeners(),'function'==typeof removeEventListener&&removeEventListener('offline',this.offlineEventListener,!1),this.readyState='closed',this.id=null,this.emitReserved('close',g,h),this.writeBuffer=[],this.prevBufferLen=0)}},{key:'filterUpgrades',value:function(g){for(var h=[],b=0,x=g.length;b<x;b++)~this.transports.indexOf(g[b])&&h.push(g[b]);return h}}]),za}(I);Vb.protocol=
4;return function(ya,za){return new Vb(ya,za)}});
function BindingHelper(B){var P={};'undefined'!=typeof B&&(P=B);P.process=function(V,ma,U){if('undefined'==typeof V||!Array.isArray(V))throw Error('`bindings` must be a defined array');'undefined'==typeof ma&&(ma=V.length,U=0);if(V[U]){var N=V[U];if('undefined'==typeof N.call)throw Error('`bindings.['+U+'].call` is required !');if('function'!=typeof P[N.call])throw Error('`bindingContext.'+N.call+'` is not a function');var ba=N.call;delete N.call;try{if('undefined'!=typeof N.handler){if(!window[N.handler])throw Error('`'+
N.handler+'` could not be reached. You must expose it to the `window` do object before any call.');var Q=N.handler;delete N.handler;window[Q].apply(this,Object.values(N));N.handler=Q}else P[ba].apply(this,Object.values(N));N.call=ba}catch(S){console.error('BindingHelper encountered error while trying to execute `'+ba+'`'+S.stack||S)}P.process(V,ma,U+1)}};return P}define('helpers/binding',[],function(){return BindingHelper});
if('undefined'!==typeof module&&module.exports){var fs=require('fs'),os=require('os'),dns=require('dns'),execSync=require('child_process').execSync,util=require('util'),promisify=util.promisify;try{var console=require('../../logger')}catch(B){}}
function Domain(B,P){var V='undefined'!==typeof module&&module.exports?!1:!0,ma=!1;V&&(ma=!!window.MSInputMethodContext&&!!document.documentMode);'function'==typeof B&&(P=B,B=void 0);var U={filename:'../dist/public_suffix_list.dat',url:'https://publicsuffix.org/list/public_suffix_list.dat',alternativeUrl:'https://raw.githubusercontent.com/publicsuffix/list/master/public_suffix_list.dat',isCachingRequired:!1,isUpdating:!1},N=null,ba=null,Q=function(Aa,I,O){if('undefined'==typeof I)I=U;else for(let A in U)'undefined'==
typeof I[A]&&(I[A]=U[A]);V||(I.filename=__dirname+'/'+I.filename);V&&I.isCachingRequired&&(console.warn('[DOMAIN] `options.isCachingRequired` is only available for backend'),I.isCachingRequired=!1);N=I;if(O)return r(I,function(A){A?O(A):(console.debug('[DOMAIN] PSL Loaded'),O(A,Aa))});r(I);console.debug('[DOMAIN] PSL Loaded');return Aa},S=function(){},r=async function(Aa,I){var O=V||Aa.isCachingRequired?Aa.url:Aa.filename,A='undefined'!=typeof Aa.isUpdating?Aa.isUpdating:!1,D=null;if(V)if(ba&&!A)I(!1);
else if(window.fetch){D=A=null;try{A=await fetch(O),ba=D=await A.text()}catch(y){D=Error('[DOMAIN] Could not load PSL\n'+(y.stack||y.message||y));I(D);return}Aa.isUpdating=!1;I(!1)}else D=Error('[DOMAIN] Fetch API not supported'),I(D);else{O=!1;if('undefined'!=typeof fs.accessSync)try{fs.accessSync(Aa.filename,fs.constants.F_OK),O=!0}catch(y){O=!1;try{fs.lstatSync(Aa.filename).isSymbolicLink()&&(O=!0)}catch(z){}}else O=fs.existsSync(Aa.filename);O||(Aa.isCachingRequired=!0);if(Aa.isCachingRequired){O=
'curl -o '+Aa.filename+' '+Aa.url+' >/dev/null 2>&1';console.debug('[DOMAIN] Running: '+O);try{execSync(O)}catch(y){console.warn('[DOMAIN] could not fetch from `'+Aa.url+'`. Trying with `'+Aa.alternativeUrl+'`');O='curl -o '+Aa.filename+' '+Aa.alternativeUrl+' >/dev/null 2>&1';try{execSync(O)}catch(z){I(z);return}}var l=!1;nIntervId=setInterval(()=>{if('undefined'!=typeof fs.accessSync)try{fs.accessSync(Aa.filename,fs.constants.F_OK),l=!0}catch(y){l=!1;try{fs.lstatSync(Aa.filename).isSymbolicLink()&&
(l=!0)}catch(z){}}else l=fs.existsSync(Aa.filename);l&&(clearInterval(nIntervId),ba=fs.readFileSync(Aa.filename).toString(),I(!1))},200)}try{ba=fs.readFileSync(Aa.filename).toString(),I&&I(!1)}catch(y){console.warn('[DOMAIN] could not read from `'+Aa.filename+'`'),r(B,I)}}},G=function(Aa){N.isUpdating=!0;r(N,Aa)},w=async function(Aa){Aa='undefined'!=typeof Aa&&''!=Aa?Aa:os.hostname();if(/\./.test(Aa))return Aa;console.debug('[DOMAIN][getFQDN] UQDN: '+Aa);var I=null,O=null;I=await promisify(dns.lookup)(Aa,
{hints:dns.ADDRCONFIG||dns.V4MAPPED}).then(function(A){console.debug('[DOMAIN][getFQDN] IP: '+A.address);console.debug('[DOMAIN][getFQDN] FAMILY: '+A.family);return A}).catch(function(A){O=A});if(O)throw O;Aa=await promisify(dns.lookupService)(I.address,0).then(function(A){console.debug('[DOMAIN][getFQDN] FQDN: '+A.hostname);console.debug('[DOMAIN][getFQDN] Service: '+A.service);return A.hostname}).catch(function(A){});if(O)throw O;if(!/\./.test(Aa))throw Error('[DOMAIN][getFQDN] `'+Aa+'` is not a FQDN !');
return Aa},va={getRootDomain:function(Aa,I){'undefined'==typeof I&&(I=!1);var O=!1,A=!1,D=Aa.replace(/^(.*):\/\/|\/(.*)/g,''),l=D.split(/\./g).reverse(),y=l.length?l.length-1:0,z=ba.replace(/\/\/\s*(.*)\n|^\s*\n/gm,'').split(/\n/).filter(function(F,u,v){/[^a-z 0-9.]+/.test(F)&&(F=F.replace(/[^a-z 0-9.]+/g,'').replace(/^\./g,''));return/\./.test(F)&&!O&&(new RegExp('.'+F+'$')).test(D)?(O=!0,y=F.split(/\./g).length,v.splice(0,v.length),!1):F});D=l[y];0<y&&(l=l.splice(0,y),A=l[0],/:(.*)$/.test(A)&&(A=
A.replace(/:(.*)$/,'')),(A=O||!O&&-1<z.indexOf(A)?!0:!1)?1<y&&!O?(l.splice(2),D=l.reverse().join('.')):D+='.'+l.reverse().join('.'):1<y?(l.splice(2),D=l.reverse().join('.')):D+='.'+l.reverse().join('.'));/:(.*)$/.test(D)&&(D=D.replace(/:(.*)$/,''));console.debug('[DOMAIN] isSLD: '+O,Aa,' -> ',D);/^true$/i.test(I);return{value:D,isSLD:O,isRegisteredTldOrSld:A}}};V?va.onReady=S:(va.updatePSL=G,va.getFQDN=w);return V&&ma&&!window.fetch?(ma=document.createElement('script'),ma.type='text/javascript',ma.src=
'https://cdn.jsdelivr.net/npm/promise-polyfill@8.1.3/dist/polyfill.min.js',S=document.createElement('script'),S.type='text/javascript',S.src='https://cdn.jsdelivr.net/npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js',document.head.appendChild(ma),document.head.appendChild(S),setTimeout(()=>Q(va,B,P),500)):Q(va,B,P)}'undefined'!==typeof module&&module.exports?module.exports=Domain:'function'===typeof define&&define.amd&&define('lib/domain',[],function(){return Domain});
define('gina/link','require jquery vendor/uuid lib/domain lib/merge utils/events'.split(' '),function(B){B('jquery').noConflict();var P=B('vendor/uuid'),V=B('lib/domain'),ma=null,U=B('lib/merge');B('utils/events');return function(N){function ba(l,y){var z=A(l),F=z.id,u=document.getElementById(F)||null;(u.getAttribute('data-gina-link-event-on-success')||u.getAttribute('data-gina-link-event-on-error'))&&listenToXhrEvents(z);y='undefined'==typeof y?va:U(y,va);if(/^(http|https):/.test(l)&&!(new RegExp('^'+
window.location.protocol+'//'+window.location.host)).test(l)){var v=ma.getRootDomain(window.location.hostname).value,H=ma.getRootDomain(l).value;v=v===H?!0:!1;gina.config.envIsDev&&(console.debug('Checking CORS from Popin plugin...TODO - local CORS Proxy'),console.debug('Is request from same domain ? ',v));v||(l=l.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+l)}y.url=l;z&&'undefined'!=typeof z.options&&(y=U(z.options,y));y.withCredentials?'withCredentials'in w?y.isSynchrone?w.open(y.method,
y.url,y.isSynchrone):w.open(y.method,y.url):'undefined'!=typeof XDomainRequest?(w=new XDomainRequest,w.open(y.method,y.url)):(w=null,triggerEvent(gina,u,'error.'+F,'CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ')):y.isSynchrone?w.open(y.method,y.url,y.isSynchrone):w.open(y.method,y.url);if(!w)throw Error('No `xhr` object initiated');y.$link=z;handleXhr(w,u,y,B);w.send()}function Q(l,y){if('object'!=typeof y)throw Error('`options` must be an object');
l.options=U(y,S.options);y=document.getElementById(l.id)||null;if('undefined'==typeof r.$links[l.id]){if(-1<Aa.indexOf(l.id))throw Error('`link '+l.id+'` already exists !');if(!gina.events[evt]){addListener(gina,y,evt,function(u){cancelEvent(u);u=O(u.target.id);var v=u.url;'undefined'==typeof u.options.isSynchrone&&(u.options.isSynchrone=!1);'undefined'==typeof u.options.withCredentials&&(u.options.withCredentials=!1);ba(v,u.options)});var z=y.childNodes,F=0;lLen=z.length;if(0<lLen)for(;F<lLen;++F)'undefined'!=
typeof z[F].tagName&&I(z[F],y,evt)}l.request=ba;l.getLinkById=O;l.getLinkByUrl=A;r.$links[l.id]=l}}this.plugin='link';registerEvents(this.plugin,'loaded ready open close destroy success error progress'.split(' '));var S={options:{url:void 0,'class':'gina-link-default'},authorizedEvents:['ready','success','error'],events:{}},r={plugin:this.plugin,id:'gina-links-'+P.v4(),on,eventData:{},$links:{},target:document,isReady:!1,initialized:!1},G={plugin:this.plugin,on,eventData:{},target:document,url:null,
request:null,$forms:[]},w=null,va={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}},Aa=[],I=function(l,y,z){addListener(gina,l,'click',function(F){cancelEvent(F);triggerEvent(gina,y,z)})},O=function(l){return'undefined'!=typeof r.$links[l]?r.$links[l]:null},A=function(l){var y=null,z;for(z in gina.link.$links)if('undefined'!=typeof gina.link.$links[z].url&&gina.link.$links[z].url==l){y=gina.link.$links[z];break}return y},D=function(l,y){'undefined'==
typeof l&&(l=r.target);var z,F=null;l=l.getElementsByTagName('a');for(var u=0,v=l.length;u<v;++u)if(((z=l[u].getAttribute('data-gina-link'))||''==z)&&!/^false$/i.test(z)){z=l[u];var H={type:'a',method:'GET'};var K=z.getAttribute('data-gina-link-url');H.url='undefined'!=typeof K&&null!=K?K:z.getAttribute('href');K=z.getAttribute('id');if('undefined'==typeof K||null==K||''==K||/popin\.link/.test(K))K='link.click.gina-link-'+r.id+'-'+P.v4();z.id=K;evt=H.id=K;z.setAttribute('id',evt);'A'==z.tagName&&
(F=z.getAttribute('onclick'));F?'undefined'==typeof F||/return false/.test(F)||(F=/;$/.test(F)?F+'return false;':F+'; return false;',z.setAttribute('onclick',F)):z.setAttribute('onclick','return false;');'undefined'==typeof r.$links[H.id]&&(H.target=z,z=U(H,G),Q(z,y))}};new V(function(l,y){if(l)throw l;ma=y});return function(l){r.bindLinks=D;r.request=ba;r.getLinkById=O;r.getLinkByUrl=A;r.on('init',function(y){if(window.XMLHttpRequest)w=new XMLHttpRequest;else if(window.ActiveXObject)try{w=new ActiveXObject('Msxml2.XMLHTTP')}catch(z){try{w=
new ActiveXObject('Microsoft.XMLHTTP')}catch(F){}}evt='click';addListener(gina,r.target,evt,function(z){'undefined'==typeof z.target.id&&(z.target.setAttribute('id',evt+'.'+P.v4()),z.target.id=z.target.getAttribute('id'));if(/^link\.click\./.test(z.target.id)){cancelEvent(z);var F=z.target.id;(new RegExp('^link.click.gina-link-'+r.id)).test(F)&&triggerEvent(gina,z.target,F,z.detail)}});'undefined'==typeof l&&(l={});r.options=l;D(r.target,l);gina.linkIsBinded=!0;r.isReady=!0;gina.hasLinkHandler=!0;
gina.link=U(gina.link,r);triggerEvent(gina,r.target,'ready.'+r.id,r)});r.initialized=!0;return r}(N)}});
define('gina/popin','require vendor/uuid jquery lib/domain lib/merge utils/events'.split(' '),function(B){B('jquery').noConflict();var P=B('vendor/uuid'),V=B('lib/domain'),ma=null,U=B('lib/merge');B('utils/events');return function(N){function ba(){var W=null,ka;for(ka in gina.popin.$popins)if('undefined'!=typeof gina.popin.$popins[ka].isOpen&&gina.popin.$popins[ka].isOpen){W=gina.popin.$popins[ka];break}!W&&gina.popin.activePopinId&&(W=gina.popin.$popins[gina.popin.activePopinId]);return W}function Q(W,
ka){var ha=W.target,xa=W.type;'undefined'!=typeof W.detail&&'function'==typeof W.detail.trim&&(ha.innerHTML=W.detail.trim());W=function(jb,Db,rb){var xb=rb.getAttribute('data-gina-popin-is-link');xb=/^true$/i.test(xb)?!0:!1;'link'!=jb||xb||(jb='action');addListener(gina,rb,Db,function(Ka){cancelEvent(Ka);if('close'!=jb){var db=!1,Lb='loaded.'+ka.id;'undefined'==typeof gina.events[Lb]&&addListener(gina,ha,Lb,function(Vb){Vb.preventDefault();db||(db=!0,G(Vb.detail))});Lb={isSynchrone:!1,withCredentials:!1};
Lb=U(ka.options,Lb);r(ka.name,rb.href,Lb)}removeListener(gina,Ka.target,Ka.type)});addListener(gina,rb,'click',function(Ka){cancelEvent(Ka);if(null!=Ka.target.getAttribute('disabled')&&'false'!=Ka.target.getAttribute('disabled'))return!1;if('link'==jb){var db=Ka.target.getAttribute('href')||null,Lb=Ka.target.getAttribute('target');null!=Lb&&''!=Lb?window.open(db,Lb):triggerEvent(gina,Ka.target,Ka.currentTarget.id,ka)}else'undefined'==typeof Ka.target.id&&(Ka.target.setAttribute('id',Db+'.'+P.v4()),
Ka.target.id=Ka.target.getAttribute('id')),/^popin\.close\./.test(Ka.target.id)&&(cancelEvent(Ka),ka.isRedirecting=!1,O(ka.name)),/^popin\.click\./.test(Ka.target.id)&&(cancelEvent(Ka),db=Ka.target.id,(new RegExp('^popin.click.gina-popin-'+l.id)).test(db)&&triggerEvent(gina,Ka.target,db,Ka.detail))})};gina.popinIsBinded=!0;var la=null,ta=null,Da=null;if(!ka.isOpen&&D.options.cancelOnOverlayClick){var Qa=ka.target;if(!D.options.useDialogMode||gina.config.envIsDev)Qa=l.target.childNodes[0];addListener(gina,
Qa,'mousedown',function(jb){if(/gina-popin-is-active/.test(jb.target.className)){removeListener(gina,jb.target,'mousedown');jb=[];la=0;var Db=ha.getElementsByTagName('button');ta=0;Da=Db.length;if(0<Da)for(;ta<Da;++ta)/gina-popin-close/.test(Db[ta].className)&&(jb[la]=Db[ta],++la);Db=ha.getElementsByTagName('div');ta=0;Da=Db.length;if(0<Da)for(;ta<Da;++ta)/gina-popin-close/.test(Db[ta].className)&&(jb[la]=Db[ta],++la);Db=ha.getElementsByTagName('a');ta=0;Da=Db.length;if(0<Da)for(;ta<Da;++ta)/gina-popin-close/.test(Db[ta].className)&&
(jb[la]=Db[ta],++la);ta=0;for(Da=jb.length;ta<Da;++ta){Db=jb[ta];let rb=Db.getAttribute('id');for(let xb=0,Ka=A.length;xb<Ka;xb++){let db=A[xb];'undefined'!=typeof gina.events[db]&&gina.events[db]==rb&&removeListener(gina,Db,db);'undefined'!=typeof gina.events[rb]&&gina.events[rb]==rb&&removeListener(gina,Db,rb);'undefined'!=typeof gina.events[db+'.'+rb]&&gina.events[db+'.'+rb]==rb&&removeListener(gina,Db,db+'.'+rb);'undefined'!=typeof gina.events[db+'.'+rb]&&gina.events[db+'.'+rb]==db+'.'+rb&&removeListener(gina,
Db,db+'.'+rb)}}ka.isRedirecting=!1;O(ka.name)}})}/<form/i.test(ha.innerHTML)&&'undefined'!=typeof z&&z&&(ka.hasForm=!0);var La=[],Ea=[];Qa=[];Ea=ha.getElementsByTagName('button');ta=la=0;Da=Ea.length;if(0<Ea.length)for(;ta<Da;++ta)/gina-popin-close/.test(Ea[ta].className)&&(La[la]=Ea[ta],++la);Ea=ha.getElementsByTagName('div');ta=0;Da=Ea.length;if(0<Da)for(;ta<Da;++ta)/gina-popin-close/.test(Ea[ta].className)&&(La[la]=Ea[ta],++la);Ea=ha.getElementsByTagName('a');ta=0;Da=Ea.length;if(0<Da)for(;ta<
Da;++ta)/gina-popin-close/.test(Ea[ta].className)?(La[la]=Ea[ta],++la):('undefined'==typeof Ea[ta]||/(#|#.*)$/.test(Ea[ta].href)||Ea[ta].id)&&('undefined'==typeof Ea[ta]||/(#|#.*)$/.test(Ea[ta].href)||/^(click\.|popin\.link)/.test(Ea[ta].id))||Qa.push(Ea[ta]);var Na=null;Ea=null;ta=0;for(Da=La.length;ta<Da;++ta)'A'==La[ta].tagName&&(Na=La[ta].getAttribute('onclick')),Na?'undefined'==typeof Na||/return false/.test(Na)||(Na=/;$/.test(Na)?Na+'return false;':Na+'; return false;'):La[ta].setAttribute('onclick',
'return false;'),La[ta].id?Ea=La[ta].id:(Ea='popin.close.'+P.v4(),La[ta].id=Ea,La[ta].setAttribute('id',Ea)),'undefined'!=typeof gina.events[Ea]&&gina.events[Ea]==La[ta].id||W('close',Ea,La[ta]);la=0;Da=Qa.length;var Ia=null,Ja=null,Ua=null,pb={},ab=null,gb=new DOMParser,Ub=null,Zb=null;for(Ea=La=La=null;la<Da;++la)null==Qa[la].getAttribute('disabled')&&(Qa[la].id=/^null$/i.test(Qa[la].getAttribute('id'))?null:Qa[la].getAttribute('id'),Qa[la].id&&/^popin\.link/.test(Qa[la].id)&&/^popin\.click/.test(Qa[la].id)?
Ea=Qa[la].id:(Ea=!0,La=Qa[la].getAttribute('href'),La&&''!=La&&'#'!=La||('#'!=La&&Qa[la].setAttribute('href','#'),Ea=!1),/^null$/i.test(Qa[la].id)?Ea?(Ea='popin.link.'+P.v4(),Qa[la].setAttribute('data-gina-popin-is-link',!0)):(Ea='popin.click.'+P.v4(),Qa[la].setAttribute('data-gina-popin-is-link',!1)):Ea=Qa[la].id,Qa[la].id=Ea,Qa[la].setAttribute('id',Ea)),La=(La=Qa[la].getAttribute('data-gina-form-submit'))&&/^true$/i.test(La)?!0:!1,La||(/^(null|\s*)$/.test(Qa[la].getAttribute('href'))||addListener(gina,
Qa[la],'click',function(jb){jb.preventDefault();ka.isRedirecting=!0;if(ka.hasForm){Ia=ka.target.getElementsByTagName('FORM');Ja=0;for(Ua=Ia.length;Ja<Ua;++Ja)if(Ub=jb.currentTarget.id,Zb=gb.parseFromString(Ia.item(Ja).innerHTML,'text/html').getElementById(Ub)||!1)ab=Ia[Ja].getAttribute('data-gina-form-inherits-data')||null,pb=U(pb,JSON.parse(decodeURIComponent(ab)));0<pb.count()&&(/\?/.test(jb.currentTarget.href)?jb.currentTarget.href+='&inheritedData='+encodeRFC5987ValueChars(JSON.stringify(pb)):
jb.currentTarget.href+='?inheritedData='+encodeRFC5987ValueChars(JSON.stringify(pb)))}}),'undefined'!=typeof gina.events[Ea]&&gina.events[Ea]==Qa[la].id||W('link',Ea,Qa[la])));if(ka.hasForm)for(W=null,Qa=ha.getElementsByTagName('form'),la=0,Da=Qa.length;la<Da;++la)Qa[la].id&&'string'==typeof Qa[la]?W=Qa[la].id:(W=Qa[la].getAttribute('id')||'form.'+P.v4(),Qa[la].setAttribute('id',W),Qa[la].id=W),0>ka.$forms.indexOf(W)&&ka.$forms.push(W),Qa[la].close=O,z.isPopinContext=!0,z.validateFormById(Qa[la].getAttribute('id')),
removeListener(gina,ka.target,xa)}function S(W,ka){var ha=ba();if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&'undefined'!=typeof W&&'undefined'!=typeof ka&&W){ha=W;try{var xa=null;!ka&&ha.error&&/^(\{|\[)/.test(ha.error)&&(ha.error=JSON.parse(ha.error));if('undefined'!=typeof ha.error&&'object'==typeof ha.error&&'object'==typeof ha.error){xa={status:ha.status};for(xErr in ha.error)/^error$/.test(xErr)||(xa[xErr]=ha.error[xErr]);xa.error=ha.error.error;ha=xa}else'undefined'!=
typeof ha.error&&'string'==typeof ha.error&&(ha=W);ha.isXHRViewData=!0;ginaToolbar.update('data-xhr',ha);return}catch(la){throw la;}}try{ha=K(l.activePopinId)}catch(la){ha&&ginaToolbar.update('data-xhr',la)}ha||(new DOMParser).parseFromString(W,'text/html').getElementsByClassName('popin')[0]||(new DOMParser).parseFromString(W,'text/html').getElementsByTagName('div');ha='string'==typeof W&&/<(.*)>/.test(W)?(new DOMParser).parseFromString(W,'text/html').getElementById('gina-without-layout-xhr-data'):
document.getElementById('gina-without-layout-xhr-data');if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&ha)try{'undefined'!=typeof ha.value&&ha.value&&(ha=JSON.parse(decodeURIComponent(ha.value)),ha.isXHRViewData=!0,ginaToolbar.update('data-xhr',ha))}catch(la){throw la;}W='string'==typeof W&&/<(.*)>/.test(W)?(new DOMParser).parseFromString(W,'text/html').getElementById('gina-without-layout-xhr-view'):document.getElementById('gina-without-layout-xhr-view');if(gina&&'undefined'!=
typeof window.ginaToolbar&&window.ginaToolbar&&W)try{'undefined'!=typeof W.value&&W.value&&(W=JSON.parse(decodeURIComponent(W.value)),ginaToolbar.update('view-xhr',W))}catch(la){throw la;}}function r(W,ka,ha){if('undefined'==typeof W){if('undefined'==typeof this.name)throw Error('`$popin.name` needs to be defined !');W=this.name}else'undefined'==typeof this.name&&'undefined'!=W&&(this.name=W);var xa=T(W),la=xa.id;gina.popin.activePopinId||(gina.popin.activePopinId=la);var ta=document.getElementById(la)||
null;if(null==ta){var Da=null;D.options.useDialogMode?(Da=xa.options.class+' '+la,ta=document.createElement('dialog'),ta.setAttribute('id',la),ta.setAttribute('class',Da),ta.setAttribute('data-type','modal'),ta.setAttribute('aria-labelledby',W),($overlay=document.getElementById('gina-popins-overlay'))?$overlay.appendChild(ta):l.target.appendChild(ta)):(Da=xa.options.class+' '+la,ta=document.createElement('div'),ta.setAttribute('id',la),ta.setAttribute('class',Da),l.target.firstChild.appendChild(ta))}'undefined'==
typeof ha?ha=Fa:(W=Fa.withCredentials,ha=U(ha,Fa),ha.withCredentials=W);/^(http|https):/.test(ka)&&!(new RegExp('^'+window.location.protocol+'//'+window.location.host)).test(ka)&&(W=ma.getRootDomain(window.location.hostname).value,Da=ma.getRootDomain(ka).value,W=W===Da?!0:!1,gina.config.envIsDev&&(console.debug('Checking CORS from Popin plugin...TODO - local CORS Proxy'),console.debug('Is request from same domain ? ',W)),W||(ka=ka.match(/^(https|http):/)[0]+'//corsacme.herokuapp.com/?'+ka,ha.withCredentials=
!1));ha.url=ka;xa.options=U(ha,xa.options);var Qa=null;ha.withCredentials?'withCredentials'in F?ha.isSynchrone?F.open(ha.method,ha.url,ha.isSynchrone):F.open(ha.method,ha.url):'undefined'!=typeof XDomainRequest?(F=new XDomainRequest,F.open(ha.method,ha.url)):(F=null,Qa='CORS not supported: the server is missing the header `"Access-Control-Allow-Credentials": true` ',triggerEvent(gina,ta,'error.'+la,Qa)):ha.isSynchrone?F.open(ha.method,ha.url,ha.isSynchrone):F.open(ha.method,ha.url);var La=!1;if(F){F.withCredentials=
'undefined'!=typeof ha.withCredentials?ha.withCredentials:!1;F.onerror=function(Na,Ia){Qa={status:F.status,error:'Transaction error: might be due to the server CORS settings.\nPlease, check the console for more details.'};La=!0;l.eventData.error=Qa+'\n'+Ia;S(Qa,La);triggerEvent(gina,ta,'error.'+la,Qa)};for(var Ea in ha.headers)F.setRequestHeader(Ea,ha.headers[Ea]);F.onreadystatechange=function(Na){if(4==F.readyState)if(Na=null,/^2/.test(F.status))try{Na=F.responseText;var Ia=F.getResponseHeader('Content-Type'),
Ja=/application\/json/.test(Ia)?!0:!1,Ua=!0;Ja&&(Na=JSON.parse(F.responseText),Na.status=F.status,Na.contentType=Ia,Ua=!1);l.eventData.success=Na;if(!Ja&&xa.isOpen&&!xa.hasForm||!Ja&&xa.isOpen&&Ua)G(Na,Ua);else{if(Ja&&'undefined'!=typeof Na.location||Ja&&'undefined'!=typeof Na.reload){Ia=!1;'undefined'!=typeof Na.isXhrRedirect&&/^true$/i.test(Na.isXhrRedirect)&&(Ia=!0);if('undefined'!=typeof Na.location&&Ia){if('undefined'!=typeof Na.popin&&'undefined'!=typeof Na.popin.close){xa.isRedirecting=!1;
xa.close();var pb=Na.popin.reload?Na.popin.reload:!1;Na.popin.location||Na.popin.url||(delete Na.popin,pb&&(Na.popin={reload:pb}))}Ja='_self';'undefined'!=typeof Na.target&&(Na.target='_'+Na.target,Ja=Na.target);if(/^_self$/.test(Ja))return Ja=null,Ja='undefined'!=typeof Na.popin?Na.popin.location||Na.popin.url:Na.location,xa.load(xa.name,Ja,xa.options),setTimeout(function(ab){ab.isOpen||ab.open()},50,xa);window.open(Na.location,Ja);return}if('undefined'!=typeof Na.location){document.location=Na.location;
return}if('undefined'!=typeof Na.reload){document.location.reload();return}'undefined'!=typeof Na.popin&&'undefined'!=typeof Na.popin.close&&(xa.isRedirecting=!1,O(xa.name))}if(!Ja){GINA_ENV_IS_DEV&&S(Na);triggerEvent(gina,ta,'loaded.'+la,Na);return}GINA_ENV_IS_DEV&&S(Na);triggerEvent(gina,$forms[0],'success.'+la,Na)}GINA_ENV_IS_DEV&&S(Na)}catch(ab){La=!1,Na={status:422,error:ab.description||ab.stack},/application\/json/.test(F.getResponseHeader('Content-Type'))&&(Na.error=JSON.parse(F.responseText),
La=!0),l.eventData.error=Na,GINA_ENV_IS_DEV&&S(Na,La),triggerEvent(gina,ta,'error.'+la,Na)}else La=!1,Na={status:F.status,error:F.responseText},/application\/json/.test(F.getResponseHeader('Content-Type'))&&(Na.error=JSON.parse(F.responseText),La=!0),l.eventData.error=Na,GINA_ENV_IS_DEV&&S(Na,La),triggerEvent(gina,ta,'error.'+la,Na)};F.send();return{open:function(){var Na=!1;addListener(gina,ta,'loaded.'+la,function(Ia){Ia.preventDefault();Na||(Na=!0,l.activePopinId=xa.id,Q(Ia,xa),Aa(xa.name))})}}}}
function G(W,ka){var ha=ba();if(ha){if(!ha.isOpen)throw Error('Popin `'+ha.name+'` is not open !');ha.isRedirecting='undefined'!=typeof ka?ka:!1;ka=ha.target;ka.innerHTML=W.trim();I(ha.name,!0);Q({target:ka,type:'loaded.'+ha.id},ha);if(!D.options.useDialogMode&&/safari/i.test(window.navigator.userAgent))for(W=document.getElementsByTagName('link'),ka=0;ka<W.length;ka++)if('stylesheet'==W[ka].getAttribute('rel')){var xa=W[ka].getAttribute('href').split('?')[0];/gina\.min\.css|gina\.css/.test(xa)&&(xa=
xa+'?version='+(new Date).getMilliseconds(),W[ka].setAttribute('href',xa))}ha.isRedirecting?triggerEvent(gina,l.target,'loaded.'+ha.id,ha):triggerEvent(gina,l.target,'open.'+ha.id,ha);if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar)try{ginaToolbar.update('el-xhr',ha.id)}catch(la){throw la;}}}function w(W){var ka=setupXhr();ka.open('GET',W,!0);ka.setRequestHeader('Content-Type','text/javascript');ka.onload=function(){eval(ka.response)};ka.send()}function va(W){var ka=setupXhr();
ka.open('GET',W,!0);ka.setRequestHeader('Content-Type','text/css');ka.onload=function(){eval(ka.response)};ka.send()}function Aa(W){var ka='undefined'!=typeof W?T(W):K(this.id);if(!ka)throw Error('Popin name `'+W+'` not found !');W=document.getElementById(ka.id);var ha=ka.parentScripts,xa=W.getElementsByTagName('script'),la=ka.parentStyles,ta=W.getElementsByTagName('link'),Da=0,Qa=xa.length,La=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');for(La=new RegExp(La+':\\d+|'+
La);Da<Qa;++Da){if('undefined'==typeof xa[Da].src||''==xa[Da].src)continue;let Ea=xa[Da].src.replace(/(https|http|):\/\//,'').replace(La,'');-1<ha.indexOf(Ea)||w(xa[Da].src)}Da=0;for(Qa=ta.length;Da<Qa;++Da)'undefined'!=typeof ta[Da].href&&''!=ta[Da].href&&(ha=ta[Da].href.replace(/(https|http|):\/\//,'').replace(La,''),-1<la.indexOf(ha)||va(ta[Da].href));Q({target:W,type:'loaded.'+ka.id},ka);/gina-popin-is-active/.test(W.className)||(W.className+=' gina-popin-is-active');if(!D.options.useDialogMode||
gina.config.envIsDev)/gina-popin-is-active/.test(l.target.firstChild.className)||(l.target.firstChild.className+=' gina-popin-is-active'),/gina-popin-is-active/.test(l.target.firstChild.className)&&removeListener(gina,l.target,'open.'+ka.id);D.options.useDialogMode&&!W.getAttribute('open')&&('function'===typeof W.showModal?gina.config.envIsDev?W.show():W.showModal():W.setAttribute('open',!0));ka.isOpen=!0;ka.target=W;l.activePopinId=ka.id;if(gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar)try{ginaToolbar.update('el-xhr',
ka.id)}catch(Ea){throw Ea;}triggerEvent(gina,l.target,'open.'+ka.id,ka)}function I(W,ka){var ha='undefined'!=typeof W?T(W):ba();if(!ha&&'undefined'!=typeof W)throw Error('Popin `'+W+'` not found !');if('undefined'!=typeof ha&&null!=ha&&(W=ha.target,ka='undefined'!=typeof ka?ka:!1,null!=W&&/gina-popin-is-active/.test(W.className))){ka||(l.target.firstChild.className=l.target.firstChild.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,''),W.className=W.className.replace(/\sgina-popin-is-active|gina-popin-is-active|gina-popin-is-active\s/,
''),W.innerHTML='');if(z&&(ka=0,W=ha.$forms.length,z.$forms&&0<W))for(;ka<W;++ka)'undefined'!=typeof z.$forms[ha.$forms[ka]]&&z.$forms[ha.$forms[ka]].destroy(),ha.$forms.splice(ka,1);gina.popinIsBinded=!1;removeListener(gina,ha.target,'loaded.'+ha.id)}}function O(W){if('undefined'==typeof W&&/^true$/.test(this.isOpen)){W=this.name;var ka=this}else{ka=T(W)||ba();if(!ka)return;W=ka.name}if(!ka&&'undefined'!=typeof W)throw Error('Popin `'+W+'` not found !');if(ka.isOpen&&'undefined'!=typeof ka&&null!=
ka&&!ka.isRedirecting){var ha=ka.target;'function'===typeof ha.close?ha.close():ha.removeAttribute('open');removeListener(gina,ka.target,'ready.'+l.id);ka.hasForm&&(ka.hasForm=!1);if(null!=ha&&/gina-popin-is-active/.test(ha.className)){I(W);ka.isOpen=!1;gina.popinIsBinded=!1;GINA_ENV_IS_DEV&&gina&&'undefined'!=typeof window.ginaToolbar&&window.ginaToolbar&&ginaToolbar.restore();l.activePopinId=null;if(0<ka.$headers.length){W=0;ha=ka.$headers.length;try{for(;W<ha;++W)document.getElementById(ka.$headers[W].id).remove()}catch(xa){console.warn('Could not remove script `'+
ka.$headers[W].id+'`\n'+xa.stack)}ka.$headers=[]}triggerEvent(gina,ka.target,'close.'+ka.id,ka)}}}this.plugin='popin';var A='init loaded ready open close click destroy success error progress'.split(' ');registerEvents(this.plugin,A);var D={options:{name:void 0,'class':'gina-popin-default',useDialogMode:!0,cancelOnOverlayClick:!1},authorizedEvents:['ready','error'],events:{}},l={plugin:this.plugin,id:'gina-popins-'+P.v4(),on,eventData:{},$popins:{},activePopinId:null,getActivePopin:null,target:document,
isReady:!1,initialized:!1},y={plugin:this.plugin,on,eventData:{},target:document,name:null,load:null,loadContent:null,open:null,isOpen:!1,isRedirecting:!1,close:null,$forms:[],hasForm:!1,$headers:[]},z=null,F=null,u=[],v=function(){var W=document.createElement('div');W.id=l.id;W.setAttribute('id',l.id);W.setAttribute('class','gina-popins');if(!D.options.useDialogMode||gina.config.envIsDev){var ka=document.createElement('div');ka.setAttribute('id','gina-popins-overlay');ka.setAttribute('class','gina-popins-overlay');
W.appendChild(ka)}document.body.appendChild(W);l.target=W;l.on=on;gina.popinContainer=l.id},H=function(W,ka,ha){addListener(gina,W,'click',function(xa){cancelEvent(xa);triggerEvent(gina,ka,ha)})},K=function(W){return'undefined'!=typeof l.$popins[W]?l.$popins[W]:null},T=function(W){var ka=null,ha;for(ha in l.$popins)if(l.$popins[ha].name===W){ka=l.$popins[ha];break}return ka},qa=function(W,ka){ka=getElementsByAttribute('data-gina-popin-name');var ha=null,xa=null,la=null,ta=null,Da=null,Qa=null;Da=
0;for(Qa=ka.length;Da<Qa;++Da){ha=ka[Da];xa=ha.getAttribute('data-gina-popin-name');'A'==ha.tagName&&(la=ha.getAttribute('href'),''==la||'#'==la||/#/.test(la))&&(la=null);la||'undefined'==typeof ha.getAttribute('data-gina-popin-url')||(la=ha.getAttribute('data-gina-popin-url'));if(!la)throw Error('Found `data-gina-popin-name` without `url` !');ha.url||(ha.url=la);ha.popinName||(ha.popinName=xa);if(xa==W.name&&(ta='popin.click.gina-popin-'+l.id+'-'+P.v4()+'-'+xa,ha.id=ta,ha.setAttribute('id',ta),!gina.events[ta])){addListener(gina,
ha,ta,function(Ea){cancelEvent(Ea);var Na=!1;addListener(gina,W.target,'loaded.'+W.id,function(Ja){Ja.preventDefault();Na||(Na=!0,console.debug('active popin should be ',W.id),gina.popin.activePopinId=W.id,Q(Ja,W),W.isOpen||Aa(W.name))});Ea={isSynchrone:!1,withCredentials:!1};Ea=U(W.options,Ea);var Ia=this.getAttribute('data-gina-popin-url')||this.getAttribute('href');if(!Ia)throw Error('Popin `url` not defined, please check value for `data-gina-popin-url`');r(W.name,Ia,Ea)});xa=ha.childNodes;var La=
0;lLen=xa.length;if(0<lLen)for(;La<lLen;++La)'undefined'!=typeof xa[La].tagName&&H(xa[La],ha,ta)}}ta='click';addListener(gina,document,ta,function(Ea){if(null!=Ea.target.getAttribute('disabled')&&'false'!=Ea.target.getAttribute('disabled'))return!1;'undefined'==typeof Ea.target.id&&(Ea.target.setAttribute('id',ta+'.'+P.v4()),Ea.target.id=Ea.target.getAttribute('id'));if(/^popin\.close\./.test(Ea.target.id)){cancelEvent(Ea);var Na=Ea.target.id;triggerEvent(gina,Ea.target,Na,Ea.detail)}/^popin\.click\./.test(Ea.target.id)&&
(cancelEvent(Ea),Na=Ea.target.id,(new RegExp('^popin.click.gina-popin-'+l.id)).test(Na)&&triggerEvent(gina,Ea.target,Na,Ea.detail))});gina.popinIsBinded=!1},Fa={url:'',method:'GET',isSynchrone:!1,withCredentials:!0,headers:{'X-Requested-With':'XMLHttpRequest'}};gina.hasPopinHandler?(l.target=document.getElementById(gina.popinContainer),l.on=on):v();new V(function(W,ka){if(W)throw W;ma=ka});return function(W){l.getPopinById=K;l.getPopinByName=T;l.load=r;l.loadContent=G;l.getActivePopin=ba;l.open=Aa;
l.close=O;addListener(gina,l.target,'init.'+l.id,function(ka){ka=null;if('undefined'==typeof l.$popins['gina-popin-'+l.id+'-'+W.name]){var ha=ka=U({},y);if('object'!=typeof W)throw Error('`options` must be an object');ha.options=U(W,D.options);ha.id='gina-popin-'+l.id+'-'+ha.options.name;if('undefined'==typeof l.$popins[ha.id]){if('string'!=typeof ha.options.name||''==ha.options.name)throw Error('`options.name` can not be left `empty` or `undefined`');if(-1<u.indexOf(ha.options.name))throw Error('`popin '+
ha.options.name+'` already exists !');'undefined'!=typeof ha.options.validator&&(z=ha.options.validator,ha.validateFormById=z.validateFormById);ha.options['class']='gina-popin-container '+ha.options['class'];ha.name=ha.options.name;ha.target=l.target;ha.load=r;ha.loadContent=G;ha.open=Aa;ha.close=O;GINA_ENV_IS_DEV&&(ha.updateToolbar=S);ha.parentScripts=[];ha.parentStyles=[];var xa=gina.config.hostname.replace(/(https|http|):\/\//,'').replace(/:\d+$/,'');xa=new RegExp(xa+':\\d+|'+xa);var la=document.getElementsByTagName('script');
for(let Da=0,Qa=la.length;Da<Qa;Da++)if(la[Da].src&&''!=la[Da].src){var ta=la[Da].src.replace(/(https|http|):\/\//,'').replace(xa,'');ha.parentScripts[Da]=ta}la=document.getElementsByTagName('link');for(let Da=0,Qa=la.length;Da<Qa;Da++)'undefined'!=typeof la[Da].rel&&/stylesheet/i.test(la[Da].rel)&&(ta=la[Da].href.replace(/(https|http|):\/\//,'').replace(xa,''),ha.parentStyles[Da]=ta);l.$popins[ha.id]=ha;if(window.XMLHttpRequest)F=new XMLHttpRequest;else if(window.ActiveXObject)try{F=new ActiveXObject('Msxml2.XMLHTTP')}catch(Da){try{F=
new ActiveXObject('Microsoft.XMLHTTP')}catch(Qa){}}qa(ha)}}l.isReady=!0;gina.hasPopinHandler=!0;gina.popin=U(gina.popin,l);triggerEvent(gina,l.target,'ready.'+l.id,ka)});l.initialized=!0;return l}(N)}});
'function'!==typeof Object.assign&&Object.defineProperty(Object,'assign',{value:function(B,P){if(null===B||void 0===B)throw new TypeError('Cannot convert undefined or null to object');for(var V=Object(B),ma=1;ma<arguments.length;ma++){var U=arguments[ma];if(null!==U&&void 0!==U)for(var N in U)Object.prototype.hasOwnProperty.call(U,N)&&(V[N]=U[N])}return V},writable:!0,configurable:!0});
if('undefined'==typeof JSON.clone){var clone=function(B,P){if(null==B||'object'!=typeof B||B.constructor!=Object&&B.constructor!=Array)return B;if(B.constructor==Date||B.constructor==RegExp||B.constructor==Function||B.constructor==String||B.constructor==Number||B.constructor==Boolean)return new B.constructor(B);P=P||new B.constructor;for(var V=0,ma=Object.getOwnPropertyNames(B).length||0,U=Object.keys(B);V<ma;)P[U[V]]='undefined'==typeof P[U[V]]?clone(B[U[V]],null):P[U[V]],V++;return P};JSON.clone=
clone}if('undefined'==typeof JSON.escape){var escape=function(B){try{return B.replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t')}catch(P){throw P;}};JSON.escape=escape}define('utils/polyfill',function(){});
function Inherits(B,P){return function(V,ma){var U='undefined'==typeof V||'undefined'==typeof ma?"inherits(a, b): neither [ a ] nor [ b ] can't be undefined or null":!1;if(U)throw Error(U);U=function(){return function(){if(this){this.prototype=V.prototype;this.name||(this.name=V.name);this.prototype.name=this.name;for(var N in ma.prototype)this[N]||(this[N]=ma.prototype[N]);ma.apply(this,arguments);V.apply(this,arguments)}}}(V,ma);void 0==V.prototype&&(V.prototype={});void 0==ma.prototype&&(ma.prototype=
{});V.prototype=Object.create(ma.prototype,{});U.prototype=Object.create(V.prototype,{});return U}}'undefined'!==typeof module&&module.exports?module.exports=Inherits():'function'===typeof define&&define.amd&&define('lib/inherits',[],function(){return Inherits()});var readyList=[{name:'gina',ctx:window.gina,fn:window.onGinaLoaded}],readyFired=!1,readyEventHandlersInstalled=!1;
function ready(){if(!readyFired){readyFired=!0;var B=null,P=function(V,ma){if(ma[V])if('gina'==ma[V].name)var U=window.setInterval(function(N,ba){try{if('undefined'==typeof ba&&(ba=window.readyList),ba[N].ctx=window.gina,B=ba[N].fn.call(window,ba[N].ctx,window.require))window.clearInterval(U),++N,P(N,ba)}catch(Q){throw window.clearInterval(U),Q;}},50,V,ma);else window.$||'undefined'==typeof parent.window.$||(window.$=parent.window.$),'undefined'==typeof window.originalContext&&'undefined'!=typeof window.$&&
(window.originalContext=window.$),ma[V].ctx=window.originalContext||$,ma[V].fn.call(window,ma[V].ctx,window.require),++V,P(V,ma);else ma=[]};P(0,readyList)}}function readyStateChange(){'complete'===document.readyState&&gina.ready()}
if('undefined'==typeof window.gina){var gina={_global:{register:function(B){if('undefined'!=typeof B)for(let P in B)window[P]=B[P]},unregister:function(B){if('undefined'==typeof B||!Array.isArray(B))throw Error('`variables` needs to ba an array');for(let P=0,V=B.length;P<V;P++)delete window[B[P]]}},ready:function(B,P){readyFired?setTimeout(function(){B(P)},1):(readyList.push({name:'anonymous',fn:B,ctx:P}),'complete'===document.readyState||!document.attachEvent&&'interactive'===document.readyState?
setTimeout(ready,1):readyEventHandlersInstalled||(document.addEventListener?(document.addEventListener('DOMContentLoaded',ready,!1),window.addEventListener('load',ready,!1)):(document.attachEvent('onreadystatechange',readyStateChange),window.attachEvent('onload',ready)),readyEventHandlersInstalled=!0))}};window.gina=gina}define('core',['require','gina'],function(B){B('gina')(window.gina)});require.config({packages:['gina']});require('vendor/uuid vendor/engine.io core helpers/prototypes helpers/binding helpers/dateFormat gina/link gina/validator gina/popin gina/storage utils/dom utils/events utils/data utils/effects utils/polyfill lib/inherits lib/form-validator lib/collection lib/domain lib/routing'.split(' '));
for(var tags=document.getElementsByTagName('script'),t=0,len=tags.length;t<len;++t)if(/gina.min.js|gina.js/.test(tags[t].getAttribute('src'))){tags[t].onload=function(B){if(window.onGinaLoaded)var P=window.onGinaLoaded;document.addEventListener?document.addEventListener('ginaloaded',function(V){window.gina=V.detail;P(V.detail)}):document.attachEvent&&document.attachEvent('ginaloaded',function(V){window.gina=V.detail;P(V.detail)})}();break};
